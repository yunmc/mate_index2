var yk=Object.defineProperty;var bk=(r,e,n)=>e in r?yk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var dy=(r,e,n)=>(bk(r,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ua(r,e){const n=new Set(r.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Pt=Object.freeze({}),Lo=Object.freeze([]),Ar=()=>{},Tk=()=>!1,tc=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),sf=r=>r.startsWith("onUpdate:"),Ft=Object.assign,fv=(r,e)=>{const n=r.indexOf(e);n>-1&&r.splice(n,1)},Sk=Object.prototype.hasOwnProperty,pt=(r,e)=>Sk.call(r,e),Ve=Array.isArray,Ds=r=>rc(r)==="[object Map]",hS=r=>rc(r)==="[object Set]",xk=r=>rc(r)==="[object RegExp]",Qe=r=>typeof r=="function",Mt=r=>typeof r=="string",Gs=r=>typeof r=="symbol",bt=r=>r!==null&&typeof r=="object",hv=r=>(bt(r)||Qe(r))&&Qe(r.then)&&Qe(r.catch),pS=Object.prototype.toString,rc=r=>pS.call(r),pv=r=>rc(r).slice(8,-1),gS=r=>rc(r)==="[object Object]",gv=r=>Mt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Sl=ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ek=ua("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),zf=r=>{const e=Object.create(null);return n=>e[n]||(e[n]=r(n))},wk=/-(\w)/g,xi=zf(r=>r.replace(wk,(e,n)=>n?n.toUpperCase():"")),Ck=/\B([A-Z])/g,Ga=zf(r=>r.replace(Ck,"-$1").toLowerCase()),Us=zf(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ss=zf(r=>r?`on${Us(r)}`:""),za=(r,e)=>!Object.is(r,e),Es=(r,e)=>{for(let n=0;n<r.length;n++)r[n](e)},mS=(r,e,n,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Ak=r=>{const e=parseFloat(r);return isNaN(e)?r:e},kk=r=>{const e=Mt(r)?Number(r):NaN;return isNaN(e)?r:e};let fy;const Kf=()=>fy||(fy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xf(r){if(Ve(r)){const e={};for(let n=0;n<r.length;n++){const i=r[n],t=Mt(i)?Ok(i):Xf(i);if(t)for(const a in t)e[a]=t[a]}return e}else if(Mt(r)||bt(r))return r}const Dk=/;(?![^(]*\))/g,Pk=/:([^]+)/,Ik=/\/\*[^]*?\*\//g;function Ok(r){const e={};return r.replace(Ik,"").split(Dk).forEach(n=>{if(n){const i=n.split(Pk);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ro(r){let e="";if(Mt(r))e=r;else if(Ve(r))for(let n=0;n<r.length;n++){const i=Ro(r[n]);i&&(e+=i+" ")}else if(bt(r))for(const n in r)r[n]&&(e+=n+" ");return e.trim()}const Lk="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Rk="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Nk="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Fk=ua(Lk),Mk=ua(Rk),Bk=ua(Nk),Uk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jk=ua(Uk);function vS(r){return!!r||r===""}const N8=r=>Mt(r)?r:r==null?"":Ve(r)||bt(r)&&(r.toString===pS||!Qe(r.toString))?JSON.stringify(r,_S,2):String(r),_S=(r,e)=>e&&e.__v_isRef?_S(r,e.value):Ds(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,t],a)=>(n[cg(i,a)+" =>"]=t,n),{})}:hS(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>cg(n))}:Gs(e)?cg(e):bt(e)&&!Ve(e)&&!gS(e)?String(e):e,cg=(r,e="")=>{var n;return Gs(r)?`Symbol(${(n=r.description)!=null?n:e})`:r};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ei(r,...e){console.warn(`[Vue warn] ${r}`,...e)}let _n;class yS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_n,!e&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=_n;try{return _n=this,e()}finally{_n=n}}else Ei("cannot run an inactive effect scope.")}on(){_n=this}off(){_n=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function bS(r){return new yS(r)}function $k(r,e=_n){e&&e.active&&e.effects.push(r)}function TS(){return _n}function Hk(r){_n?_n.cleanups.push(r):Ei("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Ps;class mv{constructor(e,n,i,t){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,$k(this,t)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,la();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Vk(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ca()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=qa,n=Ps;try{return qa=!0,Ps=this,this._runnings++,hy(this),this.fn()}finally{py(this),this._runnings--,Ps=n,qa=e}}stop(){this.active&&(hy(this),py(this),this.onStop&&this.onStop(),this.active=!1)}}function Vk(r){return r.value}function hy(r){r._trackId++,r._depsLength=0}function py(r){if(r.deps.length>r._depsLength){for(let e=r._depsLength;e<r.deps.length;e++)SS(r.deps[e],r);r.deps.length=r._depsLength}}function SS(r,e){const n=r.get(e);n!==void 0&&e._trackId!==n&&(r.delete(e),r.size===0&&r.cleanup())}let qa=!0,rm=0;const xS=[];function la(){xS.push(qa),qa=!1}function ca(){const r=xS.pop();qa=r===void 0?!0:r}function vv(){rm++}function _v(){for(rm--;!rm&&nm.length;)nm.shift()()}function ES(r,e,n){var i;if(e.get(r)!==r._trackId){e.set(r,r._trackId);const t=r.deps[r._depsLength];t!==e?(t&&SS(t,r),r.deps[r._depsLength++]=e):r._depsLength++,(i=r.onTrack)==null||i.call(r,Ft({effect:r},n))}}const nm=[];function wS(r,e,n){var i;vv();for(const t of r.keys()){let a;t._dirtyLevel<e&&(a!=null?a:a=r.get(t)===t._trackId)&&(t._shouldSchedule||(t._shouldSchedule=t._dirtyLevel===0),t._dirtyLevel=e),t._shouldSchedule&&(a!=null?a:a=r.get(t)===t._trackId)&&((i=t.onTrigger)==null||i.call(t,Ft({effect:t},n)),t.trigger(),(!t._runnings||t.allowRecurse)&&t._dirtyLevel!==2&&(t._shouldSchedule=!1,t.scheduler&&nm.push(t.scheduler)))}_v()}const CS=(r,e)=>{const n=new Map;return n.cleanup=r,n.computed=e,n},of=new WeakMap,Is=Symbol("iterate"),im=Symbol("Map key iterate");function Vr(r,e,n){if(qa&&Ps){let i=of.get(r);i||of.set(r,i=new Map);let t=i.get(n);t||i.set(n,t=CS(()=>i.delete(n))),ES(Ps,t,{target:r,type:e,key:n})}}function yi(r,e,n,i,t,a){const s=of.get(r);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&Ve(r)){const c=Number(i);s.forEach((f,h)=>{(h==="length"||!Gs(h)&&h>=c)&&l.push(f)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":Ve(r)?gv(n)&&l.push(s.get("length")):(l.push(s.get(Is)),Ds(r)&&l.push(s.get(im)));break;case"delete":Ve(r)||(l.push(s.get(Is)),Ds(r)&&l.push(s.get(im)));break;case"set":Ds(r)&&l.push(s.get(Is));break}vv();for(const c of l)c&&wS(c,4,{target:r,type:e,key:n,newValue:i,oldValue:t,oldTarget:a});_v()}function qk(r,e){const n=of.get(r);return n&&n.get(e)}const Wk=ua("__proto__,__v_isRef,__isVue"),AS=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Gs)),gy=Gk();function Gk(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...n){const i=nt(this);for(let a=0,s=this.length;a<s;a++)Vr(i,"get",a+"");const t=i[e](...n);return t===-1||t===!1?i[e](...n.map(nt)):t}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...n){la(),vv();const i=nt(this)[e].apply(this,n);return _v(),ca(),i}}),r}function zk(r){Gs(r)||(r=String(r));const e=nt(this);return Vr(e,"has",r),e.hasOwnProperty(r)}class kS{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const t=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(t?a?NS:RS:a?LS:OS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=Ve(e);if(!t){if(s&&pt(gy,n))return Reflect.get(gy,n,i);if(n==="hasOwnProperty")return zk}const l=Reflect.get(e,n,i);return(Gs(n)?AS.has(n):Wk(n))||(t||Vr(e,"get",n),a)?l:Gt(l)?s&&gv(n)?l:l.value:bt(l)?t?Ho(l):nc(l):l}}class DS extends kS{constructor(e=!1){super(!1,e)}set(e,n,i,t){let a=e[n];if(!this._isShallow){const c=js(a);if(!Os(i)&&!js(i)&&(a=nt(a),i=nt(i)),!Ve(e)&&Gt(a)&&!Gt(i))return c?!1:(a.value=i,!0)}const s=Ve(e)&&gv(n)?Number(n)<e.length:pt(e,n),l=Reflect.set(e,n,i,t);return e===nt(t)&&(s?za(i,a)&&yi(e,"set",n,i,a):yi(e,"add",n,i)),l}deleteProperty(e,n){const i=pt(e,n),t=e[n],a=Reflect.deleteProperty(e,n);return a&&i&&yi(e,"delete",n,void 0,t),a}has(e,n){const i=Reflect.has(e,n);return(!Gs(n)||!AS.has(n))&&Vr(e,"has",n),i}ownKeys(e){return Vr(e,"iterate",Ve(e)?"length":Is),Reflect.ownKeys(e)}}class PS extends kS{constructor(e=!1){super(!0,e)}set(e,n){return Ei(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return Ei(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const Kk=new DS,Xk=new PS,Jk=new DS(!0),Yk=new PS(!0),yv=r=>r,Jf=r=>Reflect.getPrototypeOf(r);function _d(r,e,n=!1,i=!1){r=r.__v_raw;const t=nt(r),a=nt(e);n||(za(e,a)&&Vr(t,"get",e),Vr(t,"get",a));const{has:s}=Jf(t),l=i?yv:n?bv:Ll;if(s.call(t,e))return l(r.get(e));if(s.call(t,a))return l(r.get(a));r!==t&&r.get(e)}function yd(r,e=!1){const n=this.__v_raw,i=nt(n),t=nt(r);return e||(za(r,t)&&Vr(i,"has",r),Vr(i,"has",t)),r===t?n.has(r):n.has(r)||n.has(t)}function bd(r,e=!1){return r=r.__v_raw,!e&&Vr(nt(r),"iterate",Is),Reflect.get(r,"size",r)}function my(r){r=nt(r);const e=nt(this);return Jf(e).has.call(e,r)||(e.add(r),yi(e,"add",r,r)),this}function vy(r,e){e=nt(e);const n=nt(this),{has:i,get:t}=Jf(n);let a=i.call(n,r);a?IS(n,i,r):(r=nt(r),a=i.call(n,r));const s=t.call(n,r);return n.set(r,e),a?za(e,s)&&yi(n,"set",r,e,s):yi(n,"add",r,e),this}function _y(r){const e=nt(this),{has:n,get:i}=Jf(e);let t=n.call(e,r);t?IS(e,n,r):(r=nt(r),t=n.call(e,r));const a=i?i.call(e,r):void 0,s=e.delete(r);return t&&yi(e,"delete",r,void 0,a),s}function yy(){const r=nt(this),e=r.size!==0,n=Ds(r)?new Map(r):new Set(r),i=r.clear();return e&&yi(r,"clear",void 0,void 0,n),i}function Td(r,e){return function(i,t){const a=this,s=a.__v_raw,l=nt(s),c=e?yv:r?bv:Ll;return!r&&Vr(l,"iterate",Is),s.forEach((f,h)=>i.call(t,c(f),c(h),a))}}function Sd(r,e,n){return function(...i){const t=this.__v_raw,a=nt(t),s=Ds(a),l=r==="entries"||r===Symbol.iterator&&s,c=r==="keys"&&s,f=t[r](...i),h=n?yv:e?bv:Ll;return!e&&Vr(a,"iterate",c?im:Is),{next(){const{value:g,done:v}=f.next();return v?{value:g,done:v}:{value:l?[h(g[0]),h(g[1])]:h(g),done:v}},[Symbol.iterator](){return this}}}}function Ia(r){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";Ei(`${Us(r)} operation ${n}failed: target is readonly.`,nt(this))}return r==="delete"?!1:r==="clear"?void 0:this}}function Qk(){const r={get(a){return _d(this,a)},get size(){return bd(this)},has:yd,add:my,set:vy,delete:_y,clear:yy,forEach:Td(!1,!1)},e={get(a){return _d(this,a,!1,!0)},get size(){return bd(this)},has:yd,add:my,set:vy,delete:_y,clear:yy,forEach:Td(!1,!0)},n={get(a){return _d(this,a,!0)},get size(){return bd(this,!0)},has(a){return yd.call(this,a,!0)},add:Ia("add"),set:Ia("set"),delete:Ia("delete"),clear:Ia("clear"),forEach:Td(!0,!1)},i={get(a){return _d(this,a,!0,!0)},get size(){return bd(this,!0)},has(a){return yd.call(this,a,!0)},add:Ia("add"),set:Ia("set"),delete:Ia("delete"),clear:Ia("clear"),forEach:Td(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=Sd(a,!1,!1),n[a]=Sd(a,!0,!1),e[a]=Sd(a,!1,!0),i[a]=Sd(a,!0,!0)}),[r,n,e,i]}const[Zk,eD,tD,rD]=Qk();function Yf(r,e){const n=e?r?rD:tD:r?eD:Zk;return(i,t,a)=>t==="__v_isReactive"?!r:t==="__v_isReadonly"?r:t==="__v_raw"?i:Reflect.get(pt(n,t)&&t in i?n:i,t,a)}const nD={get:Yf(!1,!1)},iD={get:Yf(!1,!0)},aD={get:Yf(!0,!1)},sD={get:Yf(!0,!0)};function IS(r,e,n){const i=nt(n);if(i!==n&&e.call(r,i)){const t=pv(r);Ei(`Reactive ${t} contains both the raw and reactive versions of the same object${t==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const OS=new WeakMap,LS=new WeakMap,RS=new WeakMap,NS=new WeakMap;function oD(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uD(r){return r.__v_skip||!Object.isExtensible(r)?0:oD(pv(r))}function nc(r){return js(r)?r:Qf(r,!1,Kk,nD,OS)}function FS(r){return Qf(r,!1,Jk,iD,LS)}function Ho(r){return Qf(r,!0,Xk,aD,RS)}function gi(r){return Qf(r,!0,Yk,sD,NS)}function Qf(r,e,n,i,t){if(!bt(r))return Ei(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(e&&r.__v_isReactive))return r;const a=t.get(r);if(a)return a;const s=uD(r);if(s===0)return r;const l=new Proxy(r,s===2?i:n);return t.set(r,l),l}function Yi(r){return js(r)?Yi(r.__v_raw):!!(r&&r.__v_isReactive)}function js(r){return!!(r&&r.__v_isReadonly)}function Os(r){return!!(r&&r.__v_isShallow)}function uf(r){return r?!!r.__v_raw:!1}function nt(r){const e=r&&r.__v_raw;return e?nt(e):r}function Cs(r){return Object.isExtensible(r)&&mS(r,"__v_skip",!0),r}const Ll=r=>bt(r)?nc(r):r,bv=r=>bt(r)?Ho(r):r,lD="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class MS{constructor(e,n,i,t){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mv(()=>e(this._value),()=>Hd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=i}get value(){const e=nt(this);return(!e._cacheable||e.effect.dirty)&&za(e._value,e._value=e.effect.run())&&Hd(e,4),BS(e),e.effect._dirtyLevel>=2&&(this._warnRecursive&&Ei(lD,`

getter: `,this.getter),Hd(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function cD(r,e,n=!1){let i,t;const a=Qe(r);a?(i=r,t=()=>{Ei("Write operation failed: computed value is readonly")}):(i=r.get,t=r.set);const s=new MS(i,t,a||!t,n);return e&&!n&&(s.effect.onTrack=e.onTrack,s.effect.onTrigger=e.onTrigger),s}function BS(r){var e;qa&&Ps&&(r=nt(r),ES(Ps,(e=r.dep)!=null?e:r.dep=CS(()=>r.dep=void 0,r instanceof MS?r:void 0),{target:r,type:"get",key:"value"}))}function Hd(r,e=4,n){r=nt(r);const i=r.dep;i&&wS(i,e,{target:r,type:"set",key:"value",newValue:n})}function Gt(r){return!!(r&&r.__v_isRef===!0)}function Fn(r){return US(r,!1)}function Vd(r){return US(r,!0)}function US(r,e){return Gt(r)?r:new dD(r,e)}class dD{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:nt(e),this._value=n?e:Ll(e)}get value(){return BS(this),this._value}set value(e){const n=this.__v_isShallow||Os(e)||js(e);e=n?e:nt(e),za(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ll(e),Hd(this,4,e))}}function vr(r){return Gt(r)?r.value:r}const fD={get:(r,e,n)=>vr(Reflect.get(r,e,n)),set:(r,e,n,i)=>{const t=r[e];return Gt(t)&&!Gt(n)?(t.value=n,!0):Reflect.set(r,e,n,i)}};function jS(r){return Yi(r)?r:new Proxy(r,fD)}function by(r){uf(r)||Ei("toRefs() expects a reactive object but received a plain one.");const e=Ve(r)?new Array(r.length):{};for(const n in r)e[n]=$S(r,n);return e}class hD{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qk(nt(this._object),this._key)}}class pD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function dg(r,e,n){return Gt(r)?r:Qe(r)?new pD(r):bt(r)&&arguments.length>1?$S(r,e,n):Fn(r)}function $S(r,e,n){const i=r[e];return Gt(i)?i:new hD(r,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ls=[];function qd(r){Ls.push(r)}function Wd(){Ls.pop()}function ve(r,...e){la();const n=Ls.length?Ls[Ls.length-1].component:null,i=n&&n.appContext.config.warnHandler,t=gD();if(i)Qi(i,n,11,[r+e.map(a=>{var s,l;return(l=(s=a.toString)==null?void 0:s.call(a))!=null?l:JSON.stringify(a)}).join(""),n&&n.proxy,t.map(({vnode:a})=>`at <${uh(n,a.type)}>`).join(`
`),t]);else{const a=[`[Vue warn]: ${r}`,...e];t.length&&a.push(`
`,...mD(t)),console.warn(...a)}ca()}function gD(){let r=Ls[Ls.length-1];if(!r)return[];const e=[];for(;r;){const n=e[0];n&&n.vnode===r?n.recurseCount++:e.push({vnode:r,recurseCount:0});const i=r.component&&r.component.parent;r=i&&i.vnode}return e}function mD(r){const e=[];return r.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...vD(n))}),e}function vD({vnode:r,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=r.component?r.component.parent==null:!1,t=` at <${uh(r.component,r.type,i)}`,a=">"+n;return r.props?[t,..._D(r.props),a]:[t+a]}function _D(r){const e=[],n=Object.keys(r);return n.slice(0,3).forEach(i=>{e.push(...HS(i,r[i]))}),n.length>3&&e.push(" ..."),e}function HS(r,e,n){return Mt(e)?(e=JSON.stringify(e),n?e:[`${r}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${r}=${e}`]:Gt(e)?(e=HS(r,nt(e.value),!0),n?e:[`${r}=Ref<`,e,">"]):Qe(e)?[`${r}=fn${e.name?`<${e.name}>`:""}`]:(e=nt(e),n?e:[`${r}=`,e])}function yD(r,e){r!==void 0&&(typeof r!="number"?ve(`${e} is not a valid number - got ${JSON.stringify(r)}.`):isNaN(r)&&ve(`${e} is NaN - the duration expression might be incorrect.`))}const Tv={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Qi(r,e,n,i){try{return i?r(...i):r()}catch(t){ic(t,e,n)}}function On(r,e,n,i){if(Qe(r)){const t=Qi(r,e,n,i);return t&&hv(t)&&t.catch(a=>{ic(a,e,n)}),t}if(Ve(r)){const t=[];for(let a=0;a<r.length;a++)t.push(On(r[a],e,n,i));return t}else ve(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof r}`)}function ic(r,e,n,i=!0){const t=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,l=Tv[n];for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](r,s,l)===!1)return}a=a.parent}const c=e.appContext.config.errorHandler;if(c){la(),Qi(c,null,10,[r,s,l]),ca();return}}bD(r,n,t,i)}function bD(r,e,n,i=!0){{const t=Tv[e];if(n&&qd(n),ve(`Unhandled error${t?` during execution of ${t}`:""}`),n&&Wd(),i)throw r;console.error(r)}}let Rl=!1,am=!1;const Ur=[];let hi=0;const No=[];let Gi=null,Ma=0;const VS=Promise.resolve();let Sv=null;const TD=100;function lf(r){const e=Sv||VS;return r?e.then(this?r.bind(this):r):e}function SD(r){let e=hi+1,n=Ur.length;for(;e<n;){const i=e+n>>>1,t=Ur[i],a=Nl(t);a<r||a===r&&t.pre?e=i+1:n=i}return e}function Zf(r){(!Ur.length||!Ur.includes(r,Rl&&r.allowRecurse?hi+1:hi))&&(r.id==null?Ur.push(r):Ur.splice(SD(r.id),0,r),qS())}function qS(){!Rl&&!am&&(am=!0,Sv=VS.then(zS))}function xD(r){const e=Ur.indexOf(r);e>hi&&Ur.splice(e,1)}function WS(r){Ve(r)?No.push(...r):(!Gi||!Gi.includes(r,r.allowRecurse?Ma+1:Ma))&&No.push(r),qS()}function Ty(r,e,n=Rl?hi+1:0){for(e=e||new Map;n<Ur.length;n++){const i=Ur[n];if(i&&i.pre){if(r&&i.id!==r.uid||xv(e,i))continue;Ur.splice(n,1),n--,i()}}}function GS(r){if(No.length){const e=[...new Set(No)].sort((n,i)=>Nl(n)-Nl(i));if(No.length=0,Gi){Gi.push(...e);return}for(Gi=e,r=r||new Map,Ma=0;Ma<Gi.length;Ma++)xv(r,Gi[Ma])||Gi[Ma]();Gi=null,Ma=0}}const Nl=r=>r.id==null?1/0:r.id,ED=(r,e)=>{const n=Nl(r)-Nl(e);if(n===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return n};function zS(r){am=!1,Rl=!0,r=r||new Map,Ur.sort(ED);const e=n=>xv(r,n);try{for(hi=0;hi<Ur.length;hi++){const n=Ur[hi];if(n&&n.active!==!1){if(e(n))continue;Qi(n,null,14)}}}finally{hi=0,Ur.length=0,GS(r),Rl=!1,Sv=null,(Ur.length||No.length)&&zS(r)}}function xv(r,e){if(!r.has(e))r.set(e,1);else{const n=r.get(e);if(n>TD){const i=e.ownerInstance,t=i&&Bl(i.type);return ic(`Maximum recursive updates exceeded${t?` in component <${t}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else r.set(e,n+1)}}let Wa=!1;const ko=new Set;Kf().__VUE_HMR_RUNTIME__={createRecord:fg(KS),rerender:fg(AD),reload:fg(kD)};const $s=new Map;function wD(r){const e=r.type.__hmrId;let n=$s.get(e);n||(KS(e,r.type),n=$s.get(e)),n.instances.add(r)}function CD(r){$s.get(r.type.__hmrId).instances.delete(r)}function KS(r,e){return $s.has(r)?!1:($s.set(r,{initialDef:xl(e),instances:new Set}),!0)}function xl(r){return Px(r)?r.__vccOpts:r}function AD(r,e){const n=$s.get(r);!n||(n.initialDef.render=e,[...n.instances].forEach(i=>{e&&(i.render=e,xl(i.type).render=e),i.renderCache=[],Wa=!0,i.effect.dirty=!0,i.update(),Wa=!1}))}function kD(r,e){const n=$s.get(r);if(!n)return;e=xl(e),Sy(n.initialDef,e);const i=[...n.instances];for(const t of i){const a=xl(t.type);ko.has(a)||(a!==n.initialDef&&Sy(a,e),ko.add(a)),t.appContext.propsCache.delete(t.type),t.appContext.emitsCache.delete(t.type),t.appContext.optionsCache.delete(t.type),t.ceReload?(ko.add(a),t.ceReload(e.styles),ko.delete(a)):t.parent?(t.parent.effect.dirty=!0,Zf(t.parent.update)):t.appContext.reload?t.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}WS(()=>{for(const t of i)ko.delete(xl(t.type))})}function Sy(r,e){Ft(r,e);for(const n in r)n!=="__file"&&!(n in e)&&delete r[n]}function fg(r){return(e,n)=>{try{return r(e,n)}catch(i){console.error(i),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let pi,fl=[],sm=!1;function ac(r,...e){pi?pi.emit(r,...e):sm||fl.push({event:r,args:e})}function XS(r,e){var n,i;pi=r,pi?(pi.enabled=!0,fl.forEach(({event:t,args:a})=>pi.emit(t,...a)),fl=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{XS(a,e)}),setTimeout(()=>{pi||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,sm=!0,fl=[])},3e3)):(sm=!0,fl=[])}function DD(r,e){ac("app:init",r,e,{Fragment:sn,Text:lc,Comment:hr,Static:El})}function PD(r){ac("app:unmount",r)}const om=Ev("component:added"),JS=Ev("component:updated"),ID=Ev("component:removed"),OD=r=>{pi&&typeof pi.cleanupBuffer=="function"&&!pi.cleanupBuffer(r)&&ID(r)};/*! #__NO_SIDE_EFFECTS__ */function Ev(r){return e=>{ac(r,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const LD=YS("perf:start"),RD=YS("perf:end");function YS(r){return(e,n,i)=>{ac(r,e.appContext.app,e.uid,e,n,i)}}function ND(r,e,n){ac("component:emit",r.appContext.app,r,e,n)}function FD(r,e,...n){if(r.isUnmounted)return;const i=r.vnode.props||Pt;{const{emitsOptions:h,propsOptions:[g]}=r;if(h)if(!(e in h))(!g||!(Ss(e)in g))&&ve(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Ss(e)}" prop.`);else{const v=h[e];Qe(v)&&(v(...n)||ve(`Invalid event arguments: event validation failed for event "${e}".`))}}let t=n;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in i){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:g,trim:v}=i[h]||Pt;v&&(t=n.map(T=>Mt(T)?T.trim():T)),g&&(t=n.map(Ak))}ND(r,e,t);{const h=e.toLowerCase();h!==e&&i[Ss(h)]&&ve(`Event "${h}" is emitted in component ${uh(r,r.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ga(e)}" instead of "${e}".`)}let l,c=i[l=Ss(e)]||i[l=Ss(xi(e))];!c&&a&&(c=i[l=Ss(Ga(e))]),c&&On(c,r,6,t);const f=i[l+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,On(f,r,6,t)}}function QS(r,e,n=!1){const i=e.emitsCache,t=i.get(r);if(t!==void 0)return t;const a=r.emits;let s={},l=!1;if(!Qe(r)){const c=f=>{const h=QS(f,e,!0);h&&(l=!0,Ft(s,h))};!n&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}return!a&&!l?(bt(r)&&i.set(r,null),null):(Ve(a)?a.forEach(c=>s[c]=null):Ft(s,a),bt(r)&&i.set(r,s),s)}function eh(r,e){return!r||!tc(e)?!1:(e=e.slice(2).replace(/Once$/,""),pt(r,e[0].toLowerCase()+e.slice(1))||pt(r,Ga(e))||pt(r,e))}let Qt=null,th=null;function cf(r){const e=Qt;return Qt=r,th=r&&r.type.__scopeId||null,e}function F8(r){th=r}function M8(){th=null}function MD(r,e=Qt,n){if(!e||r._n)return r;const i=(...t)=>{i._d&&By(-1);const a=cf(e);let s;try{s=r(...t)}finally{cf(a),i._d&&By(1)}return JS(e),s};return i._n=!0,i._c=!0,i._d=!0,i}let um=!1;function df(){um=!0}function hg(r){const{type:e,vnode:n,proxy:i,withProxy:t,propsOptions:[a],slots:s,attrs:l,emit:c,render:f,renderCache:h,props:g,data:v,setupState:T,ctx:w,inheritAttrs:D}=r,P=cf(r);let R,M;um=!1;try{if(n.shapeFlag&4){const J=t||i,te=T.__isScriptSetup?new Proxy(J,{get($,H,X){return ve(`Property '${String(H)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get($,H,X)}}):J;R=Vn(f.call(te,J,h,gi(g),T,v,w)),M=l}else{const J=e;l===g&&df(),R=Vn(J.length>1?J(gi(g),{get attrs(){return df(),gi(l)},slots:s,emit:c}):J(gi(g),null)),M=e.props?l:BD(l)}}catch(J){wl.length=0,ic(J,r,1),R=$r(hr)}let U=R,j;if(R.patchFlag>0&&R.patchFlag&2048&&([U,j]=ZS(R)),M&&D!==!1){const J=Object.keys(M),{shapeFlag:te}=U;if(J.length){if(te&7)a&&J.some(sf)&&(M=UD(M,a)),U=Yn(U,M,!1,!0);else if(!um&&U.type!==hr){const $=Object.keys(l),H=[],X=[];for(let K=0,ee=$.length;K<ee;K++){const Z=$[K];tc(Z)?sf(Z)||H.push(Z[2].toLowerCase()+Z.slice(3)):X.push(Z)}X.length&&ve(`Extraneous non-props attributes (${X.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),H.length&&ve(`Extraneous non-emits event listeners (${H.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(xy(U)||ve("Runtime directive used on component with non-element root node. The directives will not function as intended."),U=Yn(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(xy(U)||ve("Component inside <Transition> renders non-element root node that cannot be animated."),U.transition=n.transition),j?j(U):R=U,cf(P),R}const ZS=r=>{const e=r.children,n=r.dynamicChildren,i=wv(e,!1);if(i){if(i.patchFlag>0&&i.patchFlag&2048)return ZS(i)}else return[r,void 0];const t=e.indexOf(i),a=n?n.indexOf(i):-1,s=l=>{e[t]=l,n&&(a>-1?n[a]=l:l.patchFlag>0&&(r.dynamicChildren=[...n,l]))};return[Vn(i),s]};function wv(r,e=!0){let n;for(let i=0;i<r.length;i++){const t=r[i];if(Hs(t)){if(t.type!==hr||t.children==="v-if"){if(n)return;if(n=t,e&&n.patchFlag>0&&n.patchFlag&2048)return wv(n.children)}}else return}return n}const BD=r=>{let e;for(const n in r)(n==="class"||n==="style"||tc(n))&&((e||(e={}))[n]=r[n]);return e},UD=(r,e)=>{const n={};for(const i in r)(!sf(i)||!(i.slice(9)in e))&&(n[i]=r[i]);return n},xy=r=>r.shapeFlag&7||r.type===hr;function jD(r,e,n){const{props:i,children:t,component:a}=r,{props:s,children:l,patchFlag:c}=e,f=a.emitsOptions;if((t||l)&&Wa||e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?Ey(i,s,f):!!s;if(c&8){const h=e.dynamicProps;for(let g=0;g<h.length;g++){const v=h[g];if(s[v]!==i[v]&&!eh(f,v))return!0}}}else return(t||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?Ey(i,s,f):!0:!!s;return!1}function Ey(r,e,n){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let t=0;t<i.length;t++){const a=i[t];if(e[a]!==r[a]&&!eh(n,a))return!0}return!1}function $D({vnode:r,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=n,e=e.parent;else break}}const ff="components";function B8(r,e){return tx(ff,r,!0,e)||r}const ex=Symbol.for("v-ndc");function U8(r){return Mt(r)?tx(ff,r,!1)||r:r||ex}function tx(r,e,n=!0,i=!1){const t=Qt||or;if(t){const a=t.type;if(r===ff){const l=Bl(a,!1);if(l&&(l===e||l===xi(e)||l===Us(xi(e))))return a}const s=wy(t[r]||a[r],e)||wy(t.appContext[r],e);if(!s&&i)return a;if(n&&!s){const l=r===ff?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";ve(`Failed to resolve ${r.slice(0,-1)}: ${e}${l}`)}return s}else ve(`resolve${Us(r.slice(0,-1))} can only be used in render() or setup().`)}function wy(r,e){return r&&(r[e]||r[xi(e)]||r[Us(xi(e))])}const rx=r=>r.__isSuspense;function HD(r,e){e&&e.pendingBranch?Ve(r)?e.effects.push(...r):e.effects.push(r):WS(r)}const VD=Symbol.for("v-scx"),qD=()=>{{const r=ln(VD);return r||ve("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),r}};function Cv(r,e){return Av(r,null,e)}const xd={};function Gn(r,e,n){return Qe(e)||ve("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Av(r,e,n)}function Av(r,e,{immediate:n,deep:i,flush:t,once:a,onTrack:s,onTrigger:l}=Pt){if(e&&a){const $=e;e=(...H)=>{$(...H),te()}}i!==void 0&&typeof i=="number"&&ve('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),e||(n!==void 0&&ve('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&ve('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),a!==void 0&&ve('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const c=$=>{ve("Invalid watch source: ",$,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},f=or,h=$=>i===!0?$:As($,i===!1?1:void 0);let g,v=!1,T=!1;if(Gt(r)?(g=()=>r.value,v=Os(r)):Yi(r)?(g=()=>h(r),v=!0):Ve(r)?(T=!0,v=r.some($=>Yi($)||Os($)),g=()=>r.map($=>{if(Gt($))return $.value;if(Yi($))return h($);if(Qe($))return Qi($,f,2);c($)})):Qe(r)?e?g=()=>Qi(r,f,2):g=()=>(w&&w(),On(r,f,3,[D])):(g=Ar,c(r)),e&&i){const $=g;g=()=>As($())}let w,D=$=>{w=j.onStop=()=>{Qi($,f,4),w=j.onStop=void 0}},P;if(sh)if(D=Ar,e?n&&On(e,f,3,[g(),T?[]:void 0,D]):g(),t==="sync"){const $=qD();P=$.__watcherHandles||($.__watcherHandles=[])}else return Ar;let R=T?new Array(r.length).fill(xd):xd;const M=()=>{if(!(!j.active||!j.dirty))if(e){const $=j.run();(i||v||(T?$.some((H,X)=>za(H,R[X])):za($,R)))&&(w&&w(),On(e,f,3,[$,R===xd?void 0:T&&R[0]===xd?[]:R,D]),R=$)}else j.run()};M.allowRecurse=!!e;let U;t==="sync"?U=M:t==="post"?U=()=>wr(M,f&&f.suspense):(M.pre=!0,f&&(M.id=f.uid),U=()=>Zf(M));const j=new mv(g,Ar,U),J=TS(),te=()=>{j.stop(),J&&fv(J.effects,j)};return j.onTrack=s,j.onTrigger=l,e?n?M():R=j.run():t==="post"?wr(j.run.bind(j),f&&f.suspense):j.run(),P&&P.push(te),te}function WD(r,e,n){const i=this.proxy,t=Mt(r)?r.includes(".")?nx(i,r):()=>i[r]:r.bind(i,i);let a;Qe(e)?a=e:(a=e.handler,n=e);const s=cc(this),l=Av(t,a.bind(i),n);return s(),l}function nx(r,e){const n=e.split(".");return()=>{let i=r;for(let t=0;t<n.length&&i;t++)i=i[n[t]];return i}}function As(r,e=1/0,n){if(e<=0||!bt(r)||r.__v_skip||(n=n||new Set,n.has(r)))return r;if(n.add(r),e--,Gt(r))As(r.value,e,n);else if(Ve(r))for(let i=0;i<r.length;i++)As(r[i],e,n);else if(hS(r)||Ds(r))r.forEach(i=>{As(i,e,n)});else if(gS(r))for(const i in r)As(r[i],e,n);return r}function ix(r){Ek(r)&&ve("Do not use built-in directive ids as custom directive id: "+r)}function j8(r,e){if(Qt===null)return ve("withDirectives can only be used inside render functions."),r;const n=oh(Qt)||Qt.proxy,i=r.dirs||(r.dirs=[]);for(let t=0;t<e.length;t++){let[a,s,l,c=Pt]=e[t];a&&(Qe(a)&&(a={mounted:a,updated:a}),a.deep&&As(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:l,modifiers:c}))}return r}function _s(r,e,n,i){const t=r.dirs,a=e&&e.dirs;for(let s=0;s<t.length;s++){const l=t[s];a&&(l.oldValue=a[s].value);let c=l.dir[i];c&&(la(),On(c,n,8,[r.el,l,r,e]),ca())}}const Ba=Symbol("_leaveCb"),Ed=Symbol("_enterCb");function ax(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return uc(()=>{r.isMounted=!0}),nh(()=>{r.isUnmounting=!0}),r}const Dn=[Function,Array],sx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dn,onEnter:Dn,onAfterEnter:Dn,onEnterCancelled:Dn,onBeforeLeave:Dn,onLeave:Dn,onAfterLeave:Dn,onLeaveCancelled:Dn,onBeforeAppear:Dn,onAppear:Dn,onAfterAppear:Dn,onAppearCancelled:Dn},GD={name:"BaseTransition",props:sx,setup(r,{slots:e}){const n=zs(),i=ax();return()=>{const t=e.default&&kv(e.default(),!0);if(!t||!t.length)return;let a=t[0];if(t.length>1){let v=!1;for(const T of t)if(T.type!==hr){if(v){ve("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=T,v=!0}}const s=nt(r),{mode:l}=s;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&ve(`invalid <transition> mode: ${l}`),i.isLeaving)return pg(a);const c=Cy(a);if(!c)return pg(a);const f=Fl(c,s,i,n);Vo(c,f);const h=n.subTree,g=h&&Cy(h);if(g&&g.type!==hr&&!Va(c,g)){const v=Fl(g,s,i,n);if(Vo(g,v),l==="out-in"&&c.type!==hr)return i.isLeaving=!0,v.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},pg(a);l==="in-out"&&c.type!==hr&&(v.delayLeave=(T,w,D)=>{const P=ox(i,g);P[String(g.key)]=g,T[Ba]=()=>{w(),T[Ba]=void 0,delete f.delayedLeave},f.delayedLeave=D})}return a}}},zD=GD;function ox(r,e){const{leavingVNodes:n}=r;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Fl(r,e,n,i){const{appear:t,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:g,onLeave:v,onAfterLeave:T,onLeaveCancelled:w,onBeforeAppear:D,onAppear:P,onAfterAppear:R,onAppearCancelled:M}=e,U=String(r.key),j=ox(n,r),J=(H,X)=>{H&&On(H,i,9,X)},te=(H,X)=>{const K=X[1];J(H,X),Ve(H)?H.every(ee=>ee.length<=1)&&K():H.length<=1&&K()},$={mode:a,persisted:s,beforeEnter(H){let X=l;if(!n.isMounted)if(t)X=D||l;else return;H[Ba]&&H[Ba](!0);const K=j[U];K&&Va(r,K)&&K.el[Ba]&&K.el[Ba](),J(X,[H])},enter(H){let X=c,K=f,ee=h;if(!n.isMounted)if(t)X=P||c,K=R||f,ee=M||h;else return;let Z=!1;const le=H[Ed]=Be=>{Z||(Z=!0,Be?J(ee,[H]):J(K,[H]),$.delayedLeave&&$.delayedLeave(),H[Ed]=void 0)};X?te(X,[H,le]):le()},leave(H,X){const K=String(r.key);if(H[Ed]&&H[Ed](!0),n.isUnmounting)return X();J(g,[H]);let ee=!1;const Z=H[Ba]=le=>{ee||(ee=!0,X(),le?J(w,[H]):J(T,[H]),H[Ba]=void 0,j[K]===r&&delete j[K])};j[K]=r,v?te(v,[H,Z]):Z()},clone(H){return Fl(H,e,n,i)}};return $}function pg(r){if(oc(r))return r=Yn(r),r.children=null,r}function Cy(r){if(!oc(r))return r;if(r.component)return r.component.subTree;const{shapeFlag:e,children:n}=r;if(n){if(e&16)return n[0];if(e&32&&Qe(n.default))return n.default()}}function Vo(r,e){r.shapeFlag&6&&r.component?Vo(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function kv(r,e=!1,n){let i=[],t=0;for(let a=0;a<r.length;a++){let s=r[a];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===sn?(s.patchFlag&128&&t++,i=i.concat(kv(s.children,e,l))):(e||s.type!==hr)&&i.push(l!=null?Yn(s,{key:l}):s)}if(t>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function sc(r,e){return Qe(r)?(()=>Ft({name:r.name},e,{setup:r}))():r}const Fo=r=>!!r.type.__asyncLoader,oc=r=>r.type.__isKeepAlive,KD={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:e}){const n=zs(),i=n.ctx;if(!i.renderer)return()=>{const M=e.default&&e.default();return M&&M.length===1?M[0]:M};const t=new Map,a=new Set;let s=null;n.__v_cache=t;const l=n.suspense,{renderer:{p:c,m:f,um:h,o:{createElement:g}}}=i,v=g("div");i.activate=(M,U,j,J,te)=>{const $=M.component;f(M,U,j,0,l),c($.vnode,M,U,j,$,l,J,M.slotScopeIds,te),wr(()=>{$.isDeactivated=!1,$.a&&Es($.a);const H=M.props&&M.props.onVnodeMounted;H&&In(H,$.parent,M)},l),om($)},i.deactivate=M=>{const U=M.component;f(M,v,null,1,l),wr(()=>{U.da&&Es(U.da);const j=M.props&&M.props.onVnodeUnmounted;j&&In(j,U.parent,M),U.isDeactivated=!0},l),om(U)};function T(M){gg(M),h(M,n,l,!0)}function w(M){t.forEach((U,j)=>{const J=Bl(U.type);J&&(!M||!M(J))&&D(j)})}function D(M){const U=t.get(M);!s||!Va(U,s)?T(U):s&&gg(s),t.delete(M),a.delete(M)}Gn(()=>[r.include,r.exclude],([M,U])=>{M&&w(j=>hl(M,j)),U&&w(j=>!hl(U,j))},{flush:"post",deep:!0});let P=null;const R=()=>{P!=null&&t.set(P,mg(n.subTree))};return uc(R),Dv(R),nh(()=>{t.forEach(M=>{const{subTree:U,suspense:j}=n,J=mg(U);if(M.type===J.type&&M.key===J.key){gg(J);const te=J.component.da;te&&wr(te,j);return}T(M)})}),()=>{if(P=null,!e.default)return null;const M=e.default(),U=M[0];if(M.length>1)return ve("KeepAlive should contain exactly one component child."),s=null,M;if(!Hs(U)||!(U.shapeFlag&4)&&!(U.shapeFlag&128))return s=null,U;let j=mg(U);const J=j.type,te=Bl(Fo(j)?j.type.__asyncResolved||{}:J),{include:$,exclude:H,max:X}=r;if($&&(!te||!hl($,te))||H&&te&&hl(H,te))return s=j,U;const K=j.key==null?J:j.key,ee=t.get(K);return j.el&&(j=Yn(j),U.shapeFlag&128&&(U.ssContent=j)),P=K,ee?(j.el=ee.el,j.component=ee.component,j.transition&&Vo(j,j.transition),j.shapeFlag|=512,a.delete(K),a.add(K)):(a.add(K),X&&a.size>parseInt(X,10)&&D(a.values().next().value)),j.shapeFlag|=256,s=j,rx(U.type)?U:j}}},$8=KD;function hl(r,e){return Ve(r)?r.some(n=>hl(n,e)):Mt(r)?r.split(",").includes(e):xk(r)?r.test(e):!1}function XD(r,e){ux(r,"a",e)}function JD(r,e){ux(r,"da",e)}function ux(r,e,n=or){const i=r.__wdc||(r.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return r()});if(rh(e,i,n),n){let t=n.parent;for(;t&&t.parent;)oc(t.parent.vnode)&&YD(i,e,n,t),t=t.parent}}function YD(r,e,n,i){const t=rh(e,r,i,!0);ih(()=>{fv(i[e],t)},n)}function gg(r){r.shapeFlag&=-257,r.shapeFlag&=-513}function mg(r){return r.shapeFlag&128?r.ssContent:r}function rh(r,e,n=or,i=!1){if(n){const t=n[r]||(n[r]=[]),a=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;la();const l=cc(n),c=On(e,n,r,s);return l(),ca(),c});return i?t.unshift(a):t.push(a),a}else{const t=Ss(Tv[r].replace(/ hook$/,""));ve(`${t} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const da=r=>(e,n=or)=>(!sh||r==="sp")&&rh(r,(...i)=>e(...i),n),QD=da("bm"),uc=da("m"),ZD=da("bu"),Dv=da("u"),nh=da("bum"),ih=da("um"),eP=da("sp"),tP=da("rtg"),rP=da("rtc");function nP(r,e=or){rh("ec",r,e)}function H8(r,e,n,i){let t;const a=n&&n[i];if(Ve(r)||Mt(r)){t=new Array(r.length);for(let s=0,l=r.length;s<l;s++)t[s]=e(r[s],s,void 0,a&&a[s])}else if(typeof r=="number"){Number.isInteger(r)||ve(`The v-for range expect an integer value but got ${r}.`),t=new Array(r);for(let s=0;s<r;s++)t[s]=e(s+1,s,void 0,a&&a[s])}else if(bt(r))if(r[Symbol.iterator])t=Array.from(r,(s,l)=>e(s,l,void 0,a&&a[l]));else{const s=Object.keys(r);t=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const f=s[l];t[l]=e(r[f],f,l,a&&a[l])}}else t=[];return n&&(n[i]=t),t}function V8(r,e,n={},i,t){if(Qt.isCE||Qt.parent&&Fo(Qt.parent)&&Qt.parent.isCE)return e!=="default"&&(n.name=e),$r("slot",n,i&&i());let a=r[e];a&&a.length>1&&(ve("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),a=()=>[]),a&&a._c&&(a._d=!1),ah();const s=a&&lx(a(n)),l=Lv(sn,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&r._===1?64:-2);return!t&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function lx(r){return r.some(e=>Hs(e)?!(e.type===hr||e.type===sn&&!lx(e.children)):!0)?r:null}const lm=r=>r?kx(r)?oh(r)||r.proxy:lm(r.parent):null,Rs=Ft(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>gi(r.props),$attrs:r=>gi(r.attrs),$slots:r=>gi(r.slots),$refs:r=>gi(r.refs),$parent:r=>lm(r.parent),$root:r=>lm(r.root),$emit:r=>r.emit,$options:r=>Iv(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,Zf(r.update)}),$nextTick:r=>r.n||(r.n=lf.bind(r.proxy)),$watch:r=>WD.bind(r)}),Pv=r=>r==="_"||r==="$",vg=(r,e)=>r!==Pt&&!r.__isScriptSetup&&pt(r,e),cx={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:t,props:a,accessCache:s,type:l,appContext:c}=r;if(e==="__isVue")return!0;let f;if(e[0]!=="$"){const T=s[e];if(T!==void 0)switch(T){case 1:return i[e];case 2:return t[e];case 4:return n[e];case 3:return a[e]}else{if(vg(i,e))return s[e]=1,i[e];if(t!==Pt&&pt(t,e))return s[e]=2,t[e];if((f=r.propsOptions[0])&&pt(f,e))return s[e]=3,a[e];if(n!==Pt&&pt(n,e))return s[e]=4,n[e];cm&&(s[e]=0)}}const h=Rs[e];let g,v;if(h)return e==="$attrs"?(Vr(r.attrs,"get",""),df()):e==="$slots"&&Vr(r,"get",e),h(r);if((g=l.__cssModules)&&(g=g[e]))return g;if(n!==Pt&&pt(n,e))return s[e]=4,n[e];if(v=c.config.globalProperties,pt(v,e))return v[e];Qt&&(!Mt(e)||e.indexOf("__v")!==0)&&(t!==Pt&&Pv(e[0])&&pt(t,e)?ve(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):r===Qt&&ve(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:r},e,n){const{data:i,setupState:t,ctx:a}=r;return vg(t,e)?(t[e]=n,!0):t.__isScriptSetup&&pt(t,e)?(ve(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):i!==Pt&&pt(i,e)?(i[e]=n,!0):pt(r.props,e)?(ve(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in r?(ve(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in r.appContext.config.globalProperties?Object.defineProperty(a,e,{enumerable:!0,configurable:!0,value:n}):a[e]=n,!0)},has({_:{data:r,setupState:e,accessCache:n,ctx:i,appContext:t,propsOptions:a}},s){let l;return!!n[s]||r!==Pt&&pt(r,s)||vg(e,s)||(l=a[0])&&pt(l,s)||pt(i,s)||pt(Rs,s)||pt(t.config.globalProperties,s)},defineProperty(r,e,n){return n.get!=null?r._.accessCache[e]=0:pt(n,"value")&&this.set(r,e,n.value,null),Reflect.defineProperty(r,e,n)}};cx.ownKeys=r=>(ve("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(r));function iP(r){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>r}),Object.keys(Rs).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>Rs[n](r),set:Ar})}),e}function aP(r){const{ctx:e,propsOptions:[n]}=r;n&&Object.keys(n).forEach(i=>{Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.props[i],set:Ar})})}function sP(r){const{ctx:e,setupState:n}=r;Object.keys(nt(n)).forEach(i=>{if(!n.__isScriptSetup){if(Pv(i[0])){ve(`setup() return property ${JSON.stringify(i)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n[i],set:Ar})}})}function Ay(r){return Ve(r)?r.reduce((e,n)=>(e[n]=null,e),{}):r}function oP(){const r=Object.create(null);return(e,n)=>{r[n]?ve(`${e} property "${n}" is already defined in ${r[n]}.`):r[n]=e}}let cm=!0;function uP(r){const e=Iv(r),n=r.proxy,i=r.ctx;cm=!1,e.beforeCreate&&ky(e.beforeCreate,r,"bc");const{data:t,computed:a,methods:s,watch:l,provide:c,inject:f,created:h,beforeMount:g,mounted:v,beforeUpdate:T,updated:w,activated:D,deactivated:P,beforeDestroy:R,beforeUnmount:M,destroyed:U,unmounted:j,render:J,renderTracked:te,renderTriggered:$,errorCaptured:H,serverPrefetch:X,expose:K,inheritAttrs:ee,components:Z,directives:le,filters:Be}=e,je=oP();{const[me]=r.propsOptions;if(me)for(const we in me)je("Props",we)}if(f&&lP(f,i,je),s)for(const me in s){const we=s[me];Qe(we)?(Object.defineProperty(i,me,{value:we.bind(n),configurable:!0,enumerable:!0,writable:!0}),je("Methods",me)):ve(`Method "${me}" has type "${typeof we}" in the component definition. Did you reference the function correctly?`)}if(t){Qe(t)||ve("The data option must be a function. Plain object usage is no longer supported.");const me=t.call(n,n);if(hv(me)&&ve("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!bt(me))ve("data() should return an object.");else{r.data=nc(me);for(const we in me)je("Data",we),Pv(we[0])||Object.defineProperty(i,we,{configurable:!0,enumerable:!0,get:()=>me[we],set:Ar})}}if(cm=!0,a)for(const me in a){const we=a[me],_t=Qe(we)?we.bind(n,n):Qe(we.get)?we.get.bind(n,n):Ar;_t===Ar&&ve(`Computed property "${me}" has no getter.`);const dt=!Qe(we)&&Qe(we.set)?we.set.bind(n):()=>{ve(`Write operation failed: computed property "${me}" is readonly.`)},Dr=jr({get:_t,set:dt});Object.defineProperty(i,me,{enumerable:!0,configurable:!0,get:()=>Dr.value,set:Lt=>Dr.value=Lt}),je("Computed",me)}if(l)for(const me in l)dx(l[me],i,n,me);if(c){const me=Qe(c)?c.call(n):c;Reflect.ownKeys(me).forEach(we=>{Gd(we,me[we])})}h&&ky(h,r,"c");function De(me,we){Ve(we)?we.forEach(_t=>me(_t.bind(n))):we&&me(we.bind(n))}if(De(QD,g),De(uc,v),De(ZD,T),De(Dv,w),De(XD,D),De(JD,P),De(nP,H),De(rP,te),De(tP,$),De(nh,M),De(ih,j),De(eP,X),Ve(K))if(K.length){const me=r.exposed||(r.exposed={});K.forEach(we=>{Object.defineProperty(me,we,{get:()=>n[we],set:_t=>n[we]=_t})})}else r.exposed||(r.exposed={});J&&r.render===Ar&&(r.render=J),ee!=null&&(r.inheritAttrs=ee),Z&&(r.components=Z),le&&(r.directives=le)}function lP(r,e,n=Ar){Ve(r)&&(r=dm(r));for(const i in r){const t=r[i];let a;bt(t)?"default"in t?a=ln(t.from||i,t.default,!0):a=ln(t.from||i):a=ln(t),Gt(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[i]=a,n("Inject",i)}}function ky(r,e,n){On(Ve(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,n)}function dx(r,e,n,i){const t=i.includes(".")?nx(n,i):()=>n[i];if(Mt(r)){const a=e[r];Qe(a)?Gn(t,a):ve(`Invalid watch handler specified by key "${r}"`,a)}else if(Qe(r))Gn(t,r.bind(n));else if(bt(r))if(Ve(r))r.forEach(a=>dx(a,e,n,i));else{const a=Qe(r.handler)?r.handler.bind(n):e[r.handler];Qe(a)?Gn(t,a,r):ve(`Invalid watch handler specified by key "${r.handler}"`,a)}else ve(`Invalid watch option: "${i}"`,r)}function Iv(r){const e=r.type,{mixins:n,extends:i}=e,{mixins:t,optionsCache:a,config:{optionMergeStrategies:s}}=r.appContext,l=a.get(e);let c;return l?c=l:!t.length&&!n&&!i?c=e:(c={},t.length&&t.forEach(f=>hf(c,f,s,!0)),hf(c,e,s)),bt(e)&&a.set(e,c),c}function hf(r,e,n,i=!1){const{mixins:t,extends:a}=e;a&&hf(r,a,n,!0),t&&t.forEach(s=>hf(r,s,n,!0));for(const s in e)if(i&&s==="expose")ve('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=cP[s]||n&&n[s];r[s]=l?l(r[s],e[s]):e[s]}return r}const cP={data:Dy,props:Py,emits:Py,methods:pl,computed:pl,beforeCreate:Gr,created:Gr,beforeMount:Gr,mounted:Gr,beforeUpdate:Gr,updated:Gr,beforeDestroy:Gr,beforeUnmount:Gr,destroyed:Gr,unmounted:Gr,activated:Gr,deactivated:Gr,errorCaptured:Gr,serverPrefetch:Gr,components:pl,directives:pl,watch:fP,provide:Dy,inject:dP};function Dy(r,e){return e?r?function(){return Ft(Qe(r)?r.call(this,this):r,Qe(e)?e.call(this,this):e)}:e:r}function dP(r,e){return pl(dm(r),dm(e))}function dm(r){if(Ve(r)){const e={};for(let n=0;n<r.length;n++)e[r[n]]=r[n];return e}return r}function Gr(r,e){return r?[...new Set([].concat(r,e))]:e}function pl(r,e){return r?Ft(Object.create(null),r,e):e}function Py(r,e){return r?Ve(r)&&Ve(e)?[...new Set([...r,...e])]:Ft(Object.create(null),Ay(r),Ay(e!=null?e:{})):e}function fP(r,e){if(!r)return e;if(!e)return r;const n=Ft(Object.create(null),r);for(const i in e)n[i]=Gr(r[i],e[i]);return n}function fx(){return{app:null,config:{isNativeTag:Tk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hP=0;function pP(r,e){return function(i,t=null){Qe(i)||(i=Ft({},i)),t!=null&&!bt(t)&&(ve("root props passed to app.mount() must be an object."),t=null);const a=fx(),s=new WeakSet;let l=!1;const c=a.app={_uid:hP++,_component:i,_props:t,_container:null,_context:a,_instance:null,version:$y,get config(){return a.config},set config(f){ve("app.config cannot be replaced. Modify individual options instead.")},use(f,...h){return s.has(f)?ve("Plugin has already been applied to target app."):f&&Qe(f.install)?(s.add(f),f.install(c,...h)):Qe(f)?(s.add(f),f(c,...h)):ve('A plugin must either be a function or an object with an "install" function.'),c},mixin(f){return a.mixins.includes(f)?ve("Mixin has already been applied to target app"+(f.name?`: ${f.name}`:"")):a.mixins.push(f),c},component(f,h){return vm(f,a.config),h?(a.components[f]&&ve(`Component "${f}" has already been registered in target app.`),a.components[f]=h,c):a.components[f]},directive(f,h){return ix(f),h?(a.directives[f]&&ve(`Directive "${f}" has already been registered in target app.`),a.directives[f]=h,c):a.directives[f]},mount(f,h,g){if(l)ve("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{f.__vue_app__&&ve("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const v=$r(i,t);return v.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),a.reload=()=>{r(Yn(v),f,g)},h&&e?e(v,f):r(v,f,g),l=!0,c._container=f,f.__vue_app__=c,c._instance=v.component,DD(c,$y),oh(v.component)||v.component.proxy}},unmount(){l?(r(null,c._container),c._instance=null,PD(c),delete c._container.__vue_app__):ve("Cannot unmount an app that is not mounted.")},provide(f,h){return f in a.provides&&ve(`App already provides property with key "${String(f)}". It will be overwritten with the new value.`),a.provides[f]=h,c},runWithContext(f){const h=Mo;Mo=c;try{return f()}finally{Mo=h}}};return c}}let Mo=null;function Gd(r,e){if(!or)ve("provide() can only be used inside setup().");else{let n=or.provides;const i=or.parent&&or.parent.provides;i===n&&(n=or.provides=Object.create(i)),n[r]=e}}function ln(r,e,n=!1){const i=or||Qt;if(i||Mo){const t=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Mo._context.provides;if(t&&r in t)return t[r];if(arguments.length>1)return n&&Qe(e)?e.call(i&&i.proxy):e;ve(`injection "${String(r)}" not found.`)}else ve("inject() can only be used inside setup() or functional components.")}function gP(){return!!(or||Qt||Mo)}const hx={},px=()=>Object.create(hx),gx=r=>Object.getPrototypeOf(r)===hx;function mP(r,e,n,i=!1){const t={},a=px();r.propsDefaults=Object.create(null),mx(r,e,t,a);for(const s in r.propsOptions[0])s in t||(t[s]=void 0);_x(e||{},t,r),n?r.props=i?t:FS(t):r.type.props?r.props=t:r.props=a,r.attrs=a}function vP(r){for(;r;){if(r.type.__hmrId)return!0;r=r.parent}}function _P(r,e,n,i){const{props:t,attrs:a,vnode:{patchFlag:s}}=r,l=nt(t),[c]=r.propsOptions;let f=!1;if(!vP(r)&&(i||s>0)&&!(s&16)){if(s&8){const h=r.vnode.dynamicProps;for(let g=0;g<h.length;g++){let v=h[g];if(eh(r.emitsOptions,v))continue;const T=e[v];if(c)if(pt(a,v))T!==a[v]&&(a[v]=T,f=!0);else{const w=xi(v);t[w]=fm(c,l,w,T,r,!1)}else T!==a[v]&&(a[v]=T,f=!0)}}}else{mx(r,e,t,a)&&(f=!0);let h;for(const g in l)(!e||!pt(e,g)&&((h=Ga(g))===g||!pt(e,h)))&&(c?n&&(n[g]!==void 0||n[h]!==void 0)&&(t[g]=fm(c,l,g,void 0,r,!0)):delete t[g]);if(a!==l)for(const g in a)(!e||!pt(e,g)&&!0)&&(delete a[g],f=!0)}f&&yi(r.attrs,"set",""),_x(e||{},t,r)}function mx(r,e,n,i){const[t,a]=r.propsOptions;let s=!1,l;if(e)for(let c in e){if(Sl(c))continue;const f=e[c];let h;t&&pt(t,h=xi(c))?!a||!a.includes(h)?n[h]=f:(l||(l={}))[h]=f:eh(r.emitsOptions,c)||(!(c in i)||f!==i[c])&&(i[c]=f,s=!0)}if(a){const c=nt(n),f=l||Pt;for(let h=0;h<a.length;h++){const g=a[h];n[g]=fm(t,c,g,f[g],r,!pt(f,g))}}return s}function fm(r,e,n,i,t,a){const s=r[n];if(s!=null){const l=pt(s,"default");if(l&&i===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&Qe(c)){const{propsDefaults:f}=t;if(n in f)i=f[n];else{const h=cc(t);i=f[n]=c.call(null,e),h()}}else i=c}s[0]&&(a&&!l?i=!1:s[1]&&(i===""||i===Ga(n))&&(i=!0))}return i}function vx(r,e,n=!1){const i=e.propsCache,t=i.get(r);if(t)return t;const a=r.props,s={},l=[];let c=!1;if(!Qe(r)){const h=g=>{c=!0;const[v,T]=vx(g,e,!0);Ft(s,v),T&&l.push(...T)};!n&&e.mixins.length&&e.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}if(!a&&!c)return bt(r)&&i.set(r,Lo),Lo;if(Ve(a))for(let h=0;h<a.length;h++){Mt(a[h])||ve("props must be strings when using array syntax.",a[h]);const g=xi(a[h]);Iy(g)&&(s[g]=Pt)}else if(a){bt(a)||ve("invalid props options",a);for(const h in a){const g=xi(h);if(Iy(g)){const v=a[h],T=s[g]=Ve(v)||Qe(v)?{type:v}:Ft({},v);if(T){const w=Ly(Boolean,T.type),D=Ly(String,T.type);T[0]=w>-1,T[1]=D<0||w<D,(w>-1||pt(T,"default"))&&l.push(g)}}}}const f=[s,l];return bt(r)&&i.set(r,f),f}function Iy(r){return r[0]!=="$"&&!Sl(r)?!0:(ve(`Invalid prop name: "${r}" is a reserved property.`),!1)}function hm(r){return r===null?"null":typeof r=="function"?r.name||"":typeof r=="object"&&r.constructor&&r.constructor.name||""}function Oy(r,e){return hm(r)===hm(e)}function Ly(r,e){return Ve(e)?e.findIndex(n=>Oy(n,r)):Qe(e)&&Oy(e,r)?0:-1}function _x(r,e,n){const i=nt(e),t=n.propsOptions[0];for(const a in t){let s=t[a];s!=null&&yP(a,i[a],s,gi(i),!pt(r,a)&&!pt(r,Ga(a)))}}function yP(r,e,n,i,t){const{type:a,required:s,validator:l,skipCheck:c}=n;if(s&&t){ve('Missing required prop: "'+r+'"');return}if(!(e==null&&!s)){if(a!=null&&a!==!0&&!c){let f=!1;const h=Ve(a)?a:[a],g=[];for(let v=0;v<h.length&&!f;v++){const{valid:T,expectedType:w}=TP(e,h[v]);g.push(w||""),f=T}if(!f){ve(SP(r,e,g));return}}l&&!l(e,i)&&ve('Invalid prop: custom validator check failed for prop "'+r+'".')}}const bP=ua("String,Number,Boolean,Function,Symbol,BigInt");function TP(r,e){let n;const i=hm(e);if(bP(i)){const t=typeof r;n=t===i.toLowerCase(),!n&&t==="object"&&(n=r instanceof e)}else i==="Object"?n=bt(r):i==="Array"?n=Ve(r):i==="null"?n=r===null:n=r instanceof e;return{valid:n,expectedType:i}}function SP(r,e,n){if(n.length===0)return`Prop type [] for prop "${r}" won't match anything. Did you mean to use type Array instead?`;let i=`Invalid prop: type check failed for prop "${r}". Expected ${n.map(Us).join(" | ")}`;const t=n[0],a=pv(e),s=Ry(e,t),l=Ry(e,a);return n.length===1&&Ny(t)&&!xP(t,a)&&(i+=` with value ${s}`),i+=`, got ${a} `,Ny(a)&&(i+=`with value ${l}.`),i}function Ry(r,e){return e==="String"?`"${r}"`:e==="Number"?`${Number(r)}`:`${r}`}function Ny(r){return["string","number","boolean"].some(n=>r.toLowerCase()===n)}function xP(...r){return r.some(e=>e.toLowerCase()==="boolean")}const yx=r=>r[0]==="_"||r==="$stable",Ov=r=>Ve(r)?r.map(Vn):[Vn(r)],EP=(r,e,n)=>{if(e._n)return e;const i=MD((...t)=>(or&&(!n||n.root===or.root)&&ve(`Slot "${r}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Ov(e(...t))),n);return i._c=!1,i},bx=(r,e,n)=>{const i=r._ctx;for(const t in r){if(yx(t))continue;const a=r[t];if(Qe(a))e[t]=EP(t,a,i);else if(a!=null){ve(`Non-function value encountered for slot "${t}". Prefer function slots for better performance.`);const s=Ov(a);e[t]=()=>s}}},Tx=(r,e)=>{oc(r.vnode)||ve("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Ov(e);r.slots.default=()=>n},wP=(r,e)=>{const n=r.slots=px();if(r.vnode.shapeFlag&32){const i=e._;i?(Ft(n,e),mS(n,"_",i,!0)):bx(e,n)}else e&&Tx(r,e)},CP=(r,e,n)=>{const{vnode:i,slots:t}=r;let a=!0,s=Pt;if(i.shapeFlag&32){const l=e._;l?Wa?(Ft(t,e),yi(r,"set","$slots")):n&&l===1?a=!1:(Ft(t,e),!n&&l===1&&delete t._):(a=!e.$stable,bx(e,t)),s=e}else e&&(Tx(r,e),s={default:1});if(a)for(const l in t)!yx(l)&&s[l]==null&&delete t[l]};function pm(r,e,n,i,t=!1){if(Ve(r)){r.forEach((v,T)=>pm(v,e&&(Ve(e)?e[T]:e),n,i,t));return}if(Fo(i)&&!t)return;const a=i.shapeFlag&4?oh(i.component)||i.component.proxy:i.el,s=t?null:a,{i:l,r:c}=r;if(!l){ve("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const f=e&&e.r,h=l.refs===Pt?l.refs={}:l.refs,g=l.setupState;if(f!=null&&f!==c&&(Mt(f)?(h[f]=null,pt(g,f)&&(g[f]=null)):Gt(f)&&(f.value=null)),Qe(c))Qi(c,l,12,[s,h]);else{const v=Mt(c),T=Gt(c);if(v||T){const w=()=>{if(r.f){const D=v?pt(g,c)?g[c]:h[c]:c.value;t?Ve(D)&&fv(D,a):Ve(D)?D.includes(a)||D.push(a):v?(h[c]=[a],pt(g,c)&&(g[c]=h[c])):(c.value=[a],r.k&&(h[r.k]=c.value))}else v?(h[c]=s,pt(g,c)&&(g[c]=s)):T?(c.value=s,r.k&&(h[r.k]=s)):ve("Invalid template ref type:",c,`(${typeof c})`)};s?(w.id=-1,wr(w,n)):w()}else ve("Invalid template ref type:",c,`(${typeof c})`)}}let Zu,Ha;function Vi(r,e){r.appContext.config.performance&&pf()&&Ha.mark(`vue-${e}-${r.uid}`),LD(r,e,pf()?Ha.now():Date.now())}function qi(r,e){if(r.appContext.config.performance&&pf()){const n=`vue-${e}-${r.uid}`,i=n+":end";Ha.mark(i),Ha.measure(`<${uh(r,r.type)}> ${e}`,n,i),Ha.clearMarks(n),Ha.clearMarks(i)}RD(r,e,pf()?Ha.now():Date.now())}function pf(){return Zu!==void 0||(typeof window<"u"&&window.performance?(Zu=!0,Ha=window.performance):Zu=!1),Zu}function AP(){const r=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(r.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),Kf().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),r.length){const e=r.length>1;console.warn(`Feature flag${e?"s":""} ${r.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const wr=HD;function kP(r){return DP(r)}function DP(r,e){AP();const n=Kf();n.__VUE__=!0,XS(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:i,remove:t,patchProp:a,createElement:s,createText:l,createComment:c,setText:f,setElementText:h,parentNode:g,nextSibling:v,setScopeId:T=Ar,insertStaticContent:w}=r,D=(F,W,re,ie=null,fe=null,ue=null,Ce=void 0,de=null,Se=Wa?!1:!!W.dynamicChildren)=>{if(F===W)return;F&&!Va(F,W)&&(ie=be(F),jt(F,fe,ue,!0),F=null),W.patchFlag===-2&&(Se=!1,W.dynamicChildren=null);const{type:he,ref:Ie,shapeFlag:Le}=W;switch(he){case lc:P(F,W,re,ie);break;case hr:R(F,W,re,ie);break;case El:F==null?M(W,re,ie,Ce):U(F,W,re,Ce);break;case sn:le(F,W,re,ie,fe,ue,Ce,de,Se);break;default:Le&1?te(F,W,re,ie,fe,ue,Ce,de,Se):Le&6?Be(F,W,re,ie,fe,ue,Ce,de,Se):Le&64||Le&128?he.process(F,W,re,ie,fe,ue,Ce,de,Se,et):ve("Invalid VNode type:",he,`(${typeof he})`)}Ie!=null&&fe&&pm(Ie,F&&F.ref,ue,W||F,!W)},P=(F,W,re,ie)=>{if(F==null)i(W.el=l(W.children),re,ie);else{const fe=W.el=F.el;W.children!==F.children&&f(fe,W.children)}},R=(F,W,re,ie)=>{F==null?i(W.el=c(W.children||""),re,ie):W.el=F.el},M=(F,W,re,ie)=>{[F.el,F.anchor]=w(F.children,W,re,ie,F.el,F.anchor)},U=(F,W,re,ie)=>{if(W.children!==F.children){const fe=v(F.anchor);J(F),[W.el,W.anchor]=w(W.children,re,fe,ie)}else W.el=F.el,W.anchor=F.anchor},j=({el:F,anchor:W},re,ie)=>{let fe;for(;F&&F!==W;)fe=v(F),i(F,re,ie),F=fe;i(W,re,ie)},J=({el:F,anchor:W})=>{let re;for(;F&&F!==W;)re=v(F),t(F),F=re;t(W)},te=(F,W,re,ie,fe,ue,Ce,de,Se)=>{W.type==="svg"?Ce="svg":W.type==="math"&&(Ce="mathml"),F==null?$(W,re,ie,fe,ue,Ce,de,Se):K(F,W,fe,ue,Ce,de,Se)},$=(F,W,re,ie,fe,ue,Ce,de)=>{let Se,he;const{props:Ie,shapeFlag:Le,transition:Ue,dirs:Xe}=F;if(Se=F.el=s(F.type,ue,Ie&&Ie.is,Ie),Le&8?h(Se,F.children):Le&16&&X(F.children,Se,null,ie,fe,_g(F,ue),Ce,de),Xe&&_s(F,null,ie,"created"),H(Se,F,F.scopeId,Ce,ie),Ie){for(const ut in Ie)ut!=="value"&&!Sl(ut)&&a(Se,ut,null,Ie[ut],ue,F.children,ie,fe,ne);"value"in Ie&&a(Se,"value",null,Ie.value,ue),(he=Ie.onVnodeBeforeMount)&&In(he,ie,F)}Object.defineProperty(Se,"__vnode",{value:F,enumerable:!1}),Object.defineProperty(Se,"__vueParentComponent",{value:ie,enumerable:!1}),Xe&&_s(F,null,ie,"beforeMount");const at=PP(fe,Ue);at&&Ue.beforeEnter(Se),i(Se,W,re),((he=Ie&&Ie.onVnodeMounted)||at||Xe)&&wr(()=>{he&&In(he,ie,F),at&&Ue.enter(Se),Xe&&_s(F,null,ie,"mounted")},fe)},H=(F,W,re,ie,fe)=>{if(re&&T(F,re),ie)for(let ue=0;ue<ie.length;ue++)T(F,ie[ue]);if(fe){let ue=fe.subTree;if(ue.patchFlag>0&&ue.patchFlag&2048&&(ue=wv(ue.children)||ue),W===ue){const Ce=fe.vnode;H(F,Ce,Ce.scopeId,Ce.slotScopeIds,fe.parent)}}},X=(F,W,re,ie,fe,ue,Ce,de,Se=0)=>{for(let he=Se;he<F.length;he++){const Ie=F[he]=de?Ua(F[he]):Vn(F[he]);D(null,Ie,W,re,ie,fe,ue,Ce,de)}},K=(F,W,re,ie,fe,ue,Ce)=>{const de=W.el=F.el;let{patchFlag:Se,dynamicChildren:he,dirs:Ie}=W;Se|=F.patchFlag&16;const Le=F.props||Pt,Ue=W.props||Pt;let Xe;if(re&&ys(re,!1),(Xe=Ue.onVnodeBeforeUpdate)&&In(Xe,re,W,F),Ie&&_s(W,F,re,"beforeUpdate"),re&&ys(re,!0),Wa&&(Se=0,Ce=!1,he=null),he?(ee(F.dynamicChildren,he,de,re,ie,_g(W,fe),ue),gf(F,W)):Ce||_t(F,W,de,null,re,ie,_g(W,fe),ue,!1),Se>0){if(Se&16)Z(de,W,Le,Ue,re,ie,fe);else if(Se&2&&Le.class!==Ue.class&&a(de,"class",null,Ue.class,fe),Se&4&&a(de,"style",Le.style,Ue.style,fe),Se&8){const at=W.dynamicProps;for(let ut=0;ut<at.length;ut++){const Et=at[ut],Ge=Le[Et],Ir=Ue[Et];(Ir!==Ge||Et==="value")&&a(de,Et,Ge,Ir,fe,F.children,re,ie,ne)}}Se&1&&F.children!==W.children&&h(de,W.children)}else!Ce&&he==null&&Z(de,W,Le,Ue,re,ie,fe);((Xe=Ue.onVnodeUpdated)||Ie)&&wr(()=>{Xe&&In(Xe,re,W,F),Ie&&_s(W,F,re,"updated")},ie)},ee=(F,W,re,ie,fe,ue,Ce)=>{for(let de=0;de<W.length;de++){const Se=F[de],he=W[de],Ie=Se.el&&(Se.type===sn||!Va(Se,he)||Se.shapeFlag&70)?g(Se.el):re;D(Se,he,Ie,null,ie,fe,ue,Ce,!0)}},Z=(F,W,re,ie,fe,ue,Ce)=>{if(re!==ie){if(re!==Pt)for(const de in re)!Sl(de)&&!(de in ie)&&a(F,de,re[de],null,Ce,W.children,fe,ue,ne);for(const de in ie){if(Sl(de))continue;const Se=ie[de],he=re[de];Se!==he&&de!=="value"&&a(F,de,he,Se,Ce,W.children,fe,ue,ne)}"value"in ie&&a(F,"value",re.value,ie.value,Ce)}},le=(F,W,re,ie,fe,ue,Ce,de,Se)=>{const he=W.el=F?F.el:l(""),Ie=W.anchor=F?F.anchor:l("");let{patchFlag:Le,dynamicChildren:Ue,slotScopeIds:Xe}=W;(Wa||Le&2048)&&(Le=0,Se=!1,Ue=null),Xe&&(de=de?de.concat(Xe):Xe),F==null?(i(he,re,ie),i(Ie,re,ie),X(W.children||[],re,Ie,fe,ue,Ce,de,Se)):Le>0&&Le&64&&Ue&&F.dynamicChildren?(ee(F.dynamicChildren,Ue,re,fe,ue,Ce,de),gf(F,W)):_t(F,W,re,Ie,fe,ue,Ce,de,Se)},Be=(F,W,re,ie,fe,ue,Ce,de,Se)=>{W.slotScopeIds=de,F==null?W.shapeFlag&512?fe.ctx.activate(W,re,ie,Ce,Se):je(W,re,ie,fe,ue,Ce,Se):De(F,W,Se)},je=(F,W,re,ie,fe,ue,Ce)=>{const de=F.component=qP(F,ie,fe);if(de.type.__hmrId&&wD(de),qd(F),Vi(de,"mount"),oc(F)&&(de.ctx.renderer=et),Vi(de,"init"),GP(de),qi(de,"init"),de.asyncDep){if(fe&&fe.registerDep(de,me),!F.el){const Se=de.subTree=$r(hr);R(null,Se,W,re)}}else me(de,F,W,re,fe,ue,Ce);Wd(),qi(de,"mount")},De=(F,W,re)=>{const ie=W.component=F.component;if(jD(F,W,re))if(ie.asyncDep&&!ie.asyncResolved){qd(W),we(ie,W,re),Wd();return}else ie.next=W,xD(ie.update),ie.effect.dirty=!0,ie.update();else W.el=F.el,ie.vnode=W},me=(F,W,re,ie,fe,ue,Ce)=>{const de=()=>{if(F.isMounted){let{next:Ie,bu:Le,u:Ue,parent:Xe,vnode:at}=F;{const Mn=Sx(F);if(Mn){Ie&&(Ie.el=at.el,we(F,Ie,Ce)),Mn.asyncDep.then(()=>{F.isUnmounted||de()});return}}let ut=Ie,Et;qd(Ie||F.vnode),ys(F,!1),Ie?(Ie.el=at.el,we(F,Ie,Ce)):Ie=at,Le&&Es(Le),(Et=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&In(Et,Xe,Ie,at),ys(F,!0),Vi(F,"render");const Ge=hg(F);qi(F,"render");const Ir=F.subTree;F.subTree=Ge,Vi(F,"patch"),D(Ir,Ge,g(Ir.el),be(Ir),F,fe,ue),qi(F,"patch"),Ie.el=Ge.el,ut===null&&$D(F,Ge.el),Ue&&wr(Ue,fe),(Et=Ie.props&&Ie.props.onVnodeUpdated)&&wr(()=>In(Et,Xe,Ie,at),fe),JS(F),Wd()}else{let Ie;const{el:Le,props:Ue}=W,{bm:Xe,m:at,parent:ut}=F,Et=Fo(W);if(ys(F,!1),Xe&&Es(Xe),!Et&&(Ie=Ue&&Ue.onVnodeBeforeMount)&&In(Ie,ut,W),ys(F,!0),Le&&it){const Ge=()=>{Vi(F,"render"),F.subTree=hg(F),qi(F,"render"),Vi(F,"hydrate"),it(Le,F.subTree,F,fe,null),qi(F,"hydrate")};Et?W.type.__asyncLoader().then(()=>!F.isUnmounted&&Ge()):Ge()}else{Vi(F,"render");const Ge=F.subTree=hg(F);qi(F,"render"),Vi(F,"patch"),D(null,Ge,re,ie,F,fe,ue),qi(F,"patch"),W.el=Ge.el}if(at&&wr(at,fe),!Et&&(Ie=Ue&&Ue.onVnodeMounted)){const Ge=W;wr(()=>In(Ie,ut,Ge),fe)}(W.shapeFlag&256||ut&&Fo(ut.vnode)&&ut.vnode.shapeFlag&256)&&F.a&&wr(F.a,fe),F.isMounted=!0,om(F),W=re=ie=null}},Se=F.effect=new mv(de,Ar,()=>Zf(he),F.scope),he=F.update=()=>{Se.dirty&&Se.run()};he.id=F.uid,ys(F,!0),Se.onTrack=F.rtc?Ie=>Es(F.rtc,Ie):void 0,Se.onTrigger=F.rtg?Ie=>Es(F.rtg,Ie):void 0,he.ownerInstance=F,he()},we=(F,W,re)=>{W.component=F;const ie=F.vnode.props;F.vnode=W,F.next=null,_P(F,W.props,ie,re),CP(F,W.children,re),la(),Ty(F),ca()},_t=(F,W,re,ie,fe,ue,Ce,de,Se=!1)=>{const he=F&&F.children,Ie=F?F.shapeFlag:0,Le=W.children,{patchFlag:Ue,shapeFlag:Xe}=W;if(Ue>0){if(Ue&128){Dr(he,Le,re,ie,fe,ue,Ce,de,Se);return}else if(Ue&256){dt(he,Le,re,ie,fe,ue,Ce,de,Se);return}}Xe&8?(Ie&16&&ne(he,fe,ue),Le!==he&&h(re,Le)):Ie&16?Xe&16?Dr(he,Le,re,ie,fe,ue,Ce,de,Se):ne(he,fe,ue,!0):(Ie&8&&h(re,""),Xe&16&&X(Le,re,ie,fe,ue,Ce,de,Se))},dt=(F,W,re,ie,fe,ue,Ce,de,Se)=>{F=F||Lo,W=W||Lo;const he=F.length,Ie=W.length,Le=Math.min(he,Ie);let Ue;for(Ue=0;Ue<Le;Ue++){const Xe=W[Ue]=Se?Ua(W[Ue]):Vn(W[Ue]);D(F[Ue],Xe,re,null,fe,ue,Ce,de,Se)}he>Ie?ne(F,fe,ue,!0,!1,Le):X(W,re,ie,fe,ue,Ce,de,Se,Le)},Dr=(F,W,re,ie,fe,ue,Ce,de,Se)=>{let he=0;const Ie=W.length;let Le=F.length-1,Ue=Ie-1;for(;he<=Le&&he<=Ue;){const Xe=F[he],at=W[he]=Se?Ua(W[he]):Vn(W[he]);if(Va(Xe,at))D(Xe,at,re,null,fe,ue,Ce,de,Se);else break;he++}for(;he<=Le&&he<=Ue;){const Xe=F[Le],at=W[Ue]=Se?Ua(W[Ue]):Vn(W[Ue]);if(Va(Xe,at))D(Xe,at,re,null,fe,ue,Ce,de,Se);else break;Le--,Ue--}if(he>Le){if(he<=Ue){const Xe=Ue+1,at=Xe<Ie?W[Xe].el:ie;for(;he<=Ue;)D(null,W[he]=Se?Ua(W[he]):Vn(W[he]),re,at,fe,ue,Ce,de,Se),he++}}else if(he>Ue)for(;he<=Le;)jt(F[he],fe,ue,!0),he++;else{const Xe=he,at=he,ut=new Map;for(he=at;he<=Ue;he++){const zt=W[he]=Se?Ua(W[he]):Vn(W[he]);zt.key!=null&&(ut.has(zt.key)&&ve("Duplicate keys found during update:",JSON.stringify(zt.key),"Make sure keys are unique."),ut.set(zt.key,he))}let Et,Ge=0;const Ir=Ue-at+1;let Mn=!1,Ci=0;const Ai=new Array(Ir);for(he=0;he<Ir;he++)Ai[he]=0;for(he=Xe;he<=Le;he++){const zt=F[he];if(Ge>=Ir){jt(zt,fe,ue,!0);continue}let Or;if(zt.key!=null)Or=ut.get(zt.key);else for(Et=at;Et<=Ue;Et++)if(Ai[Et-at]===0&&Va(zt,W[Et])){Or=Et;break}Or===void 0?jt(zt,fe,ue,!0):(Ai[Or-at]=he+1,Or>=Ci?Ci=Or:Mn=!0,D(zt,W[Or],re,null,fe,ue,Ce,de,Se),Ge++)}const Za=Mn?IP(Ai):Lo;for(Et=Za.length-1,he=Ir-1;he>=0;he--){const zt=at+he,Or=W[zt],ki=zt+1<Ie?W[zt+1].el:ie;Ai[he]===0?D(null,Or,re,ki,fe,ue,Ce,de,Se):Mn&&(Et<0||he!==Za[Et]?Lt(Or,re,ki,2):Et--)}}},Lt=(F,W,re,ie,fe=null)=>{const{el:ue,type:Ce,transition:de,children:Se,shapeFlag:he}=F;if(he&6){Lt(F.component.subTree,W,re,ie);return}if(he&128){F.suspense.move(W,re,ie);return}if(he&64){Ce.move(F,W,re,et);return}if(Ce===sn){i(ue,W,re);for(let Le=0;Le<Se.length;Le++)Lt(Se[Le],W,re,ie);i(F.anchor,W,re);return}if(Ce===El){j(F,W,re);return}if(ie!==2&&he&1&&de)if(ie===0)de.beforeEnter(ue),i(ue,W,re),wr(()=>de.enter(ue),fe);else{const{leave:Le,delayLeave:Ue,afterLeave:Xe}=de,at=()=>i(ue,W,re),ut=()=>{Le(ue,()=>{at(),Xe&&Xe()})};Ue?Ue(ue,at,ut):ut()}else i(ue,W,re)},jt=(F,W,re,ie=!1,fe=!1)=>{const{type:ue,props:Ce,ref:de,children:Se,dynamicChildren:he,shapeFlag:Ie,patchFlag:Le,dirs:Ue}=F;if(de!=null&&pm(de,null,re,F,!0),Ie&256){W.ctx.deactivate(F);return}const Xe=Ie&1&&Ue,at=!Fo(F);let ut;if(at&&(ut=Ce&&Ce.onVnodeBeforeUnmount)&&In(ut,W,F),Ie&6)$t(F.component,re,ie);else{if(Ie&128){F.suspense.unmount(re,ie);return}Xe&&_s(F,null,W,"beforeUnmount"),Ie&64?F.type.remove(F,W,re,fe,et,ie):he&&(ue!==sn||Le>0&&Le&64)?ne(he,W,re,!1,!0):(ue===sn&&Le&384||!fe&&Ie&16)&&ne(Se,W,re),ie&&cr(F)}(at&&(ut=Ce&&Ce.onVnodeUnmounted)||Xe)&&wr(()=>{ut&&In(ut,W,F),Xe&&_s(F,null,W,"unmounted")},re)},cr=F=>{const{type:W,el:re,anchor:ie,transition:fe}=F;if(W===sn){F.patchFlag>0&&F.patchFlag&2048&&fe&&!fe.persisted?F.children.forEach(Ce=>{Ce.type===hr?t(Ce.el):cr(Ce)}):Pr(re,ie);return}if(W===El){J(F);return}const ue=()=>{t(re),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(F.shapeFlag&1&&fe&&!fe.persisted){const{leave:Ce,delayLeave:de}=fe,Se=()=>Ce(re,ue);de?de(F.el,ue,Se):Se()}else ue()},Pr=(F,W)=>{let re;for(;F!==W;)re=v(F),t(F),F=re;t(W)},$t=(F,W,re)=>{F.type.__hmrId&&CD(F);const{bum:ie,scope:fe,update:ue,subTree:Ce,um:de}=F;ie&&Es(ie),fe.stop(),ue&&(ue.active=!1,jt(Ce,F,W,re)),de&&wr(de,W),wr(()=>{F.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve()),OD(F)},ne=(F,W,re,ie=!1,fe=!1,ue=0)=>{for(let Ce=ue;Ce<F.length;Ce++)jt(F[Ce],W,re,ie,fe)},be=F=>F.shapeFlag&6?be(F.component.subTree):F.shapeFlag&128?F.suspense.next():v(F.anchor||F.el);let xe=!1;const Me=(F,W,re)=>{F==null?W._vnode&&jt(W._vnode,null,null,!0):D(W._vnode||null,F,W,null,null,null,re),xe||(xe=!0,Ty(),GS(),xe=!1),W._vnode=F},et={p:D,um:jt,m:Lt,r:cr,mt:je,mc:X,pc:_t,pbc:ee,n:be,o:r};let xt,it;return e&&([xt,it]=e(et)),{render:Me,hydrate:xt,createApp:pP(Me,xt)}}function _g({type:r,props:e},n){return n==="svg"&&r==="foreignObject"||n==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ys({effect:r,update:e},n){r.allowRecurse=e.allowRecurse=n}function PP(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function gf(r,e,n=!1){const i=r.children,t=e.children;if(Ve(i)&&Ve(t))for(let a=0;a<i.length;a++){const s=i[a];let l=t[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=t[a]=Ua(t[a]),l.el=s.el),n||gf(s,l)),l.type===lc&&(l.el=s.el),l.type===hr&&!l.el&&(l.el=s.el)}}function IP(r){const e=r.slice(),n=[0];let i,t,a,s,l;const c=r.length;for(i=0;i<c;i++){const f=r[i];if(f!==0){if(t=n[n.length-1],r[t]<f){e[i]=t,n.push(i);continue}for(a=0,s=n.length-1;a<s;)l=a+s>>1,r[n[l]]<f?a=l+1:s=l;f<r[n[a]]&&(a>0&&(e[i]=n[a-1]),n[a]=i)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=e[s];return n}function Sx(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sx(e)}const OP=r=>r.__isTeleport,Bo=r=>r&&(r.disabled||r.disabled===""),Fy=r=>typeof SVGElement<"u"&&r instanceof SVGElement,My=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,gm=(r,e)=>{const n=r&&r.to;if(Mt(n))if(e){const i=e(n);return i||ve(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),i}else return ve("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Bo(r)&&ve(`Invalid Teleport target: ${n}`),n},LP={name:"Teleport",__isTeleport:!0,process(r,e,n,i,t,a,s,l,c,f){const{mc:h,pc:g,pbc:v,o:{insert:T,querySelector:w,createText:D,createComment:P}}=f,R=Bo(e.props);let{shapeFlag:M,children:U,dynamicChildren:j}=e;if(Wa&&(c=!1,j=null),r==null){const J=e.el=P("teleport start"),te=e.anchor=P("teleport end");T(J,n,i),T(te,n,i);const $=e.target=gm(e.props,w),H=e.targetAnchor=D("");$?(T(H,$),s==="svg"||Fy($)?s="svg":(s==="mathml"||My($))&&(s="mathml")):R||ve("Invalid Teleport target on mount:",$,`(${typeof $})`);const X=(K,ee)=>{M&16&&h(U,K,ee,t,a,s,l,c)};R?X(n,te):$&&X($,H)}else{e.el=r.el;const J=e.anchor=r.anchor,te=e.target=r.target,$=e.targetAnchor=r.targetAnchor,H=Bo(r.props),X=H?n:te,K=H?J:$;if(s==="svg"||Fy(te)?s="svg":(s==="mathml"||My(te))&&(s="mathml"),j?(v(r.dynamicChildren,j,X,t,a,s,l),gf(r,e,!0)):c||g(r,e,X,K,t,a,s,l,!1),R)H?e.props&&r.props&&e.props.to!==r.props.to&&(e.props.to=r.props.to):wd(e,n,J,f,1);else if((e.props&&e.props.to)!==(r.props&&r.props.to)){const ee=e.target=gm(e.props,w);ee?wd(e,ee,null,f,0):ve("Invalid Teleport target on update:",te,`(${typeof te})`)}else H&&wd(e,te,$,f,1)}xx(e)},remove(r,e,n,i,{um:t,o:{remove:a}},s){const{shapeFlag:l,children:c,anchor:f,targetAnchor:h,target:g,props:v}=r;if(g&&a(h),s&&a(f),l&16){const T=s||!Bo(v);for(let w=0;w<c.length;w++){const D=c[w];t(D,e,n,T,!!D.dynamicChildren)}}},move:wd,hydrate:RP};function wd(r,e,n,{o:{insert:i},m:t},a=2){a===0&&i(r.targetAnchor,e,n);const{el:s,anchor:l,shapeFlag:c,children:f,props:h}=r,g=a===2;if(g&&i(s,e,n),(!g||Bo(h))&&c&16)for(let v=0;v<f.length;v++)t(f[v],e,n,2);g&&i(l,e,n)}function RP(r,e,n,i,t,a,{o:{nextSibling:s,parentNode:l,querySelector:c}},f){const h=e.target=gm(e.props,c);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Bo(e.props))e.anchor=f(s(r),e,l(r),n,i,t,a),e.targetAnchor=g;else{e.anchor=s(r);let v=g;for(;v;)if(v=s(v),v&&v.nodeType===8&&v.data==="teleport anchor"){e.targetAnchor=v,h._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(g,e,h,n,i,t,a)}xx(e)}return e.anchor&&s(e.anchor)}const q8=LP;function xx(r){const e=r.ctx;if(e&&e.ut){let n=r.children[0].el;for(;n&&n!==r.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const sn=Symbol.for("v-fgt"),lc=Symbol.for("v-txt"),hr=Symbol.for("v-cmt"),El=Symbol.for("v-stc"),wl=[];let Wn=null;function ah(r=!1){wl.push(Wn=r?null:[])}function NP(){wl.pop(),Wn=wl[wl.length-1]||null}let Ml=1;function By(r){Ml+=r}function Ex(r){return r.dynamicChildren=Ml>0?Wn||Lo:null,NP(),Ml>0&&Wn&&Wn.push(r),r}function FP(r,e,n,i,t,a){return Ex(Cx(r,e,n,i,t,a,!0))}function Lv(r,e,n,i,t){return Ex($r(r,e,n,i,t,!0))}function Hs(r){return r?r.__v_isVNode===!0:!1}function Va(r,e){return e.shapeFlag&6&&ko.has(e.type)?(r.shapeFlag&=-257,e.shapeFlag&=-513,!1):r.type===e.type&&r.key===e.key}const MP=(...r)=>BP(...r),wx=({key:r})=>r!=null?r:null,zd=({ref:r,ref_key:e,ref_for:n})=>(typeof r=="number"&&(r=""+r),r!=null?Mt(r)||Gt(r)||Qe(r)?{i:Qt,r,k:e,f:!!n}:r:null);function Cx(r,e=null,n=null,i=0,t=null,a=r===sn?0:1,s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&wx(e),ref:e&&zd(e),scopeId:th,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:Qt};return l?(Rv(c,n),a&128&&r.normalize(c)):n&&(c.shapeFlag|=Mt(n)?8:16),c.key!==c.key&&ve("VNode created with invalid key (NaN). VNode type:",c.type),Ml>0&&!s&&Wn&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Wn.push(c),c}const $r=MP;function BP(r,e=null,n=null,i=0,t=null,a=!1){if((!r||r===ex)&&(r||ve(`Invalid vnode type when creating vnode: ${r}.`),r=hr),Hs(r)){const l=Yn(r,e,!0);return n&&Rv(l,n),Ml>0&&!a&&Wn&&(l.shapeFlag&6?Wn[Wn.indexOf(r)]=l:Wn.push(l)),l.patchFlag|=-2,l}if(Px(r)&&(r=r.__vccOpts),e){e=UP(e);let{class:l,style:c}=e;l&&!Mt(l)&&(e.class=Ro(l)),bt(c)&&(uf(c)&&!Ve(c)&&(c=Ft({},c)),e.style=Xf(c))}const s=Mt(r)?1:rx(r)?128:OP(r)?64:bt(r)?4:Qe(r)?2:0;return s&4&&uf(r)&&(r=nt(r),ve("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,r)),Cx(r,e,n,i,t,s,a,!0)}function UP(r){return r?uf(r)||gx(r)?Ft({},r):r:null}function Yn(r,e,n=!1,i=!1){const{props:t,ref:a,patchFlag:s,children:l,transition:c}=r,f=e?$P(t||{},e):t,h={__v_isVNode:!0,__v_skip:!0,type:r.type,props:f,key:f&&wx(f),ref:e&&e.ref?n&&a?Ve(a)?a.concat(zd(e)):[a,zd(e)]:zd(e):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s===-1&&Ve(l)?l.map(Ax):l,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==sn?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:c,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Yn(r.ssContent),ssFallback:r.ssFallback&&Yn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return c&&i&&(h.transition=c.clone(h)),h}function Ax(r){const e=Yn(r);return Ve(r.children)&&(e.children=r.children.map(Ax)),e}function jP(r=" ",e=0){return $r(lc,null,r,e)}function W8(r,e){const n=$r(El,null,r);return n.staticCount=e,n}function G8(r="",e=!1){return e?(ah(),Lv(hr,null,r)):$r(hr,null,r)}function Vn(r){return r==null||typeof r=="boolean"?$r(hr):Ve(r)?$r(sn,null,r.slice()):typeof r=="object"?Ua(r):$r(lc,null,String(r))}function Ua(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Yn(r)}function Rv(r,e){let n=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Ve(e))n=16;else if(typeof e=="object")if(i&65){const t=e.default;t&&(t._c&&(t._d=!1),Rv(r,t()),t._c&&(t._d=!0));return}else{n=32;const t=e._;!t&&!gx(e)?e._ctx=Qt:t===3&&Qt&&(Qt.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:Qt},n=32):(e=String(e),i&64?(n=16,e=[jP(e)]):n=8);r.children=e,r.shapeFlag|=n}function $P(...r){const e={};for(let n=0;n<r.length;n++){const i=r[n];for(const t in i)if(t==="class")e.class!==i.class&&(e.class=Ro([e.class,i.class]));else if(t==="style")e.style=Xf([e.style,i.style]);else if(tc(t)){const a=e[t],s=i[t];s&&a!==s&&!(Ve(a)&&a.includes(s))&&(e[t]=a?[].concat(a,s):s)}else t!==""&&(e[t]=i[t])}return e}function In(r,e,n,i=null){On(r,e,7,[n,i])}const HP=fx();let VP=0;function qP(r,e,n){const i=r.type,t=(e?e.appContext:r.appContext)||HP,a={uid:VP++,vnode:r,type:i,parent:e,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new yS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vx(i,t),emitsOptions:QS(i,t),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:i.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx=iP(a),a.root=e?e.root:a,a.emit=FD.bind(null,a),r.ce&&r.ce(a),a}let or=null;const zs=()=>or||Qt;let mf,mm;{const r=Kf(),e=(n,i)=>{let t;return(t=r[n])||(t=r[n]=[]),t.push(i),a=>{t.length>1?t.forEach(s=>s(a)):t[0](a)}};mf=e("__VUE_INSTANCE_SETTERS__",n=>or=n),mm=e("__VUE_SSR_SETTERS__",n=>sh=n)}const cc=r=>{const e=or;return mf(r),r.scope.on(),()=>{r.scope.off(),mf(e)}},Uy=()=>{or&&or.scope.off(),mf(null)},WP=ua("slot,component");function vm(r,{isNativeTag:e}){(WP(r)||e(r))&&ve("Do not use built-in or reserved HTML elements as component id: "+r)}function kx(r){return r.vnode.shapeFlag&4}let sh=!1;function GP(r,e=!1){e&&mm(e);const{props:n,children:i}=r.vnode,t=kx(r);mP(r,n,t,e),wP(r,i);const a=t?zP(r,e):void 0;return e&&mm(!1),a}function zP(r,e){var n;const i=r.type;{if(i.name&&vm(i.name,r.appContext.config),i.components){const a=Object.keys(i.components);for(let s=0;s<a.length;s++)vm(a[s],r.appContext.config)}if(i.directives){const a=Object.keys(i.directives);for(let s=0;s<a.length;s++)ix(a[s])}i.compilerOptions&&KP()&&ve('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,cx),aP(r);const{setup:t}=i;if(t){const a=r.setupContext=t.length>1?YP(r):null,s=cc(r);la();const l=Qi(t,r,0,[gi(r.props),a]);if(ca(),s(),hv(l)){if(l.then(Uy,Uy),e)return l.then(c=>{jy(r,c,e)}).catch(c=>{ic(c,r,0)});if(r.asyncDep=l,!r.suspense){const c=(n=i.name)!=null?n:"Anonymous";ve(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else jy(r,l,e)}else Dx(r,e)}function jy(r,e,n){Qe(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:bt(e)?(Hs(e)&&ve("setup() should not return VNodes directly - return a render function instead."),r.devtoolsRawSetupState=e,r.setupState=jS(e),sP(r)):e!==void 0&&ve(`setup() should return an object. Received: ${e===null?"null":typeof e}`),Dx(r,n)}let _m;const KP=()=>!_m;function Dx(r,e,n){const i=r.type;if(!r.render){if(!e&&_m&&!i.render){const t=i.template||Iv(r).template;if(t){Vi(r,"compile");const{isCustomElement:a,compilerOptions:s}=r.appContext.config,{delimiters:l,compilerOptions:c}=i,f=Ft(Ft({isCustomElement:a,delimiters:l},s),c);i.render=_m(t,f),qi(r,"compile")}}r.render=i.render||Ar}{const t=cc(r);la();try{uP(r)}finally{ca(),t()}}!i.render&&r.render===Ar&&!e&&(i.template?ve('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):ve("Component is missing template or render function."))}const XP={get(r,e){return df(),Vr(r,"get",""),r[e]},set(){return ve("setupContext.attrs is readonly."),!1},deleteProperty(){return ve("setupContext.attrs is readonly."),!1}};function JP(r){return r.slotsProxy||(r.slotsProxy=new Proxy(r.slots,{get(e,n){return Vr(r,"get","$slots"),e[n]}}))}function YP(r){const e=n=>{if(r.exposed&&ve("expose() should be called only once per setup()."),n!=null){let i=typeof n;i==="object"&&(Ve(n)?i="array":Gt(n)&&(i="ref")),i!=="object"&&ve(`expose() should be passed a plain object, received ${i}.`)}r.exposed=n||{}};{let n;return Object.freeze({get attrs(){return n||(n=new Proxy(r.attrs,XP))},get slots(){return JP(r)},get emit(){return(i,...t)=>r.emit(i,...t)},expose:e})}}function oh(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(jS(Cs(r.exposed)),{get(e,n){if(n in e)return e[n];if(n in Rs)return Rs[n](r)},has(e,n){return n in e||n in Rs}}))}const QP=/(?:^|[-_])(\w)/g,ZP=r=>r.replace(QP,e=>e.toUpperCase()).replace(/[-_]/g,"");function Bl(r,e=!0){return Qe(r)?r.displayName||r.name:r.name||e&&r.__name}function uh(r,e,n=!1){let i=Bl(e);if(!i&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(i=t[1])}if(!i&&r&&r.parent){const t=a=>{for(const s in a)if(a[s]===e)return s};i=t(r.components||r.parent.type.components)||t(r.appContext.components)}return i?ZP(i):n?"App":"Anonymous"}function Px(r){return Qe(r)&&"__vccOpts"in r}const jr=(r,e)=>{const n=cD(r,e,sh);{const i=zs();i&&i.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Ul(r,e,n){const i=arguments.length;return i===2?bt(e)&&!Ve(e)?Hs(e)?$r(r,null,[e]):$r(r,e):$r(r,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Hs(n)&&(n=[n]),$r(r,e,n))}function eI(){if(typeof window>"u")return;const r={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},i={style:"color:#eb2f96"},t={header(g){return bt(g)?g.__isVue?["div",r,"VueInstance"]:Gt(g)?["div",{},["span",r,h(g)],"<",l(g.value),">"]:Yi(g)?["div",{},["span",r,Os(g)?"ShallowReactive":"Reactive"],"<",l(g),`>${js(g)?" (readonly)":""}`]:js(g)?["div",{},["span",r,Os(g)?"ShallowReadonly":"Readonly"],"<",l(g),">"]:null:null},hasBody(g){return g&&g.__isVue},body(g){if(g&&g.__isVue)return["div",{},...a(g.$)]}};function a(g){const v=[];g.type.props&&g.props&&v.push(s("props",nt(g.props))),g.setupState!==Pt&&v.push(s("setup",g.setupState)),g.data!==Pt&&v.push(s("data",nt(g.data)));const T=c(g,"computed");T&&v.push(s("computed",T));const w=c(g,"inject");return w&&v.push(s("injected",w)),v.push(["div",{},["span",{style:i.style+";opacity:0.66"},"$ (internal): "],["object",{object:g}]]),v}function s(g,v){return v=Ft({},v),Object.keys(v).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},g],["div",{style:"padding-left:1.25em"},...Object.keys(v).map(T=>["div",{},["span",i,T+": "],l(v[T],!1)])]]:["span",{}]}function l(g,v=!0){return typeof g=="number"?["span",e,g]:typeof g=="string"?["span",n,JSON.stringify(g)]:typeof g=="boolean"?["span",i,g]:bt(g)?["object",{object:v?nt(g):g}]:["span",n,String(g)]}function c(g,v){const T=g.type;if(Qe(T))return;const w={};for(const D in g.ctx)f(T,D,v)&&(w[D]=g.ctx[D]);return w}function f(g,v,T){const w=g[T];if(Ve(w)&&w.includes(v)||bt(w)&&v in w||g.extends&&f(g.extends,v,T)||g.mixins&&g.mixins.some(D=>f(D,v,T)))return!0}function h(g){return Os(g)?"ShallowRef":g.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(t):window.devtoolsFormatters=[t]}const $y="3.4.27",Zi=ve;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const tI="http://www.w3.org/2000/svg",rI="http://www.w3.org/1998/Math/MathML",ja=typeof document<"u"?document:null,Hy=ja&&ja.createElement("template"),nI={insert:(r,e,n)=>{e.insertBefore(r,n||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,n,i)=>{const t=e==="svg"?ja.createElementNS(tI,r):e==="mathml"?ja.createElementNS(rI,r):ja.createElement(r,n?{is:n}:void 0);return r==="select"&&i&&i.multiple!=null&&t.setAttribute("multiple",i.multiple),t},createText:r=>ja.createTextNode(r),createComment:r=>ja.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>ja.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,n,i,t,a){const s=n?n.previousSibling:e.lastChild;if(t&&(t===a||t.nextSibling))for(;e.insertBefore(t.cloneNode(!0),n),!(t===a||!(t=t.nextSibling)););else{Hy.innerHTML=i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r;const l=Hy.content;if(i==="svg"||i==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Oa="transition",el="animation",qo=Symbol("_vtc"),Ix=(r,{slots:e})=>Ul(zD,Lx(r),e);Ix.displayName="Transition";const Ox={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iI=Ix.props=Ft({},sx,Ox),bs=(r,e=[])=>{Ve(r)?r.forEach(n=>n(...e)):r&&r(...e)},Vy=r=>r?Ve(r)?r.some(e=>e.length>1):r.length>1:!1;function Lx(r){const e={};for(const Z in r)Z in Ox||(e[Z]=r[Z]);if(r.css===!1)return e;const{name:n="v",type:i,duration:t,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:f=s,appearToClass:h=l,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:T=`${n}-leave-to`}=r,w=aI(t),D=w&&w[0],P=w&&w[1],{onBeforeEnter:R,onEnter:M,onEnterCancelled:U,onLeave:j,onLeaveCancelled:J,onBeforeAppear:te=R,onAppear:$=M,onAppearCancelled:H=U}=e,X=(Z,le,Be)=>{Fa(Z,le?h:l),Fa(Z,le?f:s),Be&&Be()},K=(Z,le)=>{Z._isLeaving=!1,Fa(Z,g),Fa(Z,T),Fa(Z,v),le&&le()},ee=Z=>(le,Be)=>{const je=Z?$:M,De=()=>X(le,Z,Be);bs(je,[le,De]),qy(()=>{Fa(le,Z?c:a),Wi(le,Z?h:l),Vy(je)||Wy(le,i,D,De)})};return Ft(e,{onBeforeEnter(Z){bs(R,[Z]),Wi(Z,a),Wi(Z,s)},onBeforeAppear(Z){bs(te,[Z]),Wi(Z,c),Wi(Z,f)},onEnter:ee(!1),onAppear:ee(!0),onLeave(Z,le){Z._isLeaving=!0;const Be=()=>K(Z,le);Wi(Z,g),Wi(Z,v),Nx(),qy(()=>{!Z._isLeaving||(Fa(Z,g),Wi(Z,T),Vy(j)||Wy(Z,i,P,Be))}),bs(j,[Z,Be])},onEnterCancelled(Z){X(Z,!1),bs(U,[Z])},onAppearCancelled(Z){X(Z,!0),bs(H,[Z])},onLeaveCancelled(Z){K(Z),bs(J,[Z])}})}function aI(r){if(r==null)return null;if(bt(r))return[yg(r.enter),yg(r.leave)];{const e=yg(r);return[e,e]}}function yg(r){const e=kk(r);return yD(e,"<transition> explicit duration"),e}function Wi(r,e){e.split(/\s+/).forEach(n=>n&&r.classList.add(n)),(r[qo]||(r[qo]=new Set)).add(e)}function Fa(r,e){e.split(/\s+/).forEach(i=>i&&r.classList.remove(i));const n=r[qo];n&&(n.delete(e),n.size||(r[qo]=void 0))}function qy(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let sI=0;function Wy(r,e,n,i){const t=r._endId=++sI,a=()=>{t===r._endId&&i()};if(n)return setTimeout(a,n);const{type:s,timeout:l,propCount:c}=Rx(r,e);if(!s)return i();const f=s+"end";let h=0;const g=()=>{r.removeEventListener(f,v),a()},v=T=>{T.target===r&&++h>=c&&g()};setTimeout(()=>{h<c&&g()},l+1),r.addEventListener(f,v)}function Rx(r,e){const n=window.getComputedStyle(r),i=w=>(n[w]||"").split(", "),t=i(`${Oa}Delay`),a=i(`${Oa}Duration`),s=Gy(t,a),l=i(`${el}Delay`),c=i(`${el}Duration`),f=Gy(l,c);let h=null,g=0,v=0;e===Oa?s>0&&(h=Oa,g=s,v=a.length):e===el?f>0&&(h=el,g=f,v=c.length):(g=Math.max(s,f),h=g>0?s>f?Oa:el:null,v=h?h===Oa?a.length:c.length:0);const T=h===Oa&&/\b(transform|all)(,|$)/.test(i(`${Oa}Property`).toString());return{type:h,timeout:g,propCount:v,hasTransform:T}}function Gy(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((n,i)=>zy(n)+zy(r[i])))}function zy(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function Nx(){return document.body.offsetHeight}function oI(r,e,n){const i=r[qo];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):n?r.setAttribute("class",e):r.className=e}const vf=Symbol("_vod"),Fx=Symbol("_vsh"),uI={beforeMount(r,{value:e},{transition:n}){r[vf]=r.style.display==="none"?"":r.style.display,n&&e?n.beforeEnter(r):tl(r,e)},mounted(r,{value:e},{transition:n}){n&&e&&n.enter(r)},updated(r,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(r),tl(r,!0),i.enter(r)):i.leave(r,()=>{tl(r,!1)}):tl(r,e))},beforeUnmount(r,{value:e}){tl(r,e)}};uI.name="show";function tl(r,e){r.style.display=e?r[vf]:"none",r[Fx]=!e}const lI=Symbol("CSS_VAR_TEXT"),cI=/(^|;)\s*display\s*:/;function dI(r,e,n){const i=r.style,t=Mt(n);let a=!1;if(n&&!t){if(e)if(Mt(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&Kd(i,l,"")}else for(const s in e)n[s]==null&&Kd(i,s,"");for(const s in n)s==="display"&&(a=!0),Kd(i,s,n[s])}else if(t){if(e!==n){const s=i[lI];s&&(n+=";"+s),i.cssText=n,a=cI.test(n)}}else e&&r.removeAttribute("style");vf in r&&(r[vf]=a?i.display:"",r[Fx]&&(i.display="none"))}const fI=/[^\\];\s*$/,Ky=/\s*!important$/;function Kd(r,e,n){if(Ve(n))n.forEach(i=>Kd(r,e,i));else if(n==null&&(n=""),fI.test(n)&&Zi(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))r.setProperty(e,n);else{const i=hI(r,e);Ky.test(n)?r.setProperty(Ga(i),n.replace(Ky,""),"important"):r[i]=n}}const Xy=["Webkit","Moz","ms"],bg={};function hI(r,e){const n=bg[e];if(n)return n;let i=xi(e);if(i!=="filter"&&i in r)return bg[e]=i;i=Us(i);for(let t=0;t<Xy.length;t++){const a=Xy[t]+i;if(a in r)return bg[e]=a}return e}const Jy="http://www.w3.org/1999/xlink";function pI(r,e,n,i,t){if(i&&e.startsWith("xlink:"))n==null?r.removeAttributeNS(Jy,e.slice(6,e.length)):r.setAttributeNS(Jy,e,n);else{const a=jk(e);n==null||a&&!vS(n)?r.removeAttribute(e):r.setAttribute(e,a?"":n)}}function gI(r,e,n,i,t,a,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,t,a),r[e]=n==null?"":n;return}const l=r.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const f=l==="OPTION"?r.getAttribute("value")||"":r.value,h=n==null?"":n;(f!==h||!("_value"in r))&&(r.value=h),n==null&&r.removeAttribute(e),r._value=n;return}let c=!1;if(n===""||n==null){const f=typeof r[e];f==="boolean"?n=vS(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{r[e]=n}catch(f){c||Zi(`Failed setting prop "${e}" on <${l.toLowerCase()}>: value ${n} is invalid.`,f)}c&&r.removeAttribute(e)}function mI(r,e,n,i){r.addEventListener(e,n,i)}function vI(r,e,n,i){r.removeEventListener(e,n,i)}const Yy=Symbol("_vei");function _I(r,e,n,i,t=null){const a=r[Yy]||(r[Yy]={}),s=a[e];if(i&&s)s.value=Zy(i,e);else{const[l,c]=yI(e);if(i){const f=a[e]=SI(Zy(i,e),t);mI(r,l,f,c)}else s&&(vI(r,l,s,c),a[e]=void 0)}}const Qy=/(?:Once|Passive|Capture)$/;function yI(r){let e;if(Qy.test(r)){e={};let i;for(;i=r.match(Qy);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Ga(r.slice(2)),e]}let Tg=0;const bI=Promise.resolve(),TI=()=>Tg||(bI.then(()=>Tg=0),Tg=Date.now());function SI(r,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;On(xI(i,n.value),e,5,[i])};return n.value=r,n.attached=TI(),n}function Zy(r,e){return Qe(r)||Ve(r)?r:(Zi(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof r}.`),Ar)}function xI(r,e){if(Ve(e)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},e.map(i=>t=>!t._stopped&&i&&i(t))}else return e}const eb=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,EI=(r,e,n,i,t,a,s,l,c)=>{const f=t==="svg";e==="class"?oI(r,i,f):e==="style"?dI(r,n,i):tc(e)?sf(e)||_I(r,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wI(r,e,i,f))?gI(r,e,i,a,s,l,c):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),pI(r,e,i,f))};function wI(r,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&eb(e)&&Qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const t=r.tagName;if(t==="IMG"||t==="VIDEO"||t==="CANVAS"||t==="SOURCE")return!1}return eb(e)&&Mt(n)?!1:e in r}const Mx=new WeakMap,Bx=new WeakMap,_f=Symbol("_moveCb"),tb=Symbol("_enterCb"),Ux={name:"TransitionGroup",props:Ft({},iI,{tag:String,moveClass:String}),setup(r,{slots:e}){const n=zs(),i=ax();let t,a;return Dv(()=>{if(!t.length)return;const s=r.moveClass||`${r.name||"v"}-move`;if(!PI(t[0].el,n.vnode.el,s))return;t.forEach(AI),t.forEach(kI);const l=t.filter(DI);Nx(),l.forEach(c=>{const f=c.el,h=f.style;Wi(f,s),h.transform=h.webkitTransform=h.transitionDuration="";const g=f[_f]=v=>{v&&v.target!==f||(!v||/transform$/.test(v.propertyName))&&(f.removeEventListener("transitionend",g),f[_f]=null,Fa(f,s))};f.addEventListener("transitionend",g)})}),()=>{const s=nt(r),l=Lx(s);let c=s.tag||sn;if(t=[],a)for(let f=0;f<a.length;f++){const h=a[f];h.el&&h.el instanceof Element&&(t.push(h),Vo(h,Fl(h,l,i,n)),Mx.set(h,h.el.getBoundingClientRect()))}a=e.default?kv(e.default()):[];for(let f=0;f<a.length;f++){const h=a[f];h.key!=null?Vo(h,Fl(h,l,i,n)):Zi("<TransitionGroup> children must be keyed.")}return $r(c,null,a)}}},CI=r=>delete r.mode;Ux.props;const z8=Ux;function AI(r){const e=r.el;e[_f]&&e[_f](),e[tb]&&e[tb]()}function kI(r){Bx.set(r,r.el.getBoundingClientRect())}function DI(r){const e=Mx.get(r),n=Bx.get(r),i=e.left-n.left,t=e.top-n.top;if(i||t){const a=r.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${t}px)`,a.transitionDuration="0s",r}}function PI(r,e,n){const i=r.cloneNode(),t=r[qo];t&&t.forEach(l=>{l.split(/\s+/).forEach(c=>c&&i.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:s}=Rx(i);return a.removeChild(i),s}const II=["ctrl","shift","alt","meta"],OI={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>II.some(n=>r[`${n}Key`]&&!e.includes(n))},K8=(r,e)=>{const n=r._withMods||(r._withMods={}),i=e.join(".");return n[i]||(n[i]=(t,...a)=>{for(let s=0;s<e.length;s++){const l=OI[e[s]];if(l&&l(t,e))return}return r(t,...a)})},LI=Ft({patchProp:EI},nI);let rb;function RI(){return rb||(rb=kP(LI))}const NI=(...r)=>{const e=RI().createApp(...r);MI(e),BI(e);const{mount:n}=e;return e.mount=i=>{const t=UI(i);if(!t)return;const a=e._component;!Qe(a)&&!a.render&&!a.template&&(a.template=t.innerHTML),t.innerHTML="";const s=n(t,!1,FI(t));return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),s},e};function FI(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function MI(r){Object.defineProperty(r.config,"isNativeTag",{value:e=>Fk(e)||Mk(e)||Bk(e),writable:!1})}function BI(r){{const e=r.config.isCustomElement;Object.defineProperty(r.config,"isCustomElement",{get(){return e},set(){Zi("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=r.config.compilerOptions,i='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(r.config,"compilerOptions",{get(){return Zi(i),n},set(){Zi(i)}})}}function UI(r){if(Mt(r)){const e=document.querySelector(r);return e||Zi(`Failed to mount app: mount target selector "${r}" returned null.`),e}return window.ShadowRoot&&r instanceof window.ShadowRoot&&r.mode==="closed"&&Zi('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),r}/**
* vue v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jI(){eI()}jI();var $I=!1;function Cd(r,e,n){return Array.isArray(r)?(r.length=Math.max(r.length,e),r.splice(e,1,n),n):(r[e]=n,n)}function Sg(r,e){if(Array.isArray(r)){r.splice(e,1);return}delete r[e]}function HI(){return jx().__VUE_DEVTOOLS_GLOBAL_HOOK__}function jx(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const VI=typeof Proxy=="function",qI="devtools-plugin:setup",WI="plugin:settings:set";let _o,ym;function GI(){var r;return _o!==void 0||(typeof window<"u"&&window.performance?(_o=!0,ym=window.performance):typeof globalThis<"u"&&((r=globalThis.perf_hooks)===null||r===void 0?void 0:r.performance)?(_o=!0,ym=globalThis.perf_hooks.performance):_o=!1),_o}function zI(){return GI()?ym.now():Date.now()}class KI{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const s in e.settings){const l=e.settings[s];i[s]=l.defaultValue}const t=`__vue-devtools-plugin-settings__${e.id}`;let a=Object.assign({},i);try{const s=localStorage.getItem(t),l=JSON.parse(s);Object.assign(a,l)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(t,JSON.stringify(s))}catch{}a=s},now(){return zI()}},n&&n.on(WI,(s,l)=>{s===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(s,l)=>this.target?this.target.on[l]:(...c)=>{this.onQueue.push({method:l,args:c})}}),this.proxiedTarget=new Proxy({},{get:(s,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...c)=>(this.targetQueue.push({method:l,args:c,resolve:()=>{}}),this.fallbacks[l](...c)):(...c)=>new Promise(f=>{this.targetQueue.push({method:l,args:c,resolve:f})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function XI(r,e){const n=r,i=jx(),t=HI(),a=VI&&n.enableEarlyProxy;if(t&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))t.emit(qI,r,e);else{const s=a?new KI(n,t):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let gl;const jl=r=>gl=r,$x=Symbol("pinia");function Vs(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Cl;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Cl||(Cl={}));const Hx=typeof window<"u";function JI(){const r=bS(!0),e=r.run(()=>Fn({}));let n=[],i=[];const t=Cs({install(a){jl(t),t._a=a,a.provide($x,t),a.config.globalProperties.$pinia=t,i.forEach(s=>n.push(s)),i=[]},use(a){return!this._a&&!$I?i.push(a):n.push(a),this},_p:n,_a:null,_e:r,_s:new Map,state:e});return t}function Vx(r,e){for(const n in e){const i=e[n];if(!(n in r))continue;const t=r[n];Vs(t)&&Vs(i)&&!Gt(i)&&!Yi(i)?r[n]=Vx(t,i):r[n]=i}return r}const YI=()=>{};function nb(r,e,n,i=YI){r.push(e);const t=()=>{const a=r.indexOf(e);a>-1&&(r.splice(a,1),i())};return!n&&TS()&&Hk(t),t}function yo(r,...e){r.slice().forEach(n=>{n(...e)})}const QI=r=>r();function bm(r,e){r instanceof Map&&e instanceof Map&&e.forEach((n,i)=>r.set(i,n)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],t=r[n];Vs(t)&&Vs(i)&&r.hasOwnProperty(n)&&!Gt(i)&&!Yi(i)?r[n]=bm(t,i):r[n]=i}return r}const ZI=Symbol("pinia:skipHydration");function eO(r){return!Vs(r)||!r.hasOwnProperty(ZI)}const{assign:ci}=Object;function ib(r){return!!(Gt(r)&&r.effect)}function ab(r,e,n,i){const{state:t,actions:a,getters:s}=e,l=n.state.value[r];let c;function f(){!l&&!i&&(n.state.value[r]=t?t():{});const h=by(i?Fn(t?t():{}).value:n.state.value[r]);return ci(h,a,Object.keys(s||{}).reduce((g,v)=>(v in h&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${v}" in store "${r}".`),g[v]=Cs(jr(()=>{jl(n);const T=n._s.get(r);return s[v].call(T,T)})),g),{}))}return c=Tm(r,f,e,n,i,!0),c}function Tm(r,e,n={},i,t,a){let s;const l=ci({actions:{}},n);if(!i._e.active)throw new Error("Pinia destroyed");const c={deep:!0};c.onTrigger=K=>{f?T=K:f==!1&&!$._hotUpdating&&(Array.isArray(T)?T.push(K):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let f,h,g=[],v=[],T;const w=i.state.value[r];!a&&!w&&!t&&(i.state.value[r]={});const D=Fn({});let P;function R(K){let ee;f=h=!1,T=[],typeof K=="function"?(K(i.state.value[r]),ee={type:Cl.patchFunction,storeId:r,events:T}):(bm(i.state.value[r],K),ee={type:Cl.patchObject,payload:K,storeId:r,events:T});const Z=P=Symbol();lf().then(()=>{P===Z&&(f=!0)}),h=!0,yo(g,ee,i.state.value[r])}const M=a?function(){const{state:ee}=n,Z=ee?ee():{};this.$patch(le=>{ci(le,Z)})}:()=>{throw new Error(`\u{1F34D}: Store "${r}" is built using the setup syntax and does not implement $reset().`)};function U(){s.stop(),g=[],v=[],i._s.delete(r)}function j(K,ee){return function(){jl(i);const Z=Array.from(arguments),le=[],Be=[];function je(we){le.push(we)}function De(we){Be.push(we)}yo(v,{args:Z,name:K,store:$,after:je,onError:De});let me;try{me=ee.apply(this&&this.$id===r?this:$,Z)}catch(we){throw yo(Be,we),we}return me instanceof Promise?me.then(we=>(yo(le,we),we)).catch(we=>(yo(Be,we),Promise.reject(we))):(yo(le,me),me)}}const J=Cs({actions:{},getters:{},state:[],hotState:D}),te={_p:i,$id:r,$onAction:nb.bind(null,v),$patch:R,$reset:M,$subscribe(K,ee={}){const Z=nb(g,K,ee.detached,()=>le()),le=s.run(()=>Gn(()=>i.state.value[r],Be=>{(ee.flush==="sync"?h:f)&&K({storeId:r,type:Cl.direct,events:T},Be)},ci({},c,ee)));return Z},$dispose:U},$=nc(ci({_hmrPayload:J,_customProperties:Cs(new Set)},te));i._s.set(r,$);const X=(i._a&&i._a.runWithContext||QI)(()=>i._e.run(()=>(s=bS()).run(e)));for(const K in X){const ee=X[K];if(Gt(ee)&&!ib(ee)||Yi(ee))t?Cd(D.value,K,dg(X,K)):a||(w&&eO(ee)&&(Gt(ee)?ee.value=w[K]:bm(ee,w[K])),i.state.value[r][K]=ee),J.state.push(K);else if(typeof ee=="function"){const Z=t?ee:j(K,ee);X[K]=Z,J.actions[K]=ee,l.actions[K]=ee}else ib(ee)&&(J.getters[K]=a?n.getters[K]:ee,Hx&&(X._getters||(X._getters=Cs([]))).push(K))}return ci($,X),ci(nt($),X),Object.defineProperty($,"$state",{get:()=>t?D.value:i.state.value[r],set:K=>{if(t)throw new Error("cannot set hotState");R(ee=>{ci(ee,K)})}}),$._hotUpdate=Cs(K=>{$._hotUpdating=!0,K._hmrPayload.state.forEach(ee=>{if(ee in $.$state){const Z=K.$state[ee],le=$.$state[ee];typeof Z=="object"&&Vs(Z)&&Vs(le)?Vx(Z,le):K.$state[ee]=le}Cd($,ee,dg(K.$state,ee))}),Object.keys($.$state).forEach(ee=>{ee in K.$state||Sg($,ee)}),f=!1,h=!1,i.state.value[r]=dg(K._hmrPayload,"hotState"),h=!0,lf().then(()=>{f=!0});for(const ee in K._hmrPayload.actions){const Z=K[ee];Cd($,ee,j(ee,Z))}for(const ee in K._hmrPayload.getters){const Z=K._hmrPayload.getters[ee],le=a?jr(()=>(jl(i),Z.call($,$))):Z;Cd($,ee,le)}Object.keys($._hmrPayload.getters).forEach(ee=>{ee in K._hmrPayload.getters||Sg($,ee)}),Object.keys($._hmrPayload.actions).forEach(ee=>{ee in K._hmrPayload.actions||Sg($,ee)}),$._hmrPayload=K._hmrPayload,$._getters=K._getters,$._hotUpdating=!1}),i._p.forEach(K=>{ci($,s.run(()=>K({store:$,app:i._a,pinia:i,options:l})))}),$.$state&&typeof $.$state=="object"&&typeof $.$state.constructor=="function"&&!$.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${$.$id}".`),w&&a&&n.hydrate&&n.hydrate($.$state,w),f=!0,h=!0,$}function tO(r,e,n){let i,t;const a=typeof e=="function";if(typeof r=="string")i=r,t=a?n:e;else if(t=r,i=r.id,typeof i!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function s(l,c){const f=gP();if(l=(gl&&gl._testing?null:l)||(f?ln($x,null):null),l&&jl(l),!gl)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);l=gl,l._s.has(i)||(a?Tm(i,e,t,l):ab(i,t,l),s._pinia=l);const h=l._s.get(i);if(c){const g="__hot:"+i,v=a?Tm(g,e,t,l,!0):ab(g,ci({},t),l,!0);c._hotUpdate(v),delete l.state.value[g],l._s.delete(g)}if(Hx){const g=zs();if(g&&g.proxy&&!c){const v=g.proxy,T="_pStores"in v?v._pStores:v._pStores={};T[i]=h}}return h}return s.$id=i,s}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ki=typeof document<"u";function rO(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const St=Object.assign;function xg(r,e){const n={};for(const i in e){const t=e[i];n[i]=bn(t)?t.map(r):r(t)}return n}const Al=()=>{},bn=Array.isArray;function ht(r){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+r].concat(e))}const qx=/#/g,nO=/&/g,iO=/\//g,aO=/=/g,sO=/\?/g,Wx=/\+/g,oO=/%5B/g,uO=/%5D/g,Gx=/%5E/g,lO=/%60/g,zx=/%7B/g,cO=/%7C/g,Kx=/%7D/g,dO=/%20/g;function Nv(r){return encodeURI(""+r).replace(cO,"|").replace(oO,"[").replace(uO,"]")}function fO(r){return Nv(r).replace(zx,"{").replace(Kx,"}").replace(Gx,"^")}function Sm(r){return Nv(r).replace(Wx,"%2B").replace(dO,"+").replace(qx,"%23").replace(nO,"%26").replace(lO,"`").replace(zx,"{").replace(Kx,"}").replace(Gx,"^")}function hO(r){return Sm(r).replace(aO,"%3D")}function pO(r){return Nv(r).replace(qx,"%23").replace(sO,"%3F")}function gO(r){return r==null?"":pO(r).replace(iO,"%2F")}function Wo(r){try{return decodeURIComponent(""+r)}catch{ht(`Error decoding "${r}". Using original value`)}return""+r}const mO=/\/$/,vO=r=>r.replace(mO,"");function Eg(r,e,n="/"){let i,t={},a="",s="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(i=e.slice(0,c),a=e.slice(c+1,l>-1?l:e.length),t=r(a)),l>-1&&(i=i||e.slice(0,l),s=e.slice(l,e.length)),i=bO(i!=null?i:e,n),{fullPath:i+(a&&"?")+a+s,path:i,query:t,hash:Wo(s)}}function _O(r,e){const n=e.query?r(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sb(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function ob(r,e,n){const i=e.matched.length-1,t=n.matched.length-1;return i>-1&&i===t&&Ka(e.matched[i],n.matched[t])&&Xx(e.params,n.params)&&r(e.query)===r(n.query)&&e.hash===n.hash}function Ka(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function Xx(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const n in r)if(!yO(r[n],e[n]))return!1;return!0}function yO(r,e){return bn(r)?ub(r,e):bn(e)?ub(e,r):r===e}function ub(r,e){return bn(e)?r.length===e.length&&r.every((n,i)=>n===e[i]):r.length===1&&r[0]===e}function bO(r,e){if(r.startsWith("/"))return r;if(!e.startsWith("/"))return ht(`Cannot resolve a relative location without an absolute path. Trying to resolve "${r}" from "${e}". It should look like "/${e}".`),r;if(!r)return e;const n=e.split("/"),i=r.split("/"),t=i[i.length-1];(t===".."||t===".")&&i.push("");let a=n.length-1,s,l;for(s=0;s<i.length;s++)if(l=i[s],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+i.slice(s).join("/")}var $l;(function(r){r.pop="pop",r.push="push"})($l||($l={}));var kl;(function(r){r.back="back",r.forward="forward",r.unknown=""})(kl||(kl={}));function TO(r){if(!r)if(Ki){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),vO(r)}const SO=/^[^#]+#/;function xO(r,e){return r.replace(SO,"#")+e}function EO(r,e){const n=document.documentElement.getBoundingClientRect(),i=r.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const lh=()=>({left:window.scrollX,top:window.scrollY});function wO(r){let e;if("el"in r){const n=r.el,i=typeof n=="string"&&n.startsWith("#");if(typeof r.el=="string"&&(!i||!document.getElementById(r.el.slice(1))))try{const a=document.querySelector(r.el);if(i&&a){ht(`The selector "${r.el}" should be passed as "el: document.querySelector('${r.el}')" because it starts with "#".`);return}}catch{ht(`The selector "${r.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const t=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!t){ht(`Couldn't find element using selector "${r.el}" returned by scrollBehavior.`);return}e=EO(t,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function lb(r,e){return(history.state?history.state.position-e:-1)+r}const xm=new Map;function CO(r,e){xm.set(r,e)}function AO(r){const e=xm.get(r);return xm.delete(r),e}let kO=()=>location.protocol+"//"+location.host;function Jx(r,e){const{pathname:n,search:i,hash:t}=e,a=r.indexOf("#");if(a>-1){let l=t.includes(r.slice(a))?r.slice(a).length:1,c=t.slice(l);return c[0]!=="/"&&(c="/"+c),sb(c,"")}return sb(n,r)+i+t}function DO(r,e,n,i){let t=[],a=[],s=null;const l=({state:v})=>{const T=Jx(r,location),w=n.value,D=e.value;let P=0;if(v){if(n.value=T,e.value=v,s&&s===w){s=null;return}P=D?v.position-D.position:0}else i(T);t.forEach(R=>{R(n.value,w,{delta:P,type:$l.pop,direction:P?P>0?kl.forward:kl.back:kl.unknown})})};function c(){s=n.value}function f(v){t.push(v);const T=()=>{const w=t.indexOf(v);w>-1&&t.splice(w,1)};return a.push(T),T}function h(){const{history:v}=window;!v.state||v.replaceState(St({},v.state,{scroll:lh()}),"")}function g(){for(const v of a)v();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:f,destroy:g}}function cb(r,e,n,i=!1,t=!1){return{back:r,current:e,forward:n,replaced:i,position:window.history.length,scroll:t?lh():null}}function PO(r){const{history:e,location:n}=window,i={value:Jx(r,n)},t={value:e.state};t.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(c,f,h){const g=r.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?r:r.slice(g))+c:kO()+r+c;try{e[h?"replaceState":"pushState"](f,"",v),t.value=f}catch(T){ht("Error with push/replace State",T),n[h?"replace":"assign"](v)}}function s(c,f){const h=St({},e.state,cb(t.value.back,c,t.value.forward,!0),f,{position:t.value.position});a(c,h,!0),i.value=c}function l(c,f){const h=St({},t.value,e.state,{forward:c,scroll:lh()});e.state||ht(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),a(h.current,h,!0);const g=St({},cb(i.value,c,null),{position:h.position+1},f);a(c,g,!1),i.value=c}return{location:i,state:t,push:l,replace:s}}function IO(r){r=TO(r);const e=PO(r),n=DO(r,e.state,e.location,e.replace);function i(a,s=!0){s||n.pauseListeners(),history.go(a)}const t=St({location:"",base:r,go:i,createHref:xO.bind(null,r)},e,n);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>e.state.value}),t}function OO(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),!r.endsWith("#/")&&!r.endsWith("#")&&ht(`A hash base must end with a "#":
"${r}" should be "${r.replace(/#.*$/,"#")}".`),IO(r)}function yf(r){return typeof r=="string"||r&&typeof r=="object"}function Yx(r){return typeof r=="string"||typeof r=="symbol"}const La={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qx=Symbol("navigation failure");var db;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(db||(db={}));const LO={[1]({location:r,currentLocation:e}){return`No match for
 ${JSON.stringify(r)}${e?`
while being at
`+JSON.stringify(e):""}`},[2]({from:r,to:e}){return`Redirected from "${r.fullPath}" to "${NO(e)}" via a navigation guard.`},[4]({from:r,to:e}){return`Navigation aborted from "${r.fullPath}" to "${e.fullPath}" via a navigation guard.`},[8]({from:r,to:e}){return`Navigation cancelled from "${r.fullPath}" to "${e.fullPath}" with a new navigation.`},[16]({from:r,to:e}){return`Avoided redundant navigation to current location: "${r.fullPath}".`}};function Go(r,e){return St(new Error(LO[r](e)),{type:r,[Qx]:!0},e)}function $i(r,e){return r instanceof Error&&Qx in r&&(e==null||!!(r.type&e))}const RO=["params","query","hash"];function NO(r){if(typeof r=="string")return r;if(r.path!=null)return r.path;const e={};for(const n of RO)n in r&&(e[n]=r[n]);return JSON.stringify(e,null,2)}const fb="[^/]+?",FO={sensitive:!1,strict:!1,start:!0,end:!0},MO=/[.+*?^${}()[\]/\\]/g;function BO(r,e){const n=St({},FO,e),i=[];let t=n.start?"^":"";const a=[];for(const f of r){const h=f.length?[]:[90];n.strict&&!f.length&&(t+="/");for(let g=0;g<f.length;g++){const v=f[g];let T=40+(n.sensitive?.25:0);if(v.type===0)g||(t+="/"),t+=v.value.replace(MO,"\\$&"),T+=40;else if(v.type===1){const{value:w,repeatable:D,optional:P,regexp:R}=v;a.push({name:w,repeatable:D,optional:P});const M=R||fb;if(M!==fb){T+=10;try{new RegExp(`(${M})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${w}" (${M}): `+j.message)}}let U=D?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;g||(U=P&&f.length<2?`(?:/${U})`:"/"+U),P&&(U+="?"),t+=U,T+=20,P&&(T+=-8),D&&(T+=-20),M===".*"&&(T+=-50)}h.push(T)}i.push(h)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(t+="/?"),n.end?t+="$":n.strict&&(t+="(?:/|$)");const s=new RegExp(t,n.sensitive?"":"i");function l(f){const h=f.match(s),g={};if(!h)return null;for(let v=1;v<h.length;v++){const T=h[v]||"",w=a[v-1];g[w.name]=T&&w.repeatable?T.split("/"):T}return g}function c(f){let h="",g=!1;for(const v of r){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const T of v)if(T.type===0)h+=T.value;else if(T.type===1){const{value:w,repeatable:D,optional:P}=T,R=w in f?f[w]:"";if(bn(R)&&!D)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const M=bn(R)?R.join("/"):R;if(!M)if(P)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${w}"`);h+=M}}return h||"/"}return{re:s,score:i,keys:a,parse:l,stringify:c}}function UO(r,e){let n=0;for(;n<r.length&&n<e.length;){const i=e[n]-r[n];if(i)return i;n++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function jO(r,e){let n=0;const i=r.score,t=e.score;for(;n<i.length&&n<t.length;){const a=UO(i[n],t[n]);if(a)return a;n++}if(Math.abs(t.length-i.length)===1){if(hb(i))return 1;if(hb(t))return-1}return t.length-i.length}function hb(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const $O={type:0,value:""},HO=/[a-zA-Z0-9_]/;function VO(r){if(!r)return[[]];if(r==="/")return[[$O]];if(!r.startsWith("/"))throw new Error(`Route paths should start with a "/": "${r}" should be "/${r}".`);function e(T){throw new Error(`ERR (${n})/"${f}": ${T}`)}let n=0,i=n;const t=[];let a;function s(){a&&t.push(a),a=[]}let l=0,c,f="",h="";function g(){!f||(n===0?a.push({type:0,value:f}):n===1||n===2||n===3?(a.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:f,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function v(){f+=c}for(;l<r.length;){if(c=r[l++],c==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:c==="/"?(f&&g(),s()):c===":"?(g(),n=1):v();break;case 4:v(),n=i;break;case 1:c==="("?n=2:HO.test(c)?v():(g(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:g(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),s(),t}function qO(r,e,n){const i=BO(VO(r.path),n);{const a=new Set;for(const s of i.keys)a.has(s.name)&&ht(`Found duplicated params with name "${s.name}" for path "${r.path}". Only the last one will be available on "$route.params".`),a.add(s.name)}const t=St(i,{record:r,parent:e,children:[],alias:[]});return e&&!t.record.aliasOf==!e.record.aliasOf&&e.children.push(t),t}function WO(r,e){const n=[],i=new Map;e=mb({strict:!1,end:!0,sensitive:!1},e);function t(h){return i.get(h)}function a(h,g,v){const T=!v,w=GO(h);JO(w,g),w.aliasOf=v&&v.record;const D=mb(e,h),P=[w];if("alias"in h){const U=typeof h.alias=="string"?[h.alias]:h.alias;for(const j of U)P.push(St({},w,{components:v?v.record.components:w.components,path:j,aliasOf:v?v.record:w}))}let R,M;for(const U of P){const{path:j}=U;if(g&&j[0]!=="/"){const J=g.record.path,te=J[J.length-1]==="/"?"":"/";U.path=g.record.path+(j&&te+j)}if(U.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(R=qO(U,g,D),g&&j[0]==="/"&&YO(R,g),v?(v.alias.push(R),XO(v,R)):(M=M||R,M!==R&&M.alias.push(R),T&&h.name&&!gb(R)&&s(h.name)),w.children){const J=w.children;for(let te=0;te<J.length;te++)a(J[te],R,v&&v.children[te])}v=v||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&c(R)}return M?()=>{s(M)}:Al}function s(h){if(Yx(h)){const g=i.get(h);g&&(i.delete(h),n.splice(n.indexOf(g),1),g.children.forEach(s),g.alias.forEach(s))}else{const g=n.indexOf(h);g>-1&&(n.splice(g,1),h.record.name&&i.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function l(){return n}function c(h){let g=0;for(;g<n.length&&jO(h,n[g])>=0&&(h.record.path!==n[g].record.path||!Zx(h,n[g]));)g++;n.splice(g,0,h),h.record.name&&!gb(h)&&i.set(h.record.name,h)}function f(h,g){let v,T={},w,D;if("name"in h&&h.name){if(v=i.get(h.name),!v)throw Go(1,{location:h});{const M=Object.keys(h.params||{}).filter(U=>!v.keys.find(j=>j.name===U));M.length&&ht(`Discarded invalid param(s) "${M.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}D=v.record.name,T=St(pb(g.params,v.keys.filter(M=>!M.optional).concat(v.parent?v.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),h.params&&pb(h.params,v.keys.map(M=>M.name))),w=v.stringify(T)}else if(h.path!=null)w=h.path,w.startsWith("/")||ht(`The Matcher cannot resolve relative paths but received "${w}". Unless you directly called \`matcher.resolve("${w}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),v=n.find(M=>M.re.test(w)),v&&(T=v.parse(w),D=v.record.name);else{if(v=g.name?i.get(g.name):n.find(M=>M.re.test(g.path)),!v)throw Go(1,{location:h,currentLocation:g});D=v.record.name,T=St({},g.params,h.params),w=v.stringify(T)}const P=[];let R=v;for(;R;)P.unshift(R.record),R=R.parent;return{name:D,path:w,params:T,matched:P,meta:KO(P)}}return r.forEach(h=>a(h)),{addRoute:a,resolve:f,removeRoute:s,getRoutes:l,getRecordMatcher:t}}function pb(r,e){const n={};for(const i of e)i in r&&(n[i]=r[i]);return n}function GO(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:zO(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function zO(r){const e={},n=r.props||!1;if("component"in r)e.default=n;else for(const i in r.components)e[i]=typeof n=="object"?n[i]:n;return e}function gb(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function KO(r){return r.reduce((e,n)=>St(e,n.meta),{})}function mb(r,e){const n={};for(const i in r)n[i]=i in e?e[i]:r[i];return n}function Em(r,e){return r.name===e.name&&r.optional===e.optional&&r.repeatable===e.repeatable}function XO(r,e){for(const n of r.keys)if(!n.optional&&!e.keys.find(Em.bind(null,n)))return ht(`Alias "${e.record.path}" and the original record: "${r.record.path}" must have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!r.keys.find(Em.bind(null,n)))return ht(`Alias "${e.record.path}" and the original record: "${r.record.path}" must have the exact same param named "${n.name}"`)}function JO(r,e){e&&e.record.name&&!r.name&&!r.path&&ht(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function YO(r,e){for(const n of e.keys)if(!r.keys.find(Em.bind(null,n)))return ht(`Absolute path "${r.record.path}" must have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function Zx(r,e){return e.children.some(n=>n===r||Zx(r,n))}function QO(r){const e={};if(r===""||r==="?")return e;const i=(r[0]==="?"?r.slice(1):r).split("&");for(let t=0;t<i.length;++t){const a=i[t].replace(Wx," "),s=a.indexOf("="),l=Wo(s<0?a:a.slice(0,s)),c=s<0?null:Wo(a.slice(s+1));if(l in e){let f=e[l];bn(f)||(f=e[l]=[f]),f.push(c)}else e[l]=c}return e}function vb(r){let e="";for(let n in r){const i=r[n];if(n=hO(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(bn(i)?i.map(a=>a&&Sm(a)):[i&&Sm(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function ZO(r){const e={};for(const n in r){const i=r[n];i!==void 0&&(e[n]=bn(i)?i.map(t=>t==null?null:""+t):i==null?i:""+i)}return e}const eL=Symbol("router view location matched"),_b=Symbol("router view depth"),ch=Symbol("router"),Fv=Symbol("route location"),wm=Symbol("router view location");function rl(){let r=[];function e(i){return r.push(i),()=>{const t=r.indexOf(i);t>-1&&r.splice(t,1)}}function n(){r=[]}return{add:e,list:()=>r.slice(),reset:n}}function $a(r,e,n,i,t,a=s=>s()){const s=i&&(i.enterCallbacks[t]=i.enterCallbacks[t]||[]);return()=>new Promise((l,c)=>{const f=v=>{v===!1?c(Go(4,{from:n,to:e})):v instanceof Error?c(v):yf(v)?c(Go(2,{from:e,to:v})):(s&&i.enterCallbacks[t]===s&&typeof v=="function"&&s.push(v),l())},h=a(()=>r.call(i&&i.instances[t],e,n,tL(f,e,n)));let g=Promise.resolve(h);if(r.length<3&&(g=g.then(f)),r.length>2){const v=`The "next" callback was never called inside of ${r.name?'"'+r.name+'"':""}:
${r.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof h=="object"&&"then"in h)g=g.then(T=>f._called?T:(ht(v),Promise.reject(new Error("Invalid navigation guard"))));else if(h!==void 0&&!f._called){ht(v),c(new Error("Invalid navigation guard"));return}}g.catch(v=>c(v))})}function tL(r,e,n){let i=0;return function(){i++===1&&ht(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),r._called=!0,i===1&&r.apply(null,arguments)}}function wg(r,e,n,i,t=a=>a()){const a=[];for(const s of r){!s.components&&!s.children.length&&ht(`Record with path "${s.path}" is either missing a "component(s)" or "children" property.`);for(const l in s.components){let c=s.components[l];{if(!c||typeof c!="object"&&typeof c!="function")throw ht(`Component "${l}" in record with path "${s.path}" is not a valid component. Received "${String(c)}".`),new Error("Invalid route component");if("then"in c){ht(`Component "${l}" in record with path "${s.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const f=c;c=()=>f}else c.__asyncLoader&&!c.__warnedDefineAsync&&(c.__warnedDefineAsync=!0,ht(`Component "${l}" in record with path "${s.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!s.instances[l]))if(rL(c)){const h=(c.__vccOpts||c)[e];h&&a.push($a(h,n,i,s,l,t))}else{let f=c();"catch"in f||(ht(`Component "${l}" in record with path "${s.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),f=Promise.resolve(f)),a.push(()=>f.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${s.path}"`));const g=rO(h)?h.default:h;s.components[l]=g;const T=(g.__vccOpts||g)[e];return T&&$a(T,n,i,s,l,t)()}))}}}return a}function rL(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function yb(r){const e=ln(ch),n=ln(Fv);let i=!1,t=null;const a=jr(()=>{const h=vr(r.to);return(!i||h!==t)&&(yf(h)||(i?ht(`Invalid value for prop "to" in useLink()
- to:`,h,`
- previous to:`,t,`
- props:`,r):ht(`Invalid value for prop "to" in useLink()
- to:`,h,`
- props:`,r)),t=h,i=!0),e.resolve(h)}),s=jr(()=>{const{matched:h}=a.value,{length:g}=h,v=h[g-1],T=n.matched;if(!v||!T.length)return-1;const w=T.findIndex(Ka.bind(null,v));if(w>-1)return w;const D=bb(h[g-2]);return g>1&&bb(v)===D&&T[T.length-1].path!==D?T.findIndex(Ka.bind(null,h[g-2])):w}),l=jr(()=>s.value>-1&&sL(n.params,a.value.params)),c=jr(()=>s.value>-1&&s.value===n.matched.length-1&&Xx(n.params,a.value.params));function f(h={}){return aL(h)?e[vr(r.replace)?"replace":"push"](vr(r.to)).catch(Al):Promise.resolve()}if(Ki){const h=zs();if(h){const g={route:a.value,isActive:l.value,isExactActive:c.value,error:null};h.__vrl_devtools=h.__vrl_devtools||[],h.__vrl_devtools.push(g),Cv(()=>{g.route=a.value,g.isActive=l.value,g.isExactActive=c.value,g.error=yf(vr(r.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:a,href:jr(()=>a.value.href),isActive:l,isExactActive:c,navigate:f}}const nL=sc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yb,setup(r,{slots:e}){const n=nc(yb(r)),{options:i}=ln(ch),t=jr(()=>({[Tb(r.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Tb(r.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&e.default(n);return r.custom?a:Ul("a",{"aria-current":n.isExactActive?r.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:t.value},a)}}}),iL=nL;function aL(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function sL(r,e){for(const n in e){const i=e[n],t=r[n];if(typeof i=="string"){if(i!==t)return!1}else if(!bn(t)||t.length!==i.length||i.some((a,s)=>a!==t[s]))return!1}return!0}function bb(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Tb=(r,e,n)=>r!=null?r:e!=null?e:n,oL=sc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:n}){uL();const i=ln(wm),t=jr(()=>r.route||i.value),a=ln(_b,0),s=jr(()=>{let f=vr(a);const{matched:h}=t.value;let g;for(;(g=h[f])&&!g.components;)f++;return f}),l=jr(()=>t.value.matched[s.value]);Gd(_b,jr(()=>s.value+1)),Gd(eL,l),Gd(wm,t);const c=Fn();return Gn(()=>[c.value,l.value,r.name],([f,h,g],[v,T,w])=>{h&&(h.instances[g]=f,T&&T!==h&&f&&f===v&&(h.leaveGuards.size||(h.leaveGuards=T.leaveGuards),h.updateGuards.size||(h.updateGuards=T.updateGuards))),f&&h&&(!T||!Ka(h,T)||!v)&&(h.enterCallbacks[g]||[]).forEach(D=>D(f))},{flush:"post"}),()=>{const f=t.value,h=r.name,g=l.value,v=g&&g.components[h];if(!v)return Sb(n.default,{Component:v,route:f});const T=g.props[h],w=T?T===!0?f.params:typeof T=="function"?T(f):T:null,P=Ul(v,St({},w,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(g.instances[h]=null)},ref:c}));if(Ki&&P.ref){const R={depth:s.value,name:g.name,path:g.path,meta:g.meta};(bn(P.ref)?P.ref.map(U=>U.i):[P.ref.i]).forEach(U=>{U.__vrv_devtools=R})}return Sb(n.default,{Component:P,route:f})||P}}});function Sb(r,e){if(!r)return null;const n=r(e);return n.length===1?n[0]:n}const e2=oL;function uL(){const r=zs(),e=r.parent&&r.parent.type.name,n=r.parent&&r.parent.subTree&&r.parent.subTree.type;if(e&&(e==="KeepAlive"||e.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const i=e==="KeepAlive"?"keep-alive":"transition";ht(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${i}>
    <component :is="Component" />
  </${i}>
</router-view>`)}}function nl(r,e){const n=St({},r,{matched:r.matched.map(i=>yL(i,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:r.fullPath,tooltip:e,value:n}}}function Ad(r){return{_custom:{display:r}}}let lL=0;function cL(r,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const i=lL++;XI({id:"org.vuejs.router"+(i?"."+i:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:r},t=>{typeof t.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),t.on.inspectComponent((h,g)=>{h.instanceData&&h.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:nl(e.currentRoute.value,"Current Route")})}),t.on.visitComponentTree(({treeNode:h,componentInstance:g})=>{if(g.__vrv_devtools){const v=g.__vrv_devtools;h.tags.push({label:(v.name?`${v.name.toString()}: `:"")+v.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:t2})}bn(g.__vrl_devtools)&&(g.__devtoolsApi=t,g.__vrl_devtools.forEach(v=>{let T=v.route.path,w=i2,D="",P=0;v.error?(T=v.error,w=gL,P=mL):v.isExactActive?(w=n2,D="This is exactly active"):v.isActive&&(w=r2,D="This link is active"),h.tags.push({label:T,textColor:P,tooltip:D,backgroundColor:w})}))}),Gn(e.currentRoute,()=>{c(),t.notifyComponentUpdate(),t.sendInspectorTree(l),t.sendInspectorState(l)});const a="router:navigations:"+i;t.addTimelineLayer({id:a,label:`Router${i?" "+i:""} Navigations`,color:4237508}),e.onError((h,g)=>{t.addTimelineEvent({layerId:a,event:{title:"Error during Navigation",subtitle:g.fullPath,logType:"error",time:t.now(),data:{error:h},groupId:g.meta.__navigationId}})});let s=0;e.beforeEach((h,g)=>{const v={guard:Ad("beforeEach"),from:nl(g,"Current Location during this navigation"),to:nl(h,"Target location")};Object.defineProperty(h.meta,"__navigationId",{value:s++}),t.addTimelineEvent({layerId:a,event:{time:t.now(),title:"Start of navigation",subtitle:h.fullPath,data:v,groupId:h.meta.__navigationId}})}),e.afterEach((h,g,v)=>{const T={guard:Ad("afterEach")};v?(T.failure={_custom:{type:Error,readOnly:!0,display:v?v.message:"",tooltip:"Navigation Failure",value:v}},T.status=Ad("\u274C")):T.status=Ad("\u2705"),T.from=nl(g,"Current Location during this navigation"),T.to=nl(h,"Target location"),t.addTimelineEvent({layerId:a,event:{title:"End of navigation",subtitle:h.fullPath,time:t.now(),data:T,logType:v?"warning":"default",groupId:h.meta.__navigationId}})});const l="router-inspector:"+i;t.addInspector({id:l,label:"Routes"+(i?" "+i:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!f)return;const h=f;let g=n.getRoutes().filter(v=>!v.parent||!v.parent.record.components);g.forEach(o2),h.filter&&(g=g.filter(v=>Cm(v,h.filter.toLowerCase()))),g.forEach(v=>s2(v,e.currentRoute.value)),h.rootNodes=g.map(a2)}let f;t.on.getInspectorTree(h=>{f=h,h.app===r&&h.inspectorId===l&&c()}),t.on.getInspectorState(h=>{if(h.app===r&&h.inspectorId===l){const v=n.getRoutes().find(T=>T.record.__vd_id===h.nodeId);v&&(h.state={options:fL(v)})}}),t.sendInspectorTree(l),t.sendInspectorState(l)})}function dL(r){return r.optional?r.repeatable?"*":"?":r.repeatable?"+":""}function fL(r){const{record:e}=r,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:r.re}),r.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:r.keys.map(i=>`${i.name}${dL(i)}`).join(" "),tooltip:"Param keys",value:r.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),r.alias.length&&n.push({editable:!1,key:"aliases",value:r.alias.map(i=>i.record.path)}),Object.keys(r.record.meta).length&&n.push({editable:!1,key:"meta",value:r.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:r.score.map(i=>i.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:r.score}}}),n}const t2=15485081,r2=2450411,n2=8702998,hL=2282478,i2=16486972,pL=6710886,gL=16704226,mL=12131356;function a2(r){const e=[],{record:n}=r;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:hL}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:i2}),r.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:t2}),r.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:n2}),r.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:r2}),n.redirect&&e.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:pL});let i=n.__vd_id;return i==null&&(i=String(vL++),n.__vd_id=i),{id:i,label:n.path,tags:e,children:r.children.map(a2)}}let vL=0;const _L=/^\/(.*)\/([a-z]*)$/;function s2(r,e){const n=e.matched.length&&Ka(e.matched[e.matched.length-1],r.record);r.__vd_exactActive=r.__vd_active=n,n||(r.__vd_active=e.matched.some(i=>Ka(i,r.record))),r.children.forEach(i=>s2(i,e))}function o2(r){r.__vd_match=!1,r.children.forEach(o2)}function Cm(r,e){const n=String(r.re).match(_L);if(r.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return r.children.forEach(s=>Cm(s,e)),r.record.path!=="/"||e==="/"?(r.__vd_match=r.re.test(e),!0):!1;const t=r.record.path.toLowerCase(),a=Wo(t);return!e.startsWith("/")&&(a.includes(e)||t.includes(e))||a.startsWith(e)||t.startsWith(e)||r.record.name&&String(r.record.name).includes(e)?!0:r.children.some(s=>Cm(s,e))}function yL(r,e){const n={};for(const i in r)e.includes(i)||(n[i]=r[i]);return n}function bL(r){const e=WO(r.routes,r),n=r.parseQuery||QO,i=r.stringifyQuery||vb,t=r.history;if(!t)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const a=rl(),s=rl(),l=rl(),c=Vd(La);let f=La;Ki&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=xg.bind(null,ne=>""+ne),g=xg.bind(null,gO),v=xg.bind(null,Wo);function T(ne,be){let xe,Me;return Yx(ne)?(xe=e.getRecordMatcher(ne),xe||ht(`Parent route "${String(ne)}" not found when adding child route`,be),Me=be):Me=ne,e.addRoute(Me,xe)}function w(ne){const be=e.getRecordMatcher(ne);be?e.removeRoute(be):ht(`Cannot remove non-existent route "${String(ne)}"`)}function D(){return e.getRoutes().map(ne=>ne.record)}function P(ne){return!!e.getRecordMatcher(ne)}function R(ne,be){if(be=St({},be||c.value),typeof ne=="string"){const F=Eg(n,ne,be.path),W=e.resolve({path:F.path},be),re=t.createHref(F.fullPath);return re.startsWith("//")?ht(`Location "${ne}" resolved to "${re}". A resolved location cannot start with multiple slashes.`):W.matched.length||ht(`No match found for location with path "${ne}"`),St(F,W,{params:v(W.params),hash:Wo(F.hash),redirectedFrom:void 0,href:re})}yf(ne)||(ht(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,ne),ne={});let xe;if(ne.path!=null)"params"in ne&&!("name"in ne)&&Object.keys(ne.params).length&&ht(`Path "${ne.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),xe=St({},ne,{path:Eg(n,ne.path,be.path).path});else{const F=St({},ne.params);for(const W in F)F[W]==null&&delete F[W];xe=St({},ne,{params:g(F)}),be.params=g(be.params)}const Me=e.resolve(xe,be),et=ne.hash||"";et&&!et.startsWith("#")&&ht(`A \`hash\` should always start with the character "#". Replace "${et}" with "#${et}".`),Me.params=h(v(Me.params));const xt=_O(i,St({},ne,{hash:fO(et),path:Me.path})),it=t.createHref(xt);return it.startsWith("//")?ht(`Location "${ne}" resolved to "${it}". A resolved location cannot start with multiple slashes.`):Me.matched.length||ht(`No match found for location with path "${ne.path!=null?ne.path:ne}"`),St({fullPath:xt,hash:et,query:i===vb?ZO(ne.query):ne.query||{}},Me,{redirectedFrom:void 0,href:it})}function M(ne){return typeof ne=="string"?Eg(n,ne,c.value.path):St({},ne)}function U(ne,be){if(f!==ne)return Go(8,{from:be,to:ne})}function j(ne){return $(ne)}function J(ne){return j(St(M(ne),{replace:!0}))}function te(ne){const be=ne.matched[ne.matched.length-1];if(be&&be.redirect){const{redirect:xe}=be;let Me=typeof xe=="function"?xe(ne):xe;if(typeof Me=="string"&&(Me=Me.includes("?")||Me.includes("#")?Me=M(Me):{path:Me},Me.params={}),Me.path==null&&!("name"in Me))throw ht(`Invalid redirect found:
${JSON.stringify(Me,null,2)}
 when navigating to "${ne.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return St({query:ne.query,hash:ne.hash,params:Me.path!=null?{}:ne.params},Me)}}function $(ne,be){const xe=f=R(ne),Me=c.value,et=ne.state,xt=ne.force,it=ne.replace===!0,F=te(xe);if(F)return $(St(M(F),{state:typeof F=="object"?St({},et,F.state):et,force:xt,replace:it}),be||xe);const W=xe;W.redirectedFrom=be;let re;return!xt&&ob(i,Me,xe)&&(re=Go(16,{to:W,from:Me}),Dr(Me,Me,!0,!1)),(re?Promise.resolve(re):K(W,Me)).catch(ie=>$i(ie)?$i(ie,2)?ie:dt(ie):we(ie,W,Me)).then(ie=>{if(ie){if($i(ie,2))return ob(i,R(ie.to),W)&&be&&(be._count=be._count?be._count+1:1)>30?(ht(`Detected a possibly infinite redirection in a navigation guard when going from "${Me.fullPath}" to "${W.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):$(St({replace:it},M(ie.to),{state:typeof ie.to=="object"?St({},et,ie.to.state):et,force:xt}),be||W)}else ie=Z(W,Me,!0,it,et);return ee(W,Me,ie),ie})}function H(ne,be){const xe=U(ne,be);return xe?Promise.reject(xe):Promise.resolve()}function X(ne){const be=cr.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(ne):ne()}function K(ne,be){let xe;const[Me,et,xt]=TL(ne,be);xe=wg(Me.reverse(),"beforeRouteLeave",ne,be);for(const F of Me)F.leaveGuards.forEach(W=>{xe.push($a(W,ne,be))});const it=H.bind(null,ne,be);return xe.push(it),$t(xe).then(()=>{xe=[];for(const F of a.list())xe.push($a(F,ne,be));return xe.push(it),$t(xe)}).then(()=>{xe=wg(et,"beforeRouteUpdate",ne,be);for(const F of et)F.updateGuards.forEach(W=>{xe.push($a(W,ne,be))});return xe.push(it),$t(xe)}).then(()=>{xe=[];for(const F of xt)if(F.beforeEnter)if(bn(F.beforeEnter))for(const W of F.beforeEnter)xe.push($a(W,ne,be));else xe.push($a(F.beforeEnter,ne,be));return xe.push(it),$t(xe)}).then(()=>(ne.matched.forEach(F=>F.enterCallbacks={}),xe=wg(xt,"beforeRouteEnter",ne,be,X),xe.push(it),$t(xe))).then(()=>{xe=[];for(const F of s.list())xe.push($a(F,ne,be));return xe.push(it),$t(xe)}).catch(F=>$i(F,8)?F:Promise.reject(F))}function ee(ne,be,xe){l.list().forEach(Me=>X(()=>Me(ne,be,xe)))}function Z(ne,be,xe,Me,et){const xt=U(ne,be);if(xt)return xt;const it=be===La,F=Ki?history.state:{};xe&&(Me||it?t.replace(ne.fullPath,St({scroll:it&&F&&F.scroll},et)):t.push(ne.fullPath,et)),c.value=ne,Dr(ne,be,xe,it),dt()}let le;function Be(){le||(le=t.listen((ne,be,xe)=>{if(!Pr.listening)return;const Me=R(ne),et=te(Me);if(et){$(St(et,{replace:!0}),Me).catch(Al);return}f=Me;const xt=c.value;Ki&&CO(lb(xt.fullPath,xe.delta),lh()),K(Me,xt).catch(it=>$i(it,12)?it:$i(it,2)?($(it.to,Me).then(F=>{$i(F,20)&&!xe.delta&&xe.type===$l.pop&&t.go(-1,!1)}).catch(Al),Promise.reject()):(xe.delta&&t.go(-xe.delta,!1),we(it,Me,xt))).then(it=>{it=it||Z(Me,xt,!1),it&&(xe.delta&&!$i(it,8)?t.go(-xe.delta,!1):xe.type===$l.pop&&$i(it,20)&&t.go(-1,!1)),ee(Me,xt,it)}).catch(Al)}))}let je=rl(),De=rl(),me;function we(ne,be,xe){dt(ne);const Me=De.list();return Me.length?Me.forEach(et=>et(ne,be,xe)):(ht("uncaught error during route navigation:"),console.error(ne)),Promise.reject(ne)}function _t(){return me&&c.value!==La?Promise.resolve():new Promise((ne,be)=>{je.add([ne,be])})}function dt(ne){return me||(me=!ne,Be(),je.list().forEach(([be,xe])=>ne?xe(ne):be()),je.reset()),ne}function Dr(ne,be,xe,Me){const{scrollBehavior:et}=r;if(!Ki||!et)return Promise.resolve();const xt=!xe&&AO(lb(ne.fullPath,0))||(Me||!xe)&&history.state&&history.state.scroll||null;return lf().then(()=>et(ne,be,xt)).then(it=>it&&wO(it)).catch(it=>we(it,ne,be))}const Lt=ne=>t.go(ne);let jt;const cr=new Set,Pr={currentRoute:c,listening:!0,addRoute:T,removeRoute:w,hasRoute:P,getRoutes:D,resolve:R,options:r,push:j,replace:J,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:a.add,beforeResolve:s.add,afterEach:l.add,onError:De.add,isReady:_t,install(ne){const be=this;ne.component("RouterLink",iL),ne.component("RouterView",e2),ne.config.globalProperties.$router=be,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>vr(c)}),Ki&&!jt&&c.value===La&&(jt=!0,j(t.location).catch(et=>{ht("Unexpected error when starting the router:",et)}));const xe={};for(const et in La)Object.defineProperty(xe,et,{get:()=>c.value[et],enumerable:!0});ne.provide(ch,be),ne.provide(Fv,FS(xe)),ne.provide(wm,c);const Me=ne.unmount;cr.add(ne),ne.unmount=function(){cr.delete(ne),cr.size<1&&(f=La,le&&le(),le=null,c.value=La,jt=!1,me=!1),Me()},Ki&&cL(ne,be,e)}};function $t(ne){return ne.reduce((be,xe)=>be.then(()=>X(xe)),Promise.resolve())}return Pr}function TL(r,e){const n=[],i=[],t=[],a=Math.max(e.matched.length,r.matched.length);for(let s=0;s<a;s++){const l=e.matched[s];l&&(r.matched.find(f=>Ka(f,l))?i.push(l):n.push(l));const c=r.matched[s];c&&(e.matched.find(f=>Ka(f,c))||t.push(c))}return[n,i,t]}function X8(){return ln(ch)}function J8(){return ln(Fv)}const SL=sc({__name:"App",setup(r){return(e,n)=>(ah(),Lv(vr(e2)))}}),xL=(r,e)=>{const n=r.__vccOpts||r;for(const[i,t]of e)n[i]=t;return n},EL=xL(SL,[["__file","/Users/yunmingchun/Project/mate_index2/src/App.vue"]]),wL="modulepreload",CL=function(r,e){return new URL(r,e).href},xb={},kd=function(e,n,i){if(!n||n.length===0)return e();const t=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=CL(a,i),a in xb)return;xb[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!i)for(let h=t.length-1;h>=0;h--){const g=t[h];if(g.href===a&&(!s||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":wL,s||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),s)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())};class sr{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){const n=sr.hexChars,i=sr.hexOut;let t,a,s,l;for(l=0;l<4;l+=1)for(a=l*8,t=e[l],s=0;s<8;s+=2)i[a+1+s]=n.charAt(t&15),t>>>=4,i[a+0+s]=n.charAt(t&15),t>>>=4;return i.join("")}static _md5cycle(e,n){let i=e[0],t=e[1],a=e[2],s=e[3];i+=(t&a|~t&s)+n[0]-680876936|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[1]-389564586|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[2]+606105819|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[3]-1044525330|0,t=(t<<22|t>>>10)+a|0,i+=(t&a|~t&s)+n[4]-176418897|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[5]+1200080426|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[6]-1473231341|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[7]-45705983|0,t=(t<<22|t>>>10)+a|0,i+=(t&a|~t&s)+n[8]+1770035416|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[9]-1958414417|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[10]-42063|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[11]-1990404162|0,t=(t<<22|t>>>10)+a|0,i+=(t&a|~t&s)+n[12]+1804603682|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[13]-40341101|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[14]-1502002290|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[15]+1236535329|0,t=(t<<22|t>>>10)+a|0,i+=(t&s|a&~s)+n[1]-165796510|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[6]-1069501632|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[11]+643717713|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[0]-373897302|0,t=(t<<20|t>>>12)+a|0,i+=(t&s|a&~s)+n[5]-701558691|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[10]+38016083|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[15]-660478335|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[4]-405537848|0,t=(t<<20|t>>>12)+a|0,i+=(t&s|a&~s)+n[9]+568446438|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[14]-1019803690|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[3]-187363961|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[8]+1163531501|0,t=(t<<20|t>>>12)+a|0,i+=(t&s|a&~s)+n[13]-1444681467|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[2]-51403784|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[7]+1735328473|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[12]-1926607734|0,t=(t<<20|t>>>12)+a|0,i+=(t^a^s)+n[5]-378558|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[8]-2022574463|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[11]+1839030562|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[14]-35309556|0,t=(t<<23|t>>>9)+a|0,i+=(t^a^s)+n[1]-1530992060|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[4]+1272893353|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[7]-155497632|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[10]-1094730640|0,t=(t<<23|t>>>9)+a|0,i+=(t^a^s)+n[13]+681279174|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[0]-358537222|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[3]-722521979|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[6]+76029189|0,t=(t<<23|t>>>9)+a|0,i+=(t^a^s)+n[9]-640364487|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[12]-421815835|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[15]+530742520|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[2]-995338651|0,t=(t<<23|t>>>9)+a|0,i+=(a^(t|~s))+n[0]-198630844|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[7]+1126891415|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[14]-1416354905|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[5]-57434055|0,t=(t<<21|t>>>11)+a|0,i+=(a^(t|~s))+n[12]+1700485571|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[3]-1894986606|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[10]-1051523|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[1]-2054922799|0,t=(t<<21|t>>>11)+a|0,i+=(a^(t|~s))+n[8]+1873313359|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[15]-30611744|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[6]-1560198380|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[13]+1309151649|0,t=(t<<21|t>>>11)+a|0,i+=(a^(t|~s))+n[4]-145523070|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[11]-1120210379|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[2]+718787259|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[9]-343485551|0,t=(t<<21|t>>>11)+a|0,e[0]=i+e[0]|0,e[1]=t+e[1]|0,e[2]=a+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(sr.stateIdentity),this}appendStr(e){const n=this._buffer8,i=this._buffer32;let t=this._bufferLength,a,s;for(s=0;s<e.length;s+=1){if(a=e.charCodeAt(s),a<128)n[t++]=a;else if(a<2048)n[t++]=(a>>>6)+192,n[t++]=a&63|128;else if(a<55296||a>56319)n[t++]=(a>>>12)+224,n[t++]=a>>>6&63|128,n[t++]=a&63|128;else{if(a=(a-55296)*1024+(e.charCodeAt(++s)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[t++]=(a>>>18)+240,n[t++]=a>>>12&63|128,n[t++]=a>>>6&63|128,n[t++]=a&63|128}t>=64&&(this._dataLength+=64,sr._md5cycle(this._state,i),t-=64,i[0]=i[16])}return this._bufferLength=t,this}appendAsciiStr(e){const n=this._buffer8,i=this._buffer32;let t=this._bufferLength,a,s=0;for(;;){for(a=Math.min(e.length-s,64-t);a--;)n[t++]=e.charCodeAt(s++);if(t<64)break;this._dataLength+=64,sr._md5cycle(this._state,i),t=0}return this._bufferLength=t,this}appendByteArray(e){const n=this._buffer8,i=this._buffer32;let t=this._bufferLength,a,s=0;for(;;){for(a=Math.min(e.length-s,64-t);a--;)n[t++]=e[s++];if(t<64)break;this._dataLength+=64,sr._md5cycle(this._state,i),t=0}return this._bufferLength=t,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const n=e.buffer,i=e.state,t=this._state;let a;for(this._dataLength=e.length,this._bufferLength=e.buflen,t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],a=0;a<n.length;a+=1)this._buffer8[a]=n.charCodeAt(a)}end(e=!1){const n=this._bufferLength,i=this._buffer8,t=this._buffer32,a=(n>>2)+1;this._dataLength+=n;const s=this._dataLength*8;if(i[n]=128,i[n+1]=i[n+2]=i[n+3]=0,t.set(sr.buffer32Identity.subarray(a),a),n>55&&(sr._md5cycle(this._state,t),t.set(sr.buffer32Identity)),s<=4294967295)t[14]=s;else{const l=s.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;const c=parseInt(l[2],16),f=parseInt(l[1],16)||0;t[14]=c,t[15]=f}return sr._md5cycle(this._state,t),e?this._state:sr._hex(this._state)}}sr.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);sr.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);sr.hexChars="0123456789abcdef";sr.hexOut=[];sr.onePassHasher=new sr;if(sr.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");function u2(r,e){return function(){return r.apply(e,arguments)}}const{toString:AL}=Object.prototype,{getPrototypeOf:Mv}=Object,dh=(r=>e=>{const n=AL.call(e);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=r=>(r=r.toLowerCase(),e=>dh(e)===r),fh=r=>e=>typeof e===r,{isArray:su}=Array,Hl=fh("undefined");function kL(r){return r!==null&&!Hl(r)&&r.constructor!==null&&!Hl(r.constructor)&&Ln(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const l2=Zn("ArrayBuffer");function DL(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&l2(r.buffer),e}const PL=fh("string"),Ln=fh("function"),c2=fh("number"),hh=r=>r!==null&&typeof r=="object",IL=r=>r===!0||r===!1,Xd=r=>{if(dh(r)!=="object")return!1;const e=Mv(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},OL=Zn("Date"),LL=Zn("File"),RL=Zn("Blob"),NL=Zn("FileList"),FL=r=>hh(r)&&Ln(r.pipe),ML=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Ln(r.append)&&((e=dh(r))==="formdata"||e==="object"&&Ln(r.toString)&&r.toString()==="[object FormData]"))},BL=Zn("URLSearchParams"),[UL,jL,$L,HL]=["ReadableStream","Request","Response","Headers"].map(Zn),VL=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dc(r,e,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let i,t;if(typeof r!="object"&&(r=[r]),su(r))for(i=0,t=r.length;i<t;i++)e.call(null,r[i],i,r);else{const a=n?Object.getOwnPropertyNames(r):Object.keys(r),s=a.length;let l;for(i=0;i<s;i++)l=a[i],e.call(null,r[l],l,r)}}function d2(r,e){e=e.toLowerCase();const n=Object.keys(r);let i=n.length,t;for(;i-- >0;)if(t=n[i],e===t.toLowerCase())return t;return null}const f2=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),h2=r=>!Hl(r)&&r!==f2;function Am(){const{caseless:r}=h2(this)&&this||{},e={},n=(i,t)=>{const a=r&&d2(e,t)||t;Xd(e[a])&&Xd(i)?e[a]=Am(e[a],i):Xd(i)?e[a]=Am({},i):su(i)?e[a]=i.slice():e[a]=i};for(let i=0,t=arguments.length;i<t;i++)arguments[i]&&dc(arguments[i],n);return e}const qL=(r,e,n,{allOwnKeys:i}={})=>(dc(e,(t,a)=>{n&&Ln(t)?r[a]=u2(t,n):r[a]=t},{allOwnKeys:i}),r),WL=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),GL=(r,e,n,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),n&&Object.assign(r.prototype,n)},zL=(r,e,n,i)=>{let t,a,s;const l={};if(e=e||{},r==null)return e;do{for(t=Object.getOwnPropertyNames(r),a=t.length;a-- >0;)s=t[a],(!i||i(s,r,e))&&!l[s]&&(e[s]=r[s],l[s]=!0);r=n!==!1&&Mv(r)}while(r&&(!n||n(r,e))&&r!==Object.prototype);return e},KL=(r,e,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=e.length;const i=r.indexOf(e,n);return i!==-1&&i===n},XL=r=>{if(!r)return null;if(su(r))return r;let e=r.length;if(!c2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=r[e];return n},JL=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Mv(Uint8Array)),YL=(r,e)=>{const i=(r&&r[Symbol.iterator]).call(r);let t;for(;(t=i.next())&&!t.done;){const a=t.value;e.call(r,a[0],a[1])}},QL=(r,e)=>{let n;const i=[];for(;(n=r.exec(e))!==null;)i.push(n);return i},ZL=Zn("HTMLFormElement"),eR=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,t){return i.toUpperCase()+t}),Eb=(({hasOwnProperty:r})=>(e,n)=>r.call(e,n))(Object.prototype),tR=Zn("RegExp"),p2=(r,e)=>{const n=Object.getOwnPropertyDescriptors(r),i={};dc(n,(t,a)=>{let s;(s=e(t,a,r))!==!1&&(i[a]=s||t)}),Object.defineProperties(r,i)},rR=r=>{p2(r,(e,n)=>{if(Ln(r)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=r[n];if(!!Ln(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nR=(r,e)=>{const n={},i=t=>{t.forEach(a=>{n[a]=!0})};return su(r)?i(r):i(String(r).split(e)),n},iR=()=>{},aR=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,Cg="abcdefghijklmnopqrstuvwxyz",wb="0123456789",g2={DIGIT:wb,ALPHA:Cg,ALPHA_DIGIT:Cg+Cg.toUpperCase()+wb},sR=(r=16,e=g2.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;r--;)n+=e[Math.random()*i|0];return n};function oR(r){return!!(r&&Ln(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const uR=r=>{const e=new Array(10),n=(i,t)=>{if(hh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[t]=i;const a=su(i)?[]:{};return dc(i,(s,l)=>{const c=n(s,t+1);!Hl(c)&&(a[l]=c)}),e[t]=void 0,a}}return i};return n(r,0)},lR=Zn("AsyncFunction"),cR=r=>r&&(hh(r)||Ln(r))&&Ln(r.then)&&Ln(r.catch),oe={isArray:su,isArrayBuffer:l2,isBuffer:kL,isFormData:ML,isArrayBufferView:DL,isString:PL,isNumber:c2,isBoolean:IL,isObject:hh,isPlainObject:Xd,isReadableStream:UL,isRequest:jL,isResponse:$L,isHeaders:HL,isUndefined:Hl,isDate:OL,isFile:LL,isBlob:RL,isRegExp:tR,isFunction:Ln,isStream:FL,isURLSearchParams:BL,isTypedArray:JL,isFileList:NL,forEach:dc,merge:Am,extend:qL,trim:VL,stripBOM:WL,inherits:GL,toFlatObject:zL,kindOf:dh,kindOfTest:Zn,endsWith:KL,toArray:XL,forEachEntry:YL,matchAll:QL,isHTMLForm:ZL,hasOwnProperty:Eb,hasOwnProp:Eb,reduceDescriptors:p2,freezeMethods:rR,toObjectSet:nR,toCamelCase:eR,noop:iR,toFiniteNumber:aR,findKey:d2,global:f2,isContextDefined:h2,ALPHABET:g2,generateString:sR,isSpecCompliantForm:oR,toJSONObject:uR,isAsyncFn:lR,isThenable:cR};function lt(r,e,n,i,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),t&&(this.response=t)}oe.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const m2=lt.prototype,v2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{v2[r]={value:r}});Object.defineProperties(lt,v2);Object.defineProperty(m2,"isAxiosError",{value:!0});lt.from=(r,e,n,i,t,a)=>{const s=Object.create(m2);return oe.toFlatObject(r,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),lt.call(s,r.message,e,n,i,t),s.cause=r,s.name=r.name,a&&Object.assign(s,a),s};const dR=null;function km(r){return oe.isPlainObject(r)||oe.isArray(r)}function _2(r){return oe.endsWith(r,"[]")?r.slice(0,-2):r}function Cb(r,e,n){return r?r.concat(e).map(function(t,a){return t=_2(t),!n&&a?"["+t+"]":t}).join(n?".":""):e}function fR(r){return oe.isArray(r)&&!r.some(km)}const hR=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function ph(r,e,n){if(!oe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,P){return!oe.isUndefined(P[D])});const i=n.metaTokens,t=n.visitor||h,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(t))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(oe.isDate(w))return w.toISOString();if(!c&&oe.isBlob(w))throw new lt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(w)||oe.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,D,P){let R=w;if(w&&!P&&typeof w=="object"){if(oe.endsWith(D,"{}"))D=i?D:D.slice(0,-2),w=JSON.stringify(w);else if(oe.isArray(w)&&fR(w)||(oe.isFileList(w)||oe.endsWith(D,"[]"))&&(R=oe.toArray(w)))return D=_2(D),R.forEach(function(U,j){!(oe.isUndefined(U)||U===null)&&e.append(s===!0?Cb([D],j,a):s===null?D:D+"[]",f(U))}),!1}return km(w)?!0:(e.append(Cb(P,D,a),f(w)),!1)}const g=[],v=Object.assign(hR,{defaultVisitor:h,convertValue:f,isVisitable:km});function T(w,D){if(!oe.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+D.join("."));g.push(w),oe.forEach(w,function(R,M){(!(oe.isUndefined(R)||R===null)&&t.call(e,R,oe.isString(M)?M.trim():M,D,v))===!0&&T(R,D?D.concat(M):[M])}),g.pop()}}if(!oe.isObject(r))throw new TypeError("data must be an object");return T(r),e}function Ab(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Bv(r,e){this._pairs=[],r&&ph(r,this,e)}const y2=Bv.prototype;y2.append=function(e,n){this._pairs.push([e,n])};y2.toString=function(e){const n=e?function(i){return e.call(this,i,Ab)}:Ab;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function pR(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function b2(r,e,n){if(!e)return r;const i=n&&n.encode||pR,t=n&&n.serialize;let a;if(t?a=t(e,n):a=oe.isURLSearchParams(e)?e.toString():new Bv(e,n).toString(i),a){const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class gR{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const kb=gR,T2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mR=typeof URLSearchParams<"u"?URLSearchParams:Bv,vR=typeof FormData<"u"?FormData:null,_R=typeof Blob<"u"?Blob:null,yR={isBrowser:!0,classes:{URLSearchParams:mR,FormData:vR,Blob:_R},protocols:["http","https","file","blob","url","data"]},Uv=typeof window<"u"&&typeof document<"u",bR=(r=>Uv&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),TR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),SR=Uv&&window.location.href||"http://localhost",xR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uv,hasStandardBrowserWebWorkerEnv:TR,hasStandardBrowserEnv:bR,origin:SR},Symbol.toStringTag,{value:"Module"})),zn={...xR,...yR};function ER(r,e){return ph(r,new zn.classes.URLSearchParams,Object.assign({visitor:function(n,i,t,a){return zn.isNode&&oe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function wR(r){return oe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CR(r){const e={},n=Object.keys(r);let i;const t=n.length;let a;for(i=0;i<t;i++)a=n[i],e[a]=r[a];return e}function S2(r){function e(n,i,t,a){let s=n[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=n.length;return s=!s&&oe.isArray(t)?t.length:s,c?(oe.hasOwnProp(t,s)?t[s]=[t[s],i]:t[s]=i,!l):((!t[s]||!oe.isObject(t[s]))&&(t[s]=[]),e(n,i,t[s],a)&&oe.isArray(t[s])&&(t[s]=CR(t[s])),!l)}if(oe.isFormData(r)&&oe.isFunction(r.entries)){const n={};return oe.forEachEntry(r,(i,t)=>{e(wR(i),t,n,0)}),n}return null}function AR(r,e,n){if(oe.isString(r))try{return(e||JSON.parse)(r),oe.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(r)}const jv={transitional:T2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",t=i.indexOf("application/json")>-1,a=oe.isObject(e);if(a&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return t?JSON.stringify(S2(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return ER(e,this.formSerializer).toString();if((l=oe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ph(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||t?(n.setContentType("application/json",!1),AR(e)):e}],transformResponse:[function(e){const n=this.transitional||jv.transitional,i=n&&n.forcedJSONParsing,t=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(i&&!this.responseType||t)){const s=!(n&&n.silentJSONParsing)&&t;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?lt.from(l,lt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],r=>{jv.headers[r]={}});const $v=jv,kR=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DR=r=>{const e={};let n,i,t;return r&&r.split(`
`).forEach(function(s){t=s.indexOf(":"),n=s.substring(0,t).trim().toLowerCase(),i=s.substring(t+1).trim(),!(!n||e[n]&&kR[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Db=Symbol("internals");function il(r){return r&&String(r).trim().toLowerCase()}function Jd(r){return r===!1||r==null?r:oe.isArray(r)?r.map(Jd):String(r)}function PR(r){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(r);)e[i[1]]=i[2];return e}const IR=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ag(r,e,n,i,t){if(oe.isFunction(i))return i.call(this,e,n);if(t&&(e=n),!!oe.isString(e)){if(oe.isString(i))return e.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(e)}}function OR(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function LR(r,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+n,{value:function(t,a,s){return this[i].call(this,e,t,a,s)},configurable:!0})})}class gh{constructor(e){e&&this.set(e)}set(e,n,i){const t=this;function a(l,c,f){const h=il(c);if(!h)throw new Error("header name must be a non-empty string");const g=oe.findKey(t,h);(!g||t[g]===void 0||f===!0||f===void 0&&t[g]!==!1)&&(t[g||c]=Jd(l))}const s=(l,c)=>oe.forEach(l,(f,h)=>a(f,h,c));if(oe.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(oe.isString(e)&&(e=e.trim())&&!IR(e))s(DR(e),n);else if(oe.isHeaders(e))for(const[l,c]of e.entries())a(c,l,i);else e!=null&&a(n,e,i);return this}get(e,n){if(e=il(e),e){const i=oe.findKey(this,e);if(i){const t=this[i];if(!n)return t;if(n===!0)return PR(t);if(oe.isFunction(n))return n.call(this,t,i);if(oe.isRegExp(n))return n.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=il(e),e){const i=oe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Ag(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let t=!1;function a(s){if(s=il(s),s){const l=oe.findKey(i,s);l&&(!n||Ag(i,i[l],l,n))&&(delete i[l],t=!0)}}return oe.isArray(e)?e.forEach(a):a(e),t}clear(e){const n=Object.keys(this);let i=n.length,t=!1;for(;i--;){const a=n[i];(!e||Ag(this,this[a],a,e,!0))&&(delete this[a],t=!0)}return t}normalize(e){const n=this,i={};return oe.forEach(this,(t,a)=>{const s=oe.findKey(i,a);if(s){n[s]=Jd(t),delete n[a];return}const l=e?OR(a):String(a).trim();l!==a&&delete n[a],n[l]=Jd(t),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(i,t)=>{i!=null&&i!==!1&&(n[t]=e&&oe.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(t=>i.set(t)),i}static accessor(e){const i=(this[Db]=this[Db]={accessors:{}}).accessors,t=this.prototype;function a(s){const l=il(s);i[l]||(LR(t,s),i[l]=!0)}return oe.isArray(e)?e.forEach(a):a(e),this}}gh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(gh.prototype,({value:r},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[n]=i}}});oe.freezeMethods(gh);const Kn=gh;function kg(r,e){const n=this||$v,i=e||n,t=Kn.from(i.headers);let a=i.data;return oe.forEach(r,function(l){a=l.call(n,a,t.normalize(),e?e.status:void 0)}),t.normalize(),a}function x2(r){return!!(r&&r.__CANCEL__)}function ou(r,e,n){lt.call(this,r==null?"canceled":r,lt.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(ou,lt,{__CANCEL__:!0});function E2(r,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?r(n):e(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RR(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function NR(r,e){r=r||10;const n=new Array(r),i=new Array(r);let t=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),h=i[a];s||(s=f),n[t]=c,i[t]=f;let g=a,v=0;for(;g!==t;)v+=n[g++],g=g%r;if(t=(t+1)%r,t===a&&(a=(a+1)%r),f-s<e)return;const T=h&&f-h;return T?Math.round(v*1e3/T):void 0}}function FR(r,e){let n=0;const i=1e3/e;let t=null;return function(){const s=this===!0,l=Date.now();if(s||l-n>i)return t&&(clearTimeout(t),t=null),n=l,r.apply(null,arguments);t||(t=setTimeout(()=>(t=null,n=Date.now(),r.apply(null,arguments)),i-(l-n)))}}const bf=(r,e,n=3)=>{let i=0;const t=NR(50,250);return FR(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-i,f=t(c),h=s<=l;i=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&h?(l-s)/f:void 0,event:a,lengthComputable:l!=null};g[e?"download":"upload"]=!0,r(g)},n)},MR=zn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function t(a){let s=a;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=t(window.location.href),function(s){const l=oe.isString(s)?t(s):s;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),BR=zn.hasStandardBrowserEnv?{write(r,e,n,i,t,a){const s=[r+"="+encodeURIComponent(e)];oe.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),oe.isString(i)&&s.push("path="+i),oe.isString(t)&&s.push("domain="+t),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UR(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function jR(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function w2(r,e){return r&&!UR(e)?jR(r,e):e}const Pb=r=>r instanceof Kn?{...r}:r;function qs(r,e){e=e||{};const n={};function i(f,h,g){return oe.isPlainObject(f)&&oe.isPlainObject(h)?oe.merge.call({caseless:g},f,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function t(f,h,g){if(oe.isUndefined(h)){if(!oe.isUndefined(f))return i(void 0,f,g)}else return i(f,h,g)}function a(f,h){if(!oe.isUndefined(h))return i(void 0,h)}function s(f,h){if(oe.isUndefined(h)){if(!oe.isUndefined(f))return i(void 0,f)}else return i(void 0,h)}function l(f,h,g){if(g in e)return i(f,h);if(g in r)return i(void 0,f)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(f,h)=>t(Pb(f),Pb(h),!0)};return oe.forEach(Object.keys(Object.assign({},r,e)),function(h){const g=c[h]||t,v=g(r[h],e[h],h);oe.isUndefined(v)&&g!==l||(n[h]=v)}),n}const C2=r=>{const e=qs({},r);let{data:n,withXSRFToken:i,xsrfHeaderName:t,xsrfCookieName:a,headers:s,auth:l}=e;e.headers=s=Kn.from(s),e.url=b2(w2(e.baseURL,e.url),r.params,r.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[f,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...h].join("; "))}}if(zn.hasStandardBrowserEnv&&(i&&oe.isFunction(i)&&(i=i(e)),i||i!==!1&&MR(e.url))){const f=t&&a&&BR.read(a);f&&s.set(t,f)}return e},$R=typeof XMLHttpRequest<"u",HR=$R&&function(r){return new Promise(function(n,i){const t=C2(r);let a=t.data;const s=Kn.from(t.headers).normalize();let{responseType:l}=t,c;function f(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let h=new XMLHttpRequest;h.open(t.method.toUpperCase(),t.url,!0),h.timeout=t.timeout;function g(){if(!h)return;const T=Kn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:T,config:r,request:h};E2(function(R){n(R),f()},function(R){i(R),f()},D),h=null}"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){!h||(i(new lt("Request aborted",lt.ECONNABORTED,t,h)),h=null)},h.onerror=function(){i(new lt("Network Error",lt.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const D=t.transitional||T2;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),i(new lt(w,D.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,t,h)),h=null},a===void 0&&s.setContentType(null),"setRequestHeader"in h&&oe.forEach(s.toJSON(),function(w,D){h.setRequestHeader(D,w)}),oe.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),l&&l!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",bf(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",bf(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=T=>{!h||(i(!T||T.type?new ou(null,r,h):T),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const v=RR(t.url);if(v&&zn.protocols.indexOf(v)===-1){i(new lt("Unsupported protocol "+v+":",lt.ERR_BAD_REQUEST,r));return}h.send(a||null)})},VR=(r,e)=>{let n=new AbortController,i;const t=function(c){if(!i){i=!0,s();const f=c instanceof Error?c:this.reason;n.abort(f instanceof lt?f:new ou(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{t(new lt(`timeout ${e} of ms exceeded`,lt.ETIMEDOUT))},e);const s=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",t):c.unsubscribe(t))}),r=null)};r.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",t));const{signal:l}=n;return l.unsubscribe=s,[l,()=>{a&&clearTimeout(a),a=null}]},qR=VR,WR=function*(r,e){let n=r.byteLength;if(!e||n<e){yield r;return}let i=0,t;for(;i<n;)t=i+e,yield r.slice(i,t),i=t},GR=async function*(r,e,n){for await(const i of r)yield*WR(ArrayBuffer.isView(i)?i:await n(String(i)),e)},Ib=(r,e,n,i,t)=>{const a=GR(r,e,t);let s=0;return new ReadableStream({type:"bytes",async pull(l){const{done:c,value:f}=await a.next();if(c){l.close(),i();return}let h=f.byteLength;n&&n(s+=h),l.enqueue(new Uint8Array(f))},cancel(l){return i(l),a.return()}},{highWaterMark:2})},Ob=(r,e)=>{const n=r!=null;return i=>setTimeout(()=>e({lengthComputable:n,total:r,loaded:i}))},mh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",A2=mh&&typeof ReadableStream=="function",Dm=mh&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),zR=A2&&(()=>{let r=!1;const e=new Request(zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e})(),Lb=64*1024,Pm=A2&&!!(()=>{try{return oe.isReadableStream(new Response("").body)}catch{}})(),Tf={stream:Pm&&(r=>r.body)};mh&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Tf[e]&&(Tf[e]=oe.isFunction(r[e])?n=>n[e]():(n,i)=>{throw new lt(`Response type '${e}' is not supported`,lt.ERR_NOT_SUPPORT,i)})})})(new Response);const KR=async r=>{if(r==null)return 0;if(oe.isBlob(r))return r.size;if(oe.isSpecCompliantForm(r))return(await new Request(r).arrayBuffer()).byteLength;if(oe.isArrayBufferView(r))return r.byteLength;if(oe.isURLSearchParams(r)&&(r=r+""),oe.isString(r))return(await Dm(r)).byteLength},XR=async(r,e)=>{const n=oe.toFiniteNumber(r.getContentLength());return n==null?KR(e):n},JR=mh&&(async r=>{let{url:e,method:n,data:i,signal:t,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:f,headers:h,withCredentials:g="same-origin",fetchOptions:v}=C2(r);f=f?(f+"").toLowerCase():"text";let[T,w]=t||a||s?qR([t,a],s):[],D,P;const R=()=>{!D&&setTimeout(()=>{T&&T.unsubscribe()}),D=!0};let M;try{if(c&&zR&&n!=="get"&&n!=="head"&&(M=await XR(h,i))!==0){let te=new Request(e,{method:"POST",body:i,duplex:"half"}),$;oe.isFormData(i)&&($=te.headers.get("content-type"))&&h.setContentType($),te.body&&(i=Ib(te.body,Lb,Ob(M,bf(c)),null,Dm))}oe.isString(g)||(g=g?"cors":"omit"),P=new Request(e,{...v,signal:T,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",withCredentials:g});let U=await fetch(P);const j=Pm&&(f==="stream"||f==="response");if(Pm&&(l||j)){const te={};["status","statusText","headers"].forEach(H=>{te[H]=U[H]});const $=oe.toFiniteNumber(U.headers.get("content-length"));U=new Response(Ib(U.body,Lb,l&&Ob($,bf(l,!0)),j&&R,Dm),te)}f=f||"text";let J=await Tf[oe.findKey(Tf,f)||"text"](U,r);return!j&&R(),w&&w(),await new Promise((te,$)=>{E2(te,$,{data:J,headers:Kn.from(U.headers),status:U.status,statusText:U.statusText,config:r,request:P})})}catch(U){throw R(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,r,P),{cause:U.cause||U}):lt.from(U,U&&U.code,r,P)}}),Im={http:dR,xhr:HR,fetch:JR};oe.forEach(Im,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Rb=r=>`- ${r}`,YR=r=>oe.isFunction(r)||r===null||r===!1,k2={getAdapter:r=>{r=oe.isArray(r)?r:[r];const{length:e}=r;let n,i;const t={};for(let a=0;a<e;a++){n=r[a];let s;if(i=n,!YR(n)&&(i=Im[(s=String(n)).toLowerCase()],i===void 0))throw new lt(`Unknown adapter '${s}'`);if(i)break;t[s||"#"+a]=i}if(!i){const a=Object.entries(t).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(Rb).join(`
`):" "+Rb(a[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Im};function Dg(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ou(null,r)}function Nb(r){return Dg(r),r.headers=Kn.from(r.headers),r.data=kg.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),k2.getAdapter(r.adapter||$v.adapter)(r).then(function(i){return Dg(r),i.data=kg.call(r,r.transformResponse,i),i.headers=Kn.from(i.headers),i},function(i){return x2(i)||(Dg(r),i&&i.response&&(i.response.data=kg.call(r,r.transformResponse,i.response),i.response.headers=Kn.from(i.response.headers))),Promise.reject(i)})}const D2="1.7.2",Hv={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Hv[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const Fb={};Hv.transitional=function(e,n,i){function t(a,s){return"[Axios v"+D2+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,l)=>{if(e===!1)throw new lt(t(s," has been removed"+(n?" in "+n:"")),lt.ERR_DEPRECATED);return n&&!Fb[s]&&(Fb[s]=!0,console.warn(t(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,l):!0}};function QR(r,e,n){if(typeof r!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let t=i.length;for(;t-- >0;){const a=i[t],s=e[a];if(s){const l=r[a],c=l===void 0||s(l,a,r);if(c!==!0)throw new lt("option "+a+" must be "+c,lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new lt("Unknown option "+a,lt.ERR_BAD_OPTION)}}const Om={assertOptions:QR,validators:Hv},Ra=Om.validators;class Sf{constructor(e){this.defaults=e,this.interceptors={request:new kb,response:new kb}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const a=t.stack?t.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qs(this.defaults,n);const{transitional:i,paramsSerializer:t,headers:a}=n;i!==void 0&&Om.assertOptions(i,{silentJSONParsing:Ra.transitional(Ra.boolean),forcedJSONParsing:Ra.transitional(Ra.boolean),clarifyTimeoutError:Ra.transitional(Ra.boolean)},!1),t!=null&&(oe.isFunction(t)?n.paramsSerializer={serialize:t}:Om.assertOptions(t,{encode:Ra.function,serialize:Ra.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&oe.merge(a.common,a[n.method]);a&&oe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Kn.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(c=c&&D.synchronous,l.unshift(D.fulfilled,D.rejected))});const f=[];this.interceptors.response.forEach(function(D){f.push(D.fulfilled,D.rejected)});let h,g=0,v;if(!c){const w=[Nb.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,f),v=w.length,h=Promise.resolve(n);g<v;)h=h.then(w[g++],w[g++]);return h}v=l.length;let T=n;for(g=0;g<v;){const w=l[g++],D=l[g++];try{T=w(T)}catch(P){D.call(this,P);break}}try{h=Nb.call(this,T)}catch(w){return Promise.reject(w)}for(g=0,v=f.length;g<v;)h=h.then(f[g++],f[g++]);return h}getUri(e){e=qs(this.defaults,e);const n=w2(e.baseURL,e.url);return b2(n,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){Sf.prototype[e]=function(n,i){return this.request(qs(i||{},{method:e,url:n,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(i){return function(a,s,l){return this.request(qs(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Sf.prototype[e]=n(),Sf.prototype[e+"Form"]=n(!0)});const Yd=Sf;class Vv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(t=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](t);i._listeners=null}),this.promise.then=t=>{let a;const s=new Promise(l=>{i.subscribe(l),a=l}).then(t);return s.cancel=function(){i.unsubscribe(a)},s},e(function(a,s,l){i.reason||(i.reason=new ou(a,s,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Vv(function(t){e=t}),cancel:e}}}const ZR=Vv;function e5(r){return function(n){return r.apply(null,n)}}function t5(r){return oe.isObject(r)&&r.isAxiosError===!0}const Lm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lm).forEach(([r,e])=>{Lm[e]=r});const r5=Lm;function P2(r){const e=new Yd(r),n=u2(Yd.prototype.request,e);return oe.extend(n,Yd.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(t){return P2(qs(r,t))},n}const lr=P2($v);lr.Axios=Yd;lr.CanceledError=ou;lr.CancelToken=ZR;lr.isCancel=x2;lr.VERSION=D2;lr.toFormData=ph;lr.AxiosError=lt;lr.Cancel=lr.CanceledError;lr.all=function(e){return Promise.all(e)};lr.spread=e5;lr.isAxiosError=t5;lr.mergeConfig=qs;lr.AxiosHeaders=Kn;lr.formToJSON=r=>S2(oe.isHTMLForm(r)?new FormData(r):r);lr.getAdapter=k2.getAdapter;lr.HttpStatusCode=r5;lr.default=lr;const n5=lr;var I2=(r=>(r[r.SUCCESS=200]="SUCCESS",r[r.ERROR=500]="ERROR",r[r.OVERDUE=401]="OVERDUE",r[r.TIMEOUT=3e4]="TIMEOUT",r.TYPE="success",r))(I2||{});const i5=r=>{switch(r){case 400:console.error("\u8BF7\u6C42\u5931\u8D25\uFF01\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5");break;case 401:console.error("\u767B\u5F55\u5931\u6548\uFF01\u8BF7\u60A8\u91CD\u65B0\u767B\u5F55");break;case 403:console.error("\u5F53\u524D\u8D26\u53F7\u65E0\u6743\u9650\u8BBF\u95EE\uFF01");break;case 404:console.error("\u4F60\u6240\u8BBF\u95EE\u7684\u8D44\u6E90\u4E0D\u5B58\u5728\uFF01");break;case 405:console.error("\u8BF7\u6C42\u65B9\u5F0F\u9519\u8BEF\uFF01\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5");break;case 408:console.error("\u8BF7\u6C42\u8D85\u65F6\uFF01\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5");break;case 500:console.error("\u670D\u52A1\u5F02\u5E38\uFF01");break;case 502:console.error("\u7F51\u5173\u9519\u8BEF\uFF01");break;case 503:console.error("\u670D\u52A1\u4E0D\u53EF\u7528\uFF01");break;case 504:console.error("\u7F51\u5173\u8D85\u65F6\uFF01");break;default:console.error("\u8BF7\u6C42\u5931\u8D25\uFF01")}};var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O2(r){var e=r.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var t=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,t.get?t:{enumerable:!0,get:function(){return r[i]}})}),n}var L2={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(Vl,function(){function n(u){if(!u)return!1;var d=Object.prototype.toString.call(u);return d=="[object Function]"||d=="[object AsyncFunction]"}function i(){return Date.now&&n(Date.now)?Date.now():new Date().getTime()}function t(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"}function a(){if(typeof Uint32Array=="function"){var u="";if(typeof crypto<"u"?u=crypto:typeof msCrypto<"u"&&(u=msCrypto),t(u)&&u.getRandomValues){var d=new Uint32Array(1),p=u.getRandomValues(d)[0],_=Math.pow(2,32);return p/_}}return l_(1e19)/1e19}function s(u){var d=null;try{d=JSON.parse(u)}catch{}return d}function l(u,d){this.lockGetPrefix=u||"lock-get-prefix",this.lockSetPrefix=d||"lock-set-prefix"}function c(u){return typeof u=="function"||!(!u||typeof u!="object")&&c(u.listener)}function f(){this._events={}}function h(u){var d=u;try{d=decodeURIComponent(u)}catch{d=u}return d}function g(){function u(){}return typeof Object.create!="function"?(u.prototype=null,new u):Object.create(null)}function v(u){u=u||"";for(var d=g(),p=u.substring(1),_=p.split("&"),b=0;b<_.length;b++){var C=_[b].indexOf("=");if(C!==-1){var L=_[b].substring(0,C),z=_[b].substring(C+1);L=h(L),z=h(z),d[L]=z}}return d}function T(u){return Object.prototype.toString.call(u)=="[object String]"}function w(u){return u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function D(u){var d=function(p){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,typeof p<"u"&&this._parse(p)};return d.prototype.setUrl=function(p){this._parse(p)},d.prototype._initValues=function(){for(var p in this._fields)this._values[p]=""},d.prototype.addQueryString=function(p){if(typeof p!="object")return!1;var _=this._values.QueryString||"";for(var b in p)_=new RegExp(b+"[^&]+").test(_)?_.replace(new RegExp(b+"[^&]+"),b+"="+p[b]):_.slice(-1)==="&"?_+b+"="+p[b]:_===""?b+"="+p[b]:_+"&"+b+"="+p[b];this._values.QueryString=_},d.prototype.getUrl=function(){var p="";return p+=this._values.Origin,p+=this._values.Port?":"+this._values.Port:"",p+=this._values.Path,p+=this._values.QueryString?"?"+this._values.QueryString:"",p+=this._values.Fragment?"#"+this._values.Fragment:""},d.prototype._parse=function(p){this._initValues();var _=this._regex.exec(p);_||pr.log("URLParser::_parse -> Invalid URL");var b=p.split("#"),C=b[0],L=b.slice(1).join("#");_=this._regex.exec(C);for(var z in this._fields)typeof _[this._fields[z]]<"u"&&(this._values[z]=_[this._fields[z]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname,this._values.Fragment=L},new d(u)}function P(u){var d={},p=function(){var C;try{return C=new URL("http://modernizr.com/"),C.href==="http://modernizr.com/"}catch{return!1}};if(typeof window.URL=="function"&&p())d=new URL(u),d.searchParams||(d.searchParams=function(){var C=v(d.search);return{get:function(L){return C[L]}}}());else{T(u)||(u=String(u)),u=w(u);var _=/^https?:\/\/.+/;if(_.test(u)===!1)return void pr.log("Invalid URL");var b=D(u);d.hash=b._values.Fragment,d.host=b._values.Host?b._values.Host+(b._values.Port?":"+b._values.Port:""):"",d.href=b._values.URL,d.password=b._values.Password,d.pathname=b._values.Path,d.port=b._values.Port,d.search=b._values.QueryString?"?"+b._values.QueryString:"",d.username=b._values.Username,d.hostname=b._values.Hostname,d.protocol=b._values.Protocol?b._values.Protocol+":":"",d.origin=b._values.Origin?b._values.Origin+(b._values.Port?":"+b._values.Port:""):"",d.searchParams=function(){var C=v("?"+b._values.QueryString);return{get:function(L){return C[L]}}}()}return d}function R(u){return!(!u||u.nodeType!==1)}function M(u){return u===void 0}function U(u){return Array.isArray&&n(U)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"}function j(u){return new c_(u)}function J(u,d,p,_){function b(z){return z&&(z.preventDefault=b.preventDefault,z.stopPropagation=b.stopPropagation,z._getPath=b._getPath),z}function C(z,ae,ge,ke){var rt=function(st){if(st=st||b(window.event)){st.target=st.srcElement;var Vt,Er,ar=!0;return typeof ge=="function"&&(Vt=ge(st)),Er=ae.call(z,st),ke!=="beforeunload"?(Vt!==!1&&Er!==!1||(ar=!1),ar):void 0}};return rt}b._getPath=function(){var z=this;return this.path||this.composedPath&&this.composedPath()||j(z.target).getParents()},b.preventDefault=function(){this.returnValue=!1},b.stopPropagation=function(){this.cancelBubble=!0};var L=function(z,ae,ge){if(_===void 0&&ae==="click"&&(_=!0),z&&z.addEventListener)z.addEventListener(ae,function(st){st._getPath=b._getPath,ge.call(this,st)},_);else{var ke="on"+ae,rt=z[ke];z[ke]=C(z,ge,rt,ae)}};L.apply(null,arguments)}function te(u){var d="pushState"in window.history?"popstate":"hashchange";J(window,d,u)}function $(u){if(u)return typeof window.XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:typeof XDomainRequest<"u"?new XDomainRequest:null;if(typeof window.XMLHttpRequest<"u")return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(p){pr.log(p)}}}function H(u,d,p){if(u==null)return!1;if(f_&&u.forEach===f_)u.forEach(d,p);else if(U(u))for(var _=0,b=u.length;_<b;_++)_ in u&&d.call(p,u[_],_,u);else for(var C in u)jC.call(u,C)&&d.call(p,u[C],C,u)}function X(u){return H(Array.prototype.slice.call(arguments,1),function(d){for(var p in d)$C.call(d,p)&&d[p]!==void 0&&(u[p]=d[p])}),u}function K(u){function d(z){if(!z)return"";try{return JSON.parse(z)}catch{return{}}}function p(){try{_&&typeof _=="object"&&_.abort&&_.abort()}catch(z){pr.log(z)}b&&(clearTimeout(b),b=null,u.error&&u.error(),_.onreadystatechange=null,_.onload=null,_.onerror=null)}u.timeout=u.timeout||2e4,u.credentials=typeof u.credentials>"u"||u.credentials;var _=$(u.cors);if(!_)return!1;u.type||(u.type=u.data?"POST":"GET"),u=X({success:function(){},error:function(){}},u);var b,C=u.success,L=u.error;u.success=function(z){C(z),b&&(clearTimeout(b),b=null)},u.error=function(z){L(z),b&&(clearTimeout(b),b=null)},b=setTimeout(function(){p()},u.timeout),typeof XDomainRequest<"u"&&_ instanceof XDomainRequest&&(_.onload=function(){u.success&&u.success(d(_.responseText)),_.onreadystatechange=null,_.onload=null,_.onerror=null},_.onerror=function(){u.error&&u.error(d(_.responseText),_.status),_.onreadystatechange=null,_.onerror=null,_.onload=null}),_.onreadystatechange=function(){try{_.readyState==4&&(_.status>=200&&_.status<300||_.status==304?u.success(d(_.responseText)):u.error(d(_.responseText),_.status),_.onreadystatechange=null,_.onload=null)}catch{_.onreadystatechange=null,_.onload=null}},_.open(u.type,u.url,!0);try{u.credentials&&(_.withCredentials=!0),t(u.header)&&H(u.header,function(z,ae){_.setRequestHeader&&_.setRequestHeader(ae,z)}),u.data&&(u.cors||_.setRequestHeader&&_.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.contentType==="application/json"?_.setRequestHeader&&_.setRequestHeader("Content-type","application/json; charset=UTF-8"):_.setRequestHeader&&_.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(z){pr.log(z)}_.send(u.data||null)}function ee(u,d){var p=[];return u==null?p:Array.prototype.map&&u.map===Array.prototype.map?u.map(d):(H(u,function(_,b,C){p.push(d(_,b,C))}),p)}function Z(u){var d=[];try{d=ee(atob(u).split(""),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)})}catch{d=[]}try{return decodeURIComponent(d.join(""))}catch{return d.join("")}}function le(u){var d="";try{d=btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,function(p,_){return String.fromCharCode("0x"+_)}))}catch{d=u}return d}function Be(u,d){d=d||window;var p=!1,_=!0,b=d.document,C=b.documentElement,L=b.addEventListener,z=L?"addEventListener":"attachEvent",ae=L?"removeEventListener":"detachEvent",ge=L?"":"on",ke=function(st){st.type=="readystatechange"&&b.readyState!="complete"||((st.type=="load"?d:b)[ae](ge+st.type,ke,!1),!p&&(p=!0)&&u.call(d,st.type||st))},rt=function(){try{C.doScroll("left")}catch{return void setTimeout(rt,50)}ke("poll")};if(b.readyState=="complete")u.call(d,"lazy");else{if(!L&&C.doScroll){try{_=!d.frameElement}catch(st){pr.log(st)}_&&rt()}b[z](ge+"DOMContentLoaded",ke,!1),b[z](ge+"readystatechange",ke,!1),d[z](ge+"load",ke,!1)}}function je(u){return H(Array.prototype.slice.call(arguments,1),function(d){for(var p in d)d[p]!==void 0&&u[p]===void 0&&(u[p]=d[p])}),u}function De(u){var d=u;try{d=decodeURI(u)}catch{d=u}return d}function me(u){var d="t6KJCZa5pDdQ9khoEM3Tj70fbP2eLSyc4BrsYugARqFIw1mzlGNVXOHiWvxUn8",p=d.length-1,_={},b=0;for(b=0;b<d.length;b++)_[d.charAt(b)]=d.charAt(p-b);var C="";for(b=0;b<u.length;b++)C+=u.charAt(b)in _?_[u.charAt(b)]:u.charAt(b);return C}function we(u){return Object.prototype.toString.call(u)=="[object Date]"}function _t(u){function d(p){return p<10?"0"+p:p}return u.getFullYear()+"-"+d(u.getMonth()+1)+"-"+d(u.getDate())+" "+d(u.getHours())+":"+d(u.getMinutes())+":"+d(u.getSeconds())+"."+d(u.getMilliseconds())}function dt(u){return H(u,function(d,p){we(d)?u[p]=_t(d):t(d)&&(u[p]=dt(d))}),u}function Dr(u){return H(Array.prototype.slice.call(arguments,1),function(d){for(var p in d)d[p]!==void 0&&(t(d[p])&&t(u[p])?X(u[p],d[p]):u[p]=d[p])}),u}function Lt(u,d,p){var _=Object.prototype.hasOwnProperty;if(u.filter)return u.filter(d);for(var b=[],C=0;C<u.length;C++)if(_.call(u,C)){var L=u[C];d.call(p,L,C,u)&&b.push(L)}return b}function jt(u){try{return JSON.stringify(u,null,"  ")}catch{return JSON.stringify(u)}}function cr(u){return typeof u=="string"&&u.match(/^[a-zA-Z0-9\u4e00-\u9fa5\-\.]+$/)?u:""}function Pr(u,d,p){u=u||location.hostname,d=d||"domain_test";var _=cr(u),b=_.split(".");if(U(b)&&b.length>=2&&!/^(\d+\.)+\d+$/.test(_)){for(var C="."+b.splice(b.length-1,1);b.length>0;)if(C="."+b.splice(b.length-1,1)+C,us.set(d,"true",0,null,p,"; domain="+C),document.cookie.indexOf(d+"=true")!==-1)return us.set(d,"true","-1s",null,p,"; domain="+C),C}return""}function $t(u){function d(C,L){C=w(C);var z;if(C==="body")return document.getElementsByTagName("body")[0];if(C.indexOf("#")===0)C=C.slice(1),z=document.getElementById(C);else if(C.indexOf(":nth-of-type")>-1){var ae=C.split(":nth-of-type");if(!ae[0]||!ae[1])return null;var ge=ae[0],ke=ae[1].match(/\(([0-9]+)\)/);if(!ke||!ke[1])return null;var rt=Number(ke[1]);if(!(R(L)&&L.children&&L.children.length>0))return null;for(var st=L.children,Vt=0;Vt<st.length;Vt++)if(R(st[Vt])){var Er=st[Vt].tagName.toLowerCase();if(Er===ge&&(rt--,rt===0)){z=st[Vt];break}}if(rt>0)return null}return z||null}function p(C){var L,z=_.shift();if(!z)return C;try{L=d(z,C)}catch(ae){pr.log(ae)}return L&&R(L)?p(L):null}if(!T(u))return null;var _=u.split(">"),b=null;return b=p(),b&&R(b)?b:null}function ne(u,d){var p="",_="";return u.textContent?p=w(u.textContent):u.innerText&&(p=w(u.innerText)),p&&(p=p.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),_=p||"",d!=="input"&&d!=="INPUT"||(_=u.value||""),_}function be(u,d){d&&typeof d=="string"||(d="hostname\u89E3\u6790\u5F02\u5E38");var p=null;try{p=P(u).hostname}catch{pr.log("getHostname\u4F20\u5165\u7684url\u53C2\u6570\u4E0D\u5408\u6CD5\uFF01")}return p||d}function xe(){try{var u=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return u&&u[1]?Number.parseInt(u[1],10):""}catch{return""}}function Me(u,d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),u=h(u);var p="[\\?&]"+d+"=([^&#]*)",_=new RegExp(p),b=_.exec(u);return b===null||b&&typeof b[1]!="string"&&b[1].length?"":h(b[1])}function et(u){var d={},p=u.split("?"),_=p[1]||"";return _&&(d=v("?"+_)),d}function xt(){return typeof window.matchMedia<"u"||typeof window.msMatchMedia<"u"}function it(){var u=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,d="\u672A\u53D6\u5230\u503C";if(u)d=u.indexOf("landscape")>-1?"landscape":"portrait";else if(xt()){var p=window.matchMedia||window.msMatchMedia;p("(orientation: landscape)").matches?d="landscape":p("(orientation: portrait)").matches&&(d="portrait")}return d}function F(){var u,d={},p=navigator.userAgent.toLowerCase();return(u=p.match(/ qq\/([\d.]+)/))?d.qqBuildinBrowser=Number(u[1].split(".")[0]):(u=p.match(/mqqbrowser\/([\d.]+)/))?d.qqBrowser=Number(u[1].split(".")[0]):(u=p.match(/opera.([\d.]+)/))?d.opera=Number(u[1].split(".")[0]):(u=p.match(/msie ([\d.]+)/))?d.ie=Number(u[1].split(".")[0]):(u=p.match(/edge.([\d.]+)/))?d.edge=Number(u[1].split(".")[0]):(u=p.match(/firefox\/([\d.]+)/))?d.firefox=Number(u[1].split(".")[0]):(u=p.match(/chrome\/([\d.]+)/))?d.chrome=Number(u[1].split(".")[0]):(u=p.match(/version\/([\d.]+).*safari/))?d.safari=Number(u[1].match(/^\d*.\d*/)):(u=p.match(/trident\/([\d.]+)/))&&(d.ie=11),d}function W(u){return T(u)?(u=w(u),De(u)):De(location.href)}function re(u){return T(u)?(u=w(u),De(u)):De(location.pathname)}function ie(u,d){return u.hasAttribute?u.hasAttribute(d):u.attributes?!(!u.attributes[d]||!u.attributes[d].specified):void 0}function fe(u,d){if(typeof d=="string")return ie(u,d);if(U(d)){for(var p=!1,_=0;_<d.length;_++){var b=ie(u,d[_]);if(b){p=!0;break}}return p}}function ue(u){if(typeof u!="string")return 0;var d=0,p=null;if(u.length==0)return d;for(var _=0;_<u.length;_++)p=u.charCodeAt(_),d=(d<<5)-d+p,d&=d;return d}function Ce(u){var d=9007199254740992,p=-9007199254740992,_=31,b=0;if(u.length>0)for(var C=u.split(""),L=0;L<C.length;L++){var z=C[L].charCodeAt(),ae=_*b+z;if(ae>d)for(b=p+b;ae=_*b+z,ae<p;)b=b/2+z;if(ae<p)for(b=d+b;ae=_*b+z,ae>d;)b=b/2+z;b=_*b+z}return b}function de(u,d){var p=u.indexOf;if(p)return p.call(u,d);for(var _=0;_<u.length;_++)if(d===u[_])return _;return-1}function Se(u,d){return u.prototype=new d,u.prototype.constructor=u,u.superclass=d.prototype,u}function he(u){return!(!u||!HC.call(u,"callee"))}function Ie(u){return Object.prototype.toString.call(u)=="[object Boolean]"}function Le(u){if(t(u)){for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d))return!1;return!0}return!1}function Ue(u){if(typeof u!="string")return!1;var d=/^https?:\/\/.+/;return d.test(u)!==!1||(pr.log("Invalid URL"),!1)}function Xe(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}function at(u){try{JSON.parse(u)}catch{return!1}return!0}function ut(u){return Object.prototype.toString.call(u)=="[object Number]"&&/[\d\.]+/.test(String(u))}function Et(){var u=!1;if(typeof navigator!="object"||typeof navigator.sendBeacon!="function")return u;var d=F(),p=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var _=/os [\d._]*/gi,b=p.match(_),C=(b+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),L=C.split(".");typeof d.safari>"u"&&(d.safari=L[0]),L[0]&&(d.qqBuildinBrowser||d.qqBrowser)?u=!1:L[0]&&L[0]<13?(d.chrome>41||d.firefox>30||d.opera>25||d.safari>12)&&(u=!0):(d.chrome>41||d.firefox>30||d.opera>25||d.safari>11.3)&&(u=!0)}else(d.chrome>38||d.edge>13||d.firefox>30||d.opera>25||d.safari>11)&&(u=!0);return u}function Ge(){return typeof window.XMLHttpRequest<"u"&&("withCredentials"in new XMLHttpRequest||typeof XDomainRequest<"u")}function Ir(u){if(!t(u)||!T(u.callbackName))return pr.log("JSONP \u8BF7\u6C42\u7F3A\u5C11 callbackName"),!1;u.success=n(u.success)?u.success:function(){},u.error=n(u.error)?u.error:function(){},u.data=u.data||"";var d=document.createElement("script"),p=document.getElementsByTagName("head")[0],_=null,b=!1;if(p.appendChild(d),ut(u.timeout)&&(_=setTimeout(function(){return!b&&(u.error("timeout"),window[u.callbackName]=function(){pr.log("call jsonp error")},_=null,p.removeChild(d),void(b=!0))},u.timeout)),window[u.callbackName]=function(){clearTimeout(_),_=null,u.success.apply(null,arguments),window[u.callbackName]=function(){pr.log("call jsonp error")},p.removeChild(d)},u.url.indexOf("?")>-1?u.url+="&callbackName="+u.callbackName:u.url+="?callbackName="+u.callbackName,t(u.data)){var C=[];H(u.data,function(L,z){C.push(z+"="+L)}),u.data=C.join("&"),u.url+="&"+u.data}d.onerror=function(L){return!b&&(window[u.callbackName]=function(){pr.log("call jsonp error")},clearTimeout(_),_=null,p.removeChild(d),u.error(L),void(b=!0))},d.src=u.url}function Mn(u){var d={visibleHandler:n(u.visible)?u.visible:function(){},hiddenHandler:n(u.hidden)?u.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return typeof document[this.hidden]<"u"},init:function(){typeof document.hidden<"u"?(this.hidden="hidden",this.visibilityChange="visibilitychange"):typeof document.mozHidden<"u"?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):typeof document.msHidden<"u"?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var p=this;J(document,this.visibilityChange,function(){document[p.hidden]?p.hiddenHandler():p.visibleHandler()},1)}else J(window,"focus",this.visibleHandler),J(window,"blur",this.hiddenHandler)}};d.init()}function Ci(u){u=X({success:function(){},error:function(){},appendCall:function(p){document.getElementsByTagName("head")[0].appendChild(p)}},u);var d=null;u.type==="css"&&(d=document.createElement("link"),d.rel="stylesheet",d.href=u.url),u.type==="js"&&(d=document.createElement("script"),d.async="async",d.setAttribute("charset","UTF-8"),d.src=u.url,d.type="text/javascript"),d.onload=d.onreadystatechange=function(){this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete"||(u.success(),d.onload=d.onreadystatechange=null)},d.onerror=function(){u.error(),d.onerror=null},u.appendCall(d)}function Ai(u){if(typeof u!="string")return"";for(var d=/^\s*javascript/i;d.test(u);)u=u.replace(d,"");return u}function Za(u,d){u=String(u),d=typeof d=="number"?d:13;for(var p=126,_=u.split(""),b=0,C=_.length;b<C;b++){var L=_[b].charCodeAt(0);L<p&&(_[b]=String.fromCharCode((_[b].charCodeAt(0)+d)%p))}return _.join("")}function zt(u){var d=13,p=126;return u=String(u),Za(u,p-d)}function Or(u){t(u)&&H(u,function(d,p){t(d)?Or(u[p]):we(d)&&(u[p]=_t(d))})}function ki(u){var d=document.createElement("style");d.type="text/css";try{d.appendChild(document.createTextNode(u))}catch{d.styleSheet.cssText=u}var p=document.getElementsByTagName("head")[0],_=document.getElementsByTagName("script")[0];p?p.children.length?p.insertBefore(d,p.children[0]):p.appendChild(d):_.parentNode.insertBefore(d,_)}function Bh(u){if(typeof u!="string")return pr.log("\u8F6C\u6362unicode\u9519\u8BEF",u),u;for(var d="",p=0;p<u.length;p++)d+="\\"+u.charCodeAt(p).toString(16);return d}function Uh(u,d,p){var _,b,C,L=null,z=0;p||(p={});var ae=function(){z=p.leading===!1?0:i(),L=null,C=u.apply(_,b),L||(_=b=null)};return function(){var ge=i();z||p.leading!==!1||(z=ge);var ke=d-(ge-z);return _=this,b=arguments,ke<=0||ke>d?(L&&(clearTimeout(L),L=null),z=ge,C=u.apply(_,b),L||(_=b=null)):L||p.trailing===!1||(L=setTimeout(ae,ke)),C}}function Zr(u){var d=[];return u==null||H(u,function(p){d[d.length]=p}),d}function xc(u){return u?u.toArray?u.toArray():U(u)||he(u)?Array.prototype.slice.call(u):Zr(u):[]}function Ys(u){for(var d,p=[],_={},b=0;b<u.length;b++)d=u[b],d in _||(_[d]=!0,p.push(d));return p}function vu(u,d,p){return p=p||0,u.substr(p,d.length)===d}function Sn(){ls.msg.apply(ls,arguments).log()}function Je(){ls.msg.apply(ls,arguments).level("warn").log()}function ct(){ls.msg.apply(ls,arguments).level("error").log()}function Di(u){var d=Fe.current_domain;switch(typeof d){case"function":var p=d();return p===""||w(p)===""?"url\u89E3\u6790\u5931\u8D25":p.indexOf(".")!==-1?p:"url\u89E3\u6790\u5931\u8D25";case"string":return d===""||w(d)===""?"url\u89E3\u6790\u5931\u8D25":d.indexOf(".")!==-1?d:"url\u89E3\u6790\u5931\u8D25";default:var _=Pr(null,p_,Fe.is_secure_cookie);return u===""||_===""?"url\u89E3\u6790\u5931\u8D25":_}}function Lr(u,d){var p="";if(Fe.cross_subdomain===!1){try{if(d)p=P(d).hostname;else{var _=location.host;M(O.para.white_list[_])||(p=O.para.white_list[_])}}catch(b){ct(b)}p=typeof p=="string"&&p!==""?"sajssdk_2015_"+Fe.sdk_id+u+"_"+p.replace(/\./g,"_"):"sajssdk_2015_root_"+Fe.sdk_id+u}else p="sajssdk_2015_cross_"+Fe.sdk_id+u;return p}function Qs(){var u="new_user";return pn.isSupport()?pn.get("sensorsdata_is_new_user")!==null||pn.get(Lr(u))!==null:id.get(id.getNewUserFlagMemoryKey(u))!==null}function Pi(u,d,p){var _=!(!t(Fe.heatmap)||!Fe.heatmap.useCapture);return t(Fe.heatmap)&&M(Fe.heatmap.useCapture)&&d==="click"&&(_=!0),J(u,d,p,_)}function ti(){var u=document.referrer,d="baidu.com";if(!u)return!1;try{var p=P(u).hostname;return p&&p.substring(p.length-d.length)===d}catch{return!1}}function xn(){var u=et(document.referrer);if(Le(u)||!u.eqid){var d=et(location.href);return u.ck||d.utm_source?"baidu_sem_keyword_id":"baidu_other_keyword_id"}return"baidu_seo_keyword_id"}function es(){var u=et(document.referrer);return Le(u)||!u.eqid?Sa().replace(/-/g,""):u.eqid}function gt(u,d){return u=u||document.referrer,T(u)?(u=w(u),u=De(u),u.indexOf("https://www.baidu.com/")!==0||d||(u=u.split("?")[0]),u=u.slice(0,Fe.max_referrer_string_length),T(u)?u:""):"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function Zs(u){if(u=u||document.referrer,u==="")return!0;var d=Pr(null,p_,Fe.is_secure_cookie),p=be(u);return p="."+p,p.indexOf(d)===-1&&d!==""}function ri(u,d){u=u||document.referrer;var p=Fe.source_type.keyword;if(document&&T(u)){if(u.indexOf("http")===0){var _=ts(u),b=et(u);if(Le(b))return Fe.preset_properties.search_keyword_baidu&&ti()?void 0:"\u672A\u53D6\u5230\u503C";var C=null;for(var L in p)if(_===L&&t(b)){if(C=p[L],U(C))for(L=0;L<C.length;L++){var z=b[C[L]];if(z)return d?{active:z}:z}else if(b[C])return d?{active:b[C]}:b[C]}return Fe.preset_properties.search_keyword_baidu&&ti()?void 0:"\u672A\u53D6\u5230\u503C"}return u===""?"\u672A\u53D6\u5230\u503C_\u76F4\u63A5\u6253\u5F00":"\u672A\u53D6\u5230\u503C_\u975Ehttp\u7684url"}return"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function ts(u){var d=be(u);if(!d||d==="hostname\u89E3\u6790\u5F02\u5E38")return"";var p={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var _ in p)for(var b=p[_],C=0,L=b.length;C<L;C++)if(b[C].test(d))return _;return"\u672A\u77E5\u641C\u7D22\u5F15\u64CE"}function _u(){function u(z,ae){for(var ge=0;ge<z.length;ge++)if(ae.split("?")[0].indexOf(z[ge])!==-1)return!0}var d="("+Fe.source_type.utm.join("|")+")\\=[^&]+",p=Fe.source_type.search,_=Fe.source_type.social,b=document.referrer||"",C=wt.pageProp.url;if(C){var L=C.match(new RegExp(d));return L&&L[0]?"\u4ED8\u8D39\u5E7F\u544A\u6D41\u91CF":u(p,b)?"\u81EA\u7136\u641C\u7D22\u6D41\u91CF":u(_,b)?"\u793E\u4EA4\u7F51\u7AD9\u6D41\u91CF":b===""?"\u76F4\u63A5\u6D41\u91CF":"\u5F15\u8350\u6D41\u91CF"}return"\u83B7\u53D6url\u5F02\u5E38"}function ni(u){var d=Me(u,"gdt_vid"),p=Me(u,"hash_key"),_=Me(u,"callbacks"),b={click_id:"",hash_key:"",callbacks:""};return T(d)&&d.length&&(b.click_id=d.length==16||d.length==18?d:"\u53C2\u6570\u89E3\u6790\u4E0D\u5408\u6CD5",T(p)&&p.length&&(b.hash_key=p),T(_)&&_.length&&(b.callbacks=_)),b}function Rt(u){var d=u.properties,p=JSON.parse(JSON.stringify(u));t(d)&&H(d,function(_,b){if(n(_))try{d[b]=_(p),n(d[b])&&(Je("\u60A8\u7684\u5C5E\u6027- "+b+" \u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete d[b])}catch{delete d[b],Je("\u60A8\u7684\u5C5E\u6027- "+b+" \u629B\u51FA\u4E86\u5F02\u5E38\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")}})}function rs(u){if(t(u)&&u.$option){var d=u.$option;return delete u.$option,d}return{}}function ir(u){var d={};return H(u,function(p,_){p!=null&&(d[_]=p)}),d}function jh(u){var d=!u.type||u.type.slice(0,7)!=="profile",p="\u53D6\u503C\u5F02\u5E38";t(u.properties)&&d&&("$referrer"in u.properties&&(u.properties.$referrer_host=u.properties.$referrer===""?"":be(u.properties.$referrer,p)),Fe.preset_properties.latest_referrer&&Fe.preset_properties.latest_referrer_host&&(u.properties.$latest_referrer_host=u.properties.$latest_referrer===""?"":be(u.properties.$latest_referrer,p)))}function $h(u){var d=!u.type||u.type.slice(0,7)!=="profile",p=Fe.preset_properties&&d;p&&Fe.preset_properties.url&&M(u.properties.$url)&&(u.properties.$url=W()),p&&Fe.preset_properties.title&&M(u.properties.$title)&&(u.properties.$title=document.title)}function yu(u){if(!R(u.target))return!1;var d=u.target,p=T(d.tagName)?d.tagName.toLowerCase():"unknown",_={};return _.$element_type=p,_.$element_name=d.getAttribute("name"),_.$element_id=d.getAttribute("id"),_.$element_class_name=T(d.className)?d.className:null,_.$element_target_url=d.getAttribute("href"),_.$element_content=ns(d,p),_=ir(_),_.$url=W(),_.$url_path=re(),_.$title=document.title,_}function bu(u){var d=Fe.heatmap&&n(Fe.heatmap.collect_input)&&Fe.heatmap.collect_input(u);return(u.type==="button"||u.type==="submit"||d)&&u.value||""}function ns(u,d){return T(d)&&d.toLowerCase()==="input"?bu(u):ne(u,d)}function eo(u){return xa.protocol.ajax(u.url),K(u)}function Tu(u){if(typeof u=="string"&&(u=w(u),u&&(u.slice(0,3)==="://"?u=location.protocol.slice(0,-1)+u:u.slice(0,2)==="//"?u=location.protocol+u:u.slice(0,4)!=="http"&&(u=""))),U(u)&&u.length)for(var d=0;d<u.length;d++)/sa\.gif[^\/]*$/.test(u[d])||(u[d]=u[d].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(u)||typeof u!="string"||(u=u.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));return u}function is(u){T(u)||(u=JSON.stringify(u));var d=le(u),p="crc="+ue(d);return"data="+encodeURIComponent(d)+"&ext="+encodeURIComponent(p)}function Hh(u){var d=location.href,p=window.history.pushState,_=window.history.replaceState;n(window.history.pushState)&&(window.history.pushState=function(){p.apply(window.history,arguments),u(d),d=location.href}),n(window.history.replaceState)&&(window.history.replaceState=function(){_.apply(window.history,arguments),u(d),d=location.href});var b;b=window.document.documentMode?"hashchange":p?"popstate":"hashchange",J(window,b,function(){u(d),d=location.href})}function as(u,d){var p=[];typeof u=="string"&&u in er.EVENT_LIST&&(p=er.EVENT_LIST[u],er[p[0]].on(p[1],d))}function Su(){this.sendTimeStamp=0,this.timer=null,this.serverUrl="",this.hasTabStorage=!1}function Tt(u,d){for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)&&!KC.check(p,u[p],d))return!1;return!0}function Vh(u,d){return t(u)&&H(u,function(p,_){if(U(p)){var b=[];H(p,function(L){if(T(L))b.push(L);else if(M(L))b.push("null");else try{b.push(JSON.stringify(L))}catch{Je("\u60A8\u7684\u6570\u636E-",_,p,"\u6570\u7EC4\u91CC\u503C\u6709\u9519\u8BEF,\u5DF2\u5C06\u5176\u5220\u9664")}}),u[_]=b}var C=de(d||[],_)>-1;if(t(p)&&_!=="$option"&&!C)try{u[_]=JSON.stringify(p)}catch{delete u[_],Je("\u60A8\u7684\u6570\u636E-",_,p,"\u6570\u636E\u503C\u6709\u9519\u8BEF\uFF0C\u5DF2\u5C06\u5176\u5220\u9664")}else T(p)||ut(p)||we(p)||Ie(p)||U(p)||n(p)||_==="$option"||C||(Je("\u60A8\u7684\u6570\u636E-",_,p,"-\u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete u[_])}),u}function qh(u,d){return ut(d)&&u.length>d?(Je("\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u9650\u5236\uFF0C\u5DF2\u7ECF\u505A\u622A\u53D6--"+u),u.slice(0,d)):u}function to(u,d){var p=["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"];t(u)&&H(p,function(_,b){_ in u&&(de(d||[],_)>-1||(b<3?(delete u[_],Je("\u60A8\u7684\u5C5E\u6027- "+_+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")):Je("\u60A8\u7684\u5C5E\u6027- "+_+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u8BF7\u907F\u514D\u5176\u4F5C\u4E3A\u5C5E\u6027\u540D")))})}function ma(u){var d=["$element_selector","$element_path"],p=["sensorsdata_app_visual_properties"];t(u)&&H(u,function(_,b){if(t(_))ma(u[b]);else if(T(_)){if(de(p,b)>-1)return;u[b]=qh(_,de(d,b)>-1?1024:Fe.max_string_length)}})}function ro(u){typeof u.properties.$project<"u"&&(u.project=u.properties.$project,delete u.properties.$project),typeof u.properties.$token<"u"&&(u.token=u.properties.$token,delete u.properties.$token)}function va(u){if("item_type"in u){var d=u.item_type,p=function(C){return C||delete u.item_type,!0};Tt({item_type:d},p)}if("item_id"in u){var _=u.item_id,b=function(C,L,z){return C||z!=="string"||delete u.item_id,!0};Tt({item_id:_},b)}}function xu(u,d){H(u,function(p,_){var b=function(C,L,z){return C||z==="keyLength"||delete u[_],!0};de(d||[],_)===-1&&Tt({propertyKey:_},b)})}function Ec(u){var d=u.properties;Or(u),t(d)?(Vh(d),to(d),ro(u),xu(d),ma(d)):"properties"in u&&(u.properties={}),va(u)}function Eu(u,d){var p=d.sensors;return u._track_id=Number(String(a()).slice(2,5)+String(a()).slice(2,4)+String(new Date().getTime()).slice(-4)),u._flush_time=new Date().getTime(),p.events.tempAdd("send",u),u}function Bn(u,d){try{var p=d.sensors,_={};t(u)&&t(u.identities)&&!Le(u.identities)?X(_,u.identities):X(_,ce.getIdentities());var b={identities:_,distinct_id:ce.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(p.lib_version)},properties:{}};return t(u)&&t(u.properties)&&!Le(u.properties)&&(u.properties.$lib_detail&&(b.lib.$lib_detail=u.properties.$lib_detail,delete u.properties.$lib_detail),u.properties.$lib_method&&(b.lib.$lib_method=u.properties.$lib_method,delete u.properties.$lib_method)),Dr(b,ce.getUnionId(),u),t(u.properties)&&!Le(u.properties)&&X(b.properties,u.properties),b.event==="$UnbindID"&&(b.login_id&&delete b.login_id,b.anonymous_id&&delete b.anonymous_id),u.type&&u.type.slice(0,7)==="profile"||(b.properties=X({},wt.properties(),ce.getProps(),ce.getSessionProps(),wt.currentProps,b.properties),p.para.preset_properties.latest_referrer&&!T(b.properties.$latest_referrer)&&(b.properties.$latest_referrer="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_search_keyword&&!T(b.properties.$latest_search_keyword)&&(p.para.preset_properties.search_keyword_baidu&&T(b.properties.$search_keyword_id)&&ut(b.properties.$search_keyword_id_hash)&&T(b.properties.$search_keyword_id_type)||(b.properties.$latest_search_keyword="\u53D6\u503C\u5F02\u5E38")),p.para.preset_properties.latest_traffic_source_type&&!T(b.properties.$latest_traffic_source_type)&&(b.properties.$latest_traffic_source_type="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_landing_page&&!T(b.properties.$latest_landing_page)&&(b.properties.$latest_landing_page="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_wx_ad_click_id==="not_collect"?(delete b.properties._latest_wx_ad_click_id,delete b.properties._latest_wx_ad_hash_key,delete b.properties._latest_wx_ad_callbacks):p.para.preset_properties.latest_wx_ad_click_id&&!T(b.properties._latest_wx_ad_click_id)&&(b.properties._latest_wx_ad_click_id="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_hash_key="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_callbacks="\u53D6\u503C\u5F02\u5E38"),T(b.properties._latest_wx_ad_click_id)&&(b.properties.$url=W())),b.properties.$time&&we(b.properties.$time)?(b.time=1*b.properties.$time,delete b.properties.$time):b.time=1*new Date,function(C){if(p.bridge&&p.bridge.bridge_info.verify_success==="success"){var L=Hp.customProp.geth5Props(JSON.parse(JSON.stringify(C)));t(L)&&!Le(L)&&(C.properties=X(C.properties,L))}var z=Ea.customProp.getVtrackProps(JSON.parse(JSON.stringify(C)));t(z)&&!Le(z)&&(C.properties=X(C.properties,z))}(b),Rt(b),Hu.checkIsAddSign(b),Hu.checkIsFirstTime(b),jh(b),$h(b),b}catch(C){return{_debug_web_msg:String(C)}}}function Wh(u){return Vp.stage.process("basicProps",u)}function no(u){return Vp.stage.process("formatData",u)}function wu(u,d,p,_){function b(L){function z(){ae||(ae=!0,location.href=C.href)}L.stopPropagation(),L.preventDefault();var ae=!1;setTimeout(z,1e3),_(d,p,z)}u=u||{};var C=null;return u.ele&&(C=u.ele),u.event&&(C=u.target?u.target:u.event.target),p=p||{},!(!C||typeof C!="object")&&(!C.href||/^javascript/.test(C.href)||C.target||C.download||C.onclick?(_(d,p),!1):(u.event&&b(u.event),void(u.ele&&Pi(u.ele,"click",function(L){b(L)}))))}function Cu(){var u=location.protocol;return u==="http:"||u==="https:"?u:"http:"}function wc(u){return qp.stage.process("webClickEvent",u)}function Gh(u){return qp.stage.process("webStayEvent",u)}function _a(){var u=wt.campaignParams(),d={};return H(u,function(p,_,b){(" "+O.source_channel_standard+" ").indexOf(" "+_+" ")!==-1?d["$"+_]=b[_]:d[_]=b[_]}),d}function ya(u,d,p){if(O.is_first_visitor&&p){var _={};O.para.preset_properties.search_keyword_baidu&&Zs(document.referrer)&&ti()&&(_.$search_keyword_id=Vu.id(),_.$search_keyword_id_type=Vu.type(),_.$search_keyword_id_hash=Ce(_.$search_keyword_id));var b=gt(null,d);u(X({$first_visit_time:new Date,$first_referrer:b,$first_referrer_host:b?be(b,"\u53D6\u503C\u5F02\u5E38"):"",$first_browser_language:T(navigator.language)?navigator.language.toLowerCase():"\u53D6\u503C\u5F02\u5E38",$first_browser_charset:T(document.charset)?document.charset.toUpperCase():"\u53D6\u503C\u5F02\u5E38",$first_traffic_source_type:_u(),$first_search_keyword:ri()},_a(),_)),O.is_first_visitor=!1}}function Au(u,d){var p=u.id,_=u.callback,b=u.name,C=ce.getFirstId(),L=ce.getOriginDistinctId();if(!Tt({distinct_id:p}))return ct("login id is invalid"),!1;if(p===ce.getOriginDistinctId()&&!C)return ct("login id is equal to distinct_id"),!1;if(t(ce._state.identities)&&ce._state.identities.hasOwnProperty(b)&&p===ce._state.first_id)return!1;var z=ce._state.history_login_id.name!==b||p!==ce._state.history_login_id.value;if(z){ce._state.identities[b]=p,ce.set("history_login_id",{name:b,value:p}),C||ce.set("first_id",L),d(p,"$SignUp",{},_);var ae={$identity_cookie_id:ce._state.identities.$identity_cookie_id};return ae[b]=p,Cc(ae),!0}return!1}function Cc(u){var d={};for(var p in u)d[p]=u[p];ce._state.identities=d,ce.save()}function zh(u,d){if(!Tt({unbindKey:u,bindValue:d}))return!1;if(t(ce._state.identities)&&ce._state.identities.hasOwnProperty(u)&&ce._state.identities[u]===d){var p=ce.getUnionId().login_id;p&&u+"+"+d===p&&(ce._state.distinct_id=ce._state.first_id,ce._state.first_id="",ce.set("history_login_id",{name:"",value:""})),u!=="$identity_cookie_id"&&(delete ce._state.identities[u],ce.save())}var _={};return _[u]=d,_}function Ac(){O._t=O._t||1*new Date,O.is_first_visitor=!1,O.source_channel_standard=h_}function Kh(u){X(Fe,u||O.para||{}),O.para=Fe;var d={};if(t(O.para.is_track_latest))for(var p in O.para.is_track_latest)d["latest_"+p]=O.para.is_track_latest[p];O.para.preset_properties=X({},ju.preset_properties,d,O.para.preset_properties||{});var _;for(_ in ju)O.para[_]===void 0&&(O.para[_]=ju[_]);typeof O.para.web_url!="string"||O.para.web_url.slice(0,3)!=="://"&&O.para.web_url.slice(0,2)!=="//"||(O.para.web_url.slice(0,3)==="://"?O.para.web_url=location.protocol.slice(0,-1)+O.para.web_url:O.para.web_url=location.protocol+O.para.web_url),xa.protocol.serverUrl(),O.bridge&&O.bridge.initPara();var b=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],C=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],L=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],z={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};typeof O.para.source_type=="object"&&(O.para.source_type.utm=U(O.para.source_type.utm)?O.para.source_type.utm.concat(b):b,O.para.source_type.search=U(O.para.source_type.search)?O.para.source_type.search.concat(C):C,O.para.source_type.social=U(O.para.source_type.social)?O.para.source_type.social.concat(L):L,O.para.source_type.keyword=t(O.para.source_type.keyword)?X(z,O.para.source_type.keyword):z);var ae={div:!1},ge=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(O.para.heatmap&&!t(O.para.heatmap)&&(O.para.heatmap={}),t(O.para.heatmap)){O.para.heatmap.clickmap=O.para.heatmap.clickmap||"default",O.para.heatmap.scroll_notice_map=O.para.heatmap.scroll_notice_map||"default",O.para.heatmap.scroll_delay_time=O.para.heatmap.scroll_delay_time||4e3,O.para.heatmap.scroll_event_duration=O.para.heatmap.scroll_event_duration||18e3,O.para.heatmap.renderRefreshTime=O.para.heatmap.renderRefreshTime||1e3,O.para.heatmap.loadTimeout=O.para.heatmap.loadTimeout||1e3,O.para.heatmap.get_vtrack_config!==!0&&(O.para.heatmap.get_vtrack_config=!1);var ke=U(O.para.heatmap.track_attr)?Lt(O.para.heatmap.track_attr,function(st){return st&&typeof st=="string"}):[];if(ke.push("data-sensors-click"),O.para.heatmap.track_attr=ke,t(O.para.heatmap.collect_tags))if(O.para.heatmap.collect_tags.div===!0)O.para.heatmap.collect_tags.div={ignore_tags:ge,max_level:1};else if(t(O.para.heatmap.collect_tags.div)){if(O.para.heatmap.collect_tags.div.ignore_tags?U(O.para.heatmap.collect_tags.div.ignore_tags)||(Je("ignore_tags \u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4\u683C\u5F0F"),O.para.heatmap.collect_tags.div.ignore_tags=ge):O.para.heatmap.collect_tags.div.ignore_tags=ge,O.para.heatmap.collect_tags.div.max_level){var rt=[1,2,3];de(rt,O.para.heatmap.collect_tags.div.max_level)===-1&&(O.para.heatmap.collect_tags.div.max_level=1)}}else O.para.heatmap.collect_tags.div=!1;else O.para.heatmap.collect_tags=ae}O.para.server_url=Tu(O.para.server_url),O.para.noCache===!0?O.para.noCache="?"+new Date().getTime():O.para.noCache="",O.para.callback_timeout>O.para.datasend_timeout&&(O.para.datasend_timeout=O.para.callback_timeout),O.para.heatmap&&O.para.heatmap.collect_tags&&t(O.para.heatmap.collect_tags)&&H(O.para.heatmap.collect_tags,function(st,Vt){Vt!=="div"&&st&&O.heatmap.otherTags.push(Vt)}),O.para.heatmap&&O.para.heatmap.clickmap==="default"&&O.heatmap.initUnlimitedTags()}function Xh(){var u=Array.prototype.slice.call(arguments),d=u[0],p=u.slice(1);return typeof d=="string"&&od[d]?od[d].apply(od,p):void(typeof d=="function"?d.apply(O,p):Je("quick\u65B9\u6CD5\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u529F\u80FD"+u[0]))}function ku(u,d){function p(){return!_.plugin_is_init&&_.init(O,d),_.plugin_is_init=!0,O.modules=O.modules||{},O.modules[_.plugin_name||"unnamed_"+QC++]=_,_}if(!T(u)&&!t(u))return void ct("use's first arguments must be string or object.");var _;if(t(u)){var b=O.modules&&O.modules[u.plugin_name];b&&b!==u&&Je(u.name+" is conflict with builtin plugin, and sdk uses builtin plugin."),_=b||u}return T(u)&&(t(O.modules)&&t(O.modules[u])?_=O.modules[u]:t(window.SensorsDataWebJSSDKPlugin)&&t(window.SensorsDataWebJSSDKPlugin[u])?_=window.SensorsDataWebJSSDKPlugin[u]:window.sensorsDataAnalytic201505&&window.sensorsDataAnalytic201505.modules[u]&&(_=window.sensorsDataAnalytic201505.modules[u])),_&&n(_.init)?_.plugin_is_init?_:(_.plugin_name||Je("warning: invalid plugin, plugin_name required."),_.plugin_version?_.plugin_version!==O.lib_version&&Je("warning: plugin version not match SDK version. plugin may not work correctly. "):Je("warning: invalid plugin, plugin version required."),p()):(Je((u.plugin_name||u)+" is not found or it's not a standard plugin. Please check sensorsdata official documents."),_)}function Jh(u,d,p){Tt({event:u,properties:d})&&Rr.send({type:"track",event:u,properties:d},p)}function Yh(u,d){return!!Tt({bindKey:u,bindValue:d})&&(ce._state.identities[u]=d,ce.save(),void Rr.send({type:"track_id_bind",event:"$BindID",properties:{}}))}function Qh(u,d){var p=zh(u,d);p&&Rr.send({identities:p,type:"track_id_unbind",event:"$UnbindID",properties:{}})}function Zh(u,d,p){typeof u=="object"&&u.tagName?wu({ele:u},d,p,O.track):typeof u=="object"&&u.target&&u.event&&wu(u,d,p,O.track)}function ep(u,d,p){return p=p||{},!(!u||typeof u!="object")&&!(!u.href||/^javascript/.test(u.href)||u.target)&&void Pi(u,"click",function(_){function b(){C||(C=!0,location.href=u.href)}_.preventDefault();var C=!1;setTimeout(b,1e3),O.track(d,p,b)})}function tp(u,d,p){Tt({item_type:u,item_id:d,properties:p})&&Rr.sendItem({type:"item_set",item_type:u,item_id:d,properties:p||{}})}function io(u,d){Tt({item_type:u,item_id:d})&&Rr.sendItem({type:"item_delete",item_type:u,item_id:d})}function ao(u,d){Tt({propertiesMust:u})&&Rr.send({type:"profile_set",properties:u},d)}function rp(u,d){Tt({propertiesMust:u})&&Rr.send({type:"profile_set_once",properties:u},d)}function np(u,d){Tt({propertiesMust:u})&&(H(u,function(p,_){T(p)?u[_]=[p]:U(p)?u[_]=p:(delete u[_],Je("appendProfile\u5C5E\u6027\u7684\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u7EC4"))}),Le(u)||Rr.send({type:"profile_append",properties:u},d))}function Du(u,d){function p(b){for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)&&!/-*\d+/.test(String(b[C])))return!1;return!0}var _=u;T(u)&&(u={},u[_]=1),Tt({propertiesMust:u})&&(p(u)?Rr.send({type:"profile_increment",properties:u},d):ct("profile_increment\u7684\u503C\u53EA\u80FD\u662F\u6570\u5B57"))}function ip(u){Rr.send({type:"profile_delete"},u),ce.set("distinct_id",Sa()),ce.set("first_id","")}function Pu(u,d){var p=u,_={};T(u)&&(u=[],u.push(p)),U(u)?(H(u,function(b){T(b)?_[b]=!0:Je("profile_unset\u7ED9\u7684\u6570\u7EC4\u91CC\u9762\u7684\u503C\u5FC5\u987B\u65F6string,\u5DF2\u7ECF\u8FC7\u6EE4\u6389",b)}),Rr.send({type:"profile_unset",properties:_},d)):ct("profile_unset\u7684\u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4")}function ap(u){typeof u=="number"&&(u=String(u));var d=ce.getFirstId();if(typeof u>"u"){var p=Sa();d?ce.set("first_id",p):ce.set("distinct_id",p)}else Tt({distinct_id:u})&&(d?ce.set("first_id",u):ce.set("distinct_id",u))}function sp(u){var d=ce.getFirstId();if(d)return ct("resetAnonymousIdentity must be used in a logout state \uFF01"),!1;if(typeof u=="number"&&(u=String(u)),typeof u>"u"){var p=Sa();ce._state.identities.$identity_cookie_id=p,ce.set("distinct_id",p)}else Tt({distinct_id:u})&&(ce._state.identities.$identity_cookie_id=u,ce.set("distinct_id",u))}function Iu(u,d,p,_){var b=ce.getFirstId()||ce.getDistinctId();ce.set("distinct_id",u),Rr.send({original_id:b,distinct_id:ce.getDistinctId(),type:"track_signup",event:d,properties:p},_)}function ss(u,d,p,_){typeof u=="number"&&(u=String(u)),Tt({distinct_id:u,event:d,properties:p})&&Iu(u,d,p,_)}function ba(u){Tt({properties:u})?X(wt.currentProps,u):ct("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function so(u){ce.clearAllProps(u)}function Ii(u){var d;if(U(u)&&u.length>0)for(d=0;d<u.length;d++)T(u[d])&&u[d]in wt.currentProps&&delete wt.currentProps[u[d]];else if(u===!0)for(d in wt.currentProps)delete wt.currentProps[d]}function kc(u){Tt({properties:u})?ce.setProps(u):ct("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Dc(u){Tt({properties:u})?ce.setPropsOnce(u):ct("registerOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Pc(u){O.log("registerSession \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),Tt({properties:u})?ce.setSessionProps(u):ct("registerSession\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Ou(u){O.log("registerSessionOnce \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),Tt({properties:u})?ce.setSessionPropsOnce(u):ct("registerSessionOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Ic(u,d){typeof u=="number"&&(u=String(u));var p=Au({id:u,callback:d,name:$u.LOGIN},Iu);!p&&n(d)&&d()}function op(u,d){return Je("loginWithKey is deprecated !!!"),typeof d=="number"&&(d=String(d)),typeof u=="number"&&(u=String(u)),!!Tt({loginIdKey:u})&&($u.LOGIN===u?(Ic(d),!1):void Au({id:d,callback:null,name:u},Iu))}function up(u){var d=ce.getFirstId();if(d)if(ce.set("first_id",""),u===!0){var p=Sa();ce.set("distinct_id",p)}else ce.set("distinct_id",d);Cc({$identity_cookie_id:ce._state.identities.$identity_cookie_id}),ce.set("history_login_id",{name:"",value:""})}function oo(){function u(){var _=wt.campaignParams(),b={};return H(_,function(C,L,z){(" "+O.source_channel_standard+" ").indexOf(" "+L+" ")!==-1?b["$"+L]=z[L]:b[L]=z[L]}),b}var d={$is_first_day:Qs(),$is_first_time:Hu.is_page_first_visited,$referrer:wt.pageProp.referrer||"",$referrer_host:wt.pageProp.referrer?be(wt.pageProp.referrer):"",$url:W(),$url_path:re(),$title:document.title||"",_distinct_id:ce.getDistinctId(),identities:ce.getIdentities()},p=X({},wt.properties(),ce.getProps(),u(),d);return O.para.preset_properties.latest_referrer&&O.para.preset_properties.latest_referrer_host&&(p.$latest_referrer_host=p.$latest_referrer===""?"":be(p.$latest_referrer)),p}function lp(){var u="",d=" { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }";O.heatmap&&U(O.heatmap.otherTags)&&H(O.heatmap.otherTags,function(p){u+=p+d}),Xe()&&xe()&&xe()<13&&(O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&ki("div, [data-sensors-click]"+d),O.para.heatmap&&O.para.heatmap.track_attr&&ki("["+O.para.heatmap.track_attr.join("], [")+"]"+d),u!==""&&ki(u))}function fn(u){var d=this;this.type=u,this.resultCbs={},this.timeoutCbs={},this.timerId=null,this.appCallJsCallback=null,window.sensorsdata_app_call_js||(window.sensorsdata_app_call_js=function(p,_){if(p in window.sensorsdata_app_call_js.modules)return window.sensorsdata_app_call_js.modules[p](_)}),window.sensorsdata_app_call_js.modules=window.sensorsdata_app_call_js.modules||{},window.sensorsdata_app_call_js.modules[this.type]=function(p){try{var _=Z(p)||p;try{_=JSON.parse(_)}catch{}var b=_&&_.message_id;if(b&&d.resultCbs[b]){if(p=_,d.timeoutCbs[b]&&d.timeoutCbs[b].isTimeout)return void(d.resultCbs[b].callbacks.length=0);if(d.resultCbs[b]){d.resultCbs[b].result=p,clearTimeout(d.timerId),d.timeoutCbs[b].callbacks.length=0;for(var C in d.resultCbs[b].callbacks)d.resultCbs[b].callbacks[C].call(null,p),d.resultCbs[b].callbacks.splice(C,1)}return}return d.appCallJsCallback&&d.appCallJsCallback.call(null,p)}catch{ct("app \u56DE\u8C03 js \u5F02\u5E38",p)}}}function Oc(u){try{if(O.bridge.activeBridge&&n(O.bridge.activeBridge.handleCommand))return O.bridge.activeBridge.handleCommand(u)}catch(d){ct("Error: handle command exception:"+d)}return ct("\u6570\u636E\u53D1\u5F80App\u5931\u8D25\uFF0CApp\u6CA1\u6709\u66B4\u9732bridge,type:"+u.callType),!1}function cp(u){function d(L){var z={hostname:"",project:""};try{L=P(L),z.hostname=L.hostname,z.project=L.searchParams.get("project")||"default"}catch(ae){ct("validateAppUrl:"+ae)}return z}var p=d(u),_=d(O.para.server_url);if(p.hostname===_.hostname&&p.project===_.project)return!0;if(U(O.para.app_js_bridge.white_list))for(var b=0;b<O.para.app_js_bridge.white_list.length;b++){var C=d(O.para.app_js_bridge.white_list[b]);if(C.hostname===p.hostname&&C.project===p.project)return!0}return!1}function At(u){this.bridge=new fn(u.type)}function dp(){var u=wt.pageProp.url_domain,d={};u===""&&(u="url\u89E3\u6790\u5931\u8D25");var p=ri(document.referrer,!0);if(Fe.preset_properties.search_keyword_baidu?Zs(document.referrer)&&(!ti()||t(p)&&p.active?ce._state&&ce._state.props&&(ce._state.props.$search_keyword_id&&delete ce._state.props.$search_keyword_id,ce._state.props.$search_keyword_id_type&&delete ce._state.props.$search_keyword_id_type,ce._state.props.$search_keyword_id_hash&&delete ce._state.props.$search_keyword_id_hash):(d.$search_keyword_id=Vu.id(),d.$search_keyword_id_type=Vu.type(),d.$search_keyword_id_hash=Ce(d.$search_keyword_id))):ce._state&&ce._state.props&&(ce._state.props.$search_keyword_id&&delete ce._state.props.$search_keyword_id,ce._state.props.$search_keyword_id_type&&delete ce._state.props.$search_keyword_id_type,ce._state.props.$search_keyword_id_hash&&delete ce._state.props.$search_keyword_id_hash),ce.save(),H(Fe.preset_properties,function(L,z){if(z.indexOf("latest_")===-1)return!1;if(z=z.slice(7),L){if(z==="wx_ad_click_id"&&L==="not_collect")return!1;if(z!=="utm"&&u==="url\u89E3\u6790\u5931\u8D25")z==="wx_ad_click_id"?(d._latest_wx_ad_click_id="url\u7684domain\u89E3\u6790\u5931\u8D25",d._latest_wx_ad_hash_key="url\u7684domain\u89E3\u6790\u5931\u8D25",d._latest_wx_ad_callbacks="url\u7684domain\u89E3\u6790\u5931\u8D25"):d["$latest_"+z]="url\u7684domain\u89E3\u6790\u5931\u8D25";else if(Zs(document.referrer))switch(z){case"traffic_source_type":d.$latest_traffic_source_type=_u();break;case"referrer":d.$latest_referrer=wt.pageProp.referrer;break;case"search_keyword":ri()?d.$latest_search_keyword=ri():t(ce._state)&&t(ce._state.props)&&ce._state.props.$latest_search_keyword&&delete ce._state.props.$latest_search_keyword;break;case"landing_page":d.$latest_landing_page=W();break;case"wx_ad_click_id":var ae=ni(location.href);d._latest_wx_ad_click_id=ae.click_id,d._latest_wx_ad_hash_key=ae.hash_key,d._latest_wx_ad_callbacks=ae.callbacks}}else if(z==="utm"&&ce._state&&ce._state.props)for(var ge in ce._state.props)(ge.indexOf("$latest_utm")===0||ge.indexOf("_latest_")===0&&ge.indexOf("_latest_wx_ad_")<0)&&delete ce._state.props[ge];else if(ce._state&&ce._state.props&&"$latest_"+z in ce._state.props)delete ce._state.props["$latest_"+z];else if(z=="wx_ad_click_id"&&ce._state&&ce._state.props&&L===!1){var ke=["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"];H(ke,function(rt){rt in ce._state.props&&delete ce._state.props[rt]})}}),Fe.preset_properties.latest_utm){var _=wt.campaignParamsStandard("$latest_","_latest_"),b=_.$utms,C=_.otherUtms;Le(b)||X(d,b),Le(C)||X(d,C)}kc(d)}function Lc(u){var d=null;try{var p=JSON.parse(window.name);d=p[u]?h(p[u]):null}catch{d=null}return d===null&&(d=Me(location.href,u)||null),d}function Rc(u){function d(){var C=[];p.touch_app_bridge||C.push(xa.defineMode("1")),t(O.para.app_js_bridge)||(C.push(xa.defineMode("2")),p.verify_success=!1),t(O.para.heatmap)&&O.para.heatmap.clickmap=="default"||C.push(xa.defineMode("3")),p.verify_success==="fail"&&C.push(xa.defineMode("4")),new O.SDKJSBridge("app_alert").notifyApp({data:C})}var p=O.bridge.bridge_info;if(O.bridge.hasVisualModeBridge())if(t(O.para.heatmap)&&O.para.heatmap.clickmap=="default")if(t(O.para.app_js_bridge)&&p.verify_success==="success")if(u)window.sa_jssdk_app_define_mode(O,u);else{var _=location.protocol,b=["http:","https:"];_=de(b,_)>-1?_:"https:",Ci({success:function(){setTimeout(function(){typeof sa_jssdk_app_define_mode<"u"&&window.sa_jssdk_app_define_mode(O,u)},0)},error:function(){},type:"js",url:_+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vapph5define.min.js"})}else d();else d()}function Nc(u){O.para.is_track_single_page&&Bp.on("switch",function(d){var p=function(b){if(b=b||{},d!==location.href){wt.pageProp.referrer=W(d);var C=X({$url:W(),$referrer:W(d)},b);n(u)?u(C):O.quick&&O.quick("autoTrack",C)}};if(typeof O.para.is_track_single_page=="boolean")p();else if(typeof O.para.is_track_single_page=="function"){var _=O.para.is_track_single_page();t(_)?p(_):_===!0&&p()}})}function fp(){O._q&&U(O._q)&&O._q.length>0&&H(O._q,function(u){O[u[0]].apply(O,Array.prototype.slice.call(u[1]))}),t(O.para.heatmap)&&(wn.initHeatmap(),wn.initScrollmap())}function Fc(){O.readyState.setState(3),new O.SDKJSBridge("visualized").onAppNotify(function(){Rc(typeof sa_jssdk_app_define_mode<"u")}),Rc(!1),O.bridge.app_js_bridge_v1(),wt.initPage(),Nc(),ce.init(),dp(),Mc(),O.readyState.setState(4),fp()}function hp(){wa.isSeachHasKeyword()?wa.hasKeywordHandle():window.parent!==self&&Un.isSearchHasKeyword()?Un.verifyVtrackMode():wa.isWindowNameHasKeyword()?wa.windowNameHasKeywordHandle():wa.isStorageHasKeyword()?wa.storageHasKeywordHandle():window.parent!==self&&Un.isStorageHasKeyword()?Un.verifyVtrackMode():(Fc(),Un.notifyUser())}function Mc(){Ea.init(),O.bridge.bridge_info.verify_success==="success"&&Hp.init()}function Bc(){H(tA,function(u){var d=O[u];O[u]=function(){if(O.readyState.state<3)return U(O._q)||(O._q=[]),Je("calling sdk api before init is deprecated."),O._q.push([u,arguments]),!1;if(!n(O.getDisabled)||!O.getDisabled())return O.readyState.getState()?d.apply(O,arguments):void ct("\u8BF7\u5148\u521D\u59CB\u5316\u795E\u7B56JS SDK")}})}function Uc(u,d){this.cancel=function(){u=!0},this.getCanceled=function(){return u||!1},this.stop=function(){d=!0},this.getStopped=function(){return d||!1}}function jc(u,d,p){var _=null;try{_=JSON.parse(JSON.stringify(u||null))}catch{}this.getOriginalData=function(){return _},this.getPosition=function(){return d},this.cancellationToken=new Uc,this.sensors=p}function hn(u){if(!t(u))throw"error: Stage constructor requires arguments.";this.processDef=u,this.registeredInterceptors={}}function Oi(u){u&&u.buildDataStage&&b_.registerStageImplementation(u.buildDataStage),u&&u.businessStage&&S_.registerStageImplementation(u.businessStage),u&&u.sendDataStage&&T_.registerStageImplementation(u.sendDataStage),u&&u.viewStage&&x_.registerStageImplementation(u.viewStage)}function Lu(u,d){E_[u]&&E_[u](d)}function pp(){return Gp.stage&&Gp.stage.process("getUtmData")}function gp(u){return w_.stage.process("send",u)}function mp(u){u.kit=qu,u.saEvent=Rr,this.buildDataStage=Vp,this.sendDataStage=w_,this.businessStage=Gp}function vp(u){u.heatmap=wn,this.viewStage=qp}function _p(u){if(!n(u.properties))return void ct("registerPropertyPlugin arguments error, properties must be function");if(u.isMatchedWithFilter&&!n(u.isMatchedWithFilter))return void ct("registerPropertyPlugin arguments error, isMatchedWithFilter must be function");var d={finalAdjustData:{priority:100,entry:function(p){try{if(n(u.isMatchedWithFilter))return u.isMatchedWithFilter(p)&&u.properties(p);u.properties(p)}catch(_){ct("execute registerPropertyPlugin callback error:"+_)}}}};Lu("buildDataStage",d)}function Ru(u){u&&(O.events=m_,O.bridge=eA,O.SDKJSBridge=fn,O.JSBridge=At,O.store=ce,O.unlimitedDiv=sd,O.customProp=__,O.vtrackcollect=Ea,O.vapph5collect=Hp,O.detectMode=hp,O.registerFeature=Oi,O.registerInterceptor=Lu,O.commonWays=od,Oi(new mp(O)),Oi(new vp(O)),Lu("viewStage",oA));var d=u?ZC:rA;for(var p in d)O[p]=d[p];O.logger=ls,O.log=Sn,O._=y_,O.on=as,O.ee=er,O.use=ku,O.lib_version=nd,O.registerPropertyPlugin=_p}function yp(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return bp(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function bp(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function uo(u,d,p){return yp(u,d,p),u.plugin_version=uA,u}function os(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Tp(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Tp(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function $c(u,d,p){return os(u,d,p),u.plugin_version=dA,u}function Hc(u){return k_&&k_.call(ii,JSON.stringify(u))}function Nu(u){return ld.call(ii)&&D_&&D_.call(ii,JSON.stringify(u))}function Vc(u,d){return d&&typeof d[u.callType]=="function"&&d[u.callType]()}function qc(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Fu(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Fu(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Wc(u,d,p){return qc(u,d,p),u.plugin_version=pA,u}function Gc(){if(jn=window.SensorsData_APP_New_H5_Bridge,ud=jn&&jn.sensorsdata_track,Wu=ud&&jn.sensorsdata_get_server_url&&jn.sensorsdata_get_server_url(),cs("---test---fail---",!Nt,Nt.bridge.activeBridge,!Wu),Nt&&!Nt.bridge.activeBridge&&Wu)return Nt.bridge.activeBridge=I_,Nt.para.app_js_bridge&&!Nt.para.app_js_bridge.is_mui&&(Nt.bridge.is_verify_success=Wu&&Nt.bridge.validateAppUrl(Wu),cs("---test---bridge-verify-",Nt.bridge.is_verify_success)),Nt.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:Nt.bridge.is_verify_success?"success":"fail",support_two_way_call:!!jn.sensorsdata_js_call_app},Nt.para.app_js_bridge?void Nt.registerInterceptor("sendDataStage",{send:{priority:60,entry:lo}}):void cs("---test---app_js_bridge is not configured, data will not be sent by android bridge.")}function lo(u,d){if(cs("---test---datasend-",Nt.bridge.is_verify_success),Nt.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;return Nt.bridge.is_verify_success?(cs("---test---bridge-verify-success---",u.data),ud&&ud.call(jn,JSON.stringify(Gu.extend({server_url:Nt.para.server_url},u.data))),Gu.isFunction(p)&&p(),d.cancellationToken.cancel(),u):(cs("---test---bridge-verify-fail-----",Nt.bridge.is_verify_success),Nt.para.app_js_bridge.is_send?(Nt.debug.apph5({data:u.data,step:"4.2",output:"all"}),u):(Gu.isFunction(p)&&p(),d.cancellationToken.cancel(),u))}function co(u){var d=u.callType;return d in P_.commands?P_.commands[d](u,jn):void(jn&&Gu.isFunction(jn.sensorsdata_js_call_app)&&jn.sensorsdata_js_call_app(JSON.stringify(u)))}function Sp(u){return L_&&L_.call(ai,JSON.stringify(u))}function zc(u){return cd.call(ai)&&R_&&R_.call(ai,JSON.stringify(u))}function xp(u,d){return d&&typeof d[u.callType]=="function"&&d[u.callType]()}function Ep(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return wp(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function wp(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Mu(u,d,p){return Ep(u,d,p),u.plugin_version=gA,u}function Cp(){if(Cn("ObsoleteBridge---test---init---"),en=window.SensorsData_APP_JS_Bridge,ho=en&&en.sensorsdata_track,ds=en&&en.sensorsdata_verify,zu=en&&en.sensorsdata_visual_verify,Cn("ObsoleteBridge-",dr.bridge.activeBridge,ds,ho,zu),dr&&!dr.bridge.activeBridge&&(ds||ho||zu)){dr.bridge.activeBridge=N_;var u=ds||ho;if(zu&&(u=!!zu.call(en,JSON.stringify({server_url:dr.para.server_url})),Cn("ObsoleteBridge---called-return",u)),dr.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:u?"success":"fail"},!dr.para.app_js_bridge)return void Cn("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");dr.registerInterceptor("sendDataStage",{send:{priority:80,entry:Ap}}),Cn("Android obsolete bridge inits succeed.")}}function Ap(u,d){if(Cn("ObsoleteBridge---senddata"),dr.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;if(ds){var _=ds&&ds.call(en,JSON.stringify(fs.extend({server_url:dr.para.server_url},u.data)));return Cn("ObsoleteBridge---anVerify-success",_),_?(fs.isFunction(p)&&p(),d.cancellationToken.cancel(),u):dr.para.app_js_bridge.is_send?(dr.debug.apph5({data:u.data,step:"3.1",output:"all"}),u):(fs.isFunction(p)&&p(),d.cancellationToken.cancel(),u)}return Cn("ObsoleteBridge---is-send-old-way",dr.para.app_js_bridge.is_send),ho&&ho.call(en,JSON.stringify(fs.extend({server_url:dr.para.server_url},u.data))),fs.isFunction(p)&&p(),d.cancellationToken.cancel(),u}function Ta(u){Cn("ObsoleteBridge---handleCommadn");var d=u.callType;return d in Xp.commands?(Cn("ObsoleteBridge---",d,Xp.commands),Xp.commands[d](u,en)):en&&fs.isFunction(en.sensorsdata_js_call_app)?(Cn("ObsoleteBridge---handleCommadn-abridge"),en.sensorsdata_js_call_app(JSON.stringify(u))):void 0}function yt(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Li(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Li(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Sr(u,d,p){return yt(u,d,p),u.plugin_version=mA,u}function En(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return kp(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function kp(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Kc(u,d,p){return En(u,d,p),u.plugin_version=_A,u}function Xc(){return typeof Ku<"u"&&document[Ku]}function Dp(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Pp(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Pp(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Ip(u,d,p){return Dp(u,d,p),u.plugin_version=CA,u}function Op(){if(Jp=window.SensorsData_iOS_JS_Bridge&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url,hs=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker},Jt&&!Jt.bridge.activeBridge&&hs()&&hs().postMessage){if(Jt.bridge.activeBridge=U_,Jt.para.app_js_bridge&&!Jt.para.app_js_bridge.is_mui&&(Jt.bridge.is_verify_success=Jp&&Jt.bridge.validateAppUrl(Jp)),Jt.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:Jt.bridge.is_verify_success?"success":"fail",support_two_way_call:!0},!Jt.para.app_js_bridge)return void Yp("app_js_bridge is not configured, data will not be sent by iOS bridge.");Jt.registerInterceptor("sendDataStage",{send:{priority:70,entry:Lp}}),Yp("IOS bridge inits succeed.")}}function Lp(u,d){if(Jt.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;return Jt.bridge.is_verify_success?(hs()&&hs().postMessage(JSON.stringify({callType:"app_h5_track",data:Xu.extend({server_url:Jt.para.server_url},u.data)})),Xu.isFunction(p)&&p(),d.cancellationToken.cancel(),u):Jt.para.app_js_bridge.is_send?(Jt.debug.apph5({data:u.data,step:"4.1",output:"all"}),u):(Xu.isFunction(p)&&p(),d.cancellationToken.cancel(),u)}function Rp(u){var d=u.callType;return d!=="page_info"&&d!=="visualized_track"||Jt.bridge.hasVisualModeBridge()?d==="sensorsdata_get_app_visual_config"?Xu.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge[d]:hs()&&hs().postMessage(JSON.stringify(u)):null}function Jc(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return I(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function I(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function y(u,d,p){return Jc(u,d,p),u.plugin_version=AA,u}function x(){if(fr&&!fr.bridge.activeBridge&&S()){if(fr.bridge.activeBridge=$_,fr.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:E()?"success":"fail"},!fr.para.app_js_bridge)return void Qp("app_js_bridge is not configured, data will not be sent by iOS obsolete bridge.");fr.registerInterceptor("sendDataStage",{send:{priority:90,entry:A}}),Qp("IOS obsolete bridge inits succeed.")}}function S(){return(/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream}function E(){if(/sensors-verify/.test(navigator.userAgent)){var u=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(u&&u[0]&&typeof u[1]=="string"&&u[1].split("?").length===2){u=u[1].split("?");var d=null,p=null;try{d=po.URL(fr.para.server_url).hostname,p=po.URL(fr.para.server_url).searchParams.get("project")||"default"}catch(_){fr.log(_)}return!(!d||d!==u[0]||!p||p!==u[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)}function A(u,d){function p(L){var z=JSON.stringify(po.extend({server_url:fr.para.server_url},L));return z=z.replace(/\r\n/g,""),z=encodeURIComponent(z),"sensorsanalytics://trackEvent?event="+z}if(fr.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var _=u.callback;if(fr.bridge.bridge_info.verify_success){var b=document.createElement("iframe"),C=p(u.data);return b.setAttribute("src",C),document.documentElement.appendChild(b),b.parentNode.removeChild(b),b=null,po.isFunction(_)&&_(),d.cancellationToken.cancel(),!0}return fr.para.app_js_bridge.is_send?(fr.debug.apph5({data:u.data,step:"3.2",output:"all"}),u):(po.isFunction(_)&&_(),d.cancellationToken.cancel(),u)}function k(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return N(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function N(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function B(u,d,p){return k(u,d,p),u.plugin_version=kA,u}function q(){this.sd=null,this.start_time=+new Date,this.page_show_status=!0,this.page_hidden_status=!1,this._={},this.timer=null,this.current_page_url=document.referrer,this.url=location.href,this.title=document.title||"",this.option={},this.heartbeat_interval_time=5e3,this.heartbeat_interval_timer=null,this.page_id=null,this.storage_name="sawebjssdkpageleave",this.max_duration=PA}function G(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Y(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Y(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function se(u,d,p){return G(u,d,p),u.plugin_version=LA,u}function Ee(u,d){if(u.type!=="track")return u;var p=d.sd,_=p._,b=p.saEvent.check,C=_.extend2Lev({properties:{}},u),L=d.customRegister,z=C.properties,ae=C.event,ge={};return _.each(L,function(ke){if(_.isObject(ke))_.indexOf(ke.events,ae)>-1&&b({properties:ke.properties})&&(ge=_.extend(ge,ke.properties));else if(_.isFunction(ke)){var rt=ke({event:ae,properties:z,data:C});_.isObject(rt)&&!_.isEmptyObject(rt)&&b({properties:rt})&&(ge=_.extend(ge,rt))}}),u.properties=_.extend(z,ge),u}function Oe(){this.sd=null,this.log=window.console&&window.console.log||function(){},this.customRegister=[]}function _e(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return qe(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function qe(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Zt(u,d,p){return _e(u,d,p),u.plugin_version=FA,u}function xr(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Ri(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Ri(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Bu(u,d,p){return xr(u,d,p),u.plugin_version=UA,u}function Yc(u){try{if(u.event!=="$pageview"&&(!u.type||u.type.slice(0,7)!=="profile")){var d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,p=document.documentElement.scrollHeight||0,_={$page_height:Math.max(d,p)||0};u.properties=ps._.extend(u.properties||{},_)}}catch{Yu("\u9875\u9762\u9AD8\u5EA6\u83B7\u53D6\u5F02\u5E38\u3002")}return q_.call(ps.kit,u)}function Qc(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Zc(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Zc(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Uu(u,d,p){return Qc(u,d,p),u.plugin_version=HA,u}function ed(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Kt(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Kt(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function td(u,d,p){return ed(u,d,p),u.plugin_version=WA,u}function Ni(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Vw(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Vw(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function qw(u,d,p){return Ni(u,d,p),u.plugin_version=zA,u}function Ww(){tg=!0}function Gw(){tg=!1}function zw(){return tg}function Kw(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return Xw(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Xw(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function Jw(u,d,p){return Kw(u,d,p),u.plugin_version=XA,u}function Yw(u){var d=u,p="";p=Ht.para.debug_mode_url.indexOf("?")!==-1?Ht.para.debug_mode_url+"&"+Ht.kit.encodeTrackData(u):Ht.para.debug_mode_url+"?"+Ht.kit.encodeTrackData(u),gs.ajax({url:p,type:"GET",cors:!0,header:{"Dry-Run":String(Ht.para.debug_mode_upload)},success:function(_){gs.isEmptyObject(_)===!0?alert("debug\u6570\u636E\u53D1\u9001\u6210\u529F"+d):alert("debug\u5931\u8D25 \u9519\u8BEF\u539F\u56E0"+JSON.stringify(_))}})}function Qw(u,d){if(Ht.para.debug_mode===!0){var p=u.data;u.callback,Yw(JSON.stringify(p)),d.cancellationToken.stop()}return u}function Zw(){Ht.para.debug_mode===!0&&(Ht.para.debug_mode_upload=Ht.para.debug_mode_upload||!1,gs.isString(Ht.para.debug_mode_url)||(gs.isString(Ht.para.server_url)?Ht.para.debug_mode_url=Ht.para.server_url.replace("sa.gif","debug"):gs.isArray(Ht.para.server_url)&&gs.isString(Ht.para.server_url[0])?Ht.para.debug_mode_url=Ht.para.server_url[0].replace("sa.gif","debug"):Ht.para.debug_mode=!1))}function eC(){Ht.on("sdkInitPara",function(){Zw()}),Ht.on("sdkAfterInitPara",function(){Ht.registerInterceptor("sendDataStage",{send:{priority:30,entry:Qw}})})}function tC(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return rC(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function rC(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function nC(u,d,p){return tC(u,d,p),u.plugin_version=YA,u}function iC(u,d){if(ms.isObject(Nr.para.jsapp)&&!Nr.para.jsapp.isOnline&&typeof Nr.para.jsapp.setData=="function"){var p=u;delete p.callback,p=JSON.stringify(p),Nr.para.jsapp.setData(p),d.cancellationToken.stop()}return u}function aC(){Nr.on("sdkAfterInitAPI",function(){ms.isObject(Nr.commonWays)&&(Nr.commonWays.setOnlineState=sC),Nr.registerInterceptor("sendDataStage",{send:{priority:40,entry:iC}})})}function sC(u){if(u===!0&&ms.isObject(Nr.para.jsapp)&&typeof Nr.para.jsapp.getData=="function"){Nr.para.jsapp.isOnline=!0;var d=Nr.para.jsapp.getData();ms.isArray(d)&&d.length>0&&ms.each(d,function(p){ms.isJSONString(p)&&Nr.kit.sendData(JSON.parse(p))})}else Nr.para.jsapp.isOnline=!1}function oC(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return uC(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function uC(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function lC(u,d,p){return oC(u,d,p),u.plugin_version=ZA,u}function cC(u,d){return!Fr.para.app_js_bridge&&Fr.para.batch_send&&Ca.localStorage.isSupport()&&localStorage.length<Fr.para.batch_send.storage_length&&(fd.add(u.data),d.cancellationToken.stop()),u}function dC(){var u={datasend_timeout:6e3,send_interval:6e3,storage_length:200};Ca.localStorage.isSupport()&&Ca.isSupportCors()&&typeof localStorage=="object"?Fr.para.batch_send===!0?Fr.para.batch_send=Ca.extend({},u):typeof Fr.para.batch_send=="object"&&(Fr.para.batch_send=Ca.extend({},u,Fr.para.batch_send)):Fr.para.batch_send=!1}function fC(){Fr.on("sdkInitPara",function(){dC()}),Fr.on("sdkAfterInitPara",function(){!Fr.para.app_js_bridge&&Fr.para.batch_send&&Ca.localStorage.isSupport()&&(fd||(fd=new Ca.BatchSend),fd.batchInterval(),Fr.registerInterceptor("sendDataStage",{send:{priority:100,entry:cC}}))})}function hC(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return pC(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function pC(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function gC(u,d,p){return hC(u,d,p),u.plugin_version=tk,u}function r_(u){var d=new Aa.BeaconSend(u);d.start()}function mC(u,d){var p=null,_=null;Aa.isObject(u.config)&&(p=u.config.send_type,_=Aa.optimizeServerUrl(u.config.server_url));var b=p==="beacon"||!p&&oi.para.send_type==="beacon";if(b&&Aa.isSupportBeaconSend()){var C=_||u.server_url;u.server_url=C,u.data=oi.kit.encodeTrackData(u.data),Aa.isArray(C)&&C.length?Aa.each(C,function(L){u.callback=null,u.server_url=L,r_(u)}):typeof C=="string"&&C!==""?r_(u):oi.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),d.cancellationToken.stop()}return u}function vC(){oi.para.send_type!=="beacon"||Aa.isSupportBeaconSend()||(oi.para.send_type="image")}function _C(){oi.on("sdkInitPara",function(){vC()}),oi.on("sdkAfterInitPara",function(){oi.registerInterceptor("sendDataStage",{send:{priority:110,entry:mC}})})}function yC(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return bC(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function bC(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function TC(u,d,p){return yC(u,d,p),u.plugin_version=nk,u}function n_(u){var d=new ka.AjaxSend(u);d.start()}function SC(u,d){var p=null,_=null;ka.isObject(u.config)&&(p=u.config.send_type,_=ka.optimizeServerUrl(u.config.server_url));var b=p==="ajax"||!p&&ui.para.send_type==="ajax";if(b&&ka.isSupportCors()){var C=_||u.server_url;u.server_url=C,u.data=ui.kit.encodeTrackData(u.data),ka.isArray(C)&&C.length?ka.each(C,function(L){u.callback=null,u.server_url=L,n_(u)}):typeof C=="string"&&C!==""?n_(u):ui.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),d.cancellationToken.stop()}return u}function xC(){ui.para.send_type!=="ajax"||ka.isSupportCors()||(ui.para.send_type="image")}function EC(){ui.on("sdkInitPara",function(){xC()}),ui.on("sdkAfterInitPara",function(){ui.registerInterceptor("sendDataStage",{send:{priority:120,entry:SC}})})}function wC(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return CC(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function CC(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function AC(u,d,p){return wC(u,d,p),u.plugin_version=ak,u}function i_(u,d){var p=An.kit.encodeTrackData(d);return u.indexOf("?")!==-1?u+"&"+p:u+"?"+p}function a_(u){var d=new go.ImageSend(u);d.start()}function kC(u,d){var p=null;go.isObject(u.config)&&(p=go.optimizeServerUrl(u.config.server_url));var _=p||u.server_url,b=u.data;u.server_url=_,go.isArray(_)&&_.length?go.each(_,function(C){C&&(u.data=i_(C,b),u.callback=null,u.server_url=C,a_(u))}):typeof _=="string"&&_!==""?(u.data=i_(_,b),a_(u)):An.logger&&An.logger.msg("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01").level("warn").log(),d.cancellationToken.stop()}function DC(){An.para.send_type!=="image"&&An.para.send_type!=="ajax"&&An.para.send_type!=="beacon"&&(An.para.send_type="image")}function PC(){An.on("sdkInitPara",function(){DC()}),An.on("sdkAfterInitPara",function(){An.registerInterceptor("sendDataStage",{send:{priority:130,entry:kC}})})}function IC(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var _=u.init;u.init=function(b,C){function L(){_.call(u,b,C)}return OC(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function OC(u,d,p){function _(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(p+""||"").level(b).log():u.log&&u.log.apply(u,C)}d.log=function(){_("log",arguments)},d.warn=function(){_("warn",arguments)},d.error=function(){_("error",arguments)}}function LC(u,d,p){return IC(u,d,p),u.plugin_version=nd,u}function RC(u){return Qu===null?void s_(u):void Qu.push(u)}function s_(u){try{if(u.level==="log"&&o_()||u.level==="warn"&&NC()||u.level==="error"&&FC())return void Np(u)}catch{}}function o_(){return!!Fp()||gr.para.show_log===!0||nn.isObject(gr.para.show_log)&&gr.para.show_log.level==="log"}function NC(){return!!Fp()||o_()||nn.isObject(gr.para.show_log)&&gr.para.show_log.level==="warn"}function FC(){return!!Fp()||!nn.isObject(gr.para.show_log)||gr.para.show_log.level!=="none"}function Np(u){var d=u.content,p=nn.isObject(d[0])?nn.formatJsonString(d[0]):d[0],_=MC(u);d[0]=_+(_.length>0?": ":"")+p;try{console&&(nn.isFunction(console[u.level])?console[u.level].apply(console,d):nn.isObject(console[u.level])&&console[u.level](d[0]))}catch{}}function MC(u){var d="",p="",_=gr.para.show_log;return nn.isObject(_)&&_.show_brand===!1||(d+=u.brand),nn.isObject(_)&&_.show_level===!1||(d+=(d.length>0?"-":"")+u.level),d.length>0&&(d="["+d+"]"),nn.isObject(_)&&_.show_module===!1||(p=u.module),d+p}function BC(){nn.sessionStorage.isSupport()&&sessionStorage.setItem(rg,"true")}function UC(){nn.sessionStorage.isSupport()&&sessionStorage.removeItem(rg)}function Fp(){return nn.sessionStorage.isSupport()&&sessionStorage.getItem(rg)==="true"}var O={};(function(){function u(z,ae){function ge(Ne,He){try{Ne()}catch{He&&He()}}function ke(Ne){if(ke[Ne]!=null)return ke[Ne];var He;if(Ne=="bug-string-char-index")He="a"[0]!="a";else if(Ne=="json")He=ke("json-stringify")&&ke("date-serialization")&&ke("json-parse");else if(Ne=="date-serialization"){if(He=ke("json-stringify")&&li){var ye=ae.stringify;ge(function(){He=ye(new ar(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&ye(new ar(864e13))=='"+275760-09-13T00:00:00.000Z"'&&ye(new ar(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&ye(new ar(-1))=='"1969-12-31T23:59:59.999Z"'})}}else{var ze,Pe='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(Ne=="json-stringify"){var ye=ae.stringify,Ke=typeof ye=="function";Ke&&((ze=function(){return 1}).toJSON=ze,ge(function(){Ke=ye(0)==="0"&&ye(new st)==="0"&&ye(new Vt)=='""'&&ye(kn)===$n&&ye($n)===$n&&ye()===$n&&ye(ze)==="1"&&ye([ze])=="[1]"&&ye([$n])=="[null]"&&ye(null)=="null"&&ye([$n,kn,null])=="[null,null,null]"&&ye({a:[ze,!0,!1,null,`\0\b
\f\r	`]})==Pe&&ye(null,ze)==="1"&&ye([1,2],null,1)==`[
 1,
 2
]`},function(){Ke=!1})),He=Ke}if(Ne=="json-parse"){var Ye,$e=ae.parse;typeof $e=="function"&&ge(function(){$e("0")!==0||$e(!1)||(ze=$e(Pe),Ye=ze.a.length==5&&ze.a[0]===1,Ye&&(ge(function(){Ye=!$e('"	"')}),Ye&&ge(function(){Ye=$e("01")!==1}),Ye&&ge(function(){Ye=$e("1.")!==1})))},function(){Ye=!1}),He=Ye}}return ke[Ne]=!!He}function rt(Ne){return ag(this)}z||(z=p.Object()),ae||(ae=p.Object());var st=z.Number||p.Number,Vt=z.String||p.String,Er=z.Object||p.Object,ar=z.Date||p.Date,Mi=z.SyntaxError||p.SyntaxError,hd=z.TypeError||p.TypeError,lk=z.Math||p.Math,pd=z.JSON||p.JSON;if(typeof pd=="object"&&pd)return ae.stringify=pd.stringify,ae.parse=pd.parse,ae.runInContext=u,ae;var $n,ny=Er.prototype,kn=ny.toString,gd=ny.hasOwnProperty,li=new ar(-0xc782b5b800cec);if(ge(function(){li=li.getUTCFullYear()==-109252&&li.getUTCMonth()===0&&li.getUTCDate()===1&&li.getUTCHours()==10&&li.getUTCMinutes()==37&&li.getUTCSeconds()==6&&li.getUTCMilliseconds()==708}),ke["bug-string-char-index"]=ke["date-serialization"]=ke.json=ke["json-stringify"]=ke["json-parse"]=null,!ke("json")){var md="[object Function]",ck="[object Date]",iy="[object Number]",ay="[object String]",ng="[object Array]",dk="[object Boolean]",ig=ke("bug-string-char-index"),vo=function(Ne,He){var ye,ze,Pe,Ke=0;(ye=function(){this.valueOf=0}).prototype.valueOf=0,ze=new ye;for(Pe in ze)gd.call(ze,Pe)&&Ke++;return ye=ze=null,Ke?vo=function(Ye,$e){var It,Mr,qt=kn.call(Ye)==md;for(It in Ye)qt&&It=="prototype"||!gd.call(Ye,It)||(Mr=It==="constructor")||$e(It);(Mr||gd.call(Ye,It="constructor"))&&$e(It)}:(ze=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],vo=function(Ye,$e){var It,Mr,qt=kn.call(Ye)==md,Pa=!qt&&typeof Ye.constructor!="function"&&d[typeof Ye.hasOwnProperty]&&Ye.hasOwnProperty||gd;for(It in Ye)qt&&It=="prototype"||!Pa.call(Ye,It)||$e(It);for(Mr=ze.length;It=ze[--Mr];)Pa.call(Ye,It)&&$e(It)}),vo(Ne,He)};if(!ke("json-stringify")&&!ke("date-serialization")){var fk={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},hk="000000",Bi=function(Ne,He){return(hk+(He||0)).slice(-Ne)},ag=function(Ne){var He,ye,ze,Pe,Ke,Ye,$e,It,Mr;if(li)He=function(Dt){ye=Dt.getUTCFullYear(),ze=Dt.getUTCMonth(),Pe=Dt.getUTCDate(),Ye=Dt.getUTCHours(),$e=Dt.getUTCMinutes(),It=Dt.getUTCSeconds(),Mr=Dt.getUTCMilliseconds()};else{var qt=lk.floor,Pa=[0,31,59,90,120,151,181,212,243,273,304,334],Ui=function(Dt,ji){return Pa[ji]+365*(Dt-1970)+qt((Dt-1969+(ji=+(ji>1)))/4)-qt((Dt-1901+ji)/100)+qt((Dt-1601+ji)/400)};He=function(Dt){for(Pe=qt(Dt/864e5),ye=qt(Pe/365.2425)+1970-1;Ui(ye+1,0)<=Pe;ye++);for(ze=qt((Pe-Ui(ye,0))/30.42);Ui(ye,ze+1)<=Pe;ze++);Pe=1+Pe-Ui(ye,ze),Ke=(Dt%864e5+864e5)%864e5,Ye=qt(Ke/36e5)%24,$e=qt(Ke/6e4)%60,It=qt(Ke/1e3)%60,Mr=Ke%1e3}}return(ag=function(Dt){return Dt>-1/0&&Dt<1/0?(He(Dt),Dt=(ye<=0||ye>=1e4?(ye<0?"-":"+")+Bi(6,ye<0?-ye:ye):Bi(4,ye))+"-"+Bi(2,ze+1)+"-"+Bi(2,Pe)+"T"+Bi(2,Ye)+":"+Bi(2,$e)+":"+Bi(2,It)+"."+Bi(3,Mr)+"Z",ye=ze=Pe=Ye=$e=It=Mr=null):Dt=null,Dt})(Ne)};if(ke("json-stringify")&&!ke("date-serialization")){var pk=ae.stringify;ae.stringify=function(Ne,He,ye){var ze=ar.prototype.toJSON;ar.prototype.toJSON=rt;var Pe=pk(Ne,He,ye);return ar.prototype.toJSON=ze,Pe}}else{var gk="\\u00",mk=function(Ne){var He=Ne.charCodeAt(0),ye=fk[He];return ye||gk+Bi(2,He.toString(16))},sg=/[\x00-\x1f\x22\x5c]/g,sy=function(Ne){return sg.lastIndex=0,'"'+(sg.test(Ne)?Ne.replace(sg,mk):Ne)+'"'},og=function(Ne,He,ye,ze,Pe,Ke,Ye){var $e,It,Mr,qt,Pa,Ui,Dt,ji,lg;if(ge(function(){$e=He[Ne]}),typeof $e=="object"&&$e&&($e.getUTCFullYear&&kn.call($e)==ck&&$e.toJSON===ar.prototype.toJSON?$e=ag($e):typeof $e.toJSON=="function"&&($e=$e.toJSON(Ne))),ye&&($e=ye.call(He,Ne,$e)),$e==$n)return $e===$n?$e:"null";switch(It=typeof $e,It=="object"&&(Mr=kn.call($e)),Mr||It){case"boolean":case dk:return""+$e;case"number":case iy:return $e>-1/0&&$e<1/0?""+$e:"null";case"string":case ay:return sy(""+$e)}if(typeof $e=="object"){for(Dt=Ye.length;Dt--;)if(Ye[Dt]===$e)throw hd();if(Ye.push($e),qt=[],ji=Ke,Ke+=Pe,Mr==ng){for(Ui=0,Dt=$e.length;Ui<Dt;Ui++)Pa=og(Ui,$e,ye,ze,Pe,Ke,Ye),qt.push(Pa===$n?"null":Pa);lg=qt.length?Pe?`[
`+Ke+qt.join(`,
`+Ke)+`
`+ji+"]":"["+qt.join(",")+"]":"[]"}else vo(ze||$e,function(ly){var cy=og(ly,$e,ye,ze,Pe,Ke,Ye);cy!==$n&&qt.push(sy(ly)+":"+(Pe?" ":"")+cy)}),lg=qt.length?Pe?`{
`+Ke+qt.join(`,
`+Ke)+`
`+ji+"}":"{"+qt.join(",")+"}":"{}";return Ye.pop(),lg}};ae.stringify=function(Ne,He,ye){var ze,Pe,Ke,Ye;if(d[typeof He]&&He){if(Ye=kn.call(He),Ye==md)Pe=He;else if(Ye==ng){Ke={};for(var $e,It=0,Mr=He.length;It<Mr;)$e=He[It++],Ye=kn.call($e),Ye!="[object String]"&&Ye!="[object Number]"||(Ke[$e]=1)}}if(ye)if(Ye=kn.call(ye),Ye==iy){if((ye-=ye%1)>0)for(ye>10&&(ye=10),ze="";ze.length<ye;)ze+=" "}else Ye==ay&&(ze=ye.length<=10?ye:ye.slice(0,10));return og("",($e={},$e[""]=Ne,$e),Pe,Ke,ze,"",[])}}}if(!ke("json-parse")){var Ze,vd,vk=Vt.fromCharCode,_k={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},mr=function(){throw Ze=vd=null,Mi()},Da=function(){for(var Ne,He,ye,ze,Pe,Ke=vd,Ye=Ke.length;Ze<Ye;)switch(Pe=Ke.charCodeAt(Ze)){case 9:case 10:case 13:case 32:Ze++;break;case 123:case 125:case 91:case 93:case 58:case 44:return Ne=ig?Ke.charAt(Ze):Ke[Ze],Ze++,Ne;case 34:for(Ne="@",Ze++;Ze<Ye;)if(Pe=Ke.charCodeAt(Ze),Pe<32)mr();else if(Pe==92)switch(Pe=Ke.charCodeAt(++Ze)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:Ne+=_k[Pe],Ze++;break;case 117:for(He=++Ze,ye=Ze+4;Ze<ye;Ze++)Pe=Ke.charCodeAt(Ze),Pe>=48&&Pe<=57||Pe>=97&&Pe<=102||Pe>=65&&Pe<=70||mr();Ne+=vk("0x"+Ke.slice(He,Ze));break;default:mr()}else{if(Pe==34)break;for(Pe=Ke.charCodeAt(Ze),He=Ze;Pe>=32&&Pe!=92&&Pe!=34;)Pe=Ke.charCodeAt(++Ze);Ne+=Ke.slice(He,Ze)}if(Ke.charCodeAt(Ze)==34)return Ze++,Ne;mr();default:if(He=Ze,Pe==45&&(ze=!0,Pe=Ke.charCodeAt(++Ze)),Pe>=48&&Pe<=57){for(Pe==48&&(Pe=Ke.charCodeAt(Ze+1),Pe>=48&&Pe<=57)&&mr(),ze=!1;Ze<Ye&&(Pe=Ke.charCodeAt(Ze),Pe>=48&&Pe<=57);Ze++);if(Ke.charCodeAt(Ze)==46){for(ye=++Ze;ye<Ye&&(Pe=Ke.charCodeAt(ye),!(Pe<48||Pe>57));ye++);ye==Ze&&mr(),Ze=ye}if(Pe=Ke.charCodeAt(Ze),Pe==101||Pe==69){for(Pe=Ke.charCodeAt(++Ze),Pe!=43&&Pe!=45||Ze++,ye=Ze;ye<Ye&&(Pe=Ke.charCodeAt(ye),!(Pe<48||Pe>57));ye++);ye==Ze&&mr(),Ze=ye}return+Ke.slice(He,Ze)}ze&&mr();var $e=Ke.slice(Ze,Ze+4);if($e=="true")return Ze+=4,!0;if($e=="fals"&&Ke.charCodeAt(Ze+4)==101)return Ze+=5,!1;if($e=="null")return Ze+=4,null;mr()}return"$"},ug=function(Ne){var He,ye;if(Ne=="$"&&mr(),typeof Ne=="string"){if((ig?Ne.charAt(0):Ne[0])=="@")return Ne.slice(1);if(Ne=="["){for(He=[];Ne=Da(),Ne!="]";)ye?Ne==","?(Ne=Da(),Ne=="]"&&mr()):mr():ye=!0,Ne==","&&mr(),He.push(ug(Ne));return He}if(Ne=="{"){for(He={};Ne=Da(),Ne!="}";)ye?Ne==","?(Ne=Da(),Ne=="}"&&mr()):mr():ye=!0,Ne!=","&&typeof Ne=="string"&&(ig?Ne.charAt(0):Ne[0])=="@"&&Da()==":"||mr(),He[Ne.slice(1)]=ug(Da());return He}mr()}return Ne},oy=function(Ne,He,ye){var ze=uy(Ne,He,ye);ze===$n?delete Ne[He]:Ne[He]=ze},uy=function(Ne,He,ye){var ze,Pe=Ne[He];if(typeof Pe=="object"&&Pe)if(kn.call(Pe)==ng)for(ze=Pe.length;ze--;)oy(kn,vo,Pe,ze,ye);else vo(Pe,function(Ke){oy(Pe,Ke,ye)});return ye.call(Ne,He,Pe)};ae.parse=function(Ne,He){var ye,ze;return Ze=0,vd=""+Ne,ye=ug(Da()),Da()!="$"&&mr(),Ze=vd=null,He&&kn.call(He)==md?uy((ze={},ze[""]=ye,ze),"",He):ye}}}return ae.runInContext=u,ae}var d={function:!0,object:!0},p=d[typeof window]&&window||this,_=p.JSON,b=p.JSON3,C=!1,L=u(p,p.JSON3={noConflict:function(){return C||(C=!0,p.JSON=_,p.JSON3=b,_=b=null),L}});p.JSON?(p.JSON.parse=L.parse,p.JSON.stringify=L.stringify):p.JSON={parse:L.parse,stringify:L.stringify}}).call(window),function(u,d){d(u)}(window,function(u){if(u.atob)try{u.atob(" ")}catch{u.atob=function(b){var C=function(L){return b(String(L).replace(/[\t\n\f\r ]+/g,""))};return C.original=b,C}(u.atob)}else{var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;u.btoa=function(_){_=String(_);for(var b,C,L,z,ae="",ge=0,ke=_.length%3;ge<_.length;){if((C=_.charCodeAt(ge++))>255||(L=_.charCodeAt(ge++))>255||(z=_.charCodeAt(ge++))>255)return"";b=C<<16|L<<8|z,ae+=d.charAt(b>>18&63)+d.charAt(b>>12&63)+d.charAt(b>>6&63)+d.charAt(63&b)}return ke?ae.slice(0,ke-3)+"===".substring(ke):ae},u.atob=function(_){if(_=String(_).replace(/[\t\n\f\r ]+/g,""),!p.test(_))return"";_+="==".slice(2-(3&_.length));for(var b,C,L,z="",ae=0;ae<_.length;)b=d.indexOf(_.charAt(ae++))<<18|d.indexOf(_.charAt(ae++))<<12|(C=d.indexOf(_.charAt(ae++)))<<6|(L=d.indexOf(_.charAt(ae++))),z+=C===64?String.fromCharCode(b>>16&255):L===64?String.fromCharCode(b>>16&255,b>>8&255):String.fromCharCode(b>>16&255,b>>8&255,255&b);return z}}});var u_,pr={setup:function(u){u_=u},log:function(){(u_||console&&console.log||function(){}).apply(null,arguments)}},mt={get:function(u){return window.localStorage.getItem(u)},parse:function(u){var d;try{d=JSON.parse(mt.get(u))||null}catch(p){pr.log(p)}return d},set:function(u,d){try{window.localStorage.setItem(u,d)}catch(p){pr.log(p)}},remove:function(u){window.localStorage.removeItem(u)},isSupport:function(){var u=!0;try{var d="__local_store_support__",p="testIsSupportStorage";mt.set(d,p),mt.get(d)!==p&&(u=!1),mt.remove(d)}catch{u=!1}return u}},l_=function(){function u(){return p=(9301*p+49297)%233280,p/233280}var d=new Date,p=d.getTime();return function(_){return Math.ceil(u()*_)}}();l.prototype.get=function(u,d,p,_){if(!u)throw new Error("key is must");d=d||1e4,p=p||1e3,_=_||function(){};var b=this.lockGetPrefix+u,C=mt.get(b),L=String(a());return C&&(C=s(C)||{randomNum:0,expireTime:0},C.expireTime>i())?_(null):(mt.set(b,JSON.stringify({randomNum:L,expireTime:i()+d})),void setTimeout(function(){C=s(mt.get(b))||{randomNum:0,expireTime:0},C&&C.randomNum===L?(_(mt.get(u)),mt.remove(u),mt.remove(b)):_(null)},p))},l.prototype.set=function(u,d,p,_,b){if(!u||!d)throw new Error("key and val is must");p=p||1e4,_=_||1e3,b=b||function(){};var C=this.lockSetPrefix+u,L=mt.get(C),z=String(a());return L&&(L=s(L)||{randomNum:0,expireTime:0},L.expireTime>i())?b({status:"fail",reason:"This key is locked"}):(mt.set(C,JSON.stringify({randomNum:z,expireTime:i()+p})),void setTimeout(function(){L=s(mt.get(C))||{randomNum:0,expireTime:0},L.randomNum===z?mt.set(u,d)&&b({status:"success"}):b({status:"fail",reason:"This key is locked"})},_))},f.prototype.on=function(u,d){if(!u||!d)return!1;if(!c(d))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var p=typeof d=="object";return this._events[u].push(p?d:{listener:d,once:!1}),this},f.prototype.prepend=function(u,d){if(!u||!d)return!1;if(!c(d))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var p=typeof d=="object";return this._events[u].unshift(p?d:{listener:d,once:!1}),this},f.prototype.prependOnce=function(u,d){return this.prepend(u,{listener:d,once:!0})},f.prototype.once=function(u,d){return this.on(u,{listener:d,once:!0})},f.prototype.off=function(u,d){var p=this._events[u];if(!p)return!1;if(typeof d=="number")p.splice(d,1);else if(typeof d=="function")for(var _=0,b=p.length;_<b;_++)p[_]&&p[_].listener===d&&p.splice(_,1);return this},f.prototype.emit=function(u,d){var p=this._events[u];if(!p)return!1;for(var _=0;_<p.length;_++){var b=p[_];b&&(b.listener.call(this,d||{}),b.once&&this.off(u,_))}return this},f.prototype.removeAllListeners=function(u){u&&this._events[u]?this._events[u]=[]:this._events={}},f.prototype.listeners=function(u){return u&&typeof u=="string"?this._events[u]:this._events};var Sa=function(){var u=function(){for(var _=1*new Date,b=0;_==1*new Date;)b++;return _.toString(16)+b.toString(16)},d=function(){return a().toString(16).replace(".","")},p=function(){function _(ge,ke){var rt,st=0;for(rt=0;rt<ke.length;rt++)st|=z[rt]<<8*rt;return ge^st}var b,C,L=navigator.userAgent,z=[],ae=0;for(b=0;b<L.length;b++)C=L.charCodeAt(b),z.unshift(255&C),z.length>=4&&(ae=_(ae,z),z=[]);return z.length>0&&(ae=_(ae,z)),ae.toString(16)};return function(){var _=String(screen.height*screen.width);_=_&&/\d{5,}/.test(_)?_.toString(16):String(31242*a()).replace(".","").slice(0,8);var b=u()+"-"+d()+"-"+p()+"-"+_+"-"+u();return b||(String(a())+String(a())+String(a())).slice(2,15)}}(),c_=function(u){this.ele=u},d_=function(u,d){for(var p=[];u;u=u.nextSibling)u.nodeType===1&&u!==d&&p.push(u);return p};c_.prototype={addClass:function(u){var d=" "+this.ele.className+" ";return d.indexOf(" "+u+" ")===-1&&(this.ele.className=this.ele.className+(this.ele.className===""?"":" ")+u),this},removeClass:function(u){var d=" "+this.ele.className+" ";return d.indexOf(" "+u+" ")!==-1&&(this.ele.className=d.replace(" "+u+" "," ").slice(1,-1)),this},hasClass:function(u){var d=" "+this.ele.className+" ";return d.indexOf(" "+u+" ")!==-1},attr:function(u,d){return typeof u=="string"&&M(d)?this.ele.getAttribute(u):(typeof u=="string"&&(d=String(d),this.ele.setAttribute(u,d)),this)},offset:function(){var u=this.ele.getBoundingClientRect();if(u.width||u.height){var d=this.ele.ownerDocument,p=d.documentElement;return{top:u.top+window.pageYOffset-p.clientTop,left:u.left+window.pageXOffset-p.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var u=this.ele.getBoundingClientRect();return{width:u.width,height:u.height}}catch{return{width:0,height:0}}},getStyle:function(u){return this.ele.currentStyle?this.ele.currentStyle[u]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(u)},wrap:function(u){var d=document.createElement(u);return this.ele.parentNode.insertBefore(d,this.ele),d.appendChild(this.ele),j(d)},getCssStyle:function(u){var d=this.ele.style.getPropertyValue(u);if(d)return d;var p=null;if(typeof window.getMatchedCSSRules=="function"&&(p=window.getMatchedCSSRules(this.ele)),!p||!U(p))return null;for(var _=p.length-1;_>=0;_--){var b=p[_];if(d=b.style.getPropertyValue(u))return d}},sibling:function(u,d){for(;(u=u[d])&&u.nodeType!==1;);return u},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(){return this.sibling(this.ele,"previousSibling")},siblings:function(){return d_((this.ele.parentNode||{}).firstChild,this.ele)},children:function(){return d_(this.ele.firstChild)},parent:function(){var u=this.ele.parentNode;return u=u&&u.nodeType!==11?u:null,j(u)},previousElementSibling:function(){var u=this.ele;if("previousElementSibling"in document.documentElement)return j(u.previousElementSibling);for(;u=u.previousSibling;)if(u.nodeType===1)return j(u);return j(null)},getSameTypeSiblings:function(){for(var u=this.ele,d=u.parentNode,p=u.tagName.toLowerCase(),_=[],b=0;b<d.children.length;b++){var C=d.children[b];C.nodeType===1&&C.tagName.toLowerCase()===p&&_.push(d.children[b])}return _},getParents:function(){try{var u=this.ele;if(!R(u))return[];var d=[u];if(u===null||u.parentElement===null)return[];for(;u.parentElement!==null;)u=u.parentElement,d.push(u);return d}catch{return[]}}};var f_=Array.prototype.forEach,jC=Object.prototype.hasOwnProperty,$C=Object.prototype.hasOwnProperty,us={get:function(u){for(var d=u+"=",p=document.cookie.split(";"),_=0;_<p.length;_++){for(var b=p[_];b.charAt(0)==" ";)b=b.substring(1,b.length);if(b.indexOf(d)==0)return h(b.substring(d.length,b.length))}return null},set:function(u,d,p,_,b,C){function L(ar){return!!ar&&ar.replace(/\r\n/g,"")}var z=C,ae="",ge="",ke="";if(p=p==null?73e3:p,p!==0){var rt=new Date;String(p).slice(-1)==="s"?rt.setTime(rt.getTime()+1e3*Number(String(p).slice(0,-1))):rt.setTime(rt.getTime()+24*p*60*60*1e3),ae="; expires="+rt.toGMTString()}_&&_!==""&&(ke="; SameSite="+_),b&&(ge="; secure");var st="",Vt="",Er="";u&&(st=L(u)),d&&(Vt=L(d)),z&&(Er=L(z)),st&&Vt&&(document.cookie=st+"="+encodeURIComponent(Vt)+ae+"; path=/"+Er+ke+ge)},remove:function(u,d){this.set(u,"1",-1,d)},isSupport:function(u,d,p,_,b){function C(){L.set(u,d,p,_,b);var z=L.get(u);return z===d&&(L.remove(u),!0)}u=u||"cookie_support_test",d=d||"1";var L=this;return navigator.cookieEnabled&&C()}},HC=Object.prototype.hasOwnProperty,fo={isSupport:function(){var u=!0,d="__session_storage_support__",p="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(d,p),sessionStorage.removeItem(d,p),u=!0):u=!1}catch{u=!1}return u}},VC={"+":"-","/":"_","=":"."},qC={"-":"+",_:"/",".":"="},WC={encode:function(u){return u.replace(/[+\/=]/g,function(d){return VC[d]})},decode:function(u){return u.replace(/[-_.]/g,function(d){return qC[d]})},trim:function(u){return u.replace(/[.=]{1,2}$/,"")},isBase64:function(u){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(u)},isUrlSafeBase64:function(u){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(u)}},GC={__proto__:null,ConcurrentStorage:l,EventEmitter:f,URL:P,UUID:Sa,addEvent:J,addHashEvent:te,ajax:K,base64Decode:Z,base64Encode:le,bindReady:Be,cookie:us,coverExtend:je,decodeURI:De,decodeURIComponent:h,dfmapping:me,each:H,encodeDates:dt,extend:X,extend2Lev:Dr,filter:Lt,formatDate:_t,formatJsonString:jt,getCookieTopLevelDomain:Pr,getDomBySelector:$t,getElementContent:ne,getHostname:be,getIOSVersion:xe,getQueryParam:Me,getQueryParamsFromUrl:et,getRandom:a,getRandomBasic:l_,getScreenOrientation:it,getUA:F,getURL:W,getURLPath:re,getURLSearchParams:v,hasAttribute:ie,hasAttributes:fe,hashCode:ue,hashCode53:Ce,indexOf:de,inherit:Se,isArguments:he,isArray:U,isBoolean:Ie,isDate:we,isElement:R,isEmptyObject:Le,isFunction:n,isHttpUrl:Ue,isIOS:Xe,isJSONString:at,isNumber:ut,isObject:t,isString:T,isSupportBeaconSend:Et,isSupportCors:Ge,isUndefined:M,jsonp:Ir,listenPageState:Mn,loadScript:Ci,localStorage:mt,logger:pr,map:ee,mediaQueriesSupported:xt,now:i,removeScriptProtocol:Ai,rot13defs:zt,rot13obfs:Za,ry:j,safeJSONParse:s,searchObjDate:Or,sessionStorage:fo,setCssStyle:ki,strToUnicode:Bh,throttle:Uh,toArray:xc,trim:w,unique:Ys,urlParse:D,urlSafeBase64:WC,values:Zr,xhr:$,startsWith:vu},rd=[],ls={appendWriter:function(u){rd.push(u)},msg:function(){var u={module:"",level:"log",brand:"web-sdk",content:null};u.content=Array.prototype.slice.call(arguments);var d={module:function(p){return T(p)&&(u.module=p),this},level:function(p){return T(p)&&(u.level=p),this},brand:function(p){return T(p)&&(u.brand=p),this},log:function(){if(u.content&&u.content.length){for(var p=0;p<rd.length;p++)if(typeof rd[p]=="function")try{rd[p].call(null,u)}catch{}}return this}};return d}},Fe={},ju={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,enc_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,max_id_length:255,max_key_length:100,cross_subdomain:!0,show_log:!1,is_debug:!1,source_channel:[],sdk_id:"",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1};ju.white_list={},ju.white_list[location.host]=P(location.href).hostname;var h_="utm_source utm_medium utm_campaign utm_content utm_term",nd="1.26.12",p_="sensorsdata_domain_test",$u={EMAIL:"$identity_email",MOBILE:"$identity_mobile",LOGIN:"$identity_login_id"},pn={get:function(u){return us.get(u)},set:function(u,d,p,_){var b="";if(_=M(_)?Fe.cross_subdomain:_){var C=Di(location.href);C==="url\u89E3\u6790\u5931\u8D25"&&(C=""),b=C?"; domain="+C:""}return us.set(u,d,p,Fe.set_cookie_samesite,Fe.is_secure_cookie,b)},remove:function(u,d){return d=M(d)?Fe.cross_subdomain:d,us.remove(u,d)},isSupport:function(u,d){return u=u||"sajssdk_2015_cookie_access_test",d=d||"1",us.isSupport(u,d,0,null,Fe.is_secure_cookie)}};pn.getNewUser=Qs;var id={data:{},get:function(u){var d=this.data[u];return d===void 0?null:d._expirationTimestamp_!==void 0?new Date().getTime()>d._expirationTimestamp_?null:d.value:d},set:function(u,d,p){if(p){var _,b=new Date;_=String(p).slice(-1)==="s"?b.getTime()+1e3*Number(String(p).slice(0,-1)):b.getTime()+24*p*60*60*1e3,d={value:d,_expirationTimestamp_:_}}this.data[u]=d},getNewUserFlagMemoryKey:function(u){return"sajssdk_2015_"+Fe.sdk_id+u}},Hu={checkIsAddSign:function(u){u.type==="track"&&(Qs()?u.properties.$is_first_day=!0:u.properties.$is_first_day=!1)},is_first_visit_time:!1,is_page_first_visited:!1,checkIsFirstTime:function(u){u.type==="track"&&u.event==="$pageview"&&(this.is_first_visit_time?(u.properties.$is_first_time=!0,this.is_first_visit_time=!1):u.properties.$is_first_time=!1)},setDeviceId:function(){},storeInitCheck:function(){if(O.is_first_visitor){var u=new Date,d={h:23-u.getHours(),m:59-u.getMinutes(),s:59-u.getSeconds()};pn.isSupport()?pn.set(Lr("new_user"),"1",3600*d.h+60*d.m+d.s+"s"):id.set(id.getNewUserFlagMemoryKey("new_user"),"1",3600*d.h+60*d.m+d.s+"s"),this.is_first_visit_time=!0,this.is_page_first_visited=!0}else Qs()||(this.checkIsAddSign=function(p){p.type==="track"&&(p.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(p){p.type==="track"&&p.event==="$pageview"&&(p.properties.$is_first_time=!1)}}},Mp=function(){this._events=[],this.pendingEvents=[]};Mp.prototype={emit:function(u){var d=[].slice.call(arguments,1);H(this._events,function(p){p.type===u&&p.callback.apply(p.context,d)}),this.pendingEvents.push({type:u,data:d}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(u,d,p,_){n(d)&&(this._events.push({type:u,callback:d,context:p||this}),_=_!==!1,this.pendingEvents.length>0&&_&&H(this.pendingEvents,function(b){b.type===u&&d.apply(p,b.data)}))},tempAdd:function(u,d){if(d&&u)return this.emit(u,d)},isReady:function(){}};var Vu={data:{},id:function(){return this.data.id?this.data.id:(this.data.id=es(),this.data.id)},type:function(){return this.data.type?this.data.type:(this.data.type=xn(),this.data.type)}},xa={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(u){},apph5:function(u){var d="app_h5\u6253\u901A\u5931\u8D25-",p={1:d+"use_app_track\u4E3Afalse",2:d+"Android\u6216\u8005iOS\uFF0C\u6CA1\u6709\u66B4\u9732\u76F8\u5E94\u65B9\u6CD5",3.1:d+"Android\u6821\u9A8Cserver_url\u5931\u8D25",3.2:d+"iOS\u6821\u9A8Cserver_url\u5931\u8D25",4.1:d+"H5 \u6821\u9A8C iOS server_url \u5931\u8D25",4.2:d+"H5 \u6821\u9A8C Android server_url \u5931\u8D25"},_=u.output,b=u.step,C=u.data||"";_!=="all"&&_!=="console"||Sn(p[b]),(_==="all"||_==="code")&&t(Fe.is_debug)&&Fe.is_debug.apph5&&(C.type&&C.type.slice(0,7)==="profile"||(C.properties._jssdk_debug_info="apph5-"+String(b)))},defineMode:function(u){var d={1:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 App SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},2:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 Web JS SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},3:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u6CA1\u6709\u5F00\u542F\u5168\u57CB\u70B9\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},4:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0E App SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""}};return!(!u||!d[u])&&d[u]},protocol:{protocolIsSame:function(u,d){try{if(P(u).protocol!==P(d).protocol)return!1}catch{return Je("\u4E0D\u652F\u6301 _.URL \u65B9\u6CD5"),!1}return!0},serverUrl:function(){T(Fe.server_url)&&Fe.server_url!==""&&!this.protocolIsSame(Fe.server_url,location.href)&&Je(`SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002
\u56E0\u4E3A\uFF1A1\u3001https \u4E0B\u9762\u53D1\u9001 http \u7684\u56FE\u7247\u8BF7\u6C42\u4F1A\u5931\u8D25\u30022\u3001http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002`)},ajax:function(u){return u!==Fe.server_url&&void(T(u)&&u!==""&&!this.protocolIsSame(u,location.href)&&Je("SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002\u56E0\u4E3A http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002"))}}},wt={initPage:function(){var u=gt(),d=W(),p=Di(d);p||xa.jssdkDebug("url_domain\u5F02\u5E38_"+d+"_"+p),this.pageProp={referrer:u,referrer_host:u?be(u):"",url:d,url_host:be(d,"url_host\u53D6\u503C\u5F02\u5E38"),url_domain:p}},pageProp:{},campaignParams:function(){return O.kit.getUtmData()},campaignParamsStandard:function(u,d){u=u||"",d=d||"";var p=wt.campaignParams(),_={},b={};return H(p,function(C,L,z){(" "+h_+" ").indexOf(" "+L+" ")!==-1?_[u+L]=z[L]:b[d+L]=z[L]}),{$utms:_,otherUtms:b}},properties:function(){var u=window.innerHeight||document.documentElement.clientHeight||document.body&&document.body.clientHeight||0,d=window.innerWidth||document.documentElement.clientWidth||document.body&&document.body.clientWidth||0,p={$timezone_offset:new Date().getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$viewport_height:u,$viewport_width:d,$lib:"js",$lib_version:nd};return p},currentProps:{},register:function(u){X(wt.currentProps,u)}},er={},Bp=new f;er.spa=Bp,er.sdk=new f,er.data=new f,er.initSystemEvent=function(){Hh(function(u){Bp.emit("switch",u)})},er.EVENT_LIST={spaSwitch:["spa","switch"],sdkBeforeInit:["sdk","beforeInit"],sdkInitPara:["sdk","initPara"],sdkAfterInitPara:["sdk","afterInitPara"],sdkInitAPI:["sdk","initAPI"],sdkAfterInitAPI:["sdk","afterInitAPI"],sdkAfterInit:["sdk","afterInit"],sdkReady:["sdk","ready"],dataSendSuccess:["data","sendSuccess"],dataSendFail:["data","sendFail"]};var Up=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data,this.origin_data=u.origin_data};Up.prototype.start=function(){var u=this,d=new Date;eo({url:this.server_url,type:"POST",data:u.data,credentials:!1,timeout:Fe.datasend_timeout,cors:!0,success:function(p,_){er.data.emit("sendSuccess",{status:String(_),resText:p,type:"ajax_single",timeout_config:Fe.datasend_timeout,request_timeout:new Date-d,data:u.origin_data}),u.end()},error:function(p,_){er.data.emit("sendFail",{status:String(_),resText:p,type:"ajax_single",timeout_config:Fe.datasend_timeout,request_timeout:new Date-d,data:u.origin_data}),u.end()}})},Up.prototype.end=function(){if(this.callback){if(Sn("warning: sdk callback is deprecated."),!n(this.callback))return void Sn("error: sdk callback must be function.");this.callback()}};var g_="sawebjssdk-",jp="tab-sawebjssdk-";Su.prototype={batchInterval:function(){this.serverUrl===""&&this.getServerUrl(),this.hasTabStorage||(this.generateTabStorage(),this.hasTabStorage=!0);var u=this;u.timer=setTimeout(function(){u.updateExpireTime(),u.recycle(),u.send(),clearTimeout(u.timer),u.batchInterval()},Fe.batch_send.send_interval)},getServerUrl:function(){return T(Fe.server_url)&&Fe.server_url!==""||U(Fe.server_url)&&Fe.server_url.length?void(this.serverUrl=U(Fe.server_url)?Fe.server_url[0]:Fe.server_url):ct("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01")},send:function(){if(this.sendTimeStamp&&i()-this.sendTimeStamp<Fe.batch_send.send_interval)return!1;var u=mt.get(this.tabKey);if(u){this.sendTimeStamp=i(),u=s(u)||this.generateTabStorageVal();var d=Ys(u.data);if(d.length){for(var p=[],_=0;_<d.length;_++){var b=O.store.readObjectVal(d[_]);b&&(b._flush_time=new Date().getTime(),p.push(b))}p.length&&this.request(p,u.data)}}},updateExpireTime:function(){var u=mt.get(this.tabKey);u&&(u=s(u)||this.generateTabStorageVal(),u.expireTime=i()+2*Fe.batch_send.send_interval,u.serverUrl=this.serverUrl,mt.set(this.tabKey,JSON.stringify(u)))},request:function(u,d){var p=this,_=new Date;eo({url:this.serverUrl,type:"POST",data:"data_list="+encodeURIComponent(le(JSON.stringify(u))),credentials:!1,timeout:Fe.batch_send.datasend_timeout,cors:!0,success:function(b,C){er.data.emit("sendSuccess",{status:String(C),resText:b,type:"ajax_batch",timeout_config:Fe.batch_send.datasend_timeout,request_timeout:new Date-_,data:u}),p.remove(d),p.sendTimeStamp=0},error:function(b,C){er.data.emit("sendFail",{status:String(C),resText:b,type:"ajax_batch",timeout_config:Fe.batch_send.datasend_timeout,request_timeout:new Date-_,data:u}),p.sendTimeStamp=0}})},remove:function(u){var d=mt.get(this.tabKey);if(d){for(var p=(s(d)||this.generateTabStorageVal()).data,_=0;_<u.length;_++){var b=de(p,u[_]);b>-1&&p.splice(b,1),mt.remove(u[_])}p=Ys(p),mt.set(this.tabKey,JSON.stringify(this.generateTabStorageVal(p)))}},add:function(u){var d=g_+String(a()),p=mt.get(this.tabKey);p===null?(this.tabKey=jp+String(a()),p=this.generateTabStorageVal()):p=s(p)||this.generateTabStorageVal(),p.data.push(d),p.expireTime=i()+2*Fe.batch_send.send_interval,mt.set(this.tabKey,JSON.stringify(p)),O.store.saveObjectVal(d,u),u.type!=="track_signup"&&u.event!=="$pageview"||this.sendImmediately()},generateTabStorage:function(){this.tabKey=jp+String(a()),mt.set(this.tabKey,JSON.stringify(this.generateTabStorageVal()))},generateTabStorageVal:function(u){return u=u||[],{data:u,expireTime:i()+2*Fe.batch_send.send_interval,serverUrl:this.serverUrl}},sendImmediately:function(){this.send()},recycle:function(){for(var u={},d=1e4,p="sajssdk-lock-get-",_=0;_<localStorage.length;_++){var b=localStorage.key(_),C=this;if(b.indexOf(jp)===0){for(var L=s(mt.get(b))||this.generateTabStorageVal(),z=0;z<L.data.length;z++)u[L.data[z]]=!0;if(b!==C.tabKey&&i()>L.expireTime&&this.serverUrl===L.serverUrl){var ae=new l(p);ae.get(b,d,1e3,function(st){if(st){mt.get(C.tabKey)===null&&C.generateTabStorage();var Vt=s(st)||C.generateTabStorageVal(),Er=s(mt.get(C.tabKey))||C.generateTabStorageVal();Er.data=Ys(Er.data.concat(Vt.data)),mt.set(C.tabKey,JSON.stringify(Er))}})}}else if(b.indexOf(p)===0){var ge=s(mt.get(b))||{expireTime:0};i()-ge.expireTime>d&&mt.remove(b)}}for(var ke=0;ke<localStorage.length;ke++){var rt=localStorage.key(ke);rt.indexOf(g_)!==0||u[rt]||mt.remove(rt)}}};var $p=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data};$p.prototype.start=function(){var u=this;typeof navigator=="object"&&typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){u.end()},40)},$p.prototype.end=function(){if(this.callback){if(Sn("warning: sdk callback is deprecated."),!n(this.callback))return void Sn("error: sdk callback must be function.");this.callback()}};var ad=function(u){this.callback=u.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,Fe.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.server_url=u.data};ad.prototype.start=function(){var u=this;Fe.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()}),this.img.src=this.server_url},ad.prototype.lastClear=function(){var u=F();u.ie!==void 0?this.img.src="about:blank":this.img.src=""},ad.prototype.end=function(){if(this.callback){if(Sn("warning: sdk callback is deprecated."),!n(this.callback))return void Sn("error: sdk callback must be function.");this.callback()}var u=this;setTimeout(function(){u.lastClear&&u.lastClear()},Fe.datasend_timeout-Fe.callback_timeout)};var zC={__proto__:null,addEvent:Pi,EventEmitterSa:Mp,cookie:pn,info:wt,getReferrer:gt,getCurrentDomain:Di,isBaiduTraffic:ti,getReferrerEqid:es,getReferrerEqidType:xn,getBaiduKeyword:Vu,isReferralTraffic:Zs,getKeywordFromReferrer:ri,getReferSearchEngine:ts,getSourceFromReferrer:_u,getWxAdIdFromUrl:ni,parseSuperProperties:Rt,searchConfigData:rs,strip_empty_properties:ir,getEleInfo:yu,getElementContent:ns,ajax:eo,optimizeServerUrl:Tu,encodeTrackData:is,AjaxSend:Up,BatchSend:Su,BeaconSend:$p,ImageSend:ad},m_=new Mp,ce={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{},identities:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getOriginDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getOriginUnionId:function(u){var d={};u=u||this._state;var p=u._first_id||u.first_id,_=u._distinct_id||u.distinct_id;return p&&_?(d.login_id=_,d.anonymous_id=p):d.anonymous_id=_,d},getIdentities:function(){var u=JSON.parse(JSON.stringify(this._state.identities));return u.$identity_anonymous_id=this.getAnonymousId(),u},getAnonymousId:function(){return ce._state._first_id||ce._state.first_id||ce._state._distinct_id||ce._state.distinct_id},getDistinctId:function(){var u=this.getUnionId();return u.login_id||u.anonymous_id},getUnionId:function(u){var d=this.getOriginUnionId(u);return d.login_id&&this._state.history_login_id&&this._state.history_login_id.name&&this._state.history_login_id.name!==$u.LOGIN&&(d.login_id=this._state.history_login_id.name+"+"+d.login_id),d},getFirstId:function(){return this._state._first_id||this._state.first_id},initSessionState:function(){var u=pn.get("sensorsdata2015session");u=O.kit.userDecryptIfNeeded(u);var d=null;u!==null&&typeof(d=s(u))=="object"&&(this._sessionState=d||{})},setOnce:function(u,d){u in this._state||this.set(u,d)},set:function(u,d){this._state=this._state||{};var p=this._state.distinct_id;this._state[u]=d,u==="first_id"?delete this._state._first_id:u==="distinct_id"&&delete this._state._distinct_id,this.save(),u==="distinct_id"&&p&&m_.tempAdd("changeDistinctId",d)},change:function(u,d){this._state["_"+u]=d},setSessionProps:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var d=this._sessionState;X(d,u),this.sessionSave(d)},setSessionPropsOnce:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var d=this._sessionState;je(d,u),this.sessionSave(d)},setProps:function(u,d){var p={};p=d?u:X(this._state.props||{},u);for(var _ in p)typeof p[_]=="string"&&(p[_]=p[_].slice(0,O.para.max_referrer_string_length));this.set("props",p)},setPropsOnce:function(u){var d=this._state.props||{};je(d,u),this.set("props",d)},clearAllProps:function(u){this._sessionState={};var d;if(U(u)&&u.length>0)for(d=0;d<u.length;d++)T(u[d])&&u[d].indexOf("latest_")===-1&&t(this._state.props)&&u[d]in this._state.props&&delete this._state.props[u[d]];else if(t(this._state.props))for(d in this._state.props)d.indexOf("latest_")!==1&&delete this._state.props[d];this.sessionSave({}),this.save()},sessionSave:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE"),this._sessionState=u;var d=JSON.stringify(this._sessionState);O.para.encrypt_cookie&&(d=O.kit.userEncrypt(d)),pn.set("sensorsdata2015session",d,0)},save:function(){var u=JSON.parse(JSON.stringify(this._state));delete u._first_id,delete u._distinct_id,u.identities&&(u.identities=le(JSON.stringify(u.identities)));var d=JSON.stringify(u);O.para.encrypt_cookie&&(d=O.kit.userEncrypt(d)),pn.set(this.getCookieName(),d,360,O.para.cross_subdomain)},getCookieName:function(){var u="";if(O.para.cross_subdomain===!1){try{var d=location.host;M(O.para.white_list[d])||(u=O.para.white_list[d])}catch(p){Je(p)}u=typeof u=="string"&&u!==""?"sa_jssdk_2015_"+O.para.sdk_id+u.replace(/\./g,"_"):"sa_jssdk_2015_root"+O.para.sdk_id}else u="sensorsdata2015jssdkcross"+O.para.sdk_id;return u},init:function(){function u(C){var L;C.identities&&(C.identities.indexOf(`
/`)===0?C.identities=s(zt(C.identities)):C.identities=s(Z(C.identities)));var z=ce.getOriginUnionId(C);C.identities&&t(C.identities)&&!Le(C.identities)||(C.identities={},C.identities.$identity_cookie_id=Sa()),C.history_login_id=C.history_login_id||{};var ae=C.history_login_id,ge=ae.name;if(z.login_id)if(ge&&C.identities.hasOwnProperty(ge)){if(C.identities[ge]!==z.login_id){C.identities[ge]=z.login_id;for(L in C.identities)C.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==ge&&delete C.identities[L];C.history_login_id.value=z.login_id}}else{var ke=ge||$u.LOGIN;C.identities[ke]=z.login_id;for(L in C.identities)C.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==ke&&delete C.identities[L];C.history_login_id={name:ke,value:z.login_id}}else{if(C.identities.hasOwnProperty("$identity_login_id")||C.identities.hasOwnProperty(ge))for(L in C.identities)C.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!=="$identity_anonymous_id"&&delete C.identities[L];C.history_login_id={name:"",value:""}}return C}function d(C){ce.set("distinct_id",C),ce.set("identities",{$identity_cookie_id:C}),ce.set("history_login_id",{name:"",value:""})}this.initSessionState();var p,_,b=Sa();pn.isSupport()&&(p=pn.get(this.getCookieName()),p=O.kit.userDecryptIfNeeded(p),_=s(p)),pn.isSupport()&&p!==null&&at(p)&&t(_)&&(!t(_)||_.distinct_id)?(ce._state=X(u(_)),ce.save()):(O.is_first_visitor=!0,d(b)),Hu.setDeviceId(b,this),Hu.storeInitCheck()},saveObjectVal:function(u,d){T(d)||(d=JSON.stringify(d)),O.para.encrypt_cookie==1&&(d=O.kit.userEncrypt(d)),mt.set(u,d)},readObjectVal:function(u){var d=mt.get(u);return d?(d=O.kit.userDecryptIfNeeded(d),s(d)):null}},Xt={string:function(u){Je(u+" must be string")},emptyString:function(u){Je(u+"'s is empty")},regexTest:function(u){Je(u+" is invalid")},idLength:function(u){Je(u+" length is longer than "+Fe.max_id_length)},keyLength:function(u){Je(u+" length is longer than "+Fe.max_key_length)},stringLength:function(u){Je(u+" length is longer than "+Fe.max_string_length)},voidZero:function(u){Je(u+"'s is undefined")},reservedLoginId:function(u){Je(u+" is invalid")},reservedBind:function(u){Je(u+" is invalid")},reservedUnbind:function(u){Je(u+" is invalid")}},v_={regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_tag.*|^user_group.*)[a-zA-Z_$][a-zA-Z\d_$]*)$/i,loginIDReservedNames:["$identity_anonymous_id","$identity_cookie_id"],bindReservedNames:["$identity_login_id","$identity_anonymous_id","$identity_cookie_id"],unbindReservedNames:["$identity_anonymous_id",$u.LOGIN],string:function(u){return!!T(u)},emptyString:function(u){return!(!T(u)||w(u).length===0)},regexTest:function(u){return!(!T(u)||!this.regName.test(u))},idLength:function(u){return!(!T(u)||u.length>Fe.max_id_length)},keyLength:function(u){return!(!T(u)||u.length>Fe.max_key_length)},stringLength:function(u){return!(!T(u)||u.length>Fe.max_string_length)},voidZero:function(u){return u!==void 0},reservedLoginId:function(u){return!(de(this.loginIDReservedNames,u)>-1)},reservedUnbind:function(u){return!(de(this.unbindReservedNames,u)>-1)},reservedBind:function(u){var d=ce._state.history_login_id;return(!d||!d.name||d.name!==u)&&!(de(this.bindReservedNames,u)>-1)}},KC={distinct_id:{rules:["string","emptyString","idLength"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Id"),n(Xt[p])&&Xt[p](d),p==="idLength")||u}},event:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="eventName"),n(Xt[p])&&Xt[p](d)),!0}},propertyKey:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="Property key"),n(Xt[p])&&Xt[p](d)),!0}},propertyValue:{rules:["voidZero"],onComplete:function(u,d,p){return u||(d="Property Value",n(Xt[p])&&Xt[p](d)),!0}},properties:function(u){return t(u)?H(u,function(d,p){Tt({propertyKey:p});var _=function(b,C,L){return b||(C=p+"'s Value",n(Xt[L])&&Xt[L](C)),!0};Tt({propertyValue:d},_)}):v_.voidZero(u)&&Je("properties\u53EF\u4EE5\u6CA1\u6709\uFF0C\u4F46\u6709\u7684\u8BDD\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},propertiesMust:function(u){return u!==void 0&&t(u)&&!Le(u)?this.properties.call(this,u):Je("properties\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},item_type:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="item_type"),n(Xt[p])&&Xt[p](d)),!0}},item_id:{rules:["string","emptyString","stringLength"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="item_id"),n(Xt[p])&&Xt[p](d)),!0}},loginIdKey:{rules:["string","emptyString","keyLength","regexTest","reservedLoginId"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="login_id_key"),n(Xt[p])&&Xt[p](d),p==="keyLength")||u}},bindKey:{rules:["string","emptyString","keyLength","regexTest","reservedBind"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Key"),n(Xt[p])&&Xt[p](d),p==="keyLength")||u}},unbindKey:{rules:["string","emptyString","keyLength","regexTest","reservedUnbind"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Key"),n(Xt[p])&&Xt[p](d),p==="keyLength")||u}},bindValue:{rules:["string","emptyString","idLength"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Value"),n(Xt[p])&&Xt[p](d),p==="idLength")||u}},check:function(u,d,p){var _=this[u];if(n(_))return _.call(this,d);if(!_)return!1;for(var b=0;b<_.rules.length;b++){var C=_.rules[b],L=v_[C](d),z=n(p)?p(L,d,C):_.onComplete(L,d,C);if(!L)return z}return!0}},kt={};kt.initUrl=function(){var u,d={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!Ue(O.para.server_url))return ct("----vcollect---server_url\u5FC5\u987B\u4E3A\u6709\u6548 URL \u5B57\u7B26\u4E32"),!1;try{u=P(O.para.server_url),d.server_url.project=u.searchParams.get("project")||"default",d.server_url.host=u.host}catch(_){return ct("----vcollect---server_url\u89E3\u6790\u5F02\u5E38",_),!1}var p;try{p=P(location.href),d.page_url.host=p.hostname,d.page_url.pathname=p.pathname}catch(_){return ct("----vcollect---\u9875\u9762\u5730\u5740\u89E3\u6790\u5F02\u5E38",_),!1}return d},kt.isDiv=function(u){if(u.element_path){var d=u.element_path.split(">"),p=w(d.pop());if(p.slice(0,3)!=="div")return!1}return!0},kt.configIsMatchNew=function(u,d){if(T(u.$element_selector)&&T(d.element_selector)){if(d.element_field==="element_selector"&&d.function==="equal")return u.$element_selector===d.element_selector;if(d.element_field==="element_selector"&&d.function==="contain")return u.$element_selector.indexOf(d.element_selector)>-1}if(T(u.$element_path)&&T(d.element_path)){if(d.element_field==="element_path"&&d.function==="equal")return u.$element_path===d.element_path;if(d.element_field==="element_path"&&d.function==="contain")return u.$element_path.indexOf(d.element_path)>-1}return!1},kt.configIsMatch=function(u,d){return(!d.limit_element_content||d.element_content===u.$element_content)&&(!d.limit_element_position||d.element_position===String(u.$element_position))&&(d.element_field&&d.function?kt.configIsMatchNew(u,d):kt.configIsMatchOldVersion(u,d))},kt.configIsMatchOldVersion=function(u,d){if(!d.element_path)return!1;if(u.$element_position!==void 0){if(d.element_path!==u.$element_path)return!1}else if(kt.isDiv({element_path:d.element_path})){if(u.$element_path.indexOf(d.element_path)<0)return!1}else if(d.element_path!==u.$element_path)return!1;return!0},kt.filterConfig=function(u,d,p){var _=[];if(!p){var b=kt.initUrl();if(!b)return[];p=b.page_url}return u.event==="$WebClick"&&H(d,function(C){t(C)&&(C.event_type==="webclick"||C.event_type==="appclick")&&t(C.event)&&C.event.url_host===p.host&&C.event.url_path===p.pathname&&kt.configIsMatch(u.properties,C.event)&&_.push(C)}),_},kt.getPropElInLi=function(u,d){if(!(u&&R(u)&&T(d))||u.tagName.toLowerCase()!=="li")return null;var p,_=O.heatmap.getDomSelector(u);if(_){p=_+d;var b=$t(p);return b||null}return Je("----custom---\u83B7\u53D6\u540C\u7EA7\u5C5E\u6027\u5143\u7D20\u5931\u8D25\uFF0Cselector\u4FE1\u606F\u5F02\u5E38",_,d),null},kt.getProp=function(u,d){if(!t(u))return!1;if(!(T(u.name)&&u.name.length>0))return Je("----vcustom----\u5C5E\u6027\u540D\u4E0D\u5408\u6CD5,\u5C5E\u6027\u629B\u5F03",u.name),!1;var p,_,b={};if(u.method==="content"){var C;if(T(u.element_selector)&&u.element_selector.length>0)C=$t(u.element_selector);else{if(!d||!T(u.list_selector))return Je("----vcustom----\u5C5E\u6027\u914D\u7F6E\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var L=$t(d.properties.$element_selector);if(!L)return Je("----vcustom----\u70B9\u51FB\u5143\u7D20\u83B7\u53D6\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var z=O.heatmap.getClosestLi(L);C=kt.getPropElInLi(z,u.list_selector)}if(!C||!R(C))return Je("----vcustom----\u5C5E\u6027\u5143\u7D20\u83B7\u53D6\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;if(C.tagName.toLowerCase()==="input")p=C.value||"";else if(C.tagName.toLowerCase()==="select"){var ae=C.selectedIndex;ut(ae)&&R(C[ae])&&(p=ns(C[ae],"select"))}else p=ns(C,C.tagName.toLowerCase());if(u.regular){try{_=new RegExp(u.regular).exec(p)}catch{return Je("----vcustom----\u6B63\u5219\u5904\u7406\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1}if(_===null)return Je("----vcustom----\u5C5E\u6027\u89C4\u5219\u5904\u7406\uFF0C\u672A\u5339\u914D\u5230\u7ED3\u679C,\u5C5E\u6027\u629B\u5F03",u.name),!1;if(!U(_)||!T(_[0]))return Je("----vcustom----\u6B63\u5219\u5904\u7406\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,_),!1;p=_[0]}if(u.type==="STRING")b[u.name]=p;else if(u.type==="NUMBER"){if(p.length<1)return Je("----vcustom----\u672A\u83B7\u53D6\u5230\u6570\u5B57\u5185\u5BB9\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,p),!1;if(isNaN(Number(p)))return Je("----vcustom----\u6570\u5B57\u7C7B\u578B\u5C5E\u6027\u8F6C\u6362\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,p),!1;b[u.name]=Number(p)}return b}return ct("----vcustom----\u5C5E\u6027\u4E0D\u652F\u6301\u6B64\u83B7\u53D6\u65B9\u5F0F",u.name,u.method),!1},kt.getAssignConfigs=function(u,d){var p=kt.initUrl();if(!p||!p.page_url)return[];if(!t(d))return[];var _=[];return d.events=d.events||d.eventList,U(d.events)&&d.events.length>0?(H(d.events,function(b){t(b)&&t(b.event)&&b.event.url_host===p.page_url.host&&b.event.url_path===p.page_url.pathname&&u(b)&&_.push(b)}),_):[]};var XC={events:[],getAssignConfigs:kt.getAssignConfigs,filterConfig:kt.filterConfig,getProp:kt.getProp,initUrl:kt.initUrl,updateEvents:function(u){U(u)&&(this.events=u)},init:function(){this.initAppGetPropsBridge()},geth5Props:function(u){var d={},p=[],_=this;if(!this.events.length)return{};if(u.event==="$WebClick"){var b=this.filterConfig(u,this.events);if(!b.length)return{};H(b,function(C){t(C)&&(U(C.properties)&&C.properties.length>0&&H(C.properties,function(L){if(t(L))if(L.h5===!1)U(d.sensorsdata_app_visual_properties)||(d.sensorsdata_app_visual_properties=[]),d.sensorsdata_app_visual_properties.push(L);else{var z=_.getProp(L,u);t(z)&&(d=X(d,z))}}),T(C.event_name)&&p.push(C.event_name))}),O.bridge.hasVisualModeBridge()&&(d.sensorsdata_web_visual_eventName=p)}return d.sensorsdata_app_visual_properties&&(d.sensorsdata_app_visual_properties=le(JSON.stringify(d.sensorsdata_app_visual_properties))),d},initAppGetPropsBridge:function(){var u=this,d=new O.SDKJSBridge("getJSVisualProperties");return d.onAppNotify(function(p){var _={};try{p=JSON.parse(Z(p))}catch{ct("getJSVisualProperties data parse error!")}if(t(p)){var b=p.sensorsdata_js_visual_properties,C=u.initUrl();C&&(C=C.page_url,U(b)&&b.length>0&&H(b,function(z){if(t(z)&&z.url_host===C.host&&z.url_path===C.pathname&&z.h5){var ae=u.getProp(z);t(ae)&&(_=X(_,ae))}}))}var L=O.bridge.bridge_info.platform;return L==="android"&&d.notifyApp({data:_},p.message_id),_}),d}},Hp={events:[],customProp:XC,getAssignConfigs:kt.getAssignConfigs,initUrl:kt.initUrl,init:function(){if(this.initUrl()){var u=this.getConfigFromApp();u&&this.updateConfigs(u),this.customProp.init(),this.initAppUpdateConfigBridge()}},initAppUpdateConfigBridge:function(){var u=this;return new O.SDKJSBridge("updateH5VisualConfig").onAppNotify(function(d){if(d){try{d=JSON.parse(Z(d))}catch{return void ct("updateH5VisualConfig result parse error\uFF01")}u.updateConfigs(d)}})},getConfigFromApp:function(){var u=new O.SDKJSBridge("sensorsdata_get_app_visual_config").notifyApp();if(u)try{u=JSON.parse(Z(u))}catch{u=null,ct("getAppVisualConfig result parse error\uFF01")}return u},updateConfigs:function(u){this.events=this.filterConfigs(u),this.customProp.updateEvents(this.events)},filterConfigs:function(u){return this.getAssignConfigs(function(d){return!(!t(d)||d.h5===!1)},u)}},sd={events:[],init:function(u){this.filterWebClickEvents(u)},filterWebClickEvents:function(u){this.events=Ea.getAssignConfigs(function(d){return!(!t(d)||d.event.unlimited_div!==!0||d.event_type!=="webclick")},u)},isTargetEle:function(u){var d=O.heatmap.getEleDetail(u);if(!t(d)||!T(d.$element_path))return!1;for(var p=0;p<this.events.length;p++)if(t(this.events[p])&&t(this.events[p].event)&&Ea.configIsMatch(d,this.events[p].event))return!0;return!1}},__={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config},updateEvents:function(u){this.events=Ea.getAssignConfigs(function(d){return!!(t(d)&&U(d.properties)&&d.properties.length>0)},u),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(u){var d={};return this.collectAble()?(u.event==="$WebClick"&&(d=this.clickCustomPropMaker(u,this.events)),d):{}},clickCustomPropMaker:function(u,d,p){var _=this;p=p||this.filterConfig(u,d,Ea.url_info.page_url);var b={};return p.length?(H(p,function(C){U(C.properties)&&C.properties.length>0&&H(C.properties,function(L){var z=_.getProp(L,u);t(z)&&X(b,z)})}),b):{}},getProp:kt.getProp,getPropElInLi:kt.getPropElInLi,filterConfig:kt.filterConfig},Ea={unlimitedDiv:sd,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:__,initUrl:function(){var u=kt.initUrl();if(u){var d;try{d=new D(O.para.server_url),d._values.Path="/config/visualized/Web.conf",u.api_url=d.getUrl()}catch(p){return ct("----vtrackcollect---API\u5730\u5740\u89E3\u6790\u5F02\u5E38",p),!1}this.url_info=u}return u},init:function(){if(!t(O.para.heatmap)||!O.para.heatmap.get_vtrack_config)return!1;if(mt.isSupport()||(this.storageEnable=!1),!this.initUrl())return ct("----vtrackcustom----\u521D\u59CB\u5316\u5931\u8D25\uFF0Curl\u4FE1\u606F\u89E3\u6790\u5931\u8D25"),!1;if(this.storageEnable){var u=ce.readObjectVal(this.storage_name);if(t(u)&&t(u.data))if(this.serverUrlIsSame(u.serverUrl)){this.config=u.data,this.update_time=u.updateTime,this.updateConfig(u.data);var d=new Date().getTime(),p=d-this.update_time;if(ut(p)&&p>0&&p<this.para.session_time){var _=this.para.update_interval-p;this.setNextFetch(_)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(u){return!!t(u)&&u.host===this.url_info.server_url.host&&u.project===this.url_info.server_url.project},getConfigFromServer:function(){var u=this,d=function(_,b){u.update_time=new Date().getTime();var C={};_===200?b&&t(b)&&b.os==="Web"&&(C=b,u.updateConfig(C)):_===205?u.updateConfig(C):_===304?C=u.config:(ct("----vtrackcustom----\u6570\u636E\u5F02\u5E38",_),u.updateConfig(C)),u.updateStorage(C),u.setNextFetch()},p=function(_){u.update_time=new Date().getTime(),ct("----vtrackcustom----\u914D\u7F6E\u62C9\u53D6\u5931\u8D25",_),u.setNextFetch()};this.sendRequest(d,p)},setNextFetch:function(u){var d=this;this.timer&&(clearTimeout(this.timer),this.timer=null),u=u||this.para.update_interval,this.timer=setTimeout(function(){d.getConfigFromServer()},u)},pageStateListenner:function(){var u=this;Mn({visible:function(){var d=new Date().getTime(),p=d-u.update_time;if(ut(p)&&p>0&&p<u.para.update_interval){var _=u.para.update_interval-p;u.setNextFetch(_)}else u.getConfigFromServer()},hidden:function(){u.timer&&(clearTimeout(u.timer),u.timer=null)}})},updateConfig:function(u){return!!t(u)&&(this.config=u,this.customProp.updateEvents(u),void this.unlimitedDiv.init(u))},updateStorage:function(u){if(!this.storageEnable||!t(u))return!1;var d;if(this.url_info.server_url)d=this.url_info.server_url;else{var p=Ea.initUrl();if(!p)return!1;d=p.server_url}var _={updateTime:new Date().getTime(),data:u,serverUrl:d};ce.saveObjectVal(this.storage_name,_)},sendRequest:function(u,d){var p=this,_={app_id:this.url_info.page_url.host};this.config.version&&(_.v=this.config.version),Ir({url:p.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:_,timeout:p.para.timeout,success:function(b,C){u(b,C)},error:function(b){d(b)}})},getAssignConfigs:kt.getAssignConfigs,configIsMatch:kt.configIsMatch},JC={basicProps:{priority:0,entry:Bn},formatData:{priority:0,entry:Ec},finalAdjustData:{priority:0,entry:Eu}},Vp={stage:null,init:function(u){this.stage=u},interceptor:JC},Rr={};Rr.check=Tt,Rr.sendItem=function(u){var d={lib:{$lib:"js",$lib_method:"code",$lib_version:String(O.lib_version)},time:1*new Date};X(d,u),no(d),O.kit.sendData(d)},Rr.send=function(u,d){var p=O.kit.buildData(u);O.kit.sendData(p,d)};var qp={stage:null,init:function(u){this.stage=u}},Wp={label:!1,li:!1,a:!0,button:!0},wn={otherTags:[],initUnlimitedTags:function(){H(wn.otherTags,function(u){u in Wp&&(Wp[u]=!0)})},isUnlimitedTag:function(u){if(!u||u.nodeType!==1)return!1;var d=u.nodeName.toLowerCase();return Wp[d]||fe(u,O.para.heatmap.track_attr)},getTargetElement:function(u,d){var p=this,_=u;if(typeof _!="object"||typeof _.tagName!="string")return null;var b=_.tagName.toLowerCase();if(b.toLowerCase()==="body"||b.toLowerCase()==="html"||!_||!_.parentNode||!_.parentNode.children)return null;var C=_.parentNode,L=p.otherTags;if(b==="a"||b==="button"||b==="input"||b==="textarea"||de(L,b)>-1)return _;if(b==="area"&&C.tagName.toLowerCase()==="map"&&j(C).prev().tagName&&j(C).prev().tagName.toLowerCase()==="img")return j(C).prev();if(b==="div"&&O.para.heatmap.collect_tags.div&&p.isDivLevelValid(_)){var z=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1;if(z>1||p.isCollectableDiv(_))return _}if(p.isStyleTag(b)&&O.para.heatmap.collect_tags.div){var ae=p.getCollectableParent(_);if(ae&&p.isDivLevelValid(ae))return ae}var ge=p.hasElement({event:d&&d.originalEvent||d,element:u},function(ke){return p.isUnlimitedTag(ke)});return ge||null},getDivLevels:function(u,d){var p=wn.getElementPath(u,!0,d),_=p.split(" > "),b=0;return H(_,function(C){C==="div"&&b++}),b},isDivLevelValid:function(u){for(var d=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1,p=u.getElementsByTagName("div"),_=p.length-1;_>=0;_--)if(wn.getDivLevels(p[_],u)>d)return!1;return!0},getElementPath:function(u,d,p){for(var _=[];u.parentNode&&R(u);){if(!T(u.tagName))return"unknown";if(u.id&&!d&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.id)){_.unshift(u.tagName.toLowerCase()+"#"+u.id);break}if(p&&u===p){_.unshift(u.tagName.toLowerCase());break}if(u===document.body){_.unshift("body");break}_.unshift(u.tagName.toLowerCase()),u=u.parentNode}return _.join(" > ")},getClosestLi:function(u){var d=function(p,_){for(;p&&p!==document&&p.nodeType===1;p=p.parentNode)if(p.tagName&&T(p.tagName)&&p.tagName.toLowerCase()===_)return p;return null};return d(u,"li")},getElementPosition:function(u,d,p){function _(rt){var st=rt.parentNode;if(!st)return"";var Vt=j(rt).getSameTypeSiblings(),Er=Vt.length;if(Er===1)return 0;for(var ar=0,Mi=rt;j(Mi).previousElementSibling().ele;Mi=j(Mi).previousElementSibling().ele,ar++);return ar}var b=O.heatmap.getClosestLi(u);if(!b||!R(u)||!T(u.tagName))return null;var C=u.tagName.toLowerCase(),L=b.getElementsByTagName(C),z=L.length,ae=[];if(z>1){for(var ge=0;ge<z;ge++){var ke=O.heatmap.getElementPath(L[ge],p);ke===d&&ae.push(L[ge])}if(ae.length>1)return de(ae,u)}return _(b)},setNotice:function(u){O.is_heatmap_render_mode=!0,O.para.heatmap||(O.errorMsg="\u60A8SDK\u6CA1\u6709\u914D\u7F6E\u5F00\u542F\u70B9\u51FB\u56FE\uFF0C\u53EF\u80FD\u6CA1\u6709\u6570\u636E\uFF01"),u&&u.slice(0,5)==="http:"&&location.protocol==="https:"&&(O.errorMsg="\u60A8\u7684\u5F53\u524D\u9875\u9762\u662Fhttps\u7684\u5730\u5740\uFF0C\u795E\u7B56\u5206\u6790\u73AF\u5883\u4E5F\u5FC5\u987B\u662Fhttps\uFF01"),O.para.heatmap_url||(O.para.heatmap_url=Cu()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/heatmap.min.js")},getDomIndex:function(u){if(!u.parentNode)return-1;for(var d=0,p=u.tagName,_=u.parentNode.children,b=0;b<_.length;b++)if(_[b].tagName===p){if(u===_[b])return d;d++}return-1},selector:function(u,d){if(!u||!R(u)||!T(u.tagName))return"";var p=u.parentNode&&u.parentNode.nodeType==9?-1:this.getDomIndex(u);return u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&(!O.para.heatmap||O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id")&&!d?"#"+u.getAttribute("id"):u.tagName.toLowerCase()+(~p?":nth-of-type("+(p+1)+")":"")},getDomSelector:function(u,d,p){if(!(u&&u.parentNode&&u.parentNode.children&&T(u.tagName)))return"unknown";d=d&&d.join?d:[];var _=u.nodeName.toLowerCase();return u&&_!=="body"&&u.nodeType==1?(d.unshift(this.selector(u,p)),u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id"&&!p?d.join(" > "):this.getDomSelector(u.parentNode,d,p)):(d.unshift("body"),d.join(" > "))},na:function(){var u=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(u)?0:u,10)},i:function(){var u=0;try{u=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,u=isNaN(u)?0:u}catch{u=0}return parseInt(u,10)},getBrowserWidth:function(){var u=window.innerWidth||document.body.clientWidth;return isNaN(u)?0:parseInt(u,10)},getBrowserHeight:function(){var u=window.innerHeight||document.body.clientHeight;return isNaN(u)?0:parseInt(u,10)},getScrollWidth:function(){var u=parseInt(document.body.scrollWidth,10);return isNaN(u)?0:u},getEleDetail:function(u){var d=this.getDomSelector(u),p=yu({target:u});p.$element_selector=d||"",p.$element_path=O.heatmap.getElementPath(u,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");var _=O.heatmap.getElementPosition(u,p.$element_path,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");return ut(_)&&(p.$element_position=_),p},getPointerEventProp:function(u,d){function p(){var L=document.body.scrollLeft||document.documentElement.scrollLeft||0,z=document.body.scrollTop||document.documentElement.scrollTop||0;return{scrollLeft:L,scrollTop:z}}function _(L){if(document.documentElement.getBoundingClientRect){var z=L.getBoundingClientRect();return{targetEleX:z.left+p().scrollLeft||0,targetEleY:z.top+p().scrollTop||0}}}function b(L){return Number(Number(L).toFixed(3))}function C(L){var z=L.pageX||L.clientX+p().scrollLeft||L.offsetX+_(d).targetEleX||0,ae=L.pageY||L.clientY+p().scrollTop||L.offsetY+_(d).targetEleY||0;return{$page_x:b(z),$page_y:b(ae)}}return u?C(u):{}},start:function(u,d,p,_,b){if(t(O.para.heatmap)&&n(O.para.heatmap.collect_element)&&!O.para.heatmap.collect_element(d))return!1;var C=wn.getBasicEleInfo(u,d,p,_,b);wc(C)},getBasicEleInfo:function(u,d,p,_,b){var C=t(_)?_:{},L=n(b)?b:n(_)?_:void 0,z=this.getEleDetail(d);if(O.para.heatmap&&O.para.heatmap.custom_property){var ae=O.para.heatmap.custom_property(d);t(ae)&&(z=X(z,ae))}return z=X(z,this.getPointerEventProp(u,d),C),{event:u,target:d,props:z,tagName:p,callback:L}},hasElement:function(u,d){var p;if(u.event){var _=u.event;p=_.path||_._getPath&&_._getPath()}else u.element&&(p=j(u.element).getParents());if(p&&U(p)&&p.length>0){for(var b=0;b<p.length;b++)if(typeof p[b]=="object"&&p[b].nodeType===1&&d(p[b]))return p[b]}},isStyleTag:function(u,d){var p=["a","div","input","button","textarea"],_=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];return!(de(p,u)>-1)&&(!d||O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div?!!(t(O.para.heatmap)&&t(O.para.heatmap.collect_tags)&&t(O.para.heatmap.collect_tags.div)&&U(O.para.heatmap.collect_tags.div.ignore_tags)&&de(O.para.heatmap.collect_tags.div.ignore_tags,u)>-1):de(_,u)>-1)},isCollectableDiv:function(u,d){try{if(u.children.length===0)return!0;for(var p=0;p<u.children.length;p++)if(u.children[p].nodeType===1){var _=T(u.children[p].tagName)?u.children[p].tagName.toLowerCase():"unknown",b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(!(_==="div"&&b>1||this.isStyleTag(_,d))||!this.isCollectableDiv(u.children[p],d))return!1}return!0}catch(C){ct("isCollectableDiv:"+C)}return!1},getCollectableParent:function(u,d){try{var p=u.parentNode,_=p?p.tagName.toLowerCase():"";if(_==="body")return!1;var b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(_&&_==="div"&&(b>1||this.isCollectableDiv(p,d)))return p;if(p&&this.isStyleTag(_,d))return this.getCollectableParent(p,d)}catch(C){ct("getCollectableParent:"+C)}return!1},listenUrlChange:function(u){u(),O.ee.spa.on("switch",function(){u()})},initScrollmap:function(){if(!t(O.para.heatmap)||O.para.heatmap.scroll_notice_map!=="default")return!1;var u=!0;O.para.scrollmap&&n(O.para.scrollmap.collect_url)&&this.listenUrlChange(function(){u=!!O.para.scrollmap.collect_url()});var d=function(_){var b={};return b.timeout=_.timeout||1e3,b.func=_.func,b.hasInit=!1,b.inter=null,b.main=function(C,L){this.func(C,L),this.inter=null},b.go=function(C){var L={};this.inter||(L.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L.$viewport_position=Math.round(L.$viewport_position)||0,C?b.main(L,!0):this.inter=setTimeout(function(){b.main(L)},this.timeout))},b},p=d({timeout:1e3,func:function(_,b){var C=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L=new Date,z=L-this.current_time;(z>O.para.heatmap.scroll_delay_time&&C-_.$viewport_position!==0||b)&&(_.$url=W(),_.$title=document.title,_.$url_path=re(),_.event_duration=Math.min(O.para.heatmap.scroll_event_duration,parseInt(z)/1e3),_.event_duration=_.event_duration<0?0:_.event_duration,Gh(_)),this.current_time=L}});p.current_time=new Date,Pi(window,"scroll",function(){return!!u&&void p.go()}),Pi(window,"beforeunload",function(){return!!u&&void p.go("notime")})},initHeatmap:function(){var u=this,d=!0;return!(!t(O.para.heatmap)||O.para.heatmap.clickmap!=="default")&&(n(O.para.heatmap.collect_url)&&this.listenUrlChange(function(){d=!!O.para.heatmap.collect_url()}),O.para.heatmap.collect_elements==="all"?O.para.heatmap.collect_elements="all":O.para.heatmap.collect_elements="interact",void(O.para.heatmap.collect_elements==="all"?Pi(document,"click",function(p){if(!d)return!1;var _=p||window.event;if(!_)return!1;var b=_.target||_.srcElement;if(typeof b!="object"||typeof b.tagName!="string")return!1;var C=b.tagName.toLowerCase();if(C==="body"||C==="html"||!b||!b.parentNode||!b.parentNode.children)return!1;var L=T(b.parentNode.tagName)?b.parentNode.tagName.toLowerCase():"unknown";L==="a"||L==="button"?u.start(_,b.parentNode,L):u.start(_,b,C)}):Pi(document,"click",function(p){if(!d)return!1;var _=p||window.event;if(!_)return!1;var b=_.target||_.srcElement,C=O.heatmap.getTargetElement(b,p);return!(!R(C)&&!T(b.tagName))&&void(R(C)&&T(C.tagName)?u.start(_,C,C.tagName.toLowerCase()):R(b)&&b.tagName.toLowerCase()==="div"&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config&&sd.events.length>0&&sd.isTargetEle(b)&&u.start(_,b,b.tagName.toLowerCase(),{$lib_method:"vtrack"}))})))}},od={autoTrackIsUsed:!1,isReady:function(u){return n(u)?void u():void O.log("error: isReady callback must be function")},getUtm:function(){return wt.campaignParams()},getStayTime:function(){return(new Date-O._t)/1e3},setProfileLocal:function(u){if(!mt.isSupport())return O.setProfile(u),!1;if(!t(u)||Le(u))return!1;var d=ce.readObjectVal("sensorsdata_2015_jssdk_profile"),p=!1;if(t(d)&&!Le(d)){for(var _ in u)!(_ in d&&d[_]!==u[_])&&_ in d||(d[_]=u[_],p=!0);p&&(ce.saveObjectVal("sensorsdata_2015_jssdk_profile",d),O.setProfile(u))}else ce.saveObjectVal("sensorsdata_2015_jssdk_profile",u),O.setProfile(u)},setInitReferrer:function(){var u=gt();O.setOnceProfile({_init_referrer:u,_init_referrer_host:wt.pageProp.referrer_host})},setSessionReferrer:function(){var u=gt();ce.setSessionPropsOnce({_session_referrer:u,_session_referrer_host:wt.pageProp.referrer_host})},setDefaultAttr:function(){wt.register({_current_url:location.href,_referrer:gt(),_referring_host:wt.pageProp.referrer_host})},trackHeatMap:function(u,d,p){if(typeof u=="object"&&u.tagName&&R(u.parentNode)){var _=u.tagName.toLowerCase(),b=u.parentNode.tagName.toLowerCase(),C=O.para.heatmap&&O.para.heatmap.track_attr?O.para.heatmap.track_attr:["data-sensors-click"];_==="button"||_==="a"||b==="a"||b==="button"||_==="input"||_==="textarea"||fe(u,C)||wn.start(null,u,_,d,p)}},trackAllHeatMap:function(u,d,p){if(typeof u=="object"&&u.tagName){var _=u.tagName.toLowerCase();wn.start(null,u,_,d,p)}},autoTrackSinglePage:function(u,d){function p(C,L){O.track("$pageview",X({$referrer:_,$url:W(),$url_path:re(),$title:document.title},C,_a()),L),_=W()}var _;_=this.autoTrackIsUsed?wt.pageProp.url:wt.pageProp.referrer,u=t(u)?u:{};var b=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile,p(u,d),this.autoTrackSinglePage=p,ya(O.setOnceProfile,!1,b)},autoTrackWithoutProfile:function(u,d){u=t(u)?u:{},this.autoTrack(X(u,{not_set_profile:!0}),d)},autoTrack:function(u,d){u=t(u)?u:{};var p=_a(),_=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile;var b=location.href;O.para.is_single_page&&te(function(){var C=gt(b,!0);O.track("$pageview",X({$referrer:C,$url:W(),$url_path:re(),$title:document.title},p,u),d),b=W()}),O.track("$pageview",X({$referrer:gt(null,!0),$url:W(),$url_path:re(),$title:document.title},p,u),d),ya(O.setOnceProfile,!0,_),this.autoTrackIsUsed=!0},getAnonymousID:function(){return Le(ce._state)?"SDK is not initialized.":ce.getAnonymousId()},setPlugin:function(u){return!!t(u)&&void H(u,function(d,p){n(d)&&(t(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[p]||t(O.modules)&&O.modules[p]?d(window.SensorsDataWebJSSDKPlugin[p]):Je(p+"is not found,please check sensorsdata documents."))})},useModulePlugin:function(){O.use.apply(O,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}},YC={state:0,historyState:[],stateType:{1:"1-init\u672A\u5F00\u59CB",2:"2-init\u5F00\u59CB",3:"3-store\u5B8C\u6210"},getState:function(){return this.historyState.join(`
`)},setState:function(u){String(u)in this.stateType&&(this.state=u),this.historyState.push(this.stateType[u])}},QC=1,ZC={__proto__:null,setInitVar:Ac,initPara:Kh,quick:Xh,use:ku,track:Jh,bind:Yh,unbind:Qh,trackLink:Zh,trackLinks:ep,setItem:tp,deleteItem:io,setProfile:ao,setOnceProfile:rp,appendProfile:np,incrementProfile:Du,deleteProfile:ip,unsetProfile:Pu,identify:ap,resetAnonymousIdentity:sp,trackSignup:ss,registerPage:ba,clearAllRegister:so,clearPageRegister:Ii,register:kc,registerOnce:Dc,registerSession:Pc,registerSessionOnce:Ou,login:Ic,loginWithKey:op,logout:up,getPresetProperties:oo,readyState:YC,debug:xa,on:as,log:Sn};pr.setup(Sn);var y_=X({},GC,zC),eA={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:"",support_two_way_call:!1},is_verify_success:!1,initPara:function(){var u={is_send:O.para.use_app_track_is_send!==!1&&O.para.use_app_track!=="only",white_list:[],is_mui:O.para.use_app_track==="mui"};typeof O.para.app_js_bridge=="object"?O.para.app_js_bridge=X({},u,O.para.app_js_bridge):O.para.use_app_track!==!0&&O.para.app_js_bridge!==!0&&O.para.use_app_track!=="only"&&O.para.use_app_track!=="mui"||(O.para.app_js_bridge=X({},u)),O.para.app_js_bridge.is_send===!1&&Je("\u8BBE\u7F6E\u4E86 is_send:false,\u5982\u679C\u6253\u901A\u5931\u8D25\uFF0C\u6570\u636E\u5C06\u88AB\u4E22\u5F03!")},app_js_bridge_v1:function(){function u(C){_=C,at(_)&&(_=JSON.parse(_)),b&&(b(_),b=null,_=null)}function d(){typeof window.SensorsData_APP_JS_Bridge=="object"&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(_=window.SensorsData_APP_JS_Bridge.sensorsdata_call_app(),at(_)&&(_=JSON.parse(_)))}function p(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var C=document.createElement("iframe");C.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(C),C.parentNode.removeChild(C),C=null}}var _=null,b=null;window.sensorsdata_app_js_bridge_call_js=function(C){u(C)},O.getAppStatus=function(C){return p(),d(),C?void(_===null?b=C:(C(_),_=null)):_}},hasVisualModeBridge:function(){var u=window.SensorsData_App_Visual_Bridge,d="sensorsdata_visualized_mode";return t(u)&&u[d]&&(u[d]===!0||u[d]())},validateAppUrl:cp};fn.prototype.call=function(u,d){var p=this,_=new Date().getTime().toString(16)+String(a()).replace(".","").slice(1,8);this.resultCbs[_]=p.resultCbs[_]||{result:null,callbacks:[]},this.timeoutCbs[_]=p.timeoutCbs[_]||{isTimeout:!1,callbacks:[]},u=u.data?u:{data:u},u.data.message_id=_;var b=X({callType:this.type},u);return d&&(this.timerId=setTimeout(function(){p.timeoutCbs[_].isTimeout=!0;for(var C in p.timeoutCbs[_].callbacks)p.timeoutCbs[_].callbacks[C].call(null),p.timeoutCbs[_].callbacks.splice(C,1)},d)),Oc(b),{onResult:function(C){return p.resultCbs[_].result?(C(p.resultCbs[_].result),this):(!p.timeoutCbs[_].isTimeout&&p.resultCbs[_].callbacks.push(C),this)},onTimeout:function(C){return p.timeoutCbs[_].isTimeout?(C(),this):(!p.resultCbs[_].result&&p.timeoutCbs[_].callbacks.push(C),this)}}},fn.prototype.onAppNotify=function(u){this.appCallJsCallback=u},fn.prototype.notifyApp=function(u,d){var p=X({callType:this.type},u);return d&&(p.message_id=d),Oc(p)},At.prototype={double:function(){},getAppData:function(){},hasAppBridge:function(){return O.bridge.bridge_info.support_two_way_call},init:function(){},jsCallApp:function(){},requestToApp:function(u){this.bridge.call(u,u.timeout.time).onResult(function(d){n(u.callback)&&u.callback(d)}).onTimeout(function(){n(u.timeout.callback)&&u.timeout.callback()})}};var wa={isSeachHasKeyword:function(){return Me(location.href,"sa-request-id")!==""&&(typeof sessionStorage.getItem("sensors-visual-mode")=="string"&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var u=location.href,d=Me(u,"sa-request-id")||null,p=Me(u,"sa-request-type")||null,_=Me(u,"sa-request-url")||null;if(wn.setNotice(_),fo.isSupport())if(_!==null&&sessionStorage.setItem("sensors_heatmap_url",_),sessionStorage.setItem("sensors_heatmap_id",d),p!==null)p==="1"||p==="2"||p==="3"?sessionStorage.setItem("sensors_heatmap_type",p):p=null;else{var b=sessionStorage.getItem("sensors_heatmap_type");p=b!==null?b:null}this.isReady(d,p)},isReady:function(u,d,p){O.para.heatmap_url?Ci({success:function(){setTimeout(function(){typeof sa_jssdk_heatmap_render<"u"&&(sa_jssdk_heatmap_render(O,u,d,p),typeof console=="object"&&typeof console.log=="function"&&(O.heatmap_version&&O.heatmap_version===O.lib_version||Je("heatmap.js\u4E0Esensorsdata.js\u7248\u672C\u53F7\u4E0D\u4E00\u81F4\uFF0C\u53EF\u80FD\u5B58\u5728\u98CE\u9669!")))},0)},error:function(){},type:"js",url:O.para.heatmap_url}):ct("\u6CA1\u6709\u6307\u5B9Aheatmap_url\u7684\u8DEF\u5F84")},isStorageHasKeyword:function(){return fo.isSupport()&&typeof sessionStorage.getItem("sensors_heatmap_id")=="string"},storageHasKeywordHandle:function(){wn.setNotice(),wa.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)},isWindowNameHasKeyword:function(){try{var u=JSON.parse(window.name),d=T(u["sa-request-page-url"])?h(u["sa-request-page-url"]):null;return u["sa-request-id"]&&T(u["sa-request-id"])&&d===location.href}catch{return!1}},windowNameHasKeywordHandle:function(){function u(C){var L=d[C];return T(L)?h(L):null}var d=JSON.parse(window.name),p=u("sa-request-id"),_=u("sa-request-type"),b=u("sa-request-url");wn.setNotice(b),fo.isSupport()&&(b!==null&&sessionStorage.setItem("sensors_heatmap_url",b),sessionStorage.setItem("sensors_heatmap_id",p),_!==null?_==="1"||_==="2"||_==="3"?sessionStorage.setItem("sensors_heatmap_type",_):_=null:_=sessionStorage.getItem("sensors_heatmap_type")!==null?sessionStorage.getItem("sensors_heatmap_type"):null),wa.isReady(p,_)}},Un={isStorageHasKeyword:function(){return fo.isSupport()&&typeof sessionStorage.getItem("sensors-visual-mode")=="string"},isSearchHasKeyword:function(){return(Lc("sa-visual-mode")===!0||Lc("sa-visual-mode")==="true")&&(typeof sessionStorage.getItem("sensors_heatmap_id")=="string"&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){Ci({success:function(){},error:function(){},type:"js",url:O.para.vtrack_url?O.para.vtrack_url:Cu()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vtrack.min.js"})},messageListener:function(u){if(!u||!u.data||u.data.source!=="sa-fe")return!1;if(u.data.type==="v-track-mode"){if(u.data.data&&u.data.data.isVtrack)if(fo.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),u.data.data.userURL&&location.href.match(/sa-visual-mode=true/)){var d=u.data.data.userURL;T(d)&&(vu(d,"http://")||vu(d,"https://"))&&(window.location.href=encodeURI(d))}else Un.loadVtrack();window.removeEventListener("message",Un.messageListener,!1)}},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",Un.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",Un.messageListener,!1),Un.postMessage()},postMessage:function(){try{window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:nd}},"*")}catch{ct("\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u4E0D\u652F\u6301 postMessage API")}},notifyUser:function(){var u=function(d){return!(!d||!d.data||d.data.source!=="sa-fe")&&void(d.data.type==="v-track-mode"&&(d.data.data&&d.data.data.isVtrack&&alert("\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\uFF0C\u8BF7\u5347\u7EA7\u90E8\u7F72\u795E\u7B56\u6570\u636E\u6CBB\u7406"),window.removeEventListener("message",u,!1)))};window.addEventListener&&window.addEventListener("message",u,!1),Un.postMessage()}},tA=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","resetAnonymousIdentity","login","logout","trackLink","clearAllRegister","clearPageRegister","bind","unbind","loginWithKey"],rA={track:function(u,d,p){},quick:function(u,d,p,_){},register:function(u){},registerPage:function(u){},registerOnce:function(u){},clearAllRegister:function(u){},trackSignup:function(u,d,p,_){},setProfile:function(u,d){},setOnceProfile:function(u,d){},appendProfile:function(u,d){},incrementProfile:function(u,d){},deleteProfile:function(u){},unsetProfile:function(u,d){},identify:function(u,d){},resetAnonymousIdentity:function(u){},login:function(u,d){},logout:function(u){},trackLink:function(u,d,p){},deleteItem:function(u,d){},setItem:function(u,d,p){},getAppStatus:function(u){},clearPageRegister:function(u){}};hn.prototype.process=function(u,d){if(!(u&&u in this.processDef))return void ct("process ["+u+"] is not supported");var p=this.registeredInterceptors[u];if(p&&U(p)&&p.length>0)for(var _={current:0,total:p.length},b=new jc(d,_,O),C=0;C<p.length;C++)try{if(_.current=C+1,d=p[C].call(null,d,b)||d,b.cancellationToken.getCanceled())break;if(b.cancellationToken.getStopped())return}catch(L){ct("interceptor error:"+L)}return this.processDef[u]&&this.processDef[u]in this.processDef&&(d=this.process(this.processDef[u],d)),d},hn.prototype.registerStageImplementation=function(u){u&&u.init&&n(u.init)&&(u.init(this),u.interceptor&&this.registerInterceptor(u.interceptor))},hn.prototype.registerInterceptor=function(u){if(u)for(var d in u){var p=u[d];if(p&&t(p)&&n(p.entry)){ut(p.priority)||(p.priority=Number.MAX_VALUE),this.registeredInterceptors[d]||(this.registeredInterceptors[d]=[]);var _=this.registeredInterceptors[d];p.entry.priority=p.priority,_.push(p.entry),_.sort(function(b,C){return b.priority-C.priority})}}};var nA={basicProps:"extendProps",extendProps:"formatData",formatData:"finalAdjustData",finalAdjustData:null},b_=new hn(nA),iA={send:null},T_=new hn(iA),aA={getUtmData:null,callSchema:null},S_=new hn(aA),sA={webClickEvent:null,webStayEvent:null},x_=new hn(sA),E_={buildDataStage:function(u){u&&b_.registerInterceptor(u)},businessStage:function(u){u&&S_.registerInterceptor(u)},sendDataStage:function(u){u&&T_.registerInterceptor(u)},viewStage:function(u){u&&x_.registerInterceptor(u)}},Gp={stage:null,init:function(u){this.stage=u}},w_={stage:null,init:function(u){this.stage=u},interceptor:{send:{entry:function(u){return u}}}},qu={};qu.buildData=function(u){return Wh(u)},qu.sendData=function(u,d){var p=rs(u.properties),_={origin_data:u,server_url:O.para.server_url,data:u,config:p||{},callback:d};gp(_),O.log(u)},qu.encodeTrackData=function(u){return is(u)},qu.getUtmData=function(){return pp()};var oA={webClickEvent:{entry:function(u,d){var p=d.sensors;u.tagName==="a"&&p.para.heatmap&&p.para.heatmap.isTrackLink===!0?p.trackLink({event:u.event,target:u.target},"$WebClick",u.props):p.track("$WebClick",u.props,u.callback)}},webStayEvent:{entry:function(u,d){var p=d.sensors;p.track("$WebStay",u)}}},C_=window.sensors_data_pre_config,A_=!!y_.isObject(C_)&&C_.is_compliance_enabled;O.init=function(u){return er.sdk.emit("beforeInit"),!(O.readyState&&O.readyState.state&&O.readyState.state>=2)&&(A_&&(Ru(!0),Bc()),er.initSystemEvent(),O.setInitVar(),O.readyState.setState(2),O.initPara(u),er.sdk.emit("initPara"),er.sdk.emit("afterInitPara"),er.sdk.emit("initAPI"),er.sdk.emit("afterInitAPI"),O.detectMode(),lp(),er.sdk.emit("afterInit"),void er.sdk.emit("ready"))},A_?Ru(!1):(Ru(!0),Bc());var jn,ud,Wu,Nt,Gu,cs,en,ho,ds,zu,dr,fs,Cn,tn,rn,zp,Kp,Ku,uA="1.26.12",lA={init:function(u){var d=u._.isString,p=u._.rot13defs,_=u._.dfmapping,b="data:enc;",C="dfm-enc-";u.ee.sdk.on("afterInitPara",function(){u.kit.userEncrypt=function(L){return C+_(L)},u.kit.userDecrypt=function(L){return L.indexOf(b)===0?(L=L.substring(b.length),L=p(L)):L.indexOf(C)===0&&(L=L.substring(C.length),L=_(L)),L},u.kit.userDecryptIfNeeded=function(L){return!d(L)||L.indexOf(b)!==0&&L.indexOf(C)!==0||(L=u.kit.userDecrypt(L)),L}})},plugin_name:"UserEncryptDefault"},cA=uo(lA),dA="1.26.12",fA={sd:null,init:function(u){if(this.sd||(this.sd=u,!this.sd||!this.sd._))return!1;var d=this.sd._.cookie.get("sensors_amp_id"),p=this.sd.store._state.distinct_id;if(d&&d.length>0){var _=d.slice(0,4)==="amp-";if(d!==p){if(!_)return!1;this.sd.store._state.first_id?(this.sd.identify(d,!0),this.sd.saEvent.send({original_id:d,distinct_id:p,type:"track_signup",event:"$SignUp",properties:{}},null),this.setAmpId(p)):this.sd.identify(d,!0)}}else this.setAmpId(p);this.addListener()},addListener:function(){var u=this;this.sd.events.on("changeDistinctId",function(d){u.setAmpId(d)}),this.sd.events.isReady()},setAmpId:function(u){this.sd._.cookie.set("sensors_amp_id",u)}},hA=$c(fA,"Amp","sdkReady"),ii=window.SensorsData_App_Visual_Bridge,ld=ii&&ii.sensorsdata_visualized_mode,k_=ii&&ii.sensorsdata_visualized_alert_info,D_=ii&&ii.sensorsdata_hover_web_nodes,P_={isVerify:function(){return ld&&(ld===!0||ld.call(ii))},commands:{app_alert:Hc,visualized_track:Nu,page_info:Nu,sensorsdata_get_app_visual_config:Vc}},pA="1.26.12",I_={init:function(u){Nt=u,Gu=Nt&&Nt._,cs=Nt&&Nt.log||console&&console.log||function(){},Gc()},handleCommand:co},O_=Wc(I_,"AndroidBridge","sdkAfterInitPara"),ai=window.SensorsData_App_Visual_Bridge,cd=ai&&ai.sensorsdata_visualized_mode,L_=ai&&ai.sensorsdata_visualized_alert_info,R_=ai&&ai.sensorsdata_hover_web_nodes,Xp={isVerify:function(){return cd&&(cd===!0||cd.call(ai))},commands:{app_alert:Sp,visualized_track:zc,page_info:zc,sensorsdata_get_app_visual_config:xp}},gA="1.26.12",N_={init:function(u){dr=u,fs=dr&&dr._,Cn=dr&&dr.log||console&&console.log||function(){},Cp()},handleCommand:Ta},F_=Mu(N_,"AndroidObsoleteBridge","sdkAfterInitPara"),mA="1.26.12",gn={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(u,d){function p(){return tn=rn._,zp=rn.store,!!tn.localStorage.isSupport()&&(rn.para.max_string_length=1024,_.eventList.init(),_.addLatestChannelUrl(),void _.addIsChannelCallbackEvent())}if(rn||!u)return!1;d=d||{},Kp=d.cookie_name||"sensorsdata2015jssdkchannel",rn=u;var _=this;p()},addIsChannelCallbackEvent:function(){rn.registerPage({$is_channel_callback_event:function(u){if(tn.isObject(u)&&u.event&&u.event!=="$WebClick"&&u.event!=="$pageview"&&u.event!=="$WebStay"&&u.event!=="$SignUp")return!gn.eventList.hasEvent(u.event)&&(gn.eventList.add(u.event),!0)}})},addLatestChannelUrl:function(){var u=this.getUrlDomain(),d=this.cookie.getChannel();if(u==="url\u89E3\u6790\u5931\u8D25")this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url\u7684domain\u89E3\u6790\u5931\u8D25"});else if(tn.isReferralTraffic(document.referrer)){var p=tn.getQueryParam(location.href,"sat_cf");tn.isString(p)&&p.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),gn.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else d?rn.registerPage(d):rn.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"\u53D6\u503C\u5F02\u5E38"})},registerAndSave:function(u){rn.registerPage(u),this.cookie.saveChannel(u)},cookie:{getChannel:function(){var u=rn.kit.userDecryptIfNeeded(tn.cookie.get(Kp));return u=tn.safeJSONParse(u),!(!tn.isObject(u)||!u.prop)&&u.prop},saveChannel:function(u){var d={prop:u},p=JSON.stringify(d);rn.para.encrypt_cookie&&(p=rn.kit.userEncrypt(p)),tn.cookie.set(Kp,p)}},channelLinkHandler:function(){this.eventList.reset(),rn.track("$ChannelLinkReaching")},getUrlDomain:function(){var u=tn.info.pageProp.url_domain;return u===""&&(u="url\u89E3\u6790\u5931\u8D25"),u},eventList:{init:function(){var u=this.get(),d=new Date().getTime();if(u&&tn.isNumber(u.latest_event_initial_time)&&tn.isArray(u.eventList)){var p=d-u.latest_event_initial_time;p>0&&p<gn.max_save_time?(gn.event_list=u.eventList,gn.latest_event_initial_time=u.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var u={};try{u=zp.readObjectVal("sawebjssdkchannel")}catch(d){rn.log(d)}return u},add:function(u){gn.event_list.push(u),this.save()},save:function(){var u={latest_event_initial_time:gn.latest_event_initial_time,eventList:gn.event_list};zp.saveObjectVal("sawebjssdkchannel",u)},reset:function(){gn.event_list=[],gn.latest_event_initial_time=new Date().getTime(),this.save()},hasEvent:function(u){var d=!1;return tn.each(gn.event_list,function(p){p===u&&(d=!0)}),d}}},vA=Sr(gn,"SensorsChannel","sdkAfterInitAPI"),_A="1.26.12",M_=(/micromessenger\/([\d.]+)/i.test(navigator.userAgent||""),function(){var u={};return typeof document.hidden<"u"?(u.hidden="hidden",u.visibilityChange="visibilitychange"):typeof document.msHidden<"u"?(u.hidden="msHidden",u.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u});Ku=M_().hidden;var Jp,hs,Jt,Xu,Yp,fr,po,Qp,Zp={android:/Android/i,iOS:/iPhone|iPad|iPod/i},yA=function(){for(var u in Zp)if(navigator.userAgent.match(Zp[u]))return u;return""},B_=yA(),bA=function(){return Zp.hasOwnProperty(B_)},eg=function(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"},TA=function(u){var d=/\/sd\/(\w+)\/(\w+)$/;return u.match(d)},SA=function(u){var d=u._.URL(u.para.server_url);return{origin:d.origin,project:d.searchParams.get("project")||"default"}},xA=function(u,d,p){u.log("\u5C1D\u8BD5\u5524\u8D77 android app");var _=d;u.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+_),window.location=_,u.timer=setTimeout(function(){var b=Xc();return u.log("hide:"+Ku+":"+document[Ku]),b?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location=p))},u.timeout)},EA=function(u,d,p){u.log("\u5C1D\u8BD5\u5524\u8D77 iOS app:"+d),window.location.href=d,u.timer=setTimeout(function(){var _=Xc();return _?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location.href=p))},u.timeout),u.log("new timer:"+u.timer)},Ju={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(u){if(this.sd)return this.log("deeplink\u5DF2\u7ECF\u521D\u59CB\u5316"),!1;if(this.sd=u,this.log("deeplink init called"),this.sd===null)return this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165"),!1;var d={};if(arguments.length>0&&(arguments.length===1&&eg(arguments[0])?d=arguments[0]:arguments.length>=2&&eg(arguments[1])&&(d=arguments[1])),!bA())return this.log("\u4E0D\u652F\u6301\u5F53\u524D\u7CFB\u7EDF\uFF0C\u76EE\u524D\u53EA\u652F\u6301Android\u548CiOS"),!1;if(eg(d)&&this.sd._.isNumber(d.timeout)&&d.timeout>=2500&&(this.timeout=d.timeout),!this.sd.para.server_url)return this.log("\u795E\u7B56JS SDK\u914D\u7F6E\u9879server_url\u672A\u6B63\u786E\u914D\u7F6E"),!1;var p=SA(this.sd);this.apiURL=this.apiURL.replace("{origin}",p.origin).replace("{project}",p.project);var _=this.sd._.getQueryParam(window.location.href,"deeplink");if(!_)return this.log("\u5F53\u524D\u9875\u9762\u7F3A\u5C11deeplink\u53C2\u6570"),!1;_=window.decodeURIComponent(_);var b=TA(_);return b?(this.key=b[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(b[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:function(C){return C.errorMsg?(Ju.log("API\u62A5\u9519\uFF1A"+C.errorMsg),!1):(Ju.data=C,Ju.log("API\u67E5\u8BE2\u6210\u529F\uFF0C\u6570\u636E\uFF1A"+JSON.stringify(C,null,"  ")),void(this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))))}.bind(this),error:function(){Ju.log("API\u67E5\u8BE2\u51FA\u9519")}}),void this.addListeners()):(this.log("\u5F53\u524D\u9875\u9762\u7684deeplink\u53C2\u6570\u65E0\u6548"),!1)},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("\u6CA1\u6709Deep link\u6570\u636E!"),!1;if(B_==="iOS"){this.log("\u5F53\u524D\u7CFB\u7EDF\u662FiOS");var u=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+u),EA(this,u,this.data.ios_info.download_url)}else this.log("\u5F53\u524D\u7CFB\u7EDF\u662F android"),xA(this,this.data.android_info.url_schemes,this.data.android_info.download_url)},log:function(u){this.sd&&this.sd.log(u)},addListeners:function(){var u=M_().visibilityChange,d=this;u&&document.addEventListener(u,function(){clearTimeout(d.timer),d.log("visibilitychange, clear timeout:"+d.timer)},!1),window.addEventListener("pagehide",function(){d.log("page hide, clear timeout:"+d.timer),clearTimeout(d.timer)},!1)}},wA=Kc(Ju,"Deeplink","sdkReady"),CA="1.26.12",U_={init:function(u){Jt=u,Xu=Jt&&Jt._,Yp=Jt&&Jt.log||console&&console.log||function(){},Op()},handleCommand:Rp},j_=Ip(U_,"IOSBridge","sdkAfterInitPara"),AA="1.26.12",$_={init:function(u){fr=u,po=fr&&fr._,Qp=fr&&fr.log||console&&console.log||function(){},x()}},H_=y($_,"IOSObsoleteBridge","sdkAfterInitPara"),kA="1.26.12",DA=5e3,PA=432e3;q.prototype.init=function(u,d){if(u){if(this.sd=u,this._=this.sd._,d){this.option=d;var p=d.heartbeat_interval_time;p&&(this._.isNumber(p)||this._.isNumber(1*p))&&1*p>0&&(this.heartbeat_interval_time=1e3*p);var _=d.max_duration;_&&(this._.isNumber(_)||this._.isNumber(1*_))&&1*_>0&&(this.max_duration=_)}this.page_id=Number(String(this._.getRandom()).slice(2,5)+String(this._.getRandom()).slice(2,4)+String(new Date().getTime()).slice(-4)),this.addEventListener(),document.hidden===!0?this.page_show_status=!1:this.addHeartBeatInterval(),this.log("PageLeave\u521D\u59CB\u5316\u5B8C\u6BD5")}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},q.prototype.log=function(u){this.sd&&this.sd.log(u)},q.prototype.refreshPageEndTimer=function(){var u=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){u.page_hidden_status=!1},DA)},q.prototype.hiddenStatusHandler=function(){clearTimeout(this.timer),this.timer=null,this.page_hidden_status=!1},q.prototype.pageStartHandler=function(){this.start_time=+new Date,document.hidden?this.page_show_status=!1:this.page_show_status=!0,this.url=location.href,this.title=document.title},q.prototype.pageEndHandler=function(){if(this.page_hidden_status!==!0){var u=this.getPageLeaveProperties();this.page_show_status===!1&&delete u.event_duration,this.page_show_status=!1,this.page_hidden_status=!0,this.isCollectUrl(this.url)&&this.sd.track("$WebPageLeave",u),this.refreshPageEndTimer(),this.delHeartBeatData()}},q.prototype.addEventListener=function(){this.addPageStartListener(),this.addPageSwitchListener(),this.addSinglePageListener(),this.addPageEndListener()},q.prototype.addPageStartListener=function(){var u=this;"onpageshow"in window&&this._.addEvent(window,"pageshow",function(){u.pageStartHandler(),u.hiddenStatusHandler()})},q.prototype.isCollectUrl=function(u){return typeof this.option.isCollectUrl!="function"||typeof u!="string"||u===""||this.option.isCollectUrl(u)},q.prototype.addSinglePageListener=function(){var u=this;this.sd.ee&&this.sd.ee.spa.prepend("switch",function(d){d!==location.href&&(u.url=d,u.pageEndHandler(),u.stopHeartBeatInterval(),u.current_page_url=u.url,u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval())})},q.prototype.addPageEndListener=function(){var u=this;this._.each(["pagehide","beforeunload","unload"],function(d){"on"+d in window&&u._.addEvent(window,d,function(){u.pageEndHandler(),u.stopHeartBeatInterval()})})},q.prototype.addPageSwitchListener=function(){var u=this;this._.listenPageState({visible:function(){u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval()},hidden:function(){u.url=location.href,u.title=document.title,u.pageEndHandler(),u.stopHeartBeatInterval()}})},q.prototype.addHeartBeatInterval=function(){this._.localStorage.isSupport()&&this.startHeartBeatInterval()},q.prototype.startHeartBeatInterval=function(){var u=this;this.heartbeat_interval_timer&&this.stopHeartBeatInterval();var d=!0;this.isCollectUrl(this.url)||(d=!1),this.heartbeat_interval_timer=setInterval(function(){d&&u.saveHeartBeatData()},this.heartbeat_interval_time),d&&this.saveHeartBeatData("is_first_heartbeat"),this.reissueHeartBeatData()},q.prototype.stopHeartBeatInterval=function(){clearInterval(this.heartbeat_interval_timer),this.heartbeat_interval_timer=null},q.prototype.saveHeartBeatData=function(u){var d=this.getPageLeaveProperties(),p=new Date;d.$time=p,u==="is_first_heartbeat"&&(d.event_duration=3.14);var _=this.sd.kit.buildData({type:"track",event:"$WebPageLeave",properties:d});_.heartbeat_interval_time=this.heartbeat_interval_time,this.sd.store.saveObjectVal(this.storage_name+"-"+this.page_id,_)},q.prototype.delHeartBeatData=function(u){this._.localStorage.isSupport()&&this._.localStorage.remove(u||this.storage_name+"-"+this.page_id)},q.prototype.reissueHeartBeatData=function(){for(var u=window.localStorage.length,d=u-1;d>=0;d--){var p=window.localStorage.key(d);if(p&&p!==this.storage_name+"-"+this.page_id&&p.indexOf(this.storage_name+"-")===0){var _=this.sd.store.readObjectVal(p);this._.isObject(_)&&1*new Date-_.time>_.heartbeat_interval_time+5e3&&(delete _.heartbeat_interval_time,_._flush_time=new Date().getTime(),this.sd.kit.sendData(_),this.delHeartBeatData(p))}}},q.prototype.getPageLeaveProperties=function(){var u=(+new Date-this.start_time)/1e3;(isNaN(u)||u<0||u>this.max_duration)&&(u=0),u=Number(u.toFixed(3));var d=this._.getReferrer(this.current_page_url),p=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body&&document.body.scrollTop||0;p=Math.round(p)||0;var _={$title:this.title,$url:this._.getURL(this.url),$url_path:this._.getURLPath(this._.URL(this.url).pathname),$referrer_host:d?this._.getHostname(d):"",$referrer:d,$viewport_position:p};return u!==0&&(_.event_duration=u),_=this._.extend(_,this.option.custom_props)};var IA=new q,OA=B(IA,"PageLeave","sdkReady"),LA="1.26.12",V_=!1,RA={init:function(u,d){function p(L,z){if(L.getEntries&&typeof L.getEntries=="function"){for(var ae=L.getEntries(),ge=null,ke=0;ke<ae.length;ke++)"transferSize"in ae[ke]&&(ge+=ae[ke].transferSize);u._.isNumber(ge)&&ge>=0&&ge<10737418240&&(z.$page_resource_size=Number((ge/1024).toFixed(3)))}}function _(L){var z=0;if(L.timing){var ae=L.timing;ae.fetchStart!==0&&u._.isNumber(ae.fetchStart)&&ae.domContentLoadedEventEnd!==0&&u._.isNumber(ae.domContentLoadedEventEnd)?z=ae.domContentLoadedEventEnd-ae.fetchStart:u.log("performance \u6570\u636E\u83B7\u53D6\u5F02\u5E38")}return z}function b(L){var z=0;if(u._.isFunction(L.getEntriesByType)){var ae=L.getEntriesByType("navigation")||[{}];z=(ae[0]||{}).domContentLoadedEventEnd||0}return z}function C(){var L=0,z=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,ae={$url:u._.getURL(),$title:document.title,$url_path:u._.getURLPath(),$referrer:u._.getReferrer(null,!0)};if(z?(L=b(z)||_(z),p(z,ae)):u.log("\u6D4F\u89C8\u5668\u672A\u652F\u6301 performance API."),L>0){var ge=u._.isObject(d)&&d.max_duration||1800;L=Number((L/1e3).toFixed(3)),(!u._.isNumber(ge)||ge<=0||L<=ge)&&(ae.event_duration=L)}V_||(u.track("$WebPageLoad",ae),V_=!0),window.removeEventListener?window.removeEventListener("load",C):window.detachEvent&&window.detachEvent("onload",C)}document.readyState=="complete"?C():window.addEventListener?window.addEventListener("load",C):window.attachEvent&&window.attachEvent("onload",C)}},NA=se(RA,"PageLoad","sdkReady");Oe.prototype.init=function(u){if(u){this.sd=u,this._=u._,this.log=u.log;var d=this;u.registerInterceptor("buildDataStage",{extendProps:{priority:0,entry:function(p){return Ee(p,d)}}})}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},Oe.prototype.register=function(u){return this.sd?void(this._.isObject(u)&&this._.isArray(u.events)&&u.events.length>0&&this._.isObject(u.properties)&&!this._.isEmptyObject(u.properties)?this.customRegister.push(u):this.log("RegisterProperties: register \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},Oe.prototype.hookRegister=function(u){return this.sd?void(this._.isFunction(u)?this.customRegister.push(u):this.log("RegisterProperties: hookRegister \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")};var FA="1.26.12";Oe.prototype.plugin_name="RegisterProperties";var ps,q_,MA=new Oe,BA=Zt(MA),UA="1.26.12",Yu=window.console&&window.console.log||function(){},jA={init:function(u){return ps=u,Yu=ps&&ps.log||Yu,u&&u.kit&&u.kit.buildData?(q_=ps.kit.buildData,ps.kit.buildData=Yc,void Yu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5B8C\u6210")):void Yu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25,\u5F53\u524D\u4E3Bsdk\u4E0D\u652F\u6301 RegisterPropertyPageHeight \u63D2\u4EF6\uFF0C\u8BF7\u5347\u7EA7\u4E3Bsdk")}},$A=Bu(jA,"RegisterPropertyPageHeight","sdkReady"),HA="1.26.12",Fi={};Fi.getPart=function(u){var d=!1,p=this.option.length;if(p){for(var _=0;_<p;_++)if(u.indexOf(this.option[_].part_url)>-1)return!0}return d},Fi.getPartHash=function(u){var d=this.option.length,p=!1;if(d){for(var _=0;_<d;_++)if(u.indexOf(this.option[_].part_url)>-1)return this.option[_].after_hash}return!!p},Fi.getCurrenId=function(){var u=this.store.getDistinctId()||"",d=this.store.getFirstId()||"";this._.urlSafeBase64&&this._.urlSafeBase64.encode?u=u?this._.urlSafeBase64.trim(this._.urlSafeBase64.encode(this._.base64Encode(u))):"":this._.rot13obfs&&(u=u?this._.rot13obfs(u):"");var p=d?"f"+u:"d"+u;return encodeURIComponent(p)},Fi.rewriteUrl=function(u,d){var p=this,_=/([^?#]+)(\?[^#]*)?(#.*)?/,b=_.exec(u),C="";if(b){var L,z=b[1]||"",ae=b[2]||"",ge=b[3]||"",ke="_sasdk="+this.getCurrenId(),rt=function(Er){var ar=Er.split("&"),Mi=[];return p._.each(ar,function(hd){hd.indexOf("_sasdk=")>-1?Mi.push(ke):Mi.push(hd)}),Mi.join("&")};if(this.getPartHash(u)){L=ge.indexOf("_sasdk");var st=ge.indexOf("?");C=st>-1?L>-1?z+ae+"#"+ge.substring(1,L)+rt(ge.substring(L,ge.length)):z+ae+ge+"&"+ke:z+ae+"#"+ge.substring(1)+"?"+ke}else{L=ae.indexOf("_sasdk");var Vt=/^\?(\w)+/.test(ae);C=Vt?L>-1?z+"?"+rt(ae.substring(1))+ge:z+ae+"&"+ke+ge:z+"?"+ke+ge}return d&&(d.href=C),C}},Fi.getUrlId=function(){var u=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(u)&&u[1]){var d=decodeURIComponent(u[1]);return!d||d.substring(0,1)!=="f"&&d.substring(0,1)!=="d"||(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(d)?d=d.substring(0,1)+this._.base64Decode(this._.urlSafeBase64.decode(d.substring(1))):this._.rot13defs&&(d=d.substring(0,1)+this._.rot13defs(d.substring(1)))),d}return""},Fi.setRefferId=function(u){var d=this.store.getDistinctId(),p=this.getUrlId();if(p&&p!==""){var _=p.substring(0,1)==="a"||p.substring(0,1)==="d";p=p.substring(1),p!==d&&(_?(this.sd.identify(p,!0),this.store.getFirstId()&&this.sd.saEvent.send({original_id:p,distinct_id:d,type:"track_signup",event:"$SignUp",properties:{}},null)):this.store.getFirstId()&&!u.re_login||this.sd.login(p))}},Fi.addListen=function(){var u=this,d=function(p){var _,b,C=p.target,L=C.tagName.toLowerCase(),z=C.parentNode;if(L==="a"&&C.href||z&&z.tagName&&z.tagName.toLowerCase()==="a"&&z.href){L==="a"&&C.href?(_=C.href,b=C):(_=z.href,b=z);var ae=u._.URL(_),ge=ae.protocol;ge!=="http:"&&ge!=="https:"||u.getPart(_)&&u.rewriteUrl(_,b)}};u._.addEvent(document,"mousedown",d),window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>=0&&u._.addEvent(document,"pointerdown",d)},Fi.init=function(u,d){function p(_){for(var b=_.length,C=[],L=0;L<b;L++)/[A-Za-z0-9]+\./.test(_[L].part_url)&&Object.prototype.toString.call(_[L].after_hash)=="[object Boolean]"?C.push(_[L]):u.log("linker \u914D\u7F6E\u7684\u7B2C "+(L+1)+" \u9879\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570\u683C\u5F0F\uFF01");return C}return this.sd=u,this._=u._,this.store=u.store,this.para=u.para,this._.isObject(d)&&this._.isArray(d.linker)&&d.linker.length>0?(this.setRefferId(d),this.addListen(),this.option=d.linker,void(this.option=p(this.option))):void u.log("\u8BF7\u914D\u7F6E\u6253\u901A\u57DF\u540D\u53C2\u6570\uFF01")};var si,Ht,gs,Nr,ms,Fr,Ca,oi,Aa,ui,ka,An,go,VA=Uu(Fi,"SiteLinker","sdkReady"),qA="utm_source utm_medium utm_campaign utm_content utm_term",WA="1.26.12",GA={init:function(u){function d(){var p=qA.split(" "),_="",b={};return si._.isArray(si.para.source_channel)&&si.para.source_channel.length>0&&(p=p.concat(si.para.source_channel),p=si._.unique(p)),si._.each(p,function(C){_=si._.getQueryParam(location.href,C),_.length&&(b[C]=_)}),b}u&&!si&&(si=u,si.registerInterceptor("businessStage",{getUtmData:{priority:0,entry:function(){return d()}}}))}},W_=td(GA,"Utm","sdkAfterInitPara"),zA="1.26.12",tg=!1,dd=null,KA={init:function(u){dd=u,dd.disableSDK=Ww,dd.enableSDK=Gw,dd.getDisabled=zw}},G_=qw(KA,"DisableSDK","sdkInitAPI"),XA="1.26.12",JA={plugin_name:"DebugSender",init:function(u){Ht=u,gs=Ht._,eC()}},z_=Jw(JA),YA="1.26.12",QA={plugin_name:"JsappSender",init:function(u){Nr=u,ms=Nr._,aC()}},K_=nC(QA),ZA="1.26.12",fd=null,ek={plugin_name:"BatchSender",init:function(u){Fr=u,Ca=Fr._,fC()}},X_=lC(ek),tk="1.26.12",rk={plugin_name:"BeaconSender",init:function(u){oi=u,Aa=oi._,_C()}},J_=gC(rk),nk="1.26.12",ik={plugin_name:"AjaxSender",init:function(u){ui=u,ka=ui._,EC()}},Y_=TC(ik),ak="1.26.12",sk={plugin_name:"ImageSender",init:function(u){An=u,go=An._,PC()}},Q_=AC(sk),gr=null,nn=null,Qu=[],ok={init:function(u){u&&(gr=u,nn=gr._,gr.logger&&gr.logger.appendWriter(RC),gr.on&&gr.on("sdkAfterInitPara",function(){for(var d=0;d<Qu.length;d++)s_(Qu[d]);Qu=null}),gr.on&&gr.on("sdkInitAPI",function(){gr.enableLocalLog=BC,gr.disableLocalLog=UC}))}},Z_=LC(ok,"ConsoleLogger"),rg="sensorsdata_jssdk_debug";O.modules=O.modules||{};for(var ey=[Z_,hA,O_,F_,vA,wA,j_,H_,OA,NA,BA,$A,VA,W_,G_,z_,K_,X_,J_,Y_,Q_],ty=[Z_,cA,W_,G_,K_,z_,O_,j_,F_,H_,X_,J_,Y_,Q_],vs=0;vs<ey.length;vs++){var mo=ey[vs];O._.isString(mo.plugin_name)?O.modules[mo.plugin_name]=mo:O._.isArray(mo.plugin_name)&&O._.each(mo.plugin_name,function(u){O.modules[u]=mo})}for(vs=0;vs<ty.length;vs++)O.use(ty[vs]);var ry=O;try{typeof window.sensorsDataAnalytic201505=="string"?(O.para=window[sensorsDataAnalytic201505].para,O._q=window[sensorsDataAnalytic201505]._q,window[sensorsDataAnalytic201505]=O,window.sensorsDataAnalytic201505=O,O.init()):typeof window.sensorsDataAnalytic201505>"u"?window.sensorsDataAnalytic201505=O:ry=window.sensorsDataAnalytic201505}catch(u){ct(u)}var uk=ry;return uk})})(L2);const zo=L2.exports,{VITE_SENSORS:R2}={VITE_USER_NODE_ENV:"test",VITE_API_URL:"https://test-api-mate.flyai.com",VITE_URL_URL:"https://test-mate.flyai.com/",VITE_GOOGLE_ID:"742137325913-j6tn2dk96v128bl7ocuf1j633nmkih8r.apps.googleusercontent.com",VITE_SENSORS:"MateLink_test",BASE_URL:"./",MODE:"test",DEV:!0,PROD:!1};zo.init({sdk_url:"lib/sensorsdata.min.js",heatmap_url:"lib/heatmap.min.js",name:"sensors",server_url:"https://log.cece.com/sa?project="+R2,is_track_single_page:!0,use_client_time:!0,send_type:"beacon",preset_properties:{url:!0,title:!0,latest_wx_ad_click_id:!0},app_js_bridge:!0,is_track_device_id:!0,heatmap:{clickmap:"default",scroll_notice_map:"default"},show_log:!0});zo.quick("autoTrack",{platform:"web"});zo.registerPage({$url:window.location.href,$referrer:document.referrer,systemName:R2});let Mb;zo.quick("isReady",function(){Mb=zo.quick("getAnonymousID"),localStorage.setItem("anonymousID",Mb)});function qv(){return zo}const a5={baseURL:"https://test-api-mate.flyai.com",timeout:I2.TIMEOUT,withCredentials:!1};class s5{constructor(e){dy(this,"service");this.service=n5.create(e),this.service.interceptors.request.use(n=>{const i=qv().getPresetProperties();return delete i.identities,n.data=Object.assign({},n.data,c5()),n.headers["x-client"]="h5-2",n.headers["X-Version"]="1.2.5",n},n=>(console.log("error,error",n),Promise.reject(n))),this.service.interceptors.response.use(n=>{const{data:i}=n;if(i.code!=1003)return i},async n=>{const{response:i}=n;return i&&i5(i.status),window.navigator.onLine||Wv.replace("/500"),Promise.reject(n)})}get(e,n,i={}){return this.service.get(e,{params:n,...i})}post(e,n,i={}){return this.service.post(e,n,i)}put(e,n,i={}){return this.service.put(e,n,i)}delete(e,n,i={}){return this.service.delete(e,{params:n,...i})}download(e,n,i={}){return this.service.post(e,n,{...i,responseType:"blob"})}}const N2=new s5(a5),o5=r=>N2.post("user/login",r),u5=()=>N2.post("/user/center"),l5=tO({id:"user",state:()=>({isModal:!1,isPopupLogin:!1,isPopupContactUs:!1,isPopupInfo:!1,popupLoginTitle:"Sign in",Token:"",userInfo:{},payType:!1}),actions:{logOut(){const r=localStorage.getItem("consent");window.localStorage.clear(),r!==null&&localStorage.setItem("consent",r),window.location.reload()},getUser(){return new Promise((r,e)=>{u5().then(n=>{console.log(n,"getUserCenter"),n.code==200&&(this.userInfo.coins_balance=n.data.coins_balance,this.userInfo.vip_info=n.data.vip_info,r(n))}).catch(n=>{e(n)})})},getUserInfo(r){return new Promise((e,n)=>{o5(r).then(i=>{i.code===200&&(this.userInfo=i.data,this.Token=i.data.apikey,qv().identify(i.data.uid,!0),this.isPopupLogin=!1),e(i),e(i)}).catch(i=>{n(i)})})}},persist:{enabled:!0,strategies:[{storage:localStorage,paths:["Token","userInfo"]}]}});function c5(){const e=l5().Token,n={seed:Date.now(),apikey:e||`apikey_${d5(17)}`,sign:""},i=new sr;i.appendAsciiStr(n.apikey+n.seed+"b8e8d3041d75434eb2c093a4524e0a11");const t=i.end();return n.sign=t.toUpperCase(),n}function d5(r,e){let n="";const i=e?Math.round(Math.random()*(e-r))+r:r,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];for(let a=0;a<i;a++){const s=Math.round(Math.random()*(t.length-1));n+=t[s]}return n}function Y8(r){let n=0;const i=[];return r.forEach(t=>{n+t.length<30&&(n+=t.length,i.push(t))}),i}function Q8(r){const e=["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sept","Oct","Nov","Dec"];let n="AM";const i=new Date(r*1e3),t=i.getFullYear(),a=i.getMonth(),s=i.getDate();let l=i.getHours();const c=i.getMinutes();l>=12&&(n="PM",l=l-12);const f=new Date,h=f.getFullYear(),g=f.getMonth(),v=f.getDate();return h==t&&g==a&&v==s?`${l>9?l:"0"+l}:${c>9?c:"0"+c} ${n}`:`${t==h?"":t} ${e[a]} ${s} ${l>9?l:"0"+l}:${c>9?c:"0"+c} ${n}`}let Dd="";function Z8(r){if(Dd=="")return Dd=r,r;{const e=r-Dd;return e>1800?(Dd=r,e):""}}function e4(r){const e=JSON.stringify(r);return JSON.parse(e)}function t4(r){const e=new RegExp("(^|&)"+r+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return n!=null?unescape(n[2]):null}function f5(r){const n=window.location.href.split("#");return n.length<2?null:new URLSearchParams(n[1].split("?")[1]).get(r)||""}const Wv=bL({history:OO("/"),routes:[{path:"/",redirect:"/",component:()=>kd(()=>import("./defaultView.f362bb71.js"),["./defaultView.f362bb71.js","./index.a9de0e7e.js","./Spin.5fabfc17.js","./close_icon.cb958107.js","./index.fa7ea157.js","./defaultView.469dcc9e.css"],import.meta.url),meta:{title:"",keepAlive:!0},children:[{path:"/",component:()=>kd(()=>import("./indexView.6bb22262.js"),["./indexView.6bb22262.js","./index.a9de0e7e.js","./Spin.5fabfc17.js","./Image.6077f576.js","./indexView.500f3cb5.css"],import.meta.url),meta:{title:"",keepAlive:!1}},{path:"chat",component:()=>kd(()=>import("./chatView.279c10fa.js"),["./chatView.279c10fa.js","./index.a9de0e7e.js","./Spin.5fabfc17.js","./close_icon.cb958107.js","./Image.6077f576.js","./chatView.1a5f9742.css"],import.meta.url),meta:{title:"",keepAlive:!1}},{path:"becomePro",component:()=>kd(()=>import("./becomeProView.52c3f52d.js"),["./becomeProView.52c3f52d.js","./index.fa7ea157.js","./Spin.5fabfc17.js","./becomeProView.17beca51.css"],import.meta.url),meta:{title:"",keepAlive:!1}}]}]});Wv.beforeEach((r,e,n)=>{const i=f5("ref");if(console.log(i,"currentRef"),!r.query.ref&&i){const t={path:r.path,query:{...r.query,ref:i},hash:r.hash};console.log(t,"nextPath"),n(t)}else n()});const Bb=(r,e)=>{const n=r.storage||sessionStorage,i=r.key||e.$id;if(r.paths){const t=r.paths.reduce((a,s)=>(a[s]=e.$state[s],a),{});n.setItem(i,JSON.stringify(t))}else n.setItem(i,JSON.stringify(e.$state))};var h5=({options:r,store:e})=>{var n,i,t,a;if((n=r.persist)!=null&&n.enabled){const s=[{key:e.$id,storage:sessionStorage}],l=(t=(i=r.persist)==null?void 0:i.strategies)!=null&&t.length?(a=r.persist)==null?void 0:a.strategies:s;l.forEach(c=>{const f=c.storage||sessionStorage,h=c.key||e.$id,g=f.getItem(h);g&&(e.$patch(JSON.parse(g)),Bb(c,e))}),e.$subscribe(()=>{l.forEach(c=>{Bb(c,e)})})}};const Gv=Symbol(),zv=Fn(!1),Qd=Fn(!1),F2=Fn(!1),Rm=Fn(0);let Pd=null;const p5=()=>{const r=document.createElement("script");return r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r},g5=()=>{Qd.value=!0,Pd=p5(),document.head.appendChild(Pd),Pd.onload=()=>{Qd.value=!1,zv.value=!0},Pd.onerror=()=>{Qd.value=!1,F2.value=!0}};Gn(()=>Rm.value,(r,e)=>{r>0&&!zv.value&&!Qd.value&&g5()});function M2(){return uc(()=>{Rm.value++}),ih(()=>{Rm.value--}),{scriptLoaded:Ho(zv),scriptLoadError:Ho(F2)}}const m5=sc({__name:"GoogleSignInButton",props:{oneTap:{type:Boolean},autoSelect:{type:Boolean},loginUri:{},cancelOnTapOutside:{type:Boolean},promptParentId:{},nonce:{},context:{},stateCookieDomain:{},uxMode:{},allowedParentOrigin:{},itpSupport:{type:Boolean},type:{},theme:{},size:{},text:{},shape:{},logoAlignment:{},width:{},locale:{}},emits:["success","error","intermediateIframeCloseCallback","nativeCallback","promptMomentNotification"],setup(r,{emit:e}){const n={large:40,medium:32,small:20},i=r,t=e,a=ln(Gv),s=Fn(null),{scriptLoaded:l}=M2();Cv(()=>{var f,h,g,v;l.value&&((f=window.google)==null||f.accounts.id.initialize({client_id:a,callback:T=>{if(!T.clientId||!T.credential){t("error");return}t("success",T)},allowed_parent_origin:i.allowedParentOrigin,auto_select:i.autoSelect,cancel_on_tap_outside:i.cancelOnTapOutside,context:i.context,intermediate_iframe_close_callback:()=>{t("intermediateIframeCloseCallback")},itp_support:i.itpSupport,login_uri:i.loginUri,native_callback:T=>{t("nativeCallback",T)},nonce:i.nonce,prompt_parent_id:i.promptParentId,state_cookie_domain:i.stateCookieDomain,ux_mode:i.uxMode}),(g=window.google)==null||g.accounts.id.renderButton(s.value,{type:i.type,theme:i.theme,size:i.size,text:i.text,shape:i.shape,logo_alignment:i.logoAlignment,width:(h=i.width)==null?void 0:h.toString(),locale:i.locale}),i.oneTap&&((v=window.google)==null||v.accounts.id.prompt(T=>{t("promptMomentNotification",T)})))}),ih(()=>{var f;i.oneTap&&((f=window.google)==null||f.accounts.id.cancel())});const c=jr(()=>n[i.size||"large"]);return(f,h)=>(ah(),FP("div",{ref_key:"targetElement",ref:s,style:Xf({display:"inline-flex",height:c.value})},null,4))}});function r4(r){const{disableAutomaticPrompt:e=!1,onSuccess:n,onError:i,onPromptMomentNotification:t,onNativeCallback:a,onIntermediateIframeCloseCallback:s,autoSelect:l,loginUri:c,cancelOnTapOutside:f,promptParentId:h,nonce:g,context:v,stateCookieDomain:T,allowedParentOrigin:w,itpSupport:D}=r||{},{scriptLoaded:P}=M2(),R=ln(Gv),M=Fn(!1),U=()=>{var j;return M.value&&((j=window.google)==null?void 0:j.accounts.id.prompt(J=>t==null?void 0:t(J)))};return Cv(j=>{var J,te;if(M.value=!1,!P.value)return;const $=!vr(e),H=vr(l),X=vr(c),K=vr(h),ee=vr(g),Z=vr(v),le=vr(T),Be=vr(w),je=vr(D),De=vr(f);(J=window.google)==null||J.accounts.id.initialize({client_id:R,callback:me=>{if(!me.clientId||!me.credential){i==null||i();return}n==null||n(me)},native_callback:me=>{a==null||a(me)},intermediate_iframe_close_callback:()=>{s==null||s()},auto_select:H,allowed_parent_origin:Be,context:Z,itp_support:je,login_uri:X,nonce:ee,prompt_parent_id:K,state_cookie_domain:le,cancel_on_tap_outside:De}),M.value=!0,$&&((te=window.google)==null||te.accounts.id.prompt(me=>t==null?void 0:t(me))),j(()=>{var me;(me=window.google)==null||me.accounts.id.cancel()})}),{isReady:Ho(M),login:U}}const v5="GoogleSignInPlugin",Ub=r=>`[${v5}]: ${r}`,_5={install(r,e){if(!e)throw new Error(Ub("initialize plugin by passing an options object"));if(!e.clientId||e.clientId&&e.clientId.trim().length===0)throw new Error(Ub("clientId is required to initialize"));r.provide(Gv,e.clientId),r.component("GoogleSignInButton",m5)}};const y5=()=>{(function(r,e,n){let i;const t=r.getElementsByTagName(e)[0];r.getElementById(n)||(i=r.createElement(e),i.id=n,i.src="https://connect.facebook.net/zh_CN/sdk.js",t.parentNode.insertBefore(i,t))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"173769148980844",autoLogAppEvents:!0,xfbml:!0,version:"v16.0"})}};y5();var ml;typeof window<"u"?ml=window:typeof Vl<"u"?ml=Vl:typeof self<"u"?ml=self:ml={};var V=ml;const b5=new Proxy({},{get(r,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.`)}}),T5=Object.freeze(Object.defineProperty({__proto__:null,default:b5},Symbol.toStringTag,{value:"Module"})),S5=O2(T5);var jb=typeof Vl<"u"?Vl:typeof window<"u"?window:{},x5=S5,vl;typeof document<"u"?vl=document:(vl=jb["__GLOBAL_DOCUMENT_CACHE@4"],vl||(vl=jb["__GLOBAL_DOCUMENT_CACHE@4"]=x5));var Te=vl;function Nn(){return Nn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Nn.apply(null,arguments)}const E5=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Nn}},Symbol.toStringTag,{value:"Module"}));var Nm={exports:{}};(function(r,e){function n(c){if(c&&typeof c=="object"){var f=c.which||c.keyCode||c.charCode;f&&(c=f)}if(typeof c=="number")return s[c];var h=String(c),g=i[h.toLowerCase()];if(g)return g;var g=t[h.toLowerCase()];if(g)return g;if(h.length===1)return h.charCodeAt(0)}n.isEventKey=function(f,h){if(f&&typeof f=="object"){var g=f.which||f.keyCode||f.charCode;if(g==null)return!1;if(typeof h=="string"){var v=i[h.toLowerCase()];if(v)return v===g;var v=t[h.toLowerCase()];if(v)return v===g}else if(typeof h=="number")return h===g;return!1}},e=r.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var l in t)i[l]=t[l]})(Nm,Nm.exports);const ot=Nm.exports;function tt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ko(r,e){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ko(r,e)}function Ae(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Ko(r,e)}var w5=C5;function C5(r,e){var n,i=null;try{n=JSON.parse(r,e)}catch(t){i=t}return[i,n]}var vh={exports:{}};const A5=O2(E5);var k5=P5,D5=Object.prototype.toString;function P5(r){if(!r)return!1;var e=D5.call(r);return e==="[object Function]"||typeof r=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}var I5=V,O5=function(e,n){return n===void 0&&(n=!1),function(i,t,a){if(i){e(i);return}if(t.statusCode>=400&&t.statusCode<=599){var s=a;if(n)if(I5.TextDecoder){var l=L5(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(l).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function L5(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),t=i[0],a=i[1];return t.trim()==="charset"?a.trim():e},"utf-8")}var R5=O5,B2=V,N5=A5,F5=k5;bi.httpHandler=R5;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var M5=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var t=i.indexOf(":"),a=i.slice(0,t).trim().toLowerCase(),s=i.slice(t+1).trim();typeof n[a]>"u"?n[a]=s:Array.isArray(n[a])?n[a].push(s):n[a]=[n[a],s]}),n};vh.exports=bi;vh.exports.default=bi;bi.XMLHttpRequest=B2.XMLHttpRequest||$5;bi.XDomainRequest="withCredentials"in new bi.XMLHttpRequest?bi.XMLHttpRequest:B2.XDomainRequest;B5(["get","put","post","patch","head","delete"],function(r){bi[r==="delete"?"del":r]=function(e,n,i){return n=U2(e,n,i),n.method=r.toUpperCase(),j2(n)}});function B5(r,e){for(var n=0;n<r.length;n++)e(r[n])}function U5(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0}function U2(r,e,n){var i=r;return F5(e)?(n=e,typeof r=="string"&&(i={uri:r})):i=N5({},e,{uri:r}),i.callback=n,i}function bi(r,e,n){return e=U2(r,e,n),j2(e)}function j2(r){if(typeof r.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(U,j,J){e||(e=!0,r.callback(U,j,J))};function i(){l.readyState===4&&setTimeout(s,0)}function t(){var M=void 0;if(l.response?M=l.response:M=l.responseText||j5(l),D)try{M=JSON.parse(M)}catch{}return M}function a(M){return clearTimeout(P),M instanceof Error||(M=new Error(""+(M||"Unknown XMLHttpRequest Error"))),M.statusCode=0,n(M,R)}function s(){if(!f){var M;clearTimeout(P),r.useXDR&&l.status===void 0?M=200:M=l.status===1223?204:l.status;var U=R,j=null;return M!==0?(U={body:t(),statusCode:M,method:g,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&(U.headers=M5(l.getAllResponseHeaders()))):j=new Error("Internal XMLHttpRequest Error"),n(j,U,U.body)}}var l=r.xhr||null;l||(r.cors||r.useXDR?l=new bi.XDomainRequest:l=new bi.XMLHttpRequest);var c,f,h=l.url=r.uri||r.url,g=l.method=r.method||"GET",v=r.body||r.data,T=l.headers=r.headers||{},w=!!r.sync,D=!1,P,R={body:void 0,headers:{},statusCode:0,method:g,url:h,rawRequest:l};if("json"in r&&r.json!==!1&&(D=!0,T.accept||T.Accept||(T.Accept="application/json"),g!=="GET"&&g!=="HEAD"&&(T["content-type"]||T["Content-Type"]||(T["Content-Type"]="application/json"),v=JSON.stringify(r.json===!0?v:r.json))),l.onreadystatechange=i,l.onload=s,l.onerror=a,l.onprogress=function(){},l.onabort=function(){f=!0},l.ontimeout=a,l.open(g,h,!w,r.username,r.password),w||(l.withCredentials=!!r.withCredentials),!w&&r.timeout>0&&(P=setTimeout(function(){if(!f){f=!0,l.abort("timeout");var M=new Error("XMLHttpRequest timeout");M.code="ETIMEDOUT",a(M)}},r.timeout)),l.setRequestHeader)for(c in T)T.hasOwnProperty(c)&&l.setRequestHeader(c,T[c]);else if(r.headers&&!U5(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(l.responseType=r.responseType),"beforeSend"in r&&typeof r.beforeSend=="function"&&r.beforeSend(l),l.send(v||null),l}function j5(r){try{if(r.responseType==="document")return r.responseXML;var e=r.responseXML&&r.responseXML.documentElement.nodeName==="parsererror";if(r.responseType===""&&!e)return r.responseXML}catch{}return null}function $5(){}var Fm={exports:{}},$b=Te,Kv=Object.create||function(){function r(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return r.prototype=e,new r}}();function yn(r,e){this.name="ParsingError",this.code=r.code,this.message=e||r.message}yn.prototype=Kv(Error.prototype);yn.prototype.constructor=yn;yn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Xv(r){function e(i,t,a,s){return(i|0)*3600+(t|0)*60+(a|0)+(s|0)/1e3}var n=r.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Dl(){this.values=Kv(null)}Dl.prototype={set:function(r,e){!this.get(r)&&e!==""&&(this.values[r]=e)},get:function(r,e,n){return n?this.has(r)?this.values[r]:e[n]:this.has(r)?this.values[r]:e},has:function(r){return r in this.values},alt:function(r,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(r,e);break}},integer:function(r,e){/^-?\d+$/.test(e)&&this.set(r,parseInt(e,10))},percent:function(r,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(r,e),!0):!1}};function _l(r,e,n,i){var t=i?r.split(i):[r];for(var a in t)if(typeof t[a]=="string"){var s=t[a].split(n);if(s.length===2){var l=s[0].trim(),c=s[1].trim();e(l,c)}}}function H5(r,e,n){var i=r;function t(){var l=Xv(r);if(l===null)throw new yn(yn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),l}function a(l,c){var f=new Dl;_l(l,function(h,g){switch(h){case"region":for(var v=n.length-1;v>=0;v--)if(n[v].id===g){f.set(h,n[v].region);break}break;case"vertical":f.alt(h,g,["rl","lr"]);break;case"line":var T=g.split(","),w=T[0];f.integer(h,w),f.percent(h,w)&&f.set("snapToLines",!1),f.alt(h,w,["auto"]),T.length===2&&f.alt("lineAlign",T[1],["start","center","end"]);break;case"position":T=g.split(","),f.percent(h,T[0]),T.length===2&&f.alt("positionAlign",T[1],["start","center","end"]);break;case"size":f.percent(h,g);break;case"align":f.alt(h,g,["start","center","end","left","right"]);break}},/:/,/\s/),c.region=f.get("region",null),c.vertical=f.get("vertical","");try{c.line=f.get("line","auto")}catch{}c.lineAlign=f.get("lineAlign","start"),c.snapToLines=f.get("snapToLines",!0),c.size=f.get("size",100);try{c.align=f.get("align","center")}catch{c.align=f.get("align","middle")}try{c.position=f.get("position","auto")}catch{c.position=f.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},c.align)}c.positionAlign=f.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},c.align)}function s(){r=r.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),r.substr(0,3)!=="-->")throw new yn(yn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);r=r.substr(3),s(),e.endTime=t(),s(),a(r,e)}var Pg=$b.createElement&&$b.createElement("textarea"),V5={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Hb={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},q5={v:"title",lang:"lang"},Vb={rt:"ruby"};function $2(r,e){function n(){if(!e)return null;function w(P){return e=e.substr(P.length),P}var D=e.match(/^([^<]*)(<[^>]*>?)?/);return w(D[1]?D[1]:D[2])}function i(w){return Pg.innerHTML=w,w=Pg.textContent,Pg.textContent="",w}function t(w,D){return!Vb[D.localName]||Vb[D.localName]===w.localName}function a(w,D){var P=V5[w];if(!P)return null;var R=r.document.createElement(P),M=q5[w];return M&&D&&(R[M]=D.trim()),R}for(var s=r.document.createElement("div"),l=s,c,f=[];(c=n())!==null;){if(c[0]==="<"){if(c[1]==="/"){f.length&&f[f.length-1]===c.substr(2).replace(">","")&&(f.pop(),l=l.parentNode);continue}var h=Xv(c.substr(1,c.length-2)),g;if(h){g=r.document.createProcessingInstruction("timestamp",h),l.appendChild(g);continue}var v=c.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v||(g=a(v[1],v[3]),!g)||!t(l,g))continue;if(v[2]){var T=v[2].split(".");T.forEach(function(w){var D=/^bg_/.test(w),P=D?w.slice(3):w;if(Hb.hasOwnProperty(P)){var R=D?"background-color":"color",M=Hb[P];g.style[R]=M}}),g.className=T.join(" ")}f.push(v[1]),l.appendChild(g),l=g;continue}l.appendChild(r.document.createTextNode(i(c)))}return s}var qb=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function W5(r){for(var e=0;e<qb.length;e++){var n=qb[e];if(r>=n[0]&&r<=n[1])return!0}return!1}function G5(r){var e=[],n="",i;if(!r||!r.childNodes)return"ltr";function t(l,c){for(var f=c.childNodes.length-1;f>=0;f--)l.push(c.childNodes[f])}function a(l){if(!l||!l.length)return null;var c=l.pop(),f=c.textContent||c.innerText;if(f){var h=f.match(/^.*(\n|\r)/);return h?(l.length=0,h[0]):f}if(c.tagName==="ruby")return a(l);if(c.childNodes)return t(l,c),a(l)}for(t(e,r);n=a(e);)for(var s=0;s<n.length;s++)if(i=n.charCodeAt(s),W5(i))return"rtl";return"ltr"}function z5(r){if(typeof r.line=="number"&&(r.snapToLines||r.line>=0&&r.line<=100))return r.line;if(!r.track||!r.track.textTrackList||!r.track.textTrackList.mediaElement)return-1;for(var e=r.track,n=e.textTrackList,i=0,t=0;t<n.length&&n[t]!==e;t++)n[t].mode==="showing"&&i++;return++i*-1}function _h(){}_h.prototype.applyStyles=function(r,e){e=e||this.div;for(var n in r)r.hasOwnProperty(n)&&(e.style[n]=r[n])};_h.prototype.formatStyle=function(r,e){return r===0?0:r+e};function xf(r,e,n){_h.call(this),this.cue=e,this.cueDiv=$2(r,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=r.document.createElement("div"),i={direction:G5(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":case"line-left":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":case"line-right":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}xf.prototype=Kv(_h.prototype);xf.prototype.constructor=xf;function Kr(r){var e,n,i,t;if(r.div){n=r.div.offsetHeight,i=r.div.offsetWidth,t=r.div.offsetTop;var a=(a=r.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();r=r.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,r.height/a.length):0}this.left=r.left,this.right=r.right,this.top=r.top||t,this.height=r.height||n,this.bottom=r.bottom||t+(r.height||n),this.width=r.width||i,this.lineHeight=e!==void 0?e:r.lineHeight}Kr.prototype.move=function(r,e){switch(e=e!==void 0?e:this.lineHeight,r){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Kr.prototype.overlaps=function(r){return this.left<r.right&&this.right>r.left&&this.top<r.bottom&&this.bottom>r.top};Kr.prototype.overlapsAny=function(r){for(var e=0;e<r.length;e++)if(this.overlaps(r[e]))return!0;return!1};Kr.prototype.within=function(r){return this.top>=r.top&&this.bottom<=r.bottom&&this.left>=r.left&&this.right<=r.right};Kr.prototype.overlapsOppositeAxis=function(r,e){switch(e){case"+x":return this.left<r.left;case"-x":return this.right>r.right;case"+y":return this.top<r.top;case"-y":return this.bottom>r.bottom}};Kr.prototype.intersectPercentage=function(r){var e=Math.max(0,Math.min(this.right,r.right)-Math.max(this.left,r.left)),n=Math.max(0,Math.min(this.bottom,r.bottom)-Math.max(this.top,r.top)),i=e*n;return i/(this.height*this.width)};Kr.prototype.toCSSCompatValues=function(r){return{top:this.top-r.top,bottom:r.bottom-this.bottom,left:this.left-r.left,right:r.right-this.right,height:this.height,width:this.width}};Kr.getSimpleBoxPosition=function(r){var e=r.div?r.div.offsetHeight:r.tagName?r.offsetHeight:0,n=r.div?r.div.offsetWidth:r.tagName?r.offsetWidth:0,i=r.div?r.div.offsetTop:r.tagName?r.offsetTop:0;r=r.div?r.div.getBoundingClientRect():r.tagName?r.getBoundingClientRect():r;var t={left:r.left,right:r.right,top:r.top||i,height:r.height||e,bottom:r.bottom||i+(r.height||e),width:r.width||n};return t};function K5(r,e,n,i){function t(P,R){for(var M,U=new Kr(P),j=1,J=0;J<R.length;J++){for(;P.overlapsOppositeAxis(n,R[J])||P.within(n)&&P.overlapsAny(i);)P.move(R[J]);if(P.within(n))return P;var te=P.intersectPercentage(n);j>te&&(M=new Kr(P),j=te),P=new Kr(U)}return M||U}var a=new Kr(e),s=e.cue,l=z5(s),c=[];if(s.snapToLines){var f;switch(s.vertical){case"":c=["+y","-y"],f="height";break;case"rl":c=["+x","-x"],f="width";break;case"lr":c=["-x","+x"],f="width";break}var h=a.lineHeight,g=h*Math.round(l),v=n[f]+h,T=c[0];Math.abs(g)>v&&(g=g<0?-1:1,g*=Math.ceil(v/h)*h),l<0&&(g+=s.vertical===""?n.height:n.width,c=c.reverse()),a.move(T,g)}else{var w=a.lineHeight/n.height*100;switch(s.lineAlign){case"center":l-=w/2;break;case"end":l-=w;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(l,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(l,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(l,"%")});break}c=["+y","-x","+x","-y"],a=new Kr(e)}var D=t(a,c);e.move(D.toCSSCompatValues(n))}function uu(){}uu.StringDecoder=function(){return{decode:function(r){if(!r)return"";if(typeof r!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}};uu.convertCueToDOMTree=function(r,e){return!r||!e?null:$2(r,e)};var X5=.05,J5="sans-serif",Y5="1.5%";uu.processCues=function(r,e,n){if(!r||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=r.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=Y5,n.appendChild(i);function t(h){for(var g=0;g<h.length;g++)if(h[g].hasBeenReset||!h[g].displayState)return!0;return!1}if(!t(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],l=Kr.getSimpleBoxPosition(i),c=Math.round(l.height*X5*100)/100,f={font:c+"px "+J5};(function(){for(var h,g,v=0;v<e.length;v++)g=e[v],h=new xf(r,g,f),i.appendChild(h.div),K5(r,h,l,s),g.displayState=h.div,s.push(Kr.getSimpleBoxPosition(h))})()};uu.Parser=function(r,e,n){n||(n=e,e={}),e||(e={}),this.window=r,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};uu.Parser.prototype={reportOrThrowError:function(r){if(r instanceof yn)this.onparsingerror&&this.onparsingerror(r);else throw r},parse:function(r){var e=this;r&&(e.buffer+=e.decoder.decode(r,{stream:!0}));function n(){for(var h=e.buffer,g=0;g<h.length&&h[g]!=="\r"&&h[g]!==`
`;)++g;var v=h.substr(0,g);return h[g]==="\r"&&++g,h[g]===`
`&&++g,e.buffer=h.substr(g),v}function i(h){var g=new Dl;if(_l(h,function(T,w){switch(T){case"id":g.set(T,w);break;case"width":g.percent(T,w);break;case"lines":g.integer(T,w);break;case"regionanchor":case"viewportanchor":var D=w.split(",");if(D.length!==2)break;var P=new Dl;if(P.percent("x",D[0]),P.percent("y",D[1]),!P.has("x")||!P.has("y"))break;g.set(T+"X",P.get("x")),g.set(T+"Y",P.get("y"));break;case"scroll":g.alt(T,w,["up"]);break}},/=/,/\s/),g.has("id")){var v=new(e.vttjs.VTTRegion||e.window.VTTRegion);v.width=g.get("width",100),v.lines=g.get("lines",3),v.regionAnchorX=g.get("regionanchorX",0),v.regionAnchorY=g.get("regionanchorY",100),v.viewportAnchorX=g.get("viewportanchorX",0),v.viewportAnchorY=g.get("viewportanchorY",100),v.scroll=g.get("scroll",""),e.onregion&&e.onregion(v),e.regionList.push({id:g.get("id"),region:v})}}function t(h){var g=new Dl;_l(h,function(v,T){switch(v){case"MPEGT":g.integer(v+"S",T);break;case"LOCA":g.set(v+"L",Xv(T));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:g.get("MPEGTS"),LOCAL:g.get("LOCAL")})}function a(h){h.match(/X-TIMESTAMP-MAP/)?_l(h,function(g,v){switch(g){case"X-TIMESTAMP-MAP":t(v);break}},/=/):_l(h,function(g,v){switch(g){case"Region":i(v);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=n();var l=s.match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new yn(yn.Errors.BadSignature);e.state="HEADER"}for(var c=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(c?c=!1:s=n(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{H5(s,e.cue,e.regionList)}catch(h){e.reportOrThrowError(h),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=s.indexOf("-->")!==-1;if(!s||f&&(c=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(h){e.reportOrThrowError(h),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var r=this;try{if(r.buffer+=r.decoder.decode(),(r.cue||r.state==="HEADER")&&(r.buffer+=`

`,r.parse()),r.state==="INITIAL")throw new yn(yn.Errors.BadSignature)}catch(e){r.reportOrThrowError(e)}return r.onflush&&r.onflush(),this}};var Q5=uu,Z5="auto",e3={"":1,lr:1,rl:1},t3={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r3(r){if(typeof r!="string")return!1;var e=e3[r.toLowerCase()];return e?r.toLowerCase():!1}function Ig(r){if(typeof r!="string")return!1;var e=t3[r.toLowerCase()];return e?r.toLowerCase():!1}function H2(r,e,n){this.hasBeenReset=!1;var i="",t=!1,a=r,s=e,l=n,c=null,f="",h=!0,g="auto",v="start",T="auto",w="auto",D=100,P="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(R){i=""+R}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(R){t=!!R}},startTime:{enumerable:!0,get:function(){return a},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");a=R,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");s=R,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(R){l=""+R,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(R){c=R,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(R){var M=r3(R);if(M===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");f=M,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(R){h=!!R,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return g},set:function(R){if(typeof R!="number"&&R!==Z5)throw new SyntaxError("Line: an invalid number or illegal string was specified.");g=R,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return v},set:function(R){var M=Ig(R);M?(v=M,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return T},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");T=R,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return w},set:function(R){var M=Ig(R);M?(w=M,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return D},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");D=R,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return P},set:function(R){var M=Ig(R);if(!M)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");P=M,this.hasBeenReset=!0}}}),this.displayState=void 0}H2.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var n3=H2,i3={"":!0,up:!0};function a3(r){if(typeof r!="string")return!1;var e=i3[r.toLowerCase()];return e?r.toLowerCase():!1}function al(r){return typeof r=="number"&&r>=0&&r<=100}function s3(){var r=100,e=3,n=0,i=100,t=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return r},set:function(l){if(!al(l))throw new Error("Width must be between 0 and 100.");r=l}},lines:{enumerable:!0,get:function(){return e},set:function(l){if(typeof l!="number")throw new TypeError("Lines must be set to a number.");e=l}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(l){if(!al(l))throw new Error("RegionAnchorX must be between 0 and 100.");i=l}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(l){if(!al(l))throw new Error("RegionAnchorY must be between 0 and 100.");n=l}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(l){if(!al(l))throw new Error("ViewportAnchorY must be between 0 and 100.");a=l}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(l){if(!al(l))throw new Error("ViewportAnchorX must be between 0 and 100.");t=l}},scroll:{enumerable:!0,get:function(){return s},set:function(l){var c=a3(l);c===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=c}}})}var o3=s3,na=V,Ks=Fm.exports={WebVTT:Q5,VTTCue:n3,VTTRegion:o3};na.vttjs=Ks;na.WebVTT=Ks.WebVTT;var u3=Ks.VTTCue,l3=Ks.VTTRegion,c3=na.VTTCue,d3=na.VTTRegion;Ks.shim=function(){na.VTTCue=u3,na.VTTRegion=l3};Ks.restore=function(){na.VTTCue=c3,na.VTTRegion=d3};na.VTTCue||Ks.shim();function V2(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!r})()}function q2(r,e,n){if(V2())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var t=new(r.bind.apply(r,i));return n&&Ko(t,n.prototype),t}function f3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ko(r,e)}var W2={exports:{}};(function(r,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(c,f,h){if(h=h||{},c=c.trim(),f=f.trim(),!f){if(!h.alwaysNormalize)return c;var g=l.parseURL(c);if(!g)throw new Error("Error trying to parse base URL.");return g.path=l.normalizePath(g.path),l.buildURLFromParts(g)}var v=l.parseURL(f);if(!v)throw new Error("Error trying to parse relative URL.");if(v.scheme)return h.alwaysNormalize?(v.path=l.normalizePath(v.path),l.buildURLFromParts(v)):f;var T=l.parseURL(c);if(!T)throw new Error("Error trying to parse base URL.");if(!T.netLoc&&T.path&&T.path[0]!=="/"){var w=t.exec(T.path);T.netLoc=w[1],T.path=w[2]}T.netLoc&&!T.path&&(T.path="/");var D={scheme:T.scheme,netLoc:v.netLoc,path:null,params:v.params,query:v.query,fragment:v.fragment};if(!v.netLoc&&(D.netLoc=T.netLoc,v.path[0]!=="/"))if(!v.path)D.path=T.path,v.params||(D.params=T.params,v.query||(D.query=T.query));else{var P=T.path,R=P.substring(0,P.lastIndexOf("/")+1)+v.path;D.path=l.normalizePath(R)}return D.path===null&&(D.path=h.alwaysNormalize?l.normalizePath(v.path):v.path),l.buildURLFromParts(D)},parseURL:function(c){var f=i.exec(c);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(a,"");c.length!==(c=c.replace(s,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};r.exports=l})()})(W2);const Wb=W2.exports;var Gb="http://example.com",yh=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=V.location&&V.location.href||"");var i=typeof V.URL=="function",t=/^\/\//.test(e),a=!V.location&&!/\/\//i.test(e);if(i?e=new V.URL(e,V.location||Gb):/\/\//i.test(e)||(e=Wb.buildAbsoluteURL(V.location&&V.location.href||"",e)),i){var s=new URL(n,e);return a?s.href.slice(Gb.length):t?s.href.slice(s.protocol.length):s.href}return Wb.buildAbsoluteURL(e,n)},Jv=function(){function r(){this.listeners={}}var e=r.prototype;return e.on=function(i,t){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(t)},e.off=function(i,t){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(t);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var t=this.listeners[i];if(!!t)if(arguments.length===2)for(var a=t.length,s=0;s<a;++s)t[s].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),c=t.length,f=0;f<c;++f)t[f].apply(this,l)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(t){i.push(t)})},r}(),h3=function(e){return V.atob?V.atob(e):Buffer.from(e,"base64").toString("binary")};function G2(r){for(var e=h3(r),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var p3=function(r){Ae(e,r);function e(){var i;return i=r.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(t){var a;for(this.buffer+=t,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(Jv),g3=String.fromCharCode(9),Og=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},m3=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},Hn=function(e){for(var n=e.split(m3()),i={},t=n.length,a;t--;)n[t]!==""&&(a=/([^=]*)=(.*)/.exec(n[t]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},v3=function(r){Ae(e,r);function e(){var i;return i=r.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(t){var a=this,s,l;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var c=this.tagMappers.reduce(function(f,h){var g=h(t);return g===t?f:f.concat([g])},[t]);c.forEach(function(f){for(var h=0;h<a.customParsers.length;h++)if(a.customParsers[h].call(a,f))return;if(f.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:f.slice(1)});return}if(f=f.replace("\r",""),s=/^#EXTM3U/.exec(f),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(f),s){l={type:"tag",tagType:"inf"},s[1]&&(l.duration=parseFloat(s[1])),s[2]&&(l.title=s[2]),a.trigger("data",l);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"targetduration"},s[1]&&(l.duration=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"version"},s[1]&&(l.version=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"media-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"playlist-type"},s[1]&&(l.playlistType=s[1]),a.trigger("data",l);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(f),s){l=Nn(Og(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",l);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(f),s){l={type:"tag",tagType:"allow-cache"},s[1]&&(l.allowed=!/NO/.test(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"map"},s[1]){var g=Hn(s[1]);g.URI&&(l.uri=g.URI),g.BYTERANGE&&(l.byterange=Og(g.BYTERANGE))}a.trigger("data",l);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"stream-inf"},s[1]){if(l.attributes=Hn(s[1]),l.attributes.RESOLUTION){var v=l.attributes.RESOLUTION.split("x"),T={};v[0]&&(T.width=parseInt(v[0],10)),v[1]&&(T.height=parseInt(v[1],10)),l.attributes.RESOLUTION=T}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["FRAME-RATE"]&&(l.attributes["FRAME-RATE"]=parseFloat(l.attributes["FRAME-RATE"])),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(f),s){l={type:"tag",tagType:"media"},s[1]&&(l.attributes=Hn(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-ENDLIST/.exec(f),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(f),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(f),s){l={type:"tag",tagType:"program-date-time"},s[1]&&(l.dateTimeString=s[1],l.dateTimeObject=new Date(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(f),s){l={type:"tag",tagType:"key"},s[1]&&(l.attributes=Hn(s[1]),l.attributes.IV&&(l.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),a.trigger("data",l);return}if(s=/^#EXT-X-START:?(.*)$/.exec(f),s){l={type:"tag",tagType:"start"},s[1]&&(l.attributes=Hn(s[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out-cont"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-in"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"skip"},l.attributes=Hn(s[1]),l.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(l.attributes["SKIPPED-SEGMENTS"]=parseInt(l.attributes["SKIPPED-SEGMENTS"],10)),l.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(l.attributes["RECENTLY-REMOVED-DATERANGES"]=l.attributes["RECENTLY-REMOVED-DATERANGES"].split(g3)),a.trigger("data",l);return}if(s=/^#EXT-X-PART:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part"},l.attributes=Hn(s[1]),["DURATION"].forEach(function(w){l.attributes.hasOwnProperty(w)&&(l.attributes[w]=parseFloat(l.attributes[w]))}),["INDEPENDENT","GAP"].forEach(function(w){l.attributes.hasOwnProperty(w)&&(l.attributes[w]=/YES/.test(l.attributes[w]))}),l.attributes.hasOwnProperty("BYTERANGE")&&(l.attributes.byterange=Og(l.attributes.BYTERANGE)),a.trigger("data",l);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"server-control"},l.attributes=Hn(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(w){l.attributes.hasOwnProperty(w)&&(l.attributes[w]=parseFloat(l.attributes[w]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(w){l.attributes.hasOwnProperty(w)&&(l.attributes[w]=/YES/.test(l.attributes[w]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part-inf"},l.attributes=Hn(s[1]),["PART-TARGET"].forEach(function(w){l.attributes.hasOwnProperty(w)&&(l.attributes[w]=parseFloat(l.attributes[w]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"preload-hint"},l.attributes=Hn(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(w){if(l.attributes.hasOwnProperty(w)){l.attributes[w]=parseInt(l.attributes[w],10);var D=w==="BYTERANGE-LENGTH"?"length":"offset";l.attributes.byterange=l.attributes.byterange||{},l.attributes.byterange[D]=l.attributes[w],delete l.attributes[w]}}),a.trigger("data",l);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"rendition-report"},l.attributes=Hn(s[1]),["LAST-MSN","LAST-PART"].forEach(function(w){l.attributes.hasOwnProperty(w)&&(l.attributes[w]=parseInt(l.attributes[w],10))}),a.trigger("data",l);return}a.trigger("data",{type:"tag",data:f.slice(4)})})}},n.addParser=function(t){var a=this,s=t.expression,l=t.customType,c=t.dataParser,f=t.segment;typeof c!="function"&&(c=function(g){return g}),this.customParsers.push(function(h){var g=s.exec(h);if(g)return a.trigger("data",{type:"custom",data:c(h),customType:l,segment:f}),!0})},n.addTagMapper=function(t){var a=t.expression,s=t.map,l=function(f){return a.test(f)?s(f):f};this.tagMappers.push(l)},e}(Jv),_3=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},bo=function(e){var n={};return Object.keys(e).forEach(function(i){n[_3(i)]=e[i]}),n},Lg=function(e){var n=e.serverControl,i=e.targetDuration,t=e.partTargetDuration;if(!!n){var a="#EXT-X-SERVER-CONTROL",s="holdBack",l="partHoldBack",c=i&&i*3,f=t&&t*2;i&&!n.hasOwnProperty(s)&&(n[s]=c,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+c+")."})),c&&n[s]<c&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+n[s]+") to targetDuration * 3 ("+c+")"}),n[s]=c),t&&!n.hasOwnProperty(l)&&(n[l]=t*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[l]+")."})),t&&n[l]<f&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+n[l]+") to partTargetDuration * 2 ("+f+")."}),n[l]=f)}},y3=function(r){Ae(e,r);function e(){var i;i=r.call(this)||this,i.lineStream=new p3,i.parseStream=new v3,i.lineStream.pipe(i.parseStream);var t=tt(i),a=[],s={},l,c,f=!1,h=function(){},g={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},v="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",T=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var w=0,D=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&l&&(s.map=l),!s.key&&c&&(s.key=c),!s.timeline&&typeof T=="number"&&(s.timeline=T),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(P){var R,M;({tag:function(){({version:function(){P.version&&(this.manifest.version=P.version)},"allow-cache":function(){this.manifest.allowCache=P.allowed,"allowed"in P||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var J={};"length"in P&&(s.byterange=J,J.length=P.length,"offset"in P||(P.offset=w)),"offset"in P&&(s.byterange=J,J.offset=P.offset),w=J.offset+J.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),P.duration>0&&(s.duration=P.duration),P.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!P.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(P.attributes.METHOD==="NONE"){c=null;return}if(!P.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(P.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:P.attributes};return}if(P.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:P.attributes.URI};return}if(P.attributes.KEYFORMAT===v){var J=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(J.indexOf(P.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(P.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),P.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(P.attributes.KEYID&&P.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:P.attributes.KEYFORMAT,keyId:P.attributes.KEYID.substring(2)},pssh:G2(P.attributes.URI.split(",")[1])};return}P.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),c={method:P.attributes.METHOD||"AES-128",uri:P.attributes.URI},typeof P.attributes.IV<"u"&&(c.iv=P.attributes.IV)},"media-sequence":function(){if(!isFinite(P.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+P.number});return}this.manifest.mediaSequence=P.number},"discontinuity-sequence":function(){if(!isFinite(P.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+P.number});return}this.manifest.discontinuitySequence=P.number,T=P.number},"playlist-type":function(){if(!/VOD|EVENT/.test(P.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+P.playlist});return}this.manifest.playlistType=P.playlistType},map:function(){l={},P.uri&&(l.uri=P.uri),P.byterange&&(l.byterange=P.byterange),c&&(l.key=c)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||g,!P.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Nn(s.attributes,P.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||g,!(P.attributes&&P.attributes.TYPE&&P.attributes["GROUP-ID"]&&P.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var J=this.manifest.mediaGroups[P.attributes.TYPE];J[P.attributes["GROUP-ID"]]=J[P.attributes["GROUP-ID"]]||{},R=J[P.attributes["GROUP-ID"]],M={default:/yes/i.test(P.attributes.DEFAULT)},M.default?M.autoselect=!0:M.autoselect=/yes/i.test(P.attributes.AUTOSELECT),P.attributes.LANGUAGE&&(M.language=P.attributes.LANGUAGE),P.attributes.URI&&(M.uri=P.attributes.URI),P.attributes["INSTREAM-ID"]&&(M.instreamId=P.attributes["INSTREAM-ID"]),P.attributes.CHARACTERISTICS&&(M.characteristics=P.attributes.CHARACTERISTICS),P.attributes.FORCED&&(M.forced=/yes/i.test(P.attributes.FORCED)),R[P.attributes.NAME]=M},discontinuity:function(){T+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=P.dateTimeString,this.manifest.dateTimeObject=P.dateTimeObject),s.dateTimeString=P.dateTimeString,s.dateTimeObject=P.dateTimeObject},targetduration:function(){if(!isFinite(P.duration)||P.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+P.duration});return}this.manifest.targetDuration=P.duration,Lg.call(this,this.manifest)},start:function(){if(!P.attributes||isNaN(P.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:P.attributes["TIME-OFFSET"],precise:P.attributes.PRECISE}},"cue-out":function(){s.cueOut=P.data},"cue-out-cont":function(){s.cueOutCont=P.data},"cue-in":function(){s.cueIn=P.data},skip:function(){this.manifest.skip=bo(P.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",P.attributes,["SKIPPED-SEGMENTS"])},part:function(){var J=this;f=!0;var te=this.manifest.segments.length,$=bo(P.attributes);s.parts=s.parts||[],s.parts.push($),$.byterange&&($.byterange.hasOwnProperty("offset")||($.byterange.offset=D),D=$.byterange.offset+$.byterange.length);var H=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+H+" for segment #"+te,P.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(X,K){X.hasOwnProperty("lastPart")||J.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+K+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var J=this.manifest.serverControl=bo(P.attributes);J.hasOwnProperty("canBlockReload")||(J.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Lg.call(this,this.manifest),J.canSkipDateranges&&!J.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var J=this.manifest.segments.length,te=bo(P.attributes),$=te.type&&te.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(te),te.byterange&&(te.byterange.hasOwnProperty("offset")||(te.byterange.offset=$?D:0,$&&(D=te.byterange.offset+te.byterange.length)));var H=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+H+" for segment #"+J,P.attributes,["TYPE","URI"]),!!te.type)for(var X=0;X<s.preloadHints.length-1;X++){var K=s.preloadHints[X];!K.type||K.type===te.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+H+" for segment #"+J+" has the same TYPE "+te.type+" as preload hint #"+X})}},"rendition-report":function(){var J=bo(P.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(J);var te=this.manifest.renditionReports.length-1,$=["LAST-MSN","URI"];f&&$.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+te,P.attributes,$)},"part-inf":function(){this.manifest.partInf=bo(P.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",P.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Lg.call(this,this.manifest)}}[P.tagType]||h).call(t)},uri:function(){s.uri=P.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),c&&(s.key=c),s.timeline=T,l&&(s.map=l),D=0,s={}},comment:function(){},custom:function(){P.segment?(s.custom=s.custom||{},s.custom[P.customType]=P.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[P.customType]=P.data)}})[P.type].call(t)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(t,a,s){var l=[];s.forEach(function(c){a.hasOwnProperty(c)||l.push(c)}),l.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+l.join(", ")})},n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(Jv),Ns={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},b3=["video","audio","text"],zb=["Video","Audio","Text"],z2=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,t){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+a+"00"+s})},di=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(t){t=t.trim();var a;b3.forEach(function(s){var l=Ns[s].exec(t.toLowerCase());if(!(!l||l.length<=1)){a=s;var c=t.substring(0,l[1].length),f=t.replace(c,"");i.push({type:c,details:f,mediaType:s})}}),a||i.push({type:t,details:"",mediaType:"unknown"})}),i},T3=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var t in i){var a=i[t];if(a.default&&a.playlists)return di(a.playlists[0].attributes.CODECS)}return null},K2=function(e){return e===void 0&&(e=""),Ns.audio.test(e.trim().toLowerCase())},S3=function(e){return e===void 0&&(e=""),Ns.text.test(e.trim().toLowerCase())},ql=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return z2(a.trim())}),i="video";n.length===1&&K2(n[0])?i="audio":n.length===1&&S3(n[0])&&(i="application");var t="mp4";return n.every(function(a){return Ns.mp4.test(a)})?t="mp4":n.every(function(a){return Ns.webm.test(a)})?t="webm":n.every(function(a){return Ns.ogg.test(a)})&&(t="ogg"),i+"/"+t+';codecs="'+e+'"'}},Zd=function(e){return e===void 0&&(e=""),V.MediaSource&&V.MediaSource.isTypeSupported&&V.MediaSource.isTypeSupported(ql(e))||!1},Rg=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<zb.length;i++){var t=zb[i];if(Ns["muxer"+t].test(n))return!0}return!1})},Kb="mp4a.40.2",x3="avc1.4d400d",E3=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,w3=/^application\/dash\+xml/i,X2=function(e){return E3.test(e)?"hls":w3.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},C3=function(e){return e.toString(2).length},A3=function(e){return Math.ceil(C3(e)/8)},J2=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},k3=function(e){return J2(e)},We=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!k3(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Cr=V.BigInt||Number,Mm=[Cr("0x1"),Cr("0x100"),Cr("0x10000"),Cr("0x1000000"),Cr("0x100000000"),Cr("0x10000000000"),Cr("0x1000000000000"),Cr("0x100000000000000"),Cr("0x10000000000000000")];(function(){var r=new Uint16Array([65484]),e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var D3=function(e,n){var i=n===void 0?{}:n,t=i.signed,a=t===void 0?!1:t,s=i.le,l=s===void 0?!1:s;e=We(e);var c=l?"reduce":"reduceRight",f=e[c]?e[c]:Array.prototype[c],h=f.call(e,function(v,T,w){var D=l?w:Math.abs(w+1-e.length);return v+Cr(T)*Mm[D]},Cr(0));if(a){var g=Mm[e.length]/Cr(2)-Cr(1);h=Cr(h),h>g&&(h-=g,h-=g,h-=Cr(2))}return Number(h)},P3=function(e,n){var i=n===void 0?{}:n,t=i.le,a=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Cr(e);for(var s=A3(e),l=new Uint8Array(new ArrayBuffer(s)),c=0;c<s;c++){var f=a?c:Math.abs(c+1-l.length);l[f]=Number(e/Mm[c]&Cr(255)),e<0&&(l[f]=Math.abs(~l[f]),l[f]-=c===0?1:2)}return l},Y2=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i},I3=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(l){return l&&(l.byteLength||l.length)&&typeof l!="string"}),n.length<=1)return We(n[0]);var t=n.reduce(function(l,c,f){return l+(c.byteLength||c.length)},0),a=new Uint8Array(t),s=0;return n.forEach(function(l){l=We(l),a.set(l,s),s+=l.byteLength}),a},Wt=function(e,n,i){var t=i===void 0?{}:i,a=t.offset,s=a===void 0?0:a,l=t.mask,c=l===void 0?[]:l;e=We(e),n=We(n);var f=n.every?n.every:Array.prototype.every;return n.length&&e.length-s>=n.length&&f.call(n,function(h,g){var v=c[g]?c[g]&e[s+g]:e[s+g];return h===v})},O3=function(e,n,i){n.forEach(function(t){for(var a in e.mediaGroups[t])for(var s in e.mediaGroups[t][a]){var l=e.mediaGroups[t][a][s];i(l,t,a,s)}})},Qa={},fa={};function L3(r,e,n){if(n===void 0&&(n=Array.prototype),r&&typeof n.find=="function")return n.find.call(r,e);for(var i=0;i<r.length;i++)if(Object.prototype.hasOwnProperty.call(r,i)){var t=r[i];if(e.call(void 0,t,i,r))return t}}function Yv(r,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(r):r}function R3(r,e){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var Q2=Yv({HTML:"text/html",isHTML:function(r){return r===Q2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Z2=Yv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===Z2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});fa.assign=R3;fa.find=L3;fa.freeze=Yv;fa.MIME_TYPE=Q2;fa.NAMESPACE=Z2;var eE=fa,Ti=eE.find,Wl=eE.NAMESPACE;function N3(r){return r!==""}function F3(r){return r?r.split(/[\t\n\f\r ]+/).filter(N3):[]}function M3(r,e){return r.hasOwnProperty(e)||(r[e]=!0),r}function Xb(r){if(!r)return[];var e=F3(r);return Object.keys(e.reduce(M3,{}))}function B3(r){return function(e){return r&&r.indexOf(e)!==-1}}function fc(r,e){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}function cn(r,e){var n=r.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,fc(n,i),r.prototype=n=i}n.constructor!=r&&(typeof r!="function"&&console.error("unknown Class:"+r),n.constructor=r)}var dn={},Xn=dn.ELEMENT_NODE=1,Xo=dn.ATTRIBUTE_NODE=2,Ef=dn.TEXT_NODE=3,tE=dn.CDATA_SECTION_NODE=4,rE=dn.ENTITY_REFERENCE_NODE=5,U3=dn.ENTITY_NODE=6,nE=dn.PROCESSING_INSTRUCTION_NODE=7,iE=dn.COMMENT_NODE=8,aE=dn.DOCUMENT_NODE=9,sE=dn.DOCUMENT_TYPE_NODE=10,ia=dn.DOCUMENT_FRAGMENT_NODE=11,j3=dn.NOTATION_NODE=12,qr={},br={};qr.INDEX_SIZE_ERR=(br[1]="Index size error",1);qr.DOMSTRING_SIZE_ERR=(br[2]="DOMString size error",2);var on=qr.HIERARCHY_REQUEST_ERR=(br[3]="Hierarchy request error",3);qr.WRONG_DOCUMENT_ERR=(br[4]="Wrong document",4);qr.INVALID_CHARACTER_ERR=(br[5]="Invalid character",5);qr.NO_DATA_ALLOWED_ERR=(br[6]="No data allowed",6);qr.NO_MODIFICATION_ALLOWED_ERR=(br[7]="No modification allowed",7);var oE=qr.NOT_FOUND_ERR=(br[8]="Not found",8);qr.NOT_SUPPORTED_ERR=(br[9]="Not supported",9);var Jb=qr.INUSE_ATTRIBUTE_ERR=(br[10]="Attribute in use",10);qr.INVALID_STATE_ERR=(br[11]="Invalid state",11);qr.SYNTAX_ERR=(br[12]="Syntax error",12);qr.INVALID_MODIFICATION_ERR=(br[13]="Invalid modification",13);qr.NAMESPACE_ERR=(br[14]="Invalid namespace",14);qr.INVALID_ACCESS_ERR=(br[15]="Invalid access",15);function nr(r,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,br[r]),this.message=br[r],Error.captureStackTrace&&Error.captureStackTrace(this,nr);return n.code=r,e&&(this.message=this.message+": "+e),n}nr.prototype=Error.prototype;fc(qr,nr);function ea(){}ea.prototype={length:0,item:function(r){return r>=0&&r<this.length?this[r]:null},toString:function(r,e){for(var n=[],i=0;i<this.length;i++)Do(this[i],n,r,e);return n.join("")},filter:function(r){return Array.prototype.filter.call(this,r)},indexOf:function(r){return Array.prototype.indexOf.call(this,r)}};function Jo(r,e){this._node=r,this._refresh=e,Qv(this)}function Qv(r){var e=r._node._inc||r._node.ownerDocument._inc;if(r._inc!==e){var n=r._refresh(r._node);if(yE(r,"length",n.length),!r.$$length||n.length<r.$$length)for(var i=n.length;i in r;i++)Object.prototype.hasOwnProperty.call(r,i)&&delete r[i];fc(n,r),r._inc=e}}Jo.prototype.item=function(r){return Qv(this),this[r]||null};cn(Jo,ea);function wf(){}function uE(r,e){for(var n=r.length;n--;)if(r[n]===e)return n}function Yb(r,e,n,i){if(i?e[uE(e,i)]=n:e[e.length++]=n,r){n.ownerElement=r;var t=r.ownerDocument;t&&(i&&dE(t,r,i),$3(t,r,n))}}function Qb(r,e,n){var i=uE(e,n);if(i>=0){for(var t=e.length-1;i<t;)e[i]=e[++i];if(e.length=t,r){var a=r.ownerDocument;a&&(dE(a,r,n),n.ownerElement=null)}}else throw new nr(oE,new Error(r.tagName+"@"+n))}wf.prototype={length:0,item:ea.prototype.item,getNamedItem:function(r){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==r)return n}},setNamedItem:function(r){var e=r.ownerElement;if(e&&e!=this._ownerElement)throw new nr(Jb);var n=this.getNamedItem(r.nodeName);return Yb(this._ownerElement,this,r,n),n},setNamedItemNS:function(r){var e=r.ownerElement,n;if(e&&e!=this._ownerElement)throw new nr(Jb);return n=this.getNamedItemNS(r.namespaceURI,r.localName),Yb(this._ownerElement,this,r,n),n},removeNamedItem:function(r){var e=this.getNamedItem(r);return Qb(this._ownerElement,this,e),e},removeNamedItemNS:function(r,e){var n=this.getNamedItemNS(r,e);return Qb(this._ownerElement,this,n),n},getNamedItemNS:function(r,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==r)return i}return null}};function lE(){}lE.prototype={hasFeature:function(r,e){return!0},createDocument:function(r,e,n){var i=new hc;if(i.implementation=this,i.childNodes=new ea,i.doctype=n||null,n&&i.appendChild(n),e){var t=i.createElementNS(r,e);i.appendChild(t)}return i},createDocumentType:function(r,e,n){var i=new bh;return i.name=r,i.nodeName=r,i.publicId=e||"",i.systemId=n||"",i}};function Ct(){}Ct.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,e){return Cf(this,r,e)},replaceChild:function(r,e){Cf(this,r,e,hE),e&&this.removeChild(e)},removeChild:function(r){return fE(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return Bm(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var e=r.nextSibling;e&&e.nodeType==Ef&&r.nodeType==Ef?(this.removeChild(e),r.appendData(e.data)):(r.normalize(),r=e)}},isSupported:function(r,e){return this.ownerDocument.implementation.hasFeature(r,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===r)return i}e=e.nodeType==Xo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(r){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r];e=e.nodeType==Xo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(r){var e=this.lookupPrefix(r);return e==null}};function cE(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}fc(dn,Ct);fc(dn,Ct.prototype);function Gl(r,e){if(e(r))return!0;if(r=r.firstChild)do if(Gl(r,e))return!0;while(r=r.nextSibling)}function hc(){this.ownerDocument=this}function $3(r,e,n){r&&r._inc++;var i=n.namespaceURI;i===Wl.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function dE(r,e,n,i){r&&r._inc++;var t=n.namespaceURI;t===Wl.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function Zv(r,e,n){if(r&&r._inc){r._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var t=e.firstChild,a=0;t;)i[a++]=t,t=t.nextSibling;i.length=a,delete i[i.length]}}}function fE(r,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:r.firstChild=i,i?i.previousSibling=n:r.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Zv(r.ownerDocument,r),e}function H3(r){return r&&(r.nodeType===Ct.DOCUMENT_NODE||r.nodeType===Ct.DOCUMENT_FRAGMENT_NODE||r.nodeType===Ct.ELEMENT_NODE)}function V3(r){return r&&(Si(r)||e0(r)||aa(r)||r.nodeType===Ct.DOCUMENT_FRAGMENT_NODE||r.nodeType===Ct.COMMENT_NODE||r.nodeType===Ct.PROCESSING_INSTRUCTION_NODE)}function aa(r){return r&&r.nodeType===Ct.DOCUMENT_TYPE_NODE}function Si(r){return r&&r.nodeType===Ct.ELEMENT_NODE}function e0(r){return r&&r.nodeType===Ct.TEXT_NODE}function Zb(r,e){var n=r.childNodes||[];if(Ti(n,Si)||aa(e))return!1;var i=Ti(n,aa);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function eT(r,e){var n=r.childNodes||[];function i(a){return Si(a)&&a!==e}if(Ti(n,i))return!1;var t=Ti(n,aa);return!(e&&t&&n.indexOf(t)>n.indexOf(e))}function q3(r,e,n){if(!H3(r))throw new nr(on,"Unexpected parent node type "+r.nodeType);if(n&&n.parentNode!==r)throw new nr(oE,"child not in parent");if(!V3(e)||aa(e)&&r.nodeType!==Ct.DOCUMENT_NODE)throw new nr(on,"Unexpected node type "+e.nodeType+" for parent node type "+r.nodeType)}function W3(r,e,n){var i=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===Ct.DOCUMENT_FRAGMENT_NODE){var a=t.filter(Si);if(a.length>1||Ti(t,e0))throw new nr(on,"More than one element or text in fragment");if(a.length===1&&!Zb(r,n))throw new nr(on,"Element in fragment can not be inserted before doctype")}if(Si(e)&&!Zb(r,n))throw new nr(on,"Only one element can be added and only after doctype");if(aa(e)){if(Ti(i,aa))throw new nr(on,"Only one doctype is allowed");var s=Ti(i,Si);if(n&&i.indexOf(s)<i.indexOf(n))throw new nr(on,"Doctype can only be inserted before an element");if(!n&&s)throw new nr(on,"Doctype can not be appended since element is present")}}function hE(r,e,n){var i=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===Ct.DOCUMENT_FRAGMENT_NODE){var a=t.filter(Si);if(a.length>1||Ti(t,e0))throw new nr(on,"More than one element or text in fragment");if(a.length===1&&!eT(r,n))throw new nr(on,"Element in fragment can not be inserted before doctype")}if(Si(e)&&!eT(r,n))throw new nr(on,"Only one element can be added and only after doctype");if(aa(e)){if(Ti(i,function(c){return aa(c)&&c!==n}))throw new nr(on,"Only one doctype is allowed");var s=Ti(i,Si);if(n&&i.indexOf(s)<i.indexOf(n))throw new nr(on,"Doctype can only be inserted before an element")}}function Cf(r,e,n,i){q3(r,e,n),r.nodeType===Ct.DOCUMENT_NODE&&(i||W3)(r,e,n);var t=e.parentNode;if(t&&t.removeChild(e),e.nodeType===ia){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var l=n?n.previousSibling:r.lastChild;a.previousSibling=l,s.nextSibling=n,l?l.nextSibling=a:r.firstChild=a,n==null?r.lastChild=s:n.previousSibling=s;do a.parentNode=r;while(a!==s&&(a=a.nextSibling));return Zv(r.ownerDocument||r,r),e.nodeType==ia&&(e.firstChild=e.lastChild=null),e}function G3(r,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=r,e.previousSibling=r.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:r.firstChild=e,r.lastChild=e,Zv(r.ownerDocument,r,e),e}hc.prototype={nodeName:"#document",nodeType:aE,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,e){if(r.nodeType==ia){for(var n=r.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return r}return Cf(this,r,e),r.ownerDocument=this,this.documentElement===null&&r.nodeType===Xn&&(this.documentElement=r),r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),fE(this,r)},replaceChild:function(r,e){Cf(this,r,e,hE),r.ownerDocument=this,e&&this.removeChild(e),Si(r)&&(this.documentElement=r)},importNode:function(r,e){return _E(this,r,e)},getElementById:function(r){var e=null;return Gl(this.documentElement,function(n){if(n.nodeType==Xn&&n.getAttribute("id")==r)return e=n,!0}),e},getElementsByClassName:function(r){var e=Xb(r);return new Jo(this,function(n){var i=[];return e.length>0&&Gl(n.documentElement,function(t){if(t!==n&&t.nodeType===Xn){var a=t.getAttribute("class");if(a){var s=r===a;if(!s){var l=Xb(a);s=e.every(B3(l))}s&&i.push(t)}}}),i})},createElement:function(r){var e=new Ws;e.ownerDocument=this,e.nodeName=r,e.tagName=r,e.localName=r,e.childNodes=new ea;var n=e.attributes=new wf;return n._ownerElement=e,e},createDocumentFragment:function(){var r=new Th;return r.ownerDocument=this,r.childNodes=new ea,r},createTextNode:function(r){var e=new t0;return e.ownerDocument=this,e.appendData(r),e},createComment:function(r){var e=new r0;return e.ownerDocument=this,e.appendData(r),e},createCDATASection:function(r){var e=new n0;return e.ownerDocument=this,e.appendData(r),e},createProcessingInstruction:function(r,e){var n=new a0;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=r,n.nodeValue=n.data=e,n},createAttribute:function(r){var e=new Af;return e.ownerDocument=this,e.name=r,e.nodeName=r,e.localName=r,e.specified=!0,e},createEntityReference:function(r){var e=new i0;return e.ownerDocument=this,e.nodeName=r,e},createElementNS:function(r,e){var n=new Ws,i=e.split(":"),t=n.attributes=new wf;return n.childNodes=new ea,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=r,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,t._ownerElement=n,n},createAttributeNS:function(r,e){var n=new Af,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=r,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};cn(hc,Ct);function Ws(){this._nsMap={}}Ws.prototype={nodeType:Xn,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var e=this.getAttributeNode(r);return e&&e.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,e){var n=this.ownerDocument.createAttribute(r);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(r){var e=this.getAttributeNode(r);e&&this.removeAttributeNode(e)},appendChild:function(r){return r.nodeType===ia?this.insertBefore(r,null):G3(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,e){var n=this.getAttributeNodeNS(r,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(r,e){return this.getAttributeNodeNS(r,e)!=null},getAttributeNS:function(r,e){var n=this.getAttributeNodeNS(r,e);return n&&n.value||""},setAttributeNS:function(r,e,n){var i=this.ownerDocument.createAttributeNS(r,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(r,e){return this.attributes.getNamedItemNS(r,e)},getElementsByTagName:function(r){return new Jo(this,function(e){var n=[];return Gl(e,function(i){i!==e&&i.nodeType==Xn&&(r==="*"||i.tagName==r)&&n.push(i)}),n})},getElementsByTagNameNS:function(r,e){return new Jo(this,function(n){var i=[];return Gl(n,function(t){t!==n&&t.nodeType===Xn&&(r==="*"||t.namespaceURI===r)&&(e==="*"||t.localName==e)&&i.push(t)}),i})}};hc.prototype.getElementsByTagName=Ws.prototype.getElementsByTagName;hc.prototype.getElementsByTagNameNS=Ws.prototype.getElementsByTagNameNS;cn(Ws,Ct);function Af(){}Af.prototype.nodeType=Xo;cn(Af,Ct);function pc(){}pc.prototype={data:"",substringData:function(r,e){return this.data.substring(r,r+e)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,e){this.replaceData(r,0,e)},appendChild:function(r){throw new Error(br[on])},deleteData:function(r,e){this.replaceData(r,e,"")},replaceData:function(r,e,n){var i=this.data.substring(0,r),t=this.data.substring(r+e);n=i+n+t,this.nodeValue=this.data=n,this.length=n.length}};cn(pc,Ct);function t0(){}t0.prototype={nodeName:"#text",nodeType:Ef,splitText:function(r){var e=this.data,n=e.substring(r);e=e.substring(0,r),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};cn(t0,pc);function r0(){}r0.prototype={nodeName:"#comment",nodeType:iE};cn(r0,pc);function n0(){}n0.prototype={nodeName:"#cdata-section",nodeType:tE};cn(n0,pc);function bh(){}bh.prototype.nodeType=sE;cn(bh,Ct);function pE(){}pE.prototype.nodeType=j3;cn(pE,Ct);function gE(){}gE.prototype.nodeType=U3;cn(gE,Ct);function i0(){}i0.prototype.nodeType=rE;cn(i0,Ct);function Th(){}Th.prototype.nodeName="#document-fragment";Th.prototype.nodeType=ia;cn(Th,Ct);function a0(){}a0.prototype.nodeType=nE;cn(a0,Ct);function mE(){}mE.prototype.serializeToString=function(r,e,n){return vE.call(r,e,n)};Ct.prototype.toString=vE;function vE(r,e){var n=[],i=this.nodeType==9&&this.documentElement||this,t=i.prefix,a=i.namespaceURI;if(a&&t==null){var t=i.lookupPrefix(a);if(t==null)var s=[{namespace:a,prefix:null}]}return Do(this,n,r,e,s),n.join("")}function tT(r,e,n){var i=r.prefix||"",t=r.namespaceURI;if(!t||i==="xml"&&t===Wl.XML||t===Wl.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==t}return!0}function Ng(r,e,n){r.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,cE),'"')}function Do(r,e,n,i,t){if(t||(t=[]),i)if(r=i(r),r){if(typeof r=="string"){e.push(r);return}}else return;switch(r.nodeType){case Xn:var a=r.attributes,s=a.length,R=r.firstChild,l=r.tagName;n=Wl.isHTML(r.namespaceURI)||n;var c=l;if(!n&&!r.prefix&&r.namespaceURI){for(var f,h=0;h<a.length;h++)if(a.item(h).name==="xmlns"){f=a.item(h).value;break}if(!f)for(var g=t.length-1;g>=0;g--){var v=t[g];if(v.prefix===""&&v.namespace===r.namespaceURI){f=v.namespace;break}}if(f!==r.namespaceURI)for(var g=t.length-1;g>=0;g--){var v=t[g];if(v.namespace===r.namespaceURI){v.prefix&&(c=v.prefix+":"+l);break}}}e.push("<",c);for(var T=0;T<s;T++){var w=a.item(T);w.prefix=="xmlns"?t.push({prefix:w.localName,namespace:w.value}):w.nodeName=="xmlns"&&t.push({prefix:"",namespace:w.value})}for(var T=0;T<s;T++){var w=a.item(T);if(tT(w,n,t)){var D=w.prefix||"",P=w.namespaceURI;Ng(e,D?"xmlns:"+D:"xmlns",P),t.push({prefix:D,namespace:P})}Do(w,e,n,i,t)}if(l===c&&tT(r,n,t)){var D=r.prefix||"",P=r.namespaceURI;Ng(e,D?"xmlns:"+D:"xmlns",P),t.push({prefix:D,namespace:P})}if(R||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;R;)R.data?e.push(R.data):Do(R,e,n,i,t.slice()),R=R.nextSibling;else for(;R;)Do(R,e,n,i,t.slice()),R=R.nextSibling;e.push("</",c,">")}else e.push("/>");return;case aE:case ia:for(var R=r.firstChild;R;)Do(R,e,n,i,t.slice()),R=R.nextSibling;return;case Xo:return Ng(e,r.name,r.value);case Ef:return e.push(r.data.replace(/[<&>]/g,cE));case tE:return e.push("<![CDATA[",r.data,"]]>");case iE:return e.push("<!--",r.data,"-->");case sE:var M=r.publicId,U=r.systemId;if(e.push("<!DOCTYPE ",r.name),M)e.push(" PUBLIC ",M),U&&U!="."&&e.push(" ",U),e.push(">");else if(U&&U!=".")e.push(" SYSTEM ",U,">");else{var j=r.internalSubset;j&&e.push(" [",j,"]"),e.push(">")}return;case nE:return e.push("<?",r.target," ",r.data,"?>");case rE:return e.push("&",r.nodeName,";");default:e.push("??",r.nodeName)}}function _E(r,e,n){var i;switch(e.nodeType){case Xn:i=e.cloneNode(!1),i.ownerDocument=r;case ia:break;case Xo:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=r,i.parentNode=null,n)for(var t=e.firstChild;t;)i.appendChild(_E(r,t,n)),t=t.nextSibling;return i}function Bm(r,e,n){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];typeof a!="object"&&a!=i[t]&&(i[t]=a)}switch(e.childNodes&&(i.childNodes=new ea),i.ownerDocument=r,i.nodeType){case Xn:var s=e.attributes,l=i.attributes=new wf,c=s.length;l._ownerElement=i;for(var f=0;f<c;f++)i.setAttributeNode(Bm(r,s.item(f),!0));break;case Xo:n=!0}if(n)for(var h=e.firstChild;h;)i.appendChild(Bm(r,h,n)),h=h.nextSibling;return i}function yE(r,e,n){r[e]=n}try{if(Object.defineProperty){let r=function(e){switch(e.nodeType){case Xn:case ia:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(r(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(Jo.prototype,"length",{get:function(){return Qv(this),this.$$length}}),Object.defineProperty(Ct.prototype,"textContent",{get:function(){return r(this)},set:function(e){switch(this.nodeType){case Xn:case ia:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),yE=function(e,n,i){e["$$"+n]=i}}}catch{}Qa.DocumentType=bh;Qa.DOMException=nr;Qa.DOMImplementation=lE;Qa.Element=Ws;Qa.Node=Ct;Qa.NodeList=ea;Qa.XMLSerializer=mE;var Sh={},bE={};(function(r){var e=fa.freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}),r.entityMap=r.HTML_ENTITIES})(bE);var s0={},zl=fa.NAMESPACE,Um=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,rT=new RegExp("[\\-\\.0-9"+Um.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),nT=new RegExp("^"+Um.source+rT.source+"*(?::"+Um.source+rT.source+"*)?$"),sl=0,Na=1,To=2,ol=3,So=4,xo=5,ul=6,Id=7;function Yo(r,e){this.message=r,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Yo)}Yo.prototype=new Error;Yo.prototype.name=Yo.name;function TE(){}TE.prototype={parse:function(r,e,n){var i=this.domBuilder;i.startDocument(),SE(e,e={}),z3(r,e,n,i,this.errorHandler),i.endDocument()}};function z3(r,e,n,i,t){function a(De){if(De>65535){De-=65536;var me=55296+(De>>10),we=56320+(De&1023);return String.fromCharCode(me,we)}else return String.fromCharCode(De)}function s(De){var me=De.slice(1,-1);return Object.hasOwnProperty.call(n,me)?n[me]:me.charAt(0)==="#"?a(parseInt(me.substr(1).replace("x","0x"))):(t.error("entity not found:"+De),De)}function l(De){if(De>D){var me=r.substring(D,De).replace(/&#?\w+;/g,s);v&&c(D),i.characters(me,0,De-D),D=De}}function c(De,me){for(;De>=h&&(me=g.exec(r));)f=me.index,h=f+me[0].length,v.lineNumber++;v.columnNumber=De-f+1}for(var f=0,h=0,g=/.*(?:\r\n?|\n)|.*$/g,v=i.locator,T=[{currentNSMap:e}],w={},D=0;;){try{var P=r.indexOf("<",D);if(P<0){if(!r.substr(D).match(/^\s*$/)){var R=i.doc,M=R.createTextNode(r.substr(D));R.appendChild(M),i.currentElement=M}return}switch(P>D&&l(P),r.charAt(P+1)){case"/":var ee=r.indexOf(">",P+3),U=r.substring(P+2,ee).replace(/[ \t\n\r]+$/g,""),j=T.pop();ee<0?(U=r.substring(P+2).replace(/[\s<].*/,""),t.error("end tag name: "+U+" is not complete:"+j.tagName),ee=P+1+U.length):U.match(/\s</)&&(U=U.replace(/[\s<].*/,""),t.error("end tag name: "+U+" maybe not complete"),ee=P+1+U.length);var J=j.localNSMap,te=j.tagName==U,$=te||j.tagName&&j.tagName.toLowerCase()==U.toLowerCase();if($){if(i.endElement(j.uri,j.localName,U),J)for(var H in J)Object.prototype.hasOwnProperty.call(J,H)&&i.endPrefixMapping(H);te||t.fatalError("end tag name: "+U+" is not match the current start tagName:"+j.tagName)}else T.push(j);ee++;break;case"?":v&&c(P),ee=Q3(r,P,i);break;case"!":v&&c(P),ee=Y3(r,P,i,t);break;default:v&&c(P);var X=new xE,K=T[T.length-1].currentNSMap,ee=K3(r,P,X,K,s,t),Z=X.length;if(!X.closed&&J3(r,ee,X.tagName,w)&&(X.closed=!0,n.nbsp||t.warning("unclosed xml attribute")),v&&Z){for(var le=iT(v,{}),Be=0;Be<Z;Be++){var je=X[Be];c(je.offset),je.locator=iT(v,{})}i.locator=le,aT(X,i,K)&&T.push(X),i.locator=v}else aT(X,i,K)&&T.push(X);zl.isHTML(X.uri)&&!X.closed?ee=X3(r,ee,X.tagName,s,i):ee++}}catch(De){if(De instanceof Yo)throw De;t.error("element parse error: "+De),ee=-1}ee>D?D=ee:l(Math.max(P,D)+1)}}function iT(r,e){return e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber,e}function K3(r,e,n,i,t,a){function s(v,T,w){n.attributeNames.hasOwnProperty(v)&&a.fatalError("Attribute "+v+" redefined"),n.addValue(v,T.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,t),w)}for(var l,c,f=++e,h=sl;;){var g=r.charAt(f);switch(g){case"=":if(h===Na)l=r.slice(e,f),h=ol;else if(h===To)h=ol;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===ol||h===Na)if(h===Na&&(a.warning('attribute value must after "="'),l=r.slice(e,f)),e=f+1,f=r.indexOf(g,e),f>0)c=r.slice(e,f),s(l,c,e-1),h=xo;else throw new Error("attribute value no end '"+g+"' match");else if(h==So)c=r.slice(e,f),s(l,c,e),a.warning('attribute "'+l+'" missed start quot('+g+")!!"),e=f+1,h=xo;else throw new Error('attribute value must after "="');break;case"/":switch(h){case sl:n.setTagName(r.slice(e,f));case xo:case ul:case Id:h=Id,n.closed=!0;case So:case Na:break;case To:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),h==sl&&n.setTagName(r.slice(e,f)),f;case">":switch(h){case sl:n.setTagName(r.slice(e,f));case xo:case ul:case Id:break;case So:case Na:c=r.slice(e,f),c.slice(-1)==="/"&&(n.closed=!0,c=c.slice(0,-1));case To:h===To&&(c=l),h==So?(a.warning('attribute "'+c+'" missed quot(")!'),s(l,c,e)):((!zl.isHTML(i[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),s(c,c,e));break;case ol:throw new Error("attribute value missed!!")}return f;case"\x80":g=" ";default:if(g<=" ")switch(h){case sl:n.setTagName(r.slice(e,f)),h=ul;break;case Na:l=r.slice(e,f),h=To;break;case So:var c=r.slice(e,f);a.warning('attribute "'+c+'" missed quot(")!!'),s(l,c,e);case xo:h=ul;break}else switch(h){case To:n.tagName,(!zl.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,e),e=f,h=Na;break;case xo:a.warning('attribute space is required"'+l+'"!!');case ul:h=Na,e=f;break;case ol:h=So,e=f;break;case Id:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function aT(r,e,n){for(var i=r.tagName,t=null,g=r.length;g--;){var a=r[g],s=a.qName,l=a.value,v=s.indexOf(":");if(v>0)var c=a.prefix=s.slice(0,v),f=s.slice(v+1),h=c==="xmlns"&&f;else f=s,c=null,h=s==="xmlns"&&"";a.localName=f,h!==!1&&(t==null&&(t={},SE(n,n={})),n[h]=t[h]=l,a.uri=zl.XMLNS,e.startPrefixMapping(h,l))}for(var g=r.length;g--;){a=r[g];var c=a.prefix;c&&(c==="xml"&&(a.uri=zl.XML),c!=="xmlns"&&(a.uri=n[c||""]))}var v=i.indexOf(":");v>0?(c=r.prefix=i.slice(0,v),f=r.localName=i.slice(v+1)):(c=null,f=r.localName=i);var T=r.uri=n[c||""];if(e.startElement(T,f,i,r),r.closed){if(e.endElement(T,f,i),t)for(c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.endPrefixMapping(c)}else return r.currentNSMap=n,r.localNSMap=t,!0}function X3(r,e,n,i,t){if(/^(?:script|textarea)$/i.test(n)){var a=r.indexOf("</"+n+">",e),s=r.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(t.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),t.characters(s,0,s.length),a)}return e+1}function J3(r,e,n,i){var t=i[n];return t==null&&(t=r.lastIndexOf("</"+n+">"),t<e&&(t=r.lastIndexOf("</"+n)),i[n]=t),t<e}function SE(r,e){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}function Y3(r,e,n,i){var t=r.charAt(e+2);switch(t){case"-":if(r.charAt(e+3)==="-"){var a=r.indexOf("-->",e+4);return a>e?(n.comment(r,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(r.substr(e+3,6)=="CDATA["){var a=r.indexOf("]]>",e+9);return n.startCDATA(),n.characters(r,e+9,a-e-9),n.endCDATA(),a+3}var s=Z3(r,e),l=s.length;if(l>1&&/!doctype/i.test(s[0][0])){var c=s[1][0],f=!1,h=!1;l>3&&(/^public$/i.test(s[2][0])?(f=s[3][0],h=l>4&&s[4][0]):/^system$/i.test(s[2][0])&&(h=s[3][0]));var g=s[l-1];return n.startDTD(c,f,h),n.endDTD(),g.index+g[0].length}}return-1}function Q3(r,e,n){var i=r.indexOf("?>",e);if(i){var t=r.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,n.processingInstruction(t[1],t[2]),i+2):-1}return-1}function xE(){this.attributeNames={}}xE.prototype={setTagName:function(r){if(!nT.test(r))throw new Error("invalid tagName:"+r);this.tagName=r},addValue:function(r,e,n){if(!nT.test(r))throw new Error("invalid attribute:"+r);this.attributeNames[r]=this.length,this[this.length++]={qName:r,value:e,offset:n}},length:0,getLocalName:function(r){return this[r].localName},getLocator:function(r){return this[r].locator},getQName:function(r){return this[r].qName},getURI:function(r){return this[r].uri},getValue:function(r){return this[r].value}};function Z3(r,e){var n,i=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(r);n=t.exec(r);)if(i.push(n),n[1])return i}s0.XMLReader=TE;s0.ParseError=Yo;var eN=fa,tN=Qa,sT=bE,EE=s0,rN=tN.DOMImplementation,oT=eN.NAMESPACE,nN=EE.ParseError,iN=EE.XMLReader;function wE(r){return r.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function CE(r){this.options=r||{locator:{}}}CE.prototype.parseFromString=function(r,e){var n=this.options,i=new iN,t=n.domBuilder||new gc,a=n.errorHandler,s=n.locator,l=n.xmlns||{},c=/\/x?html?$/.test(e),f=c?sT.HTML_ENTITIES:sT.XML_ENTITIES;s&&t.setDocumentLocator(s),i.errorHandler=aN(a,t,s),i.domBuilder=n.domBuilder||t,c&&(l[""]=oT.HTML),l.xml=l.xml||oT.XML;var h=n.normalizeLineEndings||wE;return r&&typeof r=="string"?i.parse(h(r),l,f):i.errorHandler.error("invalid doc source"),t.doc};function aN(r,e,n){if(!r){if(e instanceof gc)return e;r=e}var i={},t=r instanceof Function;n=n||{};function a(s){var l=r[s];!l&&t&&(l=r.length==2?function(c){r(s,c)}:r),i[s]=l&&function(c){l("[xmldom "+s+"]	"+c+jm(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function gc(){this.cdata=!1}function Eo(r,e){e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber}gc.prototype={startDocument:function(){this.doc=new rN().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(r,e,n,i){var t=this.doc,a=t.createElementNS(r,n||e),s=i.length;Od(this,a),this.currentElement=a,this.locator&&Eo(this.locator,a);for(var l=0;l<s;l++){var r=i.getURI(l),c=i.getValue(l),n=i.getQName(l),f=t.createAttributeNS(r,n);this.locator&&Eo(i.getLocator(l),f),f.value=f.nodeValue=c,a.setAttributeNode(f)}},endElement:function(r,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(r,e){},endPrefixMapping:function(r){},processingInstruction:function(r,e){var n=this.doc.createProcessingInstruction(r,e);this.locator&&Eo(this.locator,n),Od(this,n)},ignorableWhitespace:function(r,e,n){},characters:function(r,e,n){if(r=uT.apply(this,arguments),r){if(this.cdata)var i=this.doc.createCDATASection(r);else var i=this.doc.createTextNode(r);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(r)&&this.doc.appendChild(i),this.locator&&Eo(this.locator,i)}},skippedEntity:function(r){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(r){(this.locator=r)&&(r.lineNumber=0)},comment:function(r,e,n){r=uT.apply(this,arguments);var i=this.doc.createComment(r);this.locator&&Eo(this.locator,i),Od(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(r,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var t=i.createDocumentType(r,e,n);this.locator&&Eo(this.locator,t),Od(this,t),this.doc.doctype=t}},warning:function(r){console.warn("[xmldom warning]	"+r,jm(this.locator))},error:function(r){console.error("[xmldom error]	"+r,jm(this.locator))},fatalError:function(r){throw new nN(r,this.locator)}};function jm(r){if(r)return`
@`+(r.systemId||"")+"#[line:"+r.lineNumber+",col:"+r.columnNumber+"]"}function uT(r,e,n){return typeof r=="string"?r.substr(e,n):r.length>=e+n||e?new java.lang.String(r,e,n)+"":r}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(r){gc.prototype[r]=function(){return null}});function Od(r,e){r.currentElement?r.currentElement.appendChild(e):r.doc.appendChild(e)}Sh.__DOMHandler=gc;Sh.normalizeLineEndings=wE;Sh.DOMParser=CE;var sN=Sh.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var lT=function(e){return!!e&&typeof e=="object"},Xr=function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(t,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(t[s])&&Array.isArray(a[s])?t[s]=t[s].concat(a[s]):lT(t[s])&&lT(a[s])?t[s]=r(t[s],a[s]):t[s]=a[s]}),t},{})},AE=function(e){return Object.keys(e).map(function(n){return e[n]})},oN=function(e,n){for(var i=[],t=e;t<n;t++)i.push(t);return i},xh=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},kE=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},uN=function(e,n){return e.reduce(function(i,t,a){return t[n]&&i.push(a),i},[])},$m=function(e,n){for(var i=0;i<e.length;i++)if(n(e[i]))return i;return-1},lN=function(e,n){return AE(e.reduce(function(i,t){return t.forEach(function(a){i[n(a)]=a}),i},{}))},Qo={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Kl=function(e){var n=e.baseUrl,i=n===void 0?"":n,t=e.source,a=t===void 0?"":t,s=e.range,l=s===void 0?"":s,c=e.indexRange,f=c===void 0?"":c,h={uri:a,resolvedUri:yh(i||"",a)};if(l||f){var g=l||f,v=g.split("-"),T=V.BigInt?V.BigInt(v[0]):parseInt(v[0],10),w=V.BigInt?V.BigInt(v[1]):parseInt(v[1],10);T<Number.MAX_SAFE_INTEGER&&typeof T=="bigint"&&(T=Number(T)),w<Number.MAX_SAFE_INTEGER&&typeof w=="bigint"&&(w=Number(w));var D;typeof w=="bigint"||typeof T=="bigint"?D=V.BigInt(w)-V.BigInt(T)+V.BigInt(1):D=w-T+1,typeof D=="bigint"&&D<Number.MAX_SAFE_INTEGER&&(D=Number(D)),h.byterange={length:D,offset:T}}return h},cN=function(e){var n;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=V.BigInt(e.offset)+V.BigInt(e.length)-V.BigInt(1):n=e.offset+e.length-1,e.offset+"-"+n},cT=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},dN={static:function(e){var n=e.duration,i=e.timescale,t=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,l=cT(e.endNumber),c=n/t;return typeof l=="number"?{start:0,end:l}:typeof s=="number"?{start:0,end:s/c}:{start:0,end:a/c}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,t=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,l=e.duration,c=e.periodStart,f=c===void 0?0:c,h=e.minimumUpdatePeriod,g=h===void 0?0:h,v=e.timeShiftBufferDepth,T=v===void 0?1/0:v,w=cT(e.endNumber),D=(n+i)/1e3,P=t+f,R=D+g,M=R-P,U=Math.ceil(M*s/l),j=Math.floor((D-P-T)*s/l),J=Math.floor((D-P)*s/l);return{start:Math.max(0,j),end:typeof w=="number"?w:Math.min(U,J)}}},fN=function(e){return function(n){var i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodStart,l=e.startNumber,c=l===void 0?1:l;return{number:c+n,duration:i/a,timeline:s,time:n*i}}},o0=function(e){var n=e.type,i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodDuration,l=e.sourceDuration,c=dN[n](e),f=c.start,h=c.end,g=oN(f,h).map(fN(e));if(n==="static"){var v=g.length-1,T=typeof s=="number"?s:l;g[v].duration=T-i/a*v}return g},DE=function(e){var n=e.baseUrl,i=e.initialization,t=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,l=s===void 0?"":s,c=e.periodStart,f=e.presentationTime,h=e.number,g=h===void 0?0:h,v=e.duration;if(!n)throw new Error(Qo.NO_BASE_URL);var T=Kl({baseUrl:n,source:t.sourceURL,range:t.range}),w=Kl({baseUrl:n,source:n,indexRange:l});if(w.map=T,v){var D=o0(e);D.length&&(w.duration=D[0].duration,w.timeline=D[0].timeline)}else a&&(w.duration=a,w.timeline=c);return w.presentationTime=f||c,w.number=g,[w]},u0=function(e,n,i){var t=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,l=e.sidx.byterange,c=l.offset+l.length,f=n.timescale,h=n.references.filter(function(X){return X.referenceType!==1}),g=[],v=e.endList?"static":"dynamic",T=e.sidx.timeline,w=T,D=e.mediaSequence||0,P;typeof n.firstOffset=="bigint"?P=V.BigInt(c)+n.firstOffset:P=c+n.firstOffset;for(var R=0;R<h.length;R++){var M=n.references[R],U=M.referencedSize,j=M.subsegmentDuration,J=void 0;typeof P=="bigint"?J=P+V.BigInt(U)-V.BigInt(1):J=P+U-1;var te=P+"-"+J,$={baseUrl:i,timescale:f,timeline:s,periodStart:T,presentationTime:w,number:D,duration:j,sourceDuration:a,indexRange:te,type:v},H=DE($)[0];t&&(H.map=t),g.push(H),typeof P=="bigint"?P+=V.BigInt(U):P+=U,w+=j/f,D++}return e.segments=g,e},hN=["AUDIO","SUBTITLES"],pN=1/60,PE=function(e){return lN(e,function(n){var i=n.timeline;return i}).sort(function(n,i){return n.timeline>i.timeline?1:-1})},gN=function(e,n){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===n)return e[i];return null},dT=function(e){var n=[];return O3(e,hN,function(i,t,a,s){n=n.concat(i.playlists||[])}),n},fT=function(e){var n=e.playlist,i=e.mediaSequence;n.mediaSequence=i,n.segments.forEach(function(t,a){t.number=n.mediaSequence+a})},mN=function(e){var n=e.oldPlaylists,i=e.newPlaylists,t=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=$m(t,function(h){var g=h.timeline;return g===a.timeline});var s=gN(n,a.attributes.NAME);if(!!s&&!a.sidx){var l=a.segments[0],c=$m(s.segments,function(h){return Math.abs(h.presentationTime-l.presentationTime)<pN});if(c===-1){fT({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var f=s.segments[c];f.discontinuity&&!l.discontinuity&&(l.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),fT({playlist:a,mediaSequence:s.segments[c].number})}})},vN=function(e){var n=e.oldManifest,i=e.newManifest,t=n.playlists.concat(dT(n)),a=i.playlists.concat(dT(i));return i.timelineStarts=PE([n.timelineStarts,i.timelineStarts]),mN({oldPlaylists:t,newPlaylists:a,timelineStarts:i.timelineStarts}),i},Eh=function(e){return e&&e.uri+"-"+cN(e.byterange)},Fg=function(e){var n=AE(e.reduce(function(i,t){var a=t.attributes.id+(t.attributes.lang||"");if(!i[a])i[a]=t,i[a].attributes.timelineStarts=[];else{if(t.segments){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,t.segments)}t.attributes.contentProtection&&(i[a].attributes.contentProtection=t.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),i},{}));return n.map(function(i){return i.discontinuityStarts=uN(i.segments||[],"discontinuity"),i})},l0=function(e,n){var i=Eh(e.sidx),t=i&&n[i]&&n[i].sidx;return t&&u0(e,t,e.sidx.resolvedUri),e},_N=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=l0(e[i],n);return e},yN=function(e,n){var i,t=e.attributes,a=e.segments,s=e.sidx,l=e.mediaSequence,c=e.discontinuitySequence,f=e.discontinuityStarts,h={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:c,discontinuityStarts:f,timelineStarts:t.timelineStarts,mediaSequence:l,segments:a};return t.contentProtection&&(h.contentProtection=t.contentProtection),s&&(h.sidx=s),n&&(h.attributes.AUDIO="audio",h.attributes.SUBTITLES="subs"),h},bN=function(e){var n,i=e.attributes,t=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,l=e.discontinuitySequence;typeof t>"u"&&(t=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var c=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(c.CODECS=i.codecs),{attributes:c,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:l,mediaSequence:a,segments:t}},TN=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var t,a=e.reduce(function(l,c){var f=c.attributes.role&&c.attributes.role.value||"",h=c.attributes.lang||"",g=c.attributes.label||"main";if(h&&!c.attributes.label){var v=f?" ("+f+")":"";g=""+c.attributes.lang+v}l[g]||(l[g]={language:h,autoselect:!0,default:f==="main",playlists:[],uri:""});var T=l0(yN(c,i),n);return l[g].playlists.push(T),typeof t>"u"&&f==="main"&&(t=c,t.default=!0),l},{});if(!t){var s=Object.keys(a)[0];a[s].default=!0}return a},SN=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,t){var a=t.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(l0(bN(t),n)),i},{})},xN=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(t){var a=t.channel,s=t.language;n[s]={autoselect:!1,default:!1,instreamId:a,language:s},t.hasOwnProperty("aspectRatio")&&(n[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(n[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(n[s]["3D"]=t["3D"])}),n},{})},EN=function(e){var n,i=e.attributes,t=e.segments,a=e.sidx,s=e.discontinuityStarts,l={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:t};return i.frameRate&&(l.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(l.contentProtection=i.contentProtection),a&&(l.sidx=a),l},wN=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},CN=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},AN=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},kN=function(e,n){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=$m(n,function(t){var a=t.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(t,a){t.number=a})})},hT=function(e){return e?Object.keys(e).reduce(function(n,i){var t=e[i];return n.concat(t.playlists)},[]):[]},DN=function(e){var n,i=e.dashPlaylists,t=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,l=e.previousManifest;if(!i.length)return{};var c=i[0].attributes,f=c.sourceDuration,h=c.type,g=c.suggestedPresentationDelay,v=c.minimumUpdatePeriod,T=Fg(i.filter(wN)).map(EN),w=Fg(i.filter(CN)),D=Fg(i.filter(AN)),P=i.map(function($){return $.attributes.captionServices}).filter(Boolean),R={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:f,playlists:_N(T,s)};v>=0&&(R.minimumUpdatePeriod=v*1e3),t&&(R.locations=t),h==="dynamic"&&(R.suggestedPresentationDelay=g);var M=R.playlists.length===0,U=w.length?TN(w,s,M):null,j=D.length?SN(D,s):null,J=T.concat(hT(U),hT(j)),te=J.map(function($){var H=$.timelineStarts;return H});return R.timelineStarts=PE(te),kN(J,R.timelineStarts),U&&(R.mediaGroups.AUDIO.audio=U),j&&(R.mediaGroups.SUBTITLES.subs=j),P.length&&(R.mediaGroups["CLOSED-CAPTIONS"].cc=xN(P)),l?vN({oldManifest:l,newManifest:R}):R},PN=function(e,n,i){var t=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,l=e.timescale,c=l===void 0?1:l,f=e.periodStart,h=f===void 0?0:f,g=e.minimumUpdatePeriod,v=g===void 0?0:g,T=(t+a)/1e3,w=s+h,D=T+v,P=D-w;return Math.ceil((P*c-n)/i)},IE=function(e,n){for(var i=e.type,t=e.minimumUpdatePeriod,a=t===void 0?0:t,s=e.media,l=s===void 0?"":s,c=e.sourceDuration,f=e.timescale,h=f===void 0?1:f,g=e.startNumber,v=g===void 0?1:g,T=e.periodStart,w=[],D=-1,P=0;P<n.length;P++){var R=n[P],M=R.d,U=R.r||0,j=R.t||0;D<0&&(D=j),j&&j>D&&(D=j);var J=void 0;if(U<0){var te=P+1;te===n.length?i==="dynamic"&&a>0&&l.indexOf("$Number$")>0?J=PN(e,D,M):J=(c*h-D)/M:J=(n[te].t-D)/M}else J=U+1;for(var $=v+w.length+J,H=v+w.length;H<$;)w.push({number:H,duration:M/h,time:D,timeline:T}),D+=M,H++}return w},IN=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ON=function(e){return function(n,i,t,a){if(n==="$$")return"$";if(typeof e[i]>"u")return n;var s=""+e[i];return i==="RepresentationID"||(t?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},pT=function(e,n){return e.replace(IN,ON(n))},LN=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?o0(e):IE(e,n)},RN=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,a=t===void 0?{sourceURL:"",range:""}:t,s=Kl({baseUrl:e.baseUrl,source:pT(a.sourceURL,i),range:a.range}),l=LN(e,n);return l.map(function(c){i.Number=c.number,i.Time=c.time;var f=pT(e.media||"",i),h=e.timescale||1,g=e.presentationTimeOffset||0,v=e.periodStart+(c.time-g)/h,T={uri:f,timeline:c.timeline,duration:c.duration,resolvedUri:yh(e.baseUrl||"",f),map:s,number:c.number,presentationTime:v};return T})},NN=function(e,n){var i=e.baseUrl,t=e.initialization,a=t===void 0?{}:t,s=Kl({baseUrl:i,source:a.sourceURL,range:a.range}),l=Kl({baseUrl:i,source:n.media,range:n.mediaRange});return l.map=s,l},FN=function(e,n){var i=e.duration,t=e.segmentUrls,a=t===void 0?[]:t,s=e.periodStart;if(!i&&!n||i&&n)throw new Error(Qo.SEGMENT_TIME_UNSPECIFIED);var l=a.map(function(h){return NN(e,h)}),c;i&&(c=o0(e)),n&&(c=IE(e,n));var f=c.map(function(h,g){if(l[g]){var v=l[g],T=e.timescale||1,w=e.presentationTimeOffset||0;return v.timeline=h.timeline,v.duration=h.duration,v.number=h.number,v.presentationTime=s+(h.time-w)/T,v}}).filter(function(h){return h});return f},MN=function(e){var n=e.attributes,i=e.segmentInfo,t,a;i.template?(a=RN,t=Xr(n,i.template)):i.base?(a=DE,t=Xr(n,i.base)):i.list&&(a=FN,t=Xr(n,i.list));var s={attributes:n};if(!a)return s;var l=a(t,i.segmentTimeline);if(t.duration){var c=t,f=c.duration,h=c.timescale,g=h===void 0?1:h;t.duration=f/g}else l.length?t.duration=l.reduce(function(v,T){return Math.max(v,Math.ceil(T.duration))},0):t.duration=0;return s.attributes=t,s.segments=l,i.base&&t.indexRange&&(s.sidx=l[0],s.segments=[]),s},BN=function(e){return e.map(MN)},tr=function(e,n){return kE(e.childNodes).filter(function(i){var t=i.tagName;return t===n})},c0=function(e){return e.textContent.trim()},UN=function(e){return parseFloat(e.split("/").reduce(function(n,i){return n/i}))},wo=function(e){var n=31536e3,i=30*24*60*60,t=24*60*60,a=60*60,s=60,l=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,c=l.exec(e);if(!c)return 0;var f=c.slice(1),h=f[0],g=f[1],v=f[2],T=f[3],w=f[4],D=f[5];return parseFloat(h||0)*n+parseFloat(g||0)*i+parseFloat(v||0)*t+parseFloat(T||0)*a+parseFloat(w||0)*s+parseFloat(D||0)},jN=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},gT={mediaPresentationDuration:function(e){return wo(e)},availabilityStartTime:function(e){return jN(e)/1e3},minimumUpdatePeriod:function(e){return wo(e)},suggestedPresentationDelay:function(e){return wo(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return wo(e)},start:function(e){return wo(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return UN(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?wo(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Br=function(e){return e&&e.attributes?kE(e.attributes).reduce(function(n,i){var t=gT[i.name]||gT.DEFAULT;return n[i.name]=t(i.value),n},{}):{}},$N={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},wh=function(e,n){return n.length?xh(e.map(function(i){return n.map(function(t){return yh(i,c0(t))})})):e},d0=function(e){var n=tr(e,"SegmentTemplate")[0],i=tr(e,"SegmentList")[0],t=i&&tr(i,"SegmentURL").map(function(v){return Xr({tag:"SegmentURL"},Br(v))}),a=tr(e,"SegmentBase")[0],s=i||n,l=s&&tr(s,"SegmentTimeline")[0],c=i||a||n,f=c&&tr(c,"Initialization")[0],h=n&&Br(n);h&&f?h.initialization=f&&Br(f):h&&h.initialization&&(h.initialization={sourceURL:h.initialization});var g={template:h,segmentTimeline:l&&tr(l,"S").map(function(v){return Br(v)}),list:i&&Xr(Br(i),{segmentUrls:t,initialization:Br(f)}),base:a&&Xr(Br(a),{initialization:Br(f)})};return Object.keys(g).forEach(function(v){g[v]||delete g[v]}),g},HN=function(e,n,i){return function(t){var a=tr(t,"BaseURL"),s=wh(n,a),l=Xr(e,Br(t)),c=d0(t);return s.map(function(f){return{segmentInfo:Xr(i,c),attributes:Xr(l,{baseUrl:f})}})}},VN=function(e){return e.reduce(function(n,i){var t=Br(i);t.schemeIdUri&&(t.schemeIdUri=t.schemeIdUri.toLowerCase());var a=$N[t.schemeIdUri];if(a){n[a]={attributes:t};var s=tr(i,"cenc:pssh")[0];if(s){var l=c0(s);n[a].pssh=l&&G2(l)}}return n},{})},qN=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(t){var a,s;if(s=t,/^CC\d=/.test(t)){var l=t.split("=");a=l[0],s=l[1]}else/^CC\d$/.test(t)&&(a=t);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(t){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),l=s[0],c=s[1],f=c===void 0?"":c;a.channel=l,a.language=t,f.split(",").forEach(function(h){var g=h.split(":"),v=g[0],T=g[1];v==="lang"?a.language=T:v==="er"?a.easyReader=Number(T):v==="war"?a.aspectRatio=Number(T):v==="3D"&&(a["3D"]=Number(T))})}else a.language=t;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},WN=function(e,n,i){return function(t){var a=Br(t),s=wh(n,tr(t,"BaseURL")),l=tr(t,"Role")[0],c={role:Br(l)},f=Xr(e,a,c),h=tr(t,"Accessibility")[0],g=qN(Br(h));g&&(f=Xr(f,{captionServices:g}));var v=tr(t,"Label")[0];if(v&&v.childNodes.length){var T=v.childNodes[0].nodeValue.trim();f=Xr(f,{label:T})}var w=VN(tr(t,"ContentProtection"));Object.keys(w).length&&(f=Xr(f,{contentProtection:w}));var D=d0(t),P=tr(t,"Representation"),R=Xr(i,D);return xh(P.map(HN(f,s,R)))}},GN=function(e,n){return function(i,t){var a=wh(n,tr(i.node,"BaseURL")),s=Xr(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var l=tr(i.node,"AdaptationSet"),c=d0(i.node);return xh(l.map(WN(s,a,c)))}},zN=function(e){var n=e.attributes,i=e.priorPeriodAttributes,t=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&t==="static"?0:null},KN=function(e,n){n===void 0&&(n={});var i=n,t=i.manifestUri,a=t===void 0?"":t,s=i.NOW,l=s===void 0?Date.now():s,c=i.clientOffset,f=c===void 0?0:c,h=tr(e,"Period");if(!h.length)throw new Error(Qo.INVALID_NUMBER_OF_PERIOD);var g=tr(e,"Location"),v=Br(e),T=wh([a],tr(e,"BaseURL"));v.type=v.type||"static",v.sourceDuration=v.mediaPresentationDuration||0,v.NOW=l,v.clientOffset=f,g.length&&(v.locations=g.map(c0));var w=[];return h.forEach(function(D,P){var R=Br(D),M=w[P-1];R.start=zN({attributes:R,priorPeriodAttributes:M?M.attributes:null,mpdType:v.type}),w.push({node:D,attributes:R})}),{locations:v.locations,representationInfo:xh(w.map(GN(v,T)))}},OE=function(e){if(e==="")throw new Error(Qo.DASH_EMPTY_MANIFEST);var n=new sN,i,t;try{i=n.parseFromString(e,"application/xml"),t=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(Qo.DASH_INVALID_XML);return t},XN=function(e){var n=tr(e,"UTCTiming")[0];if(!n)return null;var i=Br(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Qo.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},JN=function(e,n){n===void 0&&(n={});var i=KN(OE(e),n),t=BN(i.representationInfo);return DN({dashPlaylists:t,locations:i.locations,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest})},YN=function(e){return XN(OE(e))},LE=Math.pow(2,32),QN=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*LE+e.getUint32(4)},ZN={getUint64:QN,MAX_UINT32:LE},mT=ZN.getUint64,eF=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),n={version:r[0],flags:new Uint8Array(r.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=mT(r.subarray(i)),n.firstOffset=mT(r.subarray(i+8)),i+=16),i+=2;var t=e.getUint16(i);for(i+=2;t>0;i+=12,t--)n.references.push({referenceType:(r[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(r[i+8]&128),sapType:(r[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},tF=eF,rF=We([73,68,51]),nF=function(e,n){n===void 0&&(n=0),e=We(e);var i=e[n+5],t=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(i&16)>>4;return a?t+20:t+10},yl=function r(e,n){return n===void 0&&(n=0),e=We(e),e.length-n<10||!Wt(e,rF,{offset:n})?n:(n+=nF(e,n),r(e,n))},vT=function(e){return typeof e=="string"?Y2(e):e},iF=function(e){return Array.isArray(e)?e.map(function(n){return vT(n)}):[vT(e)]},aF=function r(e,n,i){i===void 0&&(i=!1),n=iF(n),e=We(e);var t=[];if(!n.length)return t;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,l=e.subarray(a+4,a+8);if(s===0)break;var c=a+s;if(c>e.length){if(i)break;c=e.length}var f=e.subarray(a+8,c);Wt(l,n[0])&&(n.length===1?t.push(f):t.push.apply(t,r(f,n.slice(1),i))),a=c}return t},Ld={EBML:We([26,69,223,163]),DocType:We([66,130]),Segment:We([24,83,128,103]),SegmentInfo:We([21,73,169,102]),Tracks:We([22,84,174,107]),Track:We([174]),TrackNumber:We([215]),DefaultDuration:We([35,227,131]),TrackEntry:We([174]),TrackType:We([131]),FlagDefault:We([136]),CodecID:We([134]),CodecPrivate:We([99,162]),VideoTrack:We([224]),AudioTrack:We([225]),Cluster:We([31,67,182,117]),Timestamp:We([231]),TimestampScale:We([42,215,177]),BlockGroup:We([160]),BlockDuration:We([155]),Block:We([161]),SimpleBlock:We([163])},Hm=[128,64,32,16,8,4,2,1],sF=function(e){for(var n=1,i=0;i<Hm.length&&!(e&Hm[i]);i++)n++;return n},kf=function(e,n,i,t){i===void 0&&(i=!0),t===void 0&&(t=!1);var a=sF(e[n]),s=e.subarray(n,n+a);return i&&(s=Array.prototype.slice.call(e,n,n+a),s[0]^=Hm[a-1]),{length:a,value:D3(s,{signed:t}),bytes:s}},_T=function r(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return r(n)}):typeof e=="number"?P3(e):e},oF=function(e){return Array.isArray(e)?e.map(function(n){return _T(n)}):[_T(e)]},uF=function r(e,n,i){if(i>=n.length)return n.length;var t=kf(n,i,!1);if(Wt(e.bytes,t.bytes))return i;var a=kf(n,i+t.length);return r(e,n,i+a.length+a.value+t.length)},yT=function r(e,n){n=oF(n),e=We(e);var i=[];if(!n.length)return i;for(var t=0;t<e.length;){var a=kf(e,t,!1),s=kf(e,t+a.length),l=t+a.length+s.length;s.value===127&&(s.value=uF(a,e,l),s.value!==e.length&&(s.value-=l));var c=l+s.value>e.length?e.length:l+s.value,f=e.subarray(l,c);Wt(n[0],a.bytes)&&(n.length===1?i.push(f):i=i.concat(r(f,n.slice(1))));var h=a.length+s.length+f.length;t+=h}return i},lF=We([0,0,0,1]),cF=We([0,0,1]),dF=We([0,0,3]),fF=function(e){for(var n=[],i=1;i<e.length-2;)Wt(e.subarray(i,i+3),dF)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var t=e.length-n.length,a=new Uint8Array(t),s=0;for(i=0;i<t;s++,i++)s===n[0]&&(s++,n.shift()),a[i]=e[s];return a},RE=function(e,n,i,t){t===void 0&&(t=1/0),e=We(e),i=[].concat(i);for(var a=0,s,l=0;a<e.length&&(l<t||s);){var c=void 0;if(Wt(e.subarray(a),lF)?c=4:Wt(e.subarray(a),cF)&&(c=3),!c){a++;continue}if(l++,s)return fF(e.subarray(s,a));var f=void 0;n==="h264"?f=e[a+c]&31:n==="h265"&&(f=e[a+c]>>1&63),i.indexOf(f)!==-1&&(s=a+c),a+=c+(n==="h264"?1:2)}return e.subarray(0,0)},hF=function(e,n,i){return RE(e,"h264",n,i)},pF=function(e,n,i){return RE(e,"h265",n,i)},Wr={webm:We([119,101,98,109]),matroska:We([109,97,116,114,111,115,107,97]),flac:We([102,76,97,67]),ogg:We([79,103,103,83]),ac3:We([11,119]),riff:We([82,73,70,70]),avi:We([65,86,73]),wav:We([87,65,86,69]),"3gp":We([102,116,121,112,51,103]),mp4:We([102,116,121,112]),fmp4:We([115,116,121,112]),mov:We([102,116,121,112,113,116]),moov:We([109,111,111,118]),moof:We([109,111,111,102])},Zo={aac:function(e){var n=yl(e);return Wt(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=yl(e);return Wt(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=yT(e,[Ld.EBML,Ld.DocType])[0];return Wt(n,Wr.webm)},mkv:function(e){var n=yT(e,[Ld.EBML,Ld.DocType])[0];return Wt(n,Wr.matroska)},mp4:function(e){if(Zo["3gp"](e)||Zo.mov(e))return!1;if(Wt(e,Wr.mp4,{offset:4})||Wt(e,Wr.fmp4,{offset:4})||Wt(e,Wr.moof,{offset:4})||Wt(e,Wr.moov,{offset:4}))return!0},mov:function(e){return Wt(e,Wr.mov,{offset:4})},"3gp":function(e){return Wt(e,Wr["3gp"],{offset:4})},ac3:function(e){var n=yl(e);return Wt(e,Wr.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=yl(e);return Wt(e,Wr.flac,{offset:n})},ogg:function(e){return Wt(e,Wr.ogg)},avi:function(e){return Wt(e,Wr.riff)&&Wt(e,Wr.avi,{offset:8})},wav:function(e){return Wt(e,Wr.riff)&&Wt(e,Wr.wav,{offset:8})},h264:function(e){return hF(e,7,3).length},h265:function(e){return pF(e,[32,33],3).length}},Vm=Object.keys(Zo).filter(function(r){return r!=="ts"&&r!=="h264"&&r!=="h265"}).concat(["ts","h264","h265"]);Vm.forEach(function(r){var e=Zo[r];Zo[r]=function(n){return e(We(n))}});var gF=Zo,f0=function(e){e=We(e);for(var n=0;n<Vm.length;n++){var i=Vm[n];if(gF[i](e))return i}return""},mF=function(e){return aF(e,["moof"]).length>0},h0=9e4,p0,g0,Ch,m0,NE,FE,ME;p0=function(r){return r*h0};g0=function(r,e){return r*e};Ch=function(r){return r/h0};m0=function(r,e){return r/e};NE=function(r,e){return p0(m0(r,e))};FE=function(r,e){return g0(Ch(r),e)};ME=function(r,e,n){return Ch(n?r:r-e)};var Df={ONE_SECOND_IN_TS:h0,secondsToVideoTs:p0,secondsToAudioTs:g0,videoTsToSeconds:Ch,audioTsToSeconds:m0,audioTsToVideoTs:NE,videoTsToAudioTs:FE,metadataTsToSeconds:ME};function qm(r){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qm(r)}function vF(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}function Wm(r){var e=typeof Map=="function"?new Map:void 0;return Wm=function(i){if(i===null||!vF(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,t)}function t(){return q2(i,arguments,qm(this).constructor)}return t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Ko(t,i)},Wm(r)}/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var BE="7.21.6",Xi={},Xa=function(e,n){return Xi[e]=Xi[e]||[],n&&(Xi[e]=Xi[e].concat(n)),Xi[e]},_F=function(e,n){Xa(e,n)},UE=function(e,n){var i=Xa(e).indexOf(n);return i<=-1?!1:(Xi[e]=Xi[e].slice(),Xi[e].splice(i,1),!0)},yF=function(e,n){Xa(e,[].concat(n).map(function(i){var t=function a(){return UE(e,a),i.apply(void 0,arguments)};return t}))},Pf={prefixed:!0},ef=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],bT=ef[0],bl;for(var Rd=0;Rd<ef.length;Rd++)if(ef[Rd][1]in Te){bl=ef[Rd];break}if(bl){for(var Nd=0;Nd<bl.length;Nd++)Pf[bT[Nd]]=bl[Nd];Pf.prefixed=bl[0]!==bT[0]}var an=[],bF=function(e,n){return function(i,t,a){var s=n.levels[t],l=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),an){an.push([].concat(a));var c=an.length-1e3;an.splice(0,c>0?c:0)}if(!!V.console){var f=V.console[i];!f&&i==="debug"&&(f=V.console.info||V.console.log),!(!f||!s||!l.test(i))&&f[Array.isArray(a)?"apply":"call"](V.console,a)}}};function jE(r){var e="info",n,i=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n("log",e,s)};return n=bF(r,i),i.createLogger=function(t){return jE(r+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(t){if(typeof t=="string"){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},i.history=function(){return an?[].concat(an):[]},i.history.filter=function(t){return(an||[]).filter(function(a){return new RegExp(".*"+t+".*").test(a[0])})},i.history.clear=function(){an&&(an.length=0)},i.history.disable=function(){an!==null&&(an.length=0,an=null)},i.history.enable=function(){an===null&&(an=[])},i.error=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("error",e,a)},i.warn=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("warn",e,a)},i.debug=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("debug",e,a)},i}var ft=jE("VIDEOJS"),$E=ft.createLogger,TF=Object.prototype.toString,HE=function(e){return sa(e)?Object.keys(e):[]};function Uo(r,e){HE(r).forEach(function(n){return e(r[n],n)})}function SF(r,e,n){return n===void 0&&(n=0),HE(r).reduce(function(i,t){return e(i,r[t],t)},n)}function Yt(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Nn.apply(void 0,[r].concat(n)):(n.forEach(function(t){!t||Uo(t,function(a,s){r[s]=a})}),r)}function sa(r){return!!r&&typeof r=="object"}function Xl(r){return sa(r)&&TF.call(r)==="[object Object]"&&r.constructor===Object}function Jl(r,e){if(!r||!e)return"";if(typeof V.getComputedStyle=="function"){var n;try{n=V.getComputedStyle(r)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var yr=V.navigator&&V.navigator.userAgent||"",TT=/AppleWebKit\/([\d.]+)/i.exec(yr),xF=TT?parseFloat(TT.pop()):null,VE=/iPod/i.test(yr),EF=function(){var r=yr.match(/OS (\d+)_/i);return r&&r[1]?r[1]:null}(),ha=/Android/i.test(yr),v0=function(){var r=yr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var e=r[1]&&parseFloat(r[1]),n=r[2]&&parseFloat(r[2]);return e&&n?parseFloat(r[1]+"."+r[2]):e||null}(),qE=ha&&v0<5&&xF<537,WE=/Firefox/i.test(yr),mc=/Edg/i.test(yr),pa=!mc&&(/Chrome/i.test(yr)||/CriOS/i.test(yr)),GE=function(){var r=yr.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null}(),vc=function(){var r=/MSIE\s(\d+)\.\d/.exec(yr),e=r&&parseFloat(r[1]);return!e&&/Trident\/7.0/i.test(yr)&&/rv:11.0/.test(yr)&&(e=11),e}(),_0=/Safari/i.test(yr)&&!pa&&!ha&&!mc,zE=/Windows/i.test(yr),eu=Boolean(lu()&&("ontouchstart"in V||V.navigator.maxTouchPoints||V.DocumentTouch&&V.document instanceof V.DocumentTouch)),y0=/iPad/i.test(yr)||_0&&eu&&!/iPhone/i.test(yr),b0=/iPhone/i.test(yr)&&!y0,Qr=b0||y0||VE,Ah=(_0||Qr)&&!pa,wF=Object.freeze({__proto__:null,IS_IPOD:VE,IOS_VERSION:EF,IS_ANDROID:ha,ANDROID_VERSION:v0,IS_NATIVE_ANDROID:qE,IS_FIREFOX:WE,IS_EDGE:mc,IS_CHROME:pa,CHROME_VERSION:GE,IE_VERSION:vc,IS_SAFARI:_0,IS_WINDOWS:zE,TOUCH_ENABLED:eu,IS_IPAD:y0,IS_IPHONE:b0,IS_IOS:Qr,IS_ANY_SAFARI:Ah});function ST(r){return typeof r=="string"&&Boolean(r.trim())}function KE(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function CF(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}function lu(){return Te===V.document}function cu(r){return sa(r)&&r.nodeType===1}function XE(){try{return V.parent!==V.self}catch{return!0}}function JE(r){return function(e,n){if(!ST(e))return Te[r](null);ST(n)&&(n=Te.querySelector(n));var i=cu(n)?n:Te;return i[r]&&i[r](e)}}function vt(r,e,n,i){r===void 0&&(r="div"),e===void 0&&(e={}),n===void 0&&(n={});var t=Te.createElement(r);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(ft.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),t.setAttribute(a,s)):a==="textContent"?Xs(t,s):(t[a]!==s||a==="tabIndex")&&(t[a]=s)}),Object.getOwnPropertyNames(n).forEach(function(a){t.setAttribute(a,n[a])}),i&&S0(t,i),t}function Xs(r,e){return typeof r.textContent>"u"?r.innerText=e:r.textContent=e,r}function Gm(r,e){e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}function Fs(r,e){return KE(e),r.classList?r.classList.contains(e):CF(e).test(r.className)}function ta(r,e){return r.classList?r.classList.add(e):Fs(r,e)||(r.className=(r.className+" "+e).trim()),r}function _c(r,e){return r?(r.classList?r.classList.remove(e):(KE(e),r.className=r.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),r):(ft.warn("removeClass was called with an element that doesn't exist"),null)}function YE(r,e,n){var i=Fs(r,e);if(typeof n=="function"&&(n=n(r,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?ta(r,e):_c(r,e),r}function QE(r,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i>"u"||i===!1?r.removeAttribute(n):r.setAttribute(n,i===!0?"":i)})}function zi(r){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(r&&r.attributes&&r.attributes.length>0)for(var i=r.attributes,t=i.length-1;t>=0;t--){var a=i[t].name,s=i[t].value;(typeof r[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function ZE(r,e){return r.getAttribute(e)}function tu(r,e,n){r.setAttribute(e,n)}function kh(r,e){r.removeAttribute(e)}function e1(){Te.body.focus(),Te.onselectstart=function(){return!1}}function t1(){Te.onselectstart=function(){return!0}}function ru(r){if(r&&r.getBoundingClientRect&&r.parentNode){var e=r.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Jl(r,"height"))),n.width||(n.width=parseFloat(Jl(r,"width"))),n}}function Yl(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=r.offsetWidth,n=r.offsetHeight,i=0,t=0;r.offsetParent&&r!==Te[Pf.fullscreenElement];)i+=r.offsetLeft,t+=r.offsetTop,r=r.offsetParent;return{left:i,top:t,width:e,height:n}}function Dh(r,e){var n={x:0,y:0};if(Qr)for(var i=r;i&&i.nodeName.toLowerCase()!=="html";){var t=Jl(i,"transform");if(/^matrix/.test(t)){var a=t.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var l={},c=Yl(e.target),f=Yl(r),h=f.width,g=f.height,v=e.offsetY-(f.top-c.top),T=e.offsetX-(f.left-c.left);return e.changedTouches&&(T=e.changedTouches[0].pageX-f.left,v=e.changedTouches[0].pageY+f.top,Qr&&(T-=n.x,v-=n.y)),l.y=1-Math.max(0,Math.min(1,v/g)),l.x=Math.max(0,Math.min(1,T/h)),l}function r1(r){return sa(r)&&r.nodeType===3}function T0(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function n1(r){return typeof r=="function"&&(r=r()),(Array.isArray(r)?r:[r]).map(function(e){if(typeof e=="function"&&(e=e()),cu(e)||r1(e))return e;if(typeof e=="string"&&/\S/.test(e))return Te.createTextNode(e)}).filter(function(e){return e})}function S0(r,e){return n1(e).forEach(function(n){return r.appendChild(n)}),r}function i1(r,e){return S0(T0(r),e)}function Ql(r){return r.button===void 0&&r.buttons===void 0||r.button===0&&r.buttons===void 0||r.type==="mouseup"&&r.button===0&&r.buttons===0?!0:!(r.button!==0||r.buttons!==1)}var Ja=JE("querySelector"),a1=JE("querySelectorAll"),s1=Object.freeze({__proto__:null,isReal:lu,isEl:cu,isInFrame:XE,createEl:vt,textContent:Xs,prependTo:Gm,hasClass:Fs,addClass:ta,removeClass:_c,toggleClass:YE,setAttributes:QE,getAttributes:zi,getAttribute:ZE,setAttribute:tu,removeAttribute:kh,blockTextSelection:e1,unblockTextSelection:t1,getBoundingClientRect:ru,findPosition:Yl,getPointerPosition:Dh,isTextNode:r1,emptyEl:T0,normalizeContent:n1,appendContent:S0,insertContent:i1,isSingleLeftClick:Ql,$:Ja,$$:a1}),o1=!1,zm,AF=function(){if(zm.options.autoSetup!==!1){var e=Array.prototype.slice.call(Te.getElementsByTagName("video")),n=Array.prototype.slice.call(Te.getElementsByTagName("audio")),i=Array.prototype.slice.call(Te.getElementsByTagName("video-js")),t=e.concat(n,i);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++){var l=t[a];if(l&&l.getAttribute){if(l.player===void 0){var c=l.getAttribute("data-setup");c!==null&&zm(l)}}else{Km(1);break}}else o1||Km(1)}};function Km(r,e){!lu()||(e&&(zm=e),V.setTimeout(AF,r))}function Xm(){o1=!0,V.removeEventListener("load",Xm)}lu()&&(Te.readyState==="complete"?Xm():V.addEventListener("load",Xm));var u1=function(e){var n=Te.createElement("style");return n.className=e,n},l1=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},kF=3,DF=kF;function ga(){return DF++}var c1;V.WeakMap||(c1=function(){function r(){this.vdata="vdata"+Math.floor(V.performance&&V.performance.now()||Date.now()),this.data={}}var e=r.prototype;return e.set=function(i,t){var a=i[this.vdata]||ga();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=t,this},e.get=function(i){var t=i[this.vdata];if(t)return this.data[t];ft("We have no data for this element",i)},e.has=function(i){var t=i[this.vdata];return t in this.data},e.delete=function(i){var t=i[this.vdata];t&&(delete this.data[t],delete i[this.vdata])},r}());var Jr=V.WeakMap?new WeakMap:new c1;function xT(r,e){if(!!Jr.has(r)){var n=Jr.get(r);n.handlers[e].length===0&&(delete n.handlers[e],r.removeEventListener?r.removeEventListener(e,n.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Jr.delete(r)}}function x0(r,e,n,i){n.forEach(function(t){r(e,t,i)})}function Ph(r){if(r.fixed_)return r;function e(){return!0}function n(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var i=r||V.event;r={};for(var t in i)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&t!=="path"&&(t==="returnValue"&&i.preventDefault||(r[t]=i[t]));if(r.target||(r.target=r.srcElement||Te),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){i.preventDefault&&i.preventDefault(),r.returnValue=!1,i.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),r.cancelBubble=!0,i.cancelBubble=!0,r.isPropagationStopped=e},r.isPropagationStopped=n,r.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),r.isImmediatePropagationStopped=e,r.stopPropagation()},r.isImmediatePropagationStopped=n,r.clientX!==null&&r.clientX!==void 0){var a=Te.documentElement,s=Te.body;r.pageX=r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}r.which=r.charCode||r.keyCode,r.button!==null&&r.button!==void 0&&(r.button=r.button&1?0:r.button&4?1:r.button&2?2:0)}return r.fixed_=!0,r}var Fd,PF=function(){if(typeof Fd!="boolean"){Fd=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Fd=!0}});V.addEventListener("test",null,e),V.removeEventListener("test",null,e)}catch{}}return Fd},IF=["touchstart","touchmove"];function Tn(r,e,n){if(Array.isArray(e))return x0(Tn,r,e,n);Jr.has(r)||Jr.set(r,{});var i=Jr.get(r);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=ga()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=Ph(a);var l=i.handlers[a.type];if(l)for(var c=l.slice(0),f=0,h=c.length;f<h&&!a.isImmediatePropagationStopped();f++)try{c[f].call(r,a,s)}catch(g){ft.error(g)}}}),i.handlers[e].length===1)if(r.addEventListener){var t=!1;PF()&&IF.indexOf(e)>-1&&(t={passive:!0}),r.addEventListener(e,i.dispatcher,t)}else r.attachEvent&&r.attachEvent("on"+e,i.dispatcher)}function Hr(r,e,n){if(!!Jr.has(r)){var i=Jr.get(r);if(!!i.handlers){if(Array.isArray(e))return x0(Hr,r,e,n);var t=function(f,h){i.handlers[h]=[],xT(f,h)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&t(r,a);return}var s=i.handlers[e];if(!!s){if(!n){t(r,e);return}if(n.guid)for(var l=0;l<s.length;l++)s[l].guid===n.guid&&s.splice(l--,1);xT(r,e)}}}}function du(r,e,n){var i=Jr.has(r)?Jr.get(r):{},t=r.parentNode||r.ownerDocument;if(typeof e=="string"?e={type:e,target:r}:e.target||(e.target=r),e=Ph(e),i.dispatcher&&i.dispatcher.call(r,e,n),t&&!e.isPropagationStopped()&&e.bubbles===!0)du.call(null,t,e,n);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){Jr.has(e.target)||Jr.set(e.target,{});var a=Jr.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function Ih(r,e,n){if(Array.isArray(e))return x0(Ih,r,e,n);var i=function t(){Hr(r,e,t),n.apply(this,arguments)};i.guid=n.guid=n.guid||ga(),Tn(r,e,i)}function d1(r,e,n){var i=function t(){Hr(r,e,t),n.apply(this,arguments)};i.guid=n.guid=n.guid||ga(),Tn(r,e,i)}var OF=Object.freeze({__proto__:null,fixEvent:Ph,on:Tn,off:Hr,trigger:du,one:Ih,any:d1}),Qn=30,Ut=function(e,n,i){n.guid||(n.guid=ga());var t=n.bind(e);return t.guid=i?i+"_"+n.guid:n.guid,t},oa=function(e,n){var i=V.performance.now(),t=function(){var s=V.performance.now();s-i>=n&&(e.apply(void 0,arguments),i=s)};return t},LF=function(e,n,i,t){t===void 0&&(t=V);var a,s=function(){t.clearTimeout(a),a=null},l=function(){var f=this,h=arguments,g=function(){a=null,g=null,i||e.apply(f,h)};!a&&i&&e.apply(f,h),t.clearTimeout(a),a=t.setTimeout(g,n)};return l.cancel=s,l},Tr=function(){};Tr.prototype.allowedEvents_={};Tr.prototype.on=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},Tn(this,r,e),this.addEventListener=n};Tr.prototype.addEventListener=Tr.prototype.on;Tr.prototype.off=function(r,e){Hr(this,r,e)};Tr.prototype.removeEventListener=Tr.prototype.off;Tr.prototype.one=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},Ih(this,r,e),this.addEventListener=n};Tr.prototype.any=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},d1(this,r,e),this.addEventListener=n};Tr.prototype.trigger=function(r){var e=r.type||r;typeof r=="string"&&(r={type:e}),r=Ph(r),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](r),du(this,r)};Tr.prototype.dispatchEvent=Tr.prototype.trigger;var ll;Tr.prototype.queueTrigger=function(r){var e=this;ll||(ll=new Map);var n=r.type||r,i=ll.get(this);i||(i=new Map,ll.set(this,i));var t=i.get(n);i.delete(n),V.clearTimeout(t);var a=V.setTimeout(function(){i.delete(n),i.size===0&&(i=null,ll.delete(e)),e.trigger(r)},0);i.set(n,a)};var Oh=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ra=function(e){return e instanceof Tr||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},RF=function(e,n){ra(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},Jm=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},If=function(e,n,i){if(!e||!e.nodeName&&!ra(e))throw new Error("Invalid target for "+Oh(n)+"#"+i+"; must be a DOM node or evented object.")},f1=function(e,n,i){if(!Jm(e))throw new Error("Invalid event type for "+Oh(n)+"#"+i+"; must be a non-empty string or array.")},h1=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+Oh(n)+"#"+i+"; must be a function.")},Mg=function(e,n,i){var t=n.length<3||n[0]===e||n[0]===e.eventBusEl_,a,s,l;return t?(a=e.eventBusEl_,n.length>=3&&n.shift(),s=n[0],l=n[1]):(a=n[0],s=n[1],l=n[2]),If(a,e,i),f1(s,e,i),h1(l,e,i),l=Ut(e,l),{isTargetingSelf:t,target:a,type:s,listener:l}},Ts=function(e,n,i,t){If(e,e,n),e.nodeName?OF[n](e,i,t):e[n](i,t)},NF={on:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=Mg(this,i,"on"),s=a.isTargetingSelf,l=a.target,c=a.type,f=a.listener;if(Ts(l,"on",c,f),!s){var h=function(){return e.off(l,c,f)};h.guid=f.guid;var g=function(){return e.off("dispose",h)};g.guid=f.guid,Ts(this,"on","dispose",h),Ts(l,"on","dispose",g)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=Mg(this,i,"one"),s=a.isTargetingSelf,l=a.target,c=a.type,f=a.listener;if(s)Ts(l,"one",c,f);else{var h=function g(){e.off(l,c,g);for(var v=arguments.length,T=new Array(v),w=0;w<v;w++)T[w]=arguments[w];f.apply(null,T)};h.guid=f.guid,Ts(l,"one",c,h)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=Mg(this,i,"any"),s=a.isTargetingSelf,l=a.target,c=a.type,f=a.listener;if(s)Ts(l,"any",c,f);else{var h=function g(){e.off(l,c,g);for(var v=arguments.length,T=new Array(v),w=0;w<v;w++)T[w]=arguments[w];f.apply(null,T)};h.guid=f.guid,Ts(l,"any",c,h)}},off:function(e,n,i){if(!e||Jm(e))Hr(this.eventBusEl_,e,n);else{var t=e,a=n;If(t,this,"off"),f1(a,this,"off"),h1(i,this,"off"),i=Ut(this,i),this.off("dispose",i),t.nodeName?(Hr(t,a,i),Hr(t,"dispose",i)):ra(t)&&(t.off(a,i),t.off("dispose",i))}},trigger:function(e,n){If(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!Jm(i)){var t="Invalid event type for "+Oh(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||ft).error(t);else throw new Error(t)}return du(this.eventBusEl_,e,n)}};function E0(r,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!r[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');r.eventBusEl_=r[i]}else r.eventBusEl_=vt("span",{className:"vjs-event-bus"});return Yt(r,NF),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(t){t()}),r.on("dispose",function(){r.off(),[r,r.el_,r.eventBusEl_].forEach(function(t){t&&Jr.has(t)&&Jr.delete(t)}),V.setTimeout(function(){r.eventBusEl_=null},0)}),r}var FF={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return Uo(e,function(t,a){n.state[a]!==t&&(i=i||{},i[a]={from:n.state[a],to:t}),n.state[a]=t}),i&&ra(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function p1(r,e){return Yt(r,FF),r.state=Yt({},r.state,e),typeof r.handleStateChanged=="function"&&ra(r)&&r.on("statechanged",r.handleStateChanged),r}var tf=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},rr=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},MF=function(e,n){return rr(e)===rr(n)};function Bt(){for(var r={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(t){!t||Uo(t,function(a,s){if(!Xl(a)){r[s]=a;return}Xl(r[s])||(r[s]={}),r[s]=Bt(r[s],a)})}),r}var BF=function(){function r(){this.map_={}}var e=r.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var t=this.has(i);return delete this.map_[i],t},e.set=function(i,t){return this.map_[i]=t,this},e.forEach=function(i,t){for(var a in this.map_)i.call(t,this.map_[a],a,this)},r}(),UF=V.Map?V.Map:BF,jF=function(){function r(){this.set_={}}var e=r.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var t=this.has(i);return delete this.set_[i],t},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,t){for(var a in this.set_)i.call(t,a,a,this)},r}(),Bg=V.Set?V.Set:jF,pe=function(){function r(n,i,t){var a=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Bt({},this.options_),i=this.options_=Bt(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=n&&n.id&&n.id()||"no_player";this.id_=s+"_component_"+ga()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(l){return a.addClass(l)}),i.evented!==!1&&(E0(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),p1(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Bg,this.setIntervalIds_=new Bg,this.rafIds_=new Bg,this.namedRafs_=new UF,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(t),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=r.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Bt(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,t,a){return vt(i,t,a)},e.localize=function(i,t,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),l=this.player_.languages&&this.player_.languages(),c=l&&l[s],f=s&&s.split("-")[0],h=l&&l[f],g=a;return c&&c[i]?g=c[i]:h&&h[i]&&(g=h[i]),t&&(g=g.replace(/\{(\d+)\}/g,function(v,T){var w=t[T-1],D=w;return typeof w>"u"&&(D=v),D})),g},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];t=t.reduce(function(c,f){return c.concat(f)},[]);for(var s=this,l=0;l<t.length;l++)if(s=s.getChild(t[l]),!s||!s.getChild)return;return s},e.addChild=function(i,t,a){t===void 0&&(t={}),a===void 0&&(a=this.children_.length);var s,l;if(typeof i=="string"){l=rr(i);var c=t.componentClass||l;t.name=l;var f=r.getComponent(c);if(!f)throw new Error("Component "+c+" does not exist");if(typeof f!="function")return null;s=new f(this.player_||this,t)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),l=l||s.name&&rr(s.name()),l&&(this.childNameIndex_[l]=s,this.childNameIndex_[tf(l)]=s),typeof s.el=="function"&&s.el()){var h=null;this.children_[a+1]&&(this.children_[a+1].el_?h=this.children_[a+1].el_:cu(this.children_[a+1])&&(h=this.children_[a+1])),this.contentEl().insertBefore(s.el(),h)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var t=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){t=!0,this.children_.splice(a,1);break}if(!!t){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[rr(i.name())]=null,this.childNameIndex_[tf(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,t=this.options_.children;if(t){var a=this.options_,s=function(h){var g=h.name,v=h.opts;if(a[g]!==void 0&&(v=a[g]),v!==!1){v===!0&&(v={}),v.playerOptions=i.options_.playerOptions;var T=i.addChild(g,v);T&&(i[g]=T)}},l,c=r.getComponent("Tech");Array.isArray(t)?l=t:l=Object.keys(t),l.concat(Object.keys(this.options_).filter(function(f){return!l.some(function(h){return typeof h=="string"?f===h:f===h.name})})).map(function(f){var h,g;return typeof f=="string"?(h=f,g=t[h]||i.options_[h]||{}):(h=f.name,g=f),{name:h,opts:g}}).filter(function(f){var h=r.getComponent(f.opts.componentClass||rr(f.name));return h&&!c.isTech(h)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,t){if(t===void 0&&(t=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}t?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(i,t){return Ja(i,t||this.contentEl())},e.$$=function(i,t){return a1(i,t||this.contentEl())},e.hasClass=function(i){return Fs(this.el_,i)},e.addClass=function(i){ta(this.el_,i)},e.removeClass=function(i){_c(this.el_,i)},e.toggleClass=function(i,t){YE(this.el_,i,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return ZE(this.el_,i)},e.setAttribute=function(i,t){tu(this.el_,i,t)},e.removeAttribute=function(i){kh(this.el_,i)},e.width=function(i,t){return this.dimension("width",i,t)},e.height=function(i,t){return this.dimension("height",i,t)},e.dimensions=function(i,t){this.width(i,!0),this.height(t)},e.dimension=function(i,t,a){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[i]=t:t==="auto"?this.el_.style[i]="":this.el_.style[i]=t+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],l=s.indexOf("px");return parseInt(l!==-1?s.slice(0,l):this.el_["offset"+rr(i)],10)},e.currentDimension=function(i){var t=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(t=Jl(this.el_,i),t=parseFloat(t),t===0||isNaN(t)){var a="offset"+rr(i);t=this.el_[a]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(ot.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,t=null,a=10,s=200,l;this.on("touchstart",function(f){f.touches.length===1&&(t={pageX:f.touches[0].pageX,pageY:f.touches[0].pageY},i=V.performance.now(),l=!0)}),this.on("touchmove",function(f){if(f.touches.length>1)l=!1;else if(t){var h=f.touches[0].pageX-t.pageX,g=f.touches[0].pageY-t.pageY,v=Math.sqrt(h*h+g*g);v>a&&(l=!1)}});var c=function(){l=!1};this.on("touchleave",c),this.on("touchcancel",c),this.on("touchend",function(f){if(t=null,l===!0){var h=V.performance.now()-i;h<s&&(f.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=Ut(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var a=function(l){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,t){var a=this,s;return i=Ut(this,i),this.clearTimersOnDispose_(),s=V.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),V.clearTimeout(i)),i},e.setInterval=function(i,t){i=Ut(this,i),this.clearTimersOnDispose_();var a=V.setInterval(i,t);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),V.clearInterval(i)),i},e.requestAnimationFrame=function(i){var t=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=Ut(this,i),a=V.requestAnimationFrame(function(){t.rafIds_.has(a)&&t.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,t){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),t=Ut(this,t);var s=this.requestAnimationFrame(function(){t(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),V.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var a=t[0],s=t[1];i[a].forEach(function(l,c){return i[s](c)})}),i.clearingTimersOnDispose_=!1}))},r.registerComponent=function(i,t){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=r.getComponent("Tech"),s=a&&a.isTech(t),l=r===t||r.prototype.isPrototypeOf(t.prototype);if(s||!l){var c;throw s?c="techs must be registered using Tech.registerTech()":c="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+c+".")}i=rr(i),r.components_||(r.components_={});var f=r.getComponent("Player");if(i==="Player"&&f&&f.players){var h=f.players,g=Object.keys(h);if(h&&g.length>0&&g.map(function(v){return h[v]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[i]=t,r.components_[tf(i)]=t,t},r.getComponent=function(i){if(!(!i||!r.components_))return r.components_[i]},r}();pe.prototype.supportsRaf_=typeof V.requestAnimationFrame=="function"&&typeof V.cancelAnimationFrame=="function";pe.registerComponent("Component",pe);function $F(r,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function ET(r,e,n,i){return $F(r,i,n.length-1),n[i][e]}function Ug(r){var e;return r===void 0||r.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:r.length,start:ET.bind(null,"start",0,r),end:ET.bind(null,"end",1,r)},V.Symbol&&V.Symbol.iterator&&(e[V.Symbol.iterator]=function(){return(r||[]).values()}),e}function Ms(r,e){return Array.isArray(r)?Ug(r):r===void 0||e===void 0?Ug():Ug([[r,e]])}function g1(r,e){var n=0,i,t;if(!e)return 0;(!r||!r.length)&&(r=Ms(0,0));for(var a=0;a<r.length;a++)i=r.start(a),t=r.end(a),t>e&&(t=e),n+=t-i;return n/e}function Yr(r){if(r instanceof Yr)return r;typeof r=="number"?this.code=r:typeof r=="string"?this.message=r:sa(r)&&(typeof r.code=="number"&&(this.code=r.code),Yt(this,r)),this.message||(this.message=Yr.defaultMessages[this.code]||"")}Yr.prototype.code=0;Yr.prototype.message="";Yr.prototype.status=null;Yr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Yr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Co=0;Co<Yr.errorTypes.length;Co++)Yr[Yr.errorTypes[Co]]=Co,Yr.prototype[Yr.errorTypes[Co]]=Co;function Pl(r){return r!=null&&typeof r.then=="function"}function mi(r){Pl(r)&&r.then(null,function(e){})}var Ym=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,t,a){return e[t]&&(i[t]=e[t]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},HF=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(a){return a.track}),t=Array.prototype.map.call(n,function(a){var s=Ym(a.track);return a.src&&(s.src=a.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(Ym))},VF=function(e,n){return e.forEach(function(i){var t=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return t.addCue(a)})}),n.textTracks()},wT={textTracksToJson:HF,jsonToTextTracks:VF,trackToJson_:Ym},jg="vjs-modal-dialog",fu=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=vt("div",{className:jg+"-content"},{role:"document"}),a.descEl_=vt("p",{className:jg+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),Xs(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},n.buildCSSClass=function(){return jg+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},n.close=function(){if(!!this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if(typeof t=="boolean"){var a=this.closeable_=!!t,s=this.getChild("closeButton");if(a&&!s){var l=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=l,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var a=this.contentEl(),s=a.parentNode,l=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),i1(a,t),this.trigger("modalfill"),l?s.insertBefore(a,l):s.appendChild(a);var c=this.getChild("closeButton");c&&s.appendChild(c.el_)},n.empty=function(){this.trigger("beforemodalempty"),T0(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return typeof t<"u"&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=Te.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(t)||a===t)&&(this.previouslyActiveEl_=t,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(t){if(t.stopPropagation(),ot.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(!!ot.isEventKey(t,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),l,c=0;c<a.length;c++)if(s===a[c]){l=c;break}Te.activeElement===this.el_&&(l=0),t.shiftKey&&l===0?(a[a.length-1].focus(),t.preventDefault()):!t.shiftKey&&l===a.length-1&&(a[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(a){return(a instanceof V.HTMLAnchorElement||a instanceof V.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof V.HTMLInputElement||a instanceof V.HTMLSelectElement||a instanceof V.HTMLTextAreaElement||a instanceof V.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof V.HTMLIFrameElement||a instanceof V.HTMLObjectElement||a instanceof V.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(pe);fu.prototype.options_={pauseOnOpen:!0,temporary:!0};pe.registerComponent("ModalDialog",fu);var nu=function(r){Ae(e,r);function e(i){var t;i===void 0&&(i=[]),t=r.call(this)||this,t.tracks_=[],Object.defineProperty(tt(t),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)t.addTrack(i[a]);return t}var n=e.prototype;return n.addTrack=function(t){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){a.trigger({track:t,type:"labelchange",target:a})},ra(t)&&t.addEventListener("labelchange",t.labelchange_)},n.removeTrack=function(t){for(var a,s=0,l=this.length;s<l;s++)if(this[s]===t){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(t){for(var a=null,s=0,l=this.length;s<l;s++){var c=this[s];if(c.id===t){a=c;break}}return a},e}(Tr);nu.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var qF in nu.prototype.allowedEvents_)nu.prototype["on"+qF]=null;var $g=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},WF=function(r){Ae(e,r);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){$g(i,i[a]);break}return t=r.call(this,i)||this,t.changing_=!1,t}var n=e.prototype;return n.addTrack=function(t){var a=this;t.enabled&&$g(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){a.changing_||(a.changing_=!0,$g(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(nu),Hg=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},GF=function(r){Ae(e,r);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){Hg(i,i[a]);break}return t=r.call(this,i)||this,t.changing_=!1,Object.defineProperty(tt(t),"selectedIndex",{get:function(){for(var l=0;l<this.length;l++)if(this[l].selected)return l;return-1},set:function(){}}),t}var n=e.prototype;return n.addTrack=function(t){var a=this;t.selected&&Hg(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){a.changing_||(a.changing_=!0,Hg(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(nu),m1=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(t){var a=this;r.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(nu),zF=function(){function r(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,t=n.length;i<t;i++)this.addTrackElement_(n[i])}var e=r.prototype;return e.addTrackElement_=function(i){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var t,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){t=this.trackElements_[a];break}return t},e.removeTrackElement_=function(i){for(var t=0,a=this.trackElements_.length;t<a;t++)if(i===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},r}(),CT=function(){function r(n){r.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=r.prototype;return e.setCues_=function(i){var t=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var l=function(f){""+f in this||Object.defineProperty(this,""+f,{get:function(){return this.cues_[f]}})};if(t<s)for(a=t;a<s;a++)l.call(this,a)},e.getCueById=function(i){for(var t=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===i){t=l;break}}return t},r}(),KF={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},XF={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},JF={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},AT={disabled:"disabled",hidden:"hidden",showing:"showing"},w0=function(r){Ae(e,r);function e(n){var i;n===void 0&&(n={}),i=r.call(this)||this;var t={id:n.id||"vjs_track_"+ga(),kind:n.kind||"",language:n.language||""},a=n.label||"",s=function(f){Object.defineProperty(tt(i),f,{get:function(){return t[f]},set:function(){}})};for(var l in t)s(l);return Object.defineProperty(tt(i),"label",{get:function(){return a},set:function(f){f!==a&&(a=f,this.trigger("labelchange"))}}),i}return e}(Tr),C0=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=Te.createElement("a");i.href=e;for(var t={},a=0;a<n.length;a++)t[n[a]]=i[n[a]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=V.location.protocol),t.host||(t.host=V.location.host),t},v1=function(e){if(!e.match(/^https?:\/\//)){var n=Te.createElement("a");n.href=e,e=n.href}return e},A0=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},Lh=function(e,n){n===void 0&&(n=V.location);var i=C0(e),t=i.protocol===":"?n.protocol:i.protocol,a=t+i.host!==n.protocol+n.host;return a},YF=Object.freeze({__proto__:null,parseUrl:C0,getAbsoluteURL:v1,getFileExtension:A0,isCrossOrigin:Lh}),kT=function(e,n){var i=new V.WebVTT.Parser(V,V.vttjs,V.WebVTT.StringDecoder()),t=[];i.oncue=function(a){n.addCue(a)},i.onparsingerror=function(a){t.push(a)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),t.length>0&&(V.console&&V.console.groupCollapsed&&V.console.groupCollapsed("Text Track parsing errors for "+n.src),t.forEach(function(a){return ft.error(a)}),V.console&&V.console.groupEnd&&V.console.groupEnd()),i.flush()},DT=function(e,n){var i={uri:e},t=Lh(e);t&&(i.cors=t);var a=n.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),vh.exports(i,Ut(this,function(s,l,c){if(s)return ft.error(s,l);n.loaded_=!0,typeof V.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(f){if(f.type==="vttjserror"){ft.error("vttjs failed to load, stopping trying to process "+n.src);return}return kT(c,n)}):kT(c,n)}))},yc=function(r){Ae(e,r);function e(i){var t;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Bt(i,{kind:JF[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=AT[a.mode]||"disabled",l=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),t=r.call(this,a)||this,t.tech_=a.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var c=new CT(t.cues_),f=new CT(t.activeCues_),h=!1;t.timeupdateHandler=Ut(tt(t),function(v){if(v===void 0&&(v={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){v.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1),v.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var g=function(){t.stopTracking()};return t.tech_.one("dispose",g),s!=="disabled"&&t.startTracking(),Object.defineProperties(tt(t),{default:{get:function(){return l},set:function(){}},mode:{get:function(){return s},set:function(T){!AT[T]||s!==T&&(s=T,!this.preload_&&s!=="disabled"&&this.cues.length===0&&DT(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?c:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return f;for(var T=this.tech_.currentTime(),w=[],D=0,P=this.cues.length;D<P;D++){var R=this.cues[D];(R.startTime<=T&&R.endTime>=T||R.startTime===R.endTime&&R.startTime<=T&&R.startTime+.5>=T)&&w.push(R)}if(h=!1,w.length!==this.activeCues_.length)h=!0;else for(var M=0;M<w.length;M++)this.activeCues_.indexOf(w[M])===-1&&(h=!0);return this.activeCues_=w,f.setCues_(this.activeCues_),f},set:function(){}}}),a.src?(t.src=a.src,t.preload_||(t.loaded_=!0),(t.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&DT(t.src,tt(t))):t.loaded_=!0,t}var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(t){var a=t;if(a.constructor&&a.constructor.name!=="VTTCue"){a=new V.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in a||(a[s]=t[s]);a.id=t.id,a.originalCue_=t}for(var l=this.tech_.textTracks(),c=0;c<l.length;c++)l[c]!==this&&l[c].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(w0);yc.prototype.allowedEvents_={cuechange:"cuechange"};var _1=function(r){Ae(e,r);function e(n){var i;n===void 0&&(n={});var t=Bt(n,{kind:XF[n.kind]||""});i=r.call(this,t)||this;var a=!1;return Object.defineProperty(tt(i),"enabled",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("enabledchange"))}}),t.enabled&&(i.enabled=t.enabled),i.loaded_=!0,i}return e}(w0),y1=function(r){Ae(e,r);function e(n){var i;n===void 0&&(n={});var t=Bt(n,{kind:KF[n.kind]||""});i=r.call(this,t)||this;var a=!1;return Object.defineProperty(tt(i),"selected",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("selectedchange"))}}),t.selected&&(i.selected=t.selected),i}return e}(w0),b1=0,QF=1,T1=2,ZF=3,hu=function(r){Ae(e,r);function e(n){var i;n===void 0&&(n={}),i=r.call(this)||this;var t,a=new yc(n);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(tt(i),{readyState:{get:function(){return t}},track:{get:function(){return a}}}),t=b1,a.addEventListener("loadeddata",function(){t=T1,i.trigger({type:"load",target:tt(i)})}),i}return e}(Tr);hu.prototype.allowedEvents_={load:"load"};hu.NONE=b1;hu.LOADING=QF;hu.LOADED=T1;hu.ERROR=ZF;var Rn={audio:{ListClass:WF,TrackClass:_1,capitalName:"Audio"},video:{ListClass:GF,TrackClass:y1,capitalName:"Video"},text:{ListClass:m1,TrackClass:yc,capitalName:"Text"}};Object.keys(Rn).forEach(function(r){Rn[r].getterName=r+"Tracks",Rn[r].privateName=r+"Tracks_"});var iu={remoteText:{ListClass:m1,TrackClass:yc,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:zF,TrackClass:hu,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},zr=Nn({},Rn,iu);iu.names=Object.keys(iu);Rn.names=Object.keys(Rn);zr.names=[].concat(iu.names).concat(Rn.names);function eM(r,e,n,i,t){t===void 0&&(t={});var a=r.textTracks();t.kind=e,n&&(t.label=n),i&&(t.language=i),t.tech=r;var s=new zr.text.TrackClass(t);return a.addTrack(s),s}var Ot=function(r){Ae(e,r);function e(i,t){var a;return i===void 0&&(i={}),t===void 0&&(t=function(){}),i.reportTouchActivity=!1,a=r.call(this,null,i,t)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),zr.names.forEach(function(s){var l=zr[s];i&&i[l.getterName]&&(a[l.privateName]=i[l.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new zr.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=e.prototype;return n.triggerSourceset=function(t){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ut(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return Ms(0,0)},n.bufferedPercent=function(){return g1(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Rn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},n.clearTracks=function(t){var a=this;t=[].concat(t),t.forEach(function(s){for(var l=a[s+"Tracks"]()||[],c=l.length;c--;){var f=l[c];s==="text"&&a.removeRemoteTextTrack(f),l.removeTrack(f)}})},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],a=t.length;a--;){var s=t[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(t){return t!==void 0&&(this.error_=new Yr(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Ms(0,0):Ms()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;Rn.names.forEach(function(a){var s=Rn[a],l=function(){t.trigger(a+"trackchange")},c=t[s.getterName]();c.addEventListener("removetrack",l),c.addEventListener("addtrack",l),t.on("dispose",function(){c.removeEventListener("removetrack",l),c.removeEventListener("addtrack",l)})})},n.addWebVttScript_=function(){var t=this;if(!V.WebVTT)if(Te.body.contains(this.el())){if(!this.options_["vtt.js"]&&Xl(Fm.exports)&&Object.keys(Fm.exports).length>0){this.trigger("vttjsloaded");return}var a=Te.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){t.trigger("vttjsloaded")},a.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),V.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,a=this.textTracks(),s=this.remoteTextTracks(),l=function(v){return a.addTrack(v.track)},c=function(v){return a.removeTrack(v.track)};s.on("addtrack",l),s.on("removetrack",c),this.addWebVttScript_();var f=function(){return t.trigger("texttrackchange")},h=function(){f();for(var v=0;v<a.length;v++){var T=a[v];T.removeEventListener("cuechange",f),T.mode==="showing"&&T.addEventListener("cuechange",f)}};h(),a.addEventListener("change",h),a.addEventListener("addtrack",h),a.addEventListener("removetrack",h),this.on("dispose",function(){s.off("addtrack",l),s.off("removetrack",c),a.removeEventListener("change",h),a.removeEventListener("addtrack",h),a.removeEventListener("removetrack",h);for(var g=0;g<a.length;g++){var v=a[g];v.removeEventListener("cuechange",f)}})},n.addTextTrack=function(t,a,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return eM(this,t,a,s)},n.createRemoteTextTrack=function(t){var a=Bt(t,{tech:this});return new iu.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(t,a){var s=this;t===void 0&&(t={});var l=this.createRemoteTextTrack(t);return a!==!0&&a!==!1&&(ft.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(l.track)}),l},n.removeRemoteTextTrack=function(t){var a=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var t=this.options_.Promise||V.Promise;if(t)return t.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(t){var a=this,s=ga();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),t())})):this.requestNamedAnimationFrame(s,t),s},n.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,a){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=rr(t),e.techs_[t]=a,e.techs_[tf(t)]=a,t!=="Tech"&&e.defaultTechOrder_.push(t),a},e.getTech=function(t){if(!!t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=rr(t),V&&V.videojs&&V.videojs[t])return ft.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),V.videojs[t]}},e}(pe);zr.names.forEach(function(r){var e=zr[r];Ot.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ot.prototype.featuresVolumeControl=!0;Ot.prototype.featuresMuteControl=!0;Ot.prototype.featuresFullscreenResize=!1;Ot.prototype.featuresPlaybackRate=!1;Ot.prototype.featuresProgressEvents=!1;Ot.prototype.featuresSourceset=!1;Ot.prototype.featuresTimeupdateEvents=!1;Ot.prototype.featuresNativeTextTracks=!1;Ot.prototype.featuresVideoFrameCallback=!1;Ot.withSourceHandlers=function(r){r.registerSourceHandler=function(n,i){var t=r.sourceHandlers;t||(t=r.sourceHandlers=[]),i===void 0&&(i=t.length),t.splice(i,0,n)},r.canPlayType=function(n){for(var i=r.sourceHandlers||[],t,a=0;a<i.length;a++)if(t=i[a].canPlayType(n),t)return t;return""},r.selectSourceHandler=function(n,i){for(var t=r.sourceHandlers||[],a,s=0;s<t.length;s++)if(a=t[s].canHandleSource(n,i),a)return t[s];return null},r.canPlaySource=function(n,i){var t=r.selectSourceHandler(n,i);return t?t.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(n){var i=r.selectSourceHandler(n,this.options_);i||(r.nativeSourceHandler?i=r.nativeSourceHandler:ft.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==r.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};pe.registerComponent("Tech",Ot);Ot.registerTech("Tech",Ot);Ot.defaultTechOrder_=[];var Bs={},Qm={},Of={};function tM(r,e){Bs[r]=Bs[r]||[],Bs[r].push(e)}function rM(r,e,n){r.setTimeout(function(){return xs(e,Bs[e.type],n,r)},1)}function nM(r,e){r.forEach(function(n){return n.setTech&&n.setTech(e)})}function iM(r,e,n){return r.reduceRight(k0(n),e[n]())}function aM(r,e,n,i){return e[n](r.reduce(k0(n),i))}function PT(r,e,n,i){i===void 0&&(i=null);var t="call"+rr(n),a=r.reduce(k0(t),i),s=a===Of,l=s?null:e[n](a);return uM(r,n,l,s),l}var sM={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},oM={setCurrentTime:1,setMuted:1,setVolume:1},IT={play:1,pause:1};function k0(r){return function(e,n){return e===Of?Of:n[r]?n[r](e):e}}function uM(r,e,n,i){for(var t=r.length-1;t>=0;t--){var a=r[t];a[e]&&a[e](i,n)}}function lM(r){Qm[r.id()]=null}function cM(r,e){var n=Qm[r.id()],i=null;if(n==null)return i=e(r),Qm[r.id()]=[[e,i]],i;for(var t=0;t<n.length;t++){var a=n[t],s=a[0],l=a[1];s===e&&(i=l)}return i===null&&(i=e(r),n.push([e,i])),i}function xs(r,e,n,i,t,a){r===void 0&&(r={}),e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a=!1);var s=e,l=s[0],c=s.slice(1);if(typeof l=="string")xs(r,Bs[l],n,i,t,a);else if(l){var f=cM(i,l);if(!f.setSource)return t.push(f),xs(r,c,n,i,t,a);f.setSource(Yt({},r),function(h,g){if(h)return xs(r,c,n,i,t,a);t.push(f),xs(g,r.type===g.type?c:Bs[g.type],n,i,t,a)})}else c.length?xs(r,c,n,i,t,a):a?n(r,t):xs(r,Bs["*"],n,i,t,!0)}var dM={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Lf=function(e){e===void 0&&(e="");var n=A0(e),i=dM[n.toLowerCase()];return i||""},fM=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(l){return l.src===n});if(i.length)return i[0].type;for(var t=e.$$("source"),a=0;a<t.length;a++){var s=t[a];if(s.type&&s.src&&s.src===n)return s.type}return Lf(n)},hM=function r(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=r(i),Array.isArray(i)?n=n.concat(i):sa(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[OT({src:e})]:sa(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[OT(e)]:e=[];return e};function OT(r){if(!r.type){var e=Lf(r.src);e&&(r.type=e)}return r}var pM=function(r){Ae(e,r);function e(n,i,t){var a,s=Bt({createEl:!1},i);if(a=r.call(this,n,s,t)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var l=0,c=i.playerOptions.techOrder;l<c.length;l++){var f=rr(c[l]),h=Ot.getTech(f);if(f||(h=pe.getComponent(f)),h&&h.isSupported()){n.loadTech_(f);break}}else n.src(i.playerOptions.sources);return a}return e}(pe);pe.registerComponent("MediaLoader",pM);var Rh=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var n=e.prototype;return n.createEl=function(t,a,s){t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Yt({className:this.buildCSSClass(),tabIndex:0},a),t==="button"&&ft.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=Yt({role:"button"},s),this.tabIndex_=a.tabIndex;var l=vt(t,a,s);return l.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},n.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=vt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,a){if(a===void 0&&(a=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,Xs(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){ot.isEventKey(t,"Space")||ot.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(pe);pe.registerComponent("ClickableComponent",Rh);var gM=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},n.createEl=function(){var t=vt("div",{className:"vjs-poster",tabIndex:-1});return t},n.update=function(t){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(t){var a="";t&&(a='url("'+t+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(t){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((vc||mc)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?mi(this.player_.play()):this.player_.pause()}},e}(Rh);pe.registerComponent("PosterImage",gM);var Pn="#222",LT="#ccc",mM={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Vg(r,e){var n;if(r.length===4)n=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else if(r.length===7)n=r.slice(1);else throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function qg(r,e,n){try{r.style[e]=n}catch{return}}var vM=function(r){Ae(e,r);function e(i,t,a){var s;s=r.call(this,i,t,a)||this;var l=function(f){return s.updateDisplay(f)};return i.on("loadstart",function(c){return s.toggleDisplay(c)}),i.on("texttrackchange",l),i.on("loadedmetadata",function(c){return s.preselectTrack(c)}),i.ready(Ut(tt(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",l),i.on("playerresize",l),V.addEventListener("orientationchange",l),i.on("dispose",function(){return V.removeEventListener("orientationchange",l)});for(var c=this.options_.playerOptions.tracks||[],f=0;f<c.length;f++)this.player_.addRemoteTextTrack(c[f],!0);this.preselectTrack()})),s}var n=e.prototype;return n.preselectTrack=function(){for(var t={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,l,c,f,h=0;h<a.length;h++){var g=a[h];s&&s.enabled&&s.language&&s.language===g.language&&g.kind in t?g.kind===s.kind?f=g:f||(f=g):s&&!s.enabled?(f=null,l=null,c=null):g.default&&(g.kind==="descriptions"&&!l?l=g:g.kind in t&&!c&&(c=g))}f?f.mode="showing":c?c.mode="showing":l&&(l.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof V.WebVTT=="function"&&V.WebVTT.processCues(V,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],l=0;l<t.length;++l){var c=t[l];c.mode==="showing"&&s.push(c)}this.updateForTrack(s);return}for(var f=null,h=null,g=t.length;g--;){var v=t[g];v.mode==="showing"&&(v.kind==="descriptions"?f=v:h=v)}h?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(h)):f&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))},n.updateDisplayState=function(t){for(var a=this.player_.textTrackSettings.getValues(),s=t.activeCues,l=s.length;l--;){var c=s[l];if(!!c){var f=c.displayState;if(a.color&&(f.firstChild.style.color=a.color),a.textOpacity&&qg(f.firstChild,"color",Vg(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(f.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&qg(f.firstChild,"backgroundColor",Vg(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?qg(f,"backgroundColor",Vg(a.windowColor,a.windowOpacity)):f.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?f.firstChild.style.textShadow="2px 2px 3px "+Pn+", 2px 2px 4px "+Pn+", 2px 2px 5px "+Pn:a.edgeStyle==="raised"?f.firstChild.style.textShadow="1px 1px "+Pn+", 2px 2px "+Pn+", 3px 3px "+Pn:a.edgeStyle==="depressed"?f.firstChild.style.textShadow="1px 1px "+LT+", 0 1px "+LT+", -1px -1px "+Pn+", 0 -1px "+Pn:a.edgeStyle==="uniform"&&(f.firstChild.style.textShadow="0 0 4px "+Pn+", 0 0 4px "+Pn+", 0 0 4px "+Pn+", 0 0 4px "+Pn)),a.fontPercent&&a.fontPercent!==1){var h=V.parseFloat(f.style.fontSize);f.style.fontSize=h*a.fontPercent+"px",f.style.height="auto",f.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?f.firstChild.style.fontVariant="small-caps":f.firstChild.style.fontFamily=mM[a.fontFamily])}}},n.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof V.WebVTT!="function"||t.every(function(T){return!T.activeCues}))){for(var a=[],s=0;s<t.length;++s)for(var l=t[s],c=0;c<l.activeCues.length;++c)a.push(l.activeCues[c]);V.WebVTT.processCues(V,a,this.el_);for(var f=0;f<t.length;++f){for(var h=t[f],g=0;g<h.activeCues.length;++g){var v=h.activeCues[g].displayState;ta(v,"vjs-text-track-cue"),ta(v,"vjs-text-track-cue-"+(h.language?h.language:f)),h.language&&tu(v,"lang",h.language)}this.player_.textTrackSettings&&this.updateDisplayState(h)}}},e}(pe);pe.registerComponent("TextTrackDisplay",vM);var _M=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=this.player_.isAudio(),a=this.localize(t?"Audio Player":"Video Player"),s=vt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),l=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return l.appendChild(s),l},e}(pe);pe.registerComponent("LoadingSpinner",_M);var Jn=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(t,a,s){a===void 0&&(a={}),s===void 0&&(s={}),t="button",a=Yt({className:this.buildCSSClass()},a),s=Yt({type:"button"},s);var l=vt(t,a,s);return l.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},n.addChild=function(t,a){a===void 0&&(a={});var s=this.constructor.name;return ft.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),pe.prototype.addChild.call(this,t,a)},n.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){if(ot.isEventKey(t,"Space")||ot.isEventKey(t,"Enter")){t.stopPropagation();return}r.prototype.handleKeyDown.call(this,t)},e}(Rh);pe.registerComponent("Button",Jn);var S1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var a=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;mi(a),this.player_.tech(!0)&&!((vc||mc)&&s)&&this.player_.tech(!0).focus();return}var l=this.player_.getChild("controlBar"),c=l&&l.getChild("playToggle");if(!c){this.player_.tech(!0).focus();return}var f=function(){return c.focus()};Pl(a)?a.then(f,function(){}):this.setTimeout(f,1)},n.handleKeyDown=function(t){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(Jn);S1.prototype.controlText_="Play Video";pe.registerComponent("BigPlayButton",S1);var yM=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.controlText(t&&t.controlText||a.localize("Close")),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){ot.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(Jn);pe.registerComponent("CloseButton",yM);var x1=function(r){Ae(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,t.replay=t.replay===void 0||t.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),t.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?mi(this.player_.play()):this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(Jn);x1.prototype.controlText_="Play";pe.registerComponent("PlayToggle",x1);var E1=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),t=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(n/60%60),l=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(a=t=i="-"),a=a>0||l>0?a+":":"",t=((a||s>=10)&&t<10?"0"+t:t)+":",i=i<10?"0"+i:i,a+t+i},D0=E1;function bM(r){D0=r}function TM(){D0=E1}function au(r,e){return e===void 0&&(e=r),D0(r,e)}var pu=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var n=e.prototype;return n.createEl=function(){var t=this.buildCSSClass(),a=r.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=vt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=vt("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},n.updateTextNode_=function(t){var a=this;t===void 0&&(t=0),t=au(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,ft.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=Te.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},n.updateContent=function(t){},e}(pe);pu.prototype.labelText_="Time";pu.prototype.controlText_="Time";pe.registerComponent("TimeDisplay",pu);var P0=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(pu);P0.prototype.labelText_="Current Time";P0.prototype.controlText_="Current Time";pe.registerComponent("CurrentTimeDisplay",P0);var I0=function(r){Ae(e,r);function e(i,t){var a;a=r.call(this,i,t)||this;var s=function(c){return a.updateContent(c)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var a=this.player_.duration();this.updateTextNode_(a)},e}(pu);I0.prototype.labelText_="Duration";I0.prototype.controlText_="Duration";pe.registerComponent("DurationDisplay",I0);var SM=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=r.prototype.createEl.call(this,"div"),s=r.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),t.appendChild(a),t},e}(pe);pe.registerComponent("TimeDivider",SM);var O0=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=r.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&t.insertBefore(vt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(t){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(pu);O0.prototype.labelText_="Remaining Time";O0.prototype.controlText_="Remaining Time";pe.registerComponent("RemainingTimeDisplay",O0);var xM=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=vt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(vt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(Te.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(pe);pe.registerComponent("LiveDisplay",xM);var w1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=vt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},e}(Jn);w1.prototype.controlText_="Seek to live, currently playing live";pe.registerComponent("SeekToLive",w1);var Nh=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},L0=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(!!this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Yt({tabIndex:0},a),s=Yt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),r.prototype.createEl.call(this,t,a,s)},n.handleMouseDown=function(t){var a=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!pa&&t.preventDefault(),e1(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;t1(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var t=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},n.getProgress=function(){return Number(Nh(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var a=Dh(this.el_,t);return this.vertical()?a.y:a.x},n.handleKeyDown=function(t){ot.isEventKey(t,"Left")||ot.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):ot.isEventKey(t,"Right")||ot.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,t)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(pe);pe.registerComponent("Slider",L0);var Wg=function(e,n){return Nh(e/n*100,0,100).toFixed(2)+"%"},EM=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=vt("span",{className:"vjs-control-text"}),s=vt("span",{textContent:this.localize("Loaded")}),l=Te.createTextNode(": ");return this.percentageEl_=vt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(a),a.appendChild(s),a.appendChild(l),a.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},n.update=function(t){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,l=a.player_.buffered(),c=s&&s.isLive()?s.seekableEnd():a.player_.duration(),f=a.player_.bufferedEnd(),h=a.partEls_,g=Wg(f,c);a.percent_!==g&&(a.el_.style.width=g,Xs(a.percentageEl_,g),a.percent_=g);for(var v=0;v<l.length;v++){var T=l.start(v),w=l.end(v),D=h[v];D||(D=a.el_.appendChild(vt()),h[v]=D),!(D.dataset.start===T&&D.dataset.end===w)&&(D.dataset.start=T,D.dataset.end=w,D.style.left=Wg(T,f),D.style.width=Wg(w-T,f))}for(var P=h.length;P>l.length;P--)a.el_.removeChild(h[P-1]);h.length=l.length})},e}(pe);pe.registerComponent("LoadProgressBar",EM);var wM=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=oa(Ut(tt(a),a.update),Qn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,a,s){var l=Yl(this.el_),c=ru(this.player_.el()),f=t.width*a;if(!(!c||!l)){var h=t.left-c.left+f,g=t.width-f+(c.right-t.right),v=l.width/2;h<v?v+=v-h:g<v&&(v=g),v<0?v=0:v>l.width&&(v=l.width),v=Math.round(v),this.el_.style.right="-"+v+"px",this.write(s)}},n.write=function(t){Xs(this.el_,t)},n.updateTime=function(t,a,s,l){var c=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var f,h=c.player_.duration();if(c.player_.liveTracker&&c.player_.liveTracker.isLive()){var g=c.player_.liveTracker.liveWindow(),v=g-a*g;f=(v<1?"":"-")+au(v,g)}else f=au(s,h);c.update(t,a,f),l&&l()})},e}(pe);pe.registerComponent("TimeTooltip",wM);var R0=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=oa(Ut(tt(a),a.update),Qn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,a){var s=this.getChild("timeTooltip");if(!!s){var l=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,a,l)}},e}(pe);R0.prototype.options_={children:[]};!Qr&&!ha&&R0.prototype.options_.children.push("timeTooltip");pe.registerComponent("PlayProgressBar",R0);var C1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=oa(Ut(tt(a),a.update),Qn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,a){var s=this,l=a*this.player_.duration();this.getChild("timeTooltip").updateTime(t,a,l,function(){s.el_.style.left=t.width*a+"px"})},e}(pe);C1.prototype.options_={children:["timeTooltip"]};pe.registerComponent("MouseTimeDisplay",C1);var Md=5,RT=12,N0=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.setEventHandlers_(),a}var n=e.prototype;return n.setEventHandlers_=function(){var t=this;this.update_=Ut(this,this.update),this.update=oa(this.update_,Qn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return t.enableInterval_(a)},this.disableIntervalHandler_=function(a){return t.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Te&&"visibilityState"in Te&&this.on(Te,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){Te.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Qn))},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var a=this;if(Te.visibilityState!=="hidden"){var s=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var l=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),c=a.player_.liveTracker,f=a.player_.duration();c&&c.isLive()&&(f=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==l||a.duration_!==f)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[au(l,f),au(f,f)],"{1} of {2}")),a.currentTime_=l,a.duration_=f),a.bar&&a.bar.update(ru(a.el()),a.getProgress())}),s}},n.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var t=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=t/this.player_.duration(),a},n.handleMouseDown=function(t){!Ql(t)||(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(t,a){if(a===void 0&&(a=!1),!!Ql(t)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,l=this.calculateDistance(t),c=this.player_.liveTracker;if(!c||!c.isLive())s=l*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(l>=.99){c.seekToLiveEdge();return}var f=c.seekableStart(),h=c.liveCurrentTime();if(s=f+l*c.liveWindow(),s>=h&&(s=h),s<=f&&(s=f+.1),s===1/0)return}this.userSeek_(s)}},n.enable=function(){r.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.show()},n.disable=function(){r.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.hide()},n.handleMouseUp=function(t){r.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?mi(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+Md)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-Md)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var a=this.player_.liveTracker;if(ot.isEventKey(t,"Space")||ot.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(ot.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(ot.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ot(t))){t.preventDefault(),t.stopPropagation();var s=(ot.codes[ot(t)]-ot.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else ot.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-Md*RT)):ot.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+Md*RT)):r.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Te&&"visibilityState"in Te&&this.off(Te,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},e}(L0);N0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Qr&&!ha&&N0.prototype.options_.children.splice(1,0,"mouseTimeDisplay");pe.registerComponent("SeekBar",N0);var A1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleMouseMove=oa(Ut(tt(a),a.handleMouseMove),Qn),a.throttledHandleMouseSeek=oa(Ut(tt(a),a.handleMouseSeek),Qn),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),l=a.getChild("mouseTimeDisplay");if(!(!s&&!l)){var c=a.el(),f=Yl(c),h=Dh(c,t).x;h=Nh(h,0,1),l&&l.update(f,h),s&&s.update(f,a.getProgress())}}},n.handleMouseSeek=function(t){var a=this.getChild("seekBar");a&&a.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&mi(this.player_.play())}},n.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(t){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(pe);A1.prototype.options_={children:["seekBar"]};pe.registerComponent("ProgressControl",A1);var k1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){Te.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Jn);k1.prototype.controlText_="Picture-in-Picture";pe.registerComponent("PictureInPictureToggle",k1);var D1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),Te[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Jn);D1.prototype.controlText_="Fullscreen";pe.registerComponent("FullscreenToggle",D1);var CM=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},AM=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(r.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(pe);pe.registerComponent("VolumeLevel",AM);var kM=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=oa(Ut(tt(a),a.update),Qn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(t,a,s,l){if(!s){var c=ru(this.el_),f=ru(this.player_.el()),h=t.width*a;if(!f||!c)return;var g=t.left-f.left+h,v=t.width-h+(f.right-t.right),T=c.width/2;g<T?T+=T-g:v<T&&(T=v),T<0?T=0:T>c.width&&(T=c.width),this.el_.style.right="-"+T+"px"}this.write(l+"%")},n.write=function(t){Xs(this.el_,t)},n.updateVolume=function(t,a,s,l,c){var f=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){f.update(t,a,s,l.toFixed(0)),c&&c()})},e}(pe);pe.registerComponent("VolumeLevelTooltip",kM);var P1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=oa(Ut(tt(a),a.update),Qn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,a,s){var l=this,c=100*a;this.getChild("volumeLevelTooltip").updateVolume(t,a,s,c,function(){s?l.el_.style.bottom=t.height*a+"px":l.el_.style.left=t.width*a+"px"})},e}(pe);P1.prototype.options_={children:["volumeLevelTooltip"]};pe.registerComponent("MouseVolumeLevelDisplay",P1);var Fh=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){!Ql(t)||r.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(t){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),l=ru(s),c=this.vertical(),f=Dh(s,t);f=c?f.y:f.x,f=Nh(f,0,1),a.update(l,f,c)}!Ql(t)||(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var t=this,a=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(a)})},e}(L0);Fh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Qr&&!ha&&Fh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Fh.prototype.playerEvent="volumechange";pe.registerComponent("VolumeBar",Fh);var I1=function(r){Ae(e,r);function e(i,t){var a;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||Xl(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),a=r.call(this,i,t)||this,CM(tt(a),i),a.throttledHandleMouseMove=oa(Ut(tt(a),a.handleMouseMove),Qn),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=e.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(t){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(pe);I1.prototype.options_={children:["volumeBar"]};pe.registerComponent("VolumeControl",I1);var DM=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},O1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,DM(tt(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var l=s<.1?.1:s;this.player_.volume(l),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),a=3;Qr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?a=0:t<.33?a=1:t<.67&&(a=2);for(var s=0;s<4;s++)_c(this.el_,"vjs-vol-"+s);ta(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,a=t?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(Jn);O1.prototype.controlText_="Mute";pe.registerComponent("MuteToggle",O1);var L1=function(r){Ae(e,r);function e(i,t){var a;return t===void 0&&(t={}),typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||Xl(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),a=r.call(this,i,t)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(t){ot.isEventKey(t,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(t){this.addClass("vjs-hover"),Tn(Te,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(t){this.removeClass("vjs-hover"),Hr(Te,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(t){ot.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(pe);L1.prototype.options_={children:["muteToggle","volumeControl"]};pe.registerComponent("VolumePanel",L1);var R1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,t&&(a.menuButton_=t.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof pe&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof pe&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),r.prototype.removeChild.call(this,t)},n.addItem=function(t){var a=this.addChild(t);a&&this.addEventListenerForItem(a)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=vt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),Tn(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},n.handleBlur=function(t){var a=t.relatedTarget||Te.activeElement;if(!this.children().some(function(l){return l.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(l){return l.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(t){ot.isEventKey(t,"Left")||ot.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(ot.isEventKey(t,"Right")||ot.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){t===void 0&&(t=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(t<0?t=0:t>=a.length&&(t=a.length-1),this.focusedChild_=t,a[t].el_.focus())},e}(pe);pe.registerComponent("Menu",R1);var F0=function(r){Ae(e,r);function e(i,t){var a;t===void 0&&(t={}),a=r.call(this,i,t)||this,a.menuButton_=new Jn(i,t),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Jn.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var l=function(f){return a.handleClick(f)};return a.handleMenuKeyUp_=function(c){return a.handleMenuKeyUp(c)},a.on(a.menuButton_,"tap",l),a.on(a.menuButton_,"click",l),a.on(a.menuButton_,"keydown",function(c){return a.handleKeyDown(c)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),Tn(Te,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(c){return a.handleMouseLeave(c)}),a.on("keydown",function(c){return a.handleSubmenuKeyDown(c)}),a}var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var t=new R1(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=vt("li",{className:"vjs-menu-title",textContent:rr(this.options_.title),tabIndex:-1}),s=new pe(this.player_,{el:a});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var l=0;l<this.items.length;l++)t.addItem(this.items[l]);return t},n.createItems=function(){},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var a=Jn.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+a+" "+r.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+r.prototype.buildCSSClass.call(this)},n.controlText=function(t,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(t,a)},n.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Hr(Te,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){ot.isEventKey(t,"Esc")||ot.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),ot.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(ot.isEventKey(t,"Up")||ot.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(t){(ot.isEventKey(t,"Esc")||ot.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(ot.isEventKey(t,"Esc")||ot.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ot.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Qr&&XE())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(pe);pe.registerComponent("MenuButton",F0);var M0=function(r){Ae(e,r);function e(n,i){var t,a=i.tracks;if(t=r.call(this,n,i)||this,t.items.length<=1&&t.hide(),!a)return tt(t);var s=Ut(tt(t),t.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),t}return e}(F0);pe.registerComponent("TrackButton",M0);var PM=["Tab","Esc","Up","Down","Right","Left"],bc=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.selectable=t.selectable,a.isSelected_=t.selected||!1,a.multiSelectable=t.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=e.prototype;return n.createEl=function(t,a,s){this.nonIconControl=!0;var l=r.prototype.createEl.call(this,"li",Yt({className:"vjs-menu-item",tabIndex:-1},a),s);return l.replaceChild(vt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),l.querySelector(".vjs-icon-placeholder")),l},n.handleKeyDown=function(t){PM.some(function(a){return ot.isEventKey(t,a)})||r.prototype.handleKeyDown.call(this,t)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Rh);pe.registerComponent("MenuItem",bc);var Tc=function(r){Ae(e,r);function e(i,t){var a,s=t.track,l=i.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",a=r.call(this,i,t)||this,a.track=s,a.kinds=(t.kinds||[t.kind||a.track.kind]).filter(Boolean);var c=function(){for(var v=arguments.length,T=new Array(v),w=0;w<v;w++)T[w]=arguments[w];a.handleTracksChange.apply(tt(a),T)},f=function(){for(var v=arguments.length,T=new Array(v),w=0;w<v;w++)T[w]=arguments[w];a.handleSelectedLanguageChange.apply(tt(a),T)};if(i.on(["loadstart","texttrackchange"],c),l.addEventListener("change",c),l.addEventListener("selectedlanguagechange",f),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],c),l.removeEventListener("change",c),l.removeEventListener("selectedlanguagechange",f)}),l.onchange===void 0){var h;a.on(["tap","click"],function(){if(typeof V.Event!="object")try{h=new V.Event("change")}catch{}h||(h=Te.createEvent("Event"),h.initEvent("change",!0,!0)),l.dispatchEvent(h)})}return a.handleTracksChange(),a}var n=e.prototype;return n.handleClick=function(t){var a=this.track,s=this.player_.textTracks();if(r.prototype.handleClick.call(this,t),!!s)for(var l=0;l<s.length;l++){var c=s[l];this.kinds.indexOf(c.kind)!==-1&&(c===a?c.mode!=="showing"&&(c.mode="showing"):c.mode!=="disabled"&&(c.mode="disabled"))}},n.handleTracksChange=function(t){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,r.prototype.dispose.call(this)},e}(bc);pe.registerComponent("TextTrackMenuItem",Tc);var N1=function(r){Ae(e,r);function e(i,t){return t.track={player:i,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,r.call(this,i,t)||this}var n=e.prototype;return n.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,c=a.length;l<c;l++){var f=a[l];if(this.options_.kinds.indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,c=a.length;l<c;l++){var f=a[l];if(["captions","descriptions","subtitles"].indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Tc);pe.registerComponent("OffTextTrackMenuItem",N1);var gu=function(r){Ae(e,r);function e(i,t){return t===void 0&&(t={}),t.tracks=i.textTracks(),r.call(this,i,t)||this}var n=e.prototype;return n.createItems=function(t,a){t===void 0&&(t=[]),a===void 0&&(a=Tc);var s;this.label_&&(s=this.label_+" off"),t.push(new N1(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var l=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var c=0;c<l.length;c++){var f=l[c];if(this.kinds_.indexOf(f.kind)>-1){var h=new a(this.player_,{track:f,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});h.addClass("vjs-"+f.kind+"-menu-item"),t.push(h)}}return t},e}(M0);pe.registerComponent("TextTrackButton",gu);var F1=function(r){Ae(e,r);function e(i,t){var a,s=t.track,l=t.cue,c=i.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=l.text,t.selected=l.startTime<=c&&c<l.endTime,a=r.call(this,i,t)||this,a.track=s,a.cue=l,a}var n=e.prototype;return n.handleClick=function(t){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(bc);pe.registerComponent("ChaptersTrackMenuItem",F1);var B0=function(r){Ae(e,r);function e(i,t,a){var s;return s=r.call(this,i,t,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(l){l.selected(s.track_.activeCues[0]===l.cue)})},s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!(t&&t.track&&t.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),r.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&r.prototype.update.call(this)}},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],a=t.length-1;a>=0;a--){var s=t[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(rr(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var a=this.track_.cues;if(!a)return t;for(var s=0,l=a.length;s<l;s++){var c=a[s],f=new F1(this.player_,{track:this.track_,cue:c});t.push(f)}return t},e}(gu);B0.prototype.kind_="chapters";B0.prototype.controlText_="Chapters";pe.registerComponent("ChaptersButton",B0);var U0=function(r){Ae(e,r);function e(i,t,a){var s;s=r.call(this,i,t,a)||this;var l=i.textTracks(),c=Ut(tt(s),s.handleTracksChange);return l.addEventListener("change",c),s.on("dispose",function(){l.removeEventListener("change",c)}),s}var n=e.prototype;return n.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!1,l=0,c=a.length;l<c;l++){var f=a[l];if(f.kind!==this.kind_&&f.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(gu);U0.prototype.kind_="descriptions";U0.prototype.controlText_="Descriptions";pe.registerComponent("DescriptionsButton",U0);var j0=function(r){Ae(e,r);function e(i,t,a){return r.call(this,i,t,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(gu);j0.prototype.kind_="subtitles";j0.prototype.controlText_="Subtitles";pe.registerComponent("SubtitlesButton",j0);var $0=function(r){Ae(e,r);function e(i,t){var a;return t.track={player:i,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",a=r.call(this,i,t)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+t.kind+" settings dialog"),a}var n=e.prototype;return n.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Tc);pe.registerComponent("CaptionSettingsMenuItem",$0);var H0=function(r){Ae(e,r);function e(i,t,a){return r.call(this,i,t,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new $0(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,t)},e}(gu);H0.prototype.kind_="captions";H0.prototype.controlText_="Captions";pe.registerComponent("CaptionsButton",H0);var M1=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),c=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(c.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(vt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),l},e}(Tc);pe.registerComponent("SubsCapsMenuItem",M1);var V0=function(r){Ae(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(rr(a.label_)),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new $0(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=r.prototype.createItems.call(this,t,M1),t},e}(gu);V0.prototype.kinds_=["captions","subtitles"];V0.prototype.controlText_="Subtitles";pe.registerComponent("SubsCapsButton",V0);var B1=function(r){Ae(e,r);function e(i,t){var a,s=t.track,l=i.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,a=r.call(this,i,t)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var c=function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];a.handleTracksChange.apply(tt(a),g)};return l.addEventListener("change",c),a.on("dispose",function(){l.removeEventListener("change",c)}),a}var n=e.prototype;return n.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),c=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(c.appendChild(vt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(vt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),l},n.handleClick=function(t){if(r.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];l!==this.track&&(l.enabled=l===this.track)}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(bc);pe.registerComponent("AudioTrackMenuItem",B1);var U1=function(r){Ae(e,r);function e(i,t){return t===void 0&&(t={}),t.tracks=i.audioTracks(),r.call(this,i,t)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];t.push(new B1(this.player_,{track:l,selectable:!0,multiSelectable:!1}))}return t},e}(M0);U1.prototype.controlText_="Audio Track";pe.registerComponent("AudioTrackButton",U1);var q0=function(r){Ae(e,r);function e(i,t){var a,s=t.rate,l=parseFloat(s,10);return t.label=s,t.selected=l===i.playbackRate(),t.selectable=!0,t.multiSelectable=!1,a=r.call(this,i,t)||this,a.label=s,a.rate=l,a.on(i,"ratechange",function(c){return a.update(c)}),a}var n=e.prototype;return n.handleClick=function(t){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(bc);q0.prototype.contentElType="button";pe.registerComponent("PlaybackRateMenuItem",q0);var j1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=vt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var t=this.playbackRates(),a=[],s=t.length-1;s>=0;s--)a.push(new q0(this.player(),{rate:t[s]+"x"}));return a},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){var a=this.player().playbackRate(),s=this.playbackRates(),l=s.indexOf(a),c=(l+1)%s.length;this.player().playbackRate(s[c])},n.handlePlaybackRateschange=function(t){this.update()},n.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(F0);j1.prototype.controlText_="Playback Rate";pe.registerComponent("PlaybackRateMenuButton",j1);var $1=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},n.createEl=function(t,a,s){return t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),r.prototype.createEl.call(this,t,a,s)},e}(pe);pe.registerComponent("Spacer",$1);var IM=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}($1);pe.registerComponent("CustomControlSpacer",IM);var Rf=function(r){Ae(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(pe);Rf.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Te&&Rf.prototype.options_.children.splice(Rf.prototype.options_.children.length-1,0,"pictureInPictureToggle");pe.registerComponent("ControlBar",Rf);var H1=function(r){Ae(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"error",function(s){return a.open(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(fu);H1.prototype.options_=Nn({},fu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});pe.registerComponent("ErrorDisplay",H1);var Gg="vjs-text-track-settings",NT=["#000","Black"],FT=["#00F","Blue"],MT=["#0FF","Cyan"],BT=["#0F0","Green"],UT=["#F0F","Magenta"],jT=["#F00","Red"],$T=["#FFF","White"],HT=["#FF0","Yellow"],zg=["1","Opaque"],Kg=["0.5","Semi-Transparent"],VT=["0","Transparent"],ws={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[NT,$T,jT,BT,FT,HT,UT,MT]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[zg,Kg,VT]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[$T,NT,jT,BT,FT,HT,UT,MT]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[zg,Kg]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[VT,Kg,zg]}};ws.windowColor.options=ws.backgroundColor.options;function V1(r,e){if(e&&(r=e(r)),r&&r!=="none")return r}function OM(r,e){var n=r.options[r.options.selectedIndex].value;return V1(n,e)}function LM(r,e,n){if(!!e){for(var i=0;i<r.options.length;i++)if(V1(r.options[i].value,n)===e){r.selectedIndex=i;break}}}var RM=function(r){Ae(e,r);function e(i,t){var a;return t.temporary=!1,a=r.call(this,i,t)||this,a.updateDisplay=a.updateDisplay.bind(tt(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=vt("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),t.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Uo(ws,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=e.prototype;return n.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},n.createElSelect_=function(t,a,s){var l=this;a===void 0&&(a=""),s===void 0&&(s="label");var c=ws[t],f=c.id.replace("%s",this.id_),h=[a,f].join(" ").trim();return["<"+s+' id="'+f+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(c.label),"</"+s+">",'<select aria-labelledby="'+h+'">'].concat(c.options.map(function(g){var v=f+"-"+g[1].replace(/\W+/g,"");return['<option id="'+v+'" value="'+g[0]+'" ','aria-labelledby="'+h+" "+v+'">',l.localize(g[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return vt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return vt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return vt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t=this;return SF(ws,function(a,s,l){var c=OM(t.$(s.selector),s.parser);return c!==void 0&&(a[l]=c),a},{})},n.setValues=function(t){var a=this;Uo(ws,function(s,l){LM(a.$(s.selector),t[l],s.parser)})},n.setDefaults=function(){var t=this;Uo(ws,function(a){var s=a.hasOwnProperty("default")?a.default:0;t.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var t;try{t=JSON.parse(V.localStorage.getItem(Gg))}catch(a){ft.warn(a)}t&&this.setValues(t)},n.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?V.localStorage.setItem(Gg,JSON.stringify(t)):V.localStorage.removeItem(Gg)}catch(a){ft.warn(a)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,a=t&&t.subsCapsButton,s=t&&t.captionsButton;a?a.focus():s&&s.focus()},e}(fu);pe.registerComponent("TextTrackSettings",RM);var NM=function(r){Ae(e,r);function e(i,t){var a,s=t.ResizeObserver||V.ResizeObserver;t.ResizeObserver===null&&(s=!1);var l=Bt({createEl:!s,reportTouchActivity:!1},t);return a=r.call(this,i,l)||this,a.ResizeObserver=t.ResizeObserver||V.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=LF(function(){a.resizeHandler()},100,!1,tt(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var c=a.debouncedHandler_,f=a.unloadListener_=function(){Hr(this,"resize",c),Hr(this,"unload",f),f=null};Tn(a.el_.contentWindow,"unload",f),Tn(a.el_.contentWindow,"resize",c)}},a.one("load",a.loadListener_)),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},e}(pe);pe.registerComponent("ResizeManager",NM);var FM={trackingThreshold:20,liveTolerance:15},MM=function(r){Ae(e,r);function e(i,t){var a,s=Bt(FM,t,{createEl:!1});return a=r.call(this,i,s)||this,a.handleVisibilityChange_=function(l){return a.handleVisibilityChange(l)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(l){return a.handlePlay(l)},a.handleFirstTimeupdate_=function(l){return a.handleFirstTimeupdate(l)},a.handleSeeked_=function(l){return a.handleSeeked(l)},a.seekToLiveEdge_=function(l){return a.seekToLiveEdge(l)},a.reset_(),a.on(a.player_,"durationchange",function(l){return a.handleDurationchange(l)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),vc&&"hidden"in Te&&"visibilityState"in Te&&a.on(Te,"visibilitychange",a.handleVisibilityChange_),a}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Te.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var a=Number(V.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var l=this.liveCurrentTime(),c=this.player_.currentTime(),f=this.player_.paused()||this.seekedBehindLive_||Math.abs(l-c)>this.options_.liveTolerance;(!this.timeupdateSeen_||l===1/0)&&(f=!1),f!==this.behindLiveEdge_&&(this.behindLiveEdge_=f,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Qn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(Te,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},e}(pe);pe.registerComponent("LiveTracker",MM);var Zm=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),t=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var l=i[s].src;l&&t.indexOf(l)===-1&&t.push(l)}return t.length?(t.length===1&&(a=t[0]),e.triggerSourceset(a),!0):!1},BM=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=Te.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=Te.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",V.Element.prototype.appendChild.call(this,i),this.innerHTML}}),q1=function(e,n){for(var i={},t=0;t<e.length&&(i=Object.getOwnPropertyDescriptor(e[t],n),!(i&&i.set&&i.get));t++);return i.enumerable=!0,i.configurable=!0,i},UM=function(e){return q1([e.el(),V.HTMLMediaElement.prototype,V.Element.prototype,BM],"innerHTML")},qT=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},t=UM(e),a=function(l){return function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var g=l.apply(n,f);return Zm(e),g}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!n[s]||(i[s]=n[s],n[s]=a(i[s]))}),Object.defineProperty(n,"innerHTML",Bt(t,{set:a(t.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(s){n[s]=i[s]}),Object.defineProperty(n,"innerHTML",t)},e.one("sourceset",n.resetSourceWatch_)}},jM=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?v1(V.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return V.Element.prototype.setAttribute.call(this,"src",e),e}}),$M=function(e){return q1([e.el(),V.HTMLMediaElement.prototype,jM],"src")},HM=function(e){if(!!e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=$M(e),t=n.setAttribute,a=n.load;Object.defineProperty(n,"src",Bt(i,{set:function(l){var c=i.set.call(n,l);return e.triggerSourceset(n.src),c}})),n.setAttribute=function(s,l){var c=t.call(n,s,l);return/src/i.test(s)&&e.triggerSourceset(n.src),c},n.load=function(){var s=a.call(n);return Zm(e)||(e.triggerSourceset(""),qT(e)),s},n.currentSrc?e.triggerSourceset(n.currentSrc):Zm(e)||qT(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=t,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},W0=function(e,n,i,t){t===void 0&&(t=!0);var a=function(c){return Object.defineProperty(e,n,{value:c,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var c=i();return a(c),c}};return t&&(s.set=a),Object.defineProperty(e,n,s)},Re=function(r){Ae(e,r);function e(i,t){var a;a=r.call(this,i,t)||this;var s=i.source,l=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var c=a.el_.childNodes,f=c.length,h=[];f--;){var g=c[f],v=g.nodeName.toLowerCase();v==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(g),a.remoteTextTracks().addTrack(g.track),a.textTracks().addTrack(g.track),!l&&!a.el_.hasAttribute("crossorigin")&&Lh(g.src)&&(l=!0)):h.push(g))}for(var T=0;T<h.length;T++)a.el_.removeChild(h[T])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&l&&ft.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(eu||b0||qE)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){HM(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),a,s=function(){a=[];for(var f=0;f<t.length;f++){var h=t[f];h.kind==="metadata"&&a.push({track:h,storedMode:h.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var l=function c(){for(var f=0;f<a.length;f++){var h=a[f];h.track.mode==="disabled"&&h.track.mode!==h.storedMode&&(h.track.mode=h.storedMode)}t.removeEventListener("change",c)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",l),t.addEventListener("change",l)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",l)})},n.overrideNative_=function(t,a){var s=this;if(a===this["featuresNative"+t+"Tracks"]){var l=t.toLowerCase();this[l+"TracksListeners_"]&&Object.keys(this[l+"TracksListeners_"]).forEach(function(c){var f=s.el()[l+"Tracks"];f.removeEventListener(c,s[l+"TracksListeners_"][c])}),this["featuresNative"+t+"Tracks"]=!a,this[l+"TracksListeners_"]=null,this.proxyNativeTracksForType_(l)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var a=this,s=Rn[t],l=this.el()[s.getterName],c=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!l||!l.addEventListener)){var f={change:function(v){var T={type:"change",target:c,currentTarget:c,srcElement:c};c.trigger(T),t==="text"&&a[iu.remoteText.getterName]().trigger(T)},addtrack:function(v){c.addTrack(v.track)},removetrack:function(v){c.removeTrack(v.track)}},h=function(){for(var v=[],T=0;T<c.length;T++){for(var w=!1,D=0;D<l.length;D++)if(l[D]===c[T]){w=!0;break}w||v.push(c[T])}for(;v.length;)c.removeTrack(v.shift())};this[s.getterName+"Listeners_"]=f,Object.keys(f).forEach(function(g){var v=f[g];l.addEventListener(g,v),a.on("dispose",function(T){return l.removeEventListener(g,v)})}),this.on("loadstart",h),this.on("dispose",function(g){return a.off("loadstart",h)})}},n.proxyNativeTracks_=function(){var t=this;Rn.names.forEach(function(a){t.proxyNativeTracksForType_(a)})},n.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var a=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(a,t),e.disposeMediaElement(t),t=a}else{t=Te.createElement("video");var s=this.options_.tag&&zi(this.options_.tag),l=Bt({},s);(!eu||this.options_.nativeControlsForTouch!==!0)&&delete l.controls,QE(t,Yt(l,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&tu(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var c=["loop","muted","playsinline","autoplay"],f=0;f<c.length;f++){var h=c[f],g=this.options_[h];typeof g<"u"&&(g?tu(t,h,h):kh(t,h),t[h]=g)}return t},n.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var l=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",l),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",l),a||this.trigger("loadstart")});return}var c=["loadstart"];c.push("loadedmetadata"),t.readyState>=2&&c.push("loadeddata"),t.readyState>=3&&c.push("canplay"),t.readyState>=4&&c.push("canplaythrough"),this.ready(function(){c.forEach(function(f){this.trigger(f)},this)})}},n.setScrubbing=function(t){this.isScrubbing_=t},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&Ah?this.el_.fastSeek(t):this.el_.currentTime=t}catch(a){ft(a,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&ha&&pa&&this.el_.currentTime===0){var a=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=V.navigator&&V.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)mi(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):r.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):r.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(t,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,a,s):r.prototype.addTextTrack.call(this,t,a,s)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,t);var a=Te.createElement("track");return t.kind&&(a.kind=t.kind),t.label&&(a.label=t.label),(t.language||t.srclang)&&(a.srclang=t.language||t.srclang),t.default&&(a.default=t.default),t.id&&(a.id=t.id),t.src&&(a.src=t.src),a},n.addRemoteTextTrack=function(t,a){var s=r.prototype.addRemoteTextTrack.call(this,t,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(t){if(r.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(t===a[s]||t===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),V.performance&&typeof V.performance.now=="function"?t.creationTime=V.performance.now():V.performance&&V.performance.timing&&typeof V.performance.timing.navigationStart=="number"&&(t.creationTime=V.Date.now()-V.performance.timing.navigationStart),t},e}(Ot);W0(Re,"TEST_VID",function(){if(!!lu()){var r=Te.createElement("video"),e=Te.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",r.appendChild(e),r}});Re.isSupported=function(){try{Re.TEST_VID.volume=.5}catch{return!1}return!!(Re.TEST_VID&&Re.TEST_VID.canPlayType)};Re.canPlayType=function(r){return Re.TEST_VID.canPlayType(r)};Re.canPlaySource=function(r,e){return Re.canPlayType(r.type)};Re.canControlVolume=function(){try{var r=Re.TEST_VID.volume;Re.TEST_VID.volume=r/2+.1;var e=r!==Re.TEST_VID.volume;return e&&Qr?(V.setTimeout(function(){Re&&Re.prototype&&(Re.prototype.featuresVolumeControl=r!==Re.TEST_VID.volume)}),!1):e}catch{return!1}};Re.canMuteVolume=function(){try{var r=Re.TEST_VID.muted;return Re.TEST_VID.muted=!r,Re.TEST_VID.muted?tu(Re.TEST_VID,"muted","muted"):kh(Re.TEST_VID,"muted","muted"),r!==Re.TEST_VID.muted}catch{return!1}};Re.canControlPlaybackRate=function(){if(ha&&pa&&GE<58)return!1;try{var r=Re.TEST_VID.playbackRate;return Re.TEST_VID.playbackRate=r/2+.1,r!==Re.TEST_VID.playbackRate}catch{return!1}};Re.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(Te.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(Te.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(Te.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(Te.createElement("audio"),"innerHTML",{get:r,set:r})}catch{return!1}return!0};Re.supportsNativeTextTracks=function(){return Ah||Qr&&pa};Re.supportsNativeVideoTracks=function(){return!!(Re.TEST_VID&&Re.TEST_VID.videoTracks)};Re.supportsNativeAudioTracks=function(){return!!(Re.TEST_VID&&Re.TEST_VID.audioTracks)};Re.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var e=r[0],n=r[1];W0(Re.prototype,e,function(){return Re[n]()},!0)});Re.prototype.featuresVolumeControl=Re.canControlVolume();Re.prototype.movingMediaElementInDOM=!Qr;Re.prototype.featuresFullscreenResize=!0;Re.prototype.featuresProgressEvents=!0;Re.prototype.featuresTimeupdateEvents=!0;Re.prototype.featuresVideoFrameCallback=!!(Re.TEST_VID&&Re.TEST_VID.requestVideoFrameCallback);var Nf;Re.patchCanPlayType=function(){v0>=4&&!WE&&!pa&&(Nf=Re.TEST_VID&&Re.TEST_VID.constructor.prototype.canPlayType,Re.TEST_VID.constructor.prototype.canPlayType=function(r){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return r&&e.test(r)?"maybe":Nf.call(this,r)})};Re.unpatchCanPlayType=function(){var r=Re.TEST_VID.constructor.prototype.canPlayType;return Nf&&(Re.TEST_VID.constructor.prototype.canPlayType=Nf),r};Re.patchCanPlayType();Re.disposeMediaElement=function(r){if(!!r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};Re.resetMediaElement=function(r){if(!!r){for(var e=r.querySelectorAll("source"),n=e.length;n--;)r.removeChild(e[n]);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){Re.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){Re.prototype["set"+rr(r)]=function(e){this.el_[r]=e,e?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){Re.prototype[r]=function(){return this.el_[r]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){Re.prototype["set"+rr(r)]=function(e){this.el_[r]=e}});["pause","load","play"].forEach(function(r){Re.prototype[r]=function(){return this.el_[r]()}});Ot.withSourceHandlers(Re);Re.nativeSourceHandler={};Re.nativeSourceHandler.canPlayType=function(r){try{return Re.TEST_VID.canPlayType(r)}catch{return""}};Re.nativeSourceHandler.canHandleSource=function(r,e){if(r.type)return Re.nativeSourceHandler.canPlayType(r.type);if(r.src){var n=A0(r.src);return Re.nativeSourceHandler.canPlayType("video/"+n)}return""};Re.nativeSourceHandler.handleSource=function(r,e,n){e.setSrc(r.src)};Re.nativeSourceHandler.dispose=function(){};Re.registerSourceHandler(Re.nativeSourceHandler);Ot.registerTech("Html5",Re);var W1=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Xg={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ev=["tiny","xsmall","small","medium","large","xlarge","huge"],rf={};ev.forEach(function(r){var e=r.charAt(0)==="x"?"x-"+r.substring(1):r;rf[r]="vjs-layout-"+e});var VM={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ur=function(r){Ae(e,r);function e(i,t,a){var s;if(i.id=i.id||t.id||"vjs_video_"+ga(),t=Yt(e.getTagSettings(i),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof i.closest=="function"){var l=i.closest("[lang]");l&&l.getAttribute&&(t.language=l.getAttribute("lang"))}else for(var c=i;c&&c.nodeType===1;){if(zi(c).hasOwnProperty("lang")){t.language=c.getAttribute("lang");break}c=c.parentNode}if(s=r.call(this,null,t,a)||this,s.boundDocumentFullscreenChange_=function(v){return s.documentFullscreenChange_(v)},s.boundFullWindowOnEscKey_=function(v){return s.fullWindowOnEscKey(v)},s.boundUpdateStyleEl_=function(v){return s.updateStyleEl_(v)},s.boundApplyInitTime_=function(v){return s.applyInitTime_(v)},s.boundUpdateCurrentBreakpoint_=function(v){return s.updateCurrentBreakpoint_(v)},s.boundHandleTechClick_=function(v){return s.handleTechClick_(v)},s.boundHandleTechDoubleClick_=function(v){return s.handleTechDoubleClick_(v)},s.boundHandleTechTouchStart_=function(v){return s.handleTechTouchStart_(v)},s.boundHandleTechTouchMove_=function(v){return s.handleTechTouchMove_(v)},s.boundHandleTechTouchEnd_=function(v){return s.handleTechTouchEnd_(v)},s.boundHandleTechTap_=function(v){return s.handleTechTap_(v)},s.isFullscreen_=!1,s.log=$E(s.id_),s.fsApi_=Pf,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&zi(i),s.language(s.options_.language),t.languages){var f={};Object.getOwnPropertyNames(t.languages).forEach(function(v){f[v.toLowerCase()]=t.languages[v]}),s.languages_=f}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(v){if(typeof s[v]!="function")throw new Error('plugin "'+v+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),E0(tt(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(Tn(Te,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var h=Bt(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(v){s[v](t.plugins[v])}),t.debug&&s.debug(!0),s.options_.playerOptions=h,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),eu&&s.addClass("vjs-touch-enabled"),Qr||s.addClass("vjs-workinghover"),e.players[s.id_]=tt(s);var g=BE.split(".")[0];return s.addClass("vjs-v"+g),s.userActive(!0),s.reportUserActivity(),s.one("play",function(v){return s.listenForUserActivity_(v)}),s.on("stageclick",function(v){return s.handleStageClick_(v)}),s.on("keydown",function(v){return s.handleKeyDown(v)}),s.on("languagechange",function(v){return s.handleLanguagechange(v)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var n=e.prototype;return n.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),Hr(Te,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Hr(Te,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),lM(this),zr.names.forEach(function(a){var s=zr[a],l=t[s.getterName]();l&&l.off&&l.off()}),r.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t=this.tag,a,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),l=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=t.parentNode:l||(a=this.el_=r.prototype.createEl.call(this,"div"));var c=zi(t);if(l){for(a=this.el_=t,t=this.tag=Te.createElement("video");a.children.length;)t.appendChild(a.firstChild);Fs(a,"video-js")||ta(a,"video-js"),a.appendChild(t),s=this.playerElIngest_=a,Object.keys(a).forEach(function(w){try{t[w]=a[w]}catch{}})}if(t.setAttribute("tabindex","-1"),c.tabindex="-1",(vc||pa&&zE)&&(t.setAttribute("role","application"),c.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in c&&delete c.width,"height"in c&&delete c.height,Object.getOwnPropertyNames(c).forEach(function(w){l&&w==="class"||a.setAttribute(w,c[w]),l&&t.setAttribute(w,c[w])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=a.player=this,this.addClass("vjs-paused"),V.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=u1("vjs-styles-dimensions");var f=Ja(".vjs-styles-defaults"),h=Ja("head");h.insertBefore(this.styleEl_,f?f.nextSibling:h.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var g=t.getElementsByTagName("a"),v=0;v<g.length;v++){var T=g.item(v);ta(T,"vjs-hidden"),T.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(a,t),Gm(t,a),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},n.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){ft.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,a){var s=t+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var l=parseFloat(a);if(isNaN(l)){ft.error('Improper value "'+a+'" supplied for for '+t);return}this[s]=l,this.updateStyleEl_()},n.fluid=function(t){var a=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,ra(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),RF(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(V.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),a>=0&&(s.height=a));return}var l,c,f,h;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?f=this.aspectRatio_:this.videoWidth()>0?f=this.videoWidth()+":"+this.videoHeight():f="16:9";var g=f.split(":"),v=g[1]/g[0];this.width_!==void 0?l=this.width_:this.height_!==void 0?l=this.height_/v:l=this.videoWidth()||300,this.height_!==void 0?c=this.height_:c=l*v,/^[^a-zA-Z]/.test(this.id())?h="dimensions-"+this.id():h=this.id()+"-dimensions",this.addClass(h),l1(this.styleEl_,`
      .`+h+` {
        width: `+l+`px;
        height: `+c+`px;
      }

      .`+h+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+v*100+`%;
      }
    `)},n.loadTech_=function(t,a){var s=this;this.tech_&&this.unloadTech_();var l=rr(t),c=t.charAt(0).toLowerCase()+t.slice(1);l!=="Html5"&&this.tag&&(Ot.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=l,this.isReady_=!1;var f=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(f=!1);var h={source:a,autoplay:f,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+c+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};zr.names.forEach(function(v){var T=zr[v];h[T.getterName]=s[T.privateName]}),Yt(h,this.options_[l]),Yt(h,this.options_[c]),Yt(h,this.options_[t.toLowerCase()]),this.tag&&(h.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(h.startTime=this.cache_.currentTime);var g=Ot.getTech(t);if(!g)throw new Error("No Tech named '"+l+"' exists! '"+l+"' should be registered using videojs.registerTech()'");this.tech_=new g(h),this.tech_.ready(Ut(this,this.handleTechReady_),!0),wT.jsonToTextTracks(this.textTracksJson_||[],this.tech_),W1.forEach(function(v){s.on(s.tech_,v,function(T){return s["handleTech"+rr(v)+"_"](T)})}),Object.keys(Xg).forEach(function(v){s.on(s.tech_,v,function(T){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+Xg[v]+"_"].bind(s),event:T});return}s["handleTech"+Xg[v]+"_"](T)})}),this.on(this.tech_,"loadstart",function(v){return s.handleTechLoadStart_(v)}),this.on(this.tech_,"sourceset",function(v){return s.handleTechSourceset_(v)}),this.on(this.tech_,"waiting",function(v){return s.handleTechWaiting_(v)}),this.on(this.tech_,"ended",function(v){return s.handleTechEnded_(v)}),this.on(this.tech_,"seeking",function(v){return s.handleTechSeeking_(v)}),this.on(this.tech_,"play",function(v){return s.handleTechPlay_(v)}),this.on(this.tech_,"firstplay",function(v){return s.handleTechFirstPlay_(v)}),this.on(this.tech_,"pause",function(v){return s.handleTechPause_(v)}),this.on(this.tech_,"durationchange",function(v){return s.handleTechDurationChange_(v)}),this.on(this.tech_,"fullscreenchange",function(v,T){return s.handleTechFullscreenChange_(v,T)}),this.on(this.tech_,"fullscreenerror",function(v,T){return s.handleTechFullscreenError_(v,T)}),this.on(this.tech_,"enterpictureinpicture",function(v){return s.handleTechEnterPictureInPicture_(v)}),this.on(this.tech_,"leavepictureinpicture",function(v){return s.handleTechLeavePictureInPicture_(v)}),this.on(this.tech_,"error",function(v){return s.handleTechError_(v)}),this.on(this.tech_,"posterchange",function(v){return s.handleTechPosterChange_(v)}),this.on(this.tech_,"textdata",function(v){return s.handleTechTextData_(v)}),this.on(this.tech_,"ratechange",function(v){return s.handleTechRateChange_(v)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(l!=="Html5"||!this.tag)&&Gm(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;zr.names.forEach(function(a){var s=zr[a];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=wT.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return t===void 0&&ft.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(t){var a=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var f=a.muted();a.muted(!0);var h=function(){a.muted(f)};a.playTerminatedQueue_.push(h);var g=a.play();if(!!Pl(g))return g.catch(function(v){throw h(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(v||""))})},l;if(t==="any"&&!this.muted()?(l=this.play(),Pl(l)&&(l=l.catch(s))):t==="muted"&&!this.muted()?l=s():l=this.play(),!!Pl(l))return l.then(function(){a.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:t})})}},n.updateSourceCaches_=function(t){t===void 0&&(t="");var a=t,s="";typeof a!="string"&&(a=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=fM(this,a)),this.cache_.source=Bt({},t,{src:a,type:s});for(var l=this.cache_.sources.filter(function(T){return T.src&&T.src===a}),c=[],f=this.$$("source"),h=[],g=0;g<f.length;g++){var v=zi(f[g]);c.push(v),v.src&&v.src===a&&h.push(v.src)}h.length&&!l.length?this.cache_.sources=c:l.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(t){var a=this;if(!this.changingSrc_){var s=function(h){return a.updateSourceCaches_(h)},l=this.currentSource().src,c=t.src;l&&!/^blob:/.test(l)&&/^blob:/.test(c)&&(!this.lastSource_||this.lastSource_.tech!==c&&this.lastSource_.player!==l)&&(s=function(){}),s(c),t.src||this.tech_.any(["sourceset","loadstart"],function(f){if(f.type!=="sourceset"){var h=a.techGet("currentSrc");a.lastSource_.tech=h,a.updateSourceCaches_(h)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function l(){a!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",l))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(ft.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?mi(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(t){var a=t.target.player;if(!(a&&a!==this)){var s=this.el(),l=Te[this.fsApi_.fullscreenElement]===s;!l&&s.matches?l=s.matches(":"+this.fsApi_.fullscreen):!l&&s.msMatchesSelector&&(l=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(l)}},n.handleTechFullscreenChange_=function(t,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},n.handleTechFullscreenError_=function(t,a){this.trigger("fullscreenerror",a)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(t,a){this.ready(function(){if(t in oM)return aM(this.middleware_,this.tech_,t,a);if(t in IT)return PT(this.middleware_,this.tech_,t,a);try{this.tech_&&this.tech_[t](a)}catch(s){throw ft(s),s}},!0)},n.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in sM)return iM(this.middleware_,this.tech_,t);if(t in IT)return PT(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(a){throw this.tech_[t]===void 0?(ft("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(ft("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(ft(a),a)}}},n.play=function(){var t=this,a=this.options_.Promise||V.Promise;return a?new a(function(s){t.play_(s)}):this.play_()},n.play_=function(t){var a=this;t===void 0&&(t=mi),this.playCallbacks_.push(t);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),l=Boolean(Ah||Qr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(h){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&l&&this.load();return}var c=this.techGet_("play"),f=l&&this.hasClass("vjs-ended");f&&this.resetProgressBar_(),c===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(c)},n.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(a){a()})},n.runPlayCallbacks_=function(t){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(t)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||Ms(0,0)},n.scrubbing=function(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){if(typeof t<"u"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=Ms(0,0)),t},n.bufferedPercent=function(){return g1(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),a=this.duration(),s=t.end(t.length-1);return s>a&&(s=a),s},n.volume=function(t){var a;if(t!==void 0){a=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},n.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){if(t!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(t){var a=this.options_.Promise||V.Promise;if(a){var s=this;return new a(function(l,c){function f(){s.off("fullscreenerror",g),s.off("fullscreenchange",h)}function h(){f(),l()}function g(T,w){f(),c(w)}s.one("fullscreenchange",h),s.one("fullscreenerror",g);var v=s.requestFullscreenHelper_(t);v&&(v.then(f,f),v.then(l,c))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(t){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var l=this.el_[this.fsApi_.requestFullscreen](s);return l&&l.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),l}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var t=this.options_.Promise||V.Promise;if(t){var a=this;return new t(function(s,l){function c(){a.off("fullscreenerror",h),a.off("fullscreenchange",f)}function f(){c(),s()}function h(v,T){c(),l(T)}a.one("fullscreenchange",f),a.one("fullscreenerror",h);var g=a.exitFullscreenHelper_();g&&(g.then(c,c),g.then(s,l))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var a=Te[this.fsApi_.exitFullscreen]();return a&&mi(a.then(function(){return t.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Te.documentElement.style.overflow,Tn(Te,"keydown",this.boundFullWindowOnEscKey_),Te.documentElement.style.overflow="hidden",ta(Te.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){ot.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Hr(Te,"keydown",this.boundFullWindowOnEscKey_),Te.documentElement.style.overflow=this.docOrigOverflow,_c(Te.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Te&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Te)return Te.exitPictureInPicture()},n.handleKeyDown=function(t){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(c){var f=c.tagName.toLowerCase();if(c.isContentEditable)return!0;var h=["button","checkbox","hidden","radio","reset","submit"];if(f==="input")return h.indexOf(c.type)===-1;var g=["textarea"];return g.indexOf(f)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,t):this.handleHotkeys(t))}},n.handleHotkeys=function(t){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,l=s===void 0?function(D){return ot.isEventKey(D,"f")}:s,c=a.muteKey,f=c===void 0?function(D){return ot.isEventKey(D,"m")}:c,h=a.playPauseKey,g=h===void 0?function(D){return ot.isEventKey(D,"k")||ot.isEventKey(D,"Space")}:h;if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var v=pe.getComponent("FullscreenToggle");Te[this.fsApi_.fullscreenEnabled]!==!1&&v.prototype.handleClick.call(this,t)}else if(f.call(this,t)){t.preventDefault(),t.stopPropagation();var T=pe.getComponent("MuteToggle");T.prototype.handleClick.call(this,t)}else if(g.call(this,t)){t.preventDefault(),t.stopPropagation();var w=pe.getComponent("PlayToggle");w.prototype.handleClick.call(this,t)}},n.canPlayType=function(t){for(var a,s=0,l=this.options_.techOrder;s<l.length;s++){var c=l[s],f=Ot.getTech(c);if(f||(f=pe.getComponent(c)),!f){ft.error('The "'+c+'" tech is undefined. Skipped browser support check for that tech.');continue}if(f.isSupported()&&(a=f.canPlayType(t),a))return a}return""},n.selectSource=function(t){var a=this,s=this.options_.techOrder.map(function(g){return[g,Ot.getTech(g)]}).filter(function(g){var v=g[0],T=g[1];return T?T.isSupported():(ft.error('The "'+v+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),l=function(v,T,w){var D;return v.some(function(P){return T.some(function(R){if(D=w(P,R),D)return!0})}),D},c,f=function(v){return function(T,w){return v(w,T)}},h=function(v,T){var w=v[0],D=v[1];if(D.canPlaySource(T,a.options_[w.toLowerCase()]))return{source:T,tech:w}};return this.options_.sourceOrder?c=l(t,s,f(h)):c=l(s,t,h),c||!1},n.handleSrc_=function(t,a){var s=this;if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var l=hM(t);if(!l.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=l),this.updateSourceCaches_(l[0]),rM(this,l[0],function(h,g){s.middleware_=g,a||(s.cache_.sources=l),s.updateSourceCaches_(h);var v=s.src_(h);if(v){if(l.length>1)return s.handleSrc_(l.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}nM(g,s.tech_)}),this.options_.retryOnError&&l.length>1){var c=function(){s.error(null),s.handleSrc_(l.slice(1),!0)},f=function(){s.off("error",c)};this.one("error",c),this.one("playing",f),this.resetRetryOnError_=function(){s.off("error",c),s.off("playing",f)}}},n.src=function(t){return this.handleSrc_(t,!1)},n.src_=function(t){var a=this,s=this.selectSource([t]);return s?MF(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var t=this,a=this.options_.Promise||V.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();mi(s.then(function(){return t.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ra(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},a=t.durationDisplay,s=t.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var t=this.currentSource(),a=[];return Object.keys(t).length!==0&&a.push(t),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},n.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var a;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),a=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},n.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){var a=this;if(t===void 0)return this.error_||null;if(Xa("beforeerror").forEach(function(l){var c=l(a,t);if(!(sa(c)&&!Array.isArray(c)||typeof c=="string"||typeof c=="number"||c===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=c}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Yr(t),this.addClass("vjs-error"),ft.error("(CODE:"+this.error_.code+" "+Yr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Xa("error").forEach(function(l){return l(a,a.error_)})},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,a,s,l=Ut(this,this.reportUserActivity),c=function(w){(w.screenX!==a||w.screenY!==s)&&(a=w.screenX,s=w.screenY,l())},f=function(){l(),this.clearInterval(t),t=this.setInterval(l,250)},h=function(w){l(),this.clearInterval(t)};this.on("mousedown",f),this.on("mousemove",c),this.on("mouseup",h),this.on("mouseleave",h);var g=this.getChild("controlBar");g&&!Qr&&!ha&&(g.on("mouseenter",function(T){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),g.on("mouseleave",function(T){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",l),this.on("keyup",l);var v;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(v);var T=this.options_.inactivityTimeout;T<=0||(v=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},T))}},250)},n.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),l=s&&s.currentHeight();a.forEach(function(c){c!==s&&c.el_&&!c.hasClass("vjs-hidden")&&(c.hide(),t.audioOnlyCache_.hiddenChildren.push(c))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(l),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var s=this.options_.Promise||V.Promise;if(s){if(t){var l=[];return this.isInPictureInPicture()&&l.push(this.exitPictureInPicture()),this.isFullscreen()&&l.push(this.exitFullscreen()),this.audioPosterMode()&&l.push(this.audioPosterMode(!1)),s.all(l).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var s=this.options_.Promise||V.Promise;if(s){if(t){if(this.audioOnlyMode()){var l=this.audioOnlyMode(!1);return l.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(t){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(t,a,s){if(this.tech_)return this.tech_.addTextTrack(t,a,s)},n.addRemoteTextTrack=function(t,a){if(this.tech_)return this.tech_.addRemoteTextTrack(t,a)},n.removeRemoteTextTrack=function(t){t===void 0&&(t={});var a=t,s=a.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),ra(this)&&this.trigger("languagechange"))},n.languages=function(){return Bt(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=Bt(this.options_),a=t.tracks;t.tracks=[];for(var s=0;s<a.length;s++){var l=a[s];l=Bt(l),l.player=void 0,t.tracks[s]=l}return t},n.createModal=function(t,a){var s=this;a=a||{},a.content=t||"";var l=new fu(this,a);return this.addChild(l),l.on("dispose",function(){s.removeChild(l)}),l.open(),l},n.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var t=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<ev.length;s++){var l=ev[s],c=this.breakpoints_[l];if(a<=c){if(t===l)return;t&&this.removeClass(rf[t]),this.addClass(rf[l]),this.breakpoint_=l;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return t===void 0?Yt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Yt({},VM,t),this.updateCurrentBreakpoint_(),Yt(this.breakpoints_))},n.responsive=function(t){if(t===void 0)return this.responsive_;t=Boolean(t);var a=this.responsive_;if(t!==a)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return rf[this.breakpoint_]||""},n.loadMedia=function(t,a){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=Bt(t);var l=this.cache_.media,c=l.artwork,f=l.poster,h=l.src,g=l.textTracks;!c&&f&&(this.cache_.media.artwork=[{src:f,type:Lf(f)}]),h&&this.src(h),f&&this.poster(f),Array.isArray(g)&&g.forEach(function(v){return s.addRemoteTextTrack(v,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var t=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(c){return{kind:c.kind,label:c.label,language:c.language,src:c.src}}),l={src:a,textTracks:s};return t&&(l.poster=t,l.artwork=[{src:l.poster,type:Lf(l.poster)}]),l}return Bt(this.cache_.media)},e.getTagSettings=function(t){var a={sources:[],tracks:[]},s=zi(t),l=s["data-setup"];if(Fs(t,"vjs-fill")&&(s.fill=!0),Fs(t,"vjs-fluid")&&(s.fluid=!0),l!==null){var c=w5(l||"{}"),f=c[0],h=c[1];f&&ft.error(f),Yt(s,h)}if(Yt(a,s),t.hasChildNodes())for(var g=t.childNodes,v=0,T=g.length;v<T;v++){var w=g[v],D=w.nodeName.toLowerCase();D==="source"?a.sources.push(zi(w)):D==="track"&&a.tracks.push(zi(w))}return a},n.flexNotSupported_=function(){var t=Te.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;!Array.isArray(t)||!t.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(pe);zr.names.forEach(function(r){var e=zr[r];ur.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ur.prototype.crossorigin=ur.prototype.crossOrigin;ur.players={};var cl=V.navigator;ur.prototype.options_={techOrder:Ot.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:cl&&(cl.languages&&cl.languages[0]||cl.userLanguage||cl.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(r){ur.prototype[r]=function(){return this.techGet_(r)}});W1.forEach(function(r){ur.prototype["handleTech"+rr(r)+"_"]=function(){return this.trigger(r)}});pe.registerComponent("Player",ur);var Ff="plugin",jo="activePlugins_",Po={},Mf=function(e){return Po.hasOwnProperty(e)},nf=function(e){return Mf(e)?Po[e]:void 0},G1=function(e,n){e[jo]=e[jo]||{},e[jo][n]=!0},Bf=function(e,n,i){var t=(i?"before":"")+"pluginsetup";e.trigger(t,n),e.trigger(t+":"+n.name,n)},qM=function(e,n){var i=function(){Bf(this,{name:e,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return G1(this,e),Bf(this,{name:e,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(t){i[t]=n[t]}),i},WT=function(e,n){return n.prototype.name=e,function(){Bf(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];var s=q2(n,[this].concat(t));return this[e]=function(){return s},Bf(this,s.getEventHash()),s}},wi=function(){function r(n){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),E0(this),delete this.trigger,p1(this,this.constructor.defaultState),G1(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=r.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,t){return t===void 0&&(t={}),du(this.eventBusEl_,i,this.getEventHash(t))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[jo][i]=!1,this.player=this.state=null,t[i]=WT(i,Po[i])},r.isBasic=function(i){var t=typeof i=="string"?nf(i):i;return typeof t=="function"&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(i,t){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(Mf(i))ft.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(ur.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof t+".");return Po[i]=t,i!==Ff&&(r.isBasic(t)?ur.prototype[i]=qM(i,t):ur.prototype[i]=WT(i,t)),t},r.deregisterPlugin=function(i){if(i===Ff)throw new Error("Cannot de-register base plugin.");Mf(i)&&(delete Po[i],delete ur.prototype[i])},r.getPlugins=function(i){i===void 0&&(i=Object.keys(Po));var t;return i.forEach(function(a){var s=nf(a);s&&(t=t||{},t[a]=s)}),t},r.getPluginVersion=function(i){var t=nf(i);return t&&t.VERSION||""},r}();wi.getPlugin=nf;wi.BASE_PLUGIN_NAME=Ff;wi.registerPlugin(Ff,wi);ur.prototype.usingPlugin=function(r){return!!this[jo]&&this[jo][r]===!0};ur.prototype.hasPlugin=function(r){return!!Mf(r)};var GT=!1,WM=function(e,n){n===void 0&&(n={}),GT||(ft.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),GT=!0);var i=function(){e.apply(this,arguments)},t={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),t=n):typeof n=="function"&&(i=n),f3(i,e),e&&(i.super_=e);for(var a in t)t.hasOwnProperty(a)&&(i.prototype[a]=t[a]);return i},z1=function(e){return e.indexOf("#")===0?e.slice(1):e};function Q(r,e,n){var i=Q.getPlayer(r);if(i)return e&&ft.warn('Player "'+r+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var t=typeof r=="string"?Ja("#"+z1(r)):r;if(!cu(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&ft.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(t.parentNode&&t.parentNode.hasAttribute("data-vjs-player")?t.parentNode:t).cloneNode(!0)),Xa("beforesetup").forEach(function(s){var l=s(t,Bt(e));if(!sa(l)||Array.isArray(l)){ft.error("please return an object in beforesetup hooks");return}e=Bt(e,l)});var a=pe.getComponent("Player");return i=new a(t,e,n),Xa("setup").forEach(function(s){return s(i)}),i}Q.hooks_=Xi;Q.hooks=Xa;Q.hook=_F;Q.hookOnce=yF;Q.removeHook=UE;if(V.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&lu()){var Bd=Ja(".vjs-styles-defaults");if(!Bd){Bd=u1("vjs-styles-defaults");var Jg=Ja("head");Jg&&Jg.insertBefore(Bd,Jg.firstChild),l1(Bd,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Km(1,Q);Q.VERSION=BE;Q.options=ur.prototype.options_;Q.getPlayers=function(){return ur.players};Q.getPlayer=function(r){var e=ur.players,n;if(typeof r=="string"){var i=z1(r),t=e[i];if(t)return t;n=Ja("#"+i)}else n=r;if(cu(n)){var a=n,s=a.player,l=a.playerId;if(s||e[l])return s||e[l]}};Q.getAllPlayers=function(){return Object.keys(ur.players).map(function(r){return ur.players[r]}).filter(Boolean)};Q.players=ur.players;Q.getComponent=pe.getComponent;Q.registerComponent=function(r,e){Ot.isTech(e)&&ft.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),pe.registerComponent.call(pe,r,e)};Q.getTech=Ot.getTech;Q.registerTech=Ot.registerTech;Q.use=tM;Object.defineProperty(Q,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Q.middleware,"TERMINATOR",{value:Of,writeable:!1,enumerable:!0});Q.browser=wF;Q.TOUCH_ENABLED=eu;Q.extend=WM;Q.mergeOptions=Bt;Q.bind=Ut;Q.registerPlugin=wi.registerPlugin;Q.deregisterPlugin=wi.deregisterPlugin;Q.plugin=function(r,e){return ft.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),wi.registerPlugin(r,e)};Q.getPlugins=wi.getPlugins;Q.getPlugin=wi.getPlugin;Q.getPluginVersion=wi.getPluginVersion;Q.addLanguage=function(r,e){var n;return r=(""+r).toLowerCase(),Q.options.languages=Bt(Q.options.languages,(n={},n[r]=e,n)),Q.options.languages[r]};Q.log=ft;Q.createLogger=$E;Q.createTimeRange=Q.createTimeRanges=Ms;Q.formatTime=au;Q.setFormatTime=bM;Q.resetFormatTime=TM;Q.parseUrl=C0;Q.isCrossOrigin=Lh;Q.EventTarget=Tr;Q.on=Tn;Q.one=Ih;Q.off=Hr;Q.trigger=du;Q.xhr=vh.exports;Q.TextTrack=yc;Q.AudioTrack=_1;Q.VideoTrack=y1;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){Q[r]=function(){return ft.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),s1[r].apply(null,arguments)}});Q.computedStyle=Jl;Q.dom=s1;Q.url=YF;Q.defineLazyProperty=W0;Q.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var qn=yh,Uf=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},ei=function(e){return Q.log.debug?Q.log.debug.bind(Q,"VHS:",e+" >"):function(){}},Ya=1/30,vi=Ya*3,K1=function(e,n){var i=[],t;if(e&&e.length)for(t=0;t<e.length;t++)n(e.start(t),e.end(t))&&i.push([e.start(t),e.end(t)]);return Q.createTimeRanges(i)},Io=function(e,n){return K1(e,function(i,t){return i-vi<=n&&t+vi>=n})},Ud=function(e,n){return K1(e,function(i){return i-Ya>=n})},GM=function(e){if(e.length<2)return Q.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var t=e.end(i-1),a=e.start(i);n.push([t,a])}return Q.createTimeRanges(n)},zM=function(e,n){var i=null,t=null,a=0,s=[],l=[];if(!e||!e.length||!n||!n.length)return Q.createTimeRange();for(var c=e.length;c--;)s.push({time:e.start(c),type:"start"}),s.push({time:e.end(c),type:"end"});for(c=n.length;c--;)s.push({time:n.start(c),type:"start"}),s.push({time:n.end(c),type:"end"});for(s.sort(function(f,h){return f.time-h.time}),c=0;c<s.length;c++)s[c].type==="start"?(a++,a===2&&(i=s[c].time)):s[c].type==="end"&&(a--,a===1&&(t=s[c].time)),i!==null&&t!==null&&(l.push([i,t]),i=null,t=null);return Q.createTimeRanges(l)},X1=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},KM=function(e,n,i){i===void 0&&(i=1);var t=e.length?e.end(e.length-1):0;return(t-n)/i},ks=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},XM=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},zT=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},G0=function(e,n){var i=0;if(!e||!e.length)return i;for(var t=0;t<e.length;t++){var a=e.start(t),s=e.end(t);if(!(n>s)){if(n>a&&n<=s){i+=s-n;continue}i+=s-a}}return i},KT=Q.createTimeRange,z0=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(t){i+=t.duration}),(n.preloadHints||[]).forEach(function(t){t.type==="PART"&&(i+=e.partTargetDuration)}),i},tv=function(e){return(e.segments||[]).reduce(function(n,i,t){return i.parts?i.parts.forEach(function(a,s){n.push({duration:a.duration,segmentIndex:t,partIndex:s,part:a,segment:i})}):n.push({duration:i.duration,segmentIndex:t,partIndex:null,segment:i,part:null}),n},[])},J1=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},Y1=function(e){var n=e.preloadSegment;if(!!n){var i=n.parts,t=n.preloadHints,a=(t||[]).reduce(function(s,l){return s+(l.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},Q1=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=J1(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},JM=function(e,n){var i=0,t=n-e.mediaSequence,a=e.segments[t];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;t--;){if(a=e.segments[t],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=z0(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},YM=function(e,n){for(var i=0,t,a=n-e.mediaSequence;a<e.segments.length;a++){if(t=e.segments[a],typeof t.start<"u")return{result:t.start-i,precise:!0};if(i+=z0(e,t),typeof t.end<"u")return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}},Z1=function(e,n,i){if(typeof n>"u"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var t=JM(e,n);if(t.precise)return t.result;var a=YM(e,n);return a.precise?a.result:t.result+i},ew=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return V.Infinity}return Z1(e,n,i)},Il=function(e){var n=e.defaultDuration,i=e.durationList,t=e.startIndex,a=e.endIndex,s=0;if(t>a){var l=[a,t];t=l[0],a=l[1]}if(t<0){for(var c=t;c<Math.min(0,a);c++)s+=n;t=0}for(var f=t;f<a;f++)s+=i[f].duration;return s},tw=function(e,n,i,t){if(!e||!e.segments)return null;if(e.endList)return ew(e);if(n===null)return null;n=n||0;var a=Z1(e,e.mediaSequence+e.segments.length,n);return i&&(t=typeof t=="number"?t:Q1(null,e),a-=t),Math.max(0,a)},QM=function(e,n,i){var t=!0,a=n||0,s=tw(e,n,t,i);return s===null?KT():KT(a,s)},ZM=function(e){for(var n=e.playlist,i=e.currentTime,t=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,l=e.experimentalExactManifestTimings,c=i-s,f=tv(n),h=0,g=0;g<f.length;g++){var v=f[g];if(t===v.segmentIndex&&!(typeof a=="number"&&typeof v.partIndex=="number"&&a!==v.partIndex)){h=g;break}}if(c<0){if(h>0)for(var T=h-1;T>=0;T--){var w=f[T];if(c+=w.duration,l){if(c<0)continue}else if(c+Ya<=0)continue;return{partIndex:w.partIndex,segmentIndex:w.segmentIndex,startTime:s-Il({defaultDuration:n.targetDuration,durationList:f,startIndex:h,endIndex:T})}}return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:i}}if(h<0){for(var D=h;D<0;D++)if(c-=n.targetDuration,c<0)return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:i};h=0}for(var P=h;P<f.length;P++){var R=f[P];if(c-=R.duration,l){if(c>0)continue}else if(c-Ya>=0)continue;return{partIndex:R.partIndex,segmentIndex:R.segmentIndex,startTime:s+Il({defaultDuration:n.targetDuration,durationList:f,startIndex:h,endIndex:P})}}return{segmentIndex:f[f.length-1].segmentIndex,partIndex:f[f.length-1].partIndex,startTime:i}},rw=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},K0=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Mh=function(e){var n=rw(e);return!e.disabled&&!n},e6=function(e){return e.disabled},t6=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},nw=function(e,n){return n.attributes&&n.attributes[e]},r6=function(e,n,i,t){if(t===void 0&&(t=0),!nw("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-t*8)/n},rv=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return Mh(t)?(t.attributes.BANDWIDTH||0)<i:!1}).length===0},X0=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},XT=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var a in i){for(var s in i[a])if(t=n(i[a][s]),t)break;if(t)break}return!!t},Sc=function(e){if(!e||!e.playlists||!e.playlists.length){var n=XT(e,function(s){return s.playlists&&s.playlists.length||s.uri});return n}for(var i=function(l){var c=e.playlists[l],f=c.attributes&&c.attributes.CODECS;if(f&&f.split(",").every(function(g){return K2(g)}))return"continue";var h=XT(e,function(g){return X0(c,g)});return h?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var a=i(t);if(a!=="continue"&&typeof a=="object")return a.v}return!0},un={liveEdgeDelay:Q1,duration:ew,seekable:QM,getMediaInfoForTime:ZM,isEnabled:Mh,isDisabled:e6,isBlacklisted:rw,isIncompatible:K0,playlistEnd:tw,isAes:t6,hasAttribute:nw,estimateSegmentRequestTime:r6,isLowestEnabledRendition:rv,isAudioOnly:Sc,playlistMatch:X0,segmentDurationWithParts:z0},iw=Q.log,J0=function(e,n){return e+"-"+n},n6=function(e,n,i){return"placeholder-uri-"+e+"-"+n+"-"+i},i6=function(e){var n=e.onwarn,i=e.oninfo,t=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,l=e.customTagMappers,c=l===void 0?[]:l,f=e.experimentalLLHLS,h=new y3;n&&h.on("warn",n),i&&h.on("info",i),s.forEach(function(D){return h.addParser(D)}),c.forEach(function(D){return h.addTagMapper(D)}),h.push(t),h.end();var g=h.manifest;if(f||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(D){g.hasOwnProperty(D)&&delete g[D]}),g.segments&&g.segments.forEach(function(D){["parts","preloadHints"].forEach(function(P){D.hasOwnProperty(P)&&delete D[P]})})),!g.targetDuration){var v=10;g.segments&&g.segments.length&&(v=g.segments.reduce(function(D,P){return Math.max(D,P.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+v),g.targetDuration=v}var T=J1(g);if(T.length&&!g.partTargetDuration){var w=T.reduce(function(D,P){return Math.max(D,P.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+w),iw.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),g.partTargetDuration=w}return g},mu=function(e,n){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var t in e.mediaGroups[i])for(var a in e.mediaGroups[i][t]){var s=e.mediaGroups[i][t][a];n(s,i,t,a)}})},aw=function(e){var n=e.playlist,i=e.uri,t=e.id;n.id=t,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},a6=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];aw({playlist:i,id:J0(n,i.uri)}),i.resolvedUri=qn(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||iw.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},s6=function(e){mu(e,function(n){n.uri&&(n.resolvedUri=qn(e.uri,n.uri))})},o6=function(e,n){var i=J0(0,n),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:V.location.href,resolvedUri:V.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return t.playlists[i]=t.playlists[0],t.playlists[n]=t.playlists[0],t},sw=function(e,n,i){i===void 0&&(i=n6),e.uri=n;for(var t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){var a="placeholder-uri-"+t;e.playlists[t].uri=a}var s=Sc(e);mu(e,function(l,c,f,h){if(!l.playlists||!l.playlists.length){if(s&&c==="AUDIO"&&!l.uri)for(var g=0;g<e.playlists.length;g++){var v=e.playlists[g];if(v.attributes&&v.attributes.AUDIO&&v.attributes.AUDIO===f)return}l.playlists=[Nn({},l)]}l.playlists.forEach(function(T,w){var D=i(c,f,h,T),P=J0(w,D);T.uri?T.resolvedUri=T.resolvedUri||qn(e.uri,T.uri):(T.uri=w===0?D:P,T.resolvedUri=T.uri),T.id=T.id||P,T.attributes=T.attributes||{},e.playlists[T.id]=T,e.playlists[T.uri]=T})}),a6(e),s6(e)},jf=Q.mergeOptions,u6=Q.EventTarget,l6=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var t=n.preloadSegment,a=n.mediaSequence+n.segments.length;if(t){var s=t.parts||[],l=Y1(n)-1;l>-1&&l!==s.length-1&&(i._HLS_part=l),(l>-1||s.length)&&a--}i._HLS_msn=a}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var c=new V.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(f){!i.hasOwnProperty(f)||c.searchParams.set(f,i[f])}),e=c.toString()}return e},c6=function(e,n){if(!e)return n;var i=jf(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var t=0;t<n.parts.length;t++)e.parts&&e.parts[t]&&(i.parts[t]=jf(e.parts[t],n.parts[t]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},d6=function(e,n,i){var t=e.slice(),a=n.slice();i=i||0;for(var s=[],l,c=0;c<a.length;c++){var f=t[c+i],h=a[c];f?(l=f.map||l,s.push(c6(f,h))):(l&&!h.map&&(h.map=l),s.push(h))}return s},ow=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=qn(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=qn(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=qn(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=qn(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=qn(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=qn(n,i.uri))})},uw=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var t=0;t<i.preloadHints.length;t++)if(i.preloadHints[t].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},lw=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},nv=function(e,n,i){i===void 0&&(i=lw);var t=jf(e,{}),a=t.playlists[n.id];if(!a||i(a,n))return null;n.segments=uw(n);var s=jf(a,n);if(s.preloadSegment&&!n.preloadSegment&&delete s.preloadSegment,a.segments){if(n.skip){n.segments=n.segments||[];for(var l=0;l<n.skip.skippedSegments;l++)n.segments.unshift({skipped:!0})}s.segments=d6(a.segments,n.segments,n.mediaSequence-a.mediaSequence)}s.segments.forEach(function(f){ow(f,s.resolvedUri)});for(var c=0;c<t.playlists.length;c++)t.playlists[c].id===n.id&&(t.playlists[c]=s);return t.playlists[n.id]=s,t.playlists[n.uri]=s,mu(e,function(f,h,g,v){if(!!f.playlists)for(var T=0;T<f.playlists.length;T++)n.id===f.playlists[T].id&&(f.playlists[T]=s)}),t},iv=function(e,n){var i=e.segments||[],t=i[i.length-1],a=t&&t.parts&&t.parts[t.parts.length-1],s=a&&a.duration||t&&t.duration;return n&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Oo=function(r){Ae(e,r);function e(i,t,a){var s;if(a===void 0&&(a={}),s=r.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=ei("PlaylistLoader");var l=a,c=l.withCredentials,f=c===void 0?!1:c,h=l.handleManifestRedirects,g=h===void 0?!1:h;s.src=i,s.vhs_=t,s.withCredentials=f,s.handleManifestRedirects=g;var v=t.options_;return s.customTagParsers=v&&v.customTagParsers||[],s.customTagMappers=v&&v.customTagMappers||[],s.experimentalLLHLS=v&&v.experimentalLLHLS||!1,Q.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(tt(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=qn(this.master.uri,a.uri);this.experimentalLLHLS&&(s=l6(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(l,c){if(!!t.request){if(l)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},n.playlistRequestError=function(t,a,s){var l=a.uri,c=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[c],status:t.status,message:"HLS playlist request error at URL: "+l+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(t){var a=this,s=t.url,l=t.manifestString;return i6({onwarn:function(f){var h=f.message;return a.logger_("m3u8-parser warn for "+s+": "+h)},oninfo:function(f){var h=f.message;return a.logger_("m3u8-parser info for "+s+": "+h)},manifestString:l,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(t){var a=t.playlistString,s=t.playlistObject,l=t.url,c=t.id;this.request=null,this.state="HAVE_METADATA";var f=s||this.parseManifest_({url:l,manifestString:a});f.lastRequest=Date.now(),aw({playlist:f,uri:l,id:c});var h=nv(this.master,f);this.targetDuration=f.partTargetDuration||f.targetDuration,this.pendingMedia_=null,h?(this.master=h,this.media_=this.master.playlists[c]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(iv(this.media(),!!h)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),V.clearTimeout(this.mediaUpdateTimeout),V.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(t,a){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(V.clearTimeout(this.finalRenditionTimeout),a){var l=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=V.setTimeout(this.media.bind(this,t,!1),l);return}var c=this.state,f=!this.media_||t.id!==this.media_.id,h=this.master.playlists[t.id];if(h&&h.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,f&&(this.trigger("mediachanging"),c==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(iv(t,!0)),!!f){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(g,v){if(!!s.request){if(t.lastRequest=Date.now(),t.resolvedUri=Uf(s.handleManifestRedirects,t.resolvedUri,v),g)return s.playlistRequestError(s.request,t,c);s.haveMetadata({playlistString:v.responseText,url:t.uri,id:t.id}),c==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(t){var a=this;this.mediaUpdateTimeout&&(V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var l=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=V.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(t){var a=this;this.mediaUpdateTimeout&&(V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=V.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(t)},t))},n.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=V.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!t.request){if(t.request=null,a)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=Uf(t.handleManifestRedirects,t.src,s);var l=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(l)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,sw(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=uw(s),s.segments.forEach(function(l){ow(l,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||V.location.href;this.master=o6(t,a),this.haveMetadata({playlistObject:t,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(u6),f6=Q.xhr,h6=Q.mergeOptions,av=function(e,n,i,t){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),t(n,e)},cw=function(){var e=function n(i,t){i=h6({timeout:45e3},i);var a=n.beforeRequest||Q.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var l=Q.Vhs.xhr.original===!0?f6:Q.Vhs.xhr,c=l(i,function(h,g){return av(c,h,g,t)}),f=c.abort;return c.abort=function(){return c.aborted=!0,f.apply(c,arguments)},c.uri=i.uri,c.requestTime=Date.now(),c};return e.original=!0,e},p6=function(e){var n,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=V.BigInt(e.offset)+V.BigInt(e.length)-V.BigInt(1):n=e.offset+e.length-1,"bytes="+i+"-"+n},sv=function(e){var n={};return e.byterange&&(n.Range=p6(e.byterange)),n},g6=function(e,n){return e.start(n)+"-"+e.end(n)},m6=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},v6=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},dw=function(e){var n={};return Object.keys(e).forEach(function(i){var t=e[i];J2(t)?n[i]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[i]=t}),n},$f=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},fw=function(e){return e.resolvedUri},hw=function(e){for(var n=Array.prototype.slice.call(e),i=16,t="",a,s,l=0;l<n.length/i;l++)a=n.slice(l*i,l*i+i).map(m6).join(""),s=n.slice(l*i,l*i+i).map(v6).join(""),t+=a+" "+s+`
`;return t},_6=function(e){var n=e.bytes;return hw(n)},y6=function(e){var n="",i;for(i=0;i<e.length;i++)n+=g6(e,i)+" ";return n},b6=Object.freeze({__proto__:null,createTransferableMessage:dw,initSegmentId:$f,segmentKeyId:fw,hexDump:hw,tagDump:_6,textRanges:y6}),pw=.25,T6=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,t=n.videoTimingInfo.transmuxedPresentationStart,a=t+i,s=e-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},S6=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},x6=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var t=n.segments[0];if(i<t.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){t=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(i<s)break}var l=n.segments[n.segments.length-1],c=l.dateTimeObject,f=l.videoTimingInfo?S6(l.videoTimingInfo):l.duration+l.duration*pw,h=new Date(c.getTime()+f*1e3);return i>h?null:(i>c&&(t=l),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:un.duration(n,n.mediaSequence+n.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},E6=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,t,a=0;a<n.segments.length&&(t=n.segments[a],i=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:i+t.duration,!(e<=i));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*pw)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:i-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},w6=function(e,n){var i,t;try{i=new Date(e),t=new Date(n)}catch{}var a=i.getTime(),s=t.getTime();return(s-a)/1e3},C6=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},A6=function(e){var n=e.playlist,i=e.time,t=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||t===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=E6(t,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var l={mediaSeconds:t},c=T6(t,s.segment);return c&&(l.programDateTime=c.toISOString()),a(null,l)},k6=function r(e){var n=e.programTime,i=e.playlist,t=e.retryCount,a=t===void 0?2:t,s=e.seekTo,l=e.pauseAfterSeek,c=l===void 0?!0:l,f=e.tech,h=e.callback;if(!h)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!i||!s)return h({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!f.hasStarted_)return h({message:"player must be playing a live stream to start buffering"});if(!C6(i))return h({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var g=x6(n,i);if(!g)return h({message:n+" was not found in the stream"});var v=g.segment,T=w6(v.dateTimeObject,n);if(g.type==="estimate"){if(a===0)return h({message:n+" is not buffered yet. Try again"});s(g.estimatedStart+T),f.one("seeked",function(){r({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:c,tech:f,callback:h})});return}var w=v.start+T,D=function(){return h(null,f.currentTime())};f.one("seeked",D),c&&f.pause(),s(w)},Yg=function(e,n){if(e.readyState===4)return n()},D6=function(e,n,i){var t=[],a,s=!1,l=function(v,T,w,D){return T.abort(),s=!0,i(v,T,w,D)},c=function(v,T){if(!s){if(v)return l(v,T,"",t);var w=T.responseText.substring(t&&t.byteLength||0,T.responseText.length);if(t=I3(t,Y2(w,!0)),a=a||yl(t),t.length<10||a&&t.length<a+2)return Yg(T,function(){return l(v,T,"",t)});var D=f0(t);return D==="ts"&&t.length<188?Yg(T,function(){return l(v,T,"",t)}):!D&&t.length<376?Yg(T,function(){return l(v,T,"",t)}):l(null,T,D,t)}},f={uri:e,beforeSend:function(v){v.overrideMimeType("text/plain; charset=x-user-defined"),v.addEventListener("progress",function(T){return T.total,T.loaded,av(v,null,{statusCode:v.status},c)})}},h=n(f,function(g,v){return av(h,g,v,c)});return h},P6=Q.EventTarget,gw=Q.mergeOptions,JT=function(e,n){if(!lw(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var t=e.segments[i],a=n.segments[i];if(t.uri!==a.uri)return!1;if(!(!t.byterange&&!a.byterange)){var s=t.byterange,l=a.byterange;if(s&&!l||!s&&l||s.offset!==l.offset||s.length!==l.length)return!1}}return!0},I6=function(e,n,i,t){var a=t.attributes.NAME||i;return"placeholder-uri-"+e+"-"+n+"-"+a},O6=function(e){var n=e.masterXml,i=e.srcUrl,t=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,l=JN(n,{manifestUri:i,clientOffset:t,sidxMapping:a,previousManifest:s});return sw(l,i,I6),l},L6=function(e,n){mu(e,function(i,t,a,s){s in n.mediaGroups[t][a]||delete e.mediaGroups[t][a][s]})},R6=function(e,n,i){for(var t=!0,a=gw(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod,timelineStarts:n.timelineStarts}),s=0;s<n.playlists.length;s++){var l=n.playlists[s];if(l.sidx){var c=Eh(l.sidx);i&&i[c]&&i[c].sidx&&u0(l,i[c].sidx,l.sidx.resolvedUri)}var f=nv(a,l,JT);f&&(a=f,t=!1)}return mu(n,function(h,g,v,T){if(h.playlists&&h.playlists.length){var w=h.playlists[0].id,D=nv(a,h.playlists[0],JT);D&&(a=D,T in a.mediaGroups[g][v]||(a.mediaGroups[g][v][T]=h),a.mediaGroups[g][v][T].playlists[0]=a.playlists[w],t=!1)}}),L6(a,n),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:a},N6=function(e,n){var i=Boolean(!e.map&&!n.map),t=i||Boolean(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return t&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},YT=function(e,n){var i={};for(var t in e){var a=e[t],s=a.sidx;if(s){var l=Eh(s);if(!n[l])break;var c=n[l].sidxInfo;N6(c,s)&&(i[l]=n[l])}}return i},F6=function(e,n){var i=YT(e.playlists,n),t=i;return mu(e,function(a,s,l,c){if(a.playlists&&a.playlists.length){var f=a.playlists;t=gw(t,YT(f,n))}}),t},ov=function(r){Ae(e,r);function e(i,t,a,s){var l;a===void 0&&(a={}),l=r.call(this)||this,l.masterPlaylistLoader_=s||tt(l),s||(l.isMaster_=!0);var c=a,f=c.withCredentials,h=f===void 0?!1:f,g=c.handleManifestRedirects,v=g===void 0?!1:g;if(l.vhs_=t,l.withCredentials=h,l.handleManifestRedirects=v,!i)throw new Error("A non-empty playlist URL or object is required");return l.on("minimumUpdatePeriod",function(){l.refreshXml_()}),l.on("mediaupdatetimeout",function(){l.refreshMedia_(l.media().id)}),l.state="HAVE_NOTHING",l.loadedPlaylists_={},l.logger_=ei("DashPlaylistLoader"),l.isMaster_?(l.masterPlaylistLoader_.srcUrl=i,l.masterPlaylistLoader_.sidxMapping_={}):l.childPlaylist_=i,l}var n=e.prototype;return n.requestErrored_=function(t,a,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},n.addSidxSegments_=function(t,a,s){var l=this,c=t.sidx&&Eh(t.sidx);if(!t.sidx||!c||this.masterPlaylistLoader_.sidxMapping_[c]){this.mediaRequest_=V.setTimeout(function(){return s(!1)},0);return}var f=Uf(this.handleManifestRedirects,t.sidx.resolvedUri),h=function(v,T){if(!l.requestErrored_(v,T,a)){var w=l.masterPlaylistLoader_.sidxMapping_,D;try{D=tF(We(T.response).subarray(8))}catch(P){l.requestErrored_(P,T,a);return}return w[c]={sidxInfo:t.sidx,sidx:D},u0(t,D,t.sidx.resolvedUri),s(!0)}};this.request=D6(f,this.vhs_.xhr,function(g,v,T,w){if(g)return h(g,v);if(!T||T!=="mp4")return h({status:v.status,message:"Unsupported "+(T||"unknown")+" container type for sidx segment at URL: "+f,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},v);var D=t.sidx.byterange,P=D.offset,R=D.length;if(w.length>=R+P)return h(g,{response:w.subarray(P,P+R),status:v.status,uri:v.uri});l.request=l.vhs_.xhr({uri:f,responseType:"arraybuffer",headers:sv({byterange:t.sidx.byterange})},h)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},V.clearTimeout(this.minimumUpdatePeriodTimeout_),V.clearTimeout(this.mediaRequest_),V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(t){var a=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var l=!this.media_||t.id!==this.media_.id;if(l&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,l&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!l||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(c){a.haveMetadata({startingState:s,playlist:t})}))},n.haveMetadata=function(t){var a=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(V.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(t){var a=this;V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var l=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=V.setTimeout(function(){return a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=V.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(a,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(t){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,l){if(a.requestErrored_(s,l)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var c=l.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=l.responseText,l.responseHeaders&&l.responseHeaders.date?a.masterLoaded_=Date.parse(l.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=Uf(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,l),c){a.handleMaster_(),a.syncClientServerClock_(function(){return t(l,c)});return}return t(l,c)})},n.syncClientServerClock_=function(t){var a=this,s=YN(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:qn(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(l,c){if(!!a.request){if(l)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),t();var f;s.method==="HEAD"?!c.responseHeaders||!c.responseHeaders.date?f=a.masterLoaded_:f=Date.parse(c.responseHeaders.date):f=Date.parse(c.responseText),a.masterPlaylistLoader_.clientOffset_=f-Date.now(),t()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,a=O6({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(a=R6(t,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||t;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!t||a&&a.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},n.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(V.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var a=t.master&&t.master.minimumUpdatePeriod;if(a===0&&(t.media()?a=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},n.createMUPTimeout_=function(t){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=V.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(t)},t)},n.refreshXml_=function(){var t=this;this.requestMaster_(function(a,s){!s||(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=F6(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(l){t.refreshMedia_(t.media().id)}))})},n.refreshMedia_=function(t){var a=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,l=!this.media_||this.media_!==s[t];if(l?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var c=function f(){a.media().endList||(a.mediaUpdateTimeout=V.setTimeout(function(){a.trigger("mediaupdatetimeout"),f()},iv(a.media(),Boolean(l))))};c()}this.trigger("loadedplaylist")},e}(P6),_r={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},M6=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},mw=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},B6=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},vw=function(e){return function(){var n=B6(e),i=mw(new Worker(n));i.objURL=n;var t=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),t.call(this)},i}},_w=function(e){return"var browserWorkerPolyFill = "+mw.toString()+`;
browserWorkerPolyFill(self);
`+e},yw=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},U6=_w(yw(function(){var r=function(){this.init=function(){var y={};this.on=function(x,S){y[x]||(y[x]=[]),y[x]=y[x].concat(S)},this.off=function(x,S){var E;return y[x]?(E=y[x].indexOf(S),y[x]=y[x].slice(),y[x].splice(E,1),E>-1):!1},this.trigger=function(x){var S,E,A,k;if(S=y[x],!!S)if(arguments.length===2)for(A=S.length,E=0;E<A;++E)S[E].call(this,arguments[1]);else{for(k=[],E=arguments.length,E=1;E<arguments.length;++E)k.push(arguments[E]);for(A=S.length,E=0;E<A;++E)S[E].apply(this,k)}},this.dispose=function(){y={}}}};r.prototype.pipe=function(I){return this.on("data",function(y){I.push(y)}),this.on("done",function(y){I.flush(y)}),this.on("partialdone",function(y){I.partialFlush(y)}),this.on("endedtimeline",function(y){I.endTimeline(y)}),this.on("reset",function(y){I.reset(y)}),I},r.prototype.push=function(I){this.trigger("data",I)},r.prototype.flush=function(I){this.trigger("done",I)},r.prototype.partialFlush=function(I){this.trigger("partialdone",I)},r.prototype.endTimeline=function(I){this.trigger("endedtimeline",I)},r.prototype.reset=function(I){this.trigger("reset",I)};var e=r,n=Math.pow(2,32),i=function(y){var x=new DataView(y.buffer,y.byteOffset,y.byteLength),S;return x.getBigUint64?(S=x.getBigUint64(0),S<Number.MAX_SAFE_INTEGER?Number(S):S):x.getUint32(0)*n+x.getUint32(4)},t={getUint64:i,MAX_UINT32:n},a=t.MAX_UINT32,s,l,c,f,h,g,v,T,w,D,P,R,M,U,j,J,te,$,H,X,K,ee,Z,le,Be,je,De,me,we,_t,dt,Dr,Lt,jt,cr,Pr;(function(){var I;if(Z={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(I in Z)Z.hasOwnProperty(I)&&(Z[I]=[I.charCodeAt(0),I.charCodeAt(1),I.charCodeAt(2),I.charCodeAt(3)]);le=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),je=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Be=new Uint8Array([0,0,0,1]),De=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),me=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),we={video:De,audio:me},Dr=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),dt=new Uint8Array([0,0,0,0,0,0,0,0]),Lt=new Uint8Array([0,0,0,0,0,0,0,0]),jt=Lt,cr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Pr=Lt,_t=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(y){var x=[],S=0,E,A,k;for(E=1;E<arguments.length;E++)x.push(arguments[E]);for(E=x.length;E--;)S+=x[E].byteLength;for(A=new Uint8Array(S+8),k=new DataView(A.buffer,A.byteOffset,A.byteLength),k.setUint32(0,A.byteLength),A.set(y,4),E=0,S=8;E<x.length;E++)A.set(x[E],S),S+=x[E].byteLength;return A},l=function(){return s(Z.dinf,s(Z.dref,Dr))},c=function(y){return s(Z.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,y.audioobjecttype<<3|y.samplingfrequencyindex>>>1,y.samplingfrequencyindex<<7|y.channelcount<<3,6,1,2]))},f=function(){return s(Z.ftyp,le,Be,le,je)},J=function(y){return s(Z.hdlr,we[y])},h=function(y){return s(Z.mdat,y)},j=function(y){var x=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,y.duration>>>24&255,y.duration>>>16&255,y.duration>>>8&255,y.duration&255,85,196,0,0]);return y.samplerate&&(x[12]=y.samplerate>>>24&255,x[13]=y.samplerate>>>16&255,x[14]=y.samplerate>>>8&255,x[15]=y.samplerate&255),s(Z.mdhd,x)},U=function(y){return s(Z.mdia,j(y),J(y.type),v(y))},g=function(y){return s(Z.mfhd,new Uint8Array([0,0,0,0,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255]))},v=function(y){return s(Z.minf,y.type==="video"?s(Z.vmhd,_t):s(Z.smhd,dt),l(),$(y))},T=function(y,x){for(var S=[],E=x.length;E--;)S[E]=X(x[E]);return s.apply(null,[Z.moof,g(y)].concat(S))},w=function(y){for(var x=y.length,S=[];x--;)S[x]=R(y[x]);return s.apply(null,[Z.moov,P(4294967295)].concat(S).concat(D(y)))},D=function(y){for(var x=y.length,S=[];x--;)S[x]=K(y[x]);return s.apply(null,[Z.mvex].concat(S))},P=function(y){var x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(Z.mvhd,x)},te=function(y){var x=y.samples||[],S=new Uint8Array(4+x.length),E,A;for(A=0;A<x.length;A++)E=x[A].flags,S[A+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return s(Z.sdtp,S)},$=function(y){return s(Z.stbl,H(y),s(Z.stts,Pr),s(Z.stsc,jt),s(Z.stsz,cr),s(Z.stco,Lt))},function(){var I,y;H=function(S){return s(Z.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),S.type==="video"?I(S):y(S))},I=function(S){var E=S.sps||[],A=S.pps||[],k=[],N=[],B,q;for(B=0;B<E.length;B++)k.push((E[B].byteLength&65280)>>>8),k.push(E[B].byteLength&255),k=k.concat(Array.prototype.slice.call(E[B]));for(B=0;B<A.length;B++)N.push((A[B].byteLength&65280)>>>8),N.push(A[B].byteLength&255),N=N.concat(Array.prototype.slice.call(A[B]));if(q=[Z.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(S.width&65280)>>8,S.width&255,(S.height&65280)>>8,S.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(Z.avcC,new Uint8Array([1,S.profileIdc,S.profileCompatibility,S.levelIdc,255].concat([E.length],k,[A.length],N))),s(Z.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],S.sarRatio){var G=S.sarRatio[0],Y=S.sarRatio[1];q.push(s(Z.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(Y&4278190080)>>24,(Y&16711680)>>16,(Y&65280)>>8,Y&255])))}return s.apply(null,q)},y=function(S){return s(Z.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(S.channelcount&65280)>>8,S.channelcount&255,(S.samplesize&65280)>>8,S.samplesize&255,0,0,0,0,(S.samplerate&65280)>>8,S.samplerate&255,0,0]),c(S))}}(),M=function(y){var x=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,0,(y.duration&4278190080)>>24,(y.duration&16711680)>>16,(y.duration&65280)>>8,y.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(y.width&65280)>>8,y.width&255,0,0,(y.height&65280)>>8,y.height&255,0,0]);return s(Z.tkhd,x)},X=function(y){var x,S,E,A,k,N,B;return x=s(Z.tfhd,new Uint8Array([0,0,0,58,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),N=Math.floor(y.baseMediaDecodeTime/a),B=Math.floor(y.baseMediaDecodeTime%a),S=s(Z.tfdt,new Uint8Array([1,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,N&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255])),k=32+20+8+16+8+8,y.type==="audio"?(E=ee(y,k),s(Z.traf,x,S,E)):(A=te(y),E=ee(y,A.length+k),s(Z.traf,x,S,E,A))},R=function(y){return y.duration=y.duration||4294967295,s(Z.trak,M(y),U(y))},K=function(y){var x=new Uint8Array([0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return y.type!=="video"&&(x[x.length-1]=0),s(Z.trex,x)},function(){var I,y,x;x=function(E,A){var k=0,N=0,B=0,q=0;return E.length&&(E[0].duration!==void 0&&(k=1),E[0].size!==void 0&&(N=2),E[0].flags!==void 0&&(B=4),E[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,k|N|B|q,1,(E.length&4278190080)>>>24,(E.length&16711680)>>>16,(E.length&65280)>>>8,E.length&255,(A&4278190080)>>>24,(A&16711680)>>>16,(A&65280)>>>8,A&255]},y=function(E,A){var k,N,B,q,G,Y;for(q=E.samples||[],A+=8+12+16*q.length,B=x(q,A),N=new Uint8Array(B.length+q.length*16),N.set(B),k=B.length,Y=0;Y<q.length;Y++)G=q[Y],N[k++]=(G.duration&4278190080)>>>24,N[k++]=(G.duration&16711680)>>>16,N[k++]=(G.duration&65280)>>>8,N[k++]=G.duration&255,N[k++]=(G.size&4278190080)>>>24,N[k++]=(G.size&16711680)>>>16,N[k++]=(G.size&65280)>>>8,N[k++]=G.size&255,N[k++]=G.flags.isLeading<<2|G.flags.dependsOn,N[k++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,N[k++]=G.flags.degradationPriority&240<<8,N[k++]=G.flags.degradationPriority&15,N[k++]=(G.compositionTimeOffset&4278190080)>>>24,N[k++]=(G.compositionTimeOffset&16711680)>>>16,N[k++]=(G.compositionTimeOffset&65280)>>>8,N[k++]=G.compositionTimeOffset&255;return s(Z.trun,N)},I=function(E,A){var k,N,B,q,G,Y;for(q=E.samples||[],A+=8+12+8*q.length,B=x(q,A),k=new Uint8Array(B.length+q.length*8),k.set(B),N=B.length,Y=0;Y<q.length;Y++)G=q[Y],k[N++]=(G.duration&4278190080)>>>24,k[N++]=(G.duration&16711680)>>>16,k[N++]=(G.duration&65280)>>>8,k[N++]=G.duration&255,k[N++]=(G.size&4278190080)>>>24,k[N++]=(G.size&16711680)>>>16,k[N++]=(G.size&65280)>>>8,k[N++]=G.size&255;return s(Z.trun,k)},ee=function(E,A){return E.type==="audio"?I(E,A):y(E,A)}}();var $t={ftyp:f,mdat:h,moof:T,moov:w,initSegment:function(y){var x=f(),S=w(y),E;return E=new Uint8Array(x.byteLength+S.byteLength),E.set(x),E.set(S,x.byteLength),E}},ne=function(y){var x,S,E=[],A=[];for(A.byteLength=0,A.nalCount=0,A.duration=0,E.byteLength=0,x=0;x<y.length;x++)S=y[x],S.nalUnitType==="access_unit_delimiter_rbsp"?(E.length&&(E.duration=S.dts-E.dts,A.byteLength+=E.byteLength,A.nalCount+=E.length,A.duration+=E.duration,A.push(E)),E=[S],E.byteLength=S.data.byteLength,E.pts=S.pts,E.dts=S.dts):(S.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(E.keyFrame=!0),E.duration=S.dts-E.dts,E.byteLength+=S.data.byteLength,E.push(S));return A.length&&(!E.duration||E.duration<=0)&&(E.duration=A[A.length-1].duration),A.byteLength+=E.byteLength,A.nalCount+=E.length,A.duration+=E.duration,A.push(E),A},be=function(y){var x,S,E=[],A=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=y[0].pts,E.dts=y[0].dts,A.byteLength=0,A.nalCount=0,A.duration=0,A.pts=y[0].pts,A.dts=y[0].dts,x=0;x<y.length;x++)S=y[x],S.keyFrame?(E.length&&(A.push(E),A.byteLength+=E.byteLength,A.nalCount+=E.nalCount,A.duration+=E.duration),E=[S],E.nalCount=S.length,E.byteLength=S.byteLength,E.pts=S.pts,E.dts=S.dts,E.duration=S.duration):(E.duration+=S.duration,E.nalCount+=S.length,E.byteLength+=S.byteLength,E.push(S));return A.length&&E.duration<=0&&(E.duration=A[A.length-1].duration),A.byteLength+=E.byteLength,A.nalCount+=E.nalCount,A.duration+=E.duration,A.push(E),A},xe=function(y){var x;return!y[0][0].keyFrame&&y.length>1&&(x=y.shift(),y.byteLength-=x.byteLength,y.nalCount-=x.nalCount,y[0][0].dts=x.dts,y[0][0].pts=x.pts,y[0][0].duration+=x.duration),y},Me=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},et=function(y,x){var S=Me();return S.dataOffset=x,S.compositionTimeOffset=y.pts-y.dts,S.duration=y.duration,S.size=4*y.length,S.size+=y.byteLength,y.keyFrame&&(S.flags.dependsOn=2,S.flags.isNonSyncSample=0),S},xt=function(y,x){var S,E,A,k,N,B=x||0,q=[];for(S=0;S<y.length;S++)for(k=y[S],E=0;E<k.length;E++)N=k[E],A=et(N,B),B+=A.size,q.push(A);return q},it=function(y){var x,S,E,A,k,N,B=0,q=y.byteLength,G=y.nalCount,Y=q+4*G,se=new Uint8Array(Y),Ee=new DataView(se.buffer);for(x=0;x<y.length;x++)for(A=y[x],S=0;S<A.length;S++)for(k=A[S],E=0;E<k.length;E++)N=k[E],Ee.setUint32(B,N.data.byteLength),B+=4,se.set(N.data,B),B+=N.data.byteLength;return se},F=function(y,x){var S,E=x||0,A=[];return S=et(y,E),A.push(S),A},W=function(y){var x,S,E=0,A=y.byteLength,k=y.length,N=A+4*k,B=new Uint8Array(N),q=new DataView(B.buffer);for(x=0;x<y.length;x++)S=y[x],q.setUint32(E,S.data.byteLength),E+=4,B.set(S.data,E),E+=S.data.byteLength;return B},re={groupNalsIntoFrames:ne,groupFramesIntoGops:be,extendFirstKeyFrame:xe,generateSampleTable:xt,concatenateNalData:it,generateSampleTableForFrame:F,concatenateNalDataForFrame:W},ie=[33,16,5,32,164,27],fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ue=function(y){for(var x=[];y--;)x.push(0);return x},Ce=function(y){return Object.keys(y).reduce(function(x,S){return x[S]=new Uint8Array(y[S].reduce(function(E,A){return E.concat(A)},[])),x},{})},de,Se=function(){if(!de){var y={96e3:[ie,[227,64],ue(154),[56]],88200:[ie,[231],ue(170),[56]],64e3:[ie,[248,192],ue(240),[56]],48e3:[ie,[255,192],ue(268),[55,148,128],ue(54),[112]],44100:[ie,[255,192],ue(268),[55,163,128],ue(84),[112]],32e3:[ie,[255,192],ue(268),[55,234],ue(226),[112]],24e3:[ie,[255,192],ue(268),[55,255,128],ue(268),[111,112],ue(126),[224]],16e3:[ie,[255,192],ue(268),[55,255,128],ue(268),[111,255],ue(269),[223,108],ue(195),[1,192]],12e3:[fe,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,253,128],ue(259),[56]],11025:[fe,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,255,192],ue(268),[55,175,128],ue(108),[112]],8e3:[fe,ue(268),[3,121,16],ue(47),[7]]};de=Ce(y)}return de},he=9e4,Ie,Le,Ue,Xe,at,ut,Et;Ie=function(y){return y*he},Le=function(y,x){return y*x},Ue=function(y){return y/he},Xe=function(y,x){return y/x},at=function(y,x){return Ie(Xe(y,x))},ut=function(y,x){return Le(Ue(y),x)},Et=function(y,x,S){return Ue(S?y:y-x)};var Ge={ONE_SECOND_IN_TS:he,secondsToVideoTs:Ie,secondsToAudioTs:Le,videoTsToSeconds:Ue,audioTsToSeconds:Xe,audioTsToVideoTs:at,videoTsToAudioTs:ut,metadataTsToSeconds:Et},Ir=function(y){var x,S,E=0;for(x=0;x<y.length;x++)S=y[x],E+=S.data.byteLength;return E},Mn=function(y,x,S,E){var A,k=0,N=0,B=0,q=0,G,Y,se;if(!!x.length&&(A=Ge.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),k=Math.ceil(Ge.ONE_SECOND_IN_TS/(y.samplerate/1024)),S&&E&&(N=A-Math.max(S,E),B=Math.floor(N/k),q=B*k),!(B<1||q>Ge.ONE_SECOND_IN_TS/2))){for(G=Se()[y.samplerate],G||(G=x[0].data),Y=0;Y<B;Y++)se=x[0],x.splice(0,0,{data:G,dts:se.dts-k,pts:se.pts-k});return y.baseMediaDecodeTime-=Math.floor(Ge.videoTsToAudioTs(q,y.samplerate)),q}},Ci=function(y,x,S){return x.minSegmentDts>=S?y:(x.minSegmentDts=1/0,y.filter(function(E){return E.dts>=S?(x.minSegmentDts=Math.min(x.minSegmentDts,E.dts),x.minSegmentPts=x.minSegmentDts,!0):!1}))},Ai=function(y){var x,S,E=[];for(x=0;x<y.length;x++)S=y[x],E.push({size:S.data.byteLength,duration:1024});return E},Za=function(y){var x,S,E=0,A=new Uint8Array(Ir(y));for(x=0;x<y.length;x++)S=y[x],A.set(S.data,E),E+=S.data.byteLength;return A},zt={prefixWithSilence:Mn,trimAdtsFramesByEarliestDts:Ci,generateSampleTable:Ai,concatenateFrameData:Za},Or=Ge.ONE_SECOND_IN_TS,ki=function(y,x){typeof x.pts=="number"&&(y.timelineStartInfo.pts===void 0&&(y.timelineStartInfo.pts=x.pts),y.minSegmentPts===void 0?y.minSegmentPts=x.pts:y.minSegmentPts=Math.min(y.minSegmentPts,x.pts),y.maxSegmentPts===void 0?y.maxSegmentPts=x.pts:y.maxSegmentPts=Math.max(y.maxSegmentPts,x.pts)),typeof x.dts=="number"&&(y.timelineStartInfo.dts===void 0&&(y.timelineStartInfo.dts=x.dts),y.minSegmentDts===void 0?y.minSegmentDts=x.dts:y.minSegmentDts=Math.min(y.minSegmentDts,x.dts),y.maxSegmentDts===void 0?y.maxSegmentDts=x.dts:y.maxSegmentDts=Math.max(y.maxSegmentDts,x.dts))},Bh=function(y){delete y.minSegmentDts,delete y.maxSegmentDts,delete y.minSegmentPts,delete y.maxSegmentPts},Uh=function(y,x){var S,E,A=y.minSegmentDts;return x||(A-=y.timelineStartInfo.dts),S=y.timelineStartInfo.baseMediaDecodeTime,S+=A,S=Math.max(0,S),y.type==="audio"&&(E=y.samplerate/Or,S*=E,S=Math.floor(S)),S},Zr={clearDtsInfo:Bh,calculateTrackBaseMediaDecodeTime:Uh,collectDtsInfo:ki},xc=4,Ys=128,vu=function(y){for(var x=0,S={payloadType:-1,payloadSize:0},E=0,A=0;x<y.byteLength&&y[x]!==Ys;){for(;y[x]===255;)E+=255,x++;for(E+=y[x++];y[x]===255;)A+=255,x++;if(A+=y[x++],!S.payload&&E===xc){var k=String.fromCharCode(y[x+3],y[x+4],y[x+5],y[x+6]);if(k==="GA94"){S.payloadType=E,S.payloadSize=A,S.payload=y.subarray(x,x+A);break}else S.payload=void 0}x+=A,E=0,A=0}return S},Sn=function(y){return y.payload[0]!==181||(y.payload[1]<<8|y.payload[2])!==49||String.fromCharCode(y.payload[3],y.payload[4],y.payload[5],y.payload[6])!=="GA94"||y.payload[7]!==3?null:y.payload.subarray(8,y.payload.length-1)},Je=function(y,x){var S=[],E,A,k,N;if(!(x[0]&64))return S;for(A=x[0]&31,E=0;E<A;E++)k=E*3,N={type:x[k+2]&3,pts:y},x[k+2]&4&&(N.ccData=x[k+3]<<8|x[k+4],S.push(N));return S},ct=function(y){for(var x=y.byteLength,S=[],E=1,A,k;E<x-2;)y[E]===0&&y[E+1]===0&&y[E+2]===3?(S.push(E+2),E+=2):E++;if(S.length===0)return y;A=x-S.length,k=new Uint8Array(A);var N=0;for(E=0;E<A;N++,E++)N===S[0]&&(N++,S.shift()),k[E]=y[N];return k},Di={parseSei:vu,parseUserData:Sn,parseCaptionPackets:Je,discardEmulationPreventionBytes:ct,USER_DATA_REGISTERED_ITU_T_T35:xc},Lr=function I(y){y=y||{},I.prototype.init.call(this),this.parse708captions_=typeof y.parse708captions=="boolean"?y.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Rt(0,0),new Rt(0,1),new Rt(1,0),new Rt(1,1)],this.parse708captions_&&(this.cc708Stream_=new gt({captionServices:y.captionServices})),this.reset(),this.ccStreams_.forEach(function(x){x.on("data",this.trigger.bind(this,"data")),x.on("partialdone",this.trigger.bind(this,"partialdone")),x.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Lr.prototype=new e,Lr.prototype.push=function(I){var y,x,S;if(I.nalUnitType==="sei_rbsp"&&(y=Di.parseSei(I.escapedRBSP),!!y.payload&&y.payloadType===Di.USER_DATA_REGISTERED_ITU_T_T35&&(x=Di.parseUserData(y),!!x))){if(I.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(I.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}S=Di.parseCaptionPackets(I.pts,x),this.captionPackets_=this.captionPackets_.concat(S),this.latestDts_!==I.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=I.dts}},Lr.prototype.flushCCStreams=function(I){this.ccStreams_.forEach(function(y){return I==="flush"?y.flush():y.partialFlush()},this)},Lr.prototype.flushStream=function(I){if(!this.captionPackets_.length){this.flushCCStreams(I);return}this.captionPackets_.forEach(function(y,x){y.presortIndex=x}),this.captionPackets_.sort(function(y,x){return y.pts===x.pts?y.presortIndex-x.presortIndex:y.pts-x.pts}),this.captionPackets_.forEach(function(y){y.type<2?this.dispatchCea608Packet(y):this.dispatchCea708Packet(y)},this),this.captionPackets_.length=0,this.flushCCStreams(I)},Lr.prototype.flush=function(){return this.flushStream("flush")},Lr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Lr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(I){I.reset()})},Lr.prototype.dispatchCea608Packet=function(I){this.setsTextOrXDSActive(I)?this.activeCea608Channel_[I.type]=null:this.setsChannel1Active(I)?this.activeCea608Channel_[I.type]=0:this.setsChannel2Active(I)&&(this.activeCea608Channel_[I.type]=1),this.activeCea608Channel_[I.type]!==null&&this.ccStreams_[(I.type<<1)+this.activeCea608Channel_[I.type]].push(I)},Lr.prototype.setsChannel1Active=function(I){return(I.ccData&30720)===4096},Lr.prototype.setsChannel2Active=function(I){return(I.ccData&30720)===6144},Lr.prototype.setsTextOrXDSActive=function(I){return(I.ccData&28928)===256||(I.ccData&30974)===4138||(I.ccData&30974)===6186},Lr.prototype.dispatchCea708Packet=function(I){this.parse708captions_&&this.cc708Stream_.push(I)};var Qs={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Pi=function(y){var x=Qs[y]||y;return y&4096&&y===x?"":String.fromCharCode(x)},ti=function(y){return 32<=y&&y<=127||160<=y&&y<=255},xn=function(y){this.windowNum=y,this.reset()};xn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},xn.prototype.getText=function(){return this.rows.join(`
`)},xn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},xn.prototype.newLine=function(I){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(I),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},xn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},xn.prototype.addText=function(I){this.rows[this.rowIdx]+=I},xn.prototype.backspace=function(){if(!this.isEmpty()){var I=this.rows[this.rowIdx];this.rows[this.rowIdx]=I.substr(0,I.length-1)}};var es=function(y,x,S){this.serviceNum=y,this.text="",this.currentWindow=new xn(-1),this.windows=[],this.stream=S,typeof x=="string"&&this.createTextDecoder(x)};es.prototype.init=function(I,y){this.startPts=I;for(var x=0;x<8;x++)this.windows[x]=new xn(x),typeof y=="function"&&(this.windows[x].beforeRowOverflow=y)},es.prototype.setCurrentWindow=function(I){this.currentWindow=this.windows[I]},es.prototype.createTextDecoder=function(I){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(I)}catch(y){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+I+" encoding. "+y})}};var gt=function I(y){y=y||{},I.prototype.init.call(this);var x=this,S=y.captionServices||{},E={},A;Object.keys(S).forEach(function(k){A=S[k],/^SERVICE/.test(k)&&(E[k]=A.encoding)}),this.serviceEncodings=E,this.current708Packet=null,this.services={},this.push=function(k){k.type===3?(x.new708Packet(),x.add708Bytes(k)):(x.current708Packet===null&&x.new708Packet(),x.add708Bytes(k))}};gt.prototype=new e,gt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},gt.prototype.add708Bytes=function(I){var y=I.ccData,x=y>>>8,S=y&255;this.current708Packet.ptsVals.push(I.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(S)},gt.prototype.push708Packet=function(){var I=this.current708Packet,y=I.data,x=null,S=null,E=0,A=y[E++];for(I.seq=A>>6,I.sizeCode=A&63;E<y.length;E++)A=y[E++],x=A>>5,S=A&31,x===7&&S>0&&(A=y[E++],x=A),this.pushServiceBlock(x,E,S),S>0&&(E+=S-1)},gt.prototype.pushServiceBlock=function(I,y,x){var S,E=y,A=this.current708Packet.data,k=this.services[I];for(k||(k=this.initService(I,E));E<y+x&&E<A.length;E++)S=A[E],ti(S)?E=this.handleText(E,k):S===24?E=this.multiByteCharacter(E,k):S===16?E=this.extendedCommands(E,k):128<=S&&S<=135?E=this.setCurrentWindow(E,k):152<=S&&S<=159?E=this.defineWindow(E,k):S===136?E=this.clearWindows(E,k):S===140?E=this.deleteWindows(E,k):S===137?E=this.displayWindows(E,k):S===138?E=this.hideWindows(E,k):S===139?E=this.toggleWindows(E,k):S===151?E=this.setWindowAttributes(E,k):S===144?E=this.setPenAttributes(E,k):S===145?E=this.setPenColor(E,k):S===146?E=this.setPenLocation(E,k):S===143?k=this.reset(E,k):S===8?k.currentWindow.backspace():S===12?k.currentWindow.clearText():S===13?k.currentWindow.pendingNewLine=!0:S===14?k.currentWindow.clearText():S===141&&E++},gt.prototype.extendedCommands=function(I,y){var x=this.current708Packet.data,S=x[++I];return ti(S)&&(I=this.handleText(I,y,{isExtended:!0})),I},gt.prototype.getPts=function(I){return this.current708Packet.ptsVals[Math.floor(I/2)]},gt.prototype.initService=function(I,y){var S="SERVICE"+I,x=this,S,E;return S in this.serviceEncodings&&(E=this.serviceEncodings[S]),this.services[I]=new es(I,E,x),this.services[I].init(this.getPts(y),function(A){x.flushDisplayed(A,x.services[I])}),this.services[I]},gt.prototype.handleText=function(I,y,x){var S=x&&x.isExtended,E=x&&x.isMultiByte,A=this.current708Packet.data,k=S?4096:0,N=A[I],B=A[I+1],q=y.currentWindow,G,Y;return y.textDecoder_&&!S?(E?(Y=[N,B],I++):Y=[N],G=y.textDecoder_.decode(new Uint8Array(Y))):G=Pi(k|N),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(I)),q.pendingNewLine=!1,q.addText(G),I},gt.prototype.multiByteCharacter=function(I,y){var x=this.current708Packet.data,S=x[I+1],E=x[I+2];return ti(S)&&ti(E)&&(I=this.handleText(++I,y,{isMultiByte:!0})),I},gt.prototype.setCurrentWindow=function(I,y){var x=this.current708Packet.data,S=x[I],E=S&7;return y.setCurrentWindow(E),I},gt.prototype.defineWindow=function(I,y){var x=this.current708Packet.data,S=x[I],E=S&7;y.setCurrentWindow(E);var A=y.currentWindow;return S=x[++I],A.visible=(S&32)>>5,A.rowLock=(S&16)>>4,A.columnLock=(S&8)>>3,A.priority=S&7,S=x[++I],A.relativePositioning=(S&128)>>7,A.anchorVertical=S&127,S=x[++I],A.anchorHorizontal=S,S=x[++I],A.anchorPoint=(S&240)>>4,A.rowCount=S&15,S=x[++I],A.columnCount=S&63,S=x[++I],A.windowStyle=(S&56)>>3,A.penStyle=S&7,A.virtualRowCount=A.rowCount+1,I},gt.prototype.setWindowAttributes=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.winAttr;return S=x[++I],E.fillOpacity=(S&192)>>6,E.fillRed=(S&48)>>4,E.fillGreen=(S&12)>>2,E.fillBlue=S&3,S=x[++I],E.borderType=(S&192)>>6,E.borderRed=(S&48)>>4,E.borderGreen=(S&12)>>2,E.borderBlue=S&3,S=x[++I],E.borderType+=(S&128)>>5,E.wordWrap=(S&64)>>6,E.printDirection=(S&48)>>4,E.scrollDirection=(S&12)>>2,E.justify=S&3,S=x[++I],E.effectSpeed=(S&240)>>4,E.effectDirection=(S&12)>>2,E.displayEffect=S&3,I},gt.prototype.flushDisplayed=function(I,y){for(var x=[],S=0;S<8;S++)y.windows[S].visible&&!y.windows[S].isEmpty()&&x.push(y.windows[S].getText());y.endPts=I,y.text=x.join(`

`),this.pushCaption(y),y.startPts=I},gt.prototype.pushCaption=function(I){I.text!==""&&(this.trigger("data",{startPts:I.startPts,endPts:I.endPts,text:I.text,stream:"cc708_"+I.serviceNum}),I.text="",I.startPts=I.endPts)},gt.prototype.displayWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var A=0;A<8;A++)S&1<<A&&(y.windows[A].visible=1);return I},gt.prototype.hideWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var A=0;A<8;A++)S&1<<A&&(y.windows[A].visible=0);return I},gt.prototype.toggleWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var A=0;A<8;A++)S&1<<A&&(y.windows[A].visible^=1);return I},gt.prototype.clearWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var A=0;A<8;A++)S&1<<A&&y.windows[A].clearText();return I},gt.prototype.deleteWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var A=0;A<8;A++)S&1<<A&&y.windows[A].reset();return I},gt.prototype.setPenAttributes=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.penAttr;return S=x[++I],E.textTag=(S&240)>>4,E.offset=(S&12)>>2,E.penSize=S&3,S=x[++I],E.italics=(S&128)>>7,E.underline=(S&64)>>6,E.edgeType=(S&56)>>3,E.fontStyle=S&7,I},gt.prototype.setPenColor=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.penColor;return S=x[++I],E.fgOpacity=(S&192)>>6,E.fgRed=(S&48)>>4,E.fgGreen=(S&12)>>2,E.fgBlue=S&3,S=x[++I],E.bgOpacity=(S&192)>>6,E.bgRed=(S&48)>>4,E.bgGreen=(S&12)>>2,E.bgBlue=S&3,S=x[++I],E.edgeRed=(S&48)>>4,E.edgeGreen=(S&12)>>2,E.edgeBlue=S&3,I},gt.prototype.setPenLocation=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.penLoc;return y.currentWindow.pendingNewLine=!0,S=x[++I],E.row=S&15,S=x[++I],E.column=S&63,I},gt.prototype.reset=function(I,y){var x=this.getPts(I);return this.flushDisplayed(x,y),this.initService(y.serviceNum,I)};var Zs={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ri=function(y){return y===null?"":(y=Zs[y]||y,String.fromCharCode(y))},ts=14,_u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ni=function(){for(var y=[],x=ts+1;x--;)y.push("");return y},Rt=function I(y,x){I.prototype.init.call(this),this.field_=y||0,this.dataChannel_=x||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(S){var E,A,k,N,B;if(E=S.ccData&32639,E===this.lastControlCode_){this.lastControlCode_=null;return}if((E&61440)===4096?this.lastControlCode_=E:E!==this.PADDING_&&(this.lastControlCode_=null),k=E>>>8,N=E&255,E!==this.PADDING_)if(E===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(E===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(S.pts),this.flushDisplayed(S.pts),A=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=A,this.startPts_=S.pts;else if(E===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(S.pts);else if(E===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(S.pts);else if(E===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(S.pts);else if(E===this.CARRIAGE_RETURN_)this.clearFormatting(S.pts),this.flushDisplayed(S.pts),this.shiftRowsUp_(),this.startPts_=S.pts;else if(E===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(E===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(S.pts),this.displayed_=ni();else if(E===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ni();else if(E===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(S.pts),this.displayed_=ni()),this.mode_="paintOn",this.startPts_=S.pts;else if(this.isSpecialCharacter(k,N))k=(k&3)<<8,B=ri(k|N),this[this.mode_](S.pts,B),this.column_++;else if(this.isExtCharacter(k,N))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),k=(k&3)<<8,B=ri(k|N),this[this.mode_](S.pts,B),this.column_++;else if(this.isMidRowCode(k,N))this.clearFormatting(S.pts),this[this.mode_](S.pts," "),this.column_++,(N&14)===14&&this.addFormatting(S.pts,["i"]),(N&1)===1&&this.addFormatting(S.pts,["u"]);else if(this.isOffsetControlCode(k,N))this.column_+=N&3;else if(this.isPAC(k,N)){var q=_u.indexOf(E&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(S.pts,q)),q!==this.row_&&(this.clearFormatting(S.pts),this.row_=q),N&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(S.pts,["u"]),(E&16)===16&&(this.column_=((E&14)>>1)*4),this.isColorPAC(N)&&(N&14)===14&&this.addFormatting(S.pts,["i"])}else this.isNormalChar(k)&&(N===0&&(N=null),B=ri(k),B+=ri(N),this[this.mode_](S.pts,B),this.column_+=B.length)}};Rt.prototype=new e,Rt.prototype.flushDisplayed=function(I){var y=this.displayed_.map(function(x,S){try{return x.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+S+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");y.length&&this.trigger("data",{startPts:this.startPts_,endPts:I,text:y,stream:this.name_})},Rt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ni(),this.nonDisplayed_=ni(),this.lastControlCode_=null,this.column_=0,this.row_=ts,this.rollUpRows_=2,this.formatting_=[]},Rt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Rt.prototype.isSpecialCharacter=function(I,y){return I===this.EXT_&&y>=48&&y<=63},Rt.prototype.isExtCharacter=function(I,y){return(I===this.EXT_+1||I===this.EXT_+2)&&y>=32&&y<=63},Rt.prototype.isMidRowCode=function(I,y){return I===this.EXT_&&y>=32&&y<=47},Rt.prototype.isOffsetControlCode=function(I,y){return I===this.OFFSET_&&y>=33&&y<=35},Rt.prototype.isPAC=function(I,y){return I>=this.BASE_&&I<this.BASE_+8&&y>=64&&y<=127},Rt.prototype.isColorPAC=function(I){return I>=64&&I<=79||I>=96&&I<=127},Rt.prototype.isNormalChar=function(I){return I>=32&&I<=127},Rt.prototype.setRollUp=function(I,y){if(this.mode_!=="rollUp"&&(this.row_=ts,this.mode_="rollUp",this.flushDisplayed(I),this.nonDisplayed_=ni(),this.displayed_=ni()),y!==void 0&&y!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[y-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]="";y===void 0&&(y=this.row_),this.topRow_=y-this.rollUpRows_+1},Rt.prototype.addFormatting=function(I,y){this.formatting_=this.formatting_.concat(y);var x=y.reduce(function(S,E){return S+"<"+E+">"},"");this[this.mode_](I,x)},Rt.prototype.clearFormatting=function(I){if(!!this.formatting_.length){var y=this.formatting_.reverse().reduce(function(x,S){return x+"</"+S+">"},"");this.formatting_=[],this[this.mode_](I,y)}},Rt.prototype.popOn=function(I,y){var x=this.nonDisplayed_[this.row_];x+=y,this.nonDisplayed_[this.row_]=x},Rt.prototype.rollUp=function(I,y){var x=this.displayed_[this.row_];x+=y,this.displayed_[this.row_]=x},Rt.prototype.shiftRowsUp_=function(){var I;for(I=0;I<this.topRow_;I++)this.displayed_[I]="";for(I=this.row_+1;I<ts+1;I++)this.displayed_[I]="";for(I=this.topRow_;I<this.row_;I++)this.displayed_[I]=this.displayed_[I+1];this.displayed_[this.row_]=""},Rt.prototype.paintOn=function(I,y){var x=this.displayed_[this.row_];x+=y,this.displayed_[this.row_]=x};var rs={CaptionStream:Lr,Cea608Stream:Rt,Cea708Stream:gt},ir={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},jh=8589934592,$h=4294967296,yu="shared",bu=function(y,x){var S=1;for(y>x&&(S=-1);Math.abs(x-y)>$h;)y+=S*jh;return y},ns=function I(y){var x,S;I.prototype.init.call(this),this.type_=y||yu,this.push=function(E){this.type_!==yu&&E.type!==this.type_||(S===void 0&&(S=E.dts),E.dts=bu(E.dts,S),E.pts=bu(E.pts,S),x=E.dts,this.trigger("data",E))},this.flush=function(){S=x,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){S=void 0,x=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ns.prototype=new e;var eo={TimestampRolloverStream:ns,handleRollover:bu},Tu=function(y,x,S){var E,A="";for(E=x;E<S;E++)A+="%"+("00"+y[E].toString(16)).slice(-2);return A},is=function(y,x,S){return decodeURIComponent(Tu(y,x,S))},Hh=function(y,x,S){return unescape(Tu(y,x,S))},as=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},Su={TXXX:function(y){var x;if(y.data[0]===3){for(x=1;x<y.data.length;x++)if(y.data[x]===0){y.description=is(y.data,1,x),y.value=is(y.data,x+1,y.data.length).replace(/\0*$/,"");break}y.data=y.value}},WXXX:function(y){var x;if(y.data[0]===3){for(x=1;x<y.data.length;x++)if(y.data[x]===0){y.description=is(y.data,1,x),y.url=is(y.data,x+1,y.data.length);break}}},PRIV:function(y){var x;for(x=0;x<y.data.length;x++)if(y.data[x]===0){y.owner=Hh(y.data,0,x);break}y.privateData=y.data.subarray(x+1),y.data=y.privateData}},Tt;Tt=function(y){var x={descriptor:y&&y.descriptor},S=0,E=[],A=0,k;if(Tt.prototype.init.call(this),this.dispatchType=ir.METADATA_STREAM_TYPE.toString(16),x.descriptor)for(k=0;k<x.descriptor.length;k++)this.dispatchType+=("00"+x.descriptor[k].toString(16)).slice(-2);this.push=function(N){var B,q,G,Y,se,Ee;if(N.type==="timed-metadata"){if(N.dataAlignmentIndicator&&(A=0,E.length=0),E.length===0&&(N.data.length<10||N.data[0]!=="I".charCodeAt(0)||N.data[1]!=="D".charCodeAt(0)||N.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(E.push(N),A+=N.data.byteLength,E.length===1&&(S=as(N.data.subarray(6,10)),S+=10),!(A<S)){for(B={data:new Uint8Array(S),frames:[],pts:E[0].pts,dts:E[0].dts},se=0;se<S;)B.data.set(E[0].data.subarray(0,S-se),se),se+=E[0].data.byteLength,A-=E[0].data.byteLength,E.shift();q=10,B.data[5]&64&&(q+=4,q+=as(B.data.subarray(10,14)),S-=as(B.data.subarray(16,20)));do{if(G=as(B.data.subarray(q+4,q+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Ee=String.fromCharCode(B.data[q],B.data[q+1],B.data[q+2],B.data[q+3]),Y={id:Ee,data:B.data.subarray(q+10,q+G+10)},Y.key=Y.id,Su[Y.id]&&(Su[Y.id](Y),Y.owner==="com.apple.streaming.transportStreamTimestamp")){var Oe=Y.data,_e=(Oe[3]&1)<<30|Oe[4]<<22|Oe[5]<<14|Oe[6]<<6|Oe[7]>>>2;_e*=4,_e+=Oe[7]&3,Y.timeStamp=_e,B.pts===void 0&&B.dts===void 0&&(B.pts=Y.timeStamp,B.dts=Y.timeStamp),this.trigger("timestamp",Y)}B.frames.push(Y),q+=10,q+=G}while(q<S);this.trigger("data",B)}}}},Tt.prototype=new e;var Vh=Tt,qh=eo.TimestampRolloverStream,to,ma,ro,va=188,xu=71;to=function(){var y=new Uint8Array(va),x=0;to.prototype.init.call(this),this.push=function(S){var E=0,A=va,k;for(x?(k=new Uint8Array(S.byteLength+x),k.set(y.subarray(0,x)),k.set(S,x),x=0):k=S;A<k.byteLength;){if(k[E]===xu&&k[A]===xu){this.trigger("data",k.subarray(E,A)),E+=va,A+=va;continue}E++,A++}E<k.byteLength&&(y.set(k.subarray(E),0),x=k.byteLength-E)},this.flush=function(){x===va&&y[0]===xu&&(this.trigger("data",y),x=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){x=0,this.trigger("reset")}},to.prototype=new e,ma=function(){var y,x,S,E;ma.prototype.init.call(this),E=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,y=function(k,N){var B=0;N.payloadUnitStartIndicator&&(B+=k[B]+1),N.type==="pat"?x(k.subarray(B),N):S(k.subarray(B),N)},x=function(k,N){N.section_number=k[7],N.last_section_number=k[8],E.pmtPid=(k[10]&31)<<8|k[11],N.pmtPid=E.pmtPid},S=function(k,N){var B,q,G,Y;if(!!(k[5]&1)){for(E.programMapTable={video:null,audio:null,"timed-metadata":{}},B=(k[1]&15)<<8|k[2],q=3+B-4,G=(k[10]&15)<<8|k[11],Y=12+G;Y<q;){var se=k[Y],Ee=(k[Y+1]&31)<<8|k[Y+2];se===ir.H264_STREAM_TYPE&&E.programMapTable.video===null?E.programMapTable.video=Ee:se===ir.ADTS_STREAM_TYPE&&E.programMapTable.audio===null?E.programMapTable.audio=Ee:se===ir.METADATA_STREAM_TYPE&&(E.programMapTable["timed-metadata"][Ee]=se),Y+=((k[Y+3]&15)<<8|k[Y+4])+5}N.programMapTable=E.programMapTable}},this.push=function(A){var k={},N=4;if(k.payloadUnitStartIndicator=!!(A[1]&64),k.pid=A[1]&31,k.pid<<=8,k.pid|=A[2],(A[3]&48)>>>4>1&&(N+=A[N]+1),k.pid===0)k.type="pat",y(A.subarray(N),k),this.trigger("data",k);else if(k.pid===this.pmtPid)for(k.type="pmt",y(A.subarray(N),k),this.trigger("data",k);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([A,N,k]):this.processPes_(A,N,k)},this.processPes_=function(A,k,N){N.pid===this.programMapTable.video?N.streamType=ir.H264_STREAM_TYPE:N.pid===this.programMapTable.audio?N.streamType=ir.ADTS_STREAM_TYPE:N.streamType=this.programMapTable["timed-metadata"][N.pid],N.type="pes",N.data=A.subarray(k),this.trigger("data",N)}},ma.prototype=new e,ma.STREAM_TYPES={h264:27,adts:15},ro=function(){var y=this,x=!1,S={data:[],size:0},E={data:[],size:0},A={data:[],size:0},k,N=function(G,Y){var se,Ee=G[0]<<16|G[1]<<8|G[2];Y.data=new Uint8Array,Ee===1&&(Y.packetLength=6+(G[4]<<8|G[5]),Y.dataAlignmentIndicator=(G[6]&4)!==0,se=G[7],se&192&&(Y.pts=(G[9]&14)<<27|(G[10]&255)<<20|(G[11]&254)<<12|(G[12]&255)<<5|(G[13]&254)>>>3,Y.pts*=4,Y.pts+=(G[13]&6)>>>1,Y.dts=Y.pts,se&64&&(Y.dts=(G[14]&14)<<27|(G[15]&255)<<20|(G[16]&254)<<12|(G[17]&255)<<5|(G[18]&254)>>>3,Y.dts*=4,Y.dts+=(G[18]&6)>>>1)),Y.data=G.subarray(9+G[8]))},B=function(G,Y,se){var Ee=new Uint8Array(G.size),Oe={type:Y},_e=0,qe=0,Zt=!1,xr;if(!(!G.data.length||G.size<9)){for(Oe.trackId=G.data[0].pid,_e=0;_e<G.data.length;_e++)xr=G.data[_e],Ee.set(xr.data,qe),qe+=xr.data.byteLength;N(Ee,Oe),Zt=Y==="video"||Oe.packetLength<=G.size,(se||Zt)&&(G.size=0,G.data.length=0),Zt&&y.trigger("data",Oe)}};ro.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var Y,se;switch(q.streamType){case ir.H264_STREAM_TYPE:Y=S,se="video";break;case ir.ADTS_STREAM_TYPE:Y=E,se="audio";break;case ir.METADATA_STREAM_TYPE:Y=A,se="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&B(Y,se,!0),Y.data.push(q),Y.size+=q.data.byteLength},pmt:function(){var Y={type:"metadata",tracks:[]};k=q.programMapTable,k.video!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),x=!0,y.trigger("data",Y)}})[q.type]()},this.reset=function(){S.size=0,S.data.length=0,E.size=0,E.data.length=0,this.trigger("reset")},this.flushStreams_=function(){B(S,"video"),B(E,"audio"),B(A,"timed-metadata")},this.flush=function(){if(!x&&k){var q={type:"metadata",tracks:[]};k.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),y.trigger("data",q)}x=!1,this.flushStreams_(),this.trigger("done")}},ro.prototype=new e;var Ec={PAT_PID:0,MP2T_PACKET_LENGTH:va,TransportPacketStream:to,TransportParseStream:ma,ElementaryStream:ro,TimestampRolloverStream:qh,CaptionStream:rs.CaptionStream,Cea608Stream:rs.Cea608Stream,Cea708Stream:rs.Cea708Stream,MetadataStream:Vh};for(var Eu in ir)ir.hasOwnProperty(Eu)&&(Ec[Eu]=ir[Eu]);var Bn=Ec,Wh=Ge.ONE_SECOND_IN_TS,no,wu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];no=function(y){var x,S=0;no.prototype.init.call(this),this.skipWarn_=function(E,A){this.trigger("log",{level:"warn",message:"adts skiping bytes "+E+" to "+A+" in frame "+S+" outside syncword"})},this.push=function(E){var A=0,k,N,B,q,G;if(y||(S=0),E.type==="audio"){x&&x.length?(B=x,x=new Uint8Array(B.byteLength+E.data.byteLength),x.set(B),x.set(E.data,B.byteLength)):x=E.data;for(var Y;A+7<x.length;){if(x[A]!==255||(x[A+1]&246)!==240){typeof Y!="number"&&(Y=A),A++;continue}if(typeof Y=="number"&&(this.skipWarn_(Y,A),Y=null),N=(~x[A+1]&1)*2,k=(x[A+3]&3)<<11|x[A+4]<<3|(x[A+5]&224)>>5,q=((x[A+6]&3)+1)*1024,G=q*Wh/wu[(x[A+2]&60)>>>2],x.byteLength-A<k)break;this.trigger("data",{pts:E.pts+S*G,dts:E.dts+S*G,sampleCount:q,audioobjecttype:(x[A+2]>>>6&3)+1,channelcount:(x[A+2]&1)<<2|(x[A+3]&192)>>>6,samplerate:wu[(x[A+2]&60)>>>2],samplingfrequencyindex:(x[A+2]&60)>>>2,samplesize:16,data:x.subarray(A+7+N,A+k)}),S++,A+=k}typeof Y=="number"&&(this.skipWarn_(Y,A),Y=null),x=x.subarray(A)}},this.flush=function(){S=0,this.trigger("done")},this.reset=function(){x=void 0,this.trigger("reset")},this.endTimeline=function(){x=void 0,this.trigger("endedtimeline")}},no.prototype=new e;var Cu=no,wc;wc=function(y){var x=y.byteLength,S=0,E=0;this.length=function(){return 8*x},this.bitsAvailable=function(){return 8*x+E},this.loadWord=function(){var A=y.byteLength-x,k=new Uint8Array(4),N=Math.min(4,x);if(N===0)throw new Error("no bytes available");k.set(y.subarray(A,A+N)),S=new DataView(k.buffer).getUint32(0),E=N*8,x-=N},this.skipBits=function(A){var k;E>A?(S<<=A,E-=A):(A-=E,k=Math.floor(A/8),A-=k*8,x-=k,this.loadWord(),S<<=A,E-=A)},this.readBits=function(A){var k=Math.min(E,A),N=S>>>32-k;return E-=k,E>0?S<<=k:x>0&&this.loadWord(),k=A-k,k>0?N<<k|this.readBits(k):N},this.skipLeadingZeros=function(){var A;for(A=0;A<E;++A)if((S&2147483648>>>A)!==0)return S<<=A,E-=A,A;return this.loadWord(),A+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var A=this.skipLeadingZeros();return this.readBits(A+1)-1},this.readExpGolomb=function(){var A=this.readUnsignedExpGolomb();return 1&A?1+A>>>1:-1*(A>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Gh=wc,_a,ya,Au;ya=function(){var y=0,x,S;ya.prototype.init.call(this),this.push=function(E){var A;S?(A=new Uint8Array(S.byteLength+E.data.byteLength),A.set(S),A.set(E.data,S.byteLength),S=A):S=E.data;for(var k=S.byteLength;y<k-3;y++)if(S[y+2]===1){x=y+5;break}for(;x<k;)switch(S[x]){case 0:if(S[x-1]!==0){x+=2;break}else if(S[x-2]!==0){x++;break}y+3!==x-2&&this.trigger("data",S.subarray(y+3,x-2));do x++;while(S[x]!==1&&x<k);y=x-2,x+=3;break;case 1:if(S[x-1]!==0||S[x-2]!==0){x+=3;break}this.trigger("data",S.subarray(y+3,x-2)),y=x-2,x+=3;break;default:x+=3;break}S=S.subarray(y),x-=y,y=0},this.reset=function(){S=null,y=0,this.trigger("reset")},this.flush=function(){S&&S.byteLength>3&&this.trigger("data",S.subarray(y+3)),S=null,y=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ya.prototype=new e,Au={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},_a=function(){var y=new ya,x,S,E,A,k,N,B;_a.prototype.init.call(this),x=this,this.push=function(q){q.type==="video"&&(S=q.trackId,E=q.pts,A=q.dts,y.push(q))},y.on("data",function(q){var G={trackId:S,pts:E,dts:A,data:q,nalUnitTypeCode:q[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=k(q.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=k(q.subarray(1)),G.config=N(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}x.trigger("data",G)}),y.on("done",function(){x.trigger("done")}),y.on("partialdone",function(){x.trigger("partialdone")}),y.on("reset",function(){x.trigger("reset")}),y.on("endedtimeline",function(){x.trigger("endedtimeline")}),this.flush=function(){y.flush()},this.partialFlush=function(){y.partialFlush()},this.reset=function(){y.reset()},this.endTimeline=function(){y.endTimeline()},B=function(G,Y){var se=8,Ee=8,Oe,_e;for(Oe=0;Oe<G;Oe++)Ee!==0&&(_e=Y.readExpGolomb(),Ee=(se+_e+256)%256),se=Ee===0?se:Ee},k=function(G){for(var Y=G.byteLength,se=[],Ee=1,Oe,_e;Ee<Y-2;)G[Ee]===0&&G[Ee+1]===0&&G[Ee+2]===3?(se.push(Ee+2),Ee+=2):Ee++;if(se.length===0)return G;Oe=Y-se.length,_e=new Uint8Array(Oe);var qe=0;for(Ee=0;Ee<Oe;qe++,Ee++)qe===se[0]&&(qe++,se.shift()),_e[Ee]=G[qe];return _e},N=function(G){var Y=0,se=0,Ee=0,Oe=0,_e,qe,Zt,xr,Ri,Bu,Yc,Qc,Zc,Uu,ed,Kt=[1,1],td,Ni;if(_e=new Gh(G),qe=_e.readUnsignedByte(),xr=_e.readUnsignedByte(),Zt=_e.readUnsignedByte(),_e.skipUnsignedExpGolomb(),Au[qe]&&(Ri=_e.readUnsignedExpGolomb(),Ri===3&&_e.skipBits(1),_e.skipUnsignedExpGolomb(),_e.skipUnsignedExpGolomb(),_e.skipBits(1),_e.readBoolean()))for(ed=Ri!==3?8:12,Ni=0;Ni<ed;Ni++)_e.readBoolean()&&(Ni<6?B(16,_e):B(64,_e));if(_e.skipUnsignedExpGolomb(),Bu=_e.readUnsignedExpGolomb(),Bu===0)_e.readUnsignedExpGolomb();else if(Bu===1)for(_e.skipBits(1),_e.skipExpGolomb(),_e.skipExpGolomb(),Yc=_e.readUnsignedExpGolomb(),Ni=0;Ni<Yc;Ni++)_e.skipExpGolomb();if(_e.skipUnsignedExpGolomb(),_e.skipBits(1),Qc=_e.readUnsignedExpGolomb(),Zc=_e.readUnsignedExpGolomb(),Uu=_e.readBits(1),Uu===0&&_e.skipBits(1),_e.skipBits(1),_e.readBoolean()&&(Y=_e.readUnsignedExpGolomb(),se=_e.readUnsignedExpGolomb(),Ee=_e.readUnsignedExpGolomb(),Oe=_e.readUnsignedExpGolomb()),_e.readBoolean()&&_e.readBoolean()){switch(td=_e.readUnsignedByte(),td){case 1:Kt=[1,1];break;case 2:Kt=[12,11];break;case 3:Kt=[10,11];break;case 4:Kt=[16,11];break;case 5:Kt=[40,33];break;case 6:Kt=[24,11];break;case 7:Kt=[20,11];break;case 8:Kt=[32,11];break;case 9:Kt=[80,33];break;case 10:Kt=[18,11];break;case 11:Kt=[15,11];break;case 12:Kt=[64,33];break;case 13:Kt=[160,99];break;case 14:Kt=[4,3];break;case 15:Kt=[3,2];break;case 16:Kt=[2,1];break;case 255:{Kt=[_e.readUnsignedByte()<<8|_e.readUnsignedByte(),_e.readUnsignedByte()<<8|_e.readUnsignedByte()];break}}Kt&&Kt[0]/Kt[1]}return{profileIdc:qe,levelIdc:Zt,profileCompatibility:xr,width:(Qc+1)*16-Y*2-se*2,height:(2-Uu)*(Zc+1)*16-Ee*2-Oe*2,sarRatio:Kt}}},_a.prototype=new e;var Cc={H264Stream:_a,NalByteStream:ya},zh=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ac=function(y,x){var S=y[x+6]<<21|y[x+7]<<14|y[x+8]<<7|y[x+9],E=y[x+5],A=(E&16)>>4;return S=S>=0?S:0,A?S+20:S+10},Kh=function I(y,x){return y.length-x<10||y[x]!=="I".charCodeAt(0)||y[x+1]!=="D".charCodeAt(0)||y[x+2]!=="3".charCodeAt(0)?x:(x+=Ac(y,x),I(y,x))},Xh=function(y){var x=Kh(y,0);return y.length>=x+2&&(y[x]&255)===255&&(y[x+1]&240)===240&&(y[x+1]&22)===16},ku=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},Jh=function(y,x,S){var E,A="";for(E=x;E<S;E++)A+="%"+("00"+y[E].toString(16)).slice(-2);return A},Yh=function(y,x,S){return unescape(Jh(y,x,S))},Qh=function(y,x){var S=(y[x+5]&224)>>5,E=y[x+4]<<3,A=y[x+3]&3<<11;return A|E|S},Zh=function(y,x){return y[x]==="I".charCodeAt(0)&&y[x+1]==="D".charCodeAt(0)&&y[x+2]==="3".charCodeAt(0)?"timed-metadata":y[x]&!0&&(y[x+1]&240)===240?"audio":null},ep=function(y){for(var x=0;x+5<y.length;){if(y[x]!==255||(y[x+1]&246)!==240){x++;continue}return zh[(y[x+2]&60)>>>2]}return null},tp=function(y){var x,S,E,A;x=10,y[5]&64&&(x+=4,x+=ku(y.subarray(10,14)));do{if(S=ku(y.subarray(x+4,x+8)),S<1)return null;if(A=String.fromCharCode(y[x],y[x+1],y[x+2],y[x+3]),A==="PRIV"){E=y.subarray(x+10,x+S+10);for(var k=0;k<E.byteLength;k++)if(E[k]===0){var N=Yh(E,0,k);if(N==="com.apple.streaming.transportStreamTimestamp"){var B=E.subarray(k+1),q=(B[3]&1)<<30|B[4]<<22|B[5]<<14|B[6]<<6|B[7]>>>2;return q*=4,q+=B[7]&3,q}break}}x+=10,x+=S}while(x<y.byteLength);return null},io={isLikelyAacData:Xh,parseId3TagSize:Ac,parseAdtsSize:Qh,parseType:Zh,parseSampleRate:ep,parseAacTimestamp:tp},ao;ao=function(){var y=new Uint8Array,x=0;ao.prototype.init.call(this),this.setTimestamp=function(S){x=S},this.push=function(S){var E=0,A=0,k,N,B,q;for(y.length?(q=y.length,y=new Uint8Array(S.byteLength+q),y.set(y.subarray(0,q)),y.set(S,q)):y=S;y.length-A>=3;){if(y[A]==="I".charCodeAt(0)&&y[A+1]==="D".charCodeAt(0)&&y[A+2]==="3".charCodeAt(0)){if(y.length-A<10||(E=io.parseId3TagSize(y,A),A+E>y.length))break;N={type:"timed-metadata",data:y.subarray(A,A+E)},this.trigger("data",N),A+=E;continue}else if((y[A]&255)===255&&(y[A+1]&240)===240){if(y.length-A<7||(E=io.parseAdtsSize(y,A),A+E>y.length))break;B={type:"audio",data:y.subarray(A,A+E),pts:x,dts:x},this.trigger("data",B),A+=E;continue}A++}k=y.length-A,k>0?y=y.subarray(A):y=new Uint8Array},this.reset=function(){y=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){y=new Uint8Array,this.trigger("endedtimeline")}},ao.prototype=new e;var rp=ao,np=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Du=np,ip=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Pu=ip,ap=Cc.H264Stream,sp=io.isLikelyAacData,Iu=Ge.ONE_SECOND_IN_TS,ss,ba,so,Ii,kc=function(y,x){x.stream=y,this.trigger("log",x)},Dc=function(y,x){for(var S=Object.keys(x),E=0;E<S.length;E++){var A=S[E];A==="headOfPipeline"||!x[A].on||x[A].on("log",kc.bind(y,A))}},Pc=function(y,x){var S;if(y.length!==x.length)return!1;for(S=0;S<y.length;S++)if(y[S]!==x[S])return!1;return!0},Ou=function(y,x,S,E,A,k){var N=S-x,B=E-x,q=A-S;return{start:{dts:y,pts:y+N},end:{dts:y+B,pts:y+q},prependedContentDuration:k,baseMediaDecodeTime:y}};ba=function(y,x){var S=[],E,A=0,k=0,N=1/0;x=x||{},E=x.firstSequenceNumber||0,ba.prototype.init.call(this),this.push=function(B){Zr.collectDtsInfo(y,B),y&&Du.forEach(function(q){y[q]=B[q]}),S.push(B)},this.setEarliestDts=function(B){A=B},this.setVideoBaseMediaDecodeTime=function(B){N=B},this.setAudioAppendStart=function(B){k=B},this.flush=function(){var B,q,G,Y,se,Ee,Oe;if(S.length===0){this.trigger("done","AudioSegmentStream");return}B=zt.trimAdtsFramesByEarliestDts(S,y,A),y.baseMediaDecodeTime=Zr.calculateTrackBaseMediaDecodeTime(y,x.keepOriginalTimestamps),Oe=zt.prefixWithSilence(y,B,k,N),y.samples=zt.generateSampleTable(B),G=$t.mdat(zt.concatenateFrameData(B)),S=[],q=$t.moof(E,[y]),Y=new Uint8Array(q.byteLength+G.byteLength),E++,Y.set(q),Y.set(G,q.byteLength),Zr.clearDtsInfo(y),se=Math.ceil(Iu*1024/y.samplerate),B.length&&(Ee=B.length*se,this.trigger("segmentTimingInfo",Ou(Ge.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),B[0].dts,B[0].pts,B[0].dts+Ee,B[0].pts+Ee,Oe||0)),this.trigger("timingInfo",{start:B[0].pts,end:B[0].pts+Ee})),this.trigger("data",{track:y,boxes:Y}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Zr.clearDtsInfo(y),S=[],this.trigger("reset")}},ba.prototype=new e,ss=function(y,x){var S,E=[],A=[],k,N;x=x||{},S=x.firstSequenceNumber||0,ss.prototype.init.call(this),delete y.minPTS,this.gopCache_=[],this.push=function(B){Zr.collectDtsInfo(y,B),B.nalUnitType==="seq_parameter_set_rbsp"&&!k&&(k=B.config,y.sps=[B.data],Pu.forEach(function(q){y[q]=k[q]},this)),B.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=B.data,y.pps=[B.data]),E.push(B)},this.flush=function(){for(var B,q,G,Y,se,Ee,Oe=0,_e,qe;E.length&&E[0].nalUnitType!=="access_unit_delimiter_rbsp";)E.shift();if(E.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(B=re.groupNalsIntoFrames(E),G=re.groupFramesIntoGops(B),G[0][0].keyFrame||(q=this.getGopForFusion_(E[0],y),q?(Oe=q.duration,G.unshift(q),G.byteLength+=q.byteLength,G.nalCount+=q.nalCount,G.pts=q.pts,G.dts=q.dts,G.duration+=q.duration):G=re.extendFirstKeyFrame(G)),A.length){var Zt;if(x.alignGopsAtEnd?Zt=this.alignGopsAtEnd_(G):Zt=this.alignGopsAtStart_(G),!Zt){this.gopCache_.unshift({gop:G.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Zr.clearDtsInfo(y),G=Zt}Zr.collectDtsInfo(y,G),y.samples=re.generateSampleTable(G),se=$t.mdat(re.concatenateNalData(G)),y.baseMediaDecodeTime=Zr.calculateTrackBaseMediaDecodeTime(y,x.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function(xr){return{pts:xr.pts,dts:xr.dts,byteLength:xr.byteLength}})),_e=G[0],qe=G[G.length-1],this.trigger("segmentTimingInfo",Ou(y.baseMediaDecodeTime,_e.dts,_e.pts,qe.dts+qe.duration,qe.pts+qe.duration,Oe)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.trigger("baseMediaDecodeTime",y.baseMediaDecodeTime),this.trigger("timelineStartInfo",y.timelineStartInfo),Y=$t.moof(S,[y]),Ee=new Uint8Array(Y.byteLength+se.byteLength),S++,Ee.set(Y),Ee.set(se,Y.byteLength),this.trigger("data",{track:y,boxes:Ee}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),E=[],this.gopCache_.length=0,A.length=0,this.trigger("reset")},this.resetStream_=function(){Zr.clearDtsInfo(y),k=void 0,N=void 0},this.getGopForFusion_=function(B){var q=45e3,G=1e4,Y=1/0,se,Ee,Oe,_e,qe;for(qe=0;qe<this.gopCache_.length;qe++)_e=this.gopCache_[qe],Oe=_e.gop,!(!(y.pps&&Pc(y.pps[0],_e.pps[0]))||!(y.sps&&Pc(y.sps[0],_e.sps[0])))&&(Oe.dts<y.timelineStartInfo.dts||(se=B.dts-Oe.dts-Oe.duration,se>=-G&&se<=q&&(!Ee||Y>se)&&(Ee=_e,Y=se)));return Ee?Ee.gop:null},this.alignGopsAtStart_=function(B){var q,G,Y,se,Ee,Oe,_e,qe;for(Ee=B.byteLength,Oe=B.nalCount,_e=B.duration,q=G=0;q<A.length&&G<B.length&&(Y=A[q],se=B[G],Y.pts!==se.pts);){if(se.pts>Y.pts){q++;continue}G++,Ee-=se.byteLength,Oe-=se.nalCount,_e-=se.duration}return G===0?B:G===B.length?null:(qe=B.slice(G),qe.byteLength=Ee,qe.duration=_e,qe.nalCount=Oe,qe.pts=qe[0].pts,qe.dts=qe[0].dts,qe)},this.alignGopsAtEnd_=function(B){var q,G,Y,se,Ee,Oe;for(q=A.length-1,G=B.length-1,Ee=null,Oe=!1;q>=0&&G>=0;){if(Y=A[q],se=B[G],Y.pts===se.pts){Oe=!0;break}if(Y.pts>se.pts){q--;continue}q===A.length-1&&(Ee=G),G--}if(!Oe&&Ee===null)return null;var _e;if(Oe?_e=G:_e=Ee,_e===0)return B;var qe=B.slice(_e),Zt=qe.reduce(function(xr,Ri){return xr.byteLength+=Ri.byteLength,xr.duration+=Ri.duration,xr.nalCount+=Ri.nalCount,xr},{byteLength:0,duration:0,nalCount:0});return qe.byteLength=Zt.byteLength,qe.duration=Zt.duration,qe.nalCount=Zt.nalCount,qe.pts=qe[0].pts,qe.dts=qe[0].dts,qe},this.alignGopsWith=function(B){A=B}},ss.prototype=new e,Ii=function(y,x){this.numberOfTracks=0,this.metadataStream=x,y=y||{},typeof y.remux<"u"?this.remuxTracks=!!y.remux:this.remuxTracks=!0,typeof y.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=y.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ii.prototype.init.call(this),this.push=function(S){if(S.text)return this.pendingCaptions.push(S);if(S.frames)return this.pendingMetadata.push(S);this.pendingTracks.push(S.track),this.pendingBytes+=S.boxes.byteLength,S.track.type==="video"&&(this.videoTrack=S.track,this.pendingBoxes.push(S.boxes)),S.track.type==="audio"&&(this.audioTrack=S.track,this.pendingBoxes.unshift(S.boxes))}},Ii.prototype=new e,Ii.prototype.flush=function(I){var y=0,x={captions:[],captionStreams:{},metadata:[],info:{}},S,E,A,k=0,N;if(this.pendingTracks.length<this.numberOfTracks){if(I!=="VideoSegmentStream"&&I!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(k=this.videoTrack.timelineStartInfo.pts,Pu.forEach(function(B){x.info[B]=this.videoTrack[B]},this)):this.audioTrack&&(k=this.audioTrack.timelineStartInfo.pts,Du.forEach(function(B){x.info[B]=this.audioTrack[B]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,A=$t.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(A.byteLength),x.initSegment.set(A),x.data=new Uint8Array(this.pendingBytes),N=0;N<this.pendingBoxes.length;N++)x.data.set(this.pendingBoxes[N],y),y+=this.pendingBoxes[N].byteLength;for(N=0;N<this.pendingCaptions.length;N++)S=this.pendingCaptions[N],S.startTime=Ge.metadataTsToSeconds(S.startPts,k,this.keepOriginalTimestamps),S.endTime=Ge.metadataTsToSeconds(S.endPts,k,this.keepOriginalTimestamps),x.captionStreams[S.stream]=!0,x.captions.push(S);for(N=0;N<this.pendingMetadata.length;N++)E=this.pendingMetadata[N],E.cueTime=Ge.metadataTsToSeconds(E.pts,k,this.keepOriginalTimestamps),x.metadata.push(E);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),N=0;N<x.captions.length;N++)S=x.captions[N],this.trigger("caption",S);for(N=0;N<x.metadata.length;N++)E=x.metadata[N],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ii.prototype.setRemux=function(I){this.remuxTracks=I},so=function(y){var x=this,S=!0,E,A;so.prototype.init.call(this),y=y||{},this.baseMediaDecodeTime=y.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="aac",k.metadataStream=new Bn.MetadataStream,k.aacStream=new rp,k.audioTimestampRolloverStream=new Bn.TimestampRolloverStream("audio"),k.timedMetadataTimestampRolloverStream=new Bn.TimestampRolloverStream("timed-metadata"),k.adtsStream=new Cu,k.coalesceStream=new Ii(y,k.metadataStream),k.headOfPipeline=k.aacStream,k.aacStream.pipe(k.audioTimestampRolloverStream).pipe(k.adtsStream),k.aacStream.pipe(k.timedMetadataTimestampRolloverStream).pipe(k.metadataStream).pipe(k.coalesceStream),k.metadataStream.on("timestamp",function(N){k.aacStream.setTimestamp(N.timeStamp)}),k.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||k.audioSegmentStream||(A=A||{timelineStartInfo:{baseMediaDecodeTime:x.baseMediaDecodeTime},codec:"adts",type:"audio"},k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new ba(A,y),k.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream),x.trigger("trackinfo",{hasAudio:!!A,hasVideo:!!E}))}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),Dc(this,k)},this.setupTsPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="ts",k.metadataStream=new Bn.MetadataStream,k.packetStream=new Bn.TransportPacketStream,k.parseStream=new Bn.TransportParseStream,k.elementaryStream=new Bn.ElementaryStream,k.timestampRolloverStream=new Bn.TimestampRolloverStream,k.adtsStream=new Cu,k.h264Stream=new ap,k.captionStream=new Bn.CaptionStream(y),k.coalesceStream=new Ii(y,k.metadataStream),k.headOfPipeline=k.packetStream,k.packetStream.pipe(k.parseStream).pipe(k.elementaryStream).pipe(k.timestampRolloverStream),k.timestampRolloverStream.pipe(k.h264Stream),k.timestampRolloverStream.pipe(k.adtsStream),k.timestampRolloverStream.pipe(k.metadataStream).pipe(k.coalesceStream),k.h264Stream.pipe(k.captionStream).pipe(k.coalesceStream),k.elementaryStream.on("data",function(N){var B;if(N.type==="metadata"){for(B=N.tracks.length;B--;)!E&&N.tracks[B].type==="video"?(E=N.tracks[B],E.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime):!A&&N.tracks[B].type==="audio"&&(A=N.tracks[B],A.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime);E&&!k.videoSegmentStream&&(k.coalesceStream.numberOfTracks++,k.videoSegmentStream=new ss(E,y),k.videoSegmentStream.on("log",x.getLogTrigger_("videoSegmentStream")),k.videoSegmentStream.on("timelineStartInfo",function(q){A&&!y.keepOriginalTimestamps&&(A.timelineStartInfo=q,k.audioSegmentStream.setEarliestDts(q.dts-x.baseMediaDecodeTime))}),k.videoSegmentStream.on("processedGopsInfo",x.trigger.bind(x,"gopInfo")),k.videoSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"videoSegmentTimingInfo")),k.videoSegmentStream.on("baseMediaDecodeTime",function(q){A&&k.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),k.videoSegmentStream.on("timingInfo",x.trigger.bind(x,"videoTimingInfo")),k.h264Stream.pipe(k.videoSegmentStream).pipe(k.coalesceStream)),A&&!k.audioSegmentStream&&(k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new ba(A,y),k.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),k.audioSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"audioSegmentTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream)),x.trigger("trackinfo",{hasAudio:!!A,hasVideo:!!E})}}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("id3Frame",function(N){N.dispatchType=k.metadataStream.dispatchType,x.trigger("id3Frame",N)}),k.coalesceStream.on("caption",this.trigger.bind(this,"caption")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),Dc(this,k)},this.setBaseMediaDecodeTime=function(k){var N=this.transmuxPipeline_;y.keepOriginalTimestamps||(this.baseMediaDecodeTime=k),A&&(A.timelineStartInfo.dts=void 0,A.timelineStartInfo.pts=void 0,Zr.clearDtsInfo(A),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),E&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,Zr.clearDtsInfo(E),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(k){A&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(k)},this.setRemux=function(k){var N=this.transmuxPipeline_;y.remux=k,N&&N.coalesceStream&&N.coalesceStream.setRemux(k)},this.alignGopsWith=function(k){E&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(k)},this.getLogTrigger_=function(k){var N=this;return function(B){B.stream=k,N.trigger("log",B)}},this.push=function(k){if(S){var N=sp(k);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(k)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},so.prototype=new e;var Ic={Transmuxer:so,VideoSegmentStream:ss,AudioSegmentStream:ba,AUDIO_PROPERTIES:Du,VIDEO_PROPERTIES:Pu,generateSegmentTimingInfo:Ou},op=function(y){return y>>>0},up=function(y){return("00"+y.toString(16)).slice(-2)},oo={toUnsigned:op,toHexString:up},lp=function(y){var x="";return x+=String.fromCharCode(y[0]),x+=String.fromCharCode(y[1]),x+=String.fromCharCode(y[2]),x+=String.fromCharCode(y[3]),x},fn=lp,Oc=oo.toUnsigned,cp=function I(y,x){var S=[],E,A,k,N,B;if(!x.length)return null;for(E=0;E<y.byteLength;)A=Oc(y[E]<<24|y[E+1]<<16|y[E+2]<<8|y[E+3]),k=fn(y.subarray(E+4,E+8)),N=A>1?E+A:y.byteLength,k===x[0]&&(x.length===1?S.push(y.subarray(E+8,N)):(B=I(y.subarray(E+8,N),x.slice(1)),B.length&&(S=S.concat(B)))),E=N;return S},At=cp,dp=oo.toUnsigned,Lc=t.getUint64,Rc=function(y){var x={version:y[0],flags:new Uint8Array(y.subarray(1,4))};return x.version===1?x.baseMediaDecodeTime=Lc(y.subarray(4)):x.baseMediaDecodeTime=dp(y[4]<<24|y[5]<<16|y[6]<<8|y[7]),x},Nc=Rc,fp=function(y){return{isLeading:(y[0]&12)>>>2,dependsOn:y[0]&3,isDependedOn:(y[1]&192)>>>6,hasRedundancy:(y[1]&48)>>>4,paddingValue:(y[1]&14)>>>1,isNonSyncSample:y[1]&1,degradationPriority:y[2]<<8|y[3]}},Fc=fp,hp=function(y){var x={version:y[0],flags:new Uint8Array(y.subarray(1,4)),samples:[]},S=new DataView(y.buffer,y.byteOffset,y.byteLength),E=x.flags[2]&1,A=x.flags[2]&4,k=x.flags[1]&1,N=x.flags[1]&2,B=x.flags[1]&4,q=x.flags[1]&8,G=S.getUint32(4),Y=8,se;for(E&&(x.dataOffset=S.getInt32(Y),Y+=4),A&&G&&(se={flags:Fc(y.subarray(Y,Y+4))},Y+=4,k&&(se.duration=S.getUint32(Y),Y+=4),N&&(se.size=S.getUint32(Y),Y+=4),q&&(x.version===1?se.compositionTimeOffset=S.getInt32(Y):se.compositionTimeOffset=S.getUint32(Y),Y+=4),x.samples.push(se),G--);G--;)se={},k&&(se.duration=S.getUint32(Y),Y+=4),N&&(se.size=S.getUint32(Y),Y+=4),B&&(se.flags=Fc(y.subarray(Y,Y+4)),Y+=4),q&&(x.version===1?se.compositionTimeOffset=S.getInt32(Y):se.compositionTimeOffset=S.getUint32(Y),Y+=4),x.samples.push(se);return x},Mc=hp,Bc=function(y){var x=new DataView(y.buffer,y.byteOffset,y.byteLength),S={version:y[0],flags:new Uint8Array(y.subarray(1,4)),trackId:x.getUint32(4)},E=S.flags[2]&1,A=S.flags[2]&2,k=S.flags[2]&8,N=S.flags[2]&16,B=S.flags[2]&32,q=S.flags[0]&65536,G=S.flags[0]&131072,Y;return Y=8,E&&(Y+=4,S.baseDataOffset=x.getUint32(12),Y+=4),A&&(S.sampleDescriptionIndex=x.getUint32(Y),Y+=4),k&&(S.defaultSampleDuration=x.getUint32(Y),Y+=4),N&&(S.defaultSampleSize=x.getUint32(Y),Y+=4),B&&(S.defaultSampleFlags=x.getUint32(Y)),q&&(S.durationIsEmpty=!0),!E&&G&&(S.baseDataOffsetIsMoof=!0),S},Uc=Bc,jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hn;typeof window<"u"?hn=window:typeof jc<"u"?hn=jc:typeof self<"u"?hn=self:hn={};var Oi=hn,Lu=Di.discardEmulationPreventionBytes,pp=rs.CaptionStream,gp=function(y,x){for(var S=y,E=0;E<x.length;E++){var A=x[E];if(S<A.size)return A;S-=A.size}return null},mp=function(y,x,S){var E=new DataView(y.buffer,y.byteOffset,y.byteLength),A={logs:[],seiNals:[]},k,N,B,q;for(N=0;N+4<y.length;N+=B)if(B=E.getUint32(N),N+=4,!(B<=0))switch(y[N]&31){case 6:var G=y.subarray(N+1,N+1+B),Y=gp(N,x);if(k={nalUnitType:"sei_rbsp",size:B,data:G,escapedRBSP:Lu(G),trackId:S},Y)k.pts=Y.pts,k.dts=Y.dts,q=Y;else if(q)k.pts=q.pts,k.dts=q.dts;else{A.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+N+" for trackId "+S+". See mux.js#223."});break}A.seiNals.push(k);break}return A},vp=function(y,x,S){var E=x,A=S.defaultSampleDuration||0,k=S.defaultSampleSize||0,N=S.trackId,B=[];return y.forEach(function(q){var G=Mc(q),Y=G.samples;Y.forEach(function(se){se.duration===void 0&&(se.duration=A),se.size===void 0&&(se.size=k),se.trackId=N,se.dts=E,se.compositionTimeOffset===void 0&&(se.compositionTimeOffset=0),typeof E=="bigint"?(se.pts=E+Oi.BigInt(se.compositionTimeOffset),E+=Oi.BigInt(se.duration)):(se.pts=E+se.compositionTimeOffset,E+=se.duration)}),B=B.concat(Y)}),B},_p=function(y,x){var S=At(y,["moof","traf"]),E=At(y,["mdat"]),A={},k=[];return E.forEach(function(N,B){var q=S[B];k.push({mdat:N,traf:q})}),k.forEach(function(N){var B=N.mdat,q=N.traf,G=At(q,["tfhd"]),Y=Uc(G[0]),se=Y.trackId,Ee=At(q,["tfdt"]),Oe=Ee.length>0?Nc(Ee[0]).baseMediaDecodeTime:0,_e=At(q,["trun"]),qe,Zt;x===se&&_e.length>0&&(qe=vp(_e,Oe,Y),Zt=mp(B,qe,se),A[se]||(A[se]={seiNals:[],logs:[]}),A[se].seiNals=A[se].seiNals.concat(Zt.seiNals),A[se].logs=A[se].logs.concat(Zt.logs))}),A},Ru=function(y,x,S){var E;if(x===null)return null;E=_p(y,x);var A=E[x]||{};return{seiNals:A.seiNals,logs:A.logs,timescale:S}},yp=function(){var y=!1,x,S,E,A,k,N;this.isInitialized=function(){return y},this.init=function(B){x=new pp,y=!0,N=B?B.isPartial:!1,x.on("data",function(q){q.startTime=q.startPts/A,q.endTime=q.endPts/A,k.captions.push(q),k.captionStreams[q.stream]=!0}),x.on("log",function(q){k.logs.push(q)})},this.isNewInit=function(B,q){return B&&B.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:E!==B[0]||A!==q[E]},this.parse=function(B,q,G){var Y;if(this.isInitialized()){if(!q||!G)return null;if(this.isNewInit(q,G))E=q[0],A=G[E];else if(E===null||!A)return S.push(B),null}else return null;for(;S.length>0;){var se=S.shift();this.parse(se,q,G)}return Y=Ru(B,E,A),Y&&Y.logs&&(k.logs=k.logs.concat(Y.logs)),Y===null||!Y.seiNals?k.logs.length?{logs:k.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Y.seiNals),this.flushStream(),k)},this.pushNals=function(B){if(!this.isInitialized()||!B||B.length===0)return null;B.forEach(function(q){x.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;N?x.partialFlush():x.flush()},this.clearParsedCaptions=function(){k.captions=[],k.captionStreams={},k.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;x.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){S=[],E=null,A=null,k?this.clearParsedCaptions():k={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},bp=yp,uo=oo.toUnsigned,os=oo.toHexString,Tp=t.getUint64,$c,Hc,Nu,Vc,qc,Fu;$c=function(y){var x={},S=At(y,["moov","trak"]);return S.reduce(function(E,A){var k,N,B,q,G;return k=At(A,["tkhd"])[0],!k||(N=k[0],B=N===0?12:20,q=uo(k[B]<<24|k[B+1]<<16|k[B+2]<<8|k[B+3]),G=At(A,["mdia","mdhd"])[0],!G)?null:(N=G[0],B=N===0?12:20,E[q]=uo(G[B]<<24|G[B+1]<<16|G[B+2]<<8|G[B+3]),E)},x)},Hc=function(y,x){var S;S=At(x,["moof","traf"]);var E=S.reduce(function(A,k){var N=At(k,["tfhd"])[0],B=uo(N[4]<<24|N[5]<<16|N[6]<<8|N[7]),q=y[B]||9e4,G=At(k,["tfdt"])[0],Y=new DataView(G.buffer,G.byteOffset,G.byteLength),se;G[0]===1?se=Tp(G.subarray(4,12)):se=Y.getUint32(4);var Ee;return typeof se=="bigint"?Ee=se/Oi.BigInt(q):typeof se=="number"&&!isNaN(se)&&(Ee=se/q),Ee<Number.MAX_SAFE_INTEGER&&(Ee=Number(Ee)),Ee<A&&(A=Ee),A},1/0);return typeof E=="bigint"||isFinite(E)?E:0},Nu=function(y,x){var S=At(x,["moof","traf"]),E=0,A=0,k;if(S&&S.length){var N=At(S[0],["tfhd"])[0],B=At(S[0],["trun"])[0],q=At(S[0],["tfdt"])[0];if(N){var G=Uc(N);k=G.trackId}if(q){var Y=Nc(q);E=Y.baseMediaDecodeTime}if(B){var se=Mc(B);se.samples&&se.samples.length&&(A=se.samples[0].compositionTimeOffset||0)}}var Ee=y[k]||9e4;typeof E=="bigint"&&(A=Oi.BigInt(A),Ee=Oi.BigInt(Ee));var Oe=(E+A)/Ee;return typeof Oe=="bigint"&&Oe<Number.MAX_SAFE_INTEGER&&(Oe=Number(Oe)),Oe},Vc=function(y){var x=At(y,["moov","trak"]),S=[];return x.forEach(function(E){var A=At(E,["mdia","hdlr"]),k=At(E,["tkhd"]);A.forEach(function(N,B){var q=fn(N.subarray(8,12)),G=k[B],Y,se,Ee;q==="vide"&&(Y=new DataView(G.buffer,G.byteOffset,G.byteLength),se=Y.getUint8(0),Ee=se===0?Y.getUint32(12):Y.getUint32(20),S.push(Ee))})}),S},Fu=function(y){var x=y[0],S=x===0?12:20;return uo(y[S]<<24|y[S+1]<<16|y[S+2]<<8|y[S+3])},qc=function(y){var x=At(y,["moov","trak"]),S=[];return x.forEach(function(E){var A={},k=At(E,["tkhd"])[0],N,B;k&&(N=new DataView(k.buffer,k.byteOffset,k.byteLength),B=N.getUint8(0),A.id=B===0?N.getUint32(12):N.getUint32(20));var q=At(E,["mdia","hdlr"])[0];if(q){var G=fn(q.subarray(8,12));G==="vide"?A.type="video":G==="soun"?A.type="audio":A.type=G}var Y=At(E,["mdia","minf","stbl","stsd"])[0];if(Y){var se=Y.subarray(8);A.codec=fn(se.subarray(4,8));var Ee=At(se,[A.codec])[0],Oe,_e;Ee&&(/^[asm]vc[1-9]$/i.test(A.codec)?(Oe=Ee.subarray(78),_e=fn(Oe.subarray(4,8)),_e==="avcC"&&Oe.length>11?(A.codec+=".",A.codec+=os(Oe[9]),A.codec+=os(Oe[10]),A.codec+=os(Oe[11])):A.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(A.codec)?(Oe=Ee.subarray(28),_e=fn(Oe.subarray(4,8)),_e==="esds"&&Oe.length>20&&Oe[19]!==0?(A.codec+="."+os(Oe[19]),A.codec+="."+os(Oe[20]>>>2&63).replace(/^0/,"")):A.codec="mp4a.40.2"):A.codec=A.codec.toLowerCase())}var qe=At(E,["mdia","mdhd"])[0];qe&&(A.timescale=Fu(qe)),S.push(A)}),S};var Wc={findBox:At,parseType:fn,timescale:$c,startTime:Hc,compositionStartTime:Nu,videoTrackIds:Vc,tracks:qc,getTimescaleFromMediaHeader:Fu},Gc=function(y){var x=y[1]&31;return x<<=8,x|=y[2],x},lo=function(y){return!!(y[1]&64)},co=function(y){var x=0;return(y[3]&48)>>>4>1&&(x+=y[4]+1),x},Sp=function(y,x){var S=Gc(y);return S===0?"pat":S===x?"pmt":x?"pes":null},zc=function(y){var x=lo(y),S=4+co(y);return x&&(S+=y[S]+1),(y[S+10]&31)<<8|y[S+11]},xp=function(y){var x={},S=lo(y),E=4+co(y);if(S&&(E+=y[E]+1),!!(y[E+5]&1)){var A,k,N;A=(y[E+1]&15)<<8|y[E+2],k=3+A-4,N=(y[E+10]&15)<<8|y[E+11];for(var B=12+N;B<k;){var q=E+B;x[(y[q+1]&31)<<8|y[q+2]]=y[q],B+=((y[q+3]&15)<<8|y[q+4])+5}return x}},Ep=function(y,x){var S=Gc(y),E=x[S];switch(E){case ir.H264_STREAM_TYPE:return"video";case ir.ADTS_STREAM_TYPE:return"audio";case ir.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},wp=function(y){var x=lo(y);if(!x)return null;var S=4+co(y);if(S>=y.byteLength)return null;var E=null,A;return A=y[S+7],A&192&&(E={},E.pts=(y[S+9]&14)<<27|(y[S+10]&255)<<20|(y[S+11]&254)<<12|(y[S+12]&255)<<5|(y[S+13]&254)>>>3,E.pts*=4,E.pts+=(y[S+13]&6)>>>1,E.dts=E.pts,A&64&&(E.dts=(y[S+14]&14)<<27|(y[S+15]&255)<<20|(y[S+16]&254)<<12|(y[S+17]&255)<<5|(y[S+18]&254)>>>3,E.dts*=4,E.dts+=(y[S+18]&6)>>>1)),E},Mu=function(y){switch(y){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Cp=function(y){for(var x=4+co(y),S=y.subarray(x),E=0,A=0,k=!1,N;A<S.byteLength-3;A++)if(S[A+2]===1){E=A+5;break}for(;E<S.byteLength;)switch(S[E]){case 0:if(S[E-1]!==0){E+=2;break}else if(S[E-2]!==0){E++;break}A+3!==E-2&&(N=Mu(S[A+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0));do E++;while(S[E]!==1&&E<S.length);A=E-2,E+=3;break;case 1:if(S[E-1]!==0||S[E-2]!==0){E+=3;break}N=Mu(S[A+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0),A=E-2,E+=3;break;default:E+=3;break}return S=S.subarray(A),E-=A,A=0,S&&S.byteLength>3&&(N=Mu(S[A+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0)),k},Ap={parseType:Sp,parsePat:zc,parsePmt:xp,parsePayloadUnitStartIndicator:lo,parsePesType:Ep,parsePesTime:wp,videoPacketContainsKeyFrame:Cp},Ta=eo.handleRollover,yt={};yt.ts=Ap,yt.aac=io;var Li=Ge.ONE_SECOND_IN_TS,Sr=188,En=71,kp=function(y,x){for(var S=0,E=Sr,A,k;E<y.byteLength;){if(y[S]===En&&y[E]===En){switch(A=y.subarray(S,E),k=yt.ts.parseType(A,x.pid),k){case"pat":x.pid=yt.ts.parsePat(A);break;case"pmt":var N=yt.ts.parsePmt(A);x.table=x.table||{},Object.keys(N).forEach(function(B){x.table[B]=N[B]});break}S+=Sr,E+=Sr;continue}S++,E++}},Kc=function(y,x,S){for(var E=0,A=Sr,k,N,B,q,G,Y=!1;A<=y.byteLength;){if(y[E]===En&&(y[A]===En||A===y.byteLength)){switch(k=y.subarray(E,A),N=yt.ts.parseType(k,x.pid),N){case"pes":B=yt.ts.parsePesType(k,x.table),q=yt.ts.parsePayloadUnitStartIndicator(k),B==="audio"&&q&&(G=yt.ts.parsePesTime(k),G&&(G.type="audio",S.audio.push(G),Y=!0));break}if(Y)break;E+=Sr,A+=Sr;continue}E++,A++}for(A=y.byteLength,E=A-Sr,Y=!1;E>=0;){if(y[E]===En&&(y[A]===En||A===y.byteLength)){switch(k=y.subarray(E,A),N=yt.ts.parseType(k,x.pid),N){case"pes":B=yt.ts.parsePesType(k,x.table),q=yt.ts.parsePayloadUnitStartIndicator(k),B==="audio"&&q&&(G=yt.ts.parsePesTime(k),G&&(G.type="audio",S.audio.push(G),Y=!0));break}if(Y)break;E-=Sr,A-=Sr;continue}E--,A--}},Xc=function(y,x,S){for(var E=0,A=Sr,k,N,B,q,G,Y,se,Ee,Oe=!1,_e={data:[],size:0};A<y.byteLength;){if(y[E]===En&&y[A]===En){switch(k=y.subarray(E,A),N=yt.ts.parseType(k,x.pid),N){case"pes":if(B=yt.ts.parsePesType(k,x.table),q=yt.ts.parsePayloadUnitStartIndicator(k),B==="video"&&(q&&!Oe&&(G=yt.ts.parsePesTime(k),G&&(G.type="video",S.video.push(G),Oe=!0)),!S.firstKeyFrame)){if(q&&_e.size!==0){for(Y=new Uint8Array(_e.size),se=0;_e.data.length;)Ee=_e.data.shift(),Y.set(Ee,se),se+=Ee.byteLength;if(yt.ts.videoPacketContainsKeyFrame(Y)){var qe=yt.ts.parsePesTime(Y);qe?(S.firstKeyFrame=qe,S.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}_e.size=0}_e.data.push(k),_e.size+=k.byteLength}break}if(Oe&&S.firstKeyFrame)break;E+=Sr,A+=Sr;continue}E++,A++}for(A=y.byteLength,E=A-Sr,Oe=!1;E>=0;){if(y[E]===En&&y[A]===En){switch(k=y.subarray(E,A),N=yt.ts.parseType(k,x.pid),N){case"pes":B=yt.ts.parsePesType(k,x.table),q=yt.ts.parsePayloadUnitStartIndicator(k),B==="video"&&q&&(G=yt.ts.parsePesTime(k),G&&(G.type="video",S.video.push(G),Oe=!0));break}if(Oe)break;E-=Sr,A-=Sr;continue}E--,A--}},Dp=function(y,x){if(y.audio&&y.audio.length){var S=x;(typeof S>"u"||isNaN(S))&&(S=y.audio[0].dts),y.audio.forEach(function(k){k.dts=Ta(k.dts,S),k.pts=Ta(k.pts,S),k.dtsTime=k.dts/Li,k.ptsTime=k.pts/Li})}if(y.video&&y.video.length){var E=x;if((typeof E>"u"||isNaN(E))&&(E=y.video[0].dts),y.video.forEach(function(k){k.dts=Ta(k.dts,E),k.pts=Ta(k.pts,E),k.dtsTime=k.dts/Li,k.ptsTime=k.pts/Li}),y.firstKeyFrame){var A=y.firstKeyFrame;A.dts=Ta(A.dts,E),A.pts=Ta(A.pts,E),A.dtsTime=A.dts/Li,A.ptsTime=A.pts/Li}}},Pp=function(y){for(var x=!1,S=0,E=null,A=null,k=0,N=0,B;y.length-N>=3;){var q=yt.aac.parseType(y,N);switch(q){case"timed-metadata":if(y.length-N<10){x=!0;break}if(k=yt.aac.parseId3TagSize(y,N),k>y.length){x=!0;break}A===null&&(B=y.subarray(N,N+k),A=yt.aac.parseAacTimestamp(B)),N+=k;break;case"audio":if(y.length-N<7){x=!0;break}if(k=yt.aac.parseAdtsSize(y,N),k>y.length){x=!0;break}E===null&&(B=y.subarray(N,N+k),E=yt.aac.parseSampleRate(B)),S++,N+=k;break;default:N++;break}if(x)return null}if(E===null||A===null)return null;var G=Li/E,Y={audio:[{type:"audio",dts:A,pts:A},{type:"audio",dts:A+S*1024*G,pts:A+S*1024*G}]};return Y},Ip=function(y){var x={pid:null,table:null},S={};kp(y,x);for(var E in x.table)if(x.table.hasOwnProperty(E)){var A=x.table[E];switch(A){case ir.H264_STREAM_TYPE:S.video=[],Xc(y,x,S),S.video.length===0&&delete S.video;break;case ir.ADTS_STREAM_TYPE:S.audio=[],Kc(y,x,S),S.audio.length===0&&delete S.audio;break}}return S},Op=function(y,x){var S=yt.aac.isLikelyAacData(y),E;return S?E=Pp(y):E=Ip(y),!E||!E.audio&&!E.video?null:(Dp(E,x),E)},Lp={inspect:Op,parseAudioPes_:Kc},Rp=function(y,x){x.on("data",function(S){var E=S.initSegment;S.initSegment={data:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength};var A=S.data;S.data=A.buffer,y.postMessage({action:"data",segment:S,byteOffset:A.byteOffset,byteLength:A.byteLength},[S.data])}),x.on("done",function(S){y.postMessage({action:"done"})}),x.on("gopInfo",function(S){y.postMessage({action:"gopInfo",gopInfo:S})}),x.on("videoSegmentTimingInfo",function(S){var E={start:{decode:Ge.videoTsToSeconds(S.start.dts),presentation:Ge.videoTsToSeconds(S.start.pts)},end:{decode:Ge.videoTsToSeconds(S.end.dts),presentation:Ge.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ge.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(E.prependedContentDuration=Ge.videoTsToSeconds(S.prependedContentDuration)),y.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:E})}),x.on("audioSegmentTimingInfo",function(S){var E={start:{decode:Ge.videoTsToSeconds(S.start.dts),presentation:Ge.videoTsToSeconds(S.start.pts)},end:{decode:Ge.videoTsToSeconds(S.end.dts),presentation:Ge.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ge.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(E.prependedContentDuration=Ge.videoTsToSeconds(S.prependedContentDuration)),y.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:E})}),x.on("id3Frame",function(S){y.postMessage({action:"id3Frame",id3Frame:S})}),x.on("caption",function(S){y.postMessage({action:"caption",caption:S})}),x.on("trackinfo",function(S){y.postMessage({action:"trackinfo",trackInfo:S})}),x.on("audioTimingInfo",function(S){y.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ge.videoTsToSeconds(S.start),end:Ge.videoTsToSeconds(S.end)}})}),x.on("videoTimingInfo",function(S){y.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ge.videoTsToSeconds(S.start),end:Ge.videoTsToSeconds(S.end)}})}),x.on("log",function(S){y.postMessage({action:"log",log:S})})},Jc=function(){function I(x,S){this.options=S||{},this.self=x,this.init()}var y=I.prototype;return y.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ic.Transmuxer(this.options),Rp(this.self,this.transmuxer)},y.pushMp4Captions=function(S){this.captionParser||(this.captionParser=new bp,this.captionParser.init());var E=new Uint8Array(S.data,S.byteOffset,S.byteLength),A=this.captionParser.parse(E,S.trackIds,S.timescales);this.self.postMessage({action:"mp4Captions",captions:A&&A.captions||[],logs:A&&A.logs||[],data:E.buffer},[E.buffer])},y.probeMp4StartTime=function(S){var E=S.timescales,A=S.data,k=Wc.startTime(E,A);this.self.postMessage({action:"probeMp4StartTime",startTime:k,data:A},[A.buffer])},y.probeMp4Tracks=function(S){var E=S.data,A=Wc.tracks(E);this.self.postMessage({action:"probeMp4Tracks",tracks:A,data:E},[E.buffer])},y.probeTs=function(S){var E=S.data,A=S.baseStartTime,k=typeof A=="number"&&!isNaN(A)?A*Ge.ONE_SECOND_IN_TS:void 0,N=Lp.inspect(E,k),B=null;N&&(B={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},B.hasVideo&&(B.videoStart=N.video[0].ptsTime),B.hasAudio&&(B.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:B,data:E},[E.buffer])},y.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},y.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},y.push=function(S){var E=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.transmuxer.push(E)},y.reset=function(){this.transmuxer.reset()},y.setTimestampOffset=function(S){var E=S.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ge.secondsToVideoTs(E)))},y.setAudioAppendStart=function(S){this.transmuxer.setAudioAppendStart(Math.ceil(Ge.secondsToVideoTs(S.appendStart)))},y.setRemux=function(S){this.transmuxer.setRemux(S.remux)},y.flush=function(S){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},y.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},y.alignGopsWith=function(S){this.transmuxer.alignGopsWith(S.gopsToAlignWith.slice())},I}();self.onmessage=function(I){if(I.data.action==="init"&&I.data.options){this.messageHandlers=new Jc(self,I.data.options);return}this.messageHandlers||(this.messageHandlers=new Jc(self)),I.data&&I.data.action&&I.data.action!=="init"&&this.messageHandlers[I.data.action]&&this.messageHandlers[I.data.action](I.data)}})),j6=vw(U6),$6=function(e,n,i){var t=e.data.segment,a=t.type,s=t.initSegment,l=t.captions,c=t.captionStreams,f=t.metadata,h=t.videoFrameDtsTime,g=t.videoFramePtsTime;n.buffer.push({captions:l,captionStreams:c,metadata:f});var v=e.data.segment.boxes||{data:e.data.segment.data},T={type:a,data:new Uint8Array(v.data,v.data.byteOffset,v.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof h<"u"&&(T.videoFrameDtsTime=h),typeof g<"u"&&(T.videoFramePtsTime=g),i(T)},H6=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},V6=function(e,n){n.gopInfo=e.data.gopInfo},bw=function(e){var n=e.transmuxer,i=e.bytes,t=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,l=e.onData,c=e.onTrackInfo,f=e.onAudioTimingInfo,h=e.onVideoTimingInfo,g=e.onVideoSegmentTimingInfo,v=e.onAudioSegmentTimingInfo,T=e.onId3,w=e.onCaptions,D=e.onDone,P=e.onEndedTimeline,R=e.onTransmuxerLog,M=e.isEndOfTimeline,U={buffer:[]},j=M,J=function(X){n.currentTransmux===e&&(X.data.action==="data"&&$6(X,U,l),X.data.action==="trackinfo"&&c(X.data.trackInfo),X.data.action==="gopInfo"&&V6(X,U),X.data.action==="audioTimingInfo"&&f(X.data.audioTimingInfo),X.data.action==="videoTimingInfo"&&h(X.data.videoTimingInfo),X.data.action==="videoSegmentTimingInfo"&&g(X.data.videoSegmentTimingInfo),X.data.action==="audioSegmentTimingInfo"&&v(X.data.audioSegmentTimingInfo),X.data.action==="id3Frame"&&T([X.data.id3Frame],X.data.id3Frame.dispatchType),X.data.action==="caption"&&w(X.data.caption),X.data.action==="endedtimeline"&&(j=!1,P()),X.data.action==="log"&&R(X.data.log),X.data.type==="transmuxed"&&(j||(n.onmessage=null,H6({transmuxedData:U,callback:D}),Tw(n))))};if(n.onmessage=J,t&&n.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(a)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&n.postMessage({action:"setRemux",remux:s}),i.byteLength){var te=i instanceof ArrayBuffer?i:i.buffer,$=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:te,byteOffset:$,byteLength:i.byteLength},[te])}M&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},Tw=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():bw(e.currentTransmux))},QT=function(e,n){e.postMessage({action:n}),Tw(e)},Sw=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,QT(n,e);return}n.transmuxQueue.push(QT.bind(null,n,e))},q6=function(e){Sw("reset",e)},W6=function(e){Sw("endTimeline",e)},xw=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,bw(e);return}e.transmuxer.transmuxQueue.push(e)},G6=function(e){var n=new j6;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},Qg={reset:q6,endTimeline:W6,transmux:xw,createTransmuxer:G6},Hf=function(e){var n=e.transmuxer,i=e.endAction||e.action,t=e.callback,a=Nn({},e,{endAction:null,transmuxer:null,callback:null}),s=function f(h){h.data.action===i&&(n.removeEventListener("message",f),h.data.data&&(h.data.data=new Uint8Array(h.data.data,e.byteOffset||0,e.byteLength||h.data.data.byteLength),e.data&&(e.data=h.data.data)),t(h.data))};if(n.addEventListener("message",s),e.data){var l=e.data instanceof ArrayBuffer;a.byteOffset=l?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var c=[l?e.data:e.data.buffer];n.postMessage(a,c)}else n.postMessage(a)},_i={FAILURE:2,TIMEOUT:-101,ABORTED:-102},uv=function(e){e.forEach(function(n){n.abort()})},z6=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},K6=function(e){var n=e.target,i=Date.now()-n.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},Y0=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:_i.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:_i.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:_i.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:_i.FAILURE,xhr:n}:null},ZT=function(e,n,i){return function(t,a){var s=a.response,l=Y0(t,a);if(l)return i(l,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:_i.FAILURE,xhr:a},e);for(var c=new DataView(s),f=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]),h=0;h<n.length;h++)n[h].bytes=f;return i(null,e)}},Ew=function(e,n){var i=f0(e.map.bytes);if(i!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+t,code:_i.FAILURE})}Hf({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var l=s.tracks,c=s.data;return e.map.bytes=c,l.forEach(function(f){e.map.tracks=e.map.tracks||{},!e.map.tracks[f.type]&&(e.map.tracks[f.type]=f,typeof f.id=="number"&&f.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[f.id]=f.timescale))}),n(null)}})},X6=function(e){var n=e.segment,i=e.finishProcessingFn;return function(t,a){var s=Y0(t,a);if(s)return i(s,n);var l=new Uint8Array(a.response);if(n.map.key)return n.map.encryptedBytes=l,i(null,n);n.map.bytes=l,Ew(n,function(c){if(c)return c.xhr=a,c.status=a.status,i(c,n);i(null,n)})}},J6=function(e){var n=e.segment,i=e.finishProcessingFn,t=e.responseType;return function(a,s){var l=Y0(a,s);if(l)return i(l,n);var c=t==="arraybuffer"||!s.responseText?s.response:M6(s.responseText.substring(n.lastReachedChar||0));return n.stats=z6(s),n.key?n.encryptedBytes=new Uint8Array(c):n.bytes=new Uint8Array(c),i(null,n)}},Y6=function(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,w=e.onTransmuxerLog,D=n.map&&n.map.tracks||{},P=Boolean(D.audio&&D.video),R=a.bind(null,n,"audio","start"),M=a.bind(null,n,"audio","end"),U=a.bind(null,n,"video","start"),j=a.bind(null,n,"video","end"),J=function(){return xw({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:P,onData:function(H){H.type=H.type==="combined"?"video":H.type,v(n,H)},onTrackInfo:function(H){t&&(P&&(H.isMuxed=!0),t(n,H))},onAudioTimingInfo:function(H){R&&typeof H.start<"u"&&(R(H.start),R=null),M&&typeof H.end<"u"&&M(H.end)},onVideoTimingInfo:function(H){U&&typeof H.start<"u"&&(U(H.start),U=null),j&&typeof H.end<"u"&&j(H.end)},onVideoSegmentTimingInfo:function(H){s(H)},onAudioSegmentTimingInfo:function(H){l(H)},onId3:function(H,X){c(n,H,X)},onCaptions:function(H){f(n,[H])},isEndOfTimeline:h,onEndedTimeline:function(){g()},onTransmuxerLog:w,onDone:function(H){!T||(H.type=H.type==="combined"?"video":H.type,T(null,n,H))}})};Hf({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function($){n.bytes=i=$.data;var H=$.result;H&&(t(n,{hasAudio:H.hasAudio,hasVideo:H.hasVideo,isMuxed:P}),t=null,H.hasAudio&&!P&&R(H.audioStart),H.hasVideo&&U(H.videoStart),R=null,U=null),J()}})},ww=function(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,w=e.onTransmuxerLog,D=new Uint8Array(i);if(mF(D)){n.isFmp4=!0;var P=n.map.tracks,R={isFmp4:!0,hasVideo:!!P.video,hasAudio:!!P.audio};P.audio&&P.audio.codec&&P.audio.codec!=="enca"&&(R.audioCodec=P.audio.codec),P.video&&P.video.codec&&P.video.codec!=="encv"&&(R.videoCodec=P.video.codec),P.video&&P.audio&&(R.isMuxed=!0),t(n,R);var M=function(j){v(n,{data:D,type:R.hasAudio&&!R.isMuxed?"audio":"video"}),j&&j.length&&f(n,j),T(null,n,{})};Hf({action:"probeMp4StartTime",timescales:n.map.timescales,data:D,transmuxer:n.transmuxer,callback:function(j){var J=j.data,te=j.startTime;if(i=J.buffer,n.bytes=D=J,R.hasAudio&&!R.isMuxed&&a(n,"audio","start",te),R.hasVideo&&a(n,"video","start",te),!P.video||!J.byteLength||!n.transmuxer){M();return}Hf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:D,timescales:n.map.timescales,trackIds:[P.video.id],callback:function(H){i=H.data.buffer,n.bytes=D=H.data,H.logs.forEach(function(X){w(Q.mergeOptions(X,{stream:"mp4CaptionParser"}))}),M(H.captions)}})}});return}if(!n.transmuxer){T(null,n,{});return}if(typeof n.container>"u"&&(n.container=f0(D)),n.container!=="ts"&&n.container!=="aac"){t(n,{hasAudio:!1,hasVideo:!1}),T(null,n,{});return}Y6({segment:n,bytes:i,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:w})},Cw=function(e,n){var i=e.id,t=e.key,a=e.encryptedBytes,s=e.decryptionWorker,l=function f(h){if(h.data.source===i){s.removeEventListener("message",f);var g=h.data.decrypted;n(new Uint8Array(g.bytes,g.byteOffset,g.byteLength))}};s.addEventListener("message",l);var c;t.bytes.slice?c=t.bytes.slice():c=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(dw({source:i,encrypted:a,key:c,iv:t.iv}),[a.buffer,c.buffer])},Q6=function(e){var n=e.decryptionWorker,i=e.segment,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,w=e.onTransmuxerLog;Cw({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(D){i.bytes=D,ww({segment:i,bytes:i.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:w})})},Z6=function(e){var n=e.activeXhrs,i=e.decryptionWorker,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,w=e.onTransmuxerLog,D=0,P=!1;return function(R,M){if(!P){if(R)return P=!0,uv(n),T(R,M);if(D+=1,D===n.length){var U=function(){if(M.encryptedBytes)return Q6({decryptionWorker:i,segment:M,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:w});ww({segment:M,bytes:M.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:w})};if(M.endOfAllRequests=Date.now(),M.map&&M.map.encryptedBytes&&!M.map.bytes)return Cw({decryptionWorker:i,id:M.requestId+"-init",encryptedBytes:M.map.encryptedBytes,key:M.map.key},function(j){M.map.bytes=j,Ew(M,function(J){if(J)return uv(n),T(J,M);U()})});U()}}}},eB=function(e){var n=e.loadendState,i=e.abortFn;return function(t){var a=t.target;a.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},tB=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(t){var a=t.target;if(!a.aborted)return n.stats=Q.mergeOptions(n.stats,K6(t)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(t,n)}},rB=function(e){var n=e.xhr,i=e.xhrOptions,t=e.decryptionWorker,a=e.segment,s=e.abortFn,l=e.progressFn,c=e.trackInfoFn,f=e.timingInfoFn,h=e.videoSegmentTimingInfoFn,g=e.audioSegmentTimingInfoFn,v=e.id3Fn,T=e.captionsFn,w=e.isEndOfTimeline,D=e.endedTimelineFn,P=e.dataFn,R=e.doneFn,M=e.onTransmuxerLog,U=[],j=Z6({activeXhrs:U,decryptionWorker:t,trackInfoFn:c,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:g,id3Fn:v,captionsFn:T,isEndOfTimeline:w,endedTimelineFn:D,dataFn:P,doneFn:R,onTransmuxerLog:M});if(a.key&&!a.key.bytes){var J=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&J.push(a.map.key);var te=Q.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),$=ZT(a,J,j),H=n(te,$);U.push(H)}if(a.map&&!a.map.bytes){var X=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(X){var K=Q.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),ee=ZT(a,[a.map.key],j),Z=n(K,ee);U.push(Z)}var le=Q.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:sv(a.map)}),Be=X6({segment:a,finishProcessingFn:j}),je=n(le,Be);U.push(je)}var De=Q.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:sv(a)}),me=J6({segment:a,finishProcessingFn:j,responseType:De.responseType}),we=n(De,me);we.addEventListener("progress",tB({segment:a,progressFn:l,trackInfoFn:c,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:g,id3Fn:v,captionsFn:T,isEndOfTimeline:w,endedTimelineFn:D,dataFn:P})),U.push(we);var _t={};return U.forEach(function(dt){dt.addEventListener("loadend",eB({loadendState:_t,abortFn:s}))}),function(){return uv(U)}},nB=ei("CodecUtils"),iB=function(e){var n=e.attributes||{};if(n.CODECS)return di(n.CODECS)},Aw=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},aB=function(e,n){if(!Aw(e,n))return!0;var i=n.attributes||{},t=e.mediaGroups.AUDIO[i.AUDIO];for(var a in t)if(!t[a].uri&&!t[a].playlists)return!0;return!1},Vf=function(e){var n={};return e.forEach(function(i){var t=i.mediaType,a=i.type,s=i.details;n[t]=n[t]||[],n[t].push(z2(""+a+s))}),Object.keys(n).forEach(function(i){if(n[i].length>1){nB("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},eS=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},Ol=function(e,n){var i=n.attributes||{},t=Vf(iB(n)||[]);if(Aw(e,n)&&!t.audio&&!aB(e,n)){var a=Vf(T3(e,i.AUDIO)||[]);a.audio&&(t.audio=a.audio)}return t},jd=ei("PlaylistSelector"),tS=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},qf=function(e,n){if(!e)return"";var i=V.getComputedStyle(e);return i?i[n]:""},$o=function(e,n){var i=e.slice();e.sort(function(t,a){var s=n(t,a);return s===0?i.indexOf(t)-i.indexOf(a):s})},Q0=function(e,n){var i,t;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||V.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(t=n.attributes.BANDWIDTH),t=t||V.Number.MAX_VALUE,i-t},sB=function(e,n){var i,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||V.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(t=n.attributes.RESOLUTION.width),t=t||V.Number.MAX_VALUE,i===t&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-t},kw=function(e,n,i,t,a,s){if(!!e){var l={bandwidth:n,width:i,height:t,limitRenditionByPlayerDimensions:a},c=e.playlists;un.isAudioOnly(e)&&(c=s.getAudioTrackPlaylists_(),l.audioOnly=!0);var f=c.map(function(K){var ee,Z=K.attributes&&K.attributes.RESOLUTION&&K.attributes.RESOLUTION.width,le=K.attributes&&K.attributes.RESOLUTION&&K.attributes.RESOLUTION.height;return ee=K.attributes&&K.attributes.BANDWIDTH,ee=ee||V.Number.MAX_VALUE,{bandwidth:ee,width:Z,height:le,playlist:K}});$o(f,function(K,ee){return K.bandwidth-ee.bandwidth}),f=f.filter(function(K){return!un.isIncompatible(K.playlist)});var h=f.filter(function(K){return un.isEnabled(K.playlist)});h.length||(h=f.filter(function(K){return!un.isDisabled(K.playlist)}));var g=h.filter(function(K){return K.bandwidth*_r.BANDWIDTH_VARIANCE<n}),v=g[g.length-1],T=g.filter(function(K){return K.bandwidth===v.bandwidth})[0];if(a===!1){var w=T||h[0]||f[0];if(w&&w.playlist){var D="sortedPlaylistReps";return T&&(D="bandwidthBestRep"),h[0]&&(D="enabledPlaylistReps"),jd("choosing "+tS(w)+" using "+D+" with options",l),w.playlist}return jd("could not choose a playlist with options",l),null}var P=g.filter(function(K){return K.width&&K.height});$o(P,function(K,ee){return K.width-ee.width});var R=P.filter(function(K){return K.width===i&&K.height===t});v=R[R.length-1];var M=R.filter(function(K){return K.bandwidth===v.bandwidth})[0],U,j,J;M||(U=P.filter(function(K){return K.width>i||K.height>t}),j=U.filter(function(K){return K.width===U[0].width&&K.height===U[0].height}),v=j[j.length-1],J=j.filter(function(K){return K.bandwidth===v.bandwidth})[0]);var te;if(s.experimentalLeastPixelDiffSelector){var $=P.map(function(K){return K.pixelDiff=Math.abs(K.width-i)+Math.abs(K.height-t),K});$o($,function(K,ee){return K.pixelDiff===ee.pixelDiff?ee.bandwidth-K.bandwidth:K.pixelDiff-ee.pixelDiff}),te=$[0]}var H=te||J||M||T||h[0]||f[0];if(H&&H.playlist){var X="sortedPlaylistReps";return te?X="leastPixelDiffRep":J?X="resolutionPlusOneRep":M?X="resolutionBestRep":T?X="bandwidthBestRep":h[0]&&(X="enabledPlaylistReps"),jd("choosing "+tS(H)+" using "+X+" with options",l),H.playlist}return jd("could not choose a playlist with options",l),null}},rS=function(){var e=this.useDevicePixelRatio&&V.devicePixelRatio||1;return kw(this.playlists.master,this.systemBandwidth,parseInt(qf(this.tech_.el(),"width"),10)*e,parseInt(qf(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},oB=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&V.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),kw(this.playlists.master,n,parseInt(qf(this.tech_.el(),"width"),10)*t,parseInt(qf(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},uB=function(e){var n=e.master,i=e.currentTime,t=e.bandwidth,a=e.duration,s=e.segmentDuration,l=e.timeUntilRebuffer,c=e.currentTimeline,f=e.syncController,h=n.playlists.filter(function(D){return!un.isIncompatible(D)}),g=h.filter(un.isEnabled);g.length||(g=h.filter(function(D){return!un.isDisabled(D)}));var v=g.filter(un.hasAttribute.bind(null,"BANDWIDTH")),T=v.map(function(D){var P=f.getSyncPoint(D,a,c,i),R=P?1:2,M=un.estimateSegmentRequestTime(s,t,D),U=M*R-l;return{playlist:D,rebufferingImpact:U}}),w=T.filter(function(D){return D.rebufferingImpact<=0});return $o(w,function(D,P){return Q0(P.playlist,D.playlist)}),w.length?w[0]:($o(T,function(D,P){return D.rebufferingImpact-P.rebufferingImpact}),T[0]||null)},lB=function(){var e=this,n=this.playlists.master.playlists.filter(un.isEnabled);$o(n,function(t,a){return Q0(t,a)});var i=n.filter(function(t){return!!Ol(e.playlists.master,t).video});return i[0]||null},cB=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(t){i.set(t,n),n+=t.byteLength})),i},dB=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var t=i;/^cc708_/.test(i)&&(t="SERVICE"+i.split("_")[1]);var a=n.textTracks().getTrackById(t);if(a)e[i]=a;else{var s=n.options_.vhs&&n.options_.vhs.captionServices||{},l=i,c=i,f=!1,h=s[t];h&&(l=h.label,c=h.language,f=h.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:t,default:f,label:l,language:c},!1).track}}},fB=function(e){var n=e.inbandTextTracks,i=e.captionArray,t=e.timestampOffset;if(!!i){var a=V.WebKitDataCue||V.VTTCue;i.forEach(function(s){var l=s.stream;n[l].addCue(new a(s.startTime+t,s.endTime+t,s.text))})}},hB=function(e){Object.defineProperties(e.frame,{id:{get:function(){return Q.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Q.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Q.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},pB=function(e){var n=e.inbandTextTracks,i=e.metadataArray,t=e.timestampOffset,a=e.videoDuration;if(!!i){var s=V.WebKitDataCue||V.VTTCue,l=n.metadataTrack_;if(!!l&&(i.forEach(function(T){var w=T.cueTime+t;typeof w!="number"||V.isNaN(w)||w<0||!(w<1/0)||T.frames.forEach(function(D){var P=new s(w,w,D.value||D.url||D.data||"");P.frame=D,P.value=D,hB(P),l.addCue(P)})}),!(!l.cues||!l.cues.length))){for(var c=l.cues,f=[],h=0;h<c.length;h++)c[h]&&f.push(c[h]);var g=f.reduce(function(T,w){var D=T[w.startTime]||[];return D.push(w),T[w.startTime]=D,T},{}),v=Object.keys(g).sort(function(T,w){return Number(T)-Number(w)});v.forEach(function(T,w){var D=g[T],P=Number(v[w+1])||a;D.forEach(function(R){R.endTime=P})})}}},gB=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},Tl=function(e,n,i){var t,a;if(!!i&&!!i.cues)for(t=i.cues.length;t--;)a=i.cues[t],a.startTime>=e&&a.endTime<=n&&i.removeCue(a)},mB=function(e){var n=e.cues;if(!!n)for(var i=0;i<n.length;i++){for(var t=[],a=0,s=0;s<n.length;s++)n[i].startTime===n[s].startTime&&n[i].endTime===n[s].endTime&&n[i].text===n[s].text&&(a++,a>1&&t.push(n[s]));t.length&&t.forEach(function(l){return e.removeCue(l)})}},vB=function(e,n,i){if(typeof n>"u"||n===null||!e.length)return[];var t=Math.ceil((n-i+3)*Df.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>t);a++);return e.slice(a)},_B=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var t=n[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=t);a++);return e.slice(0,a).concat(n)},yB=function(e,n,i,t){for(var a=Math.ceil((n-t)*Df.ONE_SECOND_IN_TS),s=Math.ceil((i-t)*Df.ONE_SECOND_IN_TS),l=e.slice(),c=e.length;c--&&!(e[c].pts<=s););if(c===-1)return l;for(var f=c+1;f--&&!(e[f].pts<=a););return f=Math.max(f,0),l.splice(f,c-f+1),l},bB=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),t=Object.keys(n).sort();if(i.length!==t.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==t[a]||e[s]!==n[s])return!1}return!0},Dw=22,TB=function(e,n,i){n=n||[];for(var t=[],a=0,s=0;s<n.length;s++){var l=n[s];if(e===l.timeline&&(t.push(s),a+=l.duration,a>i))return s}return t.length===0?0:t[t.length-1]},dl=1,SB=500,nS=function(e){return typeof e=="number"&&isFinite(e)},$d=1/60,xB=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},EB=function(e,n,i){var t=n-_r.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var a=n-i;return Math.min(a,t)},Ao=function(e){var n=e.startOfSegment,i=e.duration,t=e.segment,a=e.part,s=e.playlist,l=s.mediaSequence,c=s.id,f=s.segments,h=f===void 0?[]:f,g=e.mediaIndex,v=e.partIndex,T=e.timeline,w=h.length-1,D="mediaIndex/partIndex increment";e.getMediaInfoForTime?D="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(D="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(D+=" with independent "+e.independent);var P=typeof v=="number",R=e.segment.uri?"segment":"pre-segment",M=P?Y1({preloadSegment:t})-1:0;return R+" ["+(l+g)+"/"+(l+w)+"]"+(P?" part ["+v+"/"+M+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(P?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+T+"]")+(" selected by ["+D+"]")+(" playlist ["+c+"]")},iS=function(e){return e+"TimingInfo"},wB=function(e){var n=e.segmentTimeline,i=e.currentTimeline,t=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&n===i?null:n<i?t:a.length?a.end(a.length-1):t},aS=function(e){var n=e.timelineChangeController,i=e.currentTimeline,t=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===t)return!1;if(a==="audio"){var l=n.lastTimelineChange({type:"main"});return!l||l.to!==t}if(a==="main"&&s){var c=n.pendingTimelineChange({type:"audio"});return!(c&&c.to===t)}return!1},CB=function(e){var n=0;return["video","audio"].forEach(function(i){var t=e[i+"TimingInfo"];if(!!t){var a=t.start,s=t.end,l;typeof a=="bigint"||typeof s=="bigint"?l=V.BigInt(s)-V.BigInt(a):typeof a=="number"&&typeof s=="number"&&(l=s-a),typeof l<"u"&&l>n&&(n=l)}}),typeof n=="bigint"&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n},sS=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+Ya:!1},AB=function(e,n){if(n!=="hls")return null;var i=CB({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var t=e.playlist.targetDuration,a=sS({segmentDuration:i,maxDuration:t*2}),s=sS({segmentDuration:i,maxDuration:t}),l="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:l}:null},lv=function(r){Ae(e,r);function e(i,t){var a;if(a=r.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=Q.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=ei("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(tt(a),"state",{get:function(){return this.state_},set:function(l){l!==this.state_&&(this.logger_(this.state_+" -> "+l),this.state_=l,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var n=e.prototype;return n.createTransmuxer_=function(){return Qg.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&V.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,V.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},n.error=function(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Qg.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return Q.createTimeRanges();if(this.loaderType_==="main"){var a=t.hasAudio,s=t.hasVideo,l=t.isMuxed;if(s&&a&&!this.audioDisabled_&&!l)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=$f(t),l=this.initSegments_[s];return a&&!l&&t.bytes&&(this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),l||t},n.segmentKey=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=fw(t),l=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!l&&t.bytes&&(this.keyCache_[s]=l={resolvedUri:t.resolvedUri,bytes:t.bytes});var c={resolvedUri:(l||t).resolvedUri};return l&&(c.bytes=l.bytes),c},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(t,a){if(a===void 0&&(a={}),!!t){var s=this.playlist_,l=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=a,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var c=null;if(s&&(s.id?c=s.id:s.uri&&(c=s.uri)),this.logger_("playlist update ["+c+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var f=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+f+"]"),this.mediaIndex!==null)if(this.mediaIndex-=f,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var h=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!h.parts||!h.parts.length||!h.parts[this.partIndex])){var g=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=g}}l&&(l.mediaIndex-=f,l.mediaIndex<0?(l.mediaIndex=null,l.partIndex=null):(l.mediaIndex>=0&&(l.segment=t.segments[l.mediaIndex]),l.partIndex>=0&&l.segment.parts&&(l.part=l.segment.parts[l.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},n.pause=function(){this.checkBufferTimeout_&&(V.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&Qg.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(t,a,s,l){if(s===void 0&&(s=function(){}),l===void 0&&(l=!1),a===1/0&&(a=this.duration_()),a<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var c=1,f=function(){c--,c===0&&s()};(l||!this.audioDisabled_)&&(c++,this.sourceUpdater_.removeAudio(t,a,f)),(l||this.loaderType_==="main")&&(this.gopBuffer_=yB(this.gopBuffer_,t,a,this.timeMapping_),c++,this.sourceUpdater_.removeVideo(t,a,f));for(var h in this.inbandTextTracks_)Tl(t,a,this.inbandTextTracks_[h]);Tl(t,a,this.segmentMetadataTrack_),f()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&V.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=V.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&V.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=V.setTimeout(this.monitorBufferTick_.bind(this),SB)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();!t||(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},n.isEndOfStream_=function(t,a,s){if(t===void 0&&(t=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var l=typeof t=="number"&&a.segments[t],c=t+1===a.segments.length,f=!l||!l.parts||s+1===l.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&c&&f},n.chooseNextRequest_=function(){var t=this.buffered_(),a=zT(t)||0,s=G0(t,this.currentTime_()),l=!this.hasPlayed_()&&s>=1,c=s>=this.goalBufferLength_(),f=this.playlist_.segments;if(!f.length||l||c)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var h={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(h.isSyncRequest)h.mediaIndex=TB(this.currentTimeline_,f,a);else if(this.mediaIndex!==null){var g=f[this.mediaIndex],v=typeof this.partIndex=="number"?this.partIndex:-1;h.startOfSegment=g.end?g.end:a,g.parts&&g.parts[v+1]?(h.mediaIndex=this.mediaIndex,h.partIndex=v+1):h.mediaIndex=this.mediaIndex+1}else{var T=un.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),w=T.segmentIndex,D=T.startTime,P=T.partIndex;h.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),h.mediaIndex=w,h.startOfSegment=D,h.partIndex=P}var R=f[h.mediaIndex],M=R&&typeof h.partIndex=="number"&&R.parts&&R.parts[h.partIndex];if(!R||typeof h.partIndex=="number"&&!M)return null;if(typeof h.partIndex!="number"&&R.parts&&(h.partIndex=0,M=R.parts[0]),!s&&M&&!M.independent)if(h.partIndex===0){var U=f[h.mediaIndex-1],j=U.parts&&U.parts.length&&U.parts[U.parts.length-1];j&&j.independent&&(h.mediaIndex-=1,h.partIndex=U.parts.length-1,h.independent="previous segment")}else R.parts[h.partIndex-1].independent&&(h.partIndex-=1,h.independent="previous part");var J=this.mediaSource_&&this.mediaSource_.readyState==="ended";return h.mediaIndex>=f.length-1&&J&&!this.seeking_()?null:this.generateSegmentInfo_(h)},n.generateSegmentInfo_=function(t){var a=t.independent,s=t.playlist,l=t.mediaIndex,c=t.startOfSegment,f=t.isSyncRequest,h=t.partIndex,g=t.forceTimestampOffset,v=t.getMediaInfoForTime,T=s.segments[l],w=typeof h=="number"&&T.parts[h],D={requestId:"segment-loader-"+Math.random(),uri:w&&w.resolvedUri||T.resolvedUri,mediaIndex:l,partIndex:w?h:null,isSyncRequest:f,startOfSegment:c,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:T.timeline,duration:w&&w.duration||T.duration,segment:T,part:w,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:v,independent:a},P=typeof g<"u"?g:this.isPendingTimestampOffset_;D.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:T.timeline,currentTimeline:this.currentTimeline_,startOfSegment:c,buffered:this.buffered_(),overrideCheck:P});var R=zT(this.sourceUpdater_.audioBuffered());return typeof R=="number"&&(D.audioAppendStart=R-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(D.gopsToAlignWith=vB(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),D},n.timestampOffsetForSegment_=function(t){return wB(t)},n.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=t.bandwidth,l=this.pendingSegment_.duration,c=un.estimateSegmentRequestTime(l,s,this.playlist_,t.bytesReceived),f=KM(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(c<=f)){var h=uB({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:l,timeUntilRebuffer:f,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!h){var g=c-f,v=g-h.rebufferingImpact,T=.5;f<=Ya&&(T=1),!(!h.playlist||h.playlist.uri===this.playlist_.uri||v<T)&&(this.bandwidth=h.playlist.attributes.BANDWIDTH*_r.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(t){this.logger_("Aborting "+Ao(t)),this.mediaRequestsAborted+=1},n.handleProgress_=function(t,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(t,a){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},bB(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(t,a,s,l){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var c=this.pendingSegment_,f=iS(a);c[f]=c[f]||{},c[f][s]=l,this.logger_("timinginfo: "+a+" - "+s+" - "+l),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(t,a){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,a));return}var c=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),f={};a.forEach(function(h){f[h.stream]=f[h.stream]||{startTime:1/0,captions:[],endTime:0};var g=f[h.stream];g.startTime=Math.min(g.startTime,h.startTime+c),g.endTime=Math.max(g.endTime,h.endTime+c),g.captions.push(h)}),Object.keys(f).forEach(function(h){var g=f[h],v=g.startTime,T=g.endTime,w=g.captions,D=s.inbandTextTracks_;s.logger_("adding cues from "+v+" -> "+T+" for "+h),dB(D,s.vhs_.tech_,h),Tl(v,T,D[h]),fB({captionArray:w,inbandTextTracks:D,timestampOffset:c})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(t,a,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,a,s));return}var c=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();gB(this.inbandTextTracks_,s,this.vhs_.tech_),pB({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:c,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(a){return a()})},n.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(a){return a()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!aS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},n.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!t||!a)return!1;var s=a.hasAudio,l=a.hasVideo,c=a.isMuxed;return!(l&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!c&&!t.audioTimingInfo||aS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(t,a){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[iS(a.type)].start;else{var l=this.getCurrentMediaInfo_(),c=this.loaderType_==="main"&&l&&l.hasVideo,f;c&&(f=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:c,firstVideoFrameTimeForData:f,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var h=this.chooseNextRequest_();if(h.mediaIndex!==s.mediaIndex||h.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},n.updateAppendInitSegmentStatus=function(t,a){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==t.playlist&&(this.appendInitSegment_[a]=!0)},n.getInitSegmentAndUpdateState_=function(t){var a=t.type,s=t.initSegment,l=t.map,c=t.playlist;if(l){var f=$f(l);if(this.activeInitSegmentId_===f)return null;s=this.initSegmentForMap(l,!0).bytes,this.activeInitSegmentId_=f}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=c,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},n.handleQuotaExceededError_=function(t,a){var s=this,l=t.segmentInfo,c=t.type,f=t.bytes,h=this.sourceUpdater_.audioBuffered(),g=this.sourceUpdater_.videoBuffered();h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ks(h).join(", ")),g.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ks(g).join(", "));var v=h.length?h.start(0):0,T=h.length?h.end(h.length-1):0,w=g.length?g.start(0):0,D=g.length?g.end(g.length-1):0;if(T-v<=dl&&D-w<=dl){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+f.byteLength+", ")+("audio buffer: "+ks(h).join(", ")+", ")+("video buffer: "+ks(g).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:l,type:c,bytes:f}));var P=this.currentTime_(),R=P-dl;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+R),this.remove(0,R,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+dl+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=V.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},dl*1e3)},!0)},n.handleAppendError_=function(t,a){var s=t.segmentInfo,l=t.type,c=t.bytes;if(!!a){if(a.code===Dw){this.handleQuotaExceededError_({segmentInfo:s,type:l,bytes:c});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(l+" append of "+c.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(t){var a=t.segmentInfo,s=t.type,l=t.initSegment,c=t.data,f=t.bytes;if(!f){var h=[c],g=c.byteLength;l&&(h.unshift(l),g+=l.byteLength),f=cB({bytes:g,segments:h})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:f},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:f}))},n.handleSegmentTimingInfo_=function(t,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var l=this.pendingSegment_.segment,c=t+"TimingInfo";l[c]||(l[c]={}),l[c].transmuxerPrependedSeconds=s.prependedContentDuration||0,l[c].transmuxedPresentationStart=s.start.presentation,l[c].transmuxedDecodeStart=s.start.decode,l[c].transmuxedPresentationEnd=s.end.presentation,l[c].transmuxedDecodeEnd=s.end.decode,l[c].baseMediaDecodeTime=s.baseMediaDecodeTime}},n.appendData_=function(t,a){var s=a.type,l=a.data;if(!(!l||!l.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var c=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:c,data:l})}},n.loadSegment_=function(t){var a=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=Nn({},t,{forceTimestampOffset:!0});Nn(t,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},n.updateTransmuxerAndRequestSegment_=function(t){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),l=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),c=this.mediaIndex!==null,f=t.timeline!==this.currentTimeline_&&t.timeline>0,h=l||c&&f;this.logger_("Requesting "+Ao(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=rB({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:h,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(v){var T=v.message,w=v.level,D=v.stream;a.logger_(Ao(t)+" logged from transmuxer stream "+D+" as a "+w+": "+T)}})},n.trimBackBuffer_=function(t){var a=EB(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},n.createSimplifiedSegmentObj_=function(t){var a=t.segment,s=t.part,l={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},c=t.playlist.segments[t.mediaIndex-1];if(c&&c.timeline===a.timeline&&(c.videoTimingInfo?l.baseStartTime=c.videoTimingInfo.transmuxedDecodeEnd:c.audioTimingInfo&&(l.baseStartTime=c.audioTimingInfo.transmuxedDecodeEnd)),a.key){var f=a.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);l.key=this.segmentKey(a.key),l.key.iv=f}return a.map&&(l.map=this.initSegmentForMap(a.map)),l},n.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},n.saveBandwidthRelatedStats_=function(t,a){if(this.pendingSegment_.byteLength=a.bytesReceived,t<$d){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+$d));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},n.segmentRequestFinished_=function(t,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===_i.ABORTED)return;if(this.pause(),t.code===_i.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),l.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=_B(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(l)}},n.setTimeMapping_=function(t){var a=this.syncController_.mappingForTimeline(t);a!==null&&(this.timeMapping_=a)},n.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(t){var a=t.currentStart,s=t.playlist,l=t.mediaIndex,c=t.firstVideoFrameTimeForData,f=t.currentVideoTimestampOffset,h=t.useVideoTimingInfo,g=t.videoTimingInfo,v=t.audioTimingInfo;if(typeof a<"u")return a;if(!h)return v.start;var T=s.segments[l-1];return l===0||!T||typeof T.start>"u"||T.end!==c+f?c:g.start},n.waitForAppendsToComplete_=function(t){var a=this.getCurrentMediaInfo_(t);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,l=a.hasVideo,c=a.isMuxed,f=this.loaderType_==="main"&&l,h=!this.audioDisabled_&&s&&!c;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}f&&t.waitingOnAppends++,h&&t.waitingOnAppends++,f&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),h&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},n.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(t){var a=xB(this.loaderType_,this.getCurrentMediaInfo_(),t);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),a=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var a=t.videoTimingInfo,s=t.audioTimingInfo,l=t.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:l.start:l.start},n.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,l=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;!l||(t.timingInfo.end=typeof l.end=="number"?l.end:l.start+t.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=AB(t,this.sourceType_);if(a&&(a.severity==="warn"?Q.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Ao(t));return}this.logger_("Appended "+Ao(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,l=t.part,c=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,f=l&&l.end&&this.currentTime_()-l.end>t.playlist.partTargetDuration*3;if(c||f){this.logger_("bad "+(c?"segment":"part")+" "+Ao(t)),this.resetEverything();return}var h=this.mediaIndex!==null;h&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(t){if(t.duration<$d){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+$d));return}var a=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,l=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(l-a)/++this.throughput.count},n.addSegmentMetadataCue_=function(t){if(!!this.segmentMetadataTrack_){var a=t.segment,s=a.start,l=a.end;if(!(!nS(s)||!nS(l))){Tl(s,l,this.segmentMetadataTrack_);var c=V.WebKitDataCue||V.VTTCue,f={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:l},h=JSON.stringify(f),g=new c(s,l,h);g.value=f,this.segmentMetadataTrack_.addCue(g)}}},e}(Q.EventTarget);function Ji(){}var Pw=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},kB=["video","audio"],cv=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},DB=function(e,n){for(var i=0;i<n.length;i++){var t=n[i];if(t.type==="mediaSource")return null;if(t.type===e)return i}return null},Z0=function r(e,n){if(n.queue.length!==0){var i=0,t=n.queue[i];if(t.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),t.action(n),t.doneFn&&t.doneFn(),r("audio",n),r("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||cv(e,n))){if(t.type!==e){if(i=DB(e,n.queue),i===null)return;t=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=t,t.action(e,n),!t.doneFn){n.queuePending[e]=null,r(e,n);return}}}},Iw=function(e,n){var i=n[e+"Buffer"],t=Pw(e);!i||(i.removeEventListener("updateend",n["on"+t+"UpdateEnd_"]),i.removeEventListener("error",n["on"+t+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},fi=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},mn={appendBuffer:function(e,n,i){return function(t,a){var s=a[t+"Buffer"];if(!!fi(a.mediaSource,s)){a.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(l){a.logger_("Error with code "+l.code+" "+(l.code===Dw?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+t+"Buffer")),a.queuePending[t]=null,i(l)}}}},remove:function(e,n){return function(i,t){var a=t[i+"Buffer"];if(!!fi(t.mediaSource,a)){t.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{a.remove(e,n)}catch{t.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var t=i[n+"Buffer"];!fi(i.mediaSource,t)||(i.logger_("Setting "+n+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){Q.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){Q.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(!!fi(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){Q.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,n){return function(i){var t=Pw(e),a=ql(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+t+"UpdateEnd_"]),s.addEventListener("error",i["on"+t+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(Iw(e,n),!!fi(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(t){Q.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(n,i){var t=i[n+"Buffer"],a=ql(e);if(!!fi(i.mediaSource,t)&&i.codecs[n]!==e){i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e);try{t.changeType(a),i.codecs[n]=e}catch(s){Q.log.warn("Failed to changeType on "+n+"Buffer",s)}}}}},vn=function(e){var n=e.type,i=e.sourceUpdater,t=e.action,a=e.doneFn,s=e.name;i.queue.push({type:n,action:t,doneFn:a,name:s}),Z0(n,i)},oS=function(e,n){return function(i){if(n.queuePending[e]){var t=n.queuePending[e].doneFn;n.queuePending[e]=null,t&&t(n[e+"Error_"])}Z0(e,n)}},Ow=function(r){Ae(e,r);function e(i){var t;return t=r.call(this)||this,t.mediaSource=i,t.sourceopenListener_=function(){return Z0("mediaSource",tt(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=ei("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=oS("video",tt(t)),t.onAudioUpdateEnd_=oS("audio",tt(t)),t.onVideoError_=function(a){t.videoError_=a},t.onAudioError_=function(a){t.audioError_=a},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(t,a){vn({type:"mediaSource",sourceUpdater:this,action:mn.addSourceBuffer(t,a),name:"addSourceBuffer"})},n.abort=function(t){vn({type:t,sourceUpdater:this,action:mn.abort(t),name:"abort"})},n.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){Q.log.error("removeSourceBuffer is not supported!");return}vn({type:"mediaSource",sourceUpdater:this,action:mn.removeSourceBuffer(t),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!Q.browser.IE_VERSION&&!Q.browser.IS_FIREFOX&&V.MediaSource&&V.MediaSource.prototype&&typeof V.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return V.SourceBuffer&&V.SourceBuffer.prototype&&typeof V.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(t,a){if(!this.canChangeType()){Q.log.error("changeType is not supported!");return}vn({type:t,sourceUpdater:this,action:mn.changeType(a),name:"changeType"})},n.addOrChangeSourceBuffers=function(t){var a=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var l=t[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,l);a.canChangeType()&&a.changeType(s,l)})},n.appendBuffer=function(t,a){var s=this,l=t.segmentInfo,c=t.type,f=t.bytes;if(this.processedAppend_=!0,c==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,a]),this.logger_("delayed audio append of "+f.length+" until video append");return}var h=a;if(vn({type:c,sourceUpdater:this,action:mn.appendBuffer(f,l||{mediaIndex:-1},h),doneFn:a,name:"appendBuffer"}),c==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var g=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+g.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,g.forEach(function(v){s.appendBuffer.apply(s,v)})}},n.audioBuffered=function(){return fi(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Q.createTimeRange()},n.videoBuffered=function(){return fi(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Q.createTimeRange()},n.buffered=function(){var t=fi(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=fi(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!t?this.audioBuffered():t&&!a?this.videoBuffered():zM(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(t,a){a===void 0&&(a=Ji),vn({type:"mediaSource",sourceUpdater:this,action:mn.duration(t),name:"duration",doneFn:a})},n.endOfStream=function(t,a){t===void 0&&(t=null),a===void 0&&(a=Ji),typeof t!="string"&&(t=void 0),vn({type:"mediaSource",sourceUpdater:this,action:mn.endOfStream(t),name:"endOfStream",doneFn:a})},n.removeAudio=function(t,a,s){if(s===void 0&&(s=Ji),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}vn({type:"audio",sourceUpdater:this,action:mn.remove(t,a),doneFn:s,name:"remove"})},n.removeVideo=function(t,a,s){if(s===void 0&&(s=Ji),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}vn({type:"video",sourceUpdater:this,action:mn.remove(t,a),doneFn:s,name:"remove"})},n.updating=function(){return!!(cv("audio",this)||cv("video",this))},n.audioTimestampOffset=function(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(vn({type:"audio",sourceUpdater:this,action:mn.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},n.videoTimestampOffset=function(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(vn({type:"video",sourceUpdater:this,action:mn.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},n.audioQueueCallback=function(t){!this.audioBuffer||vn({type:"audio",sourceUpdater:this,action:mn.callback(t),name:"callback"})},n.videoQueueCallback=function(t){!this.videoBuffer||vn({type:"video",sourceUpdater:this,action:mn.callback(t),name:"callback"})},n.dispose=function(){var t=this;this.trigger("dispose"),kB.forEach(function(a){t.abort(a),t.canRemoveSourceBuffer()?t.removeSourceBuffer(a):t[a+"QueueCallback"](function(){return Iw(a,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(Q.EventTarget),uS=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},lS=new Uint8Array(`

`.split("").map(function(r){return r.charCodeAt(0)})),PB=function(r){Ae(e,r);function e(){return r.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(Wm(Error)),IB=function(r){Ae(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.loadVttJs=i.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Q.createTimeRanges();var t=this.subtitlesTrack_.cues,a=t[0].startTime,s=t[t.length-1].startTime;return Q.createTimeRanges([[a,s]])},n.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=$f(t),l=this.initSegments_[s];if(a&&!l&&t.bytes){var c=lS.byteLength+t.bytes.byteLength,f=new Uint8Array(c);f.set(t.bytes),f.set(lS,t.bytes.byteLength),this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:f}}return l||t},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(t,a){Tl(t,a,this.subtitlesTrack_)},n.fillBuffer_=function(){var t=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(r.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},n.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(t,a,s){var l=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===_i.TIMEOUT&&this.handleTimeout_(),t.code===_i.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var c=this.pendingSegment_;this.saveBandwidthRelatedStats_(c.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var f=c.segment;if(f.map&&(f.map.bytes=a.map.bytes),c.bytes=a.bytes,typeof V.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return l.segmentRequestFinished_(t,a,s)},function(){return l.stopForError({message:"Error loading vtt.js"})});return}f.requested=!0;try{this.parseVTTCues_(c)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(c,this.syncController_.timelines[c.timeline],this.playlist_),c.cues.length?c.timingInfo={start:c.cues[0].startTime,end:c.cues[c.cues.length-1].endTime}:c.timingInfo={start:c.startOfSegment,end:c.startOfSegment+c.duration},c.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}c.byteLength=c.bytes.byteLength,this.mediaSecondsLoaded+=f.duration,c.cues.forEach(function(h){l.subtitlesTrack_.addCue(l.featuresNativeTextTracks_?new V.VTTCue(h.startTime,h.endTime,h.text):h)}),mB(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(t){var a,s=!1;if(typeof V.WebVTT!="function")throw new PB;typeof V.TextDecoder=="function"?a=new V.TextDecoder("utf8"):(a=V.WebVTT.StringDecoder(),s=!0);var l=new V.WebVTT.Parser(V,V.vttjs,a);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},l.oncue=t.cues.push.bind(t.cues),l.ontimestampmap=function(h){t.timestampmap=h},l.onparsingerror=function(h){Q.log.warn("Error encountered when parsing cues: "+h.message)},t.segment.map){var c=t.segment.map.bytes;s&&(c=uS(c)),l.parse(c)}var f=t.bytes;s&&(f=uS(f)),l.parse(f),l.flush()},n.updateTimeMapping_=function(t,a,s){var l=t.segment;if(!!a){if(!t.cues.length){l.empty=!0;return}var c=t.timestampmap,f=c.MPEGTS/Df.ONE_SECOND_IN_TS-c.LOCAL+a.mapping;if(t.cues.forEach(function(v){v.startTime+=f,v.endTime+=f}),!s.syncInfo){var h=t.cues[0].startTime,g=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(h,g-l.duration)}}}},e}(lv),OB=function(e,n){for(var i=e.cues,t=0;t<i.length;t++){var a=i[t];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},LB=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var t=i,a,s=0;s<e.segments.length;s++){var l=e.segments[s];if(a||(a=OB(n,t+l.duration/2)),a){if("cueIn"in l){a.endTime=t,a.adEndTime=t,t+=l.duration,a=null;continue}if(t<a.endTime){t+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&(a=new V.VTTCue(t,t+l.duration,l.cueOut),a.adStartTime=t,a.adEndTime=t+parseFloat(l.cueOut),n.addCue(a)),"cueOutCont"in l){var c=l.cueOutCont.split("/").map(parseFloat),f=c[0],h=c[1];a=new V.VTTCue(t,t+l.duration,""),a.adStartTime=t-f,a.adEndTime=a.adStartTime+h,n.addCue(a)}t+=l.duration}},RB=86400,cS=[{name:"VOD",run:function(e,n,i,t,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,n,i,t,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,l=null,c=tv(n);a=a||0;for(var f=0;f<c.length;f++){var h=n.endList||a===0?f:c.length-(f+1),g=c[h],v=g.segment,T=e.timelineToDatetimeMappings[v.timeline];if(!(!T||!v.dateTimeObject)){var w=v.dateTimeObject.getTime()/1e3,D=w+T;if(v.parts&&typeof g.partIndex=="number")for(var P=0;P<g.partIndex;P++)D+=v.parts[P].duration;var R=Math.abs(a-D);if(l!==null&&(R===0||l<R))break;l=R,s={time:D,segmentIndex:g.segmentIndex,partIndex:g.partIndex}}}return s}},{name:"Segment",run:function(e,n,i,t,a){var s=null,l=null;a=a||0;for(var c=tv(n),f=0;f<c.length;f++){var h=n.endList||a===0?f:c.length-(f+1),g=c[h],v=g.segment,T=g.part&&g.part.start||v&&v.start;if(v.timeline===t&&typeof T<"u"){var w=Math.abs(a-T);if(l!==null&&l<w)break;(!s||l===null||l>=w)&&(l=w,s={time:T,segmentIndex:g.segmentIndex,partIndex:g.partIndex})}}return s}},{name:"Discontinuity",run:function(e,n,i,t,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var l=null,c=0;c<n.discontinuityStarts.length;c++){var f=n.discontinuityStarts[c],h=n.discontinuitySequence+c+1,g=e.discontinuities[h];if(g){var v=Math.abs(a-g.time);if(l!==null&&l<v)break;(!s||l===null||l>=v)&&(l=v,s={time:g.time,segmentIndex:f,partIndex:null})}}return s}},{name:"Playlist",run:function(e,n,i,t,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return s}return null}}],NB=function(r){Ae(e,r);function e(i){var t;return t=r.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=ei("SyncController"),t}var n=e.prototype;return n.getSyncPoint=function(t,a,s,l){var c=this.runStrategies_(t,a,s,l);return c.length?this.selectSyncPoint_(c,{key:"time",value:l}):null},n.getExpiredTime=function(t,a){if(!t||!t.segments)return null;var s=this.runStrategies_(t,a,t.discontinuitySequence,0);if(!s.length)return null;var l=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return l.segmentIndex>0&&(l.time*=-1),Math.abs(l.time+Il({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:l.segmentIndex,endIndex:0}))},n.runStrategies_=function(t,a,s,l){for(var c=[],f=0;f<cS.length;f++){var h=cS[f],g=h.run(this,t,a,s,l);g&&(g.strategy=h.name,c.push({strategy:h.name,syncPoint:g}))}return c},n.selectSyncPoint_=function(t,a){for(var s=t[0].syncPoint,l=Math.abs(t[0].syncPoint[a.key]-a.value),c=t[0].strategy,f=1;f<t.length;f++){var h=Math.abs(t[f].syncPoint[a.key]-a.value);h<l&&(l=h,s=t[f].syncPoint,c=t[f].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+c+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},n.saveExpiredSegmentInfo=function(t,a){var s=a.mediaSequence-t.mediaSequence;if(s>RB){Q.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var l=s-1;l>=0;l--){var c=t.segments[l];if(c&&typeof c.start<"u"){a.syncInfo={mediaSequence:t.mediaSequence+l,time:c.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var a=t.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},n.saveSegmentTimingInfo=function(t){var a=t.segmentInfo,s=t.shouldSaveTimelineMapping,l=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),c=a.segment;l&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:c.start}));var f=c.dateTimeObject;c.discontinuity&&s&&f&&(this.timelineToDatetimeMappings[c.timeline]=-(f.getTime()/1e3))},n.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time},n.mappingForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,a,s){var l=t.segment,c=t.part,f=this.timelines[t.timeline],h,g;if(typeof t.timestampOffset=="number")f={time:t.startOfSegment,mapping:t.startOfSegment-a.start},s&&(this.timelines[t.timeline]=f,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+f.time+"] [mapping: "+f.mapping+"]"))),h=t.startOfSegment,g=a.end+f.mapping;else if(f)h=a.start+f.mapping,g=a.end+f.mapping;else return!1;return c&&(c.start=h,c.end=g),(!l.start||h<l.start)&&(l.start=h),l.end=g,!0},n.saveDiscontinuitySyncInfo_=function(t){var a=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var l=0;l<a.discontinuityStarts.length;l++){var c=a.discontinuityStarts[l],f=a.discontinuitySequence+l+1,h=c-t.mediaIndex,g=Math.abs(h);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>g){var v=void 0;h<0?v=s.start-Il({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex,endIndex:c}):v=s.end+Il({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex+1,endIndex:c}),this.discontinuities[f]={time:v,accuracy:g}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(Q.EventTarget),MB=function(r){Ae(e,r);function e(){var i;return i=r.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:l},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},n.lastTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:l},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Q.EventTarget),BB=_w(yw(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(j,J,te){return te={path:J,exports:{},require:function(H,X){return n(H,X==null?te.path:X)}},j(te,te.exports),te.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(j){function J($,H){for(var X=0;X<H.length;X++){var K=H[X];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty($,K.key,K)}}function te($,H,X){return H&&J($.prototype,H),X&&J($,X),$}j.exports=te,j.exports.default=j.exports,j.exports.__esModule=!0}),t=e(function(j){function J(te,$){return j.exports=J=Object.setPrototypeOf||function(X,K){return X.__proto__=K,X},j.exports.default=j.exports,j.exports.__esModule=!0,J(te,$)}j.exports=J,j.exports.default=j.exports,j.exports.__esModule=!0}),a=e(function(j){function J(te,$){te.prototype=Object.create($.prototype),te.prototype.constructor=te,t(te,$)}j.exports=J,j.exports.default=j.exports,j.exports.__esModule=!0}),s=function(){function j(){this.listeners={}}var J=j.prototype;return J.on=function($,H){this.listeners[$]||(this.listeners[$]=[]),this.listeners[$].push(H)},J.off=function($,H){if(!this.listeners[$])return!1;var X=this.listeners[$].indexOf(H);return this.listeners[$]=this.listeners[$].slice(0),this.listeners[$].splice(X,1),X>-1},J.trigger=function($){var H=this.listeners[$];if(!!H)if(arguments.length===2)for(var X=H.length,K=0;K<X;++K)H[K].call(this,arguments[1]);else for(var ee=Array.prototype.slice.call(arguments,1),Z=H.length,le=0;le<Z;++le)H[le].apply(this,ee)},J.dispose=function(){this.listeners={}},J.pipe=function($){this.on("data",function(H){$.push(H)})},j}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function l(j){return j.subarray(0,j.byteLength-j[j.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var c=function(){var J=[[[],[],[],[],[]],[[],[],[],[],[]]],te=J[0],$=J[1],H=te[4],X=$[4],K,ee,Z,le=[],Be=[],je,De,me,we,_t,dt;for(K=0;K<256;K++)Be[(le[K]=K<<1^(K>>7)*283)^K]=K;for(ee=Z=0;!H[ee];ee^=je||1,Z=Be[Z]||1)for(we=Z^Z<<1^Z<<2^Z<<3^Z<<4,we=we>>8^we&255^99,H[ee]=we,X[we]=ee,me=le[De=le[je=le[ee]]],dt=me*16843009^De*65537^je*257^ee*16843008,_t=le[we]*257^we*16843008,K=0;K<4;K++)te[K][ee]=_t=_t<<24^_t>>>8,$[K][we]=dt=dt<<24^dt>>>8;for(K=0;K<5;K++)te[K]=te[K].slice(0),$[K]=$[K].slice(0);return J},f=null,h=function(){function j(te){f||(f=c()),this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var $,H,X,K=this._tables[0][4],ee=this._tables[1],Z=te.length,le=1;if(Z!==4&&Z!==6&&Z!==8)throw new Error("Invalid aes key size");var Be=te.slice(0),je=[];for(this._key=[Be,je],$=Z;$<4*Z+28;$++)X=Be[$-1],($%Z===0||Z===8&&$%Z===4)&&(X=K[X>>>24]<<24^K[X>>16&255]<<16^K[X>>8&255]<<8^K[X&255],$%Z===0&&(X=X<<8^X>>>24^le<<24,le=le<<1^(le>>7)*283)),Be[$]=Be[$-Z]^X;for(H=0;$;H++,$--)X=Be[H&3?$:$-4],$<=4||H<4?je[H]=X:je[H]=ee[0][K[X>>>24]]^ee[1][K[X>>16&255]]^ee[2][K[X>>8&255]]^ee[3][K[X&255]]}var J=j.prototype;return J.decrypt=function($,H,X,K,ee,Z){var le=this._key[1],Be=$^le[0],je=K^le[1],De=X^le[2],me=H^le[3],we,_t,dt,Dr=le.length/4-2,Lt,jt=4,cr=this._tables[1],Pr=cr[0],$t=cr[1],ne=cr[2],be=cr[3],xe=cr[4];for(Lt=0;Lt<Dr;Lt++)we=Pr[Be>>>24]^$t[je>>16&255]^ne[De>>8&255]^be[me&255]^le[jt],_t=Pr[je>>>24]^$t[De>>16&255]^ne[me>>8&255]^be[Be&255]^le[jt+1],dt=Pr[De>>>24]^$t[me>>16&255]^ne[Be>>8&255]^be[je&255]^le[jt+2],me=Pr[me>>>24]^$t[Be>>16&255]^ne[je>>8&255]^be[De&255]^le[jt+3],jt+=4,Be=we,je=_t,De=dt;for(Lt=0;Lt<4;Lt++)ee[(3&-Lt)+Z]=xe[Be>>>24]<<24^xe[je>>16&255]<<16^xe[De>>8&255]<<8^xe[me&255]^le[jt++],we=Be,Be=je,je=De,De=me,me=we},j}(),g=function(j){a(J,j);function J(){var $;return $=j.call(this,s)||this,$.jobs=[],$.delay=1,$.timeout_=null,$}var te=J.prototype;return te.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},te.push=function(H){this.jobs.push(H),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},J}(s),v=function(J){return J<<24|(J&65280)<<8|(J&16711680)>>8|J>>>24},T=function(J,te,$){var H=new Int32Array(J.buffer,J.byteOffset,J.byteLength>>2),X=new h(Array.prototype.slice.call(te)),K=new Uint8Array(J.byteLength),ee=new Int32Array(K.buffer),Z,le,Be,je,De,me,we,_t,dt;for(Z=$[0],le=$[1],Be=$[2],je=$[3],dt=0;dt<H.length;dt+=4)De=v(H[dt]),me=v(H[dt+1]),we=v(H[dt+2]),_t=v(H[dt+3]),X.decrypt(De,me,we,_t,ee,dt),ee[dt]=v(ee[dt]^Z),ee[dt+1]=v(ee[dt+1]^le),ee[dt+2]=v(ee[dt+2]^Be),ee[dt+3]=v(ee[dt+3]^je),Z=De,le=me,Be=we,je=_t;return K},w=function(){function j(te,$,H,X){var K=j.STEP,ee=new Int32Array(te.buffer),Z=new Uint8Array(te.byteLength),le=0;for(this.asyncStream_=new g,this.asyncStream_.push(this.decryptChunk_(ee.subarray(le,le+K),$,H,Z)),le=K;le<ee.length;le+=K)H=new Uint32Array([v(ee[le-4]),v(ee[le-3]),v(ee[le-2]),v(ee[le-1])]),this.asyncStream_.push(this.decryptChunk_(ee.subarray(le,le+K),$,H,Z));this.asyncStream_.push(function(){X(null,l(Z))})}var J=j.prototype;return J.decryptChunk_=function($,H,X,K){return function(){var ee=T($,H,X);K.set(ee,$.byteOffset)}},i(j,null,[{key:"STEP",get:function(){return 32e3}}]),j}(),D;typeof window<"u"?D=window:typeof r<"u"?D=r:typeof self<"u"?D=self:D={};var P=D,R=function(J){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(J):J&&J.buffer instanceof ArrayBuffer},M=P.BigInt||Number;M("0x1"),M("0x100"),M("0x10000"),M("0x1000000"),M("0x100000000"),M("0x10000000000"),M("0x1000000000000"),M("0x100000000000000"),M("0x10000000000000000");var U=function(J){var te={};return Object.keys(J).forEach(function($){var H=J[$];R(H)?te[$]={bytes:H.buffer,byteOffset:H.byteOffset,byteLength:H.byteLength}:te[$]=H}),te};self.onmessage=function(j){var J=j.data,te=new Uint8Array(J.encrypted.bytes,J.encrypted.byteOffset,J.encrypted.byteLength),$=new Uint32Array(J.key.bytes,J.key.byteOffset,J.key.byteLength/4),H=new Uint32Array(J.iv.bytes,J.iv.byteOffset,J.iv.byteLength/4);new w(te,$,H,function(X,K){self.postMessage(U({source:J.source,decrypted:K}),[K.buffer])})}})),UB=vw(BB),jB=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},Wf=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},dv=function(e,n){n.activePlaylistLoader=e,e.load()},$B=function(e,n){return function(){var i=n.segmentLoaders,t=i[e],a=i.main,s=n.mediaTypes[e],l=s.activeTrack(),c=s.getActiveGroup(),f=s.activePlaylistLoader,h=s.lastGroup_;if(!(c&&h&&c.id===h.id)&&(s.lastGroup_=c,s.lastTrack_=l,Wf(t,s),!(!c||c.isMasterPlaylist))){if(!c.playlistLoader){f&&a.resetEverything();return}t.resyncLoader(),dv(c.playlistLoader,s)}}},HB=function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e];t.lastGroup_=null,i.abort(),i.pause()}},VB=function(e,n){return function(){var i=n.masterPlaylistLoader,t=n.segmentLoaders,a=t[e],s=t.main,l=n.mediaTypes[e],c=l.activeTrack(),f=l.getActiveGroup(),h=l.activePlaylistLoader,g=l.lastTrack_;if(!(g&&c&&g.id===c.id)&&(l.lastGroup_=f,l.lastTrack_=c,Wf(a,l),!!f)){if(f.isMasterPlaylist){if(!c||!g||c.id===g.id)return;var v=n.vhs.masterPlaylistController_,T=v.selectPlaylist();if(v.media()===T)return;l.logger_("track change. Switching master audio from "+g.id+" to "+c.id),i.pause(),s.resetEverything(),v.fastQualityChange_(T);return}if(e==="AUDIO"){if(!f.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(h===f.playlistLoader){dv(f.playlistLoader,l);return}a.track&&a.track(c),a.resetEverything(),dv(f.playlistLoader,l)}}},Gf={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e],a=n.blacklistCurrentPlaylist;Wf(i,t);var s=t.activeTrack(),l=t.activeGroup(),c=(l.filter(function(g){return g.default})[0]||l[0]).id,f=t.tracks[c];if(s===f){a({message:"Problem encountered loading the default audio track."});return}Q.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var h in t.tracks)t.tracks[h].enabled=t.tracks[h]===f;t.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e];Q.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Wf(i,t);var a=t.activeTrack();a&&(a.mode="disabled"),t.onTrackChanged()}}},dS={AUDIO:function(e,n,i){if(!!n){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];n.on("loadedmetadata",function(){var l=n.media();s.playlist(l,a),(!t.paused()||l.endList&&t.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),t.paused()||s.load()}),n.on("error",Gf[e](e,i))}},SUBTITLES:function(e,n,i){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],l=i.mediaTypes[e];n.on("loadedmetadata",function(){var c=n.media();s.playlist(c,a),s.track(l.activeTrack()),(!t.paused()||c.endList&&t.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),t.paused()||s.load()}),n.on("error",Gf[e](e,i))}},qB={AUDIO:function(e,n){var i=n.vhs,t=n.sourceType,a=n.segmentLoaders[e],s=n.requestOptions,l=n.master.mediaGroups,c=n.mediaTypes[e],f=c.groups,h=c.tracks,g=c.logger_,v=n.masterPlaylistLoader,T=Sc(v.master);(!l[e]||Object.keys(l[e]).length===0)&&(l[e]={main:{default:{default:!0}}},T&&(l[e].main.default.playlists=v.master.playlists));for(var w in l[e]){f[w]||(f[w]=[]);for(var D in l[e][w]){var P=l[e][w][D],R=void 0;if(T?(g("AUDIO group '"+w+"' label '"+D+"' is a master playlist"),P.isMasterPlaylist=!0,R=null):t==="vhs-json"&&P.playlists?R=new Oo(P.playlists[0],i,s):P.resolvedUri?R=new Oo(P.resolvedUri,i,s):P.playlists&&t==="dash"?R=new ov(P.playlists[0],i,s,v):R=null,P=Q.mergeOptions({id:D,playlistLoader:R},P),dS[e](e,P.playlistLoader,n),f[w].push(P),typeof h[D]>"u"){var M=new Q.AudioTrack({id:D,kind:jB(P),enabled:!1,language:P.language,default:P.default,label:D});h[D]=M}}}a.on("error",Gf[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,t=n.vhs,a=n.sourceType,s=n.segmentLoaders[e],l=n.requestOptions,c=n.master.mediaGroups,f=n.mediaTypes[e],h=f.groups,g=f.tracks,v=n.masterPlaylistLoader;for(var T in c[e]){h[T]||(h[T]=[]);for(var w in c[e][T])if(!c[e][T][w].forced){var D=c[e][T][w],P=void 0;if(a==="hls")P=new Oo(D.resolvedUri,t,l);else if(a==="dash"){var R=D.playlists.filter(function(U){return U.excludeUntil!==1/0});if(!R.length)return;P=new ov(D.playlists[0],t,l,v)}else a==="vhs-json"&&(P=new Oo(D.playlists?D.playlists[0]:D.resolvedUri,t,l));if(D=Q.mergeOptions({id:w,playlistLoader:P},D),dS[e](e,D.playlistLoader,n),h[T].push(D),typeof g[w]>"u"){var M=i.addRemoteTextTrack({id:w,kind:"subtitles",default:D.default&&D.autoselect,language:D.language,label:w},!1).track;g[w]=M}}}s.on("error",Gf[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,t=n.master.mediaGroups,a=n.mediaTypes[e],s=a.groups,l=a.tracks;for(var c in t[e]){s[c]||(s[c]=[]);for(var f in t[e][c]){var h=t[e][c][f];if(!!/^(?:CC|SERVICE)/.test(h.instreamId)){var g=i.options_.vhs&&i.options_.vhs.captionServices||{},v={label:f,language:h.language,instreamId:h.instreamId,default:h.default&&h.autoselect};if(g[v.instreamId]&&(v=Q.mergeOptions(v,g[v.instreamId])),v.default===void 0&&delete v.default,s[c].push(Q.mergeOptions({id:f},h)),typeof l[f]>"u"){var T=i.addRemoteTextTrack({id:v.instreamId,kind:"captions",default:v.default,language:v.language,label:v.label},!1).track;l[f]=T}}}}}},WB=function r(e,n){for(var i=0;i<e.length;i++)if(X0(n,e[i])||e[i].playlists&&r(e[i].playlists,n))return!0;return!1},GB=function(e,n){return function(i){var t=n.masterPlaylistLoader,a=n.mediaTypes[e].groups,s=t.media();if(!s)return null;var l=null;s.attributes[e]&&(l=a[s.attributes[e]]);var c=Object.keys(a);if(!l)if(e==="AUDIO"&&c.length>1&&Sc(n.master))for(var f=0;f<c.length;f++){var h=a[c[f]];if(WB(h,s)){l=h;break}}else a.main?l=a.main:c.length===1&&(l=a[c[0]]);return typeof i>"u"?l:i===null||!l?null:l.filter(function(g){return g.id===i.id})[0]||null}},zB={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var t in i)if(i[t].enabled)return i[t];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var t in i)if(i[t].mode==="showing"||i[t].mode==="hidden")return i[t];return null}}},KB=function(e,n){var i=n.mediaTypes;return function(){var t=i[e].activeTrack();return t?i[e].activeGroup(t):null}},XB=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(w){qB[w](w,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,t=e.tech,a=e.vhs,s=e.segmentLoaders,l=s.AUDIO,c=s.main;["AUDIO","SUBTITLES"].forEach(function(w){n[w].activeGroup=GB(w,e),n[w].activeTrack=zB[w](w,e),n[w].onGroupChanged=$B(w,e),n[w].onGroupChanging=HB(w,e),n[w].onTrackChanged=VB(w,e),n[w].getActiveGroup=KB(w,e)});var f=n.AUDIO.activeGroup();if(f){var h=(f.filter(function(w){return w.default})[0]||f[0]).id;n.AUDIO.tracks[h].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var g=n.AUDIO.getActiveGroup();g.playlistLoader?(c.setAudio(!1),l.setAudio(!0)):c.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(w){return n[w].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(w){return n[w].onGroupChanging()})});var v=function(){n.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",v),t.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){t.audioTracks().removeEventListener("change",v),t.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var T in n.AUDIO.tracks)t.audioTracks().addTrack(n.AUDIO.tracks[T])},JB=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ji,activeTrack:Ji,getActiveGroup:Ji,onGroupChanged:Ji,onTrackChanged:Ji,lastTrack_:null,logger_:ei("MediaGroups["+n+"]")}}),e},YB=60*2,Hi,QB=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],ZB=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},e8=function(e){var n=e.currentPlaylist,i=e.buffered,t=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,l=e.bufferHighWaterLine,c=e.duration,f=e.experimentalBufferBasedABR,h=e.log;if(!a)return Q.log.warn("We received no playlist to switch to. Please check your stream."),!1;var g="allowing switch "+(n&&n.id||"null")+" -> "+a.id;if(!n)return h(g+" as current playlist is not set"),!0;if(a.id===n.id)return!1;var v=Boolean(Io(i,t).length);if(!n.endList)return!v&&typeof n.partTargetDuration=="number"?(h("not "+g+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(h(g+" as current playlist is live"),!0);var T=G0(i,t),w=f?_r.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:_r.MAX_BUFFER_LOW_WATER_LINE;if(c<w)return h(g+" as duration < max low water line ("+c+" < "+w+")"),!0;var D=a.attributes.BANDWIDTH,P=n.attributes.BANDWIDTH;if(D<P&&(!f||T<l)){var R=g+" as next bandwidth < current bandwidth ("+D+" < "+P+")";return f&&(R+=" and forwardBuffer < bufferHighWaterLine ("+T+" < "+l+")"),h(R),!0}if((!f||D>P)&&T>=s){var M=g+" as forwardBuffer >= bufferLowWaterLine ("+T+" >= "+s+")";return f&&(M+=" and next bandwidth > current bandwidth ("+D+" > "+P+")"),h(M),!0}return h("not "+g+" as no switching criteria met"),!1},t8=function(r){Ae(e,r);function e(i){var t;t=r.call(this)||this;var a=i.src,s=i.handleManifestRedirects,l=i.withCredentials,c=i.tech,f=i.bandwidth,h=i.externVhs,g=i.useCueTags,v=i.blacklistDuration,T=i.enableLowInitialPlaylist,w=i.sourceType,D=i.cacheEncryptionKeys,P=i.experimentalBufferBasedABR,R=i.experimentalLeastPixelDiffSelector,M=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var U=i.maxPlaylistRetries;(U===null||typeof U>"u")&&(U=1/0),Hi=h,t.experimentalBufferBasedABR=Boolean(P),t.experimentalLeastPixelDiffSelector=Boolean(R),t.withCredentials=l,t.tech_=c,t.vhs_=c.vhs,t.sourceType_=w,t.useCueTags_=g,t.blacklistDuration=v,t.maxPlaylistRetries=U,t.enableLowInitialPlaylist=T,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:l,handleManifestRedirects:s,maxPlaylistRetries:U,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=JB(),t.mediaSource=new V.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(tt(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(tt(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(tt(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=Q.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new NB(i),t.segmentMetadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new UB,t.sourceUpdater_=new Ow(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new MB;var j={vhs:t.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:M,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:f,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:D,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new ov(a,t.vhs_,t.requestOptions_):new Oo(a,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new lv(Q.mergeOptions(j,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),i),t.audioSegmentLoader_=new lv(Q.mergeOptions(j,{loaderType:"audio"}),i),t.subtitleSegmentLoader_=new IB(Q.mergeOptions(j,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function($,H){function X(){c.off("vttjserror",K),$()}function K(){c.off("vttjsloaded",X),H()}c.one("vttjsloaded",X),c.one("vttjserror",K),c.addWebVttScript_()})}}),i),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),QB.forEach(function(te){t[te+"_"]=ZB.bind(tt(t),te)}),t.logger_=ei("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var J=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(J,function(){var te=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-te,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return t===-1||a===-1?-1:t+a},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(t){t===void 0&&(t="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,t)},n.switchMedia_=function(t,a,s){var l=this.media(),c=l&&(l.id||l.uri),f=t.id||t.uri;c&&c!==f&&(this.logger_("switch media "+c+" -> "+f+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(t,s)},n.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=V.setInterval(function(){return t.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(V.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var t=this.master(),a=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return a;var s=t.mediaGroups.AUDIO,l=Object.keys(s),c;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)c=this.mediaTypes_.AUDIO.activeTrack();else{var f=s.main||l.length&&s[l[0]];for(var h in f)if(f[h].default){c={label:h};break}}if(!c)return a;var g=[];for(var v in s)if(s[v][c.label]){var T=s[v][c.label];if(T.playlists&&T.playlists.length)g.push.apply(g,T.playlists);else if(T.uri)g.push(T);else if(t.playlists.length)for(var w=0;w<t.playlists.length;w++){var D=t.playlists[w];D.attributes&&D.attributes.AUDIO&&D.attributes.AUDIO===v&&g.push(D)}}return g.length?g:a},n.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;rv(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,a.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load()),XB({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),a),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var a=t.masterPlaylistLoader_.media();if(!a){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var l=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!l)return;a=t.initialMedia_}t.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;rv(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.masterPlaylistLoader_.load(),t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=t.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(a);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(t,a){var s=t.mediaGroups||{},l=!0,c=Object.keys(s.AUDIO);for(var f in s.AUDIO)for(var h in s.AUDIO[f]){var g=s.AUDIO[f][h];g.uri||(l=!1)}l&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Hi.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),c.length&&Object.keys(s.AUDIO[c[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(t){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),l=this.bufferLowWaterLine(),c=this.bufferHighWaterLine(),f=this.tech_.buffered();return e8({buffered:f,currentTime:s,currentPlaylist:a,nextPlaylist:t,bufferLowWaterLine:l,bufferHighWaterLine:c,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},YB))});var a=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var l=t.getCodecsOrExclude_();!l||t.sourceUpdater_.addOrChangeSourceBuffers(l)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},n.fastQualityChange_=function(t){var a=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){Q.browser.IE_VERSION||Q.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},n.setupFirstPlay=function(){var t=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(Q.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,function(a){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var a=this.duration();t[t.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}!t||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(t){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var l=Hi.Playlist.playlistEnd(t,s),c=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return l-c<=vi;var h=f.end(f.length-1);return h-c<=vi&&l-h<=vi},n.blacklistCurrentPlaylist=function(t,a){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(a=a||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var l=this.masterPlaylistLoader_.master.playlists,c=l.filter(Mh),f=c.length===1&&c[0]===s;if(l.length===1&&a!==1/0)return Q.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f);if(f){var h=!1;l.forEach(function(R){if(R!==s){var M=R.excludeUntil;typeof M<"u"&&M!==1/0&&(h=!0,delete R.excludeUntil)}}),h&&(Q.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var g;s.playlistErrors_>this.maxPlaylistRetries?g=1/0:g=Date.now()+a*1e3,s.excludeUntil=g,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var v=this.selectPlaylist();if(!v){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var T=t.internal?this.logger_:Q.log.warn,w=t.message?" "+t.message:"";T((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(w+" Switching to playlist "+v.id+".")),v.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),v.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var D=v.targetDuration/2*1e3||5*1e3,P=typeof v.lastRequest=="number"&&Date.now()-v.lastRequest<=D;return this.switchMedia_(v,"exclude",f||P)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(t,a){var s=this,l=[],c=t==="all";(c||t==="main")&&l.push(this.masterPlaylistLoader_);var f=[];(c||t==="audio")&&f.push("AUDIO"),(c||t==="subtitle")&&(f.push("CLOSED-CAPTIONS"),f.push("SUBTITLES")),f.forEach(function(h){var g=s.mediaTypes_[h]&&s.mediaTypes_[h].activePlaylistLoader;g&&l.push(g)}),["main","audio","subtitle"].forEach(function(h){var g=s[h+"SegmentLoader_"];g&&(t===h||t==="all")&&l.push(g)}),l.forEach(function(h){return a.forEach(function(g){typeof h[g]=="function"&&h[g]()})})},n.setCurrentTime=function(t){var a=Io(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:Hi.Playlist.duration(t):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var t;if(!!this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var l=this.masterPlaylistLoader_.master,c=Hi.Playlist.seekable(a,s,Hi.Playlist.liveEdgeDelay(l,a));if(c.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(t=Hi.Playlist.seekable(a,s,Hi.Playlist.liveEdgeDelay(l,a)),t.length===0)))){var f,h;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),h=this.seekable_.start(0)),t?t.start(0)>c.end(0)||c.start(0)>t.end(0)?this.seekable_=c:this.seekable_=Q.createTimeRanges([[t.start(0)>c.start(0)?t.start(0):c.start(0),t.end(0)<c.end(0)?t.end(0):c.end(0)]]):this.seekable_=c,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===h)&&(this.logger_("seekable updated ["+X1(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),l=Hi.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(l=Math.max(l,s.end(s.length-1))),this.mediaSource.duration!==l&&this.sourceUpdater_.setDuration(l)},n.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=t.mediaTypes_[a].groups;for(var l in s)s[l].forEach(function(c){c.playlistLoader&&c.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},n.getCodecsOrExclude_=function(){var t=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var l=Ol(this.master(),s),c={},f=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(c.video=l.video||a.main.videoCodec||x3),a.main.isMuxed&&(c.video+=","+(l.audio||a.main.audioCodec||Kb)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||f)&&(c.audio=l.audio||a.main.audioCodec||a.audio.audioCodec||Kb,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!c.audio&&!c.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var h=function(R,M){return R?Zd(M):Rg(M)},g={},v;if(["video","audio"].forEach(function(P){if(c.hasOwnProperty(P)&&!h(a[P].isFmp4,c[P])){var R=a[P].isFmp4?"browser":"muxer";g[R]=g[R]||[],g[R].push(c[P]),P==="audio"&&(v=R)}}),f&&v&&s.attributes.AUDIO){var T=s.attributes.AUDIO;this.master().playlists.forEach(function(P){var R=P.attributes&&P.attributes.AUDIO;R===T&&P!==s&&(P.excludeUntil=1/0)}),this.logger_("excluding audio group "+T+" as "+v+' does not support codec(s): "'+c.audio+'"')}if(Object.keys(g).length){var w=Object.keys(g).reduce(function(P,R){return P&&(P+=", "),P+=R+' does not support codec(s): "'+g[R].join(",")+'"',P},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:w,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var D=[];if(["video","audio"].forEach(function(P){var R=(di(t.sourceUpdater_.codecs[P]||"")[0]||{}).type,M=(di(c[P]||"")[0]||{}).type;R&&M&&R.toLowerCase()!==M.toLowerCase()&&D.push('"'+t.sourceUpdater_.codecs[P]+'" -> "'+c[P]+'"')}),D.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+D.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return c},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(!!t){this.sourceUpdater_.createSourceBuffers(t);var a=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},n.excludeUnsupportedVariants_=function(){var t=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(l){var c=a[l];if(s.indexOf(c.id)===-1){s.push(c.id);var f=Ol(t.master,c),h=[];f.audio&&!Rg(f.audio)&&!Zd(f.audio)&&h.push("audio codec "+f.audio),f.video&&!Rg(f.video)&&!Zd(f.video)&&h.push("video codec "+f.video),f.text&&f.text==="stpp.ttml.im1t"&&h.push("text codec "+f.text),h.length&&(c.excludeUntil=1/0,t.logger_("excluding "+c.id+" for unsupported: "+h.join(", ")))}})},n.excludeIncompatibleVariants_=function(t){var a=this,s=[],l=this.master().playlists,c=Vf(di(t)),f=eS(c),h=c.video&&di(c.video)[0]||null,g=c.audio&&di(c.audio)[0]||null;Object.keys(l).forEach(function(v){var T=l[v];if(!(s.indexOf(T.id)!==-1||T.excludeUntil===1/0)){s.push(T.id);var w=[],D=Ol(a.masterPlaylistLoader_.master,T),P=eS(D);if(!(!D.audio&&!D.video)){if(P!==f&&w.push('codec count "'+P+'" !== "'+f+'"'),!a.sourceUpdater_.canChangeType()){var R=D.video&&di(D.video)[0]||null,M=D.audio&&di(D.audio)[0]||null;R&&h&&R.type.toLowerCase()!==h.type.toLowerCase()&&w.push('video codec "'+R.type+'" !== "'+h.type+'"'),M&&g&&M.type.toLowerCase()!==g.type.toLowerCase()&&w.push('audio codec "'+M.type+'" !== "'+g.type+'"')}w.length&&(T.excludeUntil=1/0,a.logger_("blacklisting "+T.id+": "+w.join(" && ")))}}})},n.updateAdCues_=function(t){var a=0,s=this.seekable();s.length&&(a=s.start(0)),LB(t,this.cueTagsTrack_,a)},n.goalBufferLength=function(){var t=this.tech_.currentTime(),a=_r.GOAL_BUFFER_LENGTH,s=_r.GOAL_BUFFER_LENGTH_RATE,l=Math.max(a,_r.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+t*s,l)},n.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),a=_r.BUFFER_LOW_WATER_LINE,s=_r.BUFFER_LOW_WATER_LINE_RATE,l=Math.max(a,_r.MAX_BUFFER_LOW_WATER_LINE),c=Math.max(a,_r.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+t*s,this.experimentalBufferBasedABR?c:l)},n.bufferHighWaterLine=function(){return _r.BUFFER_HIGH_WATER_LINE},e}(Q.EventTarget),r8=function(e,n,i){return function(t){var a=e.master.playlists[n],s=K0(a),l=Mh(a);return typeof t>"u"?l:(t?delete a.disabled:a.disabled=!0,t!==l&&!s&&(i(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},n8=function(e,n,i){var t=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",l=t[s+"QualityChange_"].bind(t);if(n.attributes){var c=n.attributes.RESOLUTION;this.width=c&&c.width,this.height=c&&c.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Ol(t.master(),n),this.playlist=n,this.id=i,this.enabled=r8(e.playlists,n.id,l)},i8=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=Sc(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(t){return!K0(t)}).map(function(t,a){return new n8(e,t,t.id)}):[]}},fS=["seeking","seeked","pause","playing","error"],a8=function(){function r(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ei("PlaybackWatcher"),this.logger_("initialize");var t=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},l=function(){return i.cancelTimer_()},c=this.masterPlaylistController_,f=["main","subtitle","audio"],h={};f.forEach(function(v){h[v]={reset:function(){return i.resetSegmentDownloads_(v)},updateend:function(){return i.checkSegmentDownloads_(v)}},c[v+"SegmentLoader_"].on("appendsdone",h[v].updateend),c[v+"SegmentLoader_"].on("playlistupdate",h[v].reset),i.tech_.on(["seeked","seeking"],h[v].reset)});var g=function(T){["main","audio"].forEach(function(w){c[w+"SegmentLoader_"][T]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),g("off"))},this.clearSeekingAppendCheck_=function(){return g("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),g("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(fS,l),this.tech_.on("canplay",a),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(fS,l),i.tech_.off("canplay",a),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),f.forEach(function(v){c[v+"SegmentLoader_"].off("appendsdone",h[v].updateend),c[v+"SegmentLoader_"].off("playlistupdate",h[v].reset),i.tech_.off(["seeked","seeking"],h[v].reset)}),i.checkCurrentTimeTimeout_&&V.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=r.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&V.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=V.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var t=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(i){var t=this.masterPlaylistController_,a=t[i+"SegmentLoader_"],s=a.buffered_(),l=XM(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,l){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:ks(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===i&&(!t.length||i+vi>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var t=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),l;if(s){var c=t.end(t.length-1);l=c}if(this.beforeSeekableWindow_(t,a)){var f=t.start(0);l=f+(f===t.end(0)?0:vi)}if(typeof l<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+X1(t)+". Seeking to ")+(l+".")),this.tech_.setCurrentTime(l),!0;for(var h=this.masterPlaylistController_.sourceUpdater_,g=this.tech_.buffered(),v=h.audioBuffer?h.audioBuffered():null,T=h.videoBuffer?h.videoBuffered():null,w=this.media(),D=w.partTargetDuration?w.partTargetDuration:(w.targetDuration-Ya)*2,P=[v,T],R=0;R<P.length;R++)if(!!P[R]){var M=G0(P[R],a);if(M<D)return!1}var U=Ud(g,a);return U.length===0?!1:(l=U.start(0)+vi,this.logger_("Buffered region starts ("+U.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+l+".")),this.tech_.setCurrentTime(l),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),t=this.tech_.buffered(),a=Io(t,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,t)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,l=this.tech_.buffered(),c=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(c)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var f=Ud(l,t);if(f.length>0){var h=f.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+h+", seeking "+("to "+f.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),h*1e3,t),!0}return!1},e.afterSeekableWindow_=function(i,t,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var l=i.end(i.length-1)+vi,c=!a.endList;return c&&s&&(l=i.end(i.length-1)+a.targetDuration*3),t>l},e.beforeSeekableWindow_=function(i,t){return!!(i.length&&i.start(0)>0&&t<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var t=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!t){var l;if(t.length&&a.length){var c=Io(t,s-3),f=Io(t,s),h=Io(a,s);h.length&&!f.length&&c.length&&(l={start:c.end(0),end:h.end(0)})}else{var g=Ud(t,s);g.length||(l=this.gapFromVideoUnderflow_(t,s))}return l?(this.logger_("Encountered a gap in video from "+l.start+" to "+l.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var t=this.tech_.buffered(),a=this.tech_.currentTime(),s=Ud(t,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Ya),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,t){for(var a=GM(i),s=0;s<a.length;s++){var l=a.start(s),c=a.end(s);if(t-l<4&&t-l>2)return{start:l,end:c}}return null},r}(),s8={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},o8=function r(e,n){var i=0,t=0,a=Q.mergeOptions(s8,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},l=function(v){v!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(v),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},c=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){Q.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,l)},f=function g(){e.off("loadedmetadata",s),e.off("error",c),e.off("dispose",g)},h=function(v){f(),r(e,v)};e.on("error",c),e.on("dispose",f),e.reloadSourceOnError=h},u8=function(e){o8(this,e)},Lw="2.16.3",l8="6.0.1",c8="0.22.1",d8="4.8.0",f8="3.1.3",kr={PlaylistLoader:Oo,Playlist:un,utils:b6,STANDARD_PLAYLIST_SELECTOR:rS,INITIAL_PLAYLIST_SELECTOR:lB,lastBandwidthSelector:rS,movingAverageBandwidthSelector:oB,comparePlaylistBandwidth:Q0,comparePlaylistResolution:sB,xhr:cw()};Object.keys(_r).forEach(function(r){Object.defineProperty(kr,r,{get:function(){return Q.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),_r[r]},set:function(n){if(Q.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){Q.log.warn("value of Vhs."+r+" must be greater than or equal to 0");return}_r[r]=n}})});var Rw="videojs-vhs",Nw=function(e,n){for(var i=n.media(),t=-1,a=0;a<e.length;a++)if(e[a].id===i.id){t=a;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},h8=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),Nw(e,n.playlists)};kr.canPlaySource=function(){return Q.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var p8=function(e,n,i){if(!e)return e;var t={};n&&n.attributes&&n.attributes.CODECS&&(t=Vf(di(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(t.audio=i.attributes.CODECS);var a=ql(t.video),s=ql(t.audio),l={};for(var c in e)l[c]={},s&&(l[c].audioContentType=s),a&&(l[c].videoContentType=a),n.contentProtection&&n.contentProtection[c]&&n.contentProtection[c].pssh&&(l[c].pssh=n.contentProtection[c].pssh),typeof e[c]=="string"&&(l[c].url=e[c]);return Q.mergeOptions(e,l)},g8=function(e,n){return e.reduce(function(i,t){if(!t.contentProtection)return i;var a=n.reduce(function(s,l){var c=t.contentProtection[l];return c&&c.pssh&&(s[l]={pssh:c.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},m8=function(e){var n=e.player,i=e.sourceKeySystems,t=e.audioMedia,a=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var s=t?a.concat([t]):a,l=g8(s,Object.keys(i)),c=[],f=[];return l.forEach(function(h){f.push(new Promise(function(g,v){n.tech_.one("keysessioncreated",g)})),c.push(new Promise(function(g,v){n.eme.initializeMediaKeys({keySystems:h},function(T){if(T){v(T);return}g()})}))}),Promise.race([Promise.all(c),Promise.race(f)])},v8=function(e){var n=e.player,i=e.sourceKeySystems,t=e.media,a=e.audioMedia,s=p8(i,t,a);return s?(n.currentSource().keySystems=s,s&&!n.eme?(Q.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Fw=function(){if(!V.localStorage)return null;var e=V.localStorage.getItem(Rw);if(!e)return null;try{return JSON.parse(e)}catch{return null}},_8=function(e){if(!V.localStorage)return!1;var n=Fw();n=n?Q.mergeOptions(n,e):e;try{V.localStorage.setItem(Rw,JSON.stringify(n))}catch{return!1}return n},y8=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};kr.supportsNativeHls=function(){if(!Te||!Te.createElement)return!1;var r=Te.createElement("video");if(!Q.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(r.canPlayType(n))})}();kr.supportsNativeDash=function(){return!Te||!Te.createElement||!Q.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Te.createElement("video").canPlayType("application/dash+xml"))}();kr.supportsTypeNatively=function(r){return r==="hls"?kr.supportsNativeHls:r==="dash"?kr.supportsNativeDash:!1};kr.isSupported=function(){return Q.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var b8=Q.getComponent("Component"),e_=function(r){Ae(e,r);function e(i,t,a){var s;if(s=r.call(this,t,Q.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&Q.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=ei("VhsHandler"),t.options_&&t.options_.playerId){var l=Q(t.options_.playerId);l.hasOwnProperty("hls")||Object.defineProperty(l,"hls",{get:function(){return Q.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),tt(s)},configurable:!0}),l.hasOwnProperty("vhs")||Object.defineProperty(l,"vhs",{get:function(){return Q.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),tt(s)},configurable:!0}),l.hasOwnProperty("dash")||Object.defineProperty(l,"dash",{get:function(){return Q.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),tt(s)},configurable:!0}),s.player_=l}if(s.tech_=t,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(Te,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(c){var f=Te.fullscreenElement||Te.webkitFullscreenElement||Te.mozFullScreenElement||Te.msFullscreenElement;f&&f.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var n=e.prototype;return n.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=Fw();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=_r.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===_r.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]<"u"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(t,a){var s=this;if(!!t){this.setOptions_(),this.options_.src=y8(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=kr,this.options_.sourceType=X2(a),this.options_.seekTo=function(f){s.tech_.setCurrentTime(f)},this.options_.smoothQualityChange&&Q.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new t8(this.options_);var l=Q.mergeOptions({liveRangeSafeTimeDelta:vi},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new a8(l),this.masterPlaylistController_.on("error",function(){var f=Q.players[s.tech_.options_.playerId],h=s.masterPlaylistController_.error;typeof h=="object"&&!h.code?h.code=3:typeof h=="string"&&(h={message:h,code:3}),f.error(h)});var c=this.options_.experimentalBufferBasedABR?kr.movingAverageBandwidthSelector(.55):kr.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):c.bind(this),this.masterPlaylistController_.selectInitialPlaylist=kr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(h){this.masterPlaylistController_.selectPlaylist=h.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(h){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=h,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var h=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,g=V.navigator.connection||V.navigator.mozConnection||V.navigator.webkitConnection,v=1e7;if(this.options_.useNetworkInformationApi&&g){var T=g.downlink*1e3*1e3;T>=v&&h>=v?h=Math.max(h,T):h=T}return h},set:function(h){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=h,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var h=1/(this.bandwidth||1),g;this.throughput>0?g=1/this.throughput:g=0;var v=Math.floor(1/(h+g));return v},set:function(){Q.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return ks(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ks(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&_8({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){i8(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=V.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),m8({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){t.logger_("error while creating EME key session",s),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=v8({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(l){if(l.status==="output-restricted"){var c=t.masterPlaylistController_.master();if(!(!c||!c.playlists)){var f=[];if(c.playlists.forEach(function(g){g&&g.attributes&&g.attributes.RESOLUTION&&g.attributes.RESOLUTION.height>=720&&(!g.excludeUntil||g.excludeUntil<1/0)&&(g.excludeUntil=1/0,f.push(g))}),f.length){var h;(h=Q.log).warn.apply(h,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(f)),t.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),Q.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},n.setupQualityLevels_=function(){var t=this,a=Q.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){h8(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){Nw(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":Lw,"mux.js":l8,"mpd-parser":c8,"m3u8-parser":d8,"aes-decrypter":f8}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return Ow.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&V.URL.revokeObjectURL&&(V.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},n.convertToProgramTime=function(t,a){return A6({playlist:this.masterPlaylistController_.media(),time:t,callback:a})},n.seekToProgramTime=function(t,a,s,l){return s===void 0&&(s=!0),l===void 0&&(l=2),k6({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:l,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(b8),Zl={name:"videojs-http-streaming",VERSION:Lw,canHandleSource:function(e,n){n===void 0&&(n={});var i=Q.mergeOptions(Q.options,n);return Zl.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var t=Q.mergeOptions(Q.options,i);return n.vhs=new e_(e,n,t),Q.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return Q.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=cw(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){var i=X2(e);if(!i)return"";var t=Zl.getOverrideNative(n),a=kr.supportsTypeNatively(i),s=!a||t;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var n=e,i=n.vhs,t=i===void 0?{}:i,a=n.hls,s=a===void 0?{}:a,l=!(Q.browser.IS_ANY_SAFARI||Q.browser.IS_IOS),c=t.overrideNative,f=c===void 0?l:c,h=s.overrideNative,g=h===void 0?!1:h;return g||f}},T8=function(){return Zd("avc1.4d400d,mp4a.40.2")};T8()&&Q.getTech("Html5").registerSourceHandler(Zl,0);Q.VhsHandler=e_;Object.defineProperty(Q,"HlsHandler",{get:function(){return Q.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),e_},configurable:!0});Q.VhsSourceHandler=Zl;Object.defineProperty(Q,"HlsSourceHandler",{get:function(){return Q.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Zl},configurable:!0});Q.Vhs=kr;Object.defineProperty(Q,"Hls",{get:function(){return Q.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),kr},configurable:!0});Q.use||(Q.registerComponent("Hls",kr),Q.registerComponent("Vhs",kr));Q.options.vhs=Q.options.vhs||{};Q.options.hls=Q.options.hls||{};if(!Q.getPlugin||!Q.getPlugin("reloadSourceOnError")){var S8=Q.registerPlugin||Q.plugin;S8("reloadSourceOnError",u8)}function Zg(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(i=Object.getOwnPropertySymbols(r);t<i.length;t++)e.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(r,i[t])&&(n[i[t]]=r[i[t]])}return n}var x8={src:{type:String,onChange:function(r,e){return r.src(e)}},width:{type:Number,onChange:function(r,e){return r.width(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.width())})}},height:{type:Number,onChange:function(r,e){return r.height(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.height())})}},preload:{type:String,onChange:function(r,e){return r.preload(e)}},loop:{type:Boolean,onChange:function(r,e){return r.loop(e)}},muted:{type:Boolean,onChange:function(r,e){return r.muted(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.muted())})}},poster:{type:String,onChange:function(r,e){return r.poster(e)},onEvent:function(r,e){return r.on("posterchange",function(){return e(r.poster())})}},controls:{type:Boolean,onChange:function(r,e){return r.controls(e)},onEvent:function(r,e){r.on("controlsenabled",function(){return e(!0)}),r.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(r,e){return r.autoplay(e)}},crossorigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}},playsInline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}}},E8={id:{type:String},sources:{type:Array,onChange:function(r,e){return r.src(e)}},tracks:{type:Array,onChange:function(r,e){for(var n=r.remoteTextTracks(),i=(n==null?void 0:n.length)||0;i--;)r.removeRemoteTextTrack(n[i]);r.ready(function(){e.forEach(function(t){return r.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(r,e){return r.textTrackSettings.options(e)}},language:{type:String,onChange:function(r,e){return r.language(e)},onEvent:function(r,e){return r.on("languagechange",function(){return e(r.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(r,e){return r.playbackRates(e!=null?e:[])},onEvent:function(r,e){r.on("playbackrateschange",function(){return e(r.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(r,e){return r.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(r,e){return r.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(r,e){return r.responsive(e)}},breakpoints:{type:Object,onChange:function(r,e){return r.breakpoints(e)}},fluid:{type:Boolean,onChange:function(r,e){return r.fluid(e)}},fill:{type:Boolean,onChange:function(r,e){return r.fill(e)}},aspectRatio:{type:String,onChange:function(r,e){return r.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(r,e){return r.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},w8={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(r,e){return r.controlBar.options(e)}}},C8={html5:{type:Object}},A8={volume:{type:Number,onChange:function(r,e){return r.volume(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.volume())})}},playbackRate:{type:Number,onChange:function(r,e){r.playbackRate(e),r.defaultPlaybackRate(e)},onEvent:function(r,e){r.on("ratechange",function(){e(r.playbackRate())})}},options:{type:Object}},ec=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},x8),E8),w8),C8),A8),t_=Object.keys(ec),Mw=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),Bw=Object.keys(Mw);Object.values(Mw);var em=function(r){var e,n=r==null?void 0:r.trim().replace(/\s+/g," ");return n&&(e=n.split(" "))!==null&&e!==void 0?e:[]},tm={src:{getter:function(r){return r.src()}},currentSrc:{getter:function(r){return r.currentSrc()}},currentSource:{getter:function(r){return r.currentSource()}},width:{events:["resize","playerresize"],getter:function(r){return r.width()}},height:{events:["resize","playerresize"],getter:function(r){return r.height()}},currentWidth:{events:["resize","playerresize"],getter:function(r){return r.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(r){return r.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(r){return r.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(r){return r.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(r){return r.controls()}},volume:{events:["volumechange"],getter:function(r){return r.volume()}},muted:{events:["volumechange"],getter:function(r){return r.muted()}},poster:{events:["posterchange"],getter:function(r){return r.poster()}},seeking:{events:["seeking"],getter:function(r){return r.seeking()}},paused:{events:["pause","play","playing"],getter:function(r){return r.paused()}},ended:{events:["ended","play"],getter:function(r){return r.ended()}},currentTime:{events:["timeupdate"],getter:function(r){return r.currentTime()}},duration:{events:["durationchange"],getter:function(r){return r.duration()}},playbackRate:{events:["ratechange"],getter:function(r){return r.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(r){return r.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(r){return r.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(r){return r.isInPictureInPicture()}},isLive:{getter:function(r){var e;return(e=r.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(r){return r.language()}},userActive:{events:["useractive","userinactive"],getter:function(r){return r.userActive()}},readyState:{events:["loadeddata"],getter:function(r){return r.readyState()}},networkState:{events:["loadeddata","error"],getter:function(r){return r.networkState()}},error:{events:["loadeddata","error"],getter:function(r){return r.error()}},buffered:{events:["progress"],getter:function(r){return r.buffered()}},bufferedPercent:{events:["progress"],getter:function(r){return r.bufferedPercent()}},played:{events:["timeupdate"],getter:function(r){return r.played()}},seekable:{events:["progress","seeked"],getter:function(r){return r.seekable()}},audioTracks:{getter:function(r){var e;return(e=r.audioTracks)===null||e===void 0?void 0:e.call(r)}},videoTracks:{getter:function(r){var e;return(e=r.videoTracks)===null||e===void 0?void 0:e.call(r)}},textTracks:{getter:function(r){var e;return(e=r.textTracks)===null||e===void 0?void 0:e.call(r)}}},Uw=t_.filter(function(r){return Boolean(ec[r].onEvent)}),jw=function(r){return"update:"+r},k8=Bw.concat(Uw.map(jw)),D8=t_.reduce(function(r,e){var n,i=ec[e],t=Array.isArray(i.type)?i.type:[i.type],a=Object.assign({},i);return t.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},r),((n={})[e]=a,n))},{}),af=sc({name:"VueVideoPlayer",props:Object.assign(Object.assign({},D8),{class:[String,Object,Array]}),emits:k8.concat(["mounted"],["unmounted"]),setup:function(r,e){var n=nt(r),i=n.class,t=Zg(n,["class"]),a=Vd(!1),s=Vd(null),l=Vd(null),c=jr(function(){return l.value?l.value.player:null}),f=Fn(null),h=jr(function(){return f.value?Ho(f.value):null});return uc(function(){var g,v=function(T){var w,D=T.props,P=T.element,R=T.className,M=T.onEvent,U=D.options;U===void 0&&(U={});var j=Zg(D,["options"]),J={};Object.keys(j).forEach(function(le){var Be=j[le];Be!==void 0&&(J[le]=Be)});var te=Object.assign(Object.assign({},J),U),$=te.volume,H=te.playbackRate,X=Zg(te,["volume","playbackRate"]),K=Object.assign(Object.assign({},X),{playsinline:(w=X.playsinline)!==null&&w!==void 0?w:X.playsInline}),ee=Q(P,K,function(){var le=this;Bw.forEach(function(Be){le.on(Be,function(je){M(Be,je)})}),X.src&&!X.sources&&this.src(X.src),$&&Number.isFinite($)&&this.volume($),H&&Number.isFinite(H)&&(this.defaultPlaybackRate(H),setTimeout(function(){le.playbackRate(H)},0))});R&&em(R).map(function(le){return ee.addClass(le)});var Z=function(le){var Be;(Be=ee.options)===null||Be===void 0||Be.call(ee,le!=null?le:{})};return{player:ee,dispose:function(){return ee.dispose()},updateClassNames:function(le,Be){em(le).map(function(je){return ee.removeClass(je)}),em(Be).map(function(je){return ee.addClass(je)})},updateOptions:Z,updatePropOption:function(le,Be){var je,De,me;Z(((je={})[le]=Be,je)),(me=(De=ec[le])===null||De===void 0?void 0:De.onChange)===null||me===void 0||me.call(De,ee,Be)}}}({element:s.value,props:t,onEvent:e.emit});g={player:v.player,onEvent:e.emit},Uw.forEach(function(T){var w,D;(D=(w=ec[T])===null||w===void 0?void 0:w.onEvent)===null||D===void 0||D.call(w,g.player,function(P){g.onEvent(jw(T),P)})}),Gn(function(){return r.class},function(T,w){var D=Ro(w),P=Ro(T);v.updateClassNames(D,P)},{immediate:!0}),Gn(function(){return r.options},function(T){return v.updateOptions(T!=null?T:{})},{deep:!0}),t_.filter(function(T){return T!=="options"}).forEach(function(T){Gn(function(){return r[T]},function(w){return v.updatePropOption(T,w)},{deep:!0})}),function(T,w){var D=Object.keys(tm),P=D.reduce(function(M,U){var j;return Object.assign(Object.assign({},M),((j={})[U]=tm[U].getter(T),j))},{playing:!1,waiting:!1}),R=function(M,U){P[M]=U,w.onUpdate(M,U,Object.assign({},P))};T.on(["pause","ended"],function(){R("playing",!1)}),T.on(["play","playing"],function(){R("playing",!0)}),T.on("waiting",function(){R("waiting",!0);var M=T.currentTime(),U=function(){M!==T.currentTime()&&(R("waiting",!1),T.off("timeupdate",U))};T.on("timeupdate",U)}),D.forEach(function(M){var U,j=tm[M];T.on(["loadstart","loadedmetadata"].concat((U=j.events)!==null&&U!==void 0?U:[]),function(){R(M,j.getter(T))})}),w.onInit(Object.assign({},P))}(v.player,{onInit:function(T){f.value=T},onUpdate:function(T,w){f.value&&(f.value[T]=w)}}),l.value=v,a.value=!0,e.emit("mounted",{video:s.value,player:c.value,state:h.value})}),nh(function(){l.value&&(l.value.dispose(),l.value=null,f.value=null,e.emit("unmounted"))}),function(){var g,v;return Ul("div",{"data-vjs-player":"",class:Ro(i)},[Ul("video",{class:["video-js","v-video-player"],ref:s}),a.value&&((v=(g=e.slots).default)===null||v===void 0?void 0:v.call(g,{video:s.value,player:c.value,state:h.value}))])}}}),P8=function(r){r.component("VideoPlayer",af),r.component(af.name,af)},I8={VideoPlayer:af,install:P8};const O8=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function $w(){const e=document.documentElement.clientWidth||document.body.clientWidth;document.documentElement.style.fontSize=e/390*100+"px"}$w();window.onresize=$w;const{VITE_GOOGLE_ID:L8}={VITE_USER_NODE_ENV:"test",VITE_API_URL:"https://test-api-mate.flyai.com",VITE_URL_URL:"https://test-mate.flyai.com/",VITE_GOOGLE_ID:"742137325913-j6tn2dk96v128bl7ocuf1j633nmkih8r.apps.googleusercontent.com",VITE_SENSORS:"MateLink_test",BASE_URL:"./",MODE:"test",DEV:!0,PROD:!1},Js=NI(EL);Js.config.globalProperties.$sensors=qv();Js.config.globalProperties.$isMobile=O8;const Hw=JI();Hw.use(h5);Js.use(Hw);Js.use(Wv);Js.use(_5,{clientId:L8});Js.use(I8);Js.mount("#app");export{XD as $,r4 as A,B8 as B,Ro as C,J8 as D,Xf as E,sn as F,t4 as G,H8 as H,Lv as I,U8 as J,$8 as K,Ho as L,QD as M,nh as N,z8 as O,Ix as P,lf as Q,Cv as R,Yn as S,q8 as T,$P as U,j8 as V,uI as W,hr as X,Hs as Y,V8 as Z,xL as _,nc as a,JD as a0,N2 as a1,tO as a2,Vd as a3,Y8 as a4,lc as a5,ZD as a6,Dv as a7,Cs as a8,K8 as a9,d5 as aa,Vl as ab,Q8 as ac,e4 as ad,Z8 as ae,W8 as af,l5 as b,jr as c,sc as d,ah as e,FP as f,f5 as g,Ul as h,ln as i,$r as j,MD as k,Cx as l,vr as m,N8 as n,uc as o,Gd as p,G8 as q,Fn as r,zs as s,dg as t,X8 as u,F8 as v,Gn as w,M8 as x,jP as y,m5 as z};
