(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kg(r,e){const i=new Set(r.split(","));return e?n=>i.has(n.toLowerCase()):n=>i.has(n)}const It={},Ks=[],ci=()=>{},vC=()=>!1,Rd=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Dg=r=>r.startsWith("onUpdate:"),Xt=Object.assign,Pg=(r,e)=>{const i=r.indexOf(e);i>-1&&r.splice(i,1)},_C=Object.prototype.hasOwnProperty,ht=(r,e)=>_C.call(r,e),Ke=Array.isArray,Xs=r=>hl(r)==="[object Map]",tb=r=>hl(r)==="[object Set]",yC=r=>hl(r)==="[object RegExp]",tt=r=>typeof r=="function",jt=r=>typeof r=="string",us=r=>typeof r=="symbol",Pt=r=>r!==null&&typeof r=="object",rb=r=>(Pt(r)||tt(r))&&tt(r.then)&&tt(r.catch),ib=Object.prototype.toString,hl=r=>ib.call(r),bC=r=>hl(r).slice(8,-1),nb=r=>hl(r)==="[object Object]",Ig=r=>jt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Lu=kg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nd=r=>{const e=Object.create(null);return i=>e[i]||(e[i]=r(i))},TC=/-(\w)/g,un=Nd(r=>r.replace(TC,(e,i)=>i?i.toUpperCase():"")),SC=/\B([A-Z])/g,So=Nd(r=>r.replace(SC,"-$1").toLowerCase()),Fd=Nd(r=>r.charAt(0).toUpperCase()+r.slice(1)),zh=Nd(r=>r?`on${Fd(r)}`:""),ya=(r,e)=>!Object.is(r,e),Ru=(r,e)=>{for(let i=0;i<r.length;i++)r[i](e)},ab=(r,e,i,n=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:n,value:i})},xC=r=>{const e=parseFloat(r);return isNaN(e)?r:e},EC=r=>{const e=jt(r)?Number(r):NaN;return isNaN(e)?r:e};let T0;const Og=()=>T0||(T0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Md(r){if(Ke(r)){const e={};for(let i=0;i<r.length;i++){const n=r[i],t=jt(n)?kC(n):Md(n);if(t)for(const a in t)e[a]=t[a]}return e}else if(jt(r)||Pt(r))return r}const CC=/;(?![^(]*\))/g,wC=/:([^]+)/,AC=/\/\*[^]*?\*\//g;function kC(r){const e={};return r.replace(AC,"").split(CC).forEach(i=>{if(i){const n=i.split(wC);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Js(r){let e="";if(jt(r))e=r;else if(Ke(r))for(let i=0;i<r.length;i++){const n=Js(r[i]);n&&(e+=n+" ")}else if(Pt(r))for(const i in r)r[i]&&(e+=i+" ");return e.trim()}const DC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",PC=kg(DC);function sb(r){return!!r||r===""}const IR=r=>jt(r)?r:r==null?"":Ke(r)||Pt(r)&&(r.toString===ib||!tt(r.toString))?JSON.stringify(r,ob,2):String(r),ob=(r,e)=>e&&e.__v_isRef?ob(r,e.value):Xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[n,t],a)=>(i[Kh(n,a)+" =>"]=t,i),{})}:tb(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>Kh(i))}:us(e)?Kh(e):Pt(e)&&!Ke(e)&&!nb(e)?String(e):e,Kh=(r,e="")=>{var i;return us(r)?`Symbol(${(i=r.description)!=null?i:e})`:r};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oi;class ub{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=oi,!e&&oi&&(this.index=(oi.scopes||(oi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const i=oi;try{return oi=this,e()}finally{oi=i}}}on(){oi=this}off(){oi=this.parent}stop(e){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function lb(r){return new ub(r)}function IC(r,e=oi){e&&e.active&&e.effects.push(r)}function cb(){return oi}function OC(r){oi&&oi.cleanups.push(r)}let es;class Lg{constructor(e,i,n,t){this.fn=e,this.trigger=i,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,IC(this,t)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,xa();for(let e=0;e<this._depsLength;e++){const i=this.deps[e];if(i.computed&&(LC(i.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ea()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=va,i=es;try{return va=!0,es=this,this._runnings++,S0(this),this.fn()}finally{x0(this),this._runnings--,es=i,va=e}}stop(){this.active&&(S0(this),x0(this),this.onStop&&this.onStop(),this.active=!1)}}function LC(r){return r.value}function S0(r){r._trackId++,r._depsLength=0}function x0(r){if(r.deps.length>r._depsLength){for(let e=r._depsLength;e<r.deps.length;e++)db(r.deps[e],r);r.deps.length=r._depsLength}}function db(r,e){const i=r.get(e);i!==void 0&&e._trackId!==i&&(r.delete(e),r.size===0&&r.cleanup())}let va=!0,Lp=0;const fb=[];function xa(){fb.push(va),va=!1}function Ea(){const r=fb.pop();va=r===void 0?!0:r}function Rg(){Lp++}function Ng(){for(Lp--;!Lp&&Rp.length;)Rp.shift()()}function hb(r,e,i){if(e.get(r)!==r._trackId){e.set(r,r._trackId);const n=r.deps[r._depsLength];n!==e?(n&&db(n,r),r.deps[r._depsLength++]=e):r._depsLength++}}const Rp=[];function pb(r,e,i){Rg();for(const n of r.keys()){let t;n._dirtyLevel<e&&(t!=null?t:t=r.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(t!=null?t:t=r.get(n)===n._trackId)&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Rp.push(n.scheduler)))}Ng()}const gb=(r,e)=>{const i=new Map;return i.cleanup=r,i.computed=e,i},id=new WeakMap,ts=Symbol(""),Np=Symbol("");function Qr(r,e,i){if(va&&es){let n=id.get(r);n||id.set(r,n=new Map);let t=n.get(i);t||n.set(i,t=gb(()=>n.delete(i))),hb(es,t)}}function kn(r,e,i,n,t,a){const s=id.get(r);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(i==="length"&&Ke(r)){const d=Number(n);s.forEach((f,p)=>{(p==="length"||!us(p)&&p>=d)&&l.push(f)})}else switch(i!==void 0&&l.push(s.get(i)),e){case"add":Ke(r)?Ig(i)&&l.push(s.get("length")):(l.push(s.get(ts)),Xs(r)&&l.push(s.get(Np)));break;case"delete":Ke(r)||(l.push(s.get(ts)),Xs(r)&&l.push(s.get(Np)));break;case"set":Xs(r)&&l.push(s.get(ts));break}Rg();for(const d of l)d&&pb(d,4);Ng()}function RC(r,e){const i=id.get(r);return i&&i.get(e)}const NC=kg("__proto__,__v_isRef,__isVue"),mb=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(us)),E0=FC();function FC(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...i){const n=dt(this);for(let a=0,s=this.length;a<s;a++)Qr(n,"get",a+"");const t=n[e](...i);return t===-1||t===!1?n[e](...i.map(dt)):t}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...i){xa(),Rg();const n=dt(this)[e].apply(this,i);return Ng(),Ea(),n}}),r}function MC(r){us(r)||(r=String(r));const e=dt(this);return Qr(e,"has",r),e.hasOwnProperty(r)}class vb{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,n){const t=this._isReadonly,a=this._isShallow;if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return a;if(i==="__v_raw")return n===(t?a?JC:Tb:a?bb:yb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=Ke(e);if(!t){if(s&&ht(E0,i))return Reflect.get(E0,i,n);if(i==="hasOwnProperty")return MC}const l=Reflect.get(e,i,n);return(us(i)?mb.has(i):NC(i))||(t||Qr(e,"get",i),a)?l:er(l)?s&&Ig(i)?l:l.value:Pt(l)?t?io(l):pl(l):l}}class _b extends vb{constructor(e=!1){super(!1,e)}set(e,i,n,t){let a=e[i];if(!this._isShallow){const d=Wu(a);if(!nd(n)&&!Wu(n)&&(a=dt(a),n=dt(n)),!Ke(e)&&er(a)&&!er(n))return d?!1:(a.value=n,!0)}const s=Ke(e)&&Ig(i)?Number(i)<e.length:ht(e,i),l=Reflect.set(e,i,n,t);return e===dt(t)&&(s?ya(n,a)&&kn(e,"set",i,n):kn(e,"add",i,n)),l}deleteProperty(e,i){const n=ht(e,i);e[i];const t=Reflect.deleteProperty(e,i);return t&&n&&kn(e,"delete",i,void 0),t}has(e,i){const n=Reflect.has(e,i);return(!us(i)||!mb.has(i))&&Qr(e,"has",i),n}ownKeys(e){return Qr(e,"iterate",Ke(e)?"length":ts),Reflect.ownKeys(e)}}class BC extends vb{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const UC=new _b,jC=new BC,HC=new _b(!0);const Fg=r=>r,Bd=r=>Reflect.getPrototypeOf(r);function Ec(r,e,i=!1,n=!1){r=r.__v_raw;const t=dt(r),a=dt(e);i||(ya(e,a)&&Qr(t,"get",e),Qr(t,"get",a));const{has:s}=Bd(t),l=n?Fg:i?jg:Gu;if(s.call(t,e))return l(r.get(e));if(s.call(t,a))return l(r.get(a));r!==t&&r.get(e)}function Cc(r,e=!1){const i=this.__v_raw,n=dt(i),t=dt(r);return e||(ya(r,t)&&Qr(n,"has",r),Qr(n,"has",t)),r===t?i.has(r):i.has(r)||i.has(t)}function wc(r,e=!1){return r=r.__v_raw,!e&&Qr(dt(r),"iterate",ts),Reflect.get(r,"size",r)}function C0(r){r=dt(r);const e=dt(this);return Bd(e).has.call(e,r)||(e.add(r),kn(e,"add",r,r)),this}function w0(r,e){e=dt(e);const i=dt(this),{has:n,get:t}=Bd(i);let a=n.call(i,r);a||(r=dt(r),a=n.call(i,r));const s=t.call(i,r);return i.set(r,e),a?ya(e,s)&&kn(i,"set",r,e):kn(i,"add",r,e),this}function A0(r){const e=dt(this),{has:i,get:n}=Bd(e);let t=i.call(e,r);t||(r=dt(r),t=i.call(e,r)),n&&n.call(e,r);const a=e.delete(r);return t&&kn(e,"delete",r,void 0),a}function k0(){const r=dt(this),e=r.size!==0,i=r.clear();return e&&kn(r,"clear",void 0,void 0),i}function Ac(r,e){return function(n,t){const a=this,s=a.__v_raw,l=dt(s),d=e?Fg:r?jg:Gu;return!r&&Qr(l,"iterate",ts),s.forEach((f,p)=>n.call(t,d(f),d(p),a))}}function kc(r,e,i){return function(...n){const t=this.__v_raw,a=dt(t),s=Xs(a),l=r==="entries"||r===Symbol.iterator&&s,d=r==="keys"&&s,f=t[r](...n),p=i?Fg:e?jg:Gu;return!e&&Qr(a,"iterate",d?Np:ts),{next(){const{value:y,done:_}=f.next();return _?{value:y,done:_}:{value:l?[p(y[0]),p(y[1])]:p(y),done:_}},[Symbol.iterator](){return this}}}}function aa(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function VC(){const r={get(a){return Ec(this,a)},get size(){return wc(this)},has:Cc,add:C0,set:w0,delete:A0,clear:k0,forEach:Ac(!1,!1)},e={get(a){return Ec(this,a,!1,!0)},get size(){return wc(this)},has:Cc,add:C0,set:w0,delete:A0,clear:k0,forEach:Ac(!1,!0)},i={get(a){return Ec(this,a,!0)},get size(){return wc(this,!0)},has(a){return Cc.call(this,a,!0)},add:aa("add"),set:aa("set"),delete:aa("delete"),clear:aa("clear"),forEach:Ac(!0,!1)},n={get(a){return Ec(this,a,!0,!0)},get size(){return wc(this,!0)},has(a){return Cc.call(this,a,!0)},add:aa("add"),set:aa("set"),delete:aa("delete"),clear:aa("clear"),forEach:Ac(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=kc(a,!1,!1),i[a]=kc(a,!0,!1),e[a]=kc(a,!1,!0),n[a]=kc(a,!0,!0)}),[r,i,e,n]}const[qC,$C,WC,GC]=VC();function Mg(r,e){const i=e?r?GC:WC:r?$C:qC;return(n,t,a)=>t==="__v_isReactive"?!r:t==="__v_isReadonly"?r:t==="__v_raw"?n:Reflect.get(ht(i,t)&&t in n?i:n,t,a)}const zC={get:Mg(!1,!1)},KC={get:Mg(!1,!0)},XC={get:Mg(!0,!1)};const yb=new WeakMap,bb=new WeakMap,Tb=new WeakMap,JC=new WeakMap;function YC(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function QC(r){return r.__v_skip||!Object.isExtensible(r)?0:YC(bC(r))}function pl(r){return Wu(r)?r:Bg(r,!1,UC,zC,yb)}function Sb(r){return Bg(r,!1,HC,KC,bb)}function io(r){return Bg(r,!0,jC,XC,Tb)}function Bg(r,e,i,n,t){if(!Pt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const a=t.get(r);if(a)return a;const s=QC(r);if(s===0)return r;const l=new Proxy(r,s===2?n:i);return t.set(r,l),l}function rs(r){return Wu(r)?rs(r.__v_raw):!!(r&&r.__v_isReactive)}function Wu(r){return!!(r&&r.__v_isReadonly)}function nd(r){return!!(r&&r.__v_isShallow)}function xb(r){return r?!!r.__v_raw:!1}function dt(r){const e=r&&r.__v_raw;return e?dt(e):r}function Ug(r){return Object.isExtensible(r)&&ab(r,"__v_skip",!0),r}const Gu=r=>Pt(r)?pl(r):r,jg=r=>Pt(r)?io(r):r;class Eb{constructor(e,i,n,t){this.getter=e,this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Lg(()=>e(this._value),()=>$c(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=n}get value(){const e=dt(this);return(!e._cacheable||e.effect.dirty)&&ya(e._value,e._value=e.effect.run())&&$c(e,4),Cb(e),e.effect._dirtyLevel>=2&&$c(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function ZC(r,e,i=!1){let n,t;const a=tt(r);return a?(n=r,t=ci):(n=r.get,t=r.set),new Eb(n,t,a||!t,i)}function Cb(r){var e;va&&es&&(r=dt(r),hb(es,(e=r.dep)!=null?e:r.dep=gb(()=>r.dep=void 0,r instanceof Eb?r:void 0)))}function $c(r,e=4,i){r=dt(r);const n=r.dep;n&&pb(n,e)}function er(r){return!!(r&&r.__v_isRef===!0)}function Ui(r){return wb(r,!1)}function Wc(r){return wb(r,!0)}function wb(r,e){return er(r)?r:new ew(r,e)}class ew{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:dt(e),this._value=i?e:Gu(e)}get value(){return Cb(this),this._value}set value(e){const i=this.__v_isShallow||nd(e)||Wu(e);e=i?e:dt(e),ya(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:Gu(e),$c(this,4))}}function br(r){return er(r)?r.value:r}const tw={get:(r,e,i)=>br(Reflect.get(r,e,i)),set:(r,e,i,n)=>{const t=r[e];return er(t)&&!er(i)?(t.value=i,!0):Reflect.set(r,e,i,n)}};function Ab(r){return rs(r)?r:new Proxy(r,tw)}function rw(r){const e=Ke(r)?new Array(r.length):{};for(const i in r)e[i]=kb(r,i);return e}class iw{constructor(e,i,n){this._object=e,this._key=i,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return RC(dt(this._object),this._key)}}class nw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function OR(r,e,i){return er(r)?r:tt(r)?new nw(r):Pt(r)&&arguments.length>1?kb(r,e,i):Ui(r)}function kb(r,e,i){const n=r[e];return er(n)?n:new iw(r,e,i)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _a(r,e,i,n){try{return n?r(...n):r()}catch(t){Ud(t,e,i)}}function Ei(r,e,i,n){if(tt(r)){const t=_a(r,e,i,n);return t&&rb(t)&&t.catch(a=>{Ud(a,e,i)}),t}if(Ke(r)){const t=[];for(let a=0;a<r.length;a++)t.push(Ei(r[a],e,i,n));return t}}function Ud(r,e,i,n=!0){const t=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const f=a.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](r,s,l)===!1)return}a=a.parent}const d=e.appContext.config.errorHandler;if(d){xa(),_a(d,null,10,[r,s,l]),Ea();return}}aw(r,i,t,n)}function aw(r,e,i,n=!0){console.error(r)}let zu=!1,Fp=!1;const Pr=[];let Zi=0;const Ys=[];let da=null,Ja=0;const Db=Promise.resolve();let Hg=null;function Vg(r){const e=Hg||Db;return r?e.then(this?r.bind(this):r):e}function sw(r){let e=Zi+1,i=Pr.length;for(;e<i;){const n=e+i>>>1,t=Pr[n],a=Ku(t);a<r||a===r&&t.pre?e=n+1:i=n}return e}function qg(r){(!Pr.length||!Pr.includes(r,zu&&r.allowRecurse?Zi+1:Zi))&&(r.id==null?Pr.push(r):Pr.splice(sw(r.id),0,r),Pb())}function Pb(){!zu&&!Fp&&(Fp=!0,Hg=Db.then(Ob))}function ow(r){const e=Pr.indexOf(r);e>Zi&&Pr.splice(e,1)}function uw(r){Ke(r)?Ys.push(...r):(!da||!da.includes(r,r.allowRecurse?Ja+1:Ja))&&Ys.push(r),Pb()}function D0(r,e,i=zu?Zi+1:0){for(;i<Pr.length;i++){const n=Pr[i];if(n&&n.pre){if(r&&n.id!==r.uid)continue;Pr.splice(i,1),i--,n()}}}function Ib(r){if(Ys.length){const e=[...new Set(Ys)].sort((i,n)=>Ku(i)-Ku(n));if(Ys.length=0,da){da.push(...e);return}for(da=e,Ja=0;Ja<da.length;Ja++)da[Ja]();da=null,Ja=0}}const Ku=r=>r.id==null?1/0:r.id,lw=(r,e)=>{const i=Ku(r)-Ku(e);if(i===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return i};function Ob(r){Fp=!1,zu=!0,Pr.sort(lw);const e=ci;try{for(Zi=0;Zi<Pr.length;Zi++){const i=Pr[Zi];i&&i.active!==!1&&_a(i,null,14)}}finally{Zi=0,Pr.length=0,Ib(),zu=!1,Hg=null,(Pr.length||Ys.length)&&Ob()}}function cw(r,e,...i){if(r.isUnmounted)return;const n=r.vnode.props||It;let t=i;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in n){const p=`${s==="modelValue"?"model":s}Modifiers`,{number:y,trim:_}=n[p]||It;_&&(t=i.map(x=>jt(x)?x.trim():x)),y&&(t=i.map(xC))}let l,d=n[l=zh(e)]||n[l=zh(un(e))];!d&&a&&(d=n[l=zh(So(e))]),d&&Ei(d,r,6,t);const f=n[l+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,Ei(f,r,6,t)}}function Lb(r,e,i=!1){const n=e.emitsCache,t=n.get(r);if(t!==void 0)return t;const a=r.emits;let s={},l=!1;if(!tt(r)){const d=f=>{const p=Lb(f,e,!0);p&&(l=!0,Xt(s,p))};!i&&e.mixins.length&&e.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}return!a&&!l?(Pt(r)&&n.set(r,null),null):(Ke(a)?a.forEach(d=>s[d]=null):Xt(s,a),Pt(r)&&n.set(r,s),s)}function jd(r,e){return!r||!Rd(e)?!1:(e=e.slice(2).replace(/Once$/,""),ht(r,e[0].toLowerCase()+e.slice(1))||ht(r,So(e))||ht(r,e))}let Qt=null,Hd=null;function ad(r){const e=Qt;return Qt=r,Hd=r&&r.type.__scopeId||null,e}function LR(r){Hd=r}function RR(){Hd=null}function dw(r,e=Qt,i){if(!e||r._n)return r;const n=(...t)=>{n._d&&q0(-1);const a=ad(e);let s;try{s=r(...t)}finally{ad(a),n._d&&q0(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Xh(r){const{type:e,vnode:i,proxy:n,withProxy:t,propsOptions:[a],slots:s,attrs:l,emit:d,render:f,renderCache:p,props:y,data:_,setupState:x,ctx:A,inheritAttrs:P}=r,D=ad(r);let R,F;try{if(i.shapeFlag&4){const j=t||n,K=j;R=Yi(f.call(K,j,p,y,x,_,A)),F=l}else{const j=e;R=Yi(j.length>1?j(y,{attrs:l,slots:s,emit:d}):j(y,null)),F=e.props?l:fw(l)}}catch(j){Mu.length=0,Ud(j,r,1),R=Ir(di)}let V=R;if(F&&P!==!1){const j=Object.keys(F),{shapeFlag:K}=V;j.length&&K&7&&(a&&j.some(Dg)&&(F=hw(F,a)),V=On(V,F,!1,!0))}return i.dirs&&(V=On(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(i.dirs):i.dirs),i.transition&&(V.transition=i.transition),R=V,ad(D),R}const fw=r=>{let e;for(const i in r)(i==="class"||i==="style"||Rd(i))&&((e||(e={}))[i]=r[i]);return e},hw=(r,e)=>{const i={};for(const n in r)(!Dg(n)||!(n.slice(9)in e))&&(i[n]=r[n]);return i};function pw(r,e,i){const{props:n,children:t,component:a}=r,{props:s,children:l,patchFlag:d}=e,f=a.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&d>=0){if(d&1024)return!0;if(d&16)return n?P0(n,s,f):!!s;if(d&8){const p=e.dynamicProps;for(let y=0;y<p.length;y++){const _=p[y];if(s[_]!==n[_]&&!jd(f,_))return!0}}}else return(t||l)&&(!l||!l.$stable)?!0:n===s?!1:n?s?P0(n,s,f):!0:!!s;return!1}function P0(r,e,i){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let t=0;t<n.length;t++){const a=n[t];if(e[a]!==r[a]&&!jd(i,a))return!0}return!1}function gw({vnode:r,parent:e},i){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===r&&(n.el=r.el),n===r)(r=e.vnode).el=i,e=e.parent;else break}}const $g="components";function NR(r,e){return Nb($g,r,!0,e)||r}const Rb=Symbol.for("v-ndc");function FR(r){return jt(r)?Nb($g,r,!1)||r:r||Rb}function Nb(r,e,i=!0,n=!1){const t=Qt||dr;if(t){const a=t.type;if(r===$g){const l=$p(a,!1);if(l&&(l===e||l===un(e)||l===Fd(un(e))))return a}const s=I0(t[r]||a[r],e)||I0(t.appContext[r],e);return!s&&n?a:s}}function I0(r,e){return r&&(r[e]||r[un(e)]||r[Fd(un(e))])}const Fb=r=>r.__isSuspense;function mw(r,e){e&&e.pendingBranch?Ke(r)?e.effects.push(...r):e.effects.push(r):uw(r)}const vw=Symbol.for("v-scx"),_w=()=>Yr(vw);function Mb(r,e){return Wg(r,null,e)}const Dc={};function nn(r,e,i){return Wg(r,e,i)}function Wg(r,e,{immediate:i,deep:n,flush:t,once:a,onTrack:s,onTrigger:l}=It){if(e&&a){const Z=e;e=(...Q)=>{Z(...Q),K()}}const d=dr,f=Z=>n===!0?Z:Qa(Z,n===!1?1:void 0);let p,y=!1,_=!1;if(er(r)?(p=()=>r.value,y=nd(r)):rs(r)?(p=()=>f(r),y=!0):Ke(r)?(_=!0,y=r.some(Z=>rs(Z)||nd(Z)),p=()=>r.map(Z=>{if(er(Z))return Z.value;if(rs(Z))return f(Z);if(tt(Z))return _a(Z,d,2)})):tt(r)?e?p=()=>_a(r,d,2):p=()=>(x&&x(),Ei(r,d,3,[A])):p=ci,e&&n){const Z=p;p=()=>Qa(Z())}let x,A=Z=>{x=V.onStop=()=>{_a(Z,d,4),x=V.onStop=void 0}},P;if(Kd)if(A=ci,e?i&&Ei(e,d,3,[p(),_?[]:void 0,A]):p(),t==="sync"){const Z=_w();P=Z.__watcherHandles||(Z.__watcherHandles=[])}else return ci;let D=_?new Array(r.length).fill(Dc):Dc;const R=()=>{if(!(!V.active||!V.dirty))if(e){const Z=V.run();(n||y||(_?Z.some((Q,U)=>ya(Q,D[U])):ya(Z,D)))&&(x&&x(),Ei(e,d,3,[Z,D===Dc?void 0:_&&D[0]===Dc?[]:D,A]),D=Z)}else V.run()};R.allowRecurse=!!e;let F;t==="sync"?F=R:t==="post"?F=()=>yr(R,d&&d.suspense):(R.pre=!0,d&&(R.id=d.uid),F=()=>qg(R));const V=new Lg(p,ci,F),j=cb(),K=()=>{V.stop(),j&&Pg(j.effects,V)};return e?i?R():D=V.run():t==="post"?yr(V.run.bind(V),d&&d.suspense):V.run(),P&&P.push(K),K}function yw(r,e,i){const n=this.proxy,t=jt(r)?r.includes(".")?Bb(n,r):()=>n[r]:r.bind(n,n);let a;tt(e)?a=e:(a=e.handler,i=e);const s=vl(this),l=Wg(t,a.bind(n),i);return s(),l}function Bb(r,e){const i=e.split(".");return()=>{let n=r;for(let t=0;t<i.length&&n;t++)n=n[i[t]];return n}}function Qa(r,e=1/0,i){if(e<=0||!Pt(r)||r.__v_skip||(i=i||new Set,i.has(r)))return r;if(i.add(r),e--,er(r))Qa(r.value,e,i);else if(Ke(r))for(let n=0;n<r.length;n++)Qa(r[n],e,i);else if(tb(r)||Xs(r))r.forEach(n=>{Qa(n,e,i)});else if(nb(r))for(const n in r)Qa(r[n],e,i);return r}function MR(r,e){if(Qt===null)return r;const i=Xd(Qt)||Qt.proxy,n=r.dirs||(r.dirs=[]);for(let t=0;t<e.length;t++){let[a,s,l,d=It]=e[t];a&&(tt(a)&&(a={mounted:a,updated:a}),a.deep&&Qa(s),n.push({dir:a,instance:i,value:s,oldValue:void 0,arg:l,modifiers:d}))}return r}function Wa(r,e,i,n){const t=r.dirs,a=e&&e.dirs;for(let s=0;s<t.length;s++){const l=t[s];a&&(l.oldValue=a[s].value);let d=l.dir[n];d&&(xa(),Ei(d,i,8,[r.el,l,r,e]),Ea())}}const fa=Symbol("_leaveCb"),Pc=Symbol("_enterCb");function Ub(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ml(()=>{r.isMounted=!0}),$d(()=>{r.isUnmounting=!0}),r}const Ti=[Function,Array],jb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ti,onEnter:Ti,onAfterEnter:Ti,onEnterCancelled:Ti,onBeforeLeave:Ti,onLeave:Ti,onAfterLeave:Ti,onLeaveCancelled:Ti,onBeforeAppear:Ti,onAppear:Ti,onAfterAppear:Ti,onAppearCancelled:Ti},bw={name:"BaseTransition",props:jb,setup(r,{slots:e}){const i=Zg(),n=Ub();return()=>{const t=e.default&&Gg(e.default(),!0);if(!t||!t.length)return;let a=t[0];if(t.length>1){for(const _ of t)if(_.type!==di){a=_;break}}const s=dt(r),{mode:l}=s;if(n.isLeaving)return Jh(a);const d=O0(a);if(!d)return Jh(a);const f=Xu(d,s,n,i);no(d,f);const p=i.subTree,y=p&&O0(p);if(y&&y.type!==di&&!ma(d,y)){const _=Xu(y,s,n,i);if(no(y,_),l==="out-in"&&d.type!==di)return n.isLeaving=!0,_.afterLeave=()=>{n.isLeaving=!1,i.update.active!==!1&&(i.effect.dirty=!0,i.update())},Jh(a);l==="in-out"&&d.type!==di&&(_.delayLeave=(x,A,P)=>{const D=Hb(n,y);D[String(y.key)]=y,x[fa]=()=>{A(),x[fa]=void 0,delete f.delayedLeave},f.delayedLeave=P})}return a}}},Tw=bw;function Hb(r,e){const{leavingVNodes:i}=r;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function Xu(r,e,i,n){const{appear:t,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:y,onLeave:_,onAfterLeave:x,onLeaveCancelled:A,onBeforeAppear:P,onAppear:D,onAfterAppear:R,onAppearCancelled:F}=e,V=String(r.key),j=Hb(i,r),K=(U,z)=>{U&&Ei(U,n,9,z)},Z=(U,z)=>{const Y=z[1];K(U,z),Ke(U)?U.every(ae=>ae.length<=1)&&Y():U.length<=1&&Y()},Q={mode:a,persisted:s,beforeEnter(U){let z=l;if(!i.isMounted)if(t)z=P||l;else return;U[fa]&&U[fa](!0);const Y=j[V];Y&&ma(r,Y)&&Y.el[fa]&&Y.el[fa](),K(z,[U])},enter(U){let z=d,Y=f,ae=p;if(!i.isMounted)if(t)z=D||d,Y=R||f,ae=F||p;else return;let te=!1;const le=U[Pc]=Ne=>{te||(te=!0,Ne?K(ae,[U]):K(Y,[U]),Q.delayedLeave&&Q.delayedLeave(),U[Pc]=void 0)};z?Z(z,[U,le]):le()},leave(U,z){const Y=String(r.key);if(U[Pc]&&U[Pc](!0),i.isUnmounting)return z();K(y,[U]);let ae=!1;const te=U[fa]=le=>{ae||(ae=!0,z(),le?K(A,[U]):K(x,[U]),U[fa]=void 0,j[Y]===r&&delete j[Y])};j[Y]=r,_?Z(_,[U,te]):te()},clone(U){return Xu(U,e,i,n)}};return Q}function Jh(r){if(Vd(r))return r=On(r),r.children=null,r}function O0(r){if(!Vd(r))return r;const{shapeFlag:e,children:i}=r;if(i){if(e&16)return i[0];if(e&32&&tt(i.default))return i.default()}}function no(r,e){r.shapeFlag&6&&r.component?no(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Gg(r,e=!1,i){let n=[],t=0;for(let a=0;a<r.length;a++){let s=r[a];const l=i==null?s.key:String(i)+String(s.key!=null?s.key:a);s.type===ui?(s.patchFlag&128&&t++,n=n.concat(Gg(s.children,e,l))):(e||s.type!==di)&&n.push(l!=null?On(s,{key:l}):s)}if(t>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function gl(r,e){return tt(r)?(()=>Xt({name:r.name},e,{setup:r}))():r}const Qs=r=>!!r.type.__asyncLoader,Vd=r=>r.type.__isKeepAlive,Sw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:e}){const i=Zg(),n=i.ctx;if(!n.renderer)return()=>{const F=e.default&&e.default();return F&&F.length===1?F[0]:F};const t=new Map,a=new Set;let s=null;const l=i.suspense,{renderer:{p:d,m:f,um:p,o:{createElement:y}}}=n,_=y("div");n.activate=(F,V,j,K,Z)=>{const Q=F.component;f(F,V,j,0,l),d(Q.vnode,F,V,j,Q,l,K,F.slotScopeIds,Z),yr(()=>{Q.isDeactivated=!1,Q.a&&Ru(Q.a);const U=F.props&&F.props.onVnodeMounted;U&&xi(U,Q.parent,F)},l)},n.deactivate=F=>{const V=F.component;f(F,_,null,1,l),yr(()=>{V.da&&Ru(V.da);const j=F.props&&F.props.onVnodeUnmounted;j&&xi(j,V.parent,F),V.isDeactivated=!0},l)};function x(F){Yh(F),p(F,i,l,!0)}function A(F){t.forEach((V,j)=>{const K=$p(V.type);K&&(!F||!F(K))&&P(j)})}function P(F){const V=t.get(F);!s||!ma(V,s)?x(V):s&&Yh(s),t.delete(F),a.delete(F)}nn(()=>[r.include,r.exclude],([F,V])=>{F&&A(j=>Cu(F,j)),V&&A(j=>!Cu(V,j))},{flush:"post",deep:!0});let D=null;const R=()=>{D!=null&&t.set(D,Qh(i.subTree))};return ml(R),zg(R),$d(()=>{t.forEach(F=>{const{subTree:V,suspense:j}=i,K=Qh(V);if(F.type===K.type&&F.key===K.key){Yh(K);const Z=K.component.da;Z&&yr(Z,j);return}x(F)})}),()=>{if(D=null,!e.default)return null;const F=e.default(),V=F[0];if(F.length>1)return s=null,F;if(!Yu(V)||!(V.shapeFlag&4)&&!(V.shapeFlag&128))return s=null,V;let j=Qh(V);const K=j.type,Z=$p(Qs(j)?j.type.__asyncResolved||{}:K),{include:Q,exclude:U,max:z}=r;if(Q&&(!Z||!Cu(Q,Z))||U&&Z&&Cu(U,Z))return s=j,V;const Y=j.key==null?K:j.key,ae=t.get(Y);return j.el&&(j=On(j),V.shapeFlag&128&&(V.ssContent=j)),D=Y,ae?(j.el=ae.el,j.component=ae.component,j.transition&&no(j,j.transition),j.shapeFlag|=512,a.delete(Y),a.add(Y)):(a.add(Y),z&&a.size>parseInt(z,10)&&P(a.values().next().value)),j.shapeFlag|=256,s=j,Fb(V.type)?V:j}}},BR=Sw;function Cu(r,e){return Ke(r)?r.some(i=>Cu(i,e)):jt(r)?r.split(",").includes(e):yC(r)?r.test(e):!1}function xw(r,e){Vb(r,"a",e)}function Ew(r,e){Vb(r,"da",e)}function Vb(r,e,i=dr){const n=r.__wdc||(r.__wdc=()=>{let t=i;for(;t;){if(t.isDeactivated)return;t=t.parent}return r()});if(qd(e,n,i),i){let t=i.parent;for(;t&&t.parent;)Vd(t.parent.vnode)&&Cw(n,e,i,t),t=t.parent}}function Cw(r,e,i,n){const t=qd(e,r,n,!0);Wd(()=>{Pg(n[e],t)},i)}function Yh(r){r.shapeFlag&=-257,r.shapeFlag&=-513}function Qh(r){return r.shapeFlag&128?r.ssContent:r}function qd(r,e,i=dr,n=!1){if(i){const t=i[r]||(i[r]=[]),a=e.__weh||(e.__weh=(...s)=>{if(i.isUnmounted)return;xa();const l=vl(i),d=Ei(e,i,r,s);return l(),Ea(),d});return n?t.unshift(a):t.push(a),a}}const Bn=r=>(e,i=dr)=>(!Kd||r==="sp")&&qd(r,(...n)=>e(...n),i),ww=Bn("bm"),ml=Bn("m"),Aw=Bn("bu"),zg=Bn("u"),$d=Bn("bum"),Wd=Bn("um"),kw=Bn("sp"),Dw=Bn("rtg"),Pw=Bn("rtc");function Iw(r,e=dr){qd("ec",r,e)}function UR(r,e,i,n){let t;const a=i&&i[n];if(Ke(r)||jt(r)){t=new Array(r.length);for(let s=0,l=r.length;s<l;s++)t[s]=e(r[s],s,void 0,a&&a[s])}else if(typeof r=="number"){t=new Array(r);for(let s=0;s<r;s++)t[s]=e(s+1,s,void 0,a&&a[s])}else if(Pt(r))if(r[Symbol.iterator])t=Array.from(r,(s,l)=>e(s,l,void 0,a&&a[l]));else{const s=Object.keys(r);t=new Array(s.length);for(let l=0,d=s.length;l<d;l++){const f=s[l];t[l]=e(r[f],f,l,a&&a[l])}}else t=[];return i&&(i[n]=t),t}function jR(r,e,i={},n,t){if(Qt.isCE||Qt.parent&&Qs(Qt.parent)&&Qt.parent.isCE)return e!=="default"&&(i.name=e),Ir("slot",i,n&&n());let a=r[e];a&&a._c&&(a._d=!1),zd();const s=a&&qb(a(i)),l=Yg(ui,{key:i.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&r._===1?64:-2);return!t&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function qb(r){return r.some(e=>Yu(e)?!(e.type===di||e.type===ui&&!qb(e.children)):!0)?r:null}const Mp=r=>r?aT(r)?Xd(r)||r.proxy:Mp(r.parent):null,Nu=Xt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Mp(r.parent),$root:r=>Mp(r.root),$emit:r=>r.emit,$options:r=>Kg(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,qg(r.update)}),$nextTick:r=>r.n||(r.n=Vg.bind(r.proxy)),$watch:r=>yw.bind(r)}),Zh=(r,e)=>r!==It&&!r.__isScriptSetup&&ht(r,e),Ow={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:n,data:t,props:a,accessCache:s,type:l,appContext:d}=r;let f;if(e[0]!=="$"){const x=s[e];if(x!==void 0)switch(x){case 1:return n[e];case 2:return t[e];case 4:return i[e];case 3:return a[e]}else{if(Zh(n,e))return s[e]=1,n[e];if(t!==It&&ht(t,e))return s[e]=2,t[e];if((f=r.propsOptions[0])&&ht(f,e))return s[e]=3,a[e];if(i!==It&&ht(i,e))return s[e]=4,i[e];Bp&&(s[e]=0)}}const p=Nu[e];let y,_;if(p)return e==="$attrs"&&Qr(r.attrs,"get",""),p(r);if((y=l.__cssModules)&&(y=y[e]))return y;if(i!==It&&ht(i,e))return s[e]=4,i[e];if(_=d.config.globalProperties,ht(_,e))return _[e]},set({_:r},e,i){const{data:n,setupState:t,ctx:a}=r;return Zh(t,e)?(t[e]=i,!0):n!==It&&ht(n,e)?(n[e]=i,!0):ht(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(a[e]=i,!0)},has({_:{data:r,setupState:e,accessCache:i,ctx:n,appContext:t,propsOptions:a}},s){let l;return!!i[s]||r!==It&&ht(r,s)||Zh(e,s)||(l=a[0])&&ht(l,s)||ht(n,s)||ht(Nu,s)||ht(t.config.globalProperties,s)},defineProperty(r,e,i){return i.get!=null?r._.accessCache[e]=0:ht(i,"value")&&this.set(r,e,i.value,null),Reflect.defineProperty(r,e,i)}};function L0(r){return Ke(r)?r.reduce((e,i)=>(e[i]=null,e),{}):r}let Bp=!0;function Lw(r){const e=Kg(r),i=r.proxy,n=r.ctx;Bp=!1,e.beforeCreate&&R0(e.beforeCreate,r,"bc");const{data:t,computed:a,methods:s,watch:l,provide:d,inject:f,created:p,beforeMount:y,mounted:_,beforeUpdate:x,updated:A,activated:P,deactivated:D,beforeDestroy:R,beforeUnmount:F,destroyed:V,unmounted:j,render:K,renderTracked:Z,renderTriggered:Q,errorCaptured:U,serverPrefetch:z,expose:Y,inheritAttrs:ae,components:te,directives:le,filters:Ne}=e;if(f&&Rw(f,n,null),s)for(const Ae in s){const Fe=s[Ae];tt(Fe)&&(n[Ae]=Fe.bind(i))}if(t){const Ae=t.call(i,i);Pt(Ae)&&(r.data=pl(Ae))}if(Bp=!0,a)for(const Ae in a){const Fe=a[Ae],mt=tt(Fe)?Fe.bind(i,i):tt(Fe.get)?Fe.get.bind(i,i):ci,it=!tt(Fe)&&tt(Fe.set)?Fe.set.bind(i):ci,ir=Mr({get:mt,set:it});Object.defineProperty(n,Ae,{enumerable:!0,configurable:!0,get:()=>ir.value,set:vt=>ir.value=vt})}if(l)for(const Ae in l)$b(l[Ae],n,i,Ae);if(d){const Ae=tt(d)?d.call(i):d;Reflect.ownKeys(Ae).forEach(Fe=>{Gc(Fe,Ae[Fe])})}p&&R0(p,r,"c");function me(Ae,Fe){Ke(Fe)?Fe.forEach(mt=>Ae(mt.bind(i))):Fe&&Ae(Fe.bind(i))}if(me(ww,y),me(ml,_),me(Aw,x),me(zg,A),me(xw,P),me(Ew,D),me(Iw,U),me(Pw,Z),me(Dw,Q),me($d,F),me(Wd,j),me(kw,z),Ke(Y))if(Y.length){const Ae=r.exposed||(r.exposed={});Y.forEach(Fe=>{Object.defineProperty(Ae,Fe,{get:()=>i[Fe],set:mt=>i[Fe]=mt})})}else r.exposed||(r.exposed={});K&&r.render===ci&&(r.render=K),ae!=null&&(r.inheritAttrs=ae),te&&(r.components=te),le&&(r.directives=le)}function Rw(r,e,i=ci){Ke(r)&&(r=Up(r));for(const n in r){const t=r[n];let a;Pt(t)?"default"in t?a=Yr(t.from||n,t.default,!0):a=Yr(t.from||n):a=Yr(t),er(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[n]=a}}function R0(r,e,i){Ei(Ke(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,i)}function $b(r,e,i,n){const t=n.includes(".")?Bb(i,n):()=>i[n];if(jt(r)){const a=e[r];tt(a)&&nn(t,a)}else if(tt(r))nn(t,r.bind(i));else if(Pt(r))if(Ke(r))r.forEach(a=>$b(a,e,i,n));else{const a=tt(r.handler)?r.handler.bind(i):e[r.handler];tt(a)&&nn(t,a,r)}}function Kg(r){const e=r.type,{mixins:i,extends:n}=e,{mixins:t,optionsCache:a,config:{optionMergeStrategies:s}}=r.appContext,l=a.get(e);let d;return l?d=l:!t.length&&!i&&!n?d=e:(d={},t.length&&t.forEach(f=>sd(d,f,s,!0)),sd(d,e,s)),Pt(e)&&a.set(e,d),d}function sd(r,e,i,n=!1){const{mixins:t,extends:a}=e;a&&sd(r,a,i,!0),t&&t.forEach(s=>sd(r,s,i,!0));for(const s in e)if(!(n&&s==="expose")){const l=Nw[s]||i&&i[s];r[s]=l?l(r[s],e[s]):e[s]}return r}const Nw={data:N0,props:F0,emits:F0,methods:wu,computed:wu,beforeCreate:Nr,created:Nr,beforeMount:Nr,mounted:Nr,beforeUpdate:Nr,updated:Nr,beforeDestroy:Nr,beforeUnmount:Nr,destroyed:Nr,unmounted:Nr,activated:Nr,deactivated:Nr,errorCaptured:Nr,serverPrefetch:Nr,components:wu,directives:wu,watch:Mw,provide:N0,inject:Fw};function N0(r,e){return e?r?function(){return Xt(tt(r)?r.call(this,this):r,tt(e)?e.call(this,this):e)}:e:r}function Fw(r,e){return wu(Up(r),Up(e))}function Up(r){if(Ke(r)){const e={};for(let i=0;i<r.length;i++)e[r[i]]=r[i];return e}return r}function Nr(r,e){return r?[...new Set([].concat(r,e))]:e}function wu(r,e){return r?Xt(Object.create(null),r,e):e}function F0(r,e){return r?Ke(r)&&Ke(e)?[...new Set([...r,...e])]:Xt(Object.create(null),L0(r),L0(e!=null?e:{})):e}function Mw(r,e){if(!r)return e;if(!e)return r;const i=Xt(Object.create(null),r);for(const n in e)i[n]=Nr(r[n],e[n]);return i}function Wb(){return{app:null,config:{isNativeTag:vC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bw=0;function Uw(r,e){return function(n,t=null){tt(n)||(n=Xt({},n)),t!=null&&!Pt(t)&&(t=null);const a=Wb(),s=new WeakSet;let l=!1;const d=a.app={_uid:Bw++,_component:n,_props:t,_container:null,_context:a,_instance:null,version:pA,get config(){return a.config},set config(f){},use(f,...p){return s.has(f)||(f&&tt(f.install)?(s.add(f),f.install(d,...p)):tt(f)&&(s.add(f),f(d,...p))),d},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),d},component(f,p){return p?(a.components[f]=p,d):a.components[f]},directive(f,p){return p?(a.directives[f]=p,d):a.directives[f]},mount(f,p,y){if(!l){const _=Ir(n,t);return _.appContext=a,y===!0?y="svg":y===!1&&(y=void 0),p&&e?e(_,f):r(_,f,y),l=!0,d._container=f,f.__vue_app__=d,Xd(_.component)||_.component.proxy}},unmount(){l&&(r(null,d._container),delete d._container.__vue_app__)},provide(f,p){return a.provides[f]=p,d},runWithContext(f){const p=Zs;Zs=d;try{return f()}finally{Zs=p}}};return d}}let Zs=null;function Gc(r,e){if(dr){let i=dr.provides;const n=dr.parent&&dr.parent.provides;n===i&&(i=dr.provides=Object.create(n)),i[r]=e}}function Yr(r,e,i=!1){const n=dr||Qt;if(n||Zs){const t=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Zs._context.provides;if(t&&r in t)return t[r];if(arguments.length>1)return i&&tt(e)?e.call(n&&n.proxy):e}}function jw(){return!!(dr||Qt||Zs)}const Gb={},zb=()=>Object.create(Gb),Kb=r=>Object.getPrototypeOf(r)===Gb;function Hw(r,e,i,n=!1){const t={},a=zb();r.propsDefaults=Object.create(null),Xb(r,e,t,a);for(const s in r.propsOptions[0])s in t||(t[s]=void 0);i?r.props=n?t:Sb(t):r.type.props?r.props=t:r.props=a,r.attrs=a}function Vw(r,e,i,n){const{props:t,attrs:a,vnode:{patchFlag:s}}=r,l=dt(t),[d]=r.propsOptions;let f=!1;if((n||s>0)&&!(s&16)){if(s&8){const p=r.vnode.dynamicProps;for(let y=0;y<p.length;y++){let _=p[y];if(jd(r.emitsOptions,_))continue;const x=e[_];if(d)if(ht(a,_))x!==a[_]&&(a[_]=x,f=!0);else{const A=un(_);t[A]=jp(d,l,A,x,r,!1)}else x!==a[_]&&(a[_]=x,f=!0)}}}else{Xb(r,e,t,a)&&(f=!0);let p;for(const y in l)(!e||!ht(e,y)&&((p=So(y))===y||!ht(e,p)))&&(d?i&&(i[y]!==void 0||i[p]!==void 0)&&(t[y]=jp(d,l,y,void 0,r,!0)):delete t[y]);if(a!==l)for(const y in a)(!e||!ht(e,y)&&!0)&&(delete a[y],f=!0)}f&&kn(r.attrs,"set","")}function Xb(r,e,i,n){const[t,a]=r.propsOptions;let s=!1,l;if(e)for(let d in e){if(Lu(d))continue;const f=e[d];let p;t&&ht(t,p=un(d))?!a||!a.includes(p)?i[p]=f:(l||(l={}))[p]=f:jd(r.emitsOptions,d)||(!(d in n)||f!==n[d])&&(n[d]=f,s=!0)}if(a){const d=dt(i),f=l||It;for(let p=0;p<a.length;p++){const y=a[p];i[y]=jp(t,d,y,f[y],r,!ht(f,y))}}return s}function jp(r,e,i,n,t,a){const s=r[i];if(s!=null){const l=ht(s,"default");if(l&&n===void 0){const d=s.default;if(s.type!==Function&&!s.skipFactory&&tt(d)){const{propsDefaults:f}=t;if(i in f)n=f[i];else{const p=vl(t);n=f[i]=d.call(null,e),p()}}else n=d}s[0]&&(a&&!l?n=!1:s[1]&&(n===""||n===So(i))&&(n=!0))}return n}function Jb(r,e,i=!1){const n=e.propsCache,t=n.get(r);if(t)return t;const a=r.props,s={},l=[];let d=!1;if(!tt(r)){const p=y=>{d=!0;const[_,x]=Jb(y,e,!0);Xt(s,_),x&&l.push(...x)};!i&&e.mixins.length&&e.mixins.forEach(p),r.extends&&p(r.extends),r.mixins&&r.mixins.forEach(p)}if(!a&&!d)return Pt(r)&&n.set(r,Ks),Ks;if(Ke(a))for(let p=0;p<a.length;p++){const y=un(a[p]);M0(y)&&(s[y]=It)}else if(a)for(const p in a){const y=un(p);if(M0(y)){const _=a[p],x=s[y]=Ke(_)||tt(_)?{type:_}:Xt({},_);if(x){const A=j0(Boolean,x.type),P=j0(String,x.type);x[0]=A>-1,x[1]=P<0||A<P,(A>-1||ht(x,"default"))&&l.push(y)}}}const f=[s,l];return Pt(r)&&n.set(r,f),f}function M0(r){return r[0]!=="$"&&!Lu(r)}function B0(r){return r===null?"null":typeof r=="function"?r.name||"":typeof r=="object"&&r.constructor&&r.constructor.name||""}function U0(r,e){return B0(r)===B0(e)}function j0(r,e){return Ke(e)?e.findIndex(i=>U0(i,r)):tt(e)&&U0(e,r)?0:-1}const Yb=r=>r[0]==="_"||r==="$stable",Xg=r=>Ke(r)?r.map(Yi):[Yi(r)],qw=(r,e,i)=>{if(e._n)return e;const n=dw((...t)=>Xg(e(...t)),i);return n._c=!1,n},Qb=(r,e,i)=>{const n=r._ctx;for(const t in r){if(Yb(t))continue;const a=r[t];if(tt(a))e[t]=qw(t,a,n);else if(a!=null){const s=Xg(a);e[t]=()=>s}}},Zb=(r,e)=>{const i=Xg(e);r.slots.default=()=>i},$w=(r,e)=>{const i=r.slots=zb();if(r.vnode.shapeFlag&32){const n=e._;n?(Xt(i,e),ab(i,"_",n,!0)):Qb(e,i)}else e&&Zb(r,e)},Ww=(r,e,i)=>{const{vnode:n,slots:t}=r;let a=!0,s=It;if(n.shapeFlag&32){const l=e._;l?i&&l===1?a=!1:(Xt(t,e),!i&&l===1&&delete t._):(a=!e.$stable,Qb(e,t)),s=e}else e&&(Zb(r,e),s={default:1});if(a)for(const l in t)!Yb(l)&&s[l]==null&&delete t[l]};function Hp(r,e,i,n,t=!1){if(Ke(r)){r.forEach((_,x)=>Hp(_,e&&(Ke(e)?e[x]:e),i,n,t));return}if(Qs(n)&&!t)return;const a=n.shapeFlag&4?Xd(n.component)||n.component.proxy:n.el,s=t?null:a,{i:l,r:d}=r,f=e&&e.r,p=l.refs===It?l.refs={}:l.refs,y=l.setupState;if(f!=null&&f!==d&&(jt(f)?(p[f]=null,ht(y,f)&&(y[f]=null)):er(f)&&(f.value=null)),tt(d))_a(d,l,12,[s,p]);else{const _=jt(d),x=er(d);if(_||x){const A=()=>{if(r.f){const P=_?ht(y,d)?y[d]:p[d]:d.value;t?Ke(P)&&Pg(P,a):Ke(P)?P.includes(a)||P.push(a):_?(p[d]=[a],ht(y,d)&&(y[d]=p[d])):(d.value=[a],r.k&&(p[r.k]=d.value))}else _?(p[d]=s,ht(y,d)&&(y[d]=s)):x&&(d.value=s,r.k&&(p[r.k]=s))};s?(A.id=-1,yr(A,i)):A()}}}function Gw(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(Og().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const yr=mw;function zw(r){return Kw(r)}function Kw(r,e){Gw();const i=Og();i.__VUE__=!0;const{insert:n,remove:t,patchProp:a,createElement:s,createText:l,createComment:d,setText:f,setElementText:p,parentNode:y,nextSibling:_,setScopeId:x=ci,insertStaticContent:A}=r,P=(B,G,ee,oe=null,ne=null,_e=null,ce=void 0,ye=null,fe=!!G.dynamicChildren)=>{if(B===G)return;B&&!ma(B,G)&&(oe=se(B),vt(B,ne,_e,!0),B=null),G.patchFlag===-2&&(fe=!1,G.dynamicChildren=null);const{type:he,ref:Oe,shapeFlag:Ue}=G;switch(he){case Gd:D(B,G,ee,oe);break;case di:R(B,G,ee,oe);break;case zc:B==null&&F(G,ee,oe,ce);break;case ui:te(B,G,ee,oe,ne,_e,ce,ye,fe);break;default:Ue&1?K(B,G,ee,oe,ne,_e,ce,ye,fe):Ue&6?le(B,G,ee,oe,ne,_e,ce,ye,fe):(Ue&64||Ue&128)&&he.process(B,G,ee,oe,ne,_e,ce,ye,fe,Re)}Oe!=null&&ne&&Hp(Oe,B&&B.ref,_e,G||B,!G)},D=(B,G,ee,oe)=>{if(B==null)n(G.el=l(G.children),ee,oe);else{const ne=G.el=B.el;G.children!==B.children&&f(ne,G.children)}},R=(B,G,ee,oe)=>{B==null?n(G.el=d(G.children||""),ee,oe):G.el=B.el},F=(B,G,ee,oe)=>{[B.el,B.anchor]=A(B.children,G,ee,oe,B.el,B.anchor)},V=({el:B,anchor:G},ee,oe)=>{let ne;for(;B&&B!==G;)ne=_(B),n(B,ee,oe),B=ne;n(G,ee,oe)},j=({el:B,anchor:G})=>{let ee;for(;B&&B!==G;)ee=_(B),t(B),B=ee;t(G)},K=(B,G,ee,oe,ne,_e,ce,ye,fe)=>{G.type==="svg"?ce="svg":G.type==="math"&&(ce="mathml"),B==null?Z(G,ee,oe,ne,_e,ce,ye,fe):z(B,G,ne,_e,ce,ye,fe)},Z=(B,G,ee,oe,ne,_e,ce,ye)=>{let fe,he;const{props:Oe,shapeFlag:Ue,transition:ke,dirs:qe}=B;if(fe=B.el=s(B.type,_e,Oe&&Oe.is,Oe),Ue&8?p(fe,B.children):Ue&16&&U(B.children,fe,null,oe,ne,ep(B,_e),ce,ye),qe&&Wa(B,null,oe,"created"),Q(fe,B,B.scopeId,ce,oe),Oe){for(const ut in Oe)ut!=="value"&&!Lu(ut)&&a(fe,ut,null,Oe[ut],_e,B.children,oe,ne,pt);"value"in Oe&&a(fe,"value",null,Oe.value,_e),(he=Oe.onVnodeBeforeMount)&&xi(he,oe,B)}qe&&Wa(B,null,oe,"beforeMount");const rt=Xw(ne,ke);rt&&ke.beforeEnter(fe),n(fe,G,ee),((he=Oe&&Oe.onVnodeMounted)||rt||qe)&&yr(()=>{he&&xi(he,oe,B),rt&&ke.enter(fe),qe&&Wa(B,null,oe,"mounted")},ne)},Q=(B,G,ee,oe,ne)=>{if(ee&&x(B,ee),oe)for(let _e=0;_e<oe.length;_e++)x(B,oe[_e]);if(ne){let _e=ne.subTree;if(G===_e){const ce=ne.vnode;Q(B,ce,ce.scopeId,ce.slotScopeIds,ne.parent)}}},U=(B,G,ee,oe,ne,_e,ce,ye,fe=0)=>{for(let he=fe;he<B.length;he++){const Oe=B[he]=ye?ha(B[he]):Yi(B[he]);P(null,Oe,G,ee,oe,ne,_e,ce,ye)}},z=(B,G,ee,oe,ne,_e,ce)=>{const ye=G.el=B.el;let{patchFlag:fe,dynamicChildren:he,dirs:Oe}=G;fe|=B.patchFlag&16;const Ue=B.props||It,ke=G.props||It;let qe;if(ee&&Ga(ee,!1),(qe=ke.onVnodeBeforeUpdate)&&xi(qe,ee,G,B),Oe&&Wa(G,B,ee,"beforeUpdate"),ee&&Ga(ee,!0),he?Y(B.dynamicChildren,he,ye,ee,oe,ep(G,ne),_e):ce||Fe(B,G,ye,null,ee,oe,ep(G,ne),_e,!1),fe>0){if(fe&16)ae(ye,G,Ue,ke,ee,oe,ne);else if(fe&2&&Ue.class!==ke.class&&a(ye,"class",null,ke.class,ne),fe&4&&a(ye,"style",Ue.style,ke.style,ne),fe&8){const rt=G.dynamicProps;for(let ut=0;ut<rt.length;ut++){const ot=rt[ut],Bt=Ue[ot],Ye=ke[ot];(Ye!==Bt||ot==="value")&&a(ye,ot,Bt,Ye,ne,B.children,ee,oe,pt)}}fe&1&&B.children!==G.children&&p(ye,G.children)}else!ce&&he==null&&ae(ye,G,Ue,ke,ee,oe,ne);((qe=ke.onVnodeUpdated)||Oe)&&yr(()=>{qe&&xi(qe,ee,G,B),Oe&&Wa(G,B,ee,"updated")},oe)},Y=(B,G,ee,oe,ne,_e,ce)=>{for(let ye=0;ye<G.length;ye++){const fe=B[ye],he=G[ye],Oe=fe.el&&(fe.type===ui||!ma(fe,he)||fe.shapeFlag&70)?y(fe.el):ee;P(fe,he,Oe,null,oe,ne,_e,ce,!0)}},ae=(B,G,ee,oe,ne,_e,ce)=>{if(ee!==oe){if(ee!==It)for(const ye in ee)!Lu(ye)&&!(ye in oe)&&a(B,ye,ee[ye],null,ce,G.children,ne,_e,pt);for(const ye in oe){if(Lu(ye))continue;const fe=oe[ye],he=ee[ye];fe!==he&&ye!=="value"&&a(B,ye,he,fe,ce,G.children,ne,_e,pt)}"value"in oe&&a(B,"value",ee.value,oe.value,ce)}},te=(B,G,ee,oe,ne,_e,ce,ye,fe)=>{const he=G.el=B?B.el:l(""),Oe=G.anchor=B?B.anchor:l("");let{patchFlag:Ue,dynamicChildren:ke,slotScopeIds:qe}=G;qe&&(ye=ye?ye.concat(qe):qe),B==null?(n(he,ee,oe),n(Oe,ee,oe),U(G.children||[],ee,Oe,ne,_e,ce,ye,fe)):Ue>0&&Ue&64&&ke&&B.dynamicChildren?(Y(B.dynamicChildren,ke,ee,ne,_e,ce,ye),(G.key!=null||ne&&G===ne.subTree)&&Jg(B,G,!0)):Fe(B,G,ee,Oe,ne,_e,ce,ye,fe)},le=(B,G,ee,oe,ne,_e,ce,ye,fe)=>{G.slotScopeIds=ye,B==null?G.shapeFlag&512?ne.ctx.activate(G,ee,oe,ce,fe):Ne(G,ee,oe,ne,_e,ce,fe):Be(B,G,fe)},Ne=(B,G,ee,oe,ne,_e,ce)=>{const ye=B.component=uA(B,oe,ne);if(Vd(B)&&(ye.ctx.renderer=Re),lA(ye),ye.asyncDep){if(ne&&ne.registerDep(ye,me),!B.el){const fe=ye.subTree=Ir(di);R(null,fe,G,ee)}}else me(ye,B,G,ee,ne,_e,ce)},Be=(B,G,ee)=>{const oe=G.component=B.component;if(pw(B,G,ee))if(oe.asyncDep&&!oe.asyncResolved){Ae(oe,G,ee);return}else oe.next=G,ow(oe.update),oe.effect.dirty=!0,oe.update();else G.el=B.el,oe.vnode=G},me=(B,G,ee,oe,ne,_e,ce)=>{const ye=()=>{if(B.isMounted){let{next:Oe,bu:Ue,u:ke,parent:qe,vnode:rt}=B;{const Ai=eT(B);if(Ai){Oe&&(Oe.el=rt.el,Ae(B,Oe,ce)),Ai.asyncDep.then(()=>{B.isUnmounted||ye()});return}}let ut=Oe,ot;Ga(B,!1),Oe?(Oe.el=rt.el,Ae(B,Oe,ce)):Oe=rt,Ue&&Ru(Ue),(ot=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&xi(ot,qe,Oe,rt),Ga(B,!0);const Bt=Xh(B),Ye=B.subTree;B.subTree=Bt,P(Ye,Bt,y(Ye.el),se(Ye),B,ne,_e),Oe.el=Bt.el,ut===null&&gw(B,Bt.el),ke&&yr(ke,ne),(ot=Oe.props&&Oe.props.onVnodeUpdated)&&yr(()=>xi(ot,qe,Oe,rt),ne)}else{let Oe;const{el:Ue,props:ke}=G,{bm:qe,m:rt,parent:ut}=B,ot=Qs(G);if(Ga(B,!1),qe&&Ru(qe),!ot&&(Oe=ke&&ke.onVnodeBeforeMount)&&xi(Oe,ut,G),Ga(B,!0),Ue&&yt){const Bt=()=>{B.subTree=Xh(B),yt(Ue,B.subTree,B,ne,null)};ot?G.type.__asyncLoader().then(()=>!B.isUnmounted&&Bt()):Bt()}else{const Bt=B.subTree=Xh(B);P(null,Bt,ee,oe,B,ne,_e),G.el=Bt.el}if(rt&&yr(rt,ne),!ot&&(Oe=ke&&ke.onVnodeMounted)){const Bt=G;yr(()=>xi(Oe,ut,Bt),ne)}(G.shapeFlag&256||ut&&Qs(ut.vnode)&&ut.vnode.shapeFlag&256)&&B.a&&yr(B.a,ne),B.isMounted=!0,G=ee=oe=null}},fe=B.effect=new Lg(ye,ci,()=>qg(he),B.scope),he=B.update=()=>{fe.dirty&&fe.run()};he.id=B.uid,Ga(B,!0),he()},Ae=(B,G,ee)=>{G.component=B;const oe=B.vnode.props;B.vnode=G,B.next=null,Vw(B,G.props,oe,ee),Ww(B,G.children,ee),xa(),D0(B),Ea()},Fe=(B,G,ee,oe,ne,_e,ce,ye,fe=!1)=>{const he=B&&B.children,Oe=B?B.shapeFlag:0,Ue=G.children,{patchFlag:ke,shapeFlag:qe}=G;if(ke>0){if(ke&128){it(he,Ue,ee,oe,ne,_e,ce,ye,fe);return}else if(ke&256){mt(he,Ue,ee,oe,ne,_e,ce,ye,fe);return}}qe&8?(Oe&16&&pt(he,ne,_e),Ue!==he&&p(ee,Ue)):Oe&16?qe&16?it(he,Ue,ee,oe,ne,_e,ce,ye,fe):pt(he,ne,_e,!0):(Oe&8&&p(ee,""),qe&16&&U(Ue,ee,oe,ne,_e,ce,ye,fe))},mt=(B,G,ee,oe,ne,_e,ce,ye,fe)=>{B=B||Ks,G=G||Ks;const he=B.length,Oe=G.length,Ue=Math.min(he,Oe);let ke;for(ke=0;ke<Ue;ke++){const qe=G[ke]=fe?ha(G[ke]):Yi(G[ke]);P(B[ke],qe,ee,null,ne,_e,ce,ye,fe)}he>Oe?pt(B,ne,_e,!0,!1,Ue):U(G,ee,oe,ne,_e,ce,ye,fe,Ue)},it=(B,G,ee,oe,ne,_e,ce,ye,fe)=>{let he=0;const Oe=G.length;let Ue=B.length-1,ke=Oe-1;for(;he<=Ue&&he<=ke;){const qe=B[he],rt=G[he]=fe?ha(G[he]):Yi(G[he]);if(ma(qe,rt))P(qe,rt,ee,null,ne,_e,ce,ye,fe);else break;he++}for(;he<=Ue&&he<=ke;){const qe=B[Ue],rt=G[ke]=fe?ha(G[ke]):Yi(G[ke]);if(ma(qe,rt))P(qe,rt,ee,null,ne,_e,ce,ye,fe);else break;Ue--,ke--}if(he>Ue){if(he<=ke){const qe=ke+1,rt=qe<Oe?G[qe].el:oe;for(;he<=ke;)P(null,G[he]=fe?ha(G[he]):Yi(G[he]),ee,rt,ne,_e,ce,ye,fe),he++}}else if(he>ke)for(;he<=Ue;)vt(B[he],ne,_e,!0),he++;else{const qe=he,rt=he,ut=new Map;for(he=rt;he<=ke;he++){const ar=G[he]=fe?ha(G[he]):Yi(G[he]);ar.key!=null&&ut.set(ar.key,he)}let ot,Bt=0;const Ye=ke-rt+1;let Ai=!1,wa=0;const hi=new Array(Ye);for(he=0;he<Ye;he++)hi[he]=0;for(he=qe;he<=Ue;he++){const ar=B[he];if(Bt>=Ye){vt(ar,ne,_e,!0);continue}let sr;if(ar.key!=null)sr=ut.get(ar.key);else for(ot=rt;ot<=ke;ot++)if(hi[ot-rt]===0&&ma(ar,G[ot])){sr=ot;break}sr===void 0?vt(ar,ne,_e,!0):(hi[sr-rt]=he+1,sr>=wa?wa=sr:Ai=!0,P(ar,G[sr],ee,null,ne,_e,ce,ye,fe),Bt++)}const fs=Ai?Jw(hi):Ks;for(ot=fs.length-1,he=Ye-1;he>=0;he--){const ar=rt+he,sr=G[ar],qn=ar+1<Oe?G[ar+1].el:oe;hi[he]===0?P(null,sr,ee,qn,ne,_e,ce,ye,fe):Ai&&(ot<0||he!==fs[ot]?ir(sr,ee,qn,2):ot--)}}},ir=(B,G,ee,oe,ne=null)=>{const{el:_e,type:ce,transition:ye,children:fe,shapeFlag:he}=B;if(he&6){ir(B.component.subTree,G,ee,oe);return}if(he&128){B.suspense.move(G,ee,oe);return}if(he&64){ce.move(B,G,ee,Re);return}if(ce===ui){n(_e,G,ee);for(let Ue=0;Ue<fe.length;Ue++)ir(fe[Ue],G,ee,oe);n(B.anchor,G,ee);return}if(ce===zc){V(B,G,ee);return}if(oe!==2&&he&1&&ye)if(oe===0)ye.beforeEnter(_e),n(_e,G,ee),yr(()=>ye.enter(_e),ne);else{const{leave:Ue,delayLeave:ke,afterLeave:qe}=ye,rt=()=>n(_e,G,ee),ut=()=>{Ue(_e,()=>{rt(),qe&&qe()})};ke?ke(_e,rt,ut):ut()}else n(_e,G,ee)},vt=(B,G,ee,oe=!1,ne=!1)=>{const{type:_e,props:ce,ref:ye,children:fe,dynamicChildren:he,shapeFlag:Oe,patchFlag:Ue,dirs:ke}=B;if(ye!=null&&Hp(ye,null,ee,B,!0),Oe&256){G.ctx.deactivate(B);return}const qe=Oe&1&&ke,rt=!Qs(B);let ut;if(rt&&(ut=ce&&ce.onVnodeBeforeUnmount)&&xi(ut,G,B),Oe&6)xr(B.component,ee,oe);else{if(Oe&128){B.suspense.unmount(ee,oe);return}qe&&Wa(B,null,G,"beforeUnmount"),Oe&64?B.type.remove(B,G,ee,ne,Re,oe):he&&(_e!==ui||Ue>0&&Ue&64)?pt(he,G,ee,!1,!0):(_e===ui&&Ue&384||!ne&&Oe&16)&&pt(fe,G,ee),oe&&nr(B)}(rt&&(ut=ce&&ce.onVnodeUnmounted)||qe)&&yr(()=>{ut&&xi(ut,G,B),qe&&Wa(B,null,G,"unmounted")},ee)},nr=B=>{const{type:G,el:ee,anchor:oe,transition:ne}=B;if(G===ui){gr(ee,oe);return}if(G===zc){j(B);return}const _e=()=>{t(ee),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(B.shapeFlag&1&&ne&&!ne.persisted){const{leave:ce,delayLeave:ye}=ne,fe=()=>ce(ee,_e);ye?ye(B.el,_e,fe):fe()}else _e()},gr=(B,G)=>{let ee;for(;B!==G;)ee=_(B),t(B),B=ee;t(G)},xr=(B,G,ee)=>{const{bum:oe,scope:ne,update:_e,subTree:ce,um:ye}=B;oe&&Ru(oe),ne.stop(),_e&&(_e.active=!1,vt(ce,B,G,ee)),ye&&yr(ye,G),yr(()=>{B.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},pt=(B,G,ee,oe=!1,ne=!1,_e=0)=>{for(let ce=_e;ce<B.length;ce++)vt(B[ce],G,ee,oe,ne)},se=B=>B.shapeFlag&6?se(B.component.subTree):B.shapeFlag&128?B.suspense.next():_(B.anchor||B.el);let Se=!1;const Ee=(B,G,ee)=>{B==null?G._vnode&&vt(G._vnode,null,null,!0):P(G._vnode||null,B,G,null,null,null,ee),Se||(Se=!0,D0(),Ib(),Se=!1),G._vnode=B},Re={p:P,um:vt,m:ir,r:nr,mt:Ne,mc:U,pc:Fe,pbc:Y,n:se,o:r};let st,yt;return e&&([st,yt]=e(Re)),{render:Ee,hydrate:st,createApp:Uw(Ee,st)}}function ep({type:r,props:e},i){return i==="svg"&&r==="foreignObject"||i==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Ga({effect:r,update:e},i){r.allowRecurse=e.allowRecurse=i}function Xw(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Jg(r,e,i=!1){const n=r.children,t=e.children;if(Ke(n)&&Ke(t))for(let a=0;a<n.length;a++){const s=n[a];let l=t[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=t[a]=ha(t[a]),l.el=s.el),i||Jg(s,l)),l.type===Gd&&(l.el=s.el)}}function Jw(r){const e=r.slice(),i=[0];let n,t,a,s,l;const d=r.length;for(n=0;n<d;n++){const f=r[n];if(f!==0){if(t=i[i.length-1],r[t]<f){e[n]=t,i.push(n);continue}for(a=0,s=i.length-1;a<s;)l=a+s>>1,r[i[l]]<f?a=l+1:s=l;f<r[i[a]]&&(a>0&&(e[n]=i[a-1]),i[a]=n)}}for(a=i.length,s=i[a-1];a-- >0;)i[a]=s,s=e[s];return i}function eT(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:eT(e)}const Yw=r=>r.__isTeleport,Fu=r=>r&&(r.disabled||r.disabled===""),H0=r=>typeof SVGElement<"u"&&r instanceof SVGElement,V0=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,Vp=(r,e)=>{const i=r&&r.to;return jt(i)?e?e(i):null:i},Qw={name:"Teleport",__isTeleport:!0,process(r,e,i,n,t,a,s,l,d,f){const{mc:p,pc:y,pbc:_,o:{insert:x,querySelector:A,createText:P,createComment:D}}=f,R=Fu(e.props);let{shapeFlag:F,children:V,dynamicChildren:j}=e;if(r==null){const K=e.el=P(""),Z=e.anchor=P("");x(K,i,n),x(Z,i,n);const Q=e.target=Vp(e.props,A),U=e.targetAnchor=P("");Q&&(x(U,Q),s==="svg"||H0(Q)?s="svg":(s==="mathml"||V0(Q))&&(s="mathml"));const z=(Y,ae)=>{F&16&&p(V,Y,ae,t,a,s,l,d)};R?z(i,Z):Q&&z(Q,U)}else{e.el=r.el;const K=e.anchor=r.anchor,Z=e.target=r.target,Q=e.targetAnchor=r.targetAnchor,U=Fu(r.props),z=U?i:Z,Y=U?K:Q;if(s==="svg"||H0(Z)?s="svg":(s==="mathml"||V0(Z))&&(s="mathml"),j?(_(r.dynamicChildren,j,z,t,a,s,l),Jg(r,e,!0)):d||y(r,e,z,Y,t,a,s,l,!1),R)U?e.props&&r.props&&e.props.to!==r.props.to&&(e.props.to=r.props.to):Ic(e,i,K,f,1);else if((e.props&&e.props.to)!==(r.props&&r.props.to)){const ae=e.target=Vp(e.props,A);ae&&Ic(e,ae,null,f,0)}else U&&Ic(e,Z,Q,f,1)}tT(e)},remove(r,e,i,n,{um:t,o:{remove:a}},s){const{shapeFlag:l,children:d,anchor:f,targetAnchor:p,target:y,props:_}=r;if(y&&a(p),s&&a(f),l&16){const x=s||!Fu(_);for(let A=0;A<d.length;A++){const P=d[A];t(P,e,i,x,!!P.dynamicChildren)}}},move:Ic,hydrate:Zw};function Ic(r,e,i,{o:{insert:n},m:t},a=2){a===0&&n(r.targetAnchor,e,i);const{el:s,anchor:l,shapeFlag:d,children:f,props:p}=r,y=a===2;if(y&&n(s,e,i),(!y||Fu(p))&&d&16)for(let _=0;_<f.length;_++)t(f[_],e,i,2);y&&n(l,e,i)}function Zw(r,e,i,n,t,a,{o:{nextSibling:s,parentNode:l,querySelector:d}},f){const p=e.target=Vp(e.props,d);if(p){const y=p._lpa||p.firstChild;if(e.shapeFlag&16)if(Fu(e.props))e.anchor=f(s(r),e,l(r),i,n,t,a),e.targetAnchor=y;else{e.anchor=s(r);let _=y;for(;_;)if(_=s(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,p._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(y,e,p,i,n,t,a)}tT(e)}return e.anchor&&s(e.anchor)}const HR=Qw;function tT(r){const e=r.ctx;if(e&&e.ut){let i=r.children[0].el;for(;i&&i!==r.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const ui=Symbol.for("v-fgt"),Gd=Symbol.for("v-txt"),di=Symbol.for("v-cmt"),zc=Symbol.for("v-stc"),Mu=[];let Ri=null;function zd(r=!1){Mu.push(Ri=r?null:[])}function eA(){Mu.pop(),Ri=Mu[Mu.length-1]||null}let Ju=1;function q0(r){Ju+=r}function rT(r){return r.dynamicChildren=Ju>0?Ri||Ks:null,eA(),Ju>0&&Ri&&Ri.push(r),r}function tA(r,e,i,n,t,a){return rT(nT(r,e,i,n,t,a,!0))}function Yg(r,e,i,n,t){return rT(Ir(r,e,i,n,t,!0))}function Yu(r){return r?r.__v_isVNode===!0:!1}function ma(r,e){return r.type===e.type&&r.key===e.key}const iT=({key:r})=>r!=null?r:null,Kc=({ref:r,ref_key:e,ref_for:i})=>(typeof r=="number"&&(r=""+r),r!=null?jt(r)||er(r)||tt(r)?{i:Qt,r,k:e,f:!!i}:r:null);function nT(r,e=null,i=null,n=0,t=null,a=r===ui?0:1,s=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&iT(e),ref:e&&Kc(e),scopeId:Hd,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:Qt};return l?(Qg(d,i),a&128&&r.normalize(d)):i&&(d.shapeFlag|=jt(i)?8:16),Ju>0&&!s&&Ri&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&Ri.push(d),d}const Ir=rA;function rA(r,e=null,i=null,n=0,t=null,a=!1){if((!r||r===Rb)&&(r=di),Yu(r)){const l=On(r,e,!0);return i&&Qg(l,i),Ju>0&&!a&&Ri&&(l.shapeFlag&6?Ri[Ri.indexOf(r)]=l:Ri.push(l)),l.patchFlag|=-2,l}if(hA(r)&&(r=r.__vccOpts),e){e=iA(e);let{class:l,style:d}=e;l&&!jt(l)&&(e.class=Js(l)),Pt(d)&&(xb(d)&&!Ke(d)&&(d=Xt({},d)),e.style=Md(d))}const s=jt(r)?1:Fb(r)?128:Yw(r)?64:Pt(r)?4:tt(r)?2:0;return nT(r,e,i,n,t,s,a,!0)}function iA(r){return r?xb(r)||Kb(r)?Xt({},r):r:null}function On(r,e,i=!1,n=!1){const{props:t,ref:a,patchFlag:s,children:l,transition:d}=r,f=e?aA(t||{},e):t,p={__v_isVNode:!0,__v_skip:!0,type:r.type,props:f,key:f&&iT(f),ref:e&&e.ref?i&&a?Ke(a)?a.concat(Kc(e)):[a,Kc(e)]:Kc(e):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:l,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==ui?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:d,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&On(r.ssContent),ssFallback:r.ssFallback&&On(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return d&&n&&(p.transition=d.clone(p)),p}function nA(r=" ",e=0){return Ir(Gd,null,r,e)}function VR(r,e){const i=Ir(zc,null,r);return i.staticCount=e,i}function qR(r="",e=!1){return e?(zd(),Yg(di,null,r)):Ir(di,null,r)}function Yi(r){return r==null||typeof r=="boolean"?Ir(di):Ke(r)?Ir(ui,null,r.slice()):typeof r=="object"?ha(r):Ir(Gd,null,String(r))}function ha(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:On(r)}function Qg(r,e){let i=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Ke(e))i=16;else if(typeof e=="object")if(n&65){const t=e.default;t&&(t._c&&(t._d=!1),Qg(r,t()),t._c&&(t._d=!0));return}else{i=32;const t=e._;!t&&!Kb(e)?e._ctx=Qt:t===3&&Qt&&(Qt.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:Qt},i=32):(e=String(e),n&64?(i=16,e=[nA(e)]):i=8);r.children=e,r.shapeFlag|=i}function aA(...r){const e={};for(let i=0;i<r.length;i++){const n=r[i];for(const t in n)if(t==="class")e.class!==n.class&&(e.class=Js([e.class,n.class]));else if(t==="style")e.style=Md([e.style,n.style]);else if(Rd(t)){const a=e[t],s=n[t];s&&a!==s&&!(Ke(a)&&a.includes(s))&&(e[t]=a?[].concat(a,s):s)}else t!==""&&(e[t]=n[t])}return e}function xi(r,e,i,n=null){Ei(r,e,7,[i,n])}const sA=Wb();let oA=0;function uA(r,e,i){const n=r.type,t=(e?e.appContext:r.appContext)||sA,a={uid:oA++,vnode:r,type:n,parent:e,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new ub(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jb(n,t),emitsOptions:Lb(n,t),emit:null,emitted:null,propsDefaults:It,inheritAttrs:n.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=cw.bind(null,a),r.ce&&r.ce(a),a}let dr=null;const Zg=()=>dr||Qt;let od,qp;{const r=Og(),e=(i,n)=>{let t;return(t=r[i])||(t=r[i]=[]),t.push(n),a=>{t.length>1?t.forEach(s=>s(a)):t[0](a)}};od=e("__VUE_INSTANCE_SETTERS__",i=>dr=i),qp=e("__VUE_SSR_SETTERS__",i=>Kd=i)}const vl=r=>{const e=dr;return od(r),r.scope.on(),()=>{r.scope.off(),od(e)}},$0=()=>{dr&&dr.scope.off(),od(null)};function aT(r){return r.vnode.shapeFlag&4}let Kd=!1;function lA(r,e=!1){e&&qp(e);const{props:i,children:n}=r.vnode,t=aT(r);Hw(r,i,t,e),$w(r,n);const a=t?cA(r,e):void 0;return e&&qp(!1),a}function cA(r,e){const i=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,Ow);const{setup:n}=i;if(n){const t=r.setupContext=n.length>1?fA(r):null,a=vl(r);xa();const s=_a(n,r,0,[r.props,t]);if(Ea(),a(),rb(s)){if(s.then($0,$0),e)return s.then(l=>{W0(r,l,e)}).catch(l=>{Ud(l,r,0)});r.asyncDep=s}else W0(r,s,e)}else sT(r,e)}function W0(r,e,i){tt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Pt(e)&&(r.setupState=Ab(e)),sT(r,i)}let G0;function sT(r,e,i){const n=r.type;if(!r.render){if(!e&&G0&&!n.render){const t=n.template||Kg(r).template;if(t){const{isCustomElement:a,compilerOptions:s}=r.appContext.config,{delimiters:l,compilerOptions:d}=n,f=Xt(Xt({isCustomElement:a,delimiters:l},s),d);n.render=G0(t,f)}}r.render=n.render||ci}{const t=vl(r);xa();try{Lw(r)}finally{Ea(),t()}}}const dA={get(r,e){return Qr(r,"get",""),r[e]}};function fA(r){const e=i=>{r.exposed=i||{}};return{attrs:new Proxy(r.attrs,dA),slots:r.slots,emit:r.emit,expose:e}}function Xd(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Ab(Ug(r.exposed)),{get(e,i){if(i in e)return e[i];if(i in Nu)return Nu[i](r)},has(e,i){return i in e||i in Nu}}))}function $p(r,e=!0){return tt(r)?r.displayName||r.name:r.name||e&&r.__name}function hA(r){return tt(r)&&"__vccOpts"in r}const Mr=(r,e)=>ZC(r,e,Kd);function Qu(r,e,i){const n=arguments.length;return n===2?Pt(e)&&!Ke(e)?Yu(e)?Ir(r,null,[e]):Ir(r,e):Ir(r,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&Yu(i)&&(i=[i]),Ir(r,e,i))}const pA="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gA="http://www.w3.org/2000/svg",mA="http://www.w3.org/1998/Math/MathML",pa=typeof document<"u"?document:null,z0=pa&&pa.createElement("template"),vA={insert:(r,e,i)=>{e.insertBefore(r,i||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,i,n)=>{const t=e==="svg"?pa.createElementNS(gA,r):e==="mathml"?pa.createElementNS(mA,r):pa.createElement(r,i?{is:i}:void 0);return r==="select"&&n&&n.multiple!=null&&t.setAttribute("multiple",n.multiple),t},createText:r=>pa.createTextNode(r),createComment:r=>pa.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>pa.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,i,n,t,a){const s=i?i.previousSibling:e.lastChild;if(t&&(t===a||t.nextSibling))for(;e.insertBefore(t.cloneNode(!0),i),!(t===a||!(t=t.nextSibling)););else{z0.innerHTML=n==="svg"?`<svg>${r}</svg>`:n==="mathml"?`<math>${r}</math>`:r;const l=z0.content;if(n==="svg"||n==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}e.insertBefore(l,i)}return[s?s.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},sa="transition",pu="animation",ao=Symbol("_vtc"),oT=(r,{slots:e})=>Qu(Tw,lT(r),e);oT.displayName="Transition";const uT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_A=oT.props=Xt({},jb,uT),za=(r,e=[])=>{Ke(r)?r.forEach(i=>i(...e)):r&&r(...e)},K0=r=>r?Ke(r)?r.some(e=>e.length>1):r.length>1:!1;function lT(r){const e={};for(const te in r)te in uT||(e[te]=r[te]);if(r.css===!1)return e;const{name:i="v",type:n,duration:t,enterFromClass:a=`${i}-enter-from`,enterActiveClass:s=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:d=a,appearActiveClass:f=s,appearToClass:p=l,leaveFromClass:y=`${i}-leave-from`,leaveActiveClass:_=`${i}-leave-active`,leaveToClass:x=`${i}-leave-to`}=r,A=yA(t),P=A&&A[0],D=A&&A[1],{onBeforeEnter:R,onEnter:F,onEnterCancelled:V,onLeave:j,onLeaveCancelled:K,onBeforeAppear:Z=R,onAppear:Q=F,onAppearCancelled:U=V}=e,z=(te,le,Ne)=>{la(te,le?p:l),la(te,le?f:s),Ne&&Ne()},Y=(te,le)=>{te._isLeaving=!1,la(te,y),la(te,x),la(te,_),le&&le()},ae=te=>(le,Ne)=>{const Be=te?Q:F,me=()=>z(le,te,Ne);za(Be,[le,me]),X0(()=>{la(le,te?d:a),En(le,te?p:l),K0(Be)||J0(le,n,P,me)})};return Xt(e,{onBeforeEnter(te){za(R,[te]),En(te,a),En(te,s)},onBeforeAppear(te){za(Z,[te]),En(te,d),En(te,f)},onEnter:ae(!1),onAppear:ae(!0),onLeave(te,le){te._isLeaving=!0;const Ne=()=>Y(te,le);En(te,y),En(te,_),dT(),X0(()=>{!te._isLeaving||(la(te,y),En(te,x),K0(j)||J0(te,n,D,Ne))}),za(j,[te,Ne])},onEnterCancelled(te){z(te,!1),za(V,[te])},onAppearCancelled(te){z(te,!0),za(U,[te])},onLeaveCancelled(te){Y(te),za(K,[te])}})}function yA(r){if(r==null)return null;if(Pt(r))return[tp(r.enter),tp(r.leave)];{const e=tp(r);return[e,e]}}function tp(r){return EC(r)}function En(r,e){e.split(/\s+/).forEach(i=>i&&r.classList.add(i)),(r[ao]||(r[ao]=new Set)).add(e)}function la(r,e){e.split(/\s+/).forEach(n=>n&&r.classList.remove(n));const i=r[ao];i&&(i.delete(e),i.size||(r[ao]=void 0))}function X0(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let bA=0;function J0(r,e,i,n){const t=r._endId=++bA,a=()=>{t===r._endId&&n()};if(i)return setTimeout(a,i);const{type:s,timeout:l,propCount:d}=cT(r,e);if(!s)return n();const f=s+"end";let p=0;const y=()=>{r.removeEventListener(f,_),a()},_=x=>{x.target===r&&++p>=d&&y()};setTimeout(()=>{p<d&&y()},l+1),r.addEventListener(f,_)}function cT(r,e){const i=window.getComputedStyle(r),n=A=>(i[A]||"").split(", "),t=n(`${sa}Delay`),a=n(`${sa}Duration`),s=Y0(t,a),l=n(`${pu}Delay`),d=n(`${pu}Duration`),f=Y0(l,d);let p=null,y=0,_=0;e===sa?s>0&&(p=sa,y=s,_=a.length):e===pu?f>0&&(p=pu,y=f,_=d.length):(y=Math.max(s,f),p=y>0?s>f?sa:pu:null,_=p?p===sa?a.length:d.length:0);const x=p===sa&&/\b(transform|all)(,|$)/.test(n(`${sa}Property`).toString());return{type:p,timeout:y,propCount:_,hasTransform:x}}function Y0(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((i,n)=>Q0(i)+Q0(r[n])))}function Q0(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function dT(){return document.body.offsetHeight}function TA(r,e,i){const n=r[ao];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):i?r.setAttribute("class",e):r.className=e}const ud=Symbol("_vod"),fT=Symbol("_vsh"),$R={beforeMount(r,{value:e},{transition:i}){r[ud]=r.style.display==="none"?"":r.style.display,i&&e?i.beforeEnter(r):gu(r,e)},mounted(r,{value:e},{transition:i}){i&&e&&i.enter(r)},updated(r,{value:e,oldValue:i},{transition:n}){!e!=!i&&(n?e?(n.beforeEnter(r),gu(r,!0),n.enter(r)):n.leave(r,()=>{gu(r,!1)}):gu(r,e))},beforeUnmount(r,{value:e}){gu(r,e)}};function gu(r,e){r.style.display=e?r[ud]:"none",r[fT]=!e}const SA=Symbol(""),xA=/(^|;)\s*display\s*:/;function EA(r,e,i){const n=r.style,t=jt(i);let a=!1;if(i&&!t){if(e)if(jt(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();i[l]==null&&Xc(n,l,"")}else for(const s in e)i[s]==null&&Xc(n,s,"");for(const s in i)s==="display"&&(a=!0),Xc(n,s,i[s])}else if(t){if(e!==i){const s=n[SA];s&&(i+=";"+s),n.cssText=i,a=xA.test(i)}}else e&&r.removeAttribute("style");ud in r&&(r[ud]=a?n.display:"",r[fT]&&(n.display="none"))}const Z0=/\s*!important$/;function Xc(r,e,i){if(Ke(i))i.forEach(n=>Xc(r,e,n));else if(i==null&&(i=""),e.startsWith("--"))r.setProperty(e,i);else{const n=CA(r,e);Z0.test(i)?r.setProperty(So(n),i.replace(Z0,""),"important"):r[n]=i}}const e_=["Webkit","Moz","ms"],rp={};function CA(r,e){const i=rp[e];if(i)return i;let n=un(e);if(n!=="filter"&&n in r)return rp[e]=n;n=Fd(n);for(let t=0;t<e_.length;t++){const a=e_[t]+n;if(a in r)return rp[e]=a}return e}const t_="http://www.w3.org/1999/xlink";function wA(r,e,i,n,t){if(n&&e.startsWith("xlink:"))i==null?r.removeAttributeNS(t_,e.slice(6,e.length)):r.setAttributeNS(t_,e,i);else{const a=PC(e);i==null||a&&!sb(i)?r.removeAttribute(e):r.setAttribute(e,a?"":i)}}function AA(r,e,i,n,t,a,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,t,a),r[e]=i==null?"":i;return}const l=r.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const f=l==="OPTION"?r.getAttribute("value")||"":r.value,p=i==null?"":i;(f!==p||!("_value"in r))&&(r.value=p),i==null&&r.removeAttribute(e),r._value=i;return}let d=!1;if(i===""||i==null){const f=typeof r[e];f==="boolean"?i=sb(i):i==null&&f==="string"?(i="",d=!0):f==="number"&&(i=0,d=!0)}try{r[e]=i}catch{}d&&r.removeAttribute(e)}function kA(r,e,i,n){r.addEventListener(e,i,n)}function DA(r,e,i,n){r.removeEventListener(e,i,n)}const r_=Symbol("_vei");function PA(r,e,i,n,t=null){const a=r[r_]||(r[r_]={}),s=a[e];if(n&&s)s.value=n;else{const[l,d]=IA(e);if(n){const f=a[e]=RA(n,t);kA(r,l,f,d)}else s&&(DA(r,l,s,d),a[e]=void 0)}}const i_=/(?:Once|Passive|Capture)$/;function IA(r){let e;if(i_.test(r)){e={};let n;for(;n=r.match(i_);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):So(r.slice(2)),e]}let ip=0;const OA=Promise.resolve(),LA=()=>ip||(OA.then(()=>ip=0),ip=Date.now());function RA(r,e){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;Ei(NA(n,i.value),e,5,[n])};return i.value=r,i.attached=LA(),i}function NA(r,e){if(Ke(e)){const i=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{i.call(r),r._stopped=!0},e.map(n=>t=>!t._stopped&&n&&n(t))}else return e}const n_=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,FA=(r,e,i,n,t,a,s,l,d)=>{const f=t==="svg";e==="class"?TA(r,n,f):e==="style"?EA(r,i,n):Rd(e)?Dg(e)||PA(r,e,i,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):MA(r,e,n,f))?AA(r,e,n,a,s,l,d):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),wA(r,e,n,f))};function MA(r,e,i,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in r&&n_(e)&&tt(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const t=r.tagName;if(t==="IMG"||t==="VIDEO"||t==="CANVAS"||t==="SOURCE")return!1}return n_(e)&&jt(i)?!1:e in r}const hT=new WeakMap,pT=new WeakMap,ld=Symbol("_moveCb"),a_=Symbol("_enterCb"),gT={name:"TransitionGroup",props:Xt({},_A,{tag:String,moveClass:String}),setup(r,{slots:e}){const i=Zg(),n=Ub();let t,a;return zg(()=>{if(!t.length)return;const s=r.moveClass||`${r.name||"v"}-move`;if(!VA(t[0].el,i.vnode.el,s))return;t.forEach(UA),t.forEach(jA);const l=t.filter(HA);dT(),l.forEach(d=>{const f=d.el,p=f.style;En(f,s),p.transform=p.webkitTransform=p.transitionDuration="";const y=f[ld]=_=>{_&&_.target!==f||(!_||/transform$/.test(_.propertyName))&&(f.removeEventListener("transitionend",y),f[ld]=null,la(f,s))};f.addEventListener("transitionend",y)})}),()=>{const s=dt(r),l=lT(s);let d=s.tag||ui;if(t=[],a)for(let f=0;f<a.length;f++){const p=a[f];p.el&&p.el instanceof Element&&(t.push(p),no(p,Xu(p,l,n,i)),hT.set(p,p.el.getBoundingClientRect()))}a=e.default?Gg(e.default()):[];for(let f=0;f<a.length;f++){const p=a[f];p.key!=null&&no(p,Xu(p,l,n,i))}return Ir(d,null,a)}}},BA=r=>delete r.mode;gT.props;const WR=gT;function UA(r){const e=r.el;e[ld]&&e[ld](),e[a_]&&e[a_]()}function jA(r){pT.set(r,r.el.getBoundingClientRect())}function HA(r){const e=hT.get(r),i=pT.get(r),n=e.left-i.left,t=e.top-i.top;if(n||t){const a=r.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${t}px)`,a.transitionDuration="0s",r}}function VA(r,e,i){const n=r.cloneNode(),t=r[ao];t&&t.forEach(l=>{l.split(/\s+/).forEach(d=>d&&n.classList.remove(d))}),i.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(n);const{hasTransform:s}=cT(n);return a.removeChild(n),s}const qA=["ctrl","shift","alt","meta"],$A={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>qA.some(i=>r[`${i}Key`]&&!e.includes(i))},GR=(r,e)=>{const i=r._withMods||(r._withMods={}),n=e.join(".");return i[n]||(i[n]=(t,...a)=>{for(let s=0;s<e.length;s++){const l=$A[e[s]];if(l&&l(t,e))return}return r(t,...a)})},WA=Xt({patchProp:FA},vA);let s_;function GA(){return s_||(s_=zw(WA))}const zA=(...r)=>{const e=GA().createApp(...r),{mount:i}=e;return e.mount=n=>{const t=XA(n);if(!t)return;const a=e._component;!tt(a)&&!a.render&&!a.template&&(a.template=t.innerHTML),t.innerHTML="";const s=i(t,!1,KA(t));return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),s},e};function KA(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function XA(r){return jt(r)?document.querySelector(r):r}var JA=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let mT;const Jd=r=>mT=r,vT=Symbol();function Wp(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Bu;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Bu||(Bu={}));function YA(){const r=lb(!0),e=r.run(()=>Ui({}));let i=[],n=[];const t=Ug({install(a){Jd(t),t._a=a,a.provide(vT,t),a.config.globalProperties.$pinia=t,n.forEach(s=>i.push(s)),n=[]},use(a){return!this._a&&!JA?n.push(a):i.push(a),this},_p:i,_a:null,_e:r,_s:new Map,state:e});return t}const _T=()=>{};function o_(r,e,i,n=_T){r.push(e);const t=()=>{const a=r.indexOf(e);a>-1&&(r.splice(a,1),n())};return!i&&cb()&&OC(t),t}function Rs(r,...e){r.slice().forEach(i=>{i(...e)})}const QA=r=>r();function Gp(r,e){r instanceof Map&&e instanceof Map&&e.forEach((i,n)=>r.set(n,i)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const i in e){if(!e.hasOwnProperty(i))continue;const n=e[i],t=r[i];Wp(t)&&Wp(n)&&r.hasOwnProperty(i)&&!er(n)&&!rs(n)?r[i]=Gp(t,n):r[i]=n}return r}const ZA=Symbol();function ek(r){return!Wp(r)||!r.hasOwnProperty(ZA)}const{assign:ca}=Object;function tk(r){return!!(er(r)&&r.effect)}function rk(r,e,i,n){const{state:t,actions:a,getters:s}=e,l=i.state.value[r];let d;function f(){l||(i.state.value[r]=t?t():{});const p=rw(i.state.value[r]);return ca(p,a,Object.keys(s||{}).reduce((y,_)=>(y[_]=Ug(Mr(()=>{Jd(i);const x=i._s.get(r);return s[_].call(x,x)})),y),{}))}return d=yT(r,f,e,i,n,!0),d}function yT(r,e,i={},n,t,a){let s;const l=ca({actions:{}},i),d={deep:!0};let f,p,y=[],_=[],x;const A=n.state.value[r];!a&&!A&&(n.state.value[r]={}),Ui({});let P;function D(U){let z;f=p=!1,typeof U=="function"?(U(n.state.value[r]),z={type:Bu.patchFunction,storeId:r,events:x}):(Gp(n.state.value[r],U),z={type:Bu.patchObject,payload:U,storeId:r,events:x});const Y=P=Symbol();Vg().then(()=>{P===Y&&(f=!0)}),p=!0,Rs(y,z,n.state.value[r])}const R=a?function(){const{state:z}=i,Y=z?z():{};this.$patch(ae=>{ca(ae,Y)})}:_T;function F(){s.stop(),y=[],_=[],n._s.delete(r)}function V(U,z){return function(){Jd(n);const Y=Array.from(arguments),ae=[],te=[];function le(me){ae.push(me)}function Ne(me){te.push(me)}Rs(_,{args:Y,name:U,store:K,after:le,onError:Ne});let Be;try{Be=z.apply(this&&this.$id===r?this:K,Y)}catch(me){throw Rs(te,me),me}return Be instanceof Promise?Be.then(me=>(Rs(ae,me),me)).catch(me=>(Rs(te,me),Promise.reject(me))):(Rs(ae,Be),Be)}}const j={_p:n,$id:r,$onAction:o_.bind(null,_),$patch:D,$reset:R,$subscribe(U,z={}){const Y=o_(y,U,z.detached,()=>ae()),ae=s.run(()=>nn(()=>n.state.value[r],te=>{(z.flush==="sync"?p:f)&&U({storeId:r,type:Bu.direct,events:x},te)},ca({},d,z)));return Y},$dispose:F},K=pl(j);n._s.set(r,K);const Q=(n._a&&n._a.runWithContext||QA)(()=>n._e.run(()=>(s=lb()).run(e)));for(const U in Q){const z=Q[U];if(er(z)&&!tk(z)||rs(z))a||(A&&ek(z)&&(er(z)?z.value=A[U]:Gp(z,A[U])),n.state.value[r][U]=z);else if(typeof z=="function"){const Y=V(U,z);Q[U]=Y,l.actions[U]=z}}return ca(K,Q),ca(dt(K),Q),Object.defineProperty(K,"$state",{get:()=>n.state.value[r],set:U=>{D(z=>{ca(z,U)})}}),n._p.forEach(U=>{ca(K,s.run(()=>U({store:K,app:n._a,pinia:n,options:l})))}),A&&a&&i.hydrate&&i.hydrate(K.$state,A),f=!0,p=!0,K}function zR(r,e,i){let n,t;const a=typeof e=="function";typeof r=="string"?(n=r,t=a?i:e):(t=r,n=r.id);function s(l,d){const f=jw();return l=l||(f?Yr(vT,null):null),l&&Jd(l),l=mT,l._s.has(n)||(a?yT(n,e,t,l):rk(n,t,l)),l._s.get(n)}return s.$id=n,s}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof document<"u";function ik(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const Tt=Object.assign;function np(r,e){const i={};for(const n in e){const t=e[n];i[n]=Mi(t)?t.map(r):r(t)}return i}const Uu=()=>{},Mi=Array.isArray,bT=/#/g,nk=/&/g,ak=/\//g,sk=/=/g,ok=/\?/g,TT=/\+/g,uk=/%5B/g,lk=/%5D/g,ST=/%5E/g,ck=/%60/g,xT=/%7B/g,dk=/%7C/g,ET=/%7D/g,fk=/%20/g;function em(r){return encodeURI(""+r).replace(dk,"|").replace(uk,"[").replace(lk,"]")}function hk(r){return em(r).replace(xT,"{").replace(ET,"}").replace(ST,"^")}function zp(r){return em(r).replace(TT,"%2B").replace(fk,"+").replace(bT,"%23").replace(nk,"%26").replace(ck,"`").replace(xT,"{").replace(ET,"}").replace(ST,"^")}function pk(r){return zp(r).replace(sk,"%3D")}function gk(r){return em(r).replace(bT,"%23").replace(ok,"%3F")}function mk(r){return r==null?"":gk(r).replace(ak,"%2F")}function Zu(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const vk=/\/$/,_k=r=>r.replace(vk,"");function ap(r,e,i="/"){let n,t={},a="",s="";const l=e.indexOf("#");let d=e.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(n=e.slice(0,d),a=e.slice(d+1,l>-1?l:e.length),t=r(a)),l>-1&&(n=n||e.slice(0,l),s=e.slice(l,e.length)),n=Sk(n!=null?n:e,i),{fullPath:n+(a&&"?")+a+s,path:n,query:t,hash:Zu(s)}}function yk(r,e){const i=e.query?r(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function u_(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function bk(r,e,i){const n=e.matched.length-1,t=i.matched.length-1;return n>-1&&n===t&&so(e.matched[n],i.matched[t])&&CT(e.params,i.params)&&r(e.query)===r(i.query)&&e.hash===i.hash}function so(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function CT(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const i in r)if(!Tk(r[i],e[i]))return!1;return!0}function Tk(r,e){return Mi(r)?l_(r,e):Mi(e)?l_(e,r):r===e}function l_(r,e){return Mi(e)?r.length===e.length&&r.every((i,n)=>i===e[n]):r.length===1&&r[0]===e}function Sk(r,e){if(r.startsWith("/"))return r;if(!r)return e;const i=e.split("/"),n=r.split("/"),t=n[n.length-1];(t===".."||t===".")&&n.push("");let a=i.length-1,s,l;for(s=0;s<n.length;s++)if(l=n[s],l!==".")if(l==="..")a>1&&a--;else break;return i.slice(0,a).join("/")+"/"+n.slice(s).join("/")}var el;(function(r){r.pop="pop",r.push="push"})(el||(el={}));var ju;(function(r){r.back="back",r.forward="forward",r.unknown=""})(ju||(ju={}));function xk(r){if(!r)if(qs){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),_k(r)}const Ek=/^[^#]+#/;function Ck(r,e){return r.replace(Ek,"#")+e}function wk(r,e){const i=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}const Yd=()=>({left:window.scrollX,top:window.scrollY});function Ak(r){let e;if("el"in r){const i=r.el,n=typeof i=="string"&&i.startsWith("#"),t=typeof i=="string"?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!t)return;e=wk(t,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function c_(r,e){return(history.state?history.state.position-e:-1)+r}const Kp=new Map;function kk(r,e){Kp.set(r,e)}function Dk(r){const e=Kp.get(r);return Kp.delete(r),e}let Pk=()=>location.protocol+"//"+location.host;function wT(r,e){const{pathname:i,search:n,hash:t}=e,a=r.indexOf("#");if(a>-1){let l=t.includes(r.slice(a))?r.slice(a).length:1,d=t.slice(l);return d[0]!=="/"&&(d="/"+d),u_(d,"")}return u_(i,r)+n+t}function Ik(r,e,i,n){let t=[],a=[],s=null;const l=({state:_})=>{const x=wT(r,location),A=i.value,P=e.value;let D=0;if(_){if(i.value=x,e.value=_,s&&s===A){s=null;return}D=P?_.position-P.position:0}else n(x);t.forEach(R=>{R(i.value,A,{delta:D,type:el.pop,direction:D?D>0?ju.forward:ju.back:ju.unknown})})};function d(){s=i.value}function f(_){t.push(_);const x=()=>{const A=t.indexOf(_);A>-1&&t.splice(A,1)};return a.push(x),x}function p(){const{history:_}=window;!_.state||_.replaceState(Tt({},_.state,{scroll:Yd()}),"")}function y(){for(const _ of a)_();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:d,listen:f,destroy:y}}function d_(r,e,i,n=!1,t=!1){return{back:r,current:e,forward:i,replaced:n,position:window.history.length,scroll:t?Yd():null}}function Ok(r){const{history:e,location:i}=window,n={value:wT(r,i)},t={value:e.state};t.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(d,f,p){const y=r.indexOf("#"),_=y>-1?(i.host&&document.querySelector("base")?r:r.slice(y))+d:Pk()+r+d;try{e[p?"replaceState":"pushState"](f,"",_),t.value=f}catch(x){console.error(x),i[p?"replace":"assign"](_)}}function s(d,f){const p=Tt({},e.state,d_(t.value.back,d,t.value.forward,!0),f,{position:t.value.position});a(d,p,!0),n.value=d}function l(d,f){const p=Tt({},t.value,e.state,{forward:d,scroll:Yd()});a(p.current,p,!0);const y=Tt({},d_(n.value,d,null),{position:p.position+1},f);a(d,y,!1),n.value=d}return{location:n,state:t,push:l,replace:s}}function Lk(r){r=xk(r);const e=Ok(r),i=Ik(r,e.state,e.location,e.replace);function n(a,s=!0){s||i.pauseListeners(),history.go(a)}const t=Tt({location:"",base:r,go:n,createHref:Ck.bind(null,r)},e,i);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>e.state.value}),t}function Rk(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),Lk(r)}function Nk(r){return typeof r=="string"||r&&typeof r=="object"}function AT(r){return typeof r=="string"||typeof r=="symbol"}const oa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kT=Symbol("");var f_;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(f_||(f_={}));function oo(r,e){return Tt(new Error,{type:r,[kT]:!0},e)}function Sn(r,e){return r instanceof Error&&kT in r&&(e==null||!!(r.type&e))}const h_="[^/]+?",Fk={sensitive:!1,strict:!1,start:!0,end:!0},Mk=/[.+*?^${}()[\]/\\]/g;function Bk(r,e){const i=Tt({},Fk,e),n=[];let t=i.start?"^":"";const a=[];for(const f of r){const p=f.length?[]:[90];i.strict&&!f.length&&(t+="/");for(let y=0;y<f.length;y++){const _=f[y];let x=40+(i.sensitive?.25:0);if(_.type===0)y||(t+="/"),t+=_.value.replace(Mk,"\\$&"),x+=40;else if(_.type===1){const{value:A,repeatable:P,optional:D,regexp:R}=_;a.push({name:A,repeatable:P,optional:D});const F=R||h_;if(F!==h_){x+=10;try{new RegExp(`(${F})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${A}" (${F}): `+j.message)}}let V=P?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;y||(V=D&&f.length<2?`(?:/${V})`:"/"+V),D&&(V+="?"),t+=V,x+=20,D&&(x+=-8),P&&(x+=-20),F===".*"&&(x+=-50)}p.push(x)}n.push(p)}if(i.strict&&i.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}i.strict||(t+="/?"),i.end?t+="$":i.strict&&(t+="(?:/|$)");const s=new RegExp(t,i.sensitive?"":"i");function l(f){const p=f.match(s),y={};if(!p)return null;for(let _=1;_<p.length;_++){const x=p[_]||"",A=a[_-1];y[A.name]=x&&A.repeatable?x.split("/"):x}return y}function d(f){let p="",y=!1;for(const _ of r){(!y||!p.endsWith("/"))&&(p+="/"),y=!1;for(const x of _)if(x.type===0)p+=x.value;else if(x.type===1){const{value:A,repeatable:P,optional:D}=x,R=A in f?f[A]:"";if(Mi(R)&&!P)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const F=Mi(R)?R.join("/"):R;if(!F)if(D)_.length<2&&(p.endsWith("/")?p=p.slice(0,-1):y=!0);else throw new Error(`Missing required param "${A}"`);p+=F}}return p||"/"}return{re:s,score:n,keys:a,parse:l,stringify:d}}function Uk(r,e){let i=0;for(;i<r.length&&i<e.length;){const n=e[i]-r[i];if(n)return n;i++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function jk(r,e){let i=0;const n=r.score,t=e.score;for(;i<n.length&&i<t.length;){const a=Uk(n[i],t[i]);if(a)return a;i++}if(Math.abs(t.length-n.length)===1){if(p_(n))return 1;if(p_(t))return-1}return t.length-n.length}function p_(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const Hk={type:0,value:""},Vk=/[a-zA-Z0-9_]/;function qk(r){if(!r)return[[]];if(r==="/")return[[Hk]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(x){throw new Error(`ERR (${i})/"${f}": ${x}`)}let i=0,n=i;const t=[];let a;function s(){a&&t.push(a),a=[]}let l=0,d,f="",p="";function y(){!f||(i===0?a.push({type:0,value:f}):i===1||i===2||i===3?(a.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:f,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;l<r.length;){if(d=r[l++],d==="\\"&&i!==2){n=i,i=4;continue}switch(i){case 0:d==="/"?(f&&y(),s()):d===":"?(y(),i=1):_();break;case 4:_(),i=n;break;case 1:d==="("?i=2:Vk.test(d)?_():(y(),i=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:i=3:p+=d;break;case 3:y(),i=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,p="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${f}"`),y(),s(),t}function $k(r,e,i){const n=Bk(qk(r.path),i),t=Tt(n,{record:r,parent:e,children:[],alias:[]});return e&&!t.record.aliasOf==!e.record.aliasOf&&e.children.push(t),t}function Wk(r,e){const i=[],n=new Map;e=v_({strict:!1,end:!0,sensitive:!1},e);function t(p){return n.get(p)}function a(p,y,_){const x=!_,A=Gk(p);A.aliasOf=_&&_.record;const P=v_(e,p),D=[A];if("alias"in p){const V=typeof p.alias=="string"?[p.alias]:p.alias;for(const j of V)D.push(Tt({},A,{components:_?_.record.components:A.components,path:j,aliasOf:_?_.record:A}))}let R,F;for(const V of D){const{path:j}=V;if(y&&j[0]!=="/"){const K=y.record.path,Z=K[K.length-1]==="/"?"":"/";V.path=y.record.path+(j&&Z+j)}if(R=$k(V,y,P),_?_.alias.push(R):(F=F||R,F!==R&&F.alias.push(R),x&&p.name&&!m_(R)&&s(p.name)),A.children){const K=A.children;for(let Z=0;Z<K.length;Z++)a(K[Z],R,_&&_.children[Z])}_=_||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&d(R)}return F?()=>{s(F)}:Uu}function s(p){if(AT(p)){const y=n.get(p);y&&(n.delete(p),i.splice(i.indexOf(y),1),y.children.forEach(s),y.alias.forEach(s))}else{const y=i.indexOf(p);y>-1&&(i.splice(y,1),p.record.name&&n.delete(p.record.name),p.children.forEach(s),p.alias.forEach(s))}}function l(){return i}function d(p){let y=0;for(;y<i.length&&jk(p,i[y])>=0&&(p.record.path!==i[y].record.path||!DT(p,i[y]));)y++;i.splice(y,0,p),p.record.name&&!m_(p)&&n.set(p.record.name,p)}function f(p,y){let _,x={},A,P;if("name"in p&&p.name){if(_=n.get(p.name),!_)throw oo(1,{location:p});P=_.record.name,x=Tt(g_(y.params,_.keys.filter(F=>!F.optional).concat(_.parent?_.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),p.params&&g_(p.params,_.keys.map(F=>F.name))),A=_.stringify(x)}else if(p.path!=null)A=p.path,_=i.find(F=>F.re.test(A)),_&&(x=_.parse(A),P=_.record.name);else{if(_=y.name?n.get(y.name):i.find(F=>F.re.test(y.path)),!_)throw oo(1,{location:p,currentLocation:y});P=_.record.name,x=Tt({},y.params,p.params),A=_.stringify(x)}const D=[];let R=_;for(;R;)D.unshift(R.record),R=R.parent;return{name:P,path:A,params:x,matched:D,meta:Kk(D)}}return r.forEach(p=>a(p)),{addRoute:a,resolve:f,removeRoute:s,getRoutes:l,getRecordMatcher:t}}function g_(r,e){const i={};for(const n of e)n in r&&(i[n]=r[n]);return i}function Gk(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:zk(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function zk(r){const e={},i=r.props||!1;if("component"in r)e.default=i;else for(const n in r.components)e[n]=typeof i=="object"?i[n]:i;return e}function m_(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function Kk(r){return r.reduce((e,i)=>Tt(e,i.meta),{})}function v_(r,e){const i={};for(const n in r)i[n]=n in e?e[n]:r[n];return i}function DT(r,e){return e.children.some(i=>i===r||DT(r,i))}function Xk(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let t=0;t<n.length;++t){const a=n[t].replace(TT," "),s=a.indexOf("="),l=Zu(s<0?a:a.slice(0,s)),d=s<0?null:Zu(a.slice(s+1));if(l in e){let f=e[l];Mi(f)||(f=e[l]=[f]),f.push(d)}else e[l]=d}return e}function __(r){let e="";for(let i in r){const n=r[i];if(i=pk(i),n==null){n!==void 0&&(e+=(e.length?"&":"")+i);continue}(Mi(n)?n.map(a=>a&&zp(a)):[n&&zp(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+i,a!=null&&(e+="="+a))})}return e}function Jk(r){const e={};for(const i in r){const n=r[i];n!==void 0&&(e[i]=Mi(n)?n.map(t=>t==null?null:""+t):n==null?n:""+n)}return e}const Yk=Symbol(""),y_=Symbol(""),Qd=Symbol(""),tm=Symbol(""),Xp=Symbol("");function mu(){let r=[];function e(n){return r.push(n),()=>{const t=r.indexOf(n);t>-1&&r.splice(t,1)}}function i(){r=[]}return{add:e,list:()=>r.slice(),reset:i}}function ga(r,e,i,n,t,a=s=>s()){const s=n&&(n.enterCallbacks[t]=n.enterCallbacks[t]||[]);return()=>new Promise((l,d)=>{const f=_=>{_===!1?d(oo(4,{from:i,to:e})):_ instanceof Error?d(_):Nk(_)?d(oo(2,{from:e,to:_})):(s&&n.enterCallbacks[t]===s&&typeof _=="function"&&s.push(_),l())},p=a(()=>r.call(n&&n.instances[t],e,i,f));let y=Promise.resolve(p);r.length<3&&(y=y.then(f)),y.catch(_=>d(_))})}function sp(r,e,i,n,t=a=>a()){const a=[];for(const s of r)for(const l in s.components){let d=s.components[l];if(!(e!=="beforeRouteEnter"&&!s.instances[l]))if(Qk(d)){const p=(d.__vccOpts||d)[e];p&&a.push(ga(p,i,n,s,l,t))}else{let f=d();a.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${s.path}"`));const y=ik(p)?p.default:p;s.components[l]=y;const x=(y.__vccOpts||y)[e];return x&&ga(x,i,n,s,l,t)()}))}}return a}function Qk(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function b_(r){const e=Yr(Qd),i=Yr(tm),n=Mr(()=>{const d=br(r.to);return e.resolve(d)}),t=Mr(()=>{const{matched:d}=n.value,{length:f}=d,p=d[f-1],y=i.matched;if(!p||!y.length)return-1;const _=y.findIndex(so.bind(null,p));if(_>-1)return _;const x=T_(d[f-2]);return f>1&&T_(p)===x&&y[y.length-1].path!==x?y.findIndex(so.bind(null,d[f-2])):_}),a=Mr(()=>t.value>-1&&rD(i.params,n.value.params)),s=Mr(()=>t.value>-1&&t.value===i.matched.length-1&&CT(i.params,n.value.params));function l(d={}){return tD(d)?e[br(r.replace)?"replace":"push"](br(r.to)).catch(Uu):Promise.resolve()}return{route:n,href:Mr(()=>n.value.href),isActive:a,isExactActive:s,navigate:l}}const Zk=gl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:b_,setup(r,{slots:e}){const i=pl(b_(r)),{options:n}=Yr(Qd),t=Mr(()=>({[S_(r.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[S_(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const a=e.default&&e.default(i);return r.custom?a:Qu("a",{"aria-current":i.isExactActive?r.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:t.value},a)}}}),eD=Zk;function tD(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function rD(r,e){for(const i in e){const n=e[i],t=r[i];if(typeof n=="string"){if(n!==t)return!1}else if(!Mi(t)||t.length!==n.length||n.some((a,s)=>a!==t[s]))return!1}return!0}function T_(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const S_=(r,e,i)=>r!=null?r:e!=null?e:i,iD=gl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:i}){const n=Yr(Xp),t=Mr(()=>r.route||n.value),a=Yr(y_,0),s=Mr(()=>{let f=br(a);const{matched:p}=t.value;let y;for(;(y=p[f])&&!y.components;)f++;return f}),l=Mr(()=>t.value.matched[s.value]);Gc(y_,Mr(()=>s.value+1)),Gc(Yk,l),Gc(Xp,t);const d=Ui();return nn(()=>[d.value,l.value,r.name],([f,p,y],[_,x,A])=>{p&&(p.instances[y]=f,x&&x!==p&&f&&f===_&&(p.leaveGuards.size||(p.leaveGuards=x.leaveGuards),p.updateGuards.size||(p.updateGuards=x.updateGuards))),f&&p&&(!x||!so(p,x)||!_)&&(p.enterCallbacks[y]||[]).forEach(P=>P(f))},{flush:"post"}),()=>{const f=t.value,p=r.name,y=l.value,_=y&&y.components[p];if(!_)return x_(i.default,{Component:_,route:f});const x=y.props[p],A=x?x===!0?f.params:typeof x=="function"?x(f):x:null,D=Qu(_,Tt({},A,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(y.instances[p]=null)},ref:d}));return x_(i.default,{Component:D,route:f})||D}}});function x_(r,e){if(!r)return null;const i=r(e);return i.length===1?i[0]:i}const PT=iD;function nD(r){const e=Wk(r.routes,r),i=r.parseQuery||Xk,n=r.stringifyQuery||__,t=r.history,a=mu(),s=mu(),l=mu(),d=Wc(oa);let f=oa;qs&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=np.bind(null,se=>""+se),y=np.bind(null,mk),_=np.bind(null,Zu);function x(se,Se){let Ee,Re;return AT(se)?(Ee=e.getRecordMatcher(se),Re=Se):Re=se,e.addRoute(Re,Ee)}function A(se){const Se=e.getRecordMatcher(se);Se&&e.removeRoute(Se)}function P(){return e.getRoutes().map(se=>se.record)}function D(se){return!!e.getRecordMatcher(se)}function R(se,Se){if(Se=Tt({},Se||d.value),typeof se=="string"){const G=ap(i,se,Se.path),ee=e.resolve({path:G.path},Se),oe=t.createHref(G.fullPath);return Tt(G,ee,{params:_(ee.params),hash:Zu(G.hash),redirectedFrom:void 0,href:oe})}let Ee;if(se.path!=null)Ee=Tt({},se,{path:ap(i,se.path,Se.path).path});else{const G=Tt({},se.params);for(const ee in G)G[ee]==null&&delete G[ee];Ee=Tt({},se,{params:y(G)}),Se.params=y(Se.params)}const Re=e.resolve(Ee,Se),st=se.hash||"";Re.params=p(_(Re.params));const yt=yk(n,Tt({},se,{hash:hk(st),path:Re.path})),B=t.createHref(yt);return Tt({fullPath:yt,hash:st,query:n===__?Jk(se.query):se.query||{}},Re,{redirectedFrom:void 0,href:B})}function F(se){return typeof se=="string"?ap(i,se,d.value.path):Tt({},se)}function V(se,Se){if(f!==se)return oo(8,{from:Se,to:se})}function j(se){return Q(se)}function K(se){return j(Tt(F(se),{replace:!0}))}function Z(se){const Se=se.matched[se.matched.length-1];if(Se&&Se.redirect){const{redirect:Ee}=Se;let Re=typeof Ee=="function"?Ee(se):Ee;return typeof Re=="string"&&(Re=Re.includes("?")||Re.includes("#")?Re=F(Re):{path:Re},Re.params={}),Tt({query:se.query,hash:se.hash,params:Re.path!=null?{}:se.params},Re)}}function Q(se,Se){const Ee=f=R(se),Re=d.value,st=se.state,yt=se.force,B=se.replace===!0,G=Z(Ee);if(G)return Q(Tt(F(G),{state:typeof G=="object"?Tt({},st,G.state):st,force:yt,replace:B}),Se||Ee);const ee=Ee;ee.redirectedFrom=Se;let oe;return!yt&&bk(n,Re,Ee)&&(oe=oo(16,{to:ee,from:Re}),ir(Re,Re,!0,!1)),(oe?Promise.resolve(oe):Y(ee,Re)).catch(ne=>Sn(ne)?Sn(ne,2)?ne:it(ne):Fe(ne,ee,Re)).then(ne=>{if(ne){if(Sn(ne,2))return Q(Tt({replace:B},F(ne.to),{state:typeof ne.to=="object"?Tt({},st,ne.to.state):st,force:yt}),Se||ee)}else ne=te(ee,Re,!0,B,st);return ae(ee,Re,ne),ne})}function U(se,Se){const Ee=V(se,Se);return Ee?Promise.reject(Ee):Promise.resolve()}function z(se){const Se=gr.values().next().value;return Se&&typeof Se.runWithContext=="function"?Se.runWithContext(se):se()}function Y(se,Se){let Ee;const[Re,st,yt]=aD(se,Se);Ee=sp(Re.reverse(),"beforeRouteLeave",se,Se);for(const G of Re)G.leaveGuards.forEach(ee=>{Ee.push(ga(ee,se,Se))});const B=U.bind(null,se,Se);return Ee.push(B),pt(Ee).then(()=>{Ee=[];for(const G of a.list())Ee.push(ga(G,se,Se));return Ee.push(B),pt(Ee)}).then(()=>{Ee=sp(st,"beforeRouteUpdate",se,Se);for(const G of st)G.updateGuards.forEach(ee=>{Ee.push(ga(ee,se,Se))});return Ee.push(B),pt(Ee)}).then(()=>{Ee=[];for(const G of yt)if(G.beforeEnter)if(Mi(G.beforeEnter))for(const ee of G.beforeEnter)Ee.push(ga(ee,se,Se));else Ee.push(ga(G.beforeEnter,se,Se));return Ee.push(B),pt(Ee)}).then(()=>(se.matched.forEach(G=>G.enterCallbacks={}),Ee=sp(yt,"beforeRouteEnter",se,Se,z),Ee.push(B),pt(Ee))).then(()=>{Ee=[];for(const G of s.list())Ee.push(ga(G,se,Se));return Ee.push(B),pt(Ee)}).catch(G=>Sn(G,8)?G:Promise.reject(G))}function ae(se,Se,Ee){l.list().forEach(Re=>z(()=>Re(se,Se,Ee)))}function te(se,Se,Ee,Re,st){const yt=V(se,Se);if(yt)return yt;const B=Se===oa,G=qs?history.state:{};Ee&&(Re||B?t.replace(se.fullPath,Tt({scroll:B&&G&&G.scroll},st)):t.push(se.fullPath,st)),d.value=se,ir(se,Se,Ee,B),it()}let le;function Ne(){le||(le=t.listen((se,Se,Ee)=>{if(!xr.listening)return;const Re=R(se),st=Z(Re);if(st){Q(Tt(st,{replace:!0}),Re).catch(Uu);return}f=Re;const yt=d.value;qs&&kk(c_(yt.fullPath,Ee.delta),Yd()),Y(Re,yt).catch(B=>Sn(B,12)?B:Sn(B,2)?(Q(B.to,Re).then(G=>{Sn(G,20)&&!Ee.delta&&Ee.type===el.pop&&t.go(-1,!1)}).catch(Uu),Promise.reject()):(Ee.delta&&t.go(-Ee.delta,!1),Fe(B,Re,yt))).then(B=>{B=B||te(Re,yt,!1),B&&(Ee.delta&&!Sn(B,8)?t.go(-Ee.delta,!1):Ee.type===el.pop&&Sn(B,20)&&t.go(-1,!1)),ae(Re,yt,B)}).catch(Uu)}))}let Be=mu(),me=mu(),Ae;function Fe(se,Se,Ee){it(se);const Re=me.list();return Re.length?Re.forEach(st=>st(se,Se,Ee)):console.error(se),Promise.reject(se)}function mt(){return Ae&&d.value!==oa?Promise.resolve():new Promise((se,Se)=>{Be.add([se,Se])})}function it(se){return Ae||(Ae=!se,Ne(),Be.list().forEach(([Se,Ee])=>se?Ee(se):Se()),Be.reset()),se}function ir(se,Se,Ee,Re){const{scrollBehavior:st}=r;if(!qs||!st)return Promise.resolve();const yt=!Ee&&Dk(c_(se.fullPath,0))||(Re||!Ee)&&history.state&&history.state.scroll||null;return Vg().then(()=>st(se,Se,yt)).then(B=>B&&Ak(B)).catch(B=>Fe(B,se,Se))}const vt=se=>t.go(se);let nr;const gr=new Set,xr={currentRoute:d,listening:!0,addRoute:x,removeRoute:A,hasRoute:D,getRoutes:P,resolve:R,options:r,push:j,replace:K,go:vt,back:()=>vt(-1),forward:()=>vt(1),beforeEach:a.add,beforeResolve:s.add,afterEach:l.add,onError:me.add,isReady:mt,install(se){const Se=this;se.component("RouterLink",eD),se.component("RouterView",PT),se.config.globalProperties.$router=Se,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>br(d)}),qs&&!nr&&d.value===oa&&(nr=!0,j(t.location).catch(st=>{}));const Ee={};for(const st in oa)Object.defineProperty(Ee,st,{get:()=>d.value[st],enumerable:!0});se.provide(Qd,Se),se.provide(tm,Sb(Ee)),se.provide(Xp,d);const Re=se.unmount;gr.add(se),se.unmount=function(){gr.delete(se),gr.size<1&&(f=oa,le&&le(),le=null,d.value=oa,nr=!1,Ae=!1),Re()}}};function pt(se){return se.reduce((Se,Ee)=>Se.then(()=>z(Ee)),Promise.resolve())}return xr}function aD(r,e){const i=[],n=[],t=[],a=Math.max(e.matched.length,r.matched.length);for(let s=0;s<a;s++){const l=e.matched[s];l&&(r.matched.find(f=>so(f,l))?n.push(l):i.push(l));const d=r.matched[s];d&&(e.matched.find(f=>so(f,d))||t.push(d))}return[i,n,t]}function KR(){return Yr(Qd)}function XR(){return Yr(tm)}const sD=gl({__name:"App",setup(r){return(e,i)=>(zd(),Yg(br(PT)))}}),oD="modulepreload",uD=function(r){return"/"+r},E_={},vu=function(e,i,n){if(!i||i.length===0)return e();const t=document.getElementsByTagName("link");return Promise.all(i.map(a=>{if(a=uD(a),a in E_)return;E_[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!n)for(let p=t.length-1;p>=0;p--){const y=t[p];if(y.href===a&&(!s||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":oD,s||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),s)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},lD=nD({history:Rk("/"),routes:[{path:"/",redirect:"/",component:()=>vu(()=>import("./defaultView.68be01fd.js"),["assets/defaultView.68be01fd.js","assets/index.6aa83543.js","assets/index.cacfe977.js","assets/use-message.89987699.js","assets/_plugin-vue_export-helper.cdc0426e.js","assets/index.04b10701.js","assets/defaultView.7cee49be.css"]),meta:{title:"",keepAlive:!0},children:[{path:"/",component:()=>vu(()=>import("./indexView.3091bf36.js"),["assets/indexView.3091bf36.js","assets/index.cacfe977.js","assets/index.6aa83543.js","assets/Image.64060063.js","assets/_plugin-vue_export-helper.cdc0426e.js","assets/indexView.4c9d9f1e.css"]),meta:{title:"",keepAlive:!1}},{path:"chat",component:()=>vu(()=>import("./chatView.971624e8.js"),["assets/chatView.971624e8.js","assets/index.6aa83543.js","assets/index.cacfe977.js","assets/use-message.89987699.js","assets/_plugin-vue_export-helper.cdc0426e.js","assets/Image.64060063.js","assets/chatView.a038973a.css"]),meta:{title:"",keepAlive:!1}},{path:"becomePro",component:()=>vu(()=>import("./becomeProView.0c70bbaa.js"),["assets/becomeProView.0c70bbaa.js","assets/index.cacfe977.js","assets/index.04b10701.js","assets/_plugin-vue_export-helper.cdc0426e.js","assets/becomeProView.4bec4b13.css"]),meta:{title:"",keepAlive:!1}},{path:"about",component:()=>vu(()=>import("./about.29355c94.js"),["assets/about.29355c94.js","assets/_plugin-vue_export-helper.cdc0426e.js"]),meta:{title:"",keepAlive:!1}}]}]}),C_=(r,e)=>{const i=r.storage||sessionStorage,n=r.key||e.$id;if(r.paths){const t=r.paths.reduce((a,s)=>(a[s]=e.$state[s],a),{});i.setItem(n,JSON.stringify(t))}else i.setItem(n,JSON.stringify(e.$state))};var cD=({options:r,store:e})=>{var i,n,t,a;if((i=r.persist)!=null&&i.enabled){const s=[{key:e.$id,storage:sessionStorage}],l=(t=(n=r.persist)==null?void 0:n.strategies)!=null&&t.length?(a=r.persist)==null?void 0:a.strategies:s;l.forEach(d=>{const f=d.storage||sessionStorage,p=d.key||e.$id,y=f.getItem(p);y&&(e.$patch(JSON.parse(y)),C_(d,e))}),e.$subscribe(()=>{l.forEach(d=>{C_(d,e)})})}};const rm=Symbol(),im=Ui(!1),Jc=Ui(!1),IT=Ui(!1),Jp=Ui(0);let Oc=null;const dD=()=>{const r=document.createElement("script");return r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r},fD=()=>{Jc.value=!0,Oc=dD(),document.head.appendChild(Oc),Oc.onload=()=>{Jc.value=!1,im.value=!0},Oc.onerror=()=>{Jc.value=!1,IT.value=!0}};nn(()=>Jp.value,(r,e)=>{r>0&&!im.value&&!Jc.value&&fD()});function OT(){return ml(()=>{Jp.value++}),Wd(()=>{Jp.value--}),{scriptLoaded:io(im),scriptLoadError:io(IT)}}const hD=gl({__name:"GoogleSignInButton",props:{oneTap:{type:Boolean},autoSelect:{type:Boolean},loginUri:{},cancelOnTapOutside:{type:Boolean},promptParentId:{},nonce:{},context:{},stateCookieDomain:{},uxMode:{},allowedParentOrigin:{},itpSupport:{type:Boolean},type:{},theme:{},size:{},text:{},shape:{},logoAlignment:{},width:{},locale:{}},emits:["success","error","intermediateIframeCloseCallback","nativeCallback","promptMomentNotification"],setup(r,{emit:e}){const i={large:40,medium:32,small:20},n=r,t=e,a=Yr(rm),s=Ui(null),{scriptLoaded:l}=OT();Mb(()=>{var f,p,y,_;l.value&&((f=window.google)==null||f.accounts.id.initialize({client_id:a,callback:x=>{if(!x.clientId||!x.credential){t("error");return}t("success",x)},allowed_parent_origin:n.allowedParentOrigin,auto_select:n.autoSelect,cancel_on_tap_outside:n.cancelOnTapOutside,context:n.context,intermediate_iframe_close_callback:()=>{t("intermediateIframeCloseCallback")},itp_support:n.itpSupport,login_uri:n.loginUri,native_callback:x=>{t("nativeCallback",x)},nonce:n.nonce,prompt_parent_id:n.promptParentId,state_cookie_domain:n.stateCookieDomain,ux_mode:n.uxMode}),(y=window.google)==null||y.accounts.id.renderButton(s.value,{type:n.type,theme:n.theme,size:n.size,text:n.text,shape:n.shape,logo_alignment:n.logoAlignment,width:(p=n.width)==null?void 0:p.toString(),locale:n.locale}),n.oneTap&&((_=window.google)==null||_.accounts.id.prompt(x=>{t("promptMomentNotification",x)})))}),Wd(()=>{var f;n.oneTap&&((f=window.google)==null||f.accounts.id.cancel())});const d=Mr(()=>i[n.size||"large"]);return(f,p)=>(zd(),tA("div",{ref_key:"targetElement",ref:s,style:Md({display:"inline-flex",height:d.value})},null,4))}});function JR(r){const{disableAutomaticPrompt:e=!1,onSuccess:i,onError:n,onPromptMomentNotification:t,onNativeCallback:a,onIntermediateIframeCloseCallback:s,autoSelect:l,loginUri:d,cancelOnTapOutside:f,promptParentId:p,nonce:y,context:_,stateCookieDomain:x,allowedParentOrigin:A,itpSupport:P}=r||{},{scriptLoaded:D}=OT(),R=Yr(rm),F=Ui(!1),V=()=>{var j;return F.value&&((j=window.google)==null?void 0:j.accounts.id.prompt(K=>t==null?void 0:t(K)))};return Mb(j=>{var K,Z;if(F.value=!1,!D.value)return;const Q=!br(e),U=br(l),z=br(d),Y=br(p),ae=br(y),te=br(_),le=br(x),Ne=br(A),Be=br(P),me=br(f);(K=window.google)==null||K.accounts.id.initialize({client_id:R,callback:Ae=>{if(!Ae.clientId||!Ae.credential){n==null||n();return}i==null||i(Ae)},native_callback:Ae=>{a==null||a(Ae)},intermediate_iframe_close_callback:()=>{s==null||s()},auto_select:U,allowed_parent_origin:Ne,context:te,itp_support:Be,login_uri:z,nonce:ae,prompt_parent_id:Y,state_cookie_domain:le,cancel_on_tap_outside:me}),F.value=!0,Q&&((Z=window.google)==null||Z.accounts.id.prompt(Ae=>t==null?void 0:t(Ae))),j(()=>{var Ae;(Ae=window.google)==null||Ae.accounts.id.cancel()})}),{isReady:io(F),login:V}}const pD="GoogleSignInPlugin",w_=r=>`[${pD}]: ${r}`,gD={install(r,e){if(!e)throw new Error(w_("initialize plugin by passing an options object"));if(!e.clientId||e.clientId&&e.clientId.trim().length===0)throw new Error(w_("clientId is required to initialize"));r.provide(rm,e.clientId),r.component("GoogleSignInButton",hD)}};var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LT(r){var e=r.default;if(typeof e=="function"){var i=function(){return e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var t=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(i,n,t.get?t:{enumerable:!0,get:function(){return r[n]}})}),i}var RT={exports:{}};(function(r,e){(function(i,n){r.exports=n()})(tl,function(){function i(u){if(!u)return!1;var c=Object.prototype.toString.call(u);return c=="[object Function]"||c=="[object AsyncFunction]"}function n(){return Date.now&&i(Date.now)?Date.now():new Date().getTime()}function t(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"}function a(){if(typeof Uint32Array=="function"){var u="";if(typeof crypto<"u"?u=crypto:typeof msCrypto<"u"&&(u=msCrypto),t(u)&&u.getRandomValues){var c=new Uint32Array(1),h=u.getRandomValues(c)[0],g=Math.pow(2,32);return h/g}}return yv(1e19)/1e19}function s(u){var c=null;try{c=JSON.parse(u)}catch{}return c}function l(u,c){this.lockGetPrefix=u||"lock-get-prefix",this.lockSetPrefix=c||"lock-set-prefix"}function d(u){return typeof u=="function"||!(!u||typeof u!="object")&&d(u.listener)}function f(){this._events={}}function p(u){var c=u;try{c=decodeURIComponent(u)}catch{c=u}return c}function y(){function u(){}return typeof Object.create!="function"?(u.prototype=null,new u):Object.create(null)}function _(u){u=u||"";for(var c=y(),h=u.substring(1),g=h.split("&"),b=0;b<g.length;b++){var C=g[b].indexOf("=");if(C!==-1){var L=g[b].substring(0,C),W=g[b].substring(C+1);L=p(L),W=p(W),c[L]=W}}return c}function x(u){return Object.prototype.toString.call(u)=="[object String]"}function A(u){return u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function P(u){var c=function(h){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,typeof h<"u"&&this._parse(h)};return c.prototype.setUrl=function(h){this._parse(h)},c.prototype._initValues=function(){for(var h in this._fields)this._values[h]=""},c.prototype.addQueryString=function(h){if(typeof h!="object")return!1;var g=this._values.QueryString||"";for(var b in h)g=new RegExp(b+"[^&]+").test(g)?g.replace(new RegExp(b+"[^&]+"),b+"="+h[b]):g.slice(-1)==="&"?g+b+"="+h[b]:g===""?b+"="+h[b]:g+"&"+b+"="+h[b];this._values.QueryString=g},c.prototype.getUrl=function(){var h="";return h+=this._values.Origin,h+=this._values.Port?":"+this._values.Port:"",h+=this._values.Path,h+=this._values.QueryString?"?"+this._values.QueryString:"",h+=this._values.Fragment?"#"+this._values.Fragment:""},c.prototype._parse=function(h){this._initValues();var g=this._regex.exec(h);g||or.log("URLParser::_parse -> Invalid URL");var b=h.split("#"),C=b[0],L=b.slice(1).join("#");g=this._regex.exec(C);for(var W in this._fields)typeof g[this._fields[W]]<"u"&&(this._values[W]=g[this._fields[W]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname,this._values.Fragment=L},new c(u)}function D(u){var c={},h=function(){var C;try{return C=new URL("http://modernizr.com/"),C.href==="http://modernizr.com/"}catch{return!1}};if(typeof window.URL=="function"&&h())c=new URL(u),c.searchParams||(c.searchParams=function(){var C=_(c.search);return{get:function(L){return C[L]}}}());else{x(u)||(u=String(u)),u=A(u);var g=/^https?:\/\/.+/;if(g.test(u)===!1)return void or.log("Invalid URL");var b=P(u);c.hash=b._values.Fragment,c.host=b._values.Host?b._values.Host+(b._values.Port?":"+b._values.Port:""):"",c.href=b._values.URL,c.password=b._values.Password,c.pathname=b._values.Path,c.port=b._values.Port,c.search=b._values.QueryString?"?"+b._values.QueryString:"",c.username=b._values.Username,c.hostname=b._values.Hostname,c.protocol=b._values.Protocol?b._values.Protocol+":":"",c.origin=b._values.Origin?b._values.Origin+(b._values.Port?":"+b._values.Port:""):"",c.searchParams=function(){var C=_("?"+b._values.QueryString);return{get:function(L){return C[L]}}}()}return c}function R(u){return!(!u||u.nodeType!==1)}function F(u){return u===void 0}function V(u){return Array.isArray&&i(V)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"}function j(u){return new bv(u)}function K(u,c,h,g){function b(W){return W&&(W.preventDefault=b.preventDefault,W.stopPropagation=b.stopPropagation,W._getPath=b._getPath),W}function C(W,re,pe,Ce){var Qe=function(Ze){if(Ze=Ze||b(window.event)){Ze.target=Ze.srcElement;var Nt,_r,Yt=!0;return typeof pe=="function"&&(Nt=pe(Ze)),_r=re.call(W,Ze),Ce!=="beforeunload"?(Nt!==!1&&_r!==!1||(Yt=!1),Yt):void 0}};return Qe}b._getPath=function(){var W=this;return this.path||this.composedPath&&this.composedPath()||j(W.target).getParents()},b.preventDefault=function(){this.returnValue=!1},b.stopPropagation=function(){this.cancelBubble=!0};var L=function(W,re,pe){if(g===void 0&&re==="click"&&(g=!0),W&&W.addEventListener)W.addEventListener(re,function(Ze){Ze._getPath=b._getPath,pe.call(this,Ze)},g);else{var Ce="on"+re,Qe=W[Ce];W[Ce]=C(W,pe,Qe,re)}};L.apply(null,arguments)}function Z(u){var c="pushState"in window.history?"popstate":"hashchange";K(window,c,u)}function Q(u){if(u)return typeof window.XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:typeof XDomainRequest<"u"?new XDomainRequest:null;if(typeof window.XMLHttpRequest<"u")return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(h){or.log(h)}}}function U(u,c,h){if(u==null)return!1;if(Sv&&u.forEach===Sv)u.forEach(c,h);else if(V(u))for(var g=0,b=u.length;g<b;g++)g in u&&c.call(h,u[g],g,u);else for(var C in u)BE.call(u,C)&&c.call(h,u[C],C,u)}function z(u){return U(Array.prototype.slice.call(arguments,1),function(c){for(var h in c)UE.call(c,h)&&c[h]!==void 0&&(u[h]=c[h])}),u}function Y(u){function c(W){if(!W)return"";try{return JSON.parse(W)}catch{return{}}}function h(){try{g&&typeof g=="object"&&g.abort&&g.abort()}catch(W){or.log(W)}b&&(clearTimeout(b),b=null,u.error&&u.error(),g.onreadystatechange=null,g.onload=null,g.onerror=null)}u.timeout=u.timeout||2e4,u.credentials=typeof u.credentials>"u"||u.credentials;var g=Q(u.cors);if(!g)return!1;u.type||(u.type=u.data?"POST":"GET"),u=z({success:function(){},error:function(){}},u);var b,C=u.success,L=u.error;u.success=function(W){C(W),b&&(clearTimeout(b),b=null)},u.error=function(W){L(W),b&&(clearTimeout(b),b=null)},b=setTimeout(function(){h()},u.timeout),typeof XDomainRequest<"u"&&g instanceof XDomainRequest&&(g.onload=function(){u.success&&u.success(c(g.responseText)),g.onreadystatechange=null,g.onload=null,g.onerror=null},g.onerror=function(){u.error&&u.error(c(g.responseText),g.status),g.onreadystatechange=null,g.onerror=null,g.onload=null}),g.onreadystatechange=function(){try{g.readyState==4&&(g.status>=200&&g.status<300||g.status==304?u.success(c(g.responseText)):u.error(c(g.responseText),g.status),g.onreadystatechange=null,g.onload=null)}catch{g.onreadystatechange=null,g.onload=null}},g.open(u.type,u.url,!0);try{u.credentials&&(g.withCredentials=!0),t(u.header)&&U(u.header,function(W,re){g.setRequestHeader&&g.setRequestHeader(re,W)}),u.data&&(u.cors||g.setRequestHeader&&g.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.contentType==="application/json"?g.setRequestHeader&&g.setRequestHeader("Content-type","application/json; charset=UTF-8"):g.setRequestHeader&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(W){or.log(W)}g.send(u.data||null)}function ae(u,c){var h=[];return u==null?h:Array.prototype.map&&u.map===Array.prototype.map?u.map(c):(U(u,function(g,b,C){h.push(c(g,b,C))}),h)}function te(u){var c=[];try{c=ae(atob(u).split(""),function(h){return"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)})}catch{c=[]}try{return decodeURIComponent(c.join(""))}catch{return c.join("")}}function le(u){var c="";try{c=btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,function(h,g){return String.fromCharCode("0x"+g)}))}catch{c=u}return c}function Ne(u,c){c=c||window;var h=!1,g=!0,b=c.document,C=b.documentElement,L=b.addEventListener,W=L?"addEventListener":"attachEvent",re=L?"removeEventListener":"detachEvent",pe=L?"":"on",Ce=function(Ze){Ze.type=="readystatechange"&&b.readyState!="complete"||((Ze.type=="load"?c:b)[re](pe+Ze.type,Ce,!1),!h&&(h=!0)&&u.call(c,Ze.type||Ze))},Qe=function(){try{C.doScroll("left")}catch{return void setTimeout(Qe,50)}Ce("poll")};if(b.readyState=="complete")u.call(c,"lazy");else{if(!L&&C.doScroll){try{g=!c.frameElement}catch(Ze){or.log(Ze)}g&&Qe()}b[W](pe+"DOMContentLoaded",Ce,!1),b[W](pe+"readystatechange",Ce,!1),c[W](pe+"load",Ce,!1)}}function Be(u){return U(Array.prototype.slice.call(arguments,1),function(c){for(var h in c)c[h]!==void 0&&u[h]===void 0&&(u[h]=c[h])}),u}function me(u){var c=u;try{c=decodeURI(u)}catch{c=u}return c}function Ae(u){var c="t6KJCZa5pDdQ9khoEM3Tj70fbP2eLSyc4BrsYugARqFIw1mzlGNVXOHiWvxUn8",h=c.length-1,g={},b=0;for(b=0;b<c.length;b++)g[c.charAt(b)]=c.charAt(h-b);var C="";for(b=0;b<u.length;b++)C+=u.charAt(b)in g?g[u.charAt(b)]:u.charAt(b);return C}function Fe(u){return Object.prototype.toString.call(u)=="[object Date]"}function mt(u){function c(h){return h<10?"0"+h:h}return u.getFullYear()+"-"+c(u.getMonth()+1)+"-"+c(u.getDate())+" "+c(u.getHours())+":"+c(u.getMinutes())+":"+c(u.getSeconds())+"."+c(u.getMilliseconds())}function it(u){return U(u,function(c,h){Fe(c)?u[h]=mt(c):t(c)&&(u[h]=it(c))}),u}function ir(u){return U(Array.prototype.slice.call(arguments,1),function(c){for(var h in c)c[h]!==void 0&&(t(c[h])&&t(u[h])?z(u[h],c[h]):u[h]=c[h])}),u}function vt(u,c,h){var g=Object.prototype.hasOwnProperty;if(u.filter)return u.filter(c);for(var b=[],C=0;C<u.length;C++)if(g.call(u,C)){var L=u[C];c.call(h,L,C,u)&&b.push(L)}return b}function nr(u){try{return JSON.stringify(u,null,"  ")}catch{return JSON.stringify(u)}}function gr(u){return typeof u=="string"&&u.match(/^[a-zA-Z0-9\u4e00-\u9fa5\-\.]+$/)?u:""}function xr(u,c,h){u=u||location.hostname,c=c||"domain_test";var g=gr(u),b=g.split(".");if(V(b)&&b.length>=2&&!/^(\d+\.)+\d+$/.test(g)){for(var C="."+b.splice(b.length-1,1);b.length>0;)if(C="."+b.splice(b.length-1,1)+C,Na.set(c,"true",0,null,h,"; domain="+C),document.cookie.indexOf(c+"=true")!==-1)return Na.set(c,"true","-1s",null,h,"; domain="+C),C}return""}function pt(u){function c(C,L){C=A(C);var W;if(C==="body")return document.getElementsByTagName("body")[0];if(C.indexOf("#")===0)C=C.slice(1),W=document.getElementById(C);else if(C.indexOf(":nth-of-type")>-1){var re=C.split(":nth-of-type");if(!re[0]||!re[1])return null;var pe=re[0],Ce=re[1].match(/\(([0-9]+)\)/);if(!Ce||!Ce[1])return null;var Qe=Number(Ce[1]);if(!(R(L)&&L.children&&L.children.length>0))return null;for(var Ze=L.children,Nt=0;Nt<Ze.length;Nt++)if(R(Ze[Nt])){var _r=Ze[Nt].tagName.toLowerCase();if(_r===pe&&(Qe--,Qe===0)){W=Ze[Nt];break}}if(Qe>0)return null}return W||null}function h(C){var L,W=g.shift();if(!W)return C;try{L=c(W,C)}catch(re){or.log(re)}return L&&R(L)?h(L):null}if(!x(u))return null;var g=u.split(">"),b=null;return b=h(),b&&R(b)?b:null}function se(u,c){var h="",g="";return u.textContent?h=A(u.textContent):u.innerText&&(h=A(u.innerText)),h&&(h=h.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),g=h||"",c!=="input"&&c!=="INPUT"||(g=u.value||""),g}function Se(u,c){c&&typeof c=="string"||(c="hostname\u89E3\u6790\u5F02\u5E38");var h=null;try{h=D(u).hostname}catch{or.log("getHostname\u4F20\u5165\u7684url\u53C2\u6570\u4E0D\u5408\u6CD5\uFF01")}return h||c}function Ee(){try{var u=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return u&&u[1]?Number.parseInt(u[1],10):""}catch{return""}}function Re(u,c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),u=p(u);var h="[\\?&]"+c+"=([^&#]*)",g=new RegExp(h),b=g.exec(u);return b===null||b&&typeof b[1]!="string"&&b[1].length?"":p(b[1])}function st(u){var c={},h=u.split("?"),g=h[1]||"";return g&&(c=_("?"+g)),c}function yt(){return typeof window.matchMedia<"u"||typeof window.msMatchMedia<"u"}function B(){var u=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,c="\u672A\u53D6\u5230\u503C";if(u)c=u.indexOf("landscape")>-1?"landscape":"portrait";else if(yt()){var h=window.matchMedia||window.msMatchMedia;h("(orientation: landscape)").matches?c="landscape":h("(orientation: portrait)").matches&&(c="portrait")}return c}function G(){var u,c={},h=navigator.userAgent.toLowerCase();return(u=h.match(/ qq\/([\d.]+)/))?c.qqBuildinBrowser=Number(u[1].split(".")[0]):(u=h.match(/mqqbrowser\/([\d.]+)/))?c.qqBrowser=Number(u[1].split(".")[0]):(u=h.match(/opera.([\d.]+)/))?c.opera=Number(u[1].split(".")[0]):(u=h.match(/msie ([\d.]+)/))?c.ie=Number(u[1].split(".")[0]):(u=h.match(/edge.([\d.]+)/))?c.edge=Number(u[1].split(".")[0]):(u=h.match(/firefox\/([\d.]+)/))?c.firefox=Number(u[1].split(".")[0]):(u=h.match(/chrome\/([\d.]+)/))?c.chrome=Number(u[1].split(".")[0]):(u=h.match(/version\/([\d.]+).*safari/))?c.safari=Number(u[1].match(/^\d*.\d*/)):(u=h.match(/trident\/([\d.]+)/))&&(c.ie=11),c}function ee(u){return x(u)?(u=A(u),me(u)):me(location.href)}function oe(u){return x(u)?(u=A(u),me(u)):me(location.pathname)}function ne(u,c){return u.hasAttribute?u.hasAttribute(c):u.attributes?!(!u.attributes[c]||!u.attributes[c].specified):void 0}function _e(u,c){if(typeof c=="string")return ne(u,c);if(V(c)){for(var h=!1,g=0;g<c.length;g++){var b=ne(u,c[g]);if(b){h=!0;break}}return h}}function ce(u){if(typeof u!="string")return 0;var c=0,h=null;if(u.length==0)return c;for(var g=0;g<u.length;g++)h=u.charCodeAt(g),c=(c<<5)-c+h,c&=c;return c}function ye(u){var c=9007199254740992,h=-9007199254740992,g=31,b=0;if(u.length>0)for(var C=u.split(""),L=0;L<C.length;L++){var W=C[L].charCodeAt(),re=g*b+W;if(re>c)for(b=h+b;re=g*b+W,re<h;)b=b/2+W;if(re<h)for(b=c+b;re=g*b+W,re>c;)b=b/2+W;b=g*b+W}return b}function fe(u,c){var h=u.indexOf;if(h)return h.call(u,c);for(var g=0;g<u.length;g++)if(c===u[g])return g;return-1}function he(u,c){return u.prototype=new c,u.prototype.constructor=u,u.superclass=c.prototype,u}function Oe(u){return!(!u||!jE.call(u,"callee"))}function Ue(u){return Object.prototype.toString.call(u)=="[object Boolean]"}function ke(u){if(t(u)){for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c))return!1;return!0}return!1}function qe(u){if(typeof u!="string")return!1;var c=/^https?:\/\/.+/;return c.test(u)!==!1||(or.log("Invalid URL"),!1)}function rt(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}function ut(u){try{JSON.parse(u)}catch{return!1}return!0}function ot(u){return Object.prototype.toString.call(u)=="[object Number]"&&/[\d\.]+/.test(String(u))}function Bt(){var u=!1;if(typeof navigator!="object"||typeof navigator.sendBeacon!="function")return u;var c=G(),h=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var g=/os [\d._]*/gi,b=h.match(g),C=(b+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),L=C.split(".");typeof c.safari>"u"&&(c.safari=L[0]),L[0]&&(c.qqBuildinBrowser||c.qqBrowser)?u=!1:L[0]&&L[0]<13?(c.chrome>41||c.firefox>30||c.opera>25||c.safari>12)&&(u=!0):(c.chrome>41||c.firefox>30||c.opera>25||c.safari>11.3)&&(u=!0)}else(c.chrome>38||c.edge>13||c.firefox>30||c.opera>25||c.safari>11)&&(u=!0);return u}function Ye(){return typeof window.XMLHttpRequest<"u"&&("withCredentials"in new XMLHttpRequest||typeof XDomainRequest<"u")}function Ai(u){if(!t(u)||!x(u.callbackName))return or.log("JSONP \u8BF7\u6C42\u7F3A\u5C11 callbackName"),!1;u.success=i(u.success)?u.success:function(){},u.error=i(u.error)?u.error:function(){},u.data=u.data||"";var c=document.createElement("script"),h=document.getElementsByTagName("head")[0],g=null,b=!1;if(h.appendChild(c),ot(u.timeout)&&(g=setTimeout(function(){return!b&&(u.error("timeout"),window[u.callbackName]=function(){or.log("call jsonp error")},g=null,h.removeChild(c),void(b=!0))},u.timeout)),window[u.callbackName]=function(){clearTimeout(g),g=null,u.success.apply(null,arguments),window[u.callbackName]=function(){or.log("call jsonp error")},h.removeChild(c)},u.url.indexOf("?")>-1?u.url+="&callbackName="+u.callbackName:u.url+="?callbackName="+u.callbackName,t(u.data)){var C=[];U(u.data,function(L,W){C.push(W+"="+L)}),u.data=C.join("&"),u.url+="&"+u.data}c.onerror=function(L){return!b&&(window[u.callbackName]=function(){or.log("call jsonp error")},clearTimeout(g),g=null,h.removeChild(c),u.error(L),void(b=!0))},c.src=u.url}function wa(u){var c={visibleHandler:i(u.visible)?u.visible:function(){},hiddenHandler:i(u.hidden)?u.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return typeof document[this.hidden]<"u"},init:function(){typeof document.hidden<"u"?(this.hidden="hidden",this.visibilityChange="visibilitychange"):typeof document.mozHidden<"u"?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):typeof document.msHidden<"u"?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var h=this;K(document,this.visibilityChange,function(){document[h.hidden]?h.hiddenHandler():h.visibleHandler()},1)}else K(window,"focus",this.visibleHandler),K(window,"blur",this.hiddenHandler)}};c.init()}function hi(u){u=z({success:function(){},error:function(){},appendCall:function(h){document.getElementsByTagName("head")[0].appendChild(h)}},u);var c=null;u.type==="css"&&(c=document.createElement("link"),c.rel="stylesheet",c.href=u.url),u.type==="js"&&(c=document.createElement("script"),c.async="async",c.setAttribute("charset","UTF-8"),c.src=u.url,c.type="text/javascript"),c.onload=c.onreadystatechange=function(){this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete"||(u.success(),c.onload=c.onreadystatechange=null)},c.onerror=function(){u.error(),c.onerror=null},u.appendCall(c)}function fs(u){if(typeof u!="string")return"";for(var c=/^\s*javascript/i;c.test(u);)u=u.replace(c,"");return u}function ar(u,c){u=String(u),c=typeof c=="number"?c:13;for(var h=126,g=u.split(""),b=0,C=g.length;b<C;b++){var L=g[b].charCodeAt(0);L<h&&(g[b]=String.fromCharCode((g[b].charCodeAt(0)+c)%h))}return g.join("")}function sr(u){var c=13,h=126;return u=String(u),ar(u,h-c)}function qn(u){t(u)&&U(u,function(c,h){t(c)?qn(u[h]):Fe(c)&&(u[h]=mt(c))})}function hs(u){var c=document.createElement("style");c.type="text/css";try{c.appendChild(document.createTextNode(u))}catch{c.styleSheet.cssText=u}var h=document.getElementsByTagName("head")[0],g=document.getElementsByTagName("script")[0];h?h.children.length?h.insertBefore(c,h.children[0]):h.appendChild(c):g.parentNode.insertBefore(c,g)}function Tf(u){if(typeof u!="string")return or.log("\u8F6C\u6362unicode\u9519\u8BEF",u),u;for(var c="",h=0;h<u.length;h++)c+="\\"+u.charCodeAt(h).toString(16);return c}function Sf(u,c,h){var g,b,C,L=null,W=0;h||(h={});var re=function(){W=h.leading===!1?0:n(),L=null,C=u.apply(g,b),L||(g=b=null)};return function(){var pe=n();W||h.leading!==!1||(W=pe);var Ce=c-(pe-W);return g=this,b=arguments,Ce<=0||Ce>c?(L&&(clearTimeout(L),L=null),W=pe,C=u.apply(g,b),L||(g=b=null)):L||h.trailing===!1||(L=setTimeout(re,Ce)),C}}function qr(u){var c=[];return u==null||U(u,function(h){c[c.length]=h}),c}function Dl(u){return u?u.toArray?u.toArray():V(u)||Oe(u)?Array.prototype.slice.call(u):qr(u):[]}function ps(u){for(var c,h=[],g={},b=0;b<u.length;b++)c=u[b],c in g||(g[c]=!0,h.push(c));return h}function Oo(u,c,h){return h=h||0,u.substr(h,c.length)===c}function pi(){Fa.msg.apply(Fa,arguments).log()}function Ge(){Fa.msg.apply(Fa,arguments).level("warn").log()}function nt(){Fa.msg.apply(Fa,arguments).level("error").log()}function cn(u){var c=Le.current_domain;switch(typeof c){case"function":var h=c();return h===""||A(h)===""?"url\u89E3\u6790\u5931\u8D25":h.indexOf(".")!==-1?h:"url\u89E3\u6790\u5931\u8D25";case"string":return c===""||A(c)===""?"url\u89E3\u6790\u5931\u8D25":c.indexOf(".")!==-1?c:"url\u89E3\u6790\u5931\u8D25";default:var g=xr(null,Ev,Le.is_secure_cookie);return u===""||g===""?"url\u89E3\u6790\u5931\u8D25":g}}function Er(u,c){var h="";if(Le.cross_subdomain===!1){try{if(c)h=D(c).hostname;else{var g=location.host;F(O.para.white_list[g])||(h=O.para.white_list[g])}}catch(b){nt(b)}h=typeof h=="string"&&h!==""?"sajssdk_2015_"+Le.sdk_id+u+"_"+h.replace(/\./g,"_"):"sajssdk_2015_root_"+Le.sdk_id+u}else h="sajssdk_2015_cross_"+Le.sdk_id+u;return h}function gs(){var u="new_user";return ii.isSupport()?ii.get("sensorsdata_is_new_user")!==null||ii.get(Er(u))!==null:cc.get(cc.getNewUserFlagMemoryKey(u))!==null}function dn(u,c,h){var g=!(!t(Le.heatmap)||!Le.heatmap.useCapture);return t(Le.heatmap)&&F(Le.heatmap.useCapture)&&c==="click"&&(g=!0),K(u,c,h,g)}function Hi(){var u=document.referrer,c="baidu.com";if(!u)return!1;try{var h=D(u).hostname;return h&&h.substring(h.length-c.length)===c}catch{return!1}}function gi(){var u=st(document.referrer);if(ke(u)||!u.eqid){var c=st(location.href);return u.ck||c.utm_source?"baidu_sem_keyword_id":"baidu_other_keyword_id"}return"baidu_seo_keyword_id"}function Aa(){var u=st(document.referrer);return ke(u)||!u.eqid?Jn().replace(/-/g,""):u.eqid}function lt(u,c){return u=u||document.referrer,x(u)?(u=A(u),u=me(u),u.indexOf("https://www.baidu.com/")!==0||c||(u=u.split("?")[0]),u=u.slice(0,Le.max_referrer_string_length),x(u)?u:""):"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function ms(u){if(u=u||document.referrer,u==="")return!0;var c=xr(null,Ev,Le.is_secure_cookie),h=Se(u);return h="."+h,h.indexOf(c)===-1&&c!==""}function Vi(u,c){u=u||document.referrer;var h=Le.source_type.keyword;if(document&&x(u)){if(u.indexOf("http")===0){var g=ka(u),b=st(u);if(ke(b))return Le.preset_properties.search_keyword_baidu&&Hi()?void 0:"\u672A\u53D6\u5230\u503C";var C=null;for(var L in h)if(g===L&&t(b)){if(C=h[L],V(C))for(L=0;L<C.length;L++){var W=b[C[L]];if(W)return c?{active:W}:W}else if(b[C])return c?{active:b[C]}:b[C]}return Le.preset_properties.search_keyword_baidu&&Hi()?void 0:"\u672A\u53D6\u5230\u503C"}return u===""?"\u672A\u53D6\u5230\u503C_\u76F4\u63A5\u6253\u5F00":"\u672A\u53D6\u5230\u503C_\u975Ehttp\u7684url"}return"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function ka(u){var c=Se(u);if(!c||c==="hostname\u89E3\u6790\u5F02\u5E38")return"";var h={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var g in h)for(var b=h[g],C=0,L=b.length;C<L;C++)if(b[C].test(c))return g;return"\u672A\u77E5\u641C\u7D22\u5F15\u64CE"}function Lo(){function u(W,re){for(var pe=0;pe<W.length;pe++)if(re.split("?")[0].indexOf(W[pe])!==-1)return!0}var c="("+Le.source_type.utm.join("|")+")\\=[^&]+",h=Le.source_type.search,g=Le.source_type.social,b=document.referrer||"",C=bt.pageProp.url;if(C){var L=C.match(new RegExp(c));return L&&L[0]?"\u4ED8\u8D39\u5E7F\u544A\u6D41\u91CF":u(h,b)?"\u81EA\u7136\u641C\u7D22\u6D41\u91CF":u(g,b)?"\u793E\u4EA4\u7F51\u7AD9\u6D41\u91CF":b===""?"\u76F4\u63A5\u6D41\u91CF":"\u5F15\u8350\u6D41\u91CF"}return"\u83B7\u53D6url\u5F02\u5E38"}function qi(u){var c=Re(u,"gdt_vid"),h=Re(u,"hash_key"),g=Re(u,"callbacks"),b={click_id:"",hash_key:"",callbacks:""};return x(c)&&c.length&&(b.click_id=c.length==16||c.length==18?c:"\u53C2\u6570\u89E3\u6790\u4E0D\u5408\u6CD5",x(h)&&h.length&&(b.hash_key=h),x(g)&&g.length&&(b.callbacks=g)),b}function kt(u){var c=u.properties,h=JSON.parse(JSON.stringify(u));t(c)&&U(c,function(g,b){if(i(g))try{c[b]=g(h),i(c[b])&&(Ge("\u60A8\u7684\u5C5E\u6027- "+b+" \u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete c[b])}catch{delete c[b],Ge("\u60A8\u7684\u5C5E\u6027- "+b+" \u629B\u51FA\u4E86\u5F02\u5E38\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")}})}function Da(u){if(t(u)&&u.$option){var c=u.$option;return delete u.$option,c}return{}}function Jt(u){var c={};return U(u,function(h,g){h!=null&&(c[g]=h)}),c}function xf(u){var c=!u.type||u.type.slice(0,7)!=="profile",h="\u53D6\u503C\u5F02\u5E38";t(u.properties)&&c&&("$referrer"in u.properties&&(u.properties.$referrer_host=u.properties.$referrer===""?"":Se(u.properties.$referrer,h)),Le.preset_properties.latest_referrer&&Le.preset_properties.latest_referrer_host&&(u.properties.$latest_referrer_host=u.properties.$latest_referrer===""?"":Se(u.properties.$latest_referrer,h)))}function Ef(u){var c=!u.type||u.type.slice(0,7)!=="profile",h=Le.preset_properties&&c;h&&Le.preset_properties.url&&F(u.properties.$url)&&(u.properties.$url=ee()),h&&Le.preset_properties.title&&F(u.properties.$title)&&(u.properties.$title=document.title)}function Ro(u){if(!R(u.target))return!1;var c=u.target,h=x(c.tagName)?c.tagName.toLowerCase():"unknown",g={};return g.$element_type=h,g.$element_name=c.getAttribute("name"),g.$element_id=c.getAttribute("id"),g.$element_class_name=x(c.className)?c.className:null,g.$element_target_url=c.getAttribute("href"),g.$element_content=Pa(c,h),g=Jt(g),g.$url=ee(),g.$url_path=oe(),g.$title=document.title,g}function No(u){var c=Le.heatmap&&i(Le.heatmap.collect_input)&&Le.heatmap.collect_input(u);return(u.type==="button"||u.type==="submit"||c)&&u.value||""}function Pa(u,c){return x(c)&&c.toLowerCase()==="input"?No(u):se(u,c)}function vs(u){return Yn.protocol.ajax(u.url),Y(u)}function Fo(u){if(typeof u=="string"&&(u=A(u),u&&(u.slice(0,3)==="://"?u=location.protocol.slice(0,-1)+u:u.slice(0,2)==="//"?u=location.protocol+u:u.slice(0,4)!=="http"&&(u=""))),V(u)&&u.length)for(var c=0;c<u.length;c++)/sa\.gif[^\/]*$/.test(u[c])||(u[c]=u[c].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(u)||typeof u!="string"||(u=u.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));return u}function Ia(u){x(u)||(u=JSON.stringify(u));var c=le(u),h="crc="+ce(c);return"data="+encodeURIComponent(c)+"&ext="+encodeURIComponent(h)}function Cf(u){var c=location.href,h=window.history.pushState,g=window.history.replaceState;i(window.history.pushState)&&(window.history.pushState=function(){h.apply(window.history,arguments),u(c),c=location.href}),i(window.history.replaceState)&&(window.history.replaceState=function(){g.apply(window.history,arguments),u(c),c=location.href});var b;b=window.document.documentMode?"hashchange":h?"popstate":"hashchange",K(window,b,function(){u(c),c=location.href})}function Oa(u,c){var h=[];typeof u=="string"&&u in Wt.EVENT_LIST&&(h=Wt.EVENT_LIST[u],Wt[h[0]].on(h[1],c))}function Mo(){this.sendTimeStamp=0,this.timer=null,this.serverUrl="",this.hasTabStorage=!1}function _t(u,c){for(var h in u)if(Object.prototype.hasOwnProperty.call(u,h)&&!GE.check(h,u[h],c))return!1;return!0}function wf(u,c){return t(u)&&U(u,function(h,g){if(V(h)){var b=[];U(h,function(L){if(x(L))b.push(L);else if(F(L))b.push("null");else try{b.push(JSON.stringify(L))}catch{Ge("\u60A8\u7684\u6570\u636E-",g,h,"\u6570\u7EC4\u91CC\u503C\u6709\u9519\u8BEF,\u5DF2\u5C06\u5176\u5220\u9664")}}),u[g]=b}var C=fe(c||[],g)>-1;if(t(h)&&g!=="$option"&&!C)try{u[g]=JSON.stringify(h)}catch{delete u[g],Ge("\u60A8\u7684\u6570\u636E-",g,h,"\u6570\u636E\u503C\u6709\u9519\u8BEF\uFF0C\u5DF2\u5C06\u5176\u5220\u9664")}else x(h)||ot(h)||Fe(h)||Ue(h)||V(h)||i(h)||g==="$option"||C||(Ge("\u60A8\u7684\u6570\u636E-",g,h,"-\u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete u[g])}),u}function Af(u,c){return ot(c)&&u.length>c?(Ge("\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u9650\u5236\uFF0C\u5DF2\u7ECF\u505A\u622A\u53D6--"+u),u.slice(0,c)):u}function _s(u,c){var h=["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"];t(u)&&U(h,function(g,b){g in u&&(fe(c||[],g)>-1||(b<3?(delete u[g],Ge("\u60A8\u7684\u5C5E\u6027- "+g+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")):Ge("\u60A8\u7684\u5C5E\u6027- "+g+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u8BF7\u907F\u514D\u5176\u4F5C\u4E3A\u5C5E\u6027\u540D")))})}function $n(u){var c=["$element_selector","$element_path"],h=["sensorsdata_app_visual_properties"];t(u)&&U(u,function(g,b){if(t(g))$n(u[b]);else if(x(g)){if(fe(h,b)>-1)return;u[b]=Af(g,fe(c,b)>-1?1024:Le.max_string_length)}})}function ys(u){typeof u.properties.$project<"u"&&(u.project=u.properties.$project,delete u.properties.$project),typeof u.properties.$token<"u"&&(u.token=u.properties.$token,delete u.properties.$token)}function Wn(u){if("item_type"in u){var c=u.item_type,h=function(C){return C||delete u.item_type,!0};_t({item_type:c},h)}if("item_id"in u){var g=u.item_id,b=function(C,L,W){return C||W!=="string"||delete u.item_id,!0};_t({item_id:g},b)}}function Bo(u,c){U(u,function(h,g){var b=function(C,L,W){return C||W==="keyLength"||delete u[g],!0};fe(c||[],g)===-1&&_t({propertyKey:g},b)})}function Pl(u){var c=u.properties;qn(u),t(c)?(wf(c),_s(c),ys(u),Bo(c),$n(c)):"properties"in u&&(u.properties={}),Wn(u)}function Uo(u,c){var h=c.sensors;return u._track_id=Number(String(a()).slice(2,5)+String(a()).slice(2,4)+String(new Date().getTime()).slice(-4)),u._flush_time=new Date().getTime(),h.events.tempAdd("send",u),u}function ki(u,c){try{var h=c.sensors,g={};t(u)&&t(u.identities)&&!ke(u.identities)?z(g,u.identities):z(g,ue.getIdentities());var b={identities:g,distinct_id:ue.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(h.lib_version)},properties:{}};return t(u)&&t(u.properties)&&!ke(u.properties)&&(u.properties.$lib_detail&&(b.lib.$lib_detail=u.properties.$lib_detail,delete u.properties.$lib_detail),u.properties.$lib_method&&(b.lib.$lib_method=u.properties.$lib_method,delete u.properties.$lib_method)),ir(b,ue.getUnionId(),u),t(u.properties)&&!ke(u.properties)&&z(b.properties,u.properties),b.event==="$UnbindID"&&(b.login_id&&delete b.login_id,b.anonymous_id&&delete b.anonymous_id),u.type&&u.type.slice(0,7)==="profile"||(b.properties=z({},bt.properties(),ue.getProps(),ue.getSessionProps(),bt.currentProps,b.properties),h.para.preset_properties.latest_referrer&&!x(b.properties.$latest_referrer)&&(b.properties.$latest_referrer="\u53D6\u503C\u5F02\u5E38"),h.para.preset_properties.latest_search_keyword&&!x(b.properties.$latest_search_keyword)&&(h.para.preset_properties.search_keyword_baidu&&x(b.properties.$search_keyword_id)&&ot(b.properties.$search_keyword_id_hash)&&x(b.properties.$search_keyword_id_type)||(b.properties.$latest_search_keyword="\u53D6\u503C\u5F02\u5E38")),h.para.preset_properties.latest_traffic_source_type&&!x(b.properties.$latest_traffic_source_type)&&(b.properties.$latest_traffic_source_type="\u53D6\u503C\u5F02\u5E38"),h.para.preset_properties.latest_landing_page&&!x(b.properties.$latest_landing_page)&&(b.properties.$latest_landing_page="\u53D6\u503C\u5F02\u5E38"),h.para.preset_properties.latest_wx_ad_click_id==="not_collect"?(delete b.properties._latest_wx_ad_click_id,delete b.properties._latest_wx_ad_hash_key,delete b.properties._latest_wx_ad_callbacks):h.para.preset_properties.latest_wx_ad_click_id&&!x(b.properties._latest_wx_ad_click_id)&&(b.properties._latest_wx_ad_click_id="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_hash_key="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_callbacks="\u53D6\u503C\u5F02\u5E38"),x(b.properties._latest_wx_ad_click_id)&&(b.properties.$url=ee())),b.properties.$time&&Fe(b.properties.$time)?(b.time=1*b.properties.$time,delete b.properties.$time):b.time=1*new Date,function(C){if(h.bridge&&h.bridge.bridge_info.verify_success==="success"){var L=Ch.customProp.geth5Props(JSON.parse(JSON.stringify(C)));t(L)&&!ke(L)&&(C.properties=z(C.properties,L))}var W=Qn.customProp.getVtrackProps(JSON.parse(JSON.stringify(C)));t(W)&&!ke(W)&&(C.properties=z(C.properties,W))}(b),kt(b),iu.checkIsAddSign(b),iu.checkIsFirstTime(b),xf(b),Ef(b),b}catch(C){return{_debug_web_msg:String(C)}}}function kf(u){return wh.stage.process("basicProps",u)}function bs(u){return wh.stage.process("formatData",u)}function jo(u,c,h,g){function b(L){function W(){re||(re=!0,location.href=C.href)}L.stopPropagation(),L.preventDefault();var re=!1;setTimeout(W,1e3),g(c,h,W)}u=u||{};var C=null;return u.ele&&(C=u.ele),u.event&&(C=u.target?u.target:u.event.target),h=h||{},!(!C||typeof C!="object")&&(!C.href||/^javascript/.test(C.href)||C.target||C.download||C.onclick?(g(c,h),!1):(u.event&&b(u.event),void(u.ele&&dn(u.ele,"click",function(L){b(L)}))))}function Ho(){var u=location.protocol;return u==="http:"||u==="https:"?u:"http:"}function Il(u){return Ah.stage.process("webClickEvent",u)}function Df(u){return Ah.stage.process("webStayEvent",u)}function Gn(){var u=bt.campaignParams(),c={};return U(u,function(h,g,b){(" "+O.source_channel_standard+" ").indexOf(" "+g+" ")!==-1?c["$"+g]=b[g]:c[g]=b[g]}),c}function zn(u,c,h){if(O.is_first_visitor&&h){var g={};O.para.preset_properties.search_keyword_baidu&&ms(document.referrer)&&Hi()&&(g.$search_keyword_id=nu.id(),g.$search_keyword_id_type=nu.type(),g.$search_keyword_id_hash=ye(g.$search_keyword_id));var b=lt(null,c);u(z({$first_visit_time:new Date,$first_referrer:b,$first_referrer_host:b?Se(b,"\u53D6\u503C\u5F02\u5E38"):"",$first_browser_language:x(navigator.language)?navigator.language.toLowerCase():"\u53D6\u503C\u5F02\u5E38",$first_browser_charset:x(document.charset)?document.charset.toUpperCase():"\u53D6\u503C\u5F02\u5E38",$first_traffic_source_type:Lo(),$first_search_keyword:Vi()},Gn(),g)),O.is_first_visitor=!1}}function Vo(u,c){var h=u.id,g=u.callback,b=u.name,C=ue.getFirstId(),L=ue.getOriginDistinctId();if(!_t({distinct_id:h}))return nt("login id is invalid"),!1;if(h===ue.getOriginDistinctId()&&!C)return nt("login id is equal to distinct_id"),!1;if(t(ue._state.identities)&&ue._state.identities.hasOwnProperty(b)&&h===ue._state.first_id)return!1;var W=ue._state.history_login_id.name!==b||h!==ue._state.history_login_id.value;if(W){ue._state.identities[b]=h,ue.set("history_login_id",{name:b,value:h}),C||ue.set("first_id",L),c(h,"$SignUp",{},g);var re={$identity_cookie_id:ue._state.identities.$identity_cookie_id};return re[b]=h,Ol(re),!0}return!1}function Ol(u){var c={};for(var h in u)c[h]=u[h];ue._state.identities=c,ue.save()}function Pf(u,c){if(!_t({unbindKey:u,bindValue:c}))return!1;if(t(ue._state.identities)&&ue._state.identities.hasOwnProperty(u)&&ue._state.identities[u]===c){var h=ue.getUnionId().login_id;h&&u+"+"+c===h&&(ue._state.distinct_id=ue._state.first_id,ue._state.first_id="",ue.set("history_login_id",{name:"",value:""})),u!=="$identity_cookie_id"&&(delete ue._state.identities[u],ue.save())}var g={};return g[u]=c,g}function Ll(){O._t=O._t||1*new Date,O.is_first_visitor=!1,O.source_channel_standard=xv}function If(u){z(Le,u||O.para||{}),O.para=Le;var c={};if(t(O.para.is_track_latest))for(var h in O.para.is_track_latest)c["latest_"+h]=O.para.is_track_latest[h];O.para.preset_properties=z({},tu.preset_properties,c,O.para.preset_properties||{});var g;for(g in tu)O.para[g]===void 0&&(O.para[g]=tu[g]);typeof O.para.web_url!="string"||O.para.web_url.slice(0,3)!=="://"&&O.para.web_url.slice(0,2)!=="//"||(O.para.web_url.slice(0,3)==="://"?O.para.web_url=location.protocol.slice(0,-1)+O.para.web_url:O.para.web_url=location.protocol+O.para.web_url),Yn.protocol.serverUrl(),O.bridge&&O.bridge.initPara();var b=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],C=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],L=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],W={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};typeof O.para.source_type=="object"&&(O.para.source_type.utm=V(O.para.source_type.utm)?O.para.source_type.utm.concat(b):b,O.para.source_type.search=V(O.para.source_type.search)?O.para.source_type.search.concat(C):C,O.para.source_type.social=V(O.para.source_type.social)?O.para.source_type.social.concat(L):L,O.para.source_type.keyword=t(O.para.source_type.keyword)?z(W,O.para.source_type.keyword):W);var re={div:!1},pe=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(O.para.heatmap&&!t(O.para.heatmap)&&(O.para.heatmap={}),t(O.para.heatmap)){O.para.heatmap.clickmap=O.para.heatmap.clickmap||"default",O.para.heatmap.scroll_notice_map=O.para.heatmap.scroll_notice_map||"default",O.para.heatmap.scroll_delay_time=O.para.heatmap.scroll_delay_time||4e3,O.para.heatmap.scroll_event_duration=O.para.heatmap.scroll_event_duration||18e3,O.para.heatmap.renderRefreshTime=O.para.heatmap.renderRefreshTime||1e3,O.para.heatmap.loadTimeout=O.para.heatmap.loadTimeout||1e3,O.para.heatmap.get_vtrack_config!==!0&&(O.para.heatmap.get_vtrack_config=!1);var Ce=V(O.para.heatmap.track_attr)?vt(O.para.heatmap.track_attr,function(Ze){return Ze&&typeof Ze=="string"}):[];if(Ce.push("data-sensors-click"),O.para.heatmap.track_attr=Ce,t(O.para.heatmap.collect_tags))if(O.para.heatmap.collect_tags.div===!0)O.para.heatmap.collect_tags.div={ignore_tags:pe,max_level:1};else if(t(O.para.heatmap.collect_tags.div)){if(O.para.heatmap.collect_tags.div.ignore_tags?V(O.para.heatmap.collect_tags.div.ignore_tags)||(Ge("ignore_tags \u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4\u683C\u5F0F"),O.para.heatmap.collect_tags.div.ignore_tags=pe):O.para.heatmap.collect_tags.div.ignore_tags=pe,O.para.heatmap.collect_tags.div.max_level){var Qe=[1,2,3];fe(Qe,O.para.heatmap.collect_tags.div.max_level)===-1&&(O.para.heatmap.collect_tags.div.max_level=1)}}else O.para.heatmap.collect_tags.div=!1;else O.para.heatmap.collect_tags=re}O.para.server_url=Fo(O.para.server_url),O.para.noCache===!0?O.para.noCache="?"+new Date().getTime():O.para.noCache="",O.para.callback_timeout>O.para.datasend_timeout&&(O.para.datasend_timeout=O.para.callback_timeout),O.para.heatmap&&O.para.heatmap.collect_tags&&t(O.para.heatmap.collect_tags)&&U(O.para.heatmap.collect_tags,function(Ze,Nt){Nt!=="div"&&Ze&&O.heatmap.otherTags.push(Nt)}),O.para.heatmap&&O.para.heatmap.clickmap==="default"&&O.heatmap.initUnlimitedTags()}function Of(){var u=Array.prototype.slice.call(arguments),c=u[0],h=u.slice(1);return typeof c=="string"&&hc[c]?hc[c].apply(hc,h):void(typeof c=="function"?c.apply(O,h):Ge("quick\u65B9\u6CD5\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u529F\u80FD"+u[0]))}function qo(u,c){function h(){return!g.plugin_is_init&&g.init(O,c),g.plugin_is_init=!0,O.modules=O.modules||{},O.modules[g.plugin_name||"unnamed_"+JE++]=g,g}if(!x(u)&&!t(u))return void nt("use's first arguments must be string or object.");var g;if(t(u)){var b=O.modules&&O.modules[u.plugin_name];b&&b!==u&&Ge(u.name+" is conflict with builtin plugin, and sdk uses builtin plugin."),g=b||u}return x(u)&&(t(O.modules)&&t(O.modules[u])?g=O.modules[u]:t(window.SensorsDataWebJSSDKPlugin)&&t(window.SensorsDataWebJSSDKPlugin[u])?g=window.SensorsDataWebJSSDKPlugin[u]:window.sensorsDataAnalytic201505&&window.sensorsDataAnalytic201505.modules[u]&&(g=window.sensorsDataAnalytic201505.modules[u])),g&&i(g.init)?g.plugin_is_init?g:(g.plugin_name||Ge("warning: invalid plugin, plugin_name required."),g.plugin_version?g.plugin_version!==O.lib_version&&Ge("warning: plugin version not match SDK version. plugin may not work correctly. "):Ge("warning: invalid plugin, plugin version required."),h()):(Ge((u.plugin_name||u)+" is not found or it's not a standard plugin. Please check sensorsdata official documents."),g)}function Lf(u,c,h){_t({event:u,properties:c})&&Cr.send({type:"track",event:u,properties:c},h)}function Rf(u,c){return!!_t({bindKey:u,bindValue:c})&&(ue._state.identities[u]=c,ue.save(),void Cr.send({type:"track_id_bind",event:"$BindID",properties:{}}))}function Nf(u,c){var h=Pf(u,c);h&&Cr.send({identities:h,type:"track_id_unbind",event:"$UnbindID",properties:{}})}function Ff(u,c,h){typeof u=="object"&&u.tagName?jo({ele:u},c,h,O.track):typeof u=="object"&&u.target&&u.event&&jo(u,c,h,O.track)}function Mf(u,c,h){return h=h||{},!(!u||typeof u!="object")&&!(!u.href||/^javascript/.test(u.href)||u.target)&&void dn(u,"click",function(g){function b(){C||(C=!0,location.href=u.href)}g.preventDefault();var C=!1;setTimeout(b,1e3),O.track(c,h,b)})}function Bf(u,c,h){_t({item_type:u,item_id:c,properties:h})&&Cr.sendItem({type:"item_set",item_type:u,item_id:c,properties:h||{}})}function Ts(u,c){_t({item_type:u,item_id:c})&&Cr.sendItem({type:"item_delete",item_type:u,item_id:c})}function Ss(u,c){_t({propertiesMust:u})&&Cr.send({type:"profile_set",properties:u},c)}function Uf(u,c){_t({propertiesMust:u})&&Cr.send({type:"profile_set_once",properties:u},c)}function jf(u,c){_t({propertiesMust:u})&&(U(u,function(h,g){x(h)?u[g]=[h]:V(h)?u[g]=h:(delete u[g],Ge("appendProfile\u5C5E\u6027\u7684\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u7EC4"))}),ke(u)||Cr.send({type:"profile_append",properties:u},c))}function $o(u,c){function h(b){for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)&&!/-*\d+/.test(String(b[C])))return!1;return!0}var g=u;x(u)&&(u={},u[g]=1),_t({propertiesMust:u})&&(h(u)?Cr.send({type:"profile_increment",properties:u},c):nt("profile_increment\u7684\u503C\u53EA\u80FD\u662F\u6570\u5B57"))}function Hf(u){Cr.send({type:"profile_delete"},u),ue.set("distinct_id",Jn()),ue.set("first_id","")}function Wo(u,c){var h=u,g={};x(u)&&(u=[],u.push(h)),V(u)?(U(u,function(b){x(b)?g[b]=!0:Ge("profile_unset\u7ED9\u7684\u6570\u7EC4\u91CC\u9762\u7684\u503C\u5FC5\u987B\u65F6string,\u5DF2\u7ECF\u8FC7\u6EE4\u6389",b)}),Cr.send({type:"profile_unset",properties:g},c)):nt("profile_unset\u7684\u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4")}function Vf(u){typeof u=="number"&&(u=String(u));var c=ue.getFirstId();if(typeof u>"u"){var h=Jn();c?ue.set("first_id",h):ue.set("distinct_id",h)}else _t({distinct_id:u})&&(c?ue.set("first_id",u):ue.set("distinct_id",u))}function qf(u){var c=ue.getFirstId();if(c)return nt("resetAnonymousIdentity must be used in a logout state \uFF01"),!1;if(typeof u=="number"&&(u=String(u)),typeof u>"u"){var h=Jn();ue._state.identities.$identity_cookie_id=h,ue.set("distinct_id",h)}else _t({distinct_id:u})&&(ue._state.identities.$identity_cookie_id=u,ue.set("distinct_id",u))}function Go(u,c,h,g){var b=ue.getFirstId()||ue.getDistinctId();ue.set("distinct_id",u),Cr.send({original_id:b,distinct_id:ue.getDistinctId(),type:"track_signup",event:c,properties:h},g)}function La(u,c,h,g){typeof u=="number"&&(u=String(u)),_t({distinct_id:u,event:c,properties:h})&&Go(u,c,h,g)}function Kn(u){_t({properties:u})?z(bt.currentProps,u):nt("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function xs(u){ue.clearAllProps(u)}function fn(u){var c;if(V(u)&&u.length>0)for(c=0;c<u.length;c++)x(u[c])&&u[c]in bt.currentProps&&delete bt.currentProps[u[c]];else if(u===!0)for(c in bt.currentProps)delete bt.currentProps[c]}function Rl(u){_t({properties:u})?ue.setProps(u):nt("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Nl(u){_t({properties:u})?ue.setPropsOnce(u):nt("registerOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Fl(u){O.log("registerSession \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),_t({properties:u})?ue.setSessionProps(u):nt("registerSession\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function zo(u){O.log("registerSessionOnce \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),_t({properties:u})?ue.setSessionPropsOnce(u):nt("registerSessionOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Ml(u,c){typeof u=="number"&&(u=String(u));var h=Vo({id:u,callback:c,name:ru.LOGIN},Go);!h&&i(c)&&c()}function $f(u,c){return Ge("loginWithKey is deprecated !!!"),typeof c=="number"&&(c=String(c)),typeof u=="number"&&(u=String(u)),!!_t({loginIdKey:u})&&(ru.LOGIN===u?(Ml(c),!1):void Vo({id:c,callback:null,name:u},Go))}function Wf(u){var c=ue.getFirstId();if(c)if(ue.set("first_id",""),u===!0){var h=Jn();ue.set("distinct_id",h)}else ue.set("distinct_id",c);Ol({$identity_cookie_id:ue._state.identities.$identity_cookie_id}),ue.set("history_login_id",{name:"",value:""})}function Es(){function u(){var g=bt.campaignParams(),b={};return U(g,function(C,L,W){(" "+O.source_channel_standard+" ").indexOf(" "+L+" ")!==-1?b["$"+L]=W[L]:b[L]=W[L]}),b}var c={$is_first_day:gs(),$is_first_time:iu.is_page_first_visited,$referrer:bt.pageProp.referrer||"",$referrer_host:bt.pageProp.referrer?Se(bt.pageProp.referrer):"",$url:ee(),$url_path:oe(),$title:document.title||"",_distinct_id:ue.getDistinctId(),identities:ue.getIdentities()},h=z({},bt.properties(),ue.getProps(),u(),c);return O.para.preset_properties.latest_referrer&&O.para.preset_properties.latest_referrer_host&&(h.$latest_referrer_host=h.$latest_referrer===""?"":Se(h.$latest_referrer)),h}function Gf(){var u="",c=" { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }";O.heatmap&&V(O.heatmap.otherTags)&&U(O.heatmap.otherTags,function(h){u+=h+c}),rt()&&Ee()&&Ee()<13&&(O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&hs("div, [data-sensors-click]"+c),O.para.heatmap&&O.para.heatmap.track_attr&&hs("["+O.para.heatmap.track_attr.join("], [")+"]"+c),u!==""&&hs(u))}function ti(u){var c=this;this.type=u,this.resultCbs={},this.timeoutCbs={},this.timerId=null,this.appCallJsCallback=null,window.sensorsdata_app_call_js||(window.sensorsdata_app_call_js=function(h,g){if(h in window.sensorsdata_app_call_js.modules)return window.sensorsdata_app_call_js.modules[h](g)}),window.sensorsdata_app_call_js.modules=window.sensorsdata_app_call_js.modules||{},window.sensorsdata_app_call_js.modules[this.type]=function(h){try{var g=te(h)||h;try{g=JSON.parse(g)}catch{}var b=g&&g.message_id;if(b&&c.resultCbs[b]){if(h=g,c.timeoutCbs[b]&&c.timeoutCbs[b].isTimeout)return void(c.resultCbs[b].callbacks.length=0);if(c.resultCbs[b]){c.resultCbs[b].result=h,clearTimeout(c.timerId),c.timeoutCbs[b].callbacks.length=0;for(var C in c.resultCbs[b].callbacks)c.resultCbs[b].callbacks[C].call(null,h),c.resultCbs[b].callbacks.splice(C,1)}return}return c.appCallJsCallback&&c.appCallJsCallback.call(null,h)}catch{nt("app \u56DE\u8C03 js \u5F02\u5E38",h)}}}function Bl(u){try{if(O.bridge.activeBridge&&i(O.bridge.activeBridge.handleCommand))return O.bridge.activeBridge.handleCommand(u)}catch(c){nt("Error: handle command exception:"+c)}return nt("\u6570\u636E\u53D1\u5F80App\u5931\u8D25\uFF0CApp\u6CA1\u6709\u66B4\u9732bridge,type:"+u.callType),!1}function zf(u){function c(L){var W={hostname:"",project:""};try{L=D(L),W.hostname=L.hostname,W.project=L.searchParams.get("project")||"default"}catch(re){nt("validateAppUrl:"+re)}return W}var h=c(u),g=c(O.para.server_url);if(h.hostname===g.hostname&&h.project===g.project)return!0;if(V(O.para.app_js_bridge.white_list))for(var b=0;b<O.para.app_js_bridge.white_list.length;b++){var C=c(O.para.app_js_bridge.white_list[b]);if(C.hostname===h.hostname&&C.project===h.project)return!0}return!1}function xt(u){this.bridge=new ti(u.type)}function Kf(){var u=bt.pageProp.url_domain,c={};u===""&&(u="url\u89E3\u6790\u5931\u8D25");var h=Vi(document.referrer,!0);if(Le.preset_properties.search_keyword_baidu?ms(document.referrer)&&(!Hi()||t(h)&&h.active?ue._state&&ue._state.props&&(ue._state.props.$search_keyword_id&&delete ue._state.props.$search_keyword_id,ue._state.props.$search_keyword_id_type&&delete ue._state.props.$search_keyword_id_type,ue._state.props.$search_keyword_id_hash&&delete ue._state.props.$search_keyword_id_hash):(c.$search_keyword_id=nu.id(),c.$search_keyword_id_type=nu.type(),c.$search_keyword_id_hash=ye(c.$search_keyword_id))):ue._state&&ue._state.props&&(ue._state.props.$search_keyword_id&&delete ue._state.props.$search_keyword_id,ue._state.props.$search_keyword_id_type&&delete ue._state.props.$search_keyword_id_type,ue._state.props.$search_keyword_id_hash&&delete ue._state.props.$search_keyword_id_hash),ue.save(),U(Le.preset_properties,function(L,W){if(W.indexOf("latest_")===-1)return!1;if(W=W.slice(7),L){if(W==="wx_ad_click_id"&&L==="not_collect")return!1;if(W!=="utm"&&u==="url\u89E3\u6790\u5931\u8D25")W==="wx_ad_click_id"?(c._latest_wx_ad_click_id="url\u7684domain\u89E3\u6790\u5931\u8D25",c._latest_wx_ad_hash_key="url\u7684domain\u89E3\u6790\u5931\u8D25",c._latest_wx_ad_callbacks="url\u7684domain\u89E3\u6790\u5931\u8D25"):c["$latest_"+W]="url\u7684domain\u89E3\u6790\u5931\u8D25";else if(ms(document.referrer))switch(W){case"traffic_source_type":c.$latest_traffic_source_type=Lo();break;case"referrer":c.$latest_referrer=bt.pageProp.referrer;break;case"search_keyword":Vi()?c.$latest_search_keyword=Vi():t(ue._state)&&t(ue._state.props)&&ue._state.props.$latest_search_keyword&&delete ue._state.props.$latest_search_keyword;break;case"landing_page":c.$latest_landing_page=ee();break;case"wx_ad_click_id":var re=qi(location.href);c._latest_wx_ad_click_id=re.click_id,c._latest_wx_ad_hash_key=re.hash_key,c._latest_wx_ad_callbacks=re.callbacks}}else if(W==="utm"&&ue._state&&ue._state.props)for(var pe in ue._state.props)(pe.indexOf("$latest_utm")===0||pe.indexOf("_latest_")===0&&pe.indexOf("_latest_wx_ad_")<0)&&delete ue._state.props[pe];else if(ue._state&&ue._state.props&&"$latest_"+W in ue._state.props)delete ue._state.props["$latest_"+W];else if(W=="wx_ad_click_id"&&ue._state&&ue._state.props&&L===!1){var Ce=["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"];U(Ce,function(Qe){Qe in ue._state.props&&delete ue._state.props[Qe]})}}),Le.preset_properties.latest_utm){var g=bt.campaignParamsStandard("$latest_","_latest_"),b=g.$utms,C=g.otherUtms;ke(b)||z(c,b),ke(C)||z(c,C)}Rl(c)}function Ul(u){var c=null;try{var h=JSON.parse(window.name);c=h[u]?p(h[u]):null}catch{c=null}return c===null&&(c=Re(location.href,u)||null),c}function jl(u){function c(){var C=[];h.touch_app_bridge||C.push(Yn.defineMode("1")),t(O.para.app_js_bridge)||(C.push(Yn.defineMode("2")),h.verify_success=!1),t(O.para.heatmap)&&O.para.heatmap.clickmap=="default"||C.push(Yn.defineMode("3")),h.verify_success==="fail"&&C.push(Yn.defineMode("4")),new O.SDKJSBridge("app_alert").notifyApp({data:C})}var h=O.bridge.bridge_info;if(O.bridge.hasVisualModeBridge())if(t(O.para.heatmap)&&O.para.heatmap.clickmap=="default")if(t(O.para.app_js_bridge)&&h.verify_success==="success")if(u)window.sa_jssdk_app_define_mode(O,u);else{var g=location.protocol,b=["http:","https:"];g=fe(b,g)>-1?g:"https:",hi({success:function(){setTimeout(function(){typeof sa_jssdk_app_define_mode<"u"&&window.sa_jssdk_app_define_mode(O,u)},0)},error:function(){},type:"js",url:g+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vapph5define.min.js"})}else c();else c()}function Hl(u){O.para.is_track_single_page&&Th.on("switch",function(c){var h=function(b){if(b=b||{},c!==location.href){bt.pageProp.referrer=ee(c);var C=z({$url:ee(),$referrer:ee(c)},b);i(u)?u(C):O.quick&&O.quick("autoTrack",C)}};if(typeof O.para.is_track_single_page=="boolean")h();else if(typeof O.para.is_track_single_page=="function"){var g=O.para.is_track_single_page();t(g)?h(g):g===!0&&h()}})}function Xf(){O._q&&V(O._q)&&O._q.length>0&&U(O._q,function(u){O[u[0]].apply(O,Array.prototype.slice.call(u[1]))}),t(O.para.heatmap)&&(vi.initHeatmap(),vi.initScrollmap())}function Vl(){O.readyState.setState(3),new O.SDKJSBridge("visualized").onAppNotify(function(){jl(typeof sa_jssdk_app_define_mode<"u")}),jl(!1),O.bridge.app_js_bridge_v1(),bt.initPage(),Hl(),ue.init(),Kf(),ql(),O.readyState.setState(4),Xf()}function Jf(){Zn.isSeachHasKeyword()?Zn.hasKeywordHandle():window.parent!==self&&Di.isSearchHasKeyword()?Di.verifyVtrackMode():Zn.isWindowNameHasKeyword()?Zn.windowNameHasKeywordHandle():Zn.isStorageHasKeyword()?Zn.storageHasKeywordHandle():window.parent!==self&&Di.isStorageHasKeyword()?Di.verifyVtrackMode():(Vl(),Di.notifyUser())}function ql(){Qn.init(),O.bridge.bridge_info.verify_success==="success"&&Ch.init()}function $l(){U(ZE,function(u){var c=O[u];O[u]=function(){if(O.readyState.state<3)return V(O._q)||(O._q=[]),Ge("calling sdk api before init is deprecated."),O._q.push([u,arguments]),!1;if(!i(O.getDisabled)||!O.getDisabled())return O.readyState.getState()?c.apply(O,arguments):void nt("\u8BF7\u5148\u521D\u59CB\u5316\u795E\u7B56JS SDK")}})}function Wl(u,c){this.cancel=function(){u=!0},this.getCanceled=function(){return u||!1},this.stop=function(){c=!0},this.getStopped=function(){return c||!1}}function Gl(u,c,h){var g=null;try{g=JSON.parse(JSON.stringify(u||null))}catch{}this.getOriginalData=function(){return g},this.getPosition=function(){return c},this.cancellationToken=new Wl,this.sensors=h}function ri(u){if(!t(u))throw"error: Stage constructor requires arguments.";this.processDef=u,this.registeredInterceptors={}}function hn(u){u&&u.buildDataStage&&Pv.registerStageImplementation(u.buildDataStage),u&&u.businessStage&&Ov.registerStageImplementation(u.businessStage),u&&u.sendDataStage&&Iv.registerStageImplementation(u.sendDataStage),u&&u.viewStage&&Lv.registerStageImplementation(u.viewStage)}function Ko(u,c){Rv[u]&&Rv[u](c)}function Yf(){return Dh.stage&&Dh.stage.process("getUtmData")}function Qf(u){return Nv.stage.process("send",u)}function Zf(u){u.kit=au,u.saEvent=Cr,this.buildDataStage=wh,this.sendDataStage=Nv,this.businessStage=Dh}function eh(u){u.heatmap=vi,this.viewStage=Ah}function th(u){if(!i(u.properties))return void nt("registerPropertyPlugin arguments error, properties must be function");if(u.isMatchedWithFilter&&!i(u.isMatchedWithFilter))return void nt("registerPropertyPlugin arguments error, isMatchedWithFilter must be function");var c={finalAdjustData:{priority:100,entry:function(h){try{if(i(u.isMatchedWithFilter))return u.isMatchedWithFilter(h)&&u.properties(h);u.properties(h)}catch(g){nt("execute registerPropertyPlugin callback error:"+g)}}}};Ko("buildDataStage",c)}function Xo(u){u&&(O.events=wv,O.bridge=QE,O.SDKJSBridge=ti,O.JSBridge=xt,O.store=ue,O.unlimitedDiv=fc,O.customProp=kv,O.vtrackcollect=Qn,O.vapph5collect=Ch,O.detectMode=Jf,O.registerFeature=hn,O.registerInterceptor=Ko,O.commonWays=hc,hn(new Zf(O)),hn(new eh(O)),Ko("viewStage",a1));var c=u?YE:e1;for(var h in c)O[h]=c[h];O.logger=Fa,O.log=pi,O._=Dv,O.on=Oa,O.ee=Wt,O.use=qo,O.lib_version=lc,O.registerPropertyPlugin=th}function rh(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return ih(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function ih(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function Cs(u,c,h){return rh(u,c,h),u.plugin_version=s1,u}function Ra(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return nh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function nh(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function zl(u,c,h){return Ra(u,c,h),u.plugin_version=l1,u}function Kl(u){return Bv&&Bv.call($i,JSON.stringify(u))}function Jo(u){return gc.call($i)&&Uv&&Uv.call($i,JSON.stringify(u))}function Xl(u,c){return c&&typeof c[u.callType]=="function"&&c[u.callType]()}function Jl(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return Yo(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function Yo(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function Yl(u,c,h){return Jl(u,c,h),u.plugin_version=f1,u}function Ql(){if(Pi=window.SensorsData_APP_New_H5_Bridge,pc=Pi&&Pi.sensorsdata_track,su=pc&&Pi.sensorsdata_get_server_url&&Pi.sensorsdata_get_server_url(),Ma("---test---fail---",!Dt,Dt.bridge.activeBridge,!su),Dt&&!Dt.bridge.activeBridge&&su)return Dt.bridge.activeBridge=Hv,Dt.para.app_js_bridge&&!Dt.para.app_js_bridge.is_mui&&(Dt.bridge.is_verify_success=su&&Dt.bridge.validateAppUrl(su),Ma("---test---bridge-verify-",Dt.bridge.is_verify_success)),Dt.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:Dt.bridge.is_verify_success?"success":"fail",support_two_way_call:!!Pi.sensorsdata_js_call_app},Dt.para.app_js_bridge?void Dt.registerInterceptor("sendDataStage",{send:{priority:60,entry:ws}}):void Ma("---test---app_js_bridge is not configured, data will not be sent by android bridge.")}function ws(u,c){if(Ma("---test---datasend-",Dt.bridge.is_verify_success),Dt.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var h=u.callback;return Dt.bridge.is_verify_success?(Ma("---test---bridge-verify-success---",u.data),pc&&pc.call(Pi,JSON.stringify(ou.extend({server_url:Dt.para.server_url},u.data))),ou.isFunction(h)&&h(),c.cancellationToken.cancel(),u):(Ma("---test---bridge-verify-fail-----",Dt.bridge.is_verify_success),Dt.para.app_js_bridge.is_send?(Dt.debug.apph5({data:u.data,step:"4.2",output:"all"}),u):(ou.isFunction(h)&&h(),c.cancellationToken.cancel(),u))}function As(u){var c=u.callType;return c in jv.commands?jv.commands[c](u,Pi):void(Pi&&ou.isFunction(Pi.sensorsdata_js_call_app)&&Pi.sensorsdata_js_call_app(JSON.stringify(u)))}function ah(u){return qv&&qv.call(Wi,JSON.stringify(u))}function Zl(u){return mc.call(Wi)&&$v&&$v.call(Wi,JSON.stringify(u))}function sh(u,c){return c&&typeof c[u.callType]=="function"&&c[u.callType]()}function oh(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return uh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function uh(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function Qo(u,c,h){return oh(u,c,h),u.plugin_version=h1,u}function lh(){if(_i("ObsoleteBridge---test---init---"),$r=window.SensorsData_APP_JS_Bridge,Ds=$r&&$r.sensorsdata_track,Ba=$r&&$r.sensorsdata_verify,uu=$r&&$r.sensorsdata_visual_verify,_i("ObsoleteBridge-",tr.bridge.activeBridge,Ba,Ds,uu),tr&&!tr.bridge.activeBridge&&(Ba||Ds||uu)){tr.bridge.activeBridge=Wv;var u=Ba||Ds;if(uu&&(u=!!uu.call($r,JSON.stringify({server_url:tr.para.server_url})),_i("ObsoleteBridge---called-return",u)),tr.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:u?"success":"fail"},!tr.para.app_js_bridge)return void _i("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");tr.registerInterceptor("sendDataStage",{send:{priority:80,entry:ch}}),_i("Android obsolete bridge inits succeed.")}}function ch(u,c){if(_i("ObsoleteBridge---senddata"),tr.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var h=u.callback;if(Ba){var g=Ba&&Ba.call($r,JSON.stringify(Ua.extend({server_url:tr.para.server_url},u.data)));return _i("ObsoleteBridge---anVerify-success",g),g?(Ua.isFunction(h)&&h(),c.cancellationToken.cancel(),u):tr.para.app_js_bridge.is_send?(tr.debug.apph5({data:u.data,step:"3.1",output:"all"}),u):(Ua.isFunction(h)&&h(),c.cancellationToken.cancel(),u)}return _i("ObsoleteBridge---is-send-old-way",tr.para.app_js_bridge.is_send),Ds&&Ds.call($r,JSON.stringify(Ua.extend({server_url:tr.para.server_url},u.data))),Ua.isFunction(h)&&h(),c.cancellationToken.cancel(),u}function Xn(u){_i("ObsoleteBridge---handleCommadn");var c=u.callType;return c in Oh.commands?(_i("ObsoleteBridge---",c,Oh.commands),Oh.commands[c](u,$r)):$r&&Ua.isFunction($r.sensorsdata_js_call_app)?(_i("ObsoleteBridge---handleCommadn-abridge"),$r.sensorsdata_js_call_app(JSON.stringify(u))):void 0}function gt(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return pn(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function pn(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function mr(u,c,h){return gt(u,c,h),u.plugin_version=p1,u}function mi(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return dh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function dh(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function ec(u,c,h){return mi(u,c,h),u.plugin_version=m1,u}function tc(){return typeof lu<"u"&&document[lu]}function fh(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return hh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function hh(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function ph(u,c,h){return fh(u,c,h),u.plugin_version=E1,u}function gh(){if(Lh=window.SensorsData_iOS_JS_Bridge&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url,ja=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker},Vt&&!Vt.bridge.activeBridge&&ja()&&ja().postMessage){if(Vt.bridge.activeBridge=Xv,Vt.para.app_js_bridge&&!Vt.para.app_js_bridge.is_mui&&(Vt.bridge.is_verify_success=Lh&&Vt.bridge.validateAppUrl(Lh)),Vt.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:Vt.bridge.is_verify_success?"success":"fail",support_two_way_call:!0},!Vt.para.app_js_bridge)return void Rh("app_js_bridge is not configured, data will not be sent by iOS bridge.");Vt.registerInterceptor("sendDataStage",{send:{priority:70,entry:mh}}),Rh("IOS bridge inits succeed.")}}function mh(u,c){if(Vt.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var h=u.callback;return Vt.bridge.is_verify_success?(ja()&&ja().postMessage(JSON.stringify({callType:"app_h5_track",data:cu.extend({server_url:Vt.para.server_url},u.data)})),cu.isFunction(h)&&h(),c.cancellationToken.cancel(),u):Vt.para.app_js_bridge.is_send?(Vt.debug.apph5({data:u.data,step:"4.1",output:"all"}),u):(cu.isFunction(h)&&h(),c.cancellationToken.cancel(),u)}function vh(u){var c=u.callType;return c!=="page_info"&&c!=="visualized_track"||Vt.bridge.hasVisualModeBridge()?c==="sensorsdata_get_app_visual_config"?cu.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge[c]:ja()&&ja().postMessage(JSON.stringify(u)):null}function rc(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return I(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function I(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function v(u,c,h){return rc(u,c,h),u.plugin_version=C1,u}function S(){if(rr&&!rr.bridge.activeBridge&&T()){if(rr.bridge.activeBridge=Yv,rr.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:E()?"success":"fail"},!rr.para.app_js_bridge)return void Nh("app_js_bridge is not configured, data will not be sent by iOS obsolete bridge.");rr.registerInterceptor("sendDataStage",{send:{priority:90,entry:w}}),Nh("IOS obsolete bridge inits succeed.")}}function T(){return(/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream}function E(){if(/sensors-verify/.test(navigator.userAgent)){var u=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(u&&u[0]&&typeof u[1]=="string"&&u[1].split("?").length===2){u=u[1].split("?");var c=null,h=null;try{c=Ps.URL(rr.para.server_url).hostname,h=Ps.URL(rr.para.server_url).searchParams.get("project")||"default"}catch(g){rr.log(g)}return!(!c||c!==u[0]||!h||h!==u[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)}function w(u,c){function h(L){var W=JSON.stringify(Ps.extend({server_url:rr.para.server_url},L));return W=W.replace(/\r\n/g,""),W=encodeURIComponent(W),"sensorsanalytics://trackEvent?event="+W}if(rr.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var g=u.callback;if(rr.bridge.bridge_info.verify_success){var b=document.createElement("iframe"),C=h(u.data);return b.setAttribute("src",C),document.documentElement.appendChild(b),b.parentNode.removeChild(b),b=null,Ps.isFunction(g)&&g(),c.cancellationToken.cancel(),!0}return rr.para.app_js_bridge.is_send?(rr.debug.apph5({data:u.data,step:"3.2",output:"all"}),u):(Ps.isFunction(g)&&g(),c.cancellationToken.cancel(),u)}function k(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return N(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function N(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function M(u,c,h){return k(u,c,h),u.plugin_version=w1,u}function q(){this.sd=null,this.start_time=+new Date,this.page_show_status=!0,this.page_hidden_status=!1,this._={},this.timer=null,this.current_page_url=document.referrer,this.url=location.href,this.title=document.title||"",this.option={},this.heartbeat_interval_time=5e3,this.heartbeat_interval_timer=null,this.page_id=null,this.storage_name="sawebjssdkpageleave",this.max_duration=k1}function $(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return X(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function X(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function ie(u,c,h){return $(u,c,h),u.plugin_version=I1,u}function Te(u,c){if(u.type!=="track")return u;var h=c.sd,g=h._,b=h.saEvent.check,C=g.extend2Lev({properties:{}},u),L=c.customRegister,W=C.properties,re=C.event,pe={};return g.each(L,function(Ce){if(g.isObject(Ce))g.indexOf(Ce.events,re)>-1&&b({properties:Ce.properties})&&(pe=g.extend(pe,Ce.properties));else if(g.isFunction(Ce)){var Qe=Ce({event:re,properties:W,data:C});g.isObject(Qe)&&!g.isEmptyObject(Qe)&&b({properties:Qe})&&(pe=g.extend(pe,Qe))}}),u.properties=g.extend(W,pe),u}function De(){this.sd=null,this.log=window.console&&window.console.log||function(){},this.customRegister=[]}function ge(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return He(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function He(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function $t(u,c,h){return ge(u,c,h),u.plugin_version=R1,u}function vr(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return gn(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function gn(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function Zo(u,c,h){return vr(u,c,h),u.plugin_version=M1,u}function ic(u){try{if(u.event!=="$pageview"&&(!u.type||u.type.slice(0,7)!=="profile")){var c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,h=document.documentElement.scrollHeight||0,g={$page_height:Math.max(c,h)||0};u.properties=Ha._.extend(u.properties||{},g)}}catch{fu("\u9875\u9762\u9AD8\u5EA6\u83B7\u53D6\u5F02\u5E38\u3002")}return e0.call(Ha.kit,u)}function nc(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return ac(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function ac(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function eu(u,c,h){return nc(u,c,h),u.plugin_version=j1,u}function sc(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return Ut(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function Ut(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function oc(u,c,h){return sc(u,c,h),u.plugin_version=q1,u}function mn(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return H2(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function H2(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function V2(u,c,h){return mn(u,c,h),u.plugin_version=W1,u}function q2(){Bh=!0}function $2(){Bh=!1}function W2(){return Bh}function G2(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return z2(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function z2(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function K2(u,c,h){return G2(u,c,h),u.plugin_version=z1,u}function X2(u){var c=u,h="";h=Rt.para.debug_mode_url.indexOf("?")!==-1?Rt.para.debug_mode_url+"&"+Rt.kit.encodeTrackData(u):Rt.para.debug_mode_url+"?"+Rt.kit.encodeTrackData(u),Va.ajax({url:h,type:"GET",cors:!0,header:{"Dry-Run":String(Rt.para.debug_mode_upload)},success:function(g){Va.isEmptyObject(g)===!0?alert("debug\u6570\u636E\u53D1\u9001\u6210\u529F"+c):alert("debug\u5931\u8D25 \u9519\u8BEF\u539F\u56E0"+JSON.stringify(g))}})}function J2(u,c){if(Rt.para.debug_mode===!0){var h=u.data;u.callback,X2(JSON.stringify(h)),c.cancellationToken.stop()}return u}function Y2(){Rt.para.debug_mode===!0&&(Rt.para.debug_mode_upload=Rt.para.debug_mode_upload||!1,Va.isString(Rt.para.debug_mode_url)||(Va.isString(Rt.para.server_url)?Rt.para.debug_mode_url=Rt.para.server_url.replace("sa.gif","debug"):Va.isArray(Rt.para.server_url)&&Va.isString(Rt.para.server_url[0])?Rt.para.debug_mode_url=Rt.para.server_url[0].replace("sa.gif","debug"):Rt.para.debug_mode=!1))}function Q2(){Rt.on("sdkInitPara",function(){Y2()}),Rt.on("sdkAfterInitPara",function(){Rt.registerInterceptor("sendDataStage",{send:{priority:30,entry:J2}})})}function Z2(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return eE(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function eE(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function tE(u,c,h){return Z2(u,c,h),u.plugin_version=X1,u}function rE(u,c){if(qa.isObject(wr.para.jsapp)&&!wr.para.jsapp.isOnline&&typeof wr.para.jsapp.setData=="function"){var h=u;delete h.callback,h=JSON.stringify(h),wr.para.jsapp.setData(h),c.cancellationToken.stop()}return u}function iE(){wr.on("sdkAfterInitAPI",function(){qa.isObject(wr.commonWays)&&(wr.commonWays.setOnlineState=nE),wr.registerInterceptor("sendDataStage",{send:{priority:40,entry:rE}})})}function nE(u){if(u===!0&&qa.isObject(wr.para.jsapp)&&typeof wr.para.jsapp.getData=="function"){wr.para.jsapp.isOnline=!0;var c=wr.para.jsapp.getData();qa.isArray(c)&&c.length>0&&qa.each(c,function(h){qa.isJSONString(h)&&wr.kit.sendData(JSON.parse(h))})}else wr.para.jsapp.isOnline=!1}function aE(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return sE(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function sE(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function oE(u,c,h){return aE(u,c,h),u.plugin_version=Y1,u}function uE(u,c){return!Ar.para.app_js_bridge&&Ar.para.batch_send&&ea.localStorage.isSupport()&&localStorage.length<Ar.para.batch_send.storage_length&&(_c.add(u.data),c.cancellationToken.stop()),u}function lE(){var u={datasend_timeout:6e3,send_interval:6e3,storage_length:200};ea.localStorage.isSupport()&&ea.isSupportCors()&&typeof localStorage=="object"?Ar.para.batch_send===!0?Ar.para.batch_send=ea.extend({},u):typeof Ar.para.batch_send=="object"&&(Ar.para.batch_send=ea.extend({},u,Ar.para.batch_send)):Ar.para.batch_send=!1}function cE(){Ar.on("sdkInitPara",function(){lE()}),Ar.on("sdkAfterInitPara",function(){!Ar.para.app_js_bridge&&Ar.para.batch_send&&ea.localStorage.isSupport()&&(_c||(_c=new ea.BatchSend),_c.batchInterval(),Ar.registerInterceptor("sendDataStage",{send:{priority:100,entry:uE}}))})}function dE(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return fE(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function fE(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function hE(u,c,h){return dE(u,c,h),u.plugin_version=Z1,u}function fv(u){var c=new ta.BeaconSend(u);c.start()}function pE(u,c){var h=null,g=null;ta.isObject(u.config)&&(h=u.config.send_type,g=ta.optimizeServerUrl(u.config.server_url));var b=h==="beacon"||!h&&zi.para.send_type==="beacon";if(b&&ta.isSupportBeaconSend()){var C=g||u.server_url;u.server_url=C,u.data=zi.kit.encodeTrackData(u.data),ta.isArray(C)&&C.length?ta.each(C,function(L){u.callback=null,u.server_url=L,fv(u)}):typeof C=="string"&&C!==""?fv(u):zi.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),c.cancellationToken.stop()}return u}function gE(){zi.para.send_type!=="beacon"||ta.isSupportBeaconSend()||(zi.para.send_type="image")}function mE(){zi.on("sdkInitPara",function(){gE()}),zi.on("sdkAfterInitPara",function(){zi.registerInterceptor("sendDataStage",{send:{priority:110,entry:pE}})})}function vE(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return _E(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function _E(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function yE(u,c,h){return vE(u,c,h),u.plugin_version=tC,u}function hv(u){var c=new ra.AjaxSend(u);c.start()}function bE(u,c){var h=null,g=null;ra.isObject(u.config)&&(h=u.config.send_type,g=ra.optimizeServerUrl(u.config.server_url));var b=h==="ajax"||!h&&Ki.para.send_type==="ajax";if(b&&ra.isSupportCors()){var C=g||u.server_url;u.server_url=C,u.data=Ki.kit.encodeTrackData(u.data),ra.isArray(C)&&C.length?ra.each(C,function(L){u.callback=null,u.server_url=L,hv(u)}):typeof C=="string"&&C!==""?hv(u):Ki.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),c.cancellationToken.stop()}return u}function TE(){Ki.para.send_type!=="ajax"||ra.isSupportCors()||(Ki.para.send_type="image")}function SE(){Ki.on("sdkInitPara",function(){TE()}),Ki.on("sdkAfterInitPara",function(){Ki.registerInterceptor("sendDataStage",{send:{priority:120,entry:bE}})})}function xE(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return EE(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function EE(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function CE(u,c,h){return xE(u,c,h),u.plugin_version=iC,u}function pv(u,c){var h=yi.kit.encodeTrackData(c);return u.indexOf("?")!==-1?u+"&"+h:u+"?"+h}function gv(u){var c=new Is.ImageSend(u);c.start()}function wE(u,c){var h=null;Is.isObject(u.config)&&(h=Is.optimizeServerUrl(u.config.server_url));var g=h||u.server_url,b=u.data;u.server_url=g,Is.isArray(g)&&g.length?Is.each(g,function(C){C&&(u.data=pv(C,b),u.callback=null,u.server_url=C,gv(u))}):typeof g=="string"&&g!==""?(u.data=pv(g,b),gv(u)):yi.logger&&yi.logger.msg("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01").level("warn").log(),c.cancellationToken.stop()}function AE(){yi.para.send_type!=="image"&&yi.para.send_type!=="ajax"&&yi.para.send_type!=="beacon"&&(yi.para.send_type="image")}function kE(){yi.on("sdkInitPara",function(){AE()}),yi.on("sdkAfterInitPara",function(){yi.registerInterceptor("sendDataStage",{send:{priority:130,entry:wE}})})}function DE(u,c,h){if(c&&(u.plugin_name=c),h&&u.init){var g=u.init;u.init=function(b,C){function L(){g.call(u,b,C)}return PE(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(h,L)}}return u}function PE(u,c,h){function g(b,C){u.logger?u.logger.msg.apply(u.logger,C).module(h+""||"").level(b).log():u.log&&u.log.apply(u,C)}c.log=function(){g("log",arguments)},c.warn=function(){g("warn",arguments)},c.error=function(){g("error",arguments)}}function IE(u,c,h){return DE(u,c,h),u.plugin_version=lc,u}function OE(u){return hu===null?void mv(u):void hu.push(u)}function mv(u){try{if(u.level==="log"&&vv()||u.level==="warn"&&LE()||u.level==="error"&&RE())return void _h(u)}catch{}}function vv(){return!!yh()||ur.para.show_log===!0||zr.isObject(ur.para.show_log)&&ur.para.show_log.level==="log"}function LE(){return!!yh()||vv()||zr.isObject(ur.para.show_log)&&ur.para.show_log.level==="warn"}function RE(){return!!yh()||!zr.isObject(ur.para.show_log)||ur.para.show_log.level!=="none"}function _h(u){var c=u.content,h=zr.isObject(c[0])?zr.formatJsonString(c[0]):c[0],g=NE(u);c[0]=g+(g.length>0?": ":"")+h;try{console&&(zr.isFunction(console[u.level])?console[u.level].apply(console,c):zr.isObject(console[u.level])&&console[u.level](c[0]))}catch{}}function NE(u){var c="",h="",g=ur.para.show_log;return zr.isObject(g)&&g.show_brand===!1||(c+=u.brand),zr.isObject(g)&&g.show_level===!1||(c+=(c.length>0?"-":"")+u.level),c.length>0&&(c="["+c+"]"),zr.isObject(g)&&g.show_module===!1||(h=u.module),c+h}function FE(){zr.sessionStorage.isSupport()&&sessionStorage.setItem(Uh,"true")}function ME(){zr.sessionStorage.isSupport()&&sessionStorage.removeItem(Uh)}function yh(){return zr.sessionStorage.isSupport()&&sessionStorage.getItem(Uh)==="true"}var O={};(function(){function u(W,re){function pe(Ie,je){try{Ie()}catch{je&&je()}}function Ce(Ie){if(Ce[Ie]!=null)return Ce[Ie];var je;if(Ie=="bug-string-char-index")je="a"[0]!="a";else if(Ie=="json")je=Ce("json-stringify")&&Ce("date-serialization")&&Ce("json-parse");else if(Ie=="date-serialization"){if(je=Ce("json-stringify")&&Xi){var ve=re.stringify;pe(function(){je=ve(new Yt(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&ve(new Yt(864e13))=='"+275760-09-13T00:00:00.000Z"'&&ve(new Yt(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&ve(new Yt(-1))=='"1969-12-31T23:59:59.999Z"'})}}else{var $e,we='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(Ie=="json-stringify"){var ve=re.stringify,We=typeof ve=="function";We&&(($e=function(){return 1}).toJSON=$e,pe(function(){We=ve(0)==="0"&&ve(new Ze)==="0"&&ve(new Nt)=='""'&&ve(bi)===Ii&&ve(Ii)===Ii&&ve()===Ii&&ve($e)==="1"&&ve([$e])=="[1]"&&ve([Ii])=="[null]"&&ve(null)=="null"&&ve([Ii,bi,null])=="[null,null,null]"&&ve({a:[$e,!0,!1,null,`\0\b
\f\r	`]})==we&&ve(null,$e)==="1"&&ve([1,2],null,1)==`[
 1,
 2
]`},function(){We=!1})),je=We}if(Ie=="json-parse"){var ze,Me=re.parse;typeof Me=="function"&&pe(function(){Me("0")!==0||Me(!1)||($e=Me(we),ze=$e.a.length==5&&$e.a[0]===1,ze&&(pe(function(){ze=!Me('"	"')}),ze&&pe(function(){ze=Me("01")!==1}),ze&&pe(function(){ze=Me("1.")!==1})))},function(){ze=!1}),je=ze}}return Ce[Ie]=!!je}function Qe(Ie){return Vh(this)}W||(W=h.Object()),re||(re=h.Object());var Ze=W.Number||h.Number,Nt=W.String||h.String,_r=W.Object||h.Object,Yt=W.Date||h.Date,_n=W.SyntaxError||h.SyntaxError,yc=W.TypeError||h.TypeError,oC=W.Math||h.Math,bc=W.JSON||h.JSON;if(typeof bc=="object"&&bc)return re.stringify=bc.stringify,re.parse=bc.parse,re.runInContext=u,re;var Ii,h0=_r.prototype,bi=h0.toString,Tc=h0.hasOwnProperty,Xi=new Yt(-0xc782b5b800cec);if(pe(function(){Xi=Xi.getUTCFullYear()==-109252&&Xi.getUTCMonth()===0&&Xi.getUTCDate()===1&&Xi.getUTCHours()==10&&Xi.getUTCMinutes()==37&&Xi.getUTCSeconds()==6&&Xi.getUTCMilliseconds()==708}),Ce["bug-string-char-index"]=Ce["date-serialization"]=Ce.json=Ce["json-stringify"]=Ce["json-parse"]=null,!Ce("json")){var Sc="[object Function]",uC="[object Date]",p0="[object Number]",g0="[object String]",jh="[object Array]",lC="[object Boolean]",Hh=Ce("bug-string-char-index"),Ls=function(Ie,je){var ve,$e,we,We=0;(ve=function(){this.valueOf=0}).prototype.valueOf=0,$e=new ve;for(we in $e)Tc.call($e,we)&&We++;return ve=$e=null,We?Ls=function(ze,Me){var wt,kr,Ft=bi.call(ze)==Sc;for(wt in ze)Ft&&wt=="prototype"||!Tc.call(ze,wt)||(kr=wt==="constructor")||Me(wt);(kr||Tc.call(ze,wt="constructor"))&&Me(wt)}:($e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],Ls=function(ze,Me){var wt,kr,Ft=bi.call(ze)==Sc,na=!Ft&&typeof ze.constructor!="function"&&c[typeof ze.hasOwnProperty]&&ze.hasOwnProperty||Tc;for(wt in ze)Ft&&wt=="prototype"||!na.call(ze,wt)||Me(wt);for(kr=$e.length;wt=$e[--kr];)na.call(ze,wt)&&Me(wt)}),Ls(Ie,je)};if(!Ce("json-stringify")&&!Ce("date-serialization")){var cC={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},dC="000000",yn=function(Ie,je){return(dC+(je||0)).slice(-Ie)},Vh=function(Ie){var je,ve,$e,we,We,ze,Me,wt,kr;if(Xi)je=function(Ct){ve=Ct.getUTCFullYear(),$e=Ct.getUTCMonth(),we=Ct.getUTCDate(),ze=Ct.getUTCHours(),Me=Ct.getUTCMinutes(),wt=Ct.getUTCSeconds(),kr=Ct.getUTCMilliseconds()};else{var Ft=oC.floor,na=[0,31,59,90,120,151,181,212,243,273,304,334],bn=function(Ct,Tn){return na[Tn]+365*(Ct-1970)+Ft((Ct-1969+(Tn=+(Tn>1)))/4)-Ft((Ct-1901+Tn)/100)+Ft((Ct-1601+Tn)/400)};je=function(Ct){for(we=Ft(Ct/864e5),ve=Ft(we/365.2425)+1970-1;bn(ve+1,0)<=we;ve++);for($e=Ft((we-bn(ve,0))/30.42);bn(ve,$e+1)<=we;$e++);we=1+we-bn(ve,$e),We=(Ct%864e5+864e5)%864e5,ze=Ft(We/36e5)%24,Me=Ft(We/6e4)%60,wt=Ft(We/1e3)%60,kr=We%1e3}}return(Vh=function(Ct){return Ct>-1/0&&Ct<1/0?(je(Ct),Ct=(ve<=0||ve>=1e4?(ve<0?"-":"+")+yn(6,ve<0?-ve:ve):yn(4,ve))+"-"+yn(2,$e+1)+"-"+yn(2,we)+"T"+yn(2,ze)+":"+yn(2,Me)+":"+yn(2,wt)+"."+yn(3,kr)+"Z",ve=$e=we=ze=Me=wt=kr=null):Ct=null,Ct})(Ie)};if(Ce("json-stringify")&&!Ce("date-serialization")){var fC=re.stringify;re.stringify=function(Ie,je,ve){var $e=Yt.prototype.toJSON;Yt.prototype.toJSON=Qe;var we=fC(Ie,je,ve);return Yt.prototype.toJSON=$e,we}}else{var hC="\\u00",pC=function(Ie){var je=Ie.charCodeAt(0),ve=cC[je];return ve||hC+yn(2,je.toString(16))},qh=/[\x00-\x1f\x22\x5c]/g,m0=function(Ie){return qh.lastIndex=0,'"'+(qh.test(Ie)?Ie.replace(qh,pC):Ie)+'"'},$h=function(Ie,je,ve,$e,we,We,ze){var Me,wt,kr,Ft,na,bn,Ct,Tn,Gh;if(pe(function(){Me=je[Ie]}),typeof Me=="object"&&Me&&(Me.getUTCFullYear&&bi.call(Me)==uC&&Me.toJSON===Yt.prototype.toJSON?Me=Vh(Me):typeof Me.toJSON=="function"&&(Me=Me.toJSON(Ie))),ve&&(Me=ve.call(je,Ie,Me)),Me==Ii)return Me===Ii?Me:"null";switch(wt=typeof Me,wt=="object"&&(kr=bi.call(Me)),kr||wt){case"boolean":case lC:return""+Me;case"number":case p0:return Me>-1/0&&Me<1/0?""+Me:"null";case"string":case g0:return m0(""+Me)}if(typeof Me=="object"){for(Ct=ze.length;Ct--;)if(ze[Ct]===Me)throw yc();if(ze.push(Me),Ft=[],Tn=We,We+=we,kr==jh){for(bn=0,Ct=Me.length;bn<Ct;bn++)na=$h(bn,Me,ve,$e,we,We,ze),Ft.push(na===Ii?"null":na);Gh=Ft.length?we?`[
`+We+Ft.join(`,
`+We)+`
`+Tn+"]":"["+Ft.join(",")+"]":"[]"}else Ls($e||Me,function(y0){var b0=$h(y0,Me,ve,$e,we,We,ze);b0!==Ii&&Ft.push(m0(y0)+":"+(we?" ":"")+b0)}),Gh=Ft.length?we?`{
`+We+Ft.join(`,
`+We)+`
`+Tn+"}":"{"+Ft.join(",")+"}":"{}";return ze.pop(),Gh}};re.stringify=function(Ie,je,ve){var $e,we,We,ze;if(c[typeof je]&&je){if(ze=bi.call(je),ze==Sc)we=je;else if(ze==jh){We={};for(var Me,wt=0,kr=je.length;wt<kr;)Me=je[wt++],ze=bi.call(Me),ze!="[object String]"&&ze!="[object Number]"||(We[Me]=1)}}if(ve)if(ze=bi.call(ve),ze==p0){if((ve-=ve%1)>0)for(ve>10&&(ve=10),$e="";$e.length<ve;)$e+=" "}else ze==g0&&($e=ve.length<=10?ve:ve.slice(0,10));return $h("",(Me={},Me[""]=Ie,Me),we,We,$e,"",[])}}}if(!Ce("json-parse")){var Xe,xc,gC=Nt.fromCharCode,mC={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},lr=function(){throw Xe=xc=null,_n()},ia=function(){for(var Ie,je,ve,$e,we,We=xc,ze=We.length;Xe<ze;)switch(we=We.charCodeAt(Xe)){case 9:case 10:case 13:case 32:Xe++;break;case 123:case 125:case 91:case 93:case 58:case 44:return Ie=Hh?We.charAt(Xe):We[Xe],Xe++,Ie;case 34:for(Ie="@",Xe++;Xe<ze;)if(we=We.charCodeAt(Xe),we<32)lr();else if(we==92)switch(we=We.charCodeAt(++Xe)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:Ie+=mC[we],Xe++;break;case 117:for(je=++Xe,ve=Xe+4;Xe<ve;Xe++)we=We.charCodeAt(Xe),we>=48&&we<=57||we>=97&&we<=102||we>=65&&we<=70||lr();Ie+=gC("0x"+We.slice(je,Xe));break;default:lr()}else{if(we==34)break;for(we=We.charCodeAt(Xe),je=Xe;we>=32&&we!=92&&we!=34;)we=We.charCodeAt(++Xe);Ie+=We.slice(je,Xe)}if(We.charCodeAt(Xe)==34)return Xe++,Ie;lr();default:if(je=Xe,we==45&&($e=!0,we=We.charCodeAt(++Xe)),we>=48&&we<=57){for(we==48&&(we=We.charCodeAt(Xe+1),we>=48&&we<=57)&&lr(),$e=!1;Xe<ze&&(we=We.charCodeAt(Xe),we>=48&&we<=57);Xe++);if(We.charCodeAt(Xe)==46){for(ve=++Xe;ve<ze&&(we=We.charCodeAt(ve),!(we<48||we>57));ve++);ve==Xe&&lr(),Xe=ve}if(we=We.charCodeAt(Xe),we==101||we==69){for(we=We.charCodeAt(++Xe),we!=43&&we!=45||Xe++,ve=Xe;ve<ze&&(we=We.charCodeAt(ve),!(we<48||we>57));ve++);ve==Xe&&lr(),Xe=ve}return+We.slice(je,Xe)}$e&&lr();var Me=We.slice(Xe,Xe+4);if(Me=="true")return Xe+=4,!0;if(Me=="fals"&&We.charCodeAt(Xe+4)==101)return Xe+=5,!1;if(Me=="null")return Xe+=4,null;lr()}return"$"},Wh=function(Ie){var je,ve;if(Ie=="$"&&lr(),typeof Ie=="string"){if((Hh?Ie.charAt(0):Ie[0])=="@")return Ie.slice(1);if(Ie=="["){for(je=[];Ie=ia(),Ie!="]";)ve?Ie==","?(Ie=ia(),Ie=="]"&&lr()):lr():ve=!0,Ie==","&&lr(),je.push(Wh(Ie));return je}if(Ie=="{"){for(je={};Ie=ia(),Ie!="}";)ve?Ie==","?(Ie=ia(),Ie=="}"&&lr()):lr():ve=!0,Ie!=","&&typeof Ie=="string"&&(Hh?Ie.charAt(0):Ie[0])=="@"&&ia()==":"||lr(),je[Ie.slice(1)]=Wh(ia());return je}lr()}return Ie},v0=function(Ie,je,ve){var $e=_0(Ie,je,ve);$e===Ii?delete Ie[je]:Ie[je]=$e},_0=function(Ie,je,ve){var $e,we=Ie[je];if(typeof we=="object"&&we)if(bi.call(we)==jh)for($e=we.length;$e--;)v0(bi,Ls,we,$e,ve);else Ls(we,function(We){v0(we,We,ve)});return ve.call(Ie,je,we)};re.parse=function(Ie,je){var ve,$e;return Xe=0,xc=""+Ie,ve=Wh(ia()),ia()!="$"&&lr(),Xe=xc=null,je&&bi.call(je)==Sc?_0(($e={},$e[""]=ve,$e),"",je):ve}}}return re.runInContext=u,re}var c={function:!0,object:!0},h=c[typeof window]&&window||this,g=h.JSON,b=h.JSON3,C=!1,L=u(h,h.JSON3={noConflict:function(){return C||(C=!0,h.JSON=g,h.JSON3=b,g=b=null),L}});h.JSON?(h.JSON.parse=L.parse,h.JSON.stringify=L.stringify):h.JSON={parse:L.parse,stringify:L.stringify}}).call(window),function(u,c){c(u)}(window,function(u){if(u.atob)try{u.atob(" ")}catch{u.atob=function(b){var C=function(L){return b(String(L).replace(/[\t\n\f\r ]+/g,""))};return C.original=b,C}(u.atob)}else{var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;u.btoa=function(g){g=String(g);for(var b,C,L,W,re="",pe=0,Ce=g.length%3;pe<g.length;){if((C=g.charCodeAt(pe++))>255||(L=g.charCodeAt(pe++))>255||(W=g.charCodeAt(pe++))>255)return"";b=C<<16|L<<8|W,re+=c.charAt(b>>18&63)+c.charAt(b>>12&63)+c.charAt(b>>6&63)+c.charAt(63&b)}return Ce?re.slice(0,Ce-3)+"===".substring(Ce):re},u.atob=function(g){if(g=String(g).replace(/[\t\n\f\r ]+/g,""),!h.test(g))return"";g+="==".slice(2-(3&g.length));for(var b,C,L,W="",re=0;re<g.length;)b=c.indexOf(g.charAt(re++))<<18|c.indexOf(g.charAt(re++))<<12|(C=c.indexOf(g.charAt(re++)))<<6|(L=c.indexOf(g.charAt(re++))),W+=C===64?String.fromCharCode(b>>16&255):L===64?String.fromCharCode(b>>16&255,b>>8&255):String.fromCharCode(b>>16&255,b>>8&255,255&b);return W}}});var _v,or={setup:function(u){_v=u},log:function(){(_v||console&&console.log||function(){}).apply(null,arguments)}},ct={get:function(u){return window.localStorage.getItem(u)},parse:function(u){var c;try{c=JSON.parse(ct.get(u))||null}catch(h){or.log(h)}return c},set:function(u,c){try{window.localStorage.setItem(u,c)}catch(h){or.log(h)}},remove:function(u){window.localStorage.removeItem(u)},isSupport:function(){var u=!0;try{var c="__local_store_support__",h="testIsSupportStorage";ct.set(c,h),ct.get(c)!==h&&(u=!1),ct.remove(c)}catch{u=!1}return u}},yv=function(){function u(){return h=(9301*h+49297)%233280,h/233280}var c=new Date,h=c.getTime();return function(g){return Math.ceil(u()*g)}}();l.prototype.get=function(u,c,h,g){if(!u)throw new Error("key is must");c=c||1e4,h=h||1e3,g=g||function(){};var b=this.lockGetPrefix+u,C=ct.get(b),L=String(a());return C&&(C=s(C)||{randomNum:0,expireTime:0},C.expireTime>n())?g(null):(ct.set(b,JSON.stringify({randomNum:L,expireTime:n()+c})),void setTimeout(function(){C=s(ct.get(b))||{randomNum:0,expireTime:0},C&&C.randomNum===L?(g(ct.get(u)),ct.remove(u),ct.remove(b)):g(null)},h))},l.prototype.set=function(u,c,h,g,b){if(!u||!c)throw new Error("key and val is must");h=h||1e4,g=g||1e3,b=b||function(){};var C=this.lockSetPrefix+u,L=ct.get(C),W=String(a());return L&&(L=s(L)||{randomNum:0,expireTime:0},L.expireTime>n())?b({status:"fail",reason:"This key is locked"}):(ct.set(C,JSON.stringify({randomNum:W,expireTime:n()+h})),void setTimeout(function(){L=s(ct.get(C))||{randomNum:0,expireTime:0},L.randomNum===W?ct.set(u,c)&&b({status:"success"}):b({status:"fail",reason:"This key is locked"})},g))},f.prototype.on=function(u,c){if(!u||!c)return!1;if(!d(c))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var h=typeof c=="object";return this._events[u].push(h?c:{listener:c,once:!1}),this},f.prototype.prepend=function(u,c){if(!u||!c)return!1;if(!d(c))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var h=typeof c=="object";return this._events[u].unshift(h?c:{listener:c,once:!1}),this},f.prototype.prependOnce=function(u,c){return this.prepend(u,{listener:c,once:!0})},f.prototype.once=function(u,c){return this.on(u,{listener:c,once:!0})},f.prototype.off=function(u,c){var h=this._events[u];if(!h)return!1;if(typeof c=="number")h.splice(c,1);else if(typeof c=="function")for(var g=0,b=h.length;g<b;g++)h[g]&&h[g].listener===c&&h.splice(g,1);return this},f.prototype.emit=function(u,c){var h=this._events[u];if(!h)return!1;for(var g=0;g<h.length;g++){var b=h[g];b&&(b.listener.call(this,c||{}),b.once&&this.off(u,g))}return this},f.prototype.removeAllListeners=function(u){u&&this._events[u]?this._events[u]=[]:this._events={}},f.prototype.listeners=function(u){return u&&typeof u=="string"?this._events[u]:this._events};var Jn=function(){var u=function(){for(var g=1*new Date,b=0;g==1*new Date;)b++;return g.toString(16)+b.toString(16)},c=function(){return a().toString(16).replace(".","")},h=function(){function g(pe,Ce){var Qe,Ze=0;for(Qe=0;Qe<Ce.length;Qe++)Ze|=W[Qe]<<8*Qe;return pe^Ze}var b,C,L=navigator.userAgent,W=[],re=0;for(b=0;b<L.length;b++)C=L.charCodeAt(b),W.unshift(255&C),W.length>=4&&(re=g(re,W),W=[]);return W.length>0&&(re=g(re,W)),re.toString(16)};return function(){var g=String(screen.height*screen.width);g=g&&/\d{5,}/.test(g)?g.toString(16):String(31242*a()).replace(".","").slice(0,8);var b=u()+"-"+c()+"-"+h()+"-"+g+"-"+u();return b||(String(a())+String(a())+String(a())).slice(2,15)}}(),bv=function(u){this.ele=u},Tv=function(u,c){for(var h=[];u;u=u.nextSibling)u.nodeType===1&&u!==c&&h.push(u);return h};bv.prototype={addClass:function(u){var c=" "+this.ele.className+" ";return c.indexOf(" "+u+" ")===-1&&(this.ele.className=this.ele.className+(this.ele.className===""?"":" ")+u),this},removeClass:function(u){var c=" "+this.ele.className+" ";return c.indexOf(" "+u+" ")!==-1&&(this.ele.className=c.replace(" "+u+" "," ").slice(1,-1)),this},hasClass:function(u){var c=" "+this.ele.className+" ";return c.indexOf(" "+u+" ")!==-1},attr:function(u,c){return typeof u=="string"&&F(c)?this.ele.getAttribute(u):(typeof u=="string"&&(c=String(c),this.ele.setAttribute(u,c)),this)},offset:function(){var u=this.ele.getBoundingClientRect();if(u.width||u.height){var c=this.ele.ownerDocument,h=c.documentElement;return{top:u.top+window.pageYOffset-h.clientTop,left:u.left+window.pageXOffset-h.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var u=this.ele.getBoundingClientRect();return{width:u.width,height:u.height}}catch{return{width:0,height:0}}},getStyle:function(u){return this.ele.currentStyle?this.ele.currentStyle[u]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(u)},wrap:function(u){var c=document.createElement(u);return this.ele.parentNode.insertBefore(c,this.ele),c.appendChild(this.ele),j(c)},getCssStyle:function(u){var c=this.ele.style.getPropertyValue(u);if(c)return c;var h=null;if(typeof window.getMatchedCSSRules=="function"&&(h=window.getMatchedCSSRules(this.ele)),!h||!V(h))return null;for(var g=h.length-1;g>=0;g--){var b=h[g];if(c=b.style.getPropertyValue(u))return c}},sibling:function(u,c){for(;(u=u[c])&&u.nodeType!==1;);return u},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(){return this.sibling(this.ele,"previousSibling")},siblings:function(){return Tv((this.ele.parentNode||{}).firstChild,this.ele)},children:function(){return Tv(this.ele.firstChild)},parent:function(){var u=this.ele.parentNode;return u=u&&u.nodeType!==11?u:null,j(u)},previousElementSibling:function(){var u=this.ele;if("previousElementSibling"in document.documentElement)return j(u.previousElementSibling);for(;u=u.previousSibling;)if(u.nodeType===1)return j(u);return j(null)},getSameTypeSiblings:function(){for(var u=this.ele,c=u.parentNode,h=u.tagName.toLowerCase(),g=[],b=0;b<c.children.length;b++){var C=c.children[b];C.nodeType===1&&C.tagName.toLowerCase()===h&&g.push(c.children[b])}return g},getParents:function(){try{var u=this.ele;if(!R(u))return[];var c=[u];if(u===null||u.parentElement===null)return[];for(;u.parentElement!==null;)u=u.parentElement,c.push(u);return c}catch{return[]}}};var Sv=Array.prototype.forEach,BE=Object.prototype.hasOwnProperty,UE=Object.prototype.hasOwnProperty,Na={get:function(u){for(var c=u+"=",h=document.cookie.split(";"),g=0;g<h.length;g++){for(var b=h[g];b.charAt(0)==" ";)b=b.substring(1,b.length);if(b.indexOf(c)==0)return p(b.substring(c.length,b.length))}return null},set:function(u,c,h,g,b,C){function L(Yt){return!!Yt&&Yt.replace(/\r\n/g,"")}var W=C,re="",pe="",Ce="";if(h=h==null?73e3:h,h!==0){var Qe=new Date;String(h).slice(-1)==="s"?Qe.setTime(Qe.getTime()+1e3*Number(String(h).slice(0,-1))):Qe.setTime(Qe.getTime()+24*h*60*60*1e3),re="; expires="+Qe.toGMTString()}g&&g!==""&&(Ce="; SameSite="+g),b&&(pe="; secure");var Ze="",Nt="",_r="";u&&(Ze=L(u)),c&&(Nt=L(c)),W&&(_r=L(W)),Ze&&Nt&&(document.cookie=Ze+"="+encodeURIComponent(Nt)+re+"; path=/"+_r+Ce+pe)},remove:function(u,c){this.set(u,"1",-1,c)},isSupport:function(u,c,h,g,b){function C(){L.set(u,c,h,g,b);var W=L.get(u);return W===c&&(L.remove(u),!0)}u=u||"cookie_support_test",c=c||"1";var L=this;return navigator.cookieEnabled&&C()}},jE=Object.prototype.hasOwnProperty,ks={isSupport:function(){var u=!0,c="__session_storage_support__",h="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(c,h),sessionStorage.removeItem(c,h),u=!0):u=!1}catch{u=!1}return u}},HE={"+":"-","/":"_","=":"."},VE={"-":"+",_:"/",".":"="},qE={encode:function(u){return u.replace(/[+\/=]/g,function(c){return HE[c]})},decode:function(u){return u.replace(/[-_.]/g,function(c){return VE[c]})},trim:function(u){return u.replace(/[.=]{1,2}$/,"")},isBase64:function(u){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(u)},isUrlSafeBase64:function(u){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(u)}},$E={__proto__:null,ConcurrentStorage:l,EventEmitter:f,URL:D,UUID:Jn,addEvent:K,addHashEvent:Z,ajax:Y,base64Decode:te,base64Encode:le,bindReady:Ne,cookie:Na,coverExtend:Be,decodeURI:me,decodeURIComponent:p,dfmapping:Ae,each:U,encodeDates:it,extend:z,extend2Lev:ir,filter:vt,formatDate:mt,formatJsonString:nr,getCookieTopLevelDomain:xr,getDomBySelector:pt,getElementContent:se,getHostname:Se,getIOSVersion:Ee,getQueryParam:Re,getQueryParamsFromUrl:st,getRandom:a,getRandomBasic:yv,getScreenOrientation:B,getUA:G,getURL:ee,getURLPath:oe,getURLSearchParams:_,hasAttribute:ne,hasAttributes:_e,hashCode:ce,hashCode53:ye,indexOf:fe,inherit:he,isArguments:Oe,isArray:V,isBoolean:Ue,isDate:Fe,isElement:R,isEmptyObject:ke,isFunction:i,isHttpUrl:qe,isIOS:rt,isJSONString:ut,isNumber:ot,isObject:t,isString:x,isSupportBeaconSend:Bt,isSupportCors:Ye,isUndefined:F,jsonp:Ai,listenPageState:wa,loadScript:hi,localStorage:ct,logger:or,map:ae,mediaQueriesSupported:yt,now:n,removeScriptProtocol:fs,rot13defs:sr,rot13obfs:ar,ry:j,safeJSONParse:s,searchObjDate:qn,sessionStorage:ks,setCssStyle:hs,strToUnicode:Tf,throttle:Sf,toArray:Dl,trim:A,unique:ps,urlParse:P,urlSafeBase64:qE,values:qr,xhr:Q,startsWith:Oo},uc=[],Fa={appendWriter:function(u){uc.push(u)},msg:function(){var u={module:"",level:"log",brand:"web-sdk",content:null};u.content=Array.prototype.slice.call(arguments);var c={module:function(h){return x(h)&&(u.module=h),this},level:function(h){return x(h)&&(u.level=h),this},brand:function(h){return x(h)&&(u.brand=h),this},log:function(){if(u.content&&u.content.length){for(var h=0;h<uc.length;h++)if(typeof uc[h]=="function")try{uc[h].call(null,u)}catch{}}return this}};return c}},Le={},tu={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,enc_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,max_id_length:255,max_key_length:100,cross_subdomain:!0,show_log:!1,is_debug:!1,source_channel:[],sdk_id:"",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1};tu.white_list={},tu.white_list[location.host]=D(location.href).hostname;var xv="utm_source utm_medium utm_campaign utm_content utm_term",lc="1.26.12",Ev="sensorsdata_domain_test",ru={EMAIL:"$identity_email",MOBILE:"$identity_mobile",LOGIN:"$identity_login_id"},ii={get:function(u){return Na.get(u)},set:function(u,c,h,g){var b="";if(g=F(g)?Le.cross_subdomain:g){var C=cn(location.href);C==="url\u89E3\u6790\u5931\u8D25"&&(C=""),b=C?"; domain="+C:""}return Na.set(u,c,h,Le.set_cookie_samesite,Le.is_secure_cookie,b)},remove:function(u,c){return c=F(c)?Le.cross_subdomain:c,Na.remove(u,c)},isSupport:function(u,c){return u=u||"sajssdk_2015_cookie_access_test",c=c||"1",Na.isSupport(u,c,0,null,Le.is_secure_cookie)}};ii.getNewUser=gs;var cc={data:{},get:function(u){var c=this.data[u];return c===void 0?null:c._expirationTimestamp_!==void 0?new Date().getTime()>c._expirationTimestamp_?null:c.value:c},set:function(u,c,h){if(h){var g,b=new Date;g=String(h).slice(-1)==="s"?b.getTime()+1e3*Number(String(h).slice(0,-1)):b.getTime()+24*h*60*60*1e3,c={value:c,_expirationTimestamp_:g}}this.data[u]=c},getNewUserFlagMemoryKey:function(u){return"sajssdk_2015_"+Le.sdk_id+u}},iu={checkIsAddSign:function(u){u.type==="track"&&(gs()?u.properties.$is_first_day=!0:u.properties.$is_first_day=!1)},is_first_visit_time:!1,is_page_first_visited:!1,checkIsFirstTime:function(u){u.type==="track"&&u.event==="$pageview"&&(this.is_first_visit_time?(u.properties.$is_first_time=!0,this.is_first_visit_time=!1):u.properties.$is_first_time=!1)},setDeviceId:function(){},storeInitCheck:function(){if(O.is_first_visitor){var u=new Date,c={h:23-u.getHours(),m:59-u.getMinutes(),s:59-u.getSeconds()};ii.isSupport()?ii.set(Er("new_user"),"1",3600*c.h+60*c.m+c.s+"s"):cc.set(cc.getNewUserFlagMemoryKey("new_user"),"1",3600*c.h+60*c.m+c.s+"s"),this.is_first_visit_time=!0,this.is_page_first_visited=!0}else gs()||(this.checkIsAddSign=function(h){h.type==="track"&&(h.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(h){h.type==="track"&&h.event==="$pageview"&&(h.properties.$is_first_time=!1)}}},bh=function(){this._events=[],this.pendingEvents=[]};bh.prototype={emit:function(u){var c=[].slice.call(arguments,1);U(this._events,function(h){h.type===u&&h.callback.apply(h.context,c)}),this.pendingEvents.push({type:u,data:c}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(u,c,h,g){i(c)&&(this._events.push({type:u,callback:c,context:h||this}),g=g!==!1,this.pendingEvents.length>0&&g&&U(this.pendingEvents,function(b){b.type===u&&c.apply(h,b.data)}))},tempAdd:function(u,c){if(c&&u)return this.emit(u,c)},isReady:function(){}};var nu={data:{},id:function(){return this.data.id?this.data.id:(this.data.id=Aa(),this.data.id)},type:function(){return this.data.type?this.data.type:(this.data.type=gi(),this.data.type)}},Yn={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(u){},apph5:function(u){var c="app_h5\u6253\u901A\u5931\u8D25-",h={1:c+"use_app_track\u4E3Afalse",2:c+"Android\u6216\u8005iOS\uFF0C\u6CA1\u6709\u66B4\u9732\u76F8\u5E94\u65B9\u6CD5",3.1:c+"Android\u6821\u9A8Cserver_url\u5931\u8D25",3.2:c+"iOS\u6821\u9A8Cserver_url\u5931\u8D25",4.1:c+"H5 \u6821\u9A8C iOS server_url \u5931\u8D25",4.2:c+"H5 \u6821\u9A8C Android server_url \u5931\u8D25"},g=u.output,b=u.step,C=u.data||"";g!=="all"&&g!=="console"||pi(h[b]),(g==="all"||g==="code")&&t(Le.is_debug)&&Le.is_debug.apph5&&(C.type&&C.type.slice(0,7)==="profile"||(C.properties._jssdk_debug_info="apph5-"+String(b)))},defineMode:function(u){var c={1:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 App SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},2:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 Web JS SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},3:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u6CA1\u6709\u5F00\u542F\u5168\u57CB\u70B9\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},4:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0E App SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""}};return!(!u||!c[u])&&c[u]},protocol:{protocolIsSame:function(u,c){try{if(D(u).protocol!==D(c).protocol)return!1}catch{return Ge("\u4E0D\u652F\u6301 _.URL \u65B9\u6CD5"),!1}return!0},serverUrl:function(){x(Le.server_url)&&Le.server_url!==""&&!this.protocolIsSame(Le.server_url,location.href)&&Ge(`SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002
\u56E0\u4E3A\uFF1A1\u3001https \u4E0B\u9762\u53D1\u9001 http \u7684\u56FE\u7247\u8BF7\u6C42\u4F1A\u5931\u8D25\u30022\u3001http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002`)},ajax:function(u){return u!==Le.server_url&&void(x(u)&&u!==""&&!this.protocolIsSame(u,location.href)&&Ge("SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002\u56E0\u4E3A http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002"))}}},bt={initPage:function(){var u=lt(),c=ee(),h=cn(c);h||Yn.jssdkDebug("url_domain\u5F02\u5E38_"+c+"_"+h),this.pageProp={referrer:u,referrer_host:u?Se(u):"",url:c,url_host:Se(c,"url_host\u53D6\u503C\u5F02\u5E38"),url_domain:h}},pageProp:{},campaignParams:function(){return O.kit.getUtmData()},campaignParamsStandard:function(u,c){u=u||"",c=c||"";var h=bt.campaignParams(),g={},b={};return U(h,function(C,L,W){(" "+xv+" ").indexOf(" "+L+" ")!==-1?g[u+L]=W[L]:b[c+L]=W[L]}),{$utms:g,otherUtms:b}},properties:function(){var u=window.innerHeight||document.documentElement.clientHeight||document.body&&document.body.clientHeight||0,c=window.innerWidth||document.documentElement.clientWidth||document.body&&document.body.clientWidth||0,h={$timezone_offset:new Date().getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$viewport_height:u,$viewport_width:c,$lib:"js",$lib_version:lc};return h},currentProps:{},register:function(u){z(bt.currentProps,u)}},Wt={},Th=new f;Wt.spa=Th,Wt.sdk=new f,Wt.data=new f,Wt.initSystemEvent=function(){Cf(function(u){Th.emit("switch",u)})},Wt.EVENT_LIST={spaSwitch:["spa","switch"],sdkBeforeInit:["sdk","beforeInit"],sdkInitPara:["sdk","initPara"],sdkAfterInitPara:["sdk","afterInitPara"],sdkInitAPI:["sdk","initAPI"],sdkAfterInitAPI:["sdk","afterInitAPI"],sdkAfterInit:["sdk","afterInit"],sdkReady:["sdk","ready"],dataSendSuccess:["data","sendSuccess"],dataSendFail:["data","sendFail"]};var Sh=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data,this.origin_data=u.origin_data};Sh.prototype.start=function(){var u=this,c=new Date;vs({url:this.server_url,type:"POST",data:u.data,credentials:!1,timeout:Le.datasend_timeout,cors:!0,success:function(h,g){Wt.data.emit("sendSuccess",{status:String(g),resText:h,type:"ajax_single",timeout_config:Le.datasend_timeout,request_timeout:new Date-c,data:u.origin_data}),u.end()},error:function(h,g){Wt.data.emit("sendFail",{status:String(g),resText:h,type:"ajax_single",timeout_config:Le.datasend_timeout,request_timeout:new Date-c,data:u.origin_data}),u.end()}})},Sh.prototype.end=function(){if(this.callback){if(pi("warning: sdk callback is deprecated."),!i(this.callback))return void pi("error: sdk callback must be function.");this.callback()}};var Cv="sawebjssdk-",xh="tab-sawebjssdk-";Mo.prototype={batchInterval:function(){this.serverUrl===""&&this.getServerUrl(),this.hasTabStorage||(this.generateTabStorage(),this.hasTabStorage=!0);var u=this;u.timer=setTimeout(function(){u.updateExpireTime(),u.recycle(),u.send(),clearTimeout(u.timer),u.batchInterval()},Le.batch_send.send_interval)},getServerUrl:function(){return x(Le.server_url)&&Le.server_url!==""||V(Le.server_url)&&Le.server_url.length?void(this.serverUrl=V(Le.server_url)?Le.server_url[0]:Le.server_url):nt("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01")},send:function(){if(this.sendTimeStamp&&n()-this.sendTimeStamp<Le.batch_send.send_interval)return!1;var u=ct.get(this.tabKey);if(u){this.sendTimeStamp=n(),u=s(u)||this.generateTabStorageVal();var c=ps(u.data);if(c.length){for(var h=[],g=0;g<c.length;g++){var b=O.store.readObjectVal(c[g]);b&&(b._flush_time=new Date().getTime(),h.push(b))}h.length&&this.request(h,u.data)}}},updateExpireTime:function(){var u=ct.get(this.tabKey);u&&(u=s(u)||this.generateTabStorageVal(),u.expireTime=n()+2*Le.batch_send.send_interval,u.serverUrl=this.serverUrl,ct.set(this.tabKey,JSON.stringify(u)))},request:function(u,c){var h=this,g=new Date;vs({url:this.serverUrl,type:"POST",data:"data_list="+encodeURIComponent(le(JSON.stringify(u))),credentials:!1,timeout:Le.batch_send.datasend_timeout,cors:!0,success:function(b,C){Wt.data.emit("sendSuccess",{status:String(C),resText:b,type:"ajax_batch",timeout_config:Le.batch_send.datasend_timeout,request_timeout:new Date-g,data:u}),h.remove(c),h.sendTimeStamp=0},error:function(b,C){Wt.data.emit("sendFail",{status:String(C),resText:b,type:"ajax_batch",timeout_config:Le.batch_send.datasend_timeout,request_timeout:new Date-g,data:u}),h.sendTimeStamp=0}})},remove:function(u){var c=ct.get(this.tabKey);if(c){for(var h=(s(c)||this.generateTabStorageVal()).data,g=0;g<u.length;g++){var b=fe(h,u[g]);b>-1&&h.splice(b,1),ct.remove(u[g])}h=ps(h),ct.set(this.tabKey,JSON.stringify(this.generateTabStorageVal(h)))}},add:function(u){var c=Cv+String(a()),h=ct.get(this.tabKey);h===null?(this.tabKey=xh+String(a()),h=this.generateTabStorageVal()):h=s(h)||this.generateTabStorageVal(),h.data.push(c),h.expireTime=n()+2*Le.batch_send.send_interval,ct.set(this.tabKey,JSON.stringify(h)),O.store.saveObjectVal(c,u),u.type!=="track_signup"&&u.event!=="$pageview"||this.sendImmediately()},generateTabStorage:function(){this.tabKey=xh+String(a()),ct.set(this.tabKey,JSON.stringify(this.generateTabStorageVal()))},generateTabStorageVal:function(u){return u=u||[],{data:u,expireTime:n()+2*Le.batch_send.send_interval,serverUrl:this.serverUrl}},sendImmediately:function(){this.send()},recycle:function(){for(var u={},c=1e4,h="sajssdk-lock-get-",g=0;g<localStorage.length;g++){var b=localStorage.key(g),C=this;if(b.indexOf(xh)===0){for(var L=s(ct.get(b))||this.generateTabStorageVal(),W=0;W<L.data.length;W++)u[L.data[W]]=!0;if(b!==C.tabKey&&n()>L.expireTime&&this.serverUrl===L.serverUrl){var re=new l(h);re.get(b,c,1e3,function(Ze){if(Ze){ct.get(C.tabKey)===null&&C.generateTabStorage();var Nt=s(Ze)||C.generateTabStorageVal(),_r=s(ct.get(C.tabKey))||C.generateTabStorageVal();_r.data=ps(_r.data.concat(Nt.data)),ct.set(C.tabKey,JSON.stringify(_r))}})}}else if(b.indexOf(h)===0){var pe=s(ct.get(b))||{expireTime:0};n()-pe.expireTime>c&&ct.remove(b)}}for(var Ce=0;Ce<localStorage.length;Ce++){var Qe=localStorage.key(Ce);Qe.indexOf(Cv)!==0||u[Qe]||ct.remove(Qe)}}};var Eh=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data};Eh.prototype.start=function(){var u=this;typeof navigator=="object"&&typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){u.end()},40)},Eh.prototype.end=function(){if(this.callback){if(pi("warning: sdk callback is deprecated."),!i(this.callback))return void pi("error: sdk callback must be function.");this.callback()}};var dc=function(u){this.callback=u.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,Le.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.server_url=u.data};dc.prototype.start=function(){var u=this;Le.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()}),this.img.src=this.server_url},dc.prototype.lastClear=function(){var u=G();u.ie!==void 0?this.img.src="about:blank":this.img.src=""},dc.prototype.end=function(){if(this.callback){if(pi("warning: sdk callback is deprecated."),!i(this.callback))return void pi("error: sdk callback must be function.");this.callback()}var u=this;setTimeout(function(){u.lastClear&&u.lastClear()},Le.datasend_timeout-Le.callback_timeout)};var WE={__proto__:null,addEvent:dn,EventEmitterSa:bh,cookie:ii,info:bt,getReferrer:lt,getCurrentDomain:cn,isBaiduTraffic:Hi,getReferrerEqid:Aa,getReferrerEqidType:gi,getBaiduKeyword:nu,isReferralTraffic:ms,getKeywordFromReferrer:Vi,getReferSearchEngine:ka,getSourceFromReferrer:Lo,getWxAdIdFromUrl:qi,parseSuperProperties:kt,searchConfigData:Da,strip_empty_properties:Jt,getEleInfo:Ro,getElementContent:Pa,ajax:vs,optimizeServerUrl:Fo,encodeTrackData:Ia,AjaxSend:Sh,BatchSend:Mo,BeaconSend:Eh,ImageSend:dc},wv=new bh,ue={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{},identities:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getOriginDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getOriginUnionId:function(u){var c={};u=u||this._state;var h=u._first_id||u.first_id,g=u._distinct_id||u.distinct_id;return h&&g?(c.login_id=g,c.anonymous_id=h):c.anonymous_id=g,c},getIdentities:function(){var u=JSON.parse(JSON.stringify(this._state.identities));return u.$identity_anonymous_id=this.getAnonymousId(),u},getAnonymousId:function(){return ue._state._first_id||ue._state.first_id||ue._state._distinct_id||ue._state.distinct_id},getDistinctId:function(){var u=this.getUnionId();return u.login_id||u.anonymous_id},getUnionId:function(u){var c=this.getOriginUnionId(u);return c.login_id&&this._state.history_login_id&&this._state.history_login_id.name&&this._state.history_login_id.name!==ru.LOGIN&&(c.login_id=this._state.history_login_id.name+"+"+c.login_id),c},getFirstId:function(){return this._state._first_id||this._state.first_id},initSessionState:function(){var u=ii.get("sensorsdata2015session");u=O.kit.userDecryptIfNeeded(u);var c=null;u!==null&&typeof(c=s(u))=="object"&&(this._sessionState=c||{})},setOnce:function(u,c){u in this._state||this.set(u,c)},set:function(u,c){this._state=this._state||{};var h=this._state.distinct_id;this._state[u]=c,u==="first_id"?delete this._state._first_id:u==="distinct_id"&&delete this._state._distinct_id,this.save(),u==="distinct_id"&&h&&wv.tempAdd("changeDistinctId",c)},change:function(u,c){this._state["_"+u]=c},setSessionProps:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var c=this._sessionState;z(c,u),this.sessionSave(c)},setSessionPropsOnce:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var c=this._sessionState;Be(c,u),this.sessionSave(c)},setProps:function(u,c){var h={};h=c?u:z(this._state.props||{},u);for(var g in h)typeof h[g]=="string"&&(h[g]=h[g].slice(0,O.para.max_referrer_string_length));this.set("props",h)},setPropsOnce:function(u){var c=this._state.props||{};Be(c,u),this.set("props",c)},clearAllProps:function(u){this._sessionState={};var c;if(V(u)&&u.length>0)for(c=0;c<u.length;c++)x(u[c])&&u[c].indexOf("latest_")===-1&&t(this._state.props)&&u[c]in this._state.props&&delete this._state.props[u[c]];else if(t(this._state.props))for(c in this._state.props)c.indexOf("latest_")!==1&&delete this._state.props[c];this.sessionSave({}),this.save()},sessionSave:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE"),this._sessionState=u;var c=JSON.stringify(this._sessionState);O.para.encrypt_cookie&&(c=O.kit.userEncrypt(c)),ii.set("sensorsdata2015session",c,0)},save:function(){var u=JSON.parse(JSON.stringify(this._state));delete u._first_id,delete u._distinct_id,u.identities&&(u.identities=le(JSON.stringify(u.identities)));var c=JSON.stringify(u);O.para.encrypt_cookie&&(c=O.kit.userEncrypt(c)),ii.set(this.getCookieName(),c,360,O.para.cross_subdomain)},getCookieName:function(){var u="";if(O.para.cross_subdomain===!1){try{var c=location.host;F(O.para.white_list[c])||(u=O.para.white_list[c])}catch(h){Ge(h)}u=typeof u=="string"&&u!==""?"sa_jssdk_2015_"+O.para.sdk_id+u.replace(/\./g,"_"):"sa_jssdk_2015_root"+O.para.sdk_id}else u="sensorsdata2015jssdkcross"+O.para.sdk_id;return u},init:function(){function u(C){var L;C.identities&&(C.identities.indexOf(`
/`)===0?C.identities=s(sr(C.identities)):C.identities=s(te(C.identities)));var W=ue.getOriginUnionId(C);C.identities&&t(C.identities)&&!ke(C.identities)||(C.identities={},C.identities.$identity_cookie_id=Jn()),C.history_login_id=C.history_login_id||{};var re=C.history_login_id,pe=re.name;if(W.login_id)if(pe&&C.identities.hasOwnProperty(pe)){if(C.identities[pe]!==W.login_id){C.identities[pe]=W.login_id;for(L in C.identities)C.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==pe&&delete C.identities[L];C.history_login_id.value=W.login_id}}else{var Ce=pe||ru.LOGIN;C.identities[Ce]=W.login_id;for(L in C.identities)C.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==Ce&&delete C.identities[L];C.history_login_id={name:Ce,value:W.login_id}}else{if(C.identities.hasOwnProperty("$identity_login_id")||C.identities.hasOwnProperty(pe))for(L in C.identities)C.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!=="$identity_anonymous_id"&&delete C.identities[L];C.history_login_id={name:"",value:""}}return C}function c(C){ue.set("distinct_id",C),ue.set("identities",{$identity_cookie_id:C}),ue.set("history_login_id",{name:"",value:""})}this.initSessionState();var h,g,b=Jn();ii.isSupport()&&(h=ii.get(this.getCookieName()),h=O.kit.userDecryptIfNeeded(h),g=s(h)),ii.isSupport()&&h!==null&&ut(h)&&t(g)&&(!t(g)||g.distinct_id)?(ue._state=z(u(g)),ue.save()):(O.is_first_visitor=!0,c(b)),iu.setDeviceId(b,this),iu.storeInitCheck()},saveObjectVal:function(u,c){x(c)||(c=JSON.stringify(c)),O.para.encrypt_cookie==1&&(c=O.kit.userEncrypt(c)),ct.set(u,c)},readObjectVal:function(u){var c=ct.get(u);return c?(c=O.kit.userDecryptIfNeeded(c),s(c)):null}},Ht={string:function(u){Ge(u+" must be string")},emptyString:function(u){Ge(u+"'s is empty")},regexTest:function(u){Ge(u+" is invalid")},idLength:function(u){Ge(u+" length is longer than "+Le.max_id_length)},keyLength:function(u){Ge(u+" length is longer than "+Le.max_key_length)},stringLength:function(u){Ge(u+" length is longer than "+Le.max_string_length)},voidZero:function(u){Ge(u+"'s is undefined")},reservedLoginId:function(u){Ge(u+" is invalid")},reservedBind:function(u){Ge(u+" is invalid")},reservedUnbind:function(u){Ge(u+" is invalid")}},Av={regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_tag.*|^user_group.*)[a-zA-Z_$][a-zA-Z\d_$]*)$/i,loginIDReservedNames:["$identity_anonymous_id","$identity_cookie_id"],bindReservedNames:["$identity_login_id","$identity_anonymous_id","$identity_cookie_id"],unbindReservedNames:["$identity_anonymous_id",ru.LOGIN],string:function(u){return!!x(u)},emptyString:function(u){return!(!x(u)||A(u).length===0)},regexTest:function(u){return!(!x(u)||!this.regName.test(u))},idLength:function(u){return!(!x(u)||u.length>Le.max_id_length)},keyLength:function(u){return!(!x(u)||u.length>Le.max_key_length)},stringLength:function(u){return!(!x(u)||u.length>Le.max_string_length)},voidZero:function(u){return u!==void 0},reservedLoginId:function(u){return!(fe(this.loginIDReservedNames,u)>-1)},reservedUnbind:function(u){return!(fe(this.unbindReservedNames,u)>-1)},reservedBind:function(u){var c=ue._state.history_login_id;return(!c||!c.name||c.name!==u)&&!(fe(this.bindReservedNames,u)>-1)}},GE={distinct_id:{rules:["string","emptyString","idLength"],onComplete:function(u,c,h){return!u&&(h==="emptyString"&&(c="Id"),i(Ht[h])&&Ht[h](c),h==="idLength")||u}},event:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,c,h){return u||(h==="emptyString"&&(c="eventName"),i(Ht[h])&&Ht[h](c)),!0}},propertyKey:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,c,h){return u||(h==="emptyString"&&(c="Property key"),i(Ht[h])&&Ht[h](c)),!0}},propertyValue:{rules:["voidZero"],onComplete:function(u,c,h){return u||(c="Property Value",i(Ht[h])&&Ht[h](c)),!0}},properties:function(u){return t(u)?U(u,function(c,h){_t({propertyKey:h});var g=function(b,C,L){return b||(C=h+"'s Value",i(Ht[L])&&Ht[L](C)),!0};_t({propertyValue:c},g)}):Av.voidZero(u)&&Ge("properties\u53EF\u4EE5\u6CA1\u6709\uFF0C\u4F46\u6709\u7684\u8BDD\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},propertiesMust:function(u){return u!==void 0&&t(u)&&!ke(u)?this.properties.call(this,u):Ge("properties\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},item_type:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,c,h){return u||(h==="emptyString"&&(c="item_type"),i(Ht[h])&&Ht[h](c)),!0}},item_id:{rules:["string","emptyString","stringLength"],onComplete:function(u,c,h){return u||(h==="emptyString"&&(c="item_id"),i(Ht[h])&&Ht[h](c)),!0}},loginIdKey:{rules:["string","emptyString","keyLength","regexTest","reservedLoginId"],onComplete:function(u,c,h){return!u&&(h==="emptyString"&&(c="login_id_key"),i(Ht[h])&&Ht[h](c),h==="keyLength")||u}},bindKey:{rules:["string","emptyString","keyLength","regexTest","reservedBind"],onComplete:function(u,c,h){return!u&&(h==="emptyString"&&(c="Key"),i(Ht[h])&&Ht[h](c),h==="keyLength")||u}},unbindKey:{rules:["string","emptyString","keyLength","regexTest","reservedUnbind"],onComplete:function(u,c,h){return!u&&(h==="emptyString"&&(c="Key"),i(Ht[h])&&Ht[h](c),h==="keyLength")||u}},bindValue:{rules:["string","emptyString","idLength"],onComplete:function(u,c,h){return!u&&(h==="emptyString"&&(c="Value"),i(Ht[h])&&Ht[h](c),h==="idLength")||u}},check:function(u,c,h){var g=this[u];if(i(g))return g.call(this,c);if(!g)return!1;for(var b=0;b<g.rules.length;b++){var C=g.rules[b],L=Av[C](c),W=i(h)?h(L,c,C):g.onComplete(L,c,C);if(!L)return W}return!0}},Et={};Et.initUrl=function(){var u,c={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!qe(O.para.server_url))return nt("----vcollect---server_url\u5FC5\u987B\u4E3A\u6709\u6548 URL \u5B57\u7B26\u4E32"),!1;try{u=D(O.para.server_url),c.server_url.project=u.searchParams.get("project")||"default",c.server_url.host=u.host}catch(g){return nt("----vcollect---server_url\u89E3\u6790\u5F02\u5E38",g),!1}var h;try{h=D(location.href),c.page_url.host=h.hostname,c.page_url.pathname=h.pathname}catch(g){return nt("----vcollect---\u9875\u9762\u5730\u5740\u89E3\u6790\u5F02\u5E38",g),!1}return c},Et.isDiv=function(u){if(u.element_path){var c=u.element_path.split(">"),h=A(c.pop());if(h.slice(0,3)!=="div")return!1}return!0},Et.configIsMatchNew=function(u,c){if(x(u.$element_selector)&&x(c.element_selector)){if(c.element_field==="element_selector"&&c.function==="equal")return u.$element_selector===c.element_selector;if(c.element_field==="element_selector"&&c.function==="contain")return u.$element_selector.indexOf(c.element_selector)>-1}if(x(u.$element_path)&&x(c.element_path)){if(c.element_field==="element_path"&&c.function==="equal")return u.$element_path===c.element_path;if(c.element_field==="element_path"&&c.function==="contain")return u.$element_path.indexOf(c.element_path)>-1}return!1},Et.configIsMatch=function(u,c){return(!c.limit_element_content||c.element_content===u.$element_content)&&(!c.limit_element_position||c.element_position===String(u.$element_position))&&(c.element_field&&c.function?Et.configIsMatchNew(u,c):Et.configIsMatchOldVersion(u,c))},Et.configIsMatchOldVersion=function(u,c){if(!c.element_path)return!1;if(u.$element_position!==void 0){if(c.element_path!==u.$element_path)return!1}else if(Et.isDiv({element_path:c.element_path})){if(u.$element_path.indexOf(c.element_path)<0)return!1}else if(c.element_path!==u.$element_path)return!1;return!0},Et.filterConfig=function(u,c,h){var g=[];if(!h){var b=Et.initUrl();if(!b)return[];h=b.page_url}return u.event==="$WebClick"&&U(c,function(C){t(C)&&(C.event_type==="webclick"||C.event_type==="appclick")&&t(C.event)&&C.event.url_host===h.host&&C.event.url_path===h.pathname&&Et.configIsMatch(u.properties,C.event)&&g.push(C)}),g},Et.getPropElInLi=function(u,c){if(!(u&&R(u)&&x(c))||u.tagName.toLowerCase()!=="li")return null;var h,g=O.heatmap.getDomSelector(u);if(g){h=g+c;var b=pt(h);return b||null}return Ge("----custom---\u83B7\u53D6\u540C\u7EA7\u5C5E\u6027\u5143\u7D20\u5931\u8D25\uFF0Cselector\u4FE1\u606F\u5F02\u5E38",g,c),null},Et.getProp=function(u,c){if(!t(u))return!1;if(!(x(u.name)&&u.name.length>0))return Ge("----vcustom----\u5C5E\u6027\u540D\u4E0D\u5408\u6CD5,\u5C5E\u6027\u629B\u5F03",u.name),!1;var h,g,b={};if(u.method==="content"){var C;if(x(u.element_selector)&&u.element_selector.length>0)C=pt(u.element_selector);else{if(!c||!x(u.list_selector))return Ge("----vcustom----\u5C5E\u6027\u914D\u7F6E\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var L=pt(c.properties.$element_selector);if(!L)return Ge("----vcustom----\u70B9\u51FB\u5143\u7D20\u83B7\u53D6\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var W=O.heatmap.getClosestLi(L);C=Et.getPropElInLi(W,u.list_selector)}if(!C||!R(C))return Ge("----vcustom----\u5C5E\u6027\u5143\u7D20\u83B7\u53D6\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;if(C.tagName.toLowerCase()==="input")h=C.value||"";else if(C.tagName.toLowerCase()==="select"){var re=C.selectedIndex;ot(re)&&R(C[re])&&(h=Pa(C[re],"select"))}else h=Pa(C,C.tagName.toLowerCase());if(u.regular){try{g=new RegExp(u.regular).exec(h)}catch{return Ge("----vcustom----\u6B63\u5219\u5904\u7406\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1}if(g===null)return Ge("----vcustom----\u5C5E\u6027\u89C4\u5219\u5904\u7406\uFF0C\u672A\u5339\u914D\u5230\u7ED3\u679C,\u5C5E\u6027\u629B\u5F03",u.name),!1;if(!V(g)||!x(g[0]))return Ge("----vcustom----\u6B63\u5219\u5904\u7406\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,g),!1;h=g[0]}if(u.type==="STRING")b[u.name]=h;else if(u.type==="NUMBER"){if(h.length<1)return Ge("----vcustom----\u672A\u83B7\u53D6\u5230\u6570\u5B57\u5185\u5BB9\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,h),!1;if(isNaN(Number(h)))return Ge("----vcustom----\u6570\u5B57\u7C7B\u578B\u5C5E\u6027\u8F6C\u6362\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,h),!1;b[u.name]=Number(h)}return b}return nt("----vcustom----\u5C5E\u6027\u4E0D\u652F\u6301\u6B64\u83B7\u53D6\u65B9\u5F0F",u.name,u.method),!1},Et.getAssignConfigs=function(u,c){var h=Et.initUrl();if(!h||!h.page_url)return[];if(!t(c))return[];var g=[];return c.events=c.events||c.eventList,V(c.events)&&c.events.length>0?(U(c.events,function(b){t(b)&&t(b.event)&&b.event.url_host===h.page_url.host&&b.event.url_path===h.page_url.pathname&&u(b)&&g.push(b)}),g):[]};var zE={events:[],getAssignConfigs:Et.getAssignConfigs,filterConfig:Et.filterConfig,getProp:Et.getProp,initUrl:Et.initUrl,updateEvents:function(u){V(u)&&(this.events=u)},init:function(){this.initAppGetPropsBridge()},geth5Props:function(u){var c={},h=[],g=this;if(!this.events.length)return{};if(u.event==="$WebClick"){var b=this.filterConfig(u,this.events);if(!b.length)return{};U(b,function(C){t(C)&&(V(C.properties)&&C.properties.length>0&&U(C.properties,function(L){if(t(L))if(L.h5===!1)V(c.sensorsdata_app_visual_properties)||(c.sensorsdata_app_visual_properties=[]),c.sensorsdata_app_visual_properties.push(L);else{var W=g.getProp(L,u);t(W)&&(c=z(c,W))}}),x(C.event_name)&&h.push(C.event_name))}),O.bridge.hasVisualModeBridge()&&(c.sensorsdata_web_visual_eventName=h)}return c.sensorsdata_app_visual_properties&&(c.sensorsdata_app_visual_properties=le(JSON.stringify(c.sensorsdata_app_visual_properties))),c},initAppGetPropsBridge:function(){var u=this,c=new O.SDKJSBridge("getJSVisualProperties");return c.onAppNotify(function(h){var g={};try{h=JSON.parse(te(h))}catch{nt("getJSVisualProperties data parse error!")}if(t(h)){var b=h.sensorsdata_js_visual_properties,C=u.initUrl();C&&(C=C.page_url,V(b)&&b.length>0&&U(b,function(W){if(t(W)&&W.url_host===C.host&&W.url_path===C.pathname&&W.h5){var re=u.getProp(W);t(re)&&(g=z(g,re))}}))}var L=O.bridge.bridge_info.platform;return L==="android"&&c.notifyApp({data:g},h.message_id),g}),c}},Ch={events:[],customProp:zE,getAssignConfigs:Et.getAssignConfigs,initUrl:Et.initUrl,init:function(){if(this.initUrl()){var u=this.getConfigFromApp();u&&this.updateConfigs(u),this.customProp.init(),this.initAppUpdateConfigBridge()}},initAppUpdateConfigBridge:function(){var u=this;return new O.SDKJSBridge("updateH5VisualConfig").onAppNotify(function(c){if(c){try{c=JSON.parse(te(c))}catch{return void nt("updateH5VisualConfig result parse error\uFF01")}u.updateConfigs(c)}})},getConfigFromApp:function(){var u=new O.SDKJSBridge("sensorsdata_get_app_visual_config").notifyApp();if(u)try{u=JSON.parse(te(u))}catch{u=null,nt("getAppVisualConfig result parse error\uFF01")}return u},updateConfigs:function(u){this.events=this.filterConfigs(u),this.customProp.updateEvents(this.events)},filterConfigs:function(u){return this.getAssignConfigs(function(c){return!(!t(c)||c.h5===!1)},u)}},fc={events:[],init:function(u){this.filterWebClickEvents(u)},filterWebClickEvents:function(u){this.events=Qn.getAssignConfigs(function(c){return!(!t(c)||c.event.unlimited_div!==!0||c.event_type!=="webclick")},u)},isTargetEle:function(u){var c=O.heatmap.getEleDetail(u);if(!t(c)||!x(c.$element_path))return!1;for(var h=0;h<this.events.length;h++)if(t(this.events[h])&&t(this.events[h].event)&&Qn.configIsMatch(c,this.events[h].event))return!0;return!1}},kv={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config},updateEvents:function(u){this.events=Qn.getAssignConfigs(function(c){return!!(t(c)&&V(c.properties)&&c.properties.length>0)},u),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(u){var c={};return this.collectAble()?(u.event==="$WebClick"&&(c=this.clickCustomPropMaker(u,this.events)),c):{}},clickCustomPropMaker:function(u,c,h){var g=this;h=h||this.filterConfig(u,c,Qn.url_info.page_url);var b={};return h.length?(U(h,function(C){V(C.properties)&&C.properties.length>0&&U(C.properties,function(L){var W=g.getProp(L,u);t(W)&&z(b,W)})}),b):{}},getProp:Et.getProp,getPropElInLi:Et.getPropElInLi,filterConfig:Et.filterConfig},Qn={unlimitedDiv:fc,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:kv,initUrl:function(){var u=Et.initUrl();if(u){var c;try{c=new P(O.para.server_url),c._values.Path="/config/visualized/Web.conf",u.api_url=c.getUrl()}catch(h){return nt("----vtrackcollect---API\u5730\u5740\u89E3\u6790\u5F02\u5E38",h),!1}this.url_info=u}return u},init:function(){if(!t(O.para.heatmap)||!O.para.heatmap.get_vtrack_config)return!1;if(ct.isSupport()||(this.storageEnable=!1),!this.initUrl())return nt("----vtrackcustom----\u521D\u59CB\u5316\u5931\u8D25\uFF0Curl\u4FE1\u606F\u89E3\u6790\u5931\u8D25"),!1;if(this.storageEnable){var u=ue.readObjectVal(this.storage_name);if(t(u)&&t(u.data))if(this.serverUrlIsSame(u.serverUrl)){this.config=u.data,this.update_time=u.updateTime,this.updateConfig(u.data);var c=new Date().getTime(),h=c-this.update_time;if(ot(h)&&h>0&&h<this.para.session_time){var g=this.para.update_interval-h;this.setNextFetch(g)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(u){return!!t(u)&&u.host===this.url_info.server_url.host&&u.project===this.url_info.server_url.project},getConfigFromServer:function(){var u=this,c=function(g,b){u.update_time=new Date().getTime();var C={};g===200?b&&t(b)&&b.os==="Web"&&(C=b,u.updateConfig(C)):g===205?u.updateConfig(C):g===304?C=u.config:(nt("----vtrackcustom----\u6570\u636E\u5F02\u5E38",g),u.updateConfig(C)),u.updateStorage(C),u.setNextFetch()},h=function(g){u.update_time=new Date().getTime(),nt("----vtrackcustom----\u914D\u7F6E\u62C9\u53D6\u5931\u8D25",g),u.setNextFetch()};this.sendRequest(c,h)},setNextFetch:function(u){var c=this;this.timer&&(clearTimeout(this.timer),this.timer=null),u=u||this.para.update_interval,this.timer=setTimeout(function(){c.getConfigFromServer()},u)},pageStateListenner:function(){var u=this;wa({visible:function(){var c=new Date().getTime(),h=c-u.update_time;if(ot(h)&&h>0&&h<u.para.update_interval){var g=u.para.update_interval-h;u.setNextFetch(g)}else u.getConfigFromServer()},hidden:function(){u.timer&&(clearTimeout(u.timer),u.timer=null)}})},updateConfig:function(u){return!!t(u)&&(this.config=u,this.customProp.updateEvents(u),void this.unlimitedDiv.init(u))},updateStorage:function(u){if(!this.storageEnable||!t(u))return!1;var c;if(this.url_info.server_url)c=this.url_info.server_url;else{var h=Qn.initUrl();if(!h)return!1;c=h.server_url}var g={updateTime:new Date().getTime(),data:u,serverUrl:c};ue.saveObjectVal(this.storage_name,g)},sendRequest:function(u,c){var h=this,g={app_id:this.url_info.page_url.host};this.config.version&&(g.v=this.config.version),Ai({url:h.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:g,timeout:h.para.timeout,success:function(b,C){u(b,C)},error:function(b){c(b)}})},getAssignConfigs:Et.getAssignConfigs,configIsMatch:Et.configIsMatch},KE={basicProps:{priority:0,entry:ki},formatData:{priority:0,entry:Pl},finalAdjustData:{priority:0,entry:Uo}},wh={stage:null,init:function(u){this.stage=u},interceptor:KE},Cr={};Cr.check=_t,Cr.sendItem=function(u){var c={lib:{$lib:"js",$lib_method:"code",$lib_version:String(O.lib_version)},time:1*new Date};z(c,u),bs(c),O.kit.sendData(c)},Cr.send=function(u,c){var h=O.kit.buildData(u);O.kit.sendData(h,c)};var Ah={stage:null,init:function(u){this.stage=u}},kh={label:!1,li:!1,a:!0,button:!0},vi={otherTags:[],initUnlimitedTags:function(){U(vi.otherTags,function(u){u in kh&&(kh[u]=!0)})},isUnlimitedTag:function(u){if(!u||u.nodeType!==1)return!1;var c=u.nodeName.toLowerCase();return kh[c]||_e(u,O.para.heatmap.track_attr)},getTargetElement:function(u,c){var h=this,g=u;if(typeof g!="object"||typeof g.tagName!="string")return null;var b=g.tagName.toLowerCase();if(b.toLowerCase()==="body"||b.toLowerCase()==="html"||!g||!g.parentNode||!g.parentNode.children)return null;var C=g.parentNode,L=h.otherTags;if(b==="a"||b==="button"||b==="input"||b==="textarea"||fe(L,b)>-1)return g;if(b==="area"&&C.tagName.toLowerCase()==="map"&&j(C).prev().tagName&&j(C).prev().tagName.toLowerCase()==="img")return j(C).prev();if(b==="div"&&O.para.heatmap.collect_tags.div&&h.isDivLevelValid(g)){var W=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1;if(W>1||h.isCollectableDiv(g))return g}if(h.isStyleTag(b)&&O.para.heatmap.collect_tags.div){var re=h.getCollectableParent(g);if(re&&h.isDivLevelValid(re))return re}var pe=h.hasElement({event:c&&c.originalEvent||c,element:u},function(Ce){return h.isUnlimitedTag(Ce)});return pe||null},getDivLevels:function(u,c){var h=vi.getElementPath(u,!0,c),g=h.split(" > "),b=0;return U(g,function(C){C==="div"&&b++}),b},isDivLevelValid:function(u){for(var c=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1,h=u.getElementsByTagName("div"),g=h.length-1;g>=0;g--)if(vi.getDivLevels(h[g],u)>c)return!1;return!0},getElementPath:function(u,c,h){for(var g=[];u.parentNode&&R(u);){if(!x(u.tagName))return"unknown";if(u.id&&!c&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.id)){g.unshift(u.tagName.toLowerCase()+"#"+u.id);break}if(h&&u===h){g.unshift(u.tagName.toLowerCase());break}if(u===document.body){g.unshift("body");break}g.unshift(u.tagName.toLowerCase()),u=u.parentNode}return g.join(" > ")},getClosestLi:function(u){var c=function(h,g){for(;h&&h!==document&&h.nodeType===1;h=h.parentNode)if(h.tagName&&x(h.tagName)&&h.tagName.toLowerCase()===g)return h;return null};return c(u,"li")},getElementPosition:function(u,c,h){function g(Qe){var Ze=Qe.parentNode;if(!Ze)return"";var Nt=j(Qe).getSameTypeSiblings(),_r=Nt.length;if(_r===1)return 0;for(var Yt=0,_n=Qe;j(_n).previousElementSibling().ele;_n=j(_n).previousElementSibling().ele,Yt++);return Yt}var b=O.heatmap.getClosestLi(u);if(!b||!R(u)||!x(u.tagName))return null;var C=u.tagName.toLowerCase(),L=b.getElementsByTagName(C),W=L.length,re=[];if(W>1){for(var pe=0;pe<W;pe++){var Ce=O.heatmap.getElementPath(L[pe],h);Ce===c&&re.push(L[pe])}if(re.length>1)return fe(re,u)}return g(b)},setNotice:function(u){O.is_heatmap_render_mode=!0,O.para.heatmap||(O.errorMsg="\u60A8SDK\u6CA1\u6709\u914D\u7F6E\u5F00\u542F\u70B9\u51FB\u56FE\uFF0C\u53EF\u80FD\u6CA1\u6709\u6570\u636E\uFF01"),u&&u.slice(0,5)==="http:"&&location.protocol==="https:"&&(O.errorMsg="\u60A8\u7684\u5F53\u524D\u9875\u9762\u662Fhttps\u7684\u5730\u5740\uFF0C\u795E\u7B56\u5206\u6790\u73AF\u5883\u4E5F\u5FC5\u987B\u662Fhttps\uFF01"),O.para.heatmap_url||(O.para.heatmap_url=Ho()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/heatmap.min.js")},getDomIndex:function(u){if(!u.parentNode)return-1;for(var c=0,h=u.tagName,g=u.parentNode.children,b=0;b<g.length;b++)if(g[b].tagName===h){if(u===g[b])return c;c++}return-1},selector:function(u,c){if(!u||!R(u)||!x(u.tagName))return"";var h=u.parentNode&&u.parentNode.nodeType==9?-1:this.getDomIndex(u);return u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&(!O.para.heatmap||O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id")&&!c?"#"+u.getAttribute("id"):u.tagName.toLowerCase()+(~h?":nth-of-type("+(h+1)+")":"")},getDomSelector:function(u,c,h){if(!(u&&u.parentNode&&u.parentNode.children&&x(u.tagName)))return"unknown";c=c&&c.join?c:[];var g=u.nodeName.toLowerCase();return u&&g!=="body"&&u.nodeType==1?(c.unshift(this.selector(u,h)),u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id"&&!h?c.join(" > "):this.getDomSelector(u.parentNode,c,h)):(c.unshift("body"),c.join(" > "))},na:function(){var u=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(u)?0:u,10)},i:function(){var u=0;try{u=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,u=isNaN(u)?0:u}catch{u=0}return parseInt(u,10)},getBrowserWidth:function(){var u=window.innerWidth||document.body.clientWidth;return isNaN(u)?0:parseInt(u,10)},getBrowserHeight:function(){var u=window.innerHeight||document.body.clientHeight;return isNaN(u)?0:parseInt(u,10)},getScrollWidth:function(){var u=parseInt(document.body.scrollWidth,10);return isNaN(u)?0:u},getEleDetail:function(u){var c=this.getDomSelector(u),h=Ro({target:u});h.$element_selector=c||"",h.$element_path=O.heatmap.getElementPath(u,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");var g=O.heatmap.getElementPosition(u,h.$element_path,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");return ot(g)&&(h.$element_position=g),h},getPointerEventProp:function(u,c){function h(){var L=document.body.scrollLeft||document.documentElement.scrollLeft||0,W=document.body.scrollTop||document.documentElement.scrollTop||0;return{scrollLeft:L,scrollTop:W}}function g(L){if(document.documentElement.getBoundingClientRect){var W=L.getBoundingClientRect();return{targetEleX:W.left+h().scrollLeft||0,targetEleY:W.top+h().scrollTop||0}}}function b(L){return Number(Number(L).toFixed(3))}function C(L){var W=L.pageX||L.clientX+h().scrollLeft||L.offsetX+g(c).targetEleX||0,re=L.pageY||L.clientY+h().scrollTop||L.offsetY+g(c).targetEleY||0;return{$page_x:b(W),$page_y:b(re)}}return u?C(u):{}},start:function(u,c,h,g,b){if(t(O.para.heatmap)&&i(O.para.heatmap.collect_element)&&!O.para.heatmap.collect_element(c))return!1;var C=vi.getBasicEleInfo(u,c,h,g,b);Il(C)},getBasicEleInfo:function(u,c,h,g,b){var C=t(g)?g:{},L=i(b)?b:i(g)?g:void 0,W=this.getEleDetail(c);if(O.para.heatmap&&O.para.heatmap.custom_property){var re=O.para.heatmap.custom_property(c);t(re)&&(W=z(W,re))}return W=z(W,this.getPointerEventProp(u,c),C),{event:u,target:c,props:W,tagName:h,callback:L}},hasElement:function(u,c){var h;if(u.event){var g=u.event;h=g.path||g._getPath&&g._getPath()}else u.element&&(h=j(u.element).getParents());if(h&&V(h)&&h.length>0){for(var b=0;b<h.length;b++)if(typeof h[b]=="object"&&h[b].nodeType===1&&c(h[b]))return h[b]}},isStyleTag:function(u,c){var h=["a","div","input","button","textarea"],g=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];return!(fe(h,u)>-1)&&(!c||O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div?!!(t(O.para.heatmap)&&t(O.para.heatmap.collect_tags)&&t(O.para.heatmap.collect_tags.div)&&V(O.para.heatmap.collect_tags.div.ignore_tags)&&fe(O.para.heatmap.collect_tags.div.ignore_tags,u)>-1):fe(g,u)>-1)},isCollectableDiv:function(u,c){try{if(u.children.length===0)return!0;for(var h=0;h<u.children.length;h++)if(u.children[h].nodeType===1){var g=x(u.children[h].tagName)?u.children[h].tagName.toLowerCase():"unknown",b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(!(g==="div"&&b>1||this.isStyleTag(g,c))||!this.isCollectableDiv(u.children[h],c))return!1}return!0}catch(C){nt("isCollectableDiv:"+C)}return!1},getCollectableParent:function(u,c){try{var h=u.parentNode,g=h?h.tagName.toLowerCase():"";if(g==="body")return!1;var b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(g&&g==="div"&&(b>1||this.isCollectableDiv(h,c)))return h;if(h&&this.isStyleTag(g,c))return this.getCollectableParent(h,c)}catch(C){nt("getCollectableParent:"+C)}return!1},listenUrlChange:function(u){u(),O.ee.spa.on("switch",function(){u()})},initScrollmap:function(){if(!t(O.para.heatmap)||O.para.heatmap.scroll_notice_map!=="default")return!1;var u=!0;O.para.scrollmap&&i(O.para.scrollmap.collect_url)&&this.listenUrlChange(function(){u=!!O.para.scrollmap.collect_url()});var c=function(g){var b={};return b.timeout=g.timeout||1e3,b.func=g.func,b.hasInit=!1,b.inter=null,b.main=function(C,L){this.func(C,L),this.inter=null},b.go=function(C){var L={};this.inter||(L.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L.$viewport_position=Math.round(L.$viewport_position)||0,C?b.main(L,!0):this.inter=setTimeout(function(){b.main(L)},this.timeout))},b},h=c({timeout:1e3,func:function(g,b){var C=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L=new Date,W=L-this.current_time;(W>O.para.heatmap.scroll_delay_time&&C-g.$viewport_position!==0||b)&&(g.$url=ee(),g.$title=document.title,g.$url_path=oe(),g.event_duration=Math.min(O.para.heatmap.scroll_event_duration,parseInt(W)/1e3),g.event_duration=g.event_duration<0?0:g.event_duration,Df(g)),this.current_time=L}});h.current_time=new Date,dn(window,"scroll",function(){return!!u&&void h.go()}),dn(window,"beforeunload",function(){return!!u&&void h.go("notime")})},initHeatmap:function(){var u=this,c=!0;return!(!t(O.para.heatmap)||O.para.heatmap.clickmap!=="default")&&(i(O.para.heatmap.collect_url)&&this.listenUrlChange(function(){c=!!O.para.heatmap.collect_url()}),O.para.heatmap.collect_elements==="all"?O.para.heatmap.collect_elements="all":O.para.heatmap.collect_elements="interact",void(O.para.heatmap.collect_elements==="all"?dn(document,"click",function(h){if(!c)return!1;var g=h||window.event;if(!g)return!1;var b=g.target||g.srcElement;if(typeof b!="object"||typeof b.tagName!="string")return!1;var C=b.tagName.toLowerCase();if(C==="body"||C==="html"||!b||!b.parentNode||!b.parentNode.children)return!1;var L=x(b.parentNode.tagName)?b.parentNode.tagName.toLowerCase():"unknown";L==="a"||L==="button"?u.start(g,b.parentNode,L):u.start(g,b,C)}):dn(document,"click",function(h){if(!c)return!1;var g=h||window.event;if(!g)return!1;var b=g.target||g.srcElement,C=O.heatmap.getTargetElement(b,h);return!(!R(C)&&!x(b.tagName))&&void(R(C)&&x(C.tagName)?u.start(g,C,C.tagName.toLowerCase()):R(b)&&b.tagName.toLowerCase()==="div"&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config&&fc.events.length>0&&fc.isTargetEle(b)&&u.start(g,b,b.tagName.toLowerCase(),{$lib_method:"vtrack"}))})))}},hc={autoTrackIsUsed:!1,isReady:function(u){return i(u)?void u():void O.log("error: isReady callback must be function")},getUtm:function(){return bt.campaignParams()},getStayTime:function(){return(new Date-O._t)/1e3},setProfileLocal:function(u){if(!ct.isSupport())return O.setProfile(u),!1;if(!t(u)||ke(u))return!1;var c=ue.readObjectVal("sensorsdata_2015_jssdk_profile"),h=!1;if(t(c)&&!ke(c)){for(var g in u)!(g in c&&c[g]!==u[g])&&g in c||(c[g]=u[g],h=!0);h&&(ue.saveObjectVal("sensorsdata_2015_jssdk_profile",c),O.setProfile(u))}else ue.saveObjectVal("sensorsdata_2015_jssdk_profile",u),O.setProfile(u)},setInitReferrer:function(){var u=lt();O.setOnceProfile({_init_referrer:u,_init_referrer_host:bt.pageProp.referrer_host})},setSessionReferrer:function(){var u=lt();ue.setSessionPropsOnce({_session_referrer:u,_session_referrer_host:bt.pageProp.referrer_host})},setDefaultAttr:function(){bt.register({_current_url:location.href,_referrer:lt(),_referring_host:bt.pageProp.referrer_host})},trackHeatMap:function(u,c,h){if(typeof u=="object"&&u.tagName&&R(u.parentNode)){var g=u.tagName.toLowerCase(),b=u.parentNode.tagName.toLowerCase(),C=O.para.heatmap&&O.para.heatmap.track_attr?O.para.heatmap.track_attr:["data-sensors-click"];g==="button"||g==="a"||b==="a"||b==="button"||g==="input"||g==="textarea"||_e(u,C)||vi.start(null,u,g,c,h)}},trackAllHeatMap:function(u,c,h){if(typeof u=="object"&&u.tagName){var g=u.tagName.toLowerCase();vi.start(null,u,g,c,h)}},autoTrackSinglePage:function(u,c){function h(C,L){O.track("$pageview",z({$referrer:g,$url:ee(),$url_path:oe(),$title:document.title},C,Gn()),L),g=ee()}var g;g=this.autoTrackIsUsed?bt.pageProp.url:bt.pageProp.referrer,u=t(u)?u:{};var b=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile,h(u,c),this.autoTrackSinglePage=h,zn(O.setOnceProfile,!1,b)},autoTrackWithoutProfile:function(u,c){u=t(u)?u:{},this.autoTrack(z(u,{not_set_profile:!0}),c)},autoTrack:function(u,c){u=t(u)?u:{};var h=Gn(),g=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile;var b=location.href;O.para.is_single_page&&Z(function(){var C=lt(b,!0);O.track("$pageview",z({$referrer:C,$url:ee(),$url_path:oe(),$title:document.title},h,u),c),b=ee()}),O.track("$pageview",z({$referrer:lt(null,!0),$url:ee(),$url_path:oe(),$title:document.title},h,u),c),zn(O.setOnceProfile,!0,g),this.autoTrackIsUsed=!0},getAnonymousID:function(){return ke(ue._state)?"SDK is not initialized.":ue.getAnonymousId()},setPlugin:function(u){return!!t(u)&&void U(u,function(c,h){i(c)&&(t(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[h]||t(O.modules)&&O.modules[h]?c(window.SensorsDataWebJSSDKPlugin[h]):Ge(h+"is not found,please check sensorsdata documents."))})},useModulePlugin:function(){O.use.apply(O,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}},XE={state:0,historyState:[],stateType:{1:"1-init\u672A\u5F00\u59CB",2:"2-init\u5F00\u59CB",3:"3-store\u5B8C\u6210"},getState:function(){return this.historyState.join(`
`)},setState:function(u){String(u)in this.stateType&&(this.state=u),this.historyState.push(this.stateType[u])}},JE=1,YE={__proto__:null,setInitVar:Ll,initPara:If,quick:Of,use:qo,track:Lf,bind:Rf,unbind:Nf,trackLink:Ff,trackLinks:Mf,setItem:Bf,deleteItem:Ts,setProfile:Ss,setOnceProfile:Uf,appendProfile:jf,incrementProfile:$o,deleteProfile:Hf,unsetProfile:Wo,identify:Vf,resetAnonymousIdentity:qf,trackSignup:La,registerPage:Kn,clearAllRegister:xs,clearPageRegister:fn,register:Rl,registerOnce:Nl,registerSession:Fl,registerSessionOnce:zo,login:Ml,loginWithKey:$f,logout:Wf,getPresetProperties:Es,readyState:XE,debug:Yn,on:Oa,log:pi};or.setup(pi);var Dv=z({},$E,WE),QE={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:"",support_two_way_call:!1},is_verify_success:!1,initPara:function(){var u={is_send:O.para.use_app_track_is_send!==!1&&O.para.use_app_track!=="only",white_list:[],is_mui:O.para.use_app_track==="mui"};typeof O.para.app_js_bridge=="object"?O.para.app_js_bridge=z({},u,O.para.app_js_bridge):O.para.use_app_track!==!0&&O.para.app_js_bridge!==!0&&O.para.use_app_track!=="only"&&O.para.use_app_track!=="mui"||(O.para.app_js_bridge=z({},u)),O.para.app_js_bridge.is_send===!1&&Ge("\u8BBE\u7F6E\u4E86 is_send:false,\u5982\u679C\u6253\u901A\u5931\u8D25\uFF0C\u6570\u636E\u5C06\u88AB\u4E22\u5F03!")},app_js_bridge_v1:function(){function u(C){g=C,ut(g)&&(g=JSON.parse(g)),b&&(b(g),b=null,g=null)}function c(){typeof window.SensorsData_APP_JS_Bridge=="object"&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(g=window.SensorsData_APP_JS_Bridge.sensorsdata_call_app(),ut(g)&&(g=JSON.parse(g)))}function h(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var C=document.createElement("iframe");C.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(C),C.parentNode.removeChild(C),C=null}}var g=null,b=null;window.sensorsdata_app_js_bridge_call_js=function(C){u(C)},O.getAppStatus=function(C){return h(),c(),C?void(g===null?b=C:(C(g),g=null)):g}},hasVisualModeBridge:function(){var u=window.SensorsData_App_Visual_Bridge,c="sensorsdata_visualized_mode";return t(u)&&u[c]&&(u[c]===!0||u[c]())},validateAppUrl:zf};ti.prototype.call=function(u,c){var h=this,g=new Date().getTime().toString(16)+String(a()).replace(".","").slice(1,8);this.resultCbs[g]=h.resultCbs[g]||{result:null,callbacks:[]},this.timeoutCbs[g]=h.timeoutCbs[g]||{isTimeout:!1,callbacks:[]},u=u.data?u:{data:u},u.data.message_id=g;var b=z({callType:this.type},u);return c&&(this.timerId=setTimeout(function(){h.timeoutCbs[g].isTimeout=!0;for(var C in h.timeoutCbs[g].callbacks)h.timeoutCbs[g].callbacks[C].call(null),h.timeoutCbs[g].callbacks.splice(C,1)},c)),Bl(b),{onResult:function(C){return h.resultCbs[g].result?(C(h.resultCbs[g].result),this):(!h.timeoutCbs[g].isTimeout&&h.resultCbs[g].callbacks.push(C),this)},onTimeout:function(C){return h.timeoutCbs[g].isTimeout?(C(),this):(!h.resultCbs[g].result&&h.timeoutCbs[g].callbacks.push(C),this)}}},ti.prototype.onAppNotify=function(u){this.appCallJsCallback=u},ti.prototype.notifyApp=function(u,c){var h=z({callType:this.type},u);return c&&(h.message_id=c),Bl(h)},xt.prototype={double:function(){},getAppData:function(){},hasAppBridge:function(){return O.bridge.bridge_info.support_two_way_call},init:function(){},jsCallApp:function(){},requestToApp:function(u){this.bridge.call(u,u.timeout.time).onResult(function(c){i(u.callback)&&u.callback(c)}).onTimeout(function(){i(u.timeout.callback)&&u.timeout.callback()})}};var Zn={isSeachHasKeyword:function(){return Re(location.href,"sa-request-id")!==""&&(typeof sessionStorage.getItem("sensors-visual-mode")=="string"&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var u=location.href,c=Re(u,"sa-request-id")||null,h=Re(u,"sa-request-type")||null,g=Re(u,"sa-request-url")||null;if(vi.setNotice(g),ks.isSupport())if(g!==null&&sessionStorage.setItem("sensors_heatmap_url",g),sessionStorage.setItem("sensors_heatmap_id",c),h!==null)h==="1"||h==="2"||h==="3"?sessionStorage.setItem("sensors_heatmap_type",h):h=null;else{var b=sessionStorage.getItem("sensors_heatmap_type");h=b!==null?b:null}this.isReady(c,h)},isReady:function(u,c,h){O.para.heatmap_url?hi({success:function(){setTimeout(function(){typeof sa_jssdk_heatmap_render<"u"&&(sa_jssdk_heatmap_render(O,u,c,h),typeof console=="object"&&typeof console.log=="function"&&(O.heatmap_version&&O.heatmap_version===O.lib_version||Ge("heatmap.js\u4E0Esensorsdata.js\u7248\u672C\u53F7\u4E0D\u4E00\u81F4\uFF0C\u53EF\u80FD\u5B58\u5728\u98CE\u9669!")))},0)},error:function(){},type:"js",url:O.para.heatmap_url}):nt("\u6CA1\u6709\u6307\u5B9Aheatmap_url\u7684\u8DEF\u5F84")},isStorageHasKeyword:function(){return ks.isSupport()&&typeof sessionStorage.getItem("sensors_heatmap_id")=="string"},storageHasKeywordHandle:function(){vi.setNotice(),Zn.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)},isWindowNameHasKeyword:function(){try{var u=JSON.parse(window.name),c=x(u["sa-request-page-url"])?p(u["sa-request-page-url"]):null;return u["sa-request-id"]&&x(u["sa-request-id"])&&c===location.href}catch{return!1}},windowNameHasKeywordHandle:function(){function u(C){var L=c[C];return x(L)?p(L):null}var c=JSON.parse(window.name),h=u("sa-request-id"),g=u("sa-request-type"),b=u("sa-request-url");vi.setNotice(b),ks.isSupport()&&(b!==null&&sessionStorage.setItem("sensors_heatmap_url",b),sessionStorage.setItem("sensors_heatmap_id",h),g!==null?g==="1"||g==="2"||g==="3"?sessionStorage.setItem("sensors_heatmap_type",g):g=null:g=sessionStorage.getItem("sensors_heatmap_type")!==null?sessionStorage.getItem("sensors_heatmap_type"):null),Zn.isReady(h,g)}},Di={isStorageHasKeyword:function(){return ks.isSupport()&&typeof sessionStorage.getItem("sensors-visual-mode")=="string"},isSearchHasKeyword:function(){return(Ul("sa-visual-mode")===!0||Ul("sa-visual-mode")==="true")&&(typeof sessionStorage.getItem("sensors_heatmap_id")=="string"&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){hi({success:function(){},error:function(){},type:"js",url:O.para.vtrack_url?O.para.vtrack_url:Ho()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vtrack.min.js"})},messageListener:function(u){if(!u||!u.data||u.data.source!=="sa-fe")return!1;if(u.data.type==="v-track-mode"){if(u.data.data&&u.data.data.isVtrack)if(ks.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),u.data.data.userURL&&location.href.match(/sa-visual-mode=true/)){var c=u.data.data.userURL;x(c)&&(Oo(c,"http://")||Oo(c,"https://"))&&(window.location.href=encodeURI(c))}else Di.loadVtrack();window.removeEventListener("message",Di.messageListener,!1)}},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",Di.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",Di.messageListener,!1),Di.postMessage()},postMessage:function(){try{window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:lc}},"*")}catch{nt("\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u4E0D\u652F\u6301 postMessage API")}},notifyUser:function(){var u=function(c){return!(!c||!c.data||c.data.source!=="sa-fe")&&void(c.data.type==="v-track-mode"&&(c.data.data&&c.data.data.isVtrack&&alert("\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\uFF0C\u8BF7\u5347\u7EA7\u90E8\u7F72\u795E\u7B56\u6570\u636E\u6CBB\u7406"),window.removeEventListener("message",u,!1)))};window.addEventListener&&window.addEventListener("message",u,!1),Di.postMessage()}},ZE=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","resetAnonymousIdentity","login","logout","trackLink","clearAllRegister","clearPageRegister","bind","unbind","loginWithKey"],e1={track:function(u,c,h){},quick:function(u,c,h,g){},register:function(u){},registerPage:function(u){},registerOnce:function(u){},clearAllRegister:function(u){},trackSignup:function(u,c,h,g){},setProfile:function(u,c){},setOnceProfile:function(u,c){},appendProfile:function(u,c){},incrementProfile:function(u,c){},deleteProfile:function(u){},unsetProfile:function(u,c){},identify:function(u,c){},resetAnonymousIdentity:function(u){},login:function(u,c){},logout:function(u){},trackLink:function(u,c,h){},deleteItem:function(u,c){},setItem:function(u,c,h){},getAppStatus:function(u){},clearPageRegister:function(u){}};ri.prototype.process=function(u,c){if(!(u&&u in this.processDef))return void nt("process ["+u+"] is not supported");var h=this.registeredInterceptors[u];if(h&&V(h)&&h.length>0)for(var g={current:0,total:h.length},b=new Gl(c,g,O),C=0;C<h.length;C++)try{if(g.current=C+1,c=h[C].call(null,c,b)||c,b.cancellationToken.getCanceled())break;if(b.cancellationToken.getStopped())return}catch(L){nt("interceptor error:"+L)}return this.processDef[u]&&this.processDef[u]in this.processDef&&(c=this.process(this.processDef[u],c)),c},ri.prototype.registerStageImplementation=function(u){u&&u.init&&i(u.init)&&(u.init(this),u.interceptor&&this.registerInterceptor(u.interceptor))},ri.prototype.registerInterceptor=function(u){if(u)for(var c in u){var h=u[c];if(h&&t(h)&&i(h.entry)){ot(h.priority)||(h.priority=Number.MAX_VALUE),this.registeredInterceptors[c]||(this.registeredInterceptors[c]=[]);var g=this.registeredInterceptors[c];h.entry.priority=h.priority,g.push(h.entry),g.sort(function(b,C){return b.priority-C.priority})}}};var t1={basicProps:"extendProps",extendProps:"formatData",formatData:"finalAdjustData",finalAdjustData:null},Pv=new ri(t1),r1={send:null},Iv=new ri(r1),i1={getUtmData:null,callSchema:null},Ov=new ri(i1),n1={webClickEvent:null,webStayEvent:null},Lv=new ri(n1),Rv={buildDataStage:function(u){u&&Pv.registerInterceptor(u)},businessStage:function(u){u&&Ov.registerInterceptor(u)},sendDataStage:function(u){u&&Iv.registerInterceptor(u)},viewStage:function(u){u&&Lv.registerInterceptor(u)}},Dh={stage:null,init:function(u){this.stage=u}},Nv={stage:null,init:function(u){this.stage=u},interceptor:{send:{entry:function(u){return u}}}},au={};au.buildData=function(u){return kf(u)},au.sendData=function(u,c){var h=Da(u.properties),g={origin_data:u,server_url:O.para.server_url,data:u,config:h||{},callback:c};Qf(g),O.log(u)},au.encodeTrackData=function(u){return Ia(u)},au.getUtmData=function(){return Yf()};var a1={webClickEvent:{entry:function(u,c){var h=c.sensors;u.tagName==="a"&&h.para.heatmap&&h.para.heatmap.isTrackLink===!0?h.trackLink({event:u.event,target:u.target},"$WebClick",u.props):h.track("$WebClick",u.props,u.callback)}},webStayEvent:{entry:function(u,c){var h=c.sensors;h.track("$WebStay",u)}}},Fv=window.sensors_data_pre_config,Mv=!!Dv.isObject(Fv)&&Fv.is_compliance_enabled;O.init=function(u){return Wt.sdk.emit("beforeInit"),!(O.readyState&&O.readyState.state&&O.readyState.state>=2)&&(Mv&&(Xo(!0),$l()),Wt.initSystemEvent(),O.setInitVar(),O.readyState.setState(2),O.initPara(u),Wt.sdk.emit("initPara"),Wt.sdk.emit("afterInitPara"),Wt.sdk.emit("initAPI"),Wt.sdk.emit("afterInitAPI"),O.detectMode(),Gf(),Wt.sdk.emit("afterInit"),void Wt.sdk.emit("ready"))},Mv?Xo(!1):(Xo(!0),$l());var Pi,pc,su,Dt,ou,Ma,$r,Ds,Ba,uu,tr,Ua,_i,Wr,Gr,Ph,Ih,lu,s1="1.26.12",o1={init:function(u){var c=u._.isString,h=u._.rot13defs,g=u._.dfmapping,b="data:enc;",C="dfm-enc-";u.ee.sdk.on("afterInitPara",function(){u.kit.userEncrypt=function(L){return C+g(L)},u.kit.userDecrypt=function(L){return L.indexOf(b)===0?(L=L.substring(b.length),L=h(L)):L.indexOf(C)===0&&(L=L.substring(C.length),L=g(L)),L},u.kit.userDecryptIfNeeded=function(L){return!c(L)||L.indexOf(b)!==0&&L.indexOf(C)!==0||(L=u.kit.userDecrypt(L)),L}})},plugin_name:"UserEncryptDefault"},u1=Cs(o1),l1="1.26.12",c1={sd:null,init:function(u){if(this.sd||(this.sd=u,!this.sd||!this.sd._))return!1;var c=this.sd._.cookie.get("sensors_amp_id"),h=this.sd.store._state.distinct_id;if(c&&c.length>0){var g=c.slice(0,4)==="amp-";if(c!==h){if(!g)return!1;this.sd.store._state.first_id?(this.sd.identify(c,!0),this.sd.saEvent.send({original_id:c,distinct_id:h,type:"track_signup",event:"$SignUp",properties:{}},null),this.setAmpId(h)):this.sd.identify(c,!0)}}else this.setAmpId(h);this.addListener()},addListener:function(){var u=this;this.sd.events.on("changeDistinctId",function(c){u.setAmpId(c)}),this.sd.events.isReady()},setAmpId:function(u){this.sd._.cookie.set("sensors_amp_id",u)}},d1=zl(c1,"Amp","sdkReady"),$i=window.SensorsData_App_Visual_Bridge,gc=$i&&$i.sensorsdata_visualized_mode,Bv=$i&&$i.sensorsdata_visualized_alert_info,Uv=$i&&$i.sensorsdata_hover_web_nodes,jv={isVerify:function(){return gc&&(gc===!0||gc.call($i))},commands:{app_alert:Kl,visualized_track:Jo,page_info:Jo,sensorsdata_get_app_visual_config:Xl}},f1="1.26.12",Hv={init:function(u){Dt=u,ou=Dt&&Dt._,Ma=Dt&&Dt.log||console&&console.log||function(){},Ql()},handleCommand:As},Vv=Yl(Hv,"AndroidBridge","sdkAfterInitPara"),Wi=window.SensorsData_App_Visual_Bridge,mc=Wi&&Wi.sensorsdata_visualized_mode,qv=Wi&&Wi.sensorsdata_visualized_alert_info,$v=Wi&&Wi.sensorsdata_hover_web_nodes,Oh={isVerify:function(){return mc&&(mc===!0||mc.call(Wi))},commands:{app_alert:ah,visualized_track:Zl,page_info:Zl,sensorsdata_get_app_visual_config:sh}},h1="1.26.12",Wv={init:function(u){tr=u,Ua=tr&&tr._,_i=tr&&tr.log||console&&console.log||function(){},lh()},handleCommand:Xn},Gv=Qo(Wv,"AndroidObsoleteBridge","sdkAfterInitPara"),p1="1.26.12",ni={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(u,c){function h(){return Wr=Gr._,Ph=Gr.store,!!Wr.localStorage.isSupport()&&(Gr.para.max_string_length=1024,g.eventList.init(),g.addLatestChannelUrl(),void g.addIsChannelCallbackEvent())}if(Gr||!u)return!1;c=c||{},Ih=c.cookie_name||"sensorsdata2015jssdkchannel",Gr=u;var g=this;h()},addIsChannelCallbackEvent:function(){Gr.registerPage({$is_channel_callback_event:function(u){if(Wr.isObject(u)&&u.event&&u.event!=="$WebClick"&&u.event!=="$pageview"&&u.event!=="$WebStay"&&u.event!=="$SignUp")return!ni.eventList.hasEvent(u.event)&&(ni.eventList.add(u.event),!0)}})},addLatestChannelUrl:function(){var u=this.getUrlDomain(),c=this.cookie.getChannel();if(u==="url\u89E3\u6790\u5931\u8D25")this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url\u7684domain\u89E3\u6790\u5931\u8D25"});else if(Wr.isReferralTraffic(document.referrer)){var h=Wr.getQueryParam(location.href,"sat_cf");Wr.isString(h)&&h.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),ni.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else c?Gr.registerPage(c):Gr.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"\u53D6\u503C\u5F02\u5E38"})},registerAndSave:function(u){Gr.registerPage(u),this.cookie.saveChannel(u)},cookie:{getChannel:function(){var u=Gr.kit.userDecryptIfNeeded(Wr.cookie.get(Ih));return u=Wr.safeJSONParse(u),!(!Wr.isObject(u)||!u.prop)&&u.prop},saveChannel:function(u){var c={prop:u},h=JSON.stringify(c);Gr.para.encrypt_cookie&&(h=Gr.kit.userEncrypt(h)),Wr.cookie.set(Ih,h)}},channelLinkHandler:function(){this.eventList.reset(),Gr.track("$ChannelLinkReaching")},getUrlDomain:function(){var u=Wr.info.pageProp.url_domain;return u===""&&(u="url\u89E3\u6790\u5931\u8D25"),u},eventList:{init:function(){var u=this.get(),c=new Date().getTime();if(u&&Wr.isNumber(u.latest_event_initial_time)&&Wr.isArray(u.eventList)){var h=c-u.latest_event_initial_time;h>0&&h<ni.max_save_time?(ni.event_list=u.eventList,ni.latest_event_initial_time=u.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var u={};try{u=Ph.readObjectVal("sawebjssdkchannel")}catch(c){Gr.log(c)}return u},add:function(u){ni.event_list.push(u),this.save()},save:function(){var u={latest_event_initial_time:ni.latest_event_initial_time,eventList:ni.event_list};Ph.saveObjectVal("sawebjssdkchannel",u)},reset:function(){ni.event_list=[],ni.latest_event_initial_time=new Date().getTime(),this.save()},hasEvent:function(u){var c=!1;return Wr.each(ni.event_list,function(h){h===u&&(c=!0)}),c}}},g1=mr(ni,"SensorsChannel","sdkAfterInitAPI"),m1="1.26.12",zv=(/micromessenger\/([\d.]+)/i.test(navigator.userAgent||""),function(){var u={};return typeof document.hidden<"u"?(u.hidden="hidden",u.visibilityChange="visibilitychange"):typeof document.msHidden<"u"?(u.hidden="msHidden",u.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u});lu=zv().hidden;var Lh,ja,Vt,cu,Rh,rr,Ps,Nh,Fh={android:/Android/i,iOS:/iPhone|iPad|iPod/i},v1=function(){for(var u in Fh)if(navigator.userAgent.match(Fh[u]))return u;return""},Kv=v1(),_1=function(){return Fh.hasOwnProperty(Kv)},Mh=function(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"},y1=function(u){var c=/\/sd\/(\w+)\/(\w+)$/;return u.match(c)},b1=function(u){var c=u._.URL(u.para.server_url);return{origin:c.origin,project:c.searchParams.get("project")||"default"}},T1=function(u,c,h){u.log("\u5C1D\u8BD5\u5524\u8D77 android app");var g=c;u.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+g),window.location=g,u.timer=setTimeout(function(){var b=tc();return u.log("hide:"+lu+":"+document[lu]),b?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location=h))},u.timeout)},S1=function(u,c,h){u.log("\u5C1D\u8BD5\u5524\u8D77 iOS app:"+c),window.location.href=c,u.timer=setTimeout(function(){var g=tc();return g?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location.href=h))},u.timeout),u.log("new timer:"+u.timer)},du={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(u){if(this.sd)return this.log("deeplink\u5DF2\u7ECF\u521D\u59CB\u5316"),!1;if(this.sd=u,this.log("deeplink init called"),this.sd===null)return this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165"),!1;var c={};if(arguments.length>0&&(arguments.length===1&&Mh(arguments[0])?c=arguments[0]:arguments.length>=2&&Mh(arguments[1])&&(c=arguments[1])),!_1())return this.log("\u4E0D\u652F\u6301\u5F53\u524D\u7CFB\u7EDF\uFF0C\u76EE\u524D\u53EA\u652F\u6301Android\u548CiOS"),!1;if(Mh(c)&&this.sd._.isNumber(c.timeout)&&c.timeout>=2500&&(this.timeout=c.timeout),!this.sd.para.server_url)return this.log("\u795E\u7B56JS SDK\u914D\u7F6E\u9879server_url\u672A\u6B63\u786E\u914D\u7F6E"),!1;var h=b1(this.sd);this.apiURL=this.apiURL.replace("{origin}",h.origin).replace("{project}",h.project);var g=this.sd._.getQueryParam(window.location.href,"deeplink");if(!g)return this.log("\u5F53\u524D\u9875\u9762\u7F3A\u5C11deeplink\u53C2\u6570"),!1;g=window.decodeURIComponent(g);var b=y1(g);return b?(this.key=b[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(b[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:function(C){return C.errorMsg?(du.log("API\u62A5\u9519\uFF1A"+C.errorMsg),!1):(du.data=C,du.log("API\u67E5\u8BE2\u6210\u529F\uFF0C\u6570\u636E\uFF1A"+JSON.stringify(C,null,"  ")),void(this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))))}.bind(this),error:function(){du.log("API\u67E5\u8BE2\u51FA\u9519")}}),void this.addListeners()):(this.log("\u5F53\u524D\u9875\u9762\u7684deeplink\u53C2\u6570\u65E0\u6548"),!1)},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("\u6CA1\u6709Deep link\u6570\u636E!"),!1;if(Kv==="iOS"){this.log("\u5F53\u524D\u7CFB\u7EDF\u662FiOS");var u=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+u),S1(this,u,this.data.ios_info.download_url)}else this.log("\u5F53\u524D\u7CFB\u7EDF\u662F android"),T1(this,this.data.android_info.url_schemes,this.data.android_info.download_url)},log:function(u){this.sd&&this.sd.log(u)},addListeners:function(){var u=zv().visibilityChange,c=this;u&&document.addEventListener(u,function(){clearTimeout(c.timer),c.log("visibilitychange, clear timeout:"+c.timer)},!1),window.addEventListener("pagehide",function(){c.log("page hide, clear timeout:"+c.timer),clearTimeout(c.timer)},!1)}},x1=ec(du,"Deeplink","sdkReady"),E1="1.26.12",Xv={init:function(u){Vt=u,cu=Vt&&Vt._,Rh=Vt&&Vt.log||console&&console.log||function(){},gh()},handleCommand:vh},Jv=ph(Xv,"IOSBridge","sdkAfterInitPara"),C1="1.26.12",Yv={init:function(u){rr=u,Ps=rr&&rr._,Nh=rr&&rr.log||console&&console.log||function(){},S()}},Qv=v(Yv,"IOSObsoleteBridge","sdkAfterInitPara"),w1="1.26.12",A1=5e3,k1=432e3;q.prototype.init=function(u,c){if(u){if(this.sd=u,this._=this.sd._,c){this.option=c;var h=c.heartbeat_interval_time;h&&(this._.isNumber(h)||this._.isNumber(1*h))&&1*h>0&&(this.heartbeat_interval_time=1e3*h);var g=c.max_duration;g&&(this._.isNumber(g)||this._.isNumber(1*g))&&1*g>0&&(this.max_duration=g)}this.page_id=Number(String(this._.getRandom()).slice(2,5)+String(this._.getRandom()).slice(2,4)+String(new Date().getTime()).slice(-4)),this.addEventListener(),document.hidden===!0?this.page_show_status=!1:this.addHeartBeatInterval(),this.log("PageLeave\u521D\u59CB\u5316\u5B8C\u6BD5")}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},q.prototype.log=function(u){this.sd&&this.sd.log(u)},q.prototype.refreshPageEndTimer=function(){var u=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){u.page_hidden_status=!1},A1)},q.prototype.hiddenStatusHandler=function(){clearTimeout(this.timer),this.timer=null,this.page_hidden_status=!1},q.prototype.pageStartHandler=function(){this.start_time=+new Date,document.hidden?this.page_show_status=!1:this.page_show_status=!0,this.url=location.href,this.title=document.title},q.prototype.pageEndHandler=function(){if(this.page_hidden_status!==!0){var u=this.getPageLeaveProperties();this.page_show_status===!1&&delete u.event_duration,this.page_show_status=!1,this.page_hidden_status=!0,this.isCollectUrl(this.url)&&this.sd.track("$WebPageLeave",u),this.refreshPageEndTimer(),this.delHeartBeatData()}},q.prototype.addEventListener=function(){this.addPageStartListener(),this.addPageSwitchListener(),this.addSinglePageListener(),this.addPageEndListener()},q.prototype.addPageStartListener=function(){var u=this;"onpageshow"in window&&this._.addEvent(window,"pageshow",function(){u.pageStartHandler(),u.hiddenStatusHandler()})},q.prototype.isCollectUrl=function(u){return typeof this.option.isCollectUrl!="function"||typeof u!="string"||u===""||this.option.isCollectUrl(u)},q.prototype.addSinglePageListener=function(){var u=this;this.sd.ee&&this.sd.ee.spa.prepend("switch",function(c){c!==location.href&&(u.url=c,u.pageEndHandler(),u.stopHeartBeatInterval(),u.current_page_url=u.url,u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval())})},q.prototype.addPageEndListener=function(){var u=this;this._.each(["pagehide","beforeunload","unload"],function(c){"on"+c in window&&u._.addEvent(window,c,function(){u.pageEndHandler(),u.stopHeartBeatInterval()})})},q.prototype.addPageSwitchListener=function(){var u=this;this._.listenPageState({visible:function(){u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval()},hidden:function(){u.url=location.href,u.title=document.title,u.pageEndHandler(),u.stopHeartBeatInterval()}})},q.prototype.addHeartBeatInterval=function(){this._.localStorage.isSupport()&&this.startHeartBeatInterval()},q.prototype.startHeartBeatInterval=function(){var u=this;this.heartbeat_interval_timer&&this.stopHeartBeatInterval();var c=!0;this.isCollectUrl(this.url)||(c=!1),this.heartbeat_interval_timer=setInterval(function(){c&&u.saveHeartBeatData()},this.heartbeat_interval_time),c&&this.saveHeartBeatData("is_first_heartbeat"),this.reissueHeartBeatData()},q.prototype.stopHeartBeatInterval=function(){clearInterval(this.heartbeat_interval_timer),this.heartbeat_interval_timer=null},q.prototype.saveHeartBeatData=function(u){var c=this.getPageLeaveProperties(),h=new Date;c.$time=h,u==="is_first_heartbeat"&&(c.event_duration=3.14);var g=this.sd.kit.buildData({type:"track",event:"$WebPageLeave",properties:c});g.heartbeat_interval_time=this.heartbeat_interval_time,this.sd.store.saveObjectVal(this.storage_name+"-"+this.page_id,g)},q.prototype.delHeartBeatData=function(u){this._.localStorage.isSupport()&&this._.localStorage.remove(u||this.storage_name+"-"+this.page_id)},q.prototype.reissueHeartBeatData=function(){for(var u=window.localStorage.length,c=u-1;c>=0;c--){var h=window.localStorage.key(c);if(h&&h!==this.storage_name+"-"+this.page_id&&h.indexOf(this.storage_name+"-")===0){var g=this.sd.store.readObjectVal(h);this._.isObject(g)&&1*new Date-g.time>g.heartbeat_interval_time+5e3&&(delete g.heartbeat_interval_time,g._flush_time=new Date().getTime(),this.sd.kit.sendData(g),this.delHeartBeatData(h))}}},q.prototype.getPageLeaveProperties=function(){var u=(+new Date-this.start_time)/1e3;(isNaN(u)||u<0||u>this.max_duration)&&(u=0),u=Number(u.toFixed(3));var c=this._.getReferrer(this.current_page_url),h=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body&&document.body.scrollTop||0;h=Math.round(h)||0;var g={$title:this.title,$url:this._.getURL(this.url),$url_path:this._.getURLPath(this._.URL(this.url).pathname),$referrer_host:c?this._.getHostname(c):"",$referrer:c,$viewport_position:h};return u!==0&&(g.event_duration=u),g=this._.extend(g,this.option.custom_props)};var D1=new q,P1=M(D1,"PageLeave","sdkReady"),I1="1.26.12",Zv=!1,O1={init:function(u,c){function h(L,W){if(L.getEntries&&typeof L.getEntries=="function"){for(var re=L.getEntries(),pe=null,Ce=0;Ce<re.length;Ce++)"transferSize"in re[Ce]&&(pe+=re[Ce].transferSize);u._.isNumber(pe)&&pe>=0&&pe<10737418240&&(W.$page_resource_size=Number((pe/1024).toFixed(3)))}}function g(L){var W=0;if(L.timing){var re=L.timing;re.fetchStart!==0&&u._.isNumber(re.fetchStart)&&re.domContentLoadedEventEnd!==0&&u._.isNumber(re.domContentLoadedEventEnd)?W=re.domContentLoadedEventEnd-re.fetchStart:u.log("performance \u6570\u636E\u83B7\u53D6\u5F02\u5E38")}return W}function b(L){var W=0;if(u._.isFunction(L.getEntriesByType)){var re=L.getEntriesByType("navigation")||[{}];W=(re[0]||{}).domContentLoadedEventEnd||0}return W}function C(){var L=0,W=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,re={$url:u._.getURL(),$title:document.title,$url_path:u._.getURLPath(),$referrer:u._.getReferrer(null,!0)};if(W?(L=b(W)||g(W),h(W,re)):u.log("\u6D4F\u89C8\u5668\u672A\u652F\u6301 performance API."),L>0){var pe=u._.isObject(c)&&c.max_duration||1800;L=Number((L/1e3).toFixed(3)),(!u._.isNumber(pe)||pe<=0||L<=pe)&&(re.event_duration=L)}Zv||(u.track("$WebPageLoad",re),Zv=!0),window.removeEventListener?window.removeEventListener("load",C):window.detachEvent&&window.detachEvent("onload",C)}document.readyState=="complete"?C():window.addEventListener?window.addEventListener("load",C):window.attachEvent&&window.attachEvent("onload",C)}},L1=ie(O1,"PageLoad","sdkReady");De.prototype.init=function(u){if(u){this.sd=u,this._=u._,this.log=u.log;var c=this;u.registerInterceptor("buildDataStage",{extendProps:{priority:0,entry:function(h){return Te(h,c)}}})}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},De.prototype.register=function(u){return this.sd?void(this._.isObject(u)&&this._.isArray(u.events)&&u.events.length>0&&this._.isObject(u.properties)&&!this._.isEmptyObject(u.properties)?this.customRegister.push(u):this.log("RegisterProperties: register \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},De.prototype.hookRegister=function(u){return this.sd?void(this._.isFunction(u)?this.customRegister.push(u):this.log("RegisterProperties: hookRegister \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")};var R1="1.26.12";De.prototype.plugin_name="RegisterProperties";var Ha,e0,N1=new De,F1=$t(N1),M1="1.26.12",fu=window.console&&window.console.log||function(){},B1={init:function(u){return Ha=u,fu=Ha&&Ha.log||fu,u&&u.kit&&u.kit.buildData?(e0=Ha.kit.buildData,Ha.kit.buildData=ic,void fu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5B8C\u6210")):void fu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25,\u5F53\u524D\u4E3Bsdk\u4E0D\u652F\u6301 RegisterPropertyPageHeight \u63D2\u4EF6\uFF0C\u8BF7\u5347\u7EA7\u4E3Bsdk")}},U1=Zo(B1,"RegisterPropertyPageHeight","sdkReady"),j1="1.26.12",vn={};vn.getPart=function(u){var c=!1,h=this.option.length;if(h){for(var g=0;g<h;g++)if(u.indexOf(this.option[g].part_url)>-1)return!0}return c},vn.getPartHash=function(u){var c=this.option.length,h=!1;if(c){for(var g=0;g<c;g++)if(u.indexOf(this.option[g].part_url)>-1)return this.option[g].after_hash}return!!h},vn.getCurrenId=function(){var u=this.store.getDistinctId()||"",c=this.store.getFirstId()||"";this._.urlSafeBase64&&this._.urlSafeBase64.encode?u=u?this._.urlSafeBase64.trim(this._.urlSafeBase64.encode(this._.base64Encode(u))):"":this._.rot13obfs&&(u=u?this._.rot13obfs(u):"");var h=c?"f"+u:"d"+u;return encodeURIComponent(h)},vn.rewriteUrl=function(u,c){var h=this,g=/([^?#]+)(\?[^#]*)?(#.*)?/,b=g.exec(u),C="";if(b){var L,W=b[1]||"",re=b[2]||"",pe=b[3]||"",Ce="_sasdk="+this.getCurrenId(),Qe=function(_r){var Yt=_r.split("&"),_n=[];return h._.each(Yt,function(yc){yc.indexOf("_sasdk=")>-1?_n.push(Ce):_n.push(yc)}),_n.join("&")};if(this.getPartHash(u)){L=pe.indexOf("_sasdk");var Ze=pe.indexOf("?");C=Ze>-1?L>-1?W+re+"#"+pe.substring(1,L)+Qe(pe.substring(L,pe.length)):W+re+pe+"&"+Ce:W+re+"#"+pe.substring(1)+"?"+Ce}else{L=re.indexOf("_sasdk");var Nt=/^\?(\w)+/.test(re);C=Nt?L>-1?W+"?"+Qe(re.substring(1))+pe:W+re+"&"+Ce+pe:W+"?"+Ce+pe}return c&&(c.href=C),C}},vn.getUrlId=function(){var u=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(u)&&u[1]){var c=decodeURIComponent(u[1]);return!c||c.substring(0,1)!=="f"&&c.substring(0,1)!=="d"||(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(c)?c=c.substring(0,1)+this._.base64Decode(this._.urlSafeBase64.decode(c.substring(1))):this._.rot13defs&&(c=c.substring(0,1)+this._.rot13defs(c.substring(1)))),c}return""},vn.setRefferId=function(u){var c=this.store.getDistinctId(),h=this.getUrlId();if(h&&h!==""){var g=h.substring(0,1)==="a"||h.substring(0,1)==="d";h=h.substring(1),h!==c&&(g?(this.sd.identify(h,!0),this.store.getFirstId()&&this.sd.saEvent.send({original_id:h,distinct_id:c,type:"track_signup",event:"$SignUp",properties:{}},null)):this.store.getFirstId()&&!u.re_login||this.sd.login(h))}},vn.addListen=function(){var u=this,c=function(h){var g,b,C=h.target,L=C.tagName.toLowerCase(),W=C.parentNode;if(L==="a"&&C.href||W&&W.tagName&&W.tagName.toLowerCase()==="a"&&W.href){L==="a"&&C.href?(g=C.href,b=C):(g=W.href,b=W);var re=u._.URL(g),pe=re.protocol;pe!=="http:"&&pe!=="https:"||u.getPart(g)&&u.rewriteUrl(g,b)}};u._.addEvent(document,"mousedown",c),window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>=0&&u._.addEvent(document,"pointerdown",c)},vn.init=function(u,c){function h(g){for(var b=g.length,C=[],L=0;L<b;L++)/[A-Za-z0-9]+\./.test(g[L].part_url)&&Object.prototype.toString.call(g[L].after_hash)=="[object Boolean]"?C.push(g[L]):u.log("linker \u914D\u7F6E\u7684\u7B2C "+(L+1)+" \u9879\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570\u683C\u5F0F\uFF01");return C}return this.sd=u,this._=u._,this.store=u.store,this.para=u.para,this._.isObject(c)&&this._.isArray(c.linker)&&c.linker.length>0?(this.setRefferId(c),this.addListen(),this.option=c.linker,void(this.option=h(this.option))):void u.log("\u8BF7\u914D\u7F6E\u6253\u901A\u57DF\u540D\u53C2\u6570\uFF01")};var Gi,Rt,Va,wr,qa,Ar,ea,zi,ta,Ki,ra,yi,Is,H1=eu(vn,"SiteLinker","sdkReady"),V1="utm_source utm_medium utm_campaign utm_content utm_term",q1="1.26.12",$1={init:function(u){function c(){var h=V1.split(" "),g="",b={};return Gi._.isArray(Gi.para.source_channel)&&Gi.para.source_channel.length>0&&(h=h.concat(Gi.para.source_channel),h=Gi._.unique(h)),Gi._.each(h,function(C){g=Gi._.getQueryParam(location.href,C),g.length&&(b[C]=g)}),b}u&&!Gi&&(Gi=u,Gi.registerInterceptor("businessStage",{getUtmData:{priority:0,entry:function(){return c()}}}))}},t0=oc($1,"Utm","sdkAfterInitPara"),W1="1.26.12",Bh=!1,vc=null,G1={init:function(u){vc=u,vc.disableSDK=q2,vc.enableSDK=$2,vc.getDisabled=W2}},r0=V2(G1,"DisableSDK","sdkInitAPI"),z1="1.26.12",K1={plugin_name:"DebugSender",init:function(u){Rt=u,Va=Rt._,Q2()}},i0=K2(K1),X1="1.26.12",J1={plugin_name:"JsappSender",init:function(u){wr=u,qa=wr._,iE()}},n0=tE(J1),Y1="1.26.12",_c=null,Q1={plugin_name:"BatchSender",init:function(u){Ar=u,ea=Ar._,cE()}},a0=oE(Q1),Z1="1.26.12",eC={plugin_name:"BeaconSender",init:function(u){zi=u,ta=zi._,mE()}},s0=hE(eC),tC="1.26.12",rC={plugin_name:"AjaxSender",init:function(u){Ki=u,ra=Ki._,SE()}},o0=yE(rC),iC="1.26.12",nC={plugin_name:"ImageSender",init:function(u){yi=u,Is=yi._,kE()}},u0=CE(nC),ur=null,zr=null,hu=[],aC={init:function(u){u&&(ur=u,zr=ur._,ur.logger&&ur.logger.appendWriter(OE),ur.on&&ur.on("sdkAfterInitPara",function(){for(var c=0;c<hu.length;c++)mv(hu[c]);hu=null}),ur.on&&ur.on("sdkInitAPI",function(){ur.enableLocalLog=FE,ur.disableLocalLog=ME}))}},l0=IE(aC,"ConsoleLogger"),Uh="sensorsdata_jssdk_debug";O.modules=O.modules||{};for(var c0=[l0,d1,Vv,Gv,g1,x1,Jv,Qv,P1,L1,F1,U1,H1,t0,r0,i0,n0,a0,s0,o0,u0],d0=[l0,u1,t0,r0,n0,i0,Vv,Jv,Gv,Qv,a0,s0,o0,u0],$a=0;$a<c0.length;$a++){var Os=c0[$a];O._.isString(Os.plugin_name)?O.modules[Os.plugin_name]=Os:O._.isArray(Os.plugin_name)&&O._.each(Os.plugin_name,function(u){O.modules[u]=Os})}for($a=0;$a<d0.length;$a++)O.use(d0[$a]);var f0=O;try{typeof window.sensorsDataAnalytic201505=="string"?(O.para=window[sensorsDataAnalytic201505].para,O._q=window[sensorsDataAnalytic201505]._q,window[sensorsDataAnalytic201505]=O,window.sensorsDataAnalytic201505=O,O.init()):typeof window.sensorsDataAnalytic201505>"u"?window.sensorsDataAnalytic201505=O:f0=window.sensorsDataAnalytic201505}catch(u){nt(u)}var sC=f0;return sC})})(RT);const uo=RT.exports,{VITE_SENSORS:NT}={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0};uo.init({sdk_url:"lib/sensorsdata.min.js",heatmap_url:"lib/heatmap.min.js",name:"sensors",server_url:"https://log.cece.com/sa?project="+NT,is_track_single_page:!0,use_client_time:!0,send_type:"beacon",preset_properties:{url:!0,title:!0,latest_wx_ad_click_id:!0},app_js_bridge:!0,is_track_device_id:!0,heatmap:{clickmap:"default",scroll_notice_map:"default"},show_log:!0});uo.quick("autoTrack",{platform:"web"});uo.registerPage({$url:window.location.href,$referrer:document.referrer,systemName:NT});let A_;uo.quick("isReady",function(){A_=uo.quick("getAnonymousID"),localStorage.setItem("anonymousID",A_)});function mD(){return uo}const vD=()=>{(function(r,e,i){let n;const t=r.getElementsByTagName(e)[0];r.getElementById(i)||(n=r.createElement(e),n.id=i,n.src="https://connect.facebook.net/zh_CN/sdk.js",t.parentNode.insertBefore(n,t))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"173769148980844",autoLogAppEvents:!0,xfbml:!0,version:"v16.0"})}};vD();var Au;typeof window<"u"?Au=window:typeof tl<"u"?Au=tl:typeof self<"u"?Au=self:Au={};var H=Au;const _D={},yD=Object.freeze(Object.defineProperty({__proto__:null,default:_D},Symbol.toStringTag,{value:"Module"})),bD=LT(yD);var k_=typeof tl<"u"?tl:typeof window<"u"?window:{},TD=bD,ku;typeof document<"u"?ku=document:(ku=k_["__GLOBAL_DOCUMENT_CACHE@4"],ku||(ku=k_["__GLOBAL_DOCUMENT_CACHE@4"]=TD));var be=ku;function wi(){return wi=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)({}).hasOwnProperty.call(i,n)&&(r[n]=i[n])}return r},wi.apply(null,arguments)}const SD=Object.freeze(Object.defineProperty({__proto__:null,get default(){return wi}},Symbol.toStringTag,{value:"Module"}));var Yp={exports:{}};(function(r,e){function i(d){if(d&&typeof d=="object"){var f=d.which||d.keyCode||d.charCode;f&&(d=f)}if(typeof d=="number")return s[d];var p=String(d),y=n[p.toLowerCase()];if(y)return y;var y=t[p.toLowerCase()];if(y)return y;if(p.length===1)return p.charCodeAt(0)}i.isEventKey=function(f,p){if(f&&typeof f=="object"){var y=f.which||f.keyCode||f.charCode;if(y==null)return!1;if(typeof p=="string"){var _=n[p.toLowerCase()];if(_)return _===y;var _=t[p.toLowerCase()];if(_)return _===y}else if(typeof p=="number")return p===y;return!1}},e=r.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var s=e.names=e.title={};for(a in n)s[n[a]]=a;for(var l in t)n[l]=t[l]})(Yp,Yp.exports);const et=Yp.exports;function Je(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lo(r,e){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},lo(r,e)}function xe(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,lo(r,e)}var xD=ED;function ED(r,e){var i,n=null;try{i=JSON.parse(r,e)}catch(t){n=t}return[n,i]}var Zd={exports:{}};const CD=LT(SD);var wD=kD,AD=Object.prototype.toString;function kD(r){if(!r)return!1;var e=AD.call(r);return e==="[object Function]"||typeof r=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}var DD=H,PD=function(e,i){return i===void 0&&(i=!1),function(n,t,a){if(n){e(n);return}if(t.statusCode>=400&&t.statusCode<=599){var s=a;if(i)if(DD.TextDecoder){var l=ID(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(l).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function ID(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),t=n[0],a=n[1];return t.trim()==="charset"?a.trim():e},"utf-8")}var OD=PD,FT=H,LD=CD,RD=wD;an.httpHandler=OD;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var ND=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(n){var t=n.indexOf(":"),a=n.slice(0,t).trim().toLowerCase(),s=n.slice(t+1).trim();typeof i[a]>"u"?i[a]=s:Array.isArray(i[a])?i[a].push(s):i[a]=[i[a],s]}),i};Zd.exports=an;Zd.exports.default=an;an.XMLHttpRequest=FT.XMLHttpRequest||UD;an.XDomainRequest="withCredentials"in new an.XMLHttpRequest?an.XMLHttpRequest:FT.XDomainRequest;FD(["get","put","post","patch","head","delete"],function(r){an[r==="delete"?"del":r]=function(e,i,n){return i=MT(e,i,n),i.method=r.toUpperCase(),BT(i)}});function FD(r,e){for(var i=0;i<r.length;i++)e(r[i])}function MD(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0}function MT(r,e,i){var n=r;return RD(e)?(i=e,typeof r=="string"&&(n={uri:r})):n=LD({},e,{uri:r}),n.callback=i,n}function an(r,e,i){return e=MT(r,e,i),BT(e)}function BT(r){if(typeof r.callback>"u")throw new Error("callback argument missing");var e=!1,i=function(V,j,K){e||(e=!0,r.callback(V,j,K))};function n(){l.readyState===4&&setTimeout(s,0)}function t(){var F=void 0;if(l.response?F=l.response:F=l.responseText||BD(l),P)try{F=JSON.parse(F)}catch{}return F}function a(F){return clearTimeout(D),F instanceof Error||(F=new Error(""+(F||"Unknown XMLHttpRequest Error"))),F.statusCode=0,i(F,R)}function s(){if(!f){var F;clearTimeout(D),r.useXDR&&l.status===void 0?F=200:F=l.status===1223?204:l.status;var V=R,j=null;return F!==0?(V={body:t(),statusCode:F,method:y,headers:{},url:p,rawRequest:l},l.getAllResponseHeaders&&(V.headers=ND(l.getAllResponseHeaders()))):j=new Error("Internal XMLHttpRequest Error"),i(j,V,V.body)}}var l=r.xhr||null;l||(r.cors||r.useXDR?l=new an.XDomainRequest:l=new an.XMLHttpRequest);var d,f,p=l.url=r.uri||r.url,y=l.method=r.method||"GET",_=r.body||r.data,x=l.headers=r.headers||{},A=!!r.sync,P=!1,D,R={body:void 0,headers:{},statusCode:0,method:y,url:p,rawRequest:l};if("json"in r&&r.json!==!1&&(P=!0,x.accept||x.Accept||(x.Accept="application/json"),y!=="GET"&&y!=="HEAD"&&(x["content-type"]||x["Content-Type"]||(x["Content-Type"]="application/json"),_=JSON.stringify(r.json===!0?_:r.json))),l.onreadystatechange=n,l.onload=s,l.onerror=a,l.onprogress=function(){},l.onabort=function(){f=!0},l.ontimeout=a,l.open(y,p,!A,r.username,r.password),A||(l.withCredentials=!!r.withCredentials),!A&&r.timeout>0&&(D=setTimeout(function(){if(!f){f=!0,l.abort("timeout");var F=new Error("XMLHttpRequest timeout");F.code="ETIMEDOUT",a(F)}},r.timeout)),l.setRequestHeader)for(d in x)x.hasOwnProperty(d)&&l.setRequestHeader(d,x[d]);else if(r.headers&&!MD(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(l.responseType=r.responseType),"beforeSend"in r&&typeof r.beforeSend=="function"&&r.beforeSend(l),l.send(_||null),l}function BD(r){try{if(r.responseType==="document")return r.responseXML;var e=r.responseXML&&r.responseXML.documentElement.nodeName==="parsererror";if(r.responseType===""&&!e)return r.responseXML}catch{}return null}function UD(){}var Qp={exports:{}},D_=be,nm=Object.create||function(){function r(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return r.prototype=e,new r}}();function li(r,e){this.name="ParsingError",this.code=r.code,this.message=e||r.message}li.prototype=nm(Error.prototype);li.prototype.constructor=li;li.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function am(r){function e(n,t,a,s){return(n|0)*3600+(t|0)*60+(a|0)+(s|0)/1e3}var i=r.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Hu(){this.values=nm(null)}Hu.prototype={set:function(r,e){!this.get(r)&&e!==""&&(this.values[r]=e)},get:function(r,e,i){return i?this.has(r)?this.values[r]:e[i]:this.has(r)?this.values[r]:e},has:function(r){return r in this.values},alt:function(r,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(r,e);break}},integer:function(r,e){/^-?\d+$/.test(e)&&this.set(r,parseInt(e,10))},percent:function(r,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(r,e),!0):!1}};function Du(r,e,i,n){var t=n?r.split(n):[r];for(var a in t)if(typeof t[a]=="string"){var s=t[a].split(i);if(s.length===2){var l=s[0].trim(),d=s[1].trim();e(l,d)}}}function jD(r,e,i){var n=r;function t(){var l=am(r);if(l===null)throw new li(li.Errors.BadTimeStamp,"Malformed timestamp: "+n);return r=r.replace(/^[^\sa-zA-Z-]+/,""),l}function a(l,d){var f=new Hu;Du(l,function(p,y){switch(p){case"region":for(var _=i.length-1;_>=0;_--)if(i[_].id===y){f.set(p,i[_].region);break}break;case"vertical":f.alt(p,y,["rl","lr"]);break;case"line":var x=y.split(","),A=x[0];f.integer(p,A),f.percent(p,A)&&f.set("snapToLines",!1),f.alt(p,A,["auto"]),x.length===2&&f.alt("lineAlign",x[1],["start","center","end"]);break;case"position":x=y.split(","),f.percent(p,x[0]),x.length===2&&f.alt("positionAlign",x[1],["start","center","end"]);break;case"size":f.percent(p,y);break;case"align":f.alt(p,y,["start","center","end","left","right"]);break}},/:/,/\s/),d.region=f.get("region",null),d.vertical=f.get("vertical","");try{d.line=f.get("line","auto")}catch{}d.lineAlign=f.get("lineAlign","start"),d.snapToLines=f.get("snapToLines",!0),d.size=f.get("size",100);try{d.align=f.get("align","center")}catch{d.align=f.get("align","middle")}try{d.position=f.get("position","auto")}catch{d.position=f.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},d.align)}d.positionAlign=f.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},d.align)}function s(){r=r.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),r.substr(0,3)!=="-->")throw new li(li.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);r=r.substr(3),s(),e.endTime=t(),s(),a(r,e)}var op=D_.createElement&&D_.createElement("textarea"),HD={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},P_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},VD={v:"title",lang:"lang"},I_={rt:"ruby"};function UT(r,e){function i(){if(!e)return null;function A(D){return e=e.substr(D.length),D}var P=e.match(/^([^<]*)(<[^>]*>?)?/);return A(P[1]?P[1]:P[2])}function n(A){return op.innerHTML=A,A=op.textContent,op.textContent="",A}function t(A,P){return!I_[P.localName]||I_[P.localName]===A.localName}function a(A,P){var D=HD[A];if(!D)return null;var R=r.document.createElement(D),F=VD[A];return F&&P&&(R[F]=P.trim()),R}for(var s=r.document.createElement("div"),l=s,d,f=[];(d=i())!==null;){if(d[0]==="<"){if(d[1]==="/"){f.length&&f[f.length-1]===d.substr(2).replace(">","")&&(f.pop(),l=l.parentNode);continue}var p=am(d.substr(1,d.length-2)),y;if(p){y=r.document.createProcessingInstruction("timestamp",p),l.appendChild(y);continue}var _=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!_||(y=a(_[1],_[3]),!y)||!t(l,y))continue;if(_[2]){var x=_[2].split(".");x.forEach(function(A){var P=/^bg_/.test(A),D=P?A.slice(3):A;if(P_.hasOwnProperty(D)){var R=P?"background-color":"color",F=P_[D];y.style[R]=F}}),y.className=x.join(" ")}f.push(_[1]),l.appendChild(y),l=y;continue}l.appendChild(r.document.createTextNode(n(d)))}return s}var O_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function qD(r){for(var e=0;e<O_.length;e++){var i=O_[e];if(r>=i[0]&&r<=i[1])return!0}return!1}function $D(r){var e=[],i="",n;if(!r||!r.childNodes)return"ltr";function t(l,d){for(var f=d.childNodes.length-1;f>=0;f--)l.push(d.childNodes[f])}function a(l){if(!l||!l.length)return null;var d=l.pop(),f=d.textContent||d.innerText;if(f){var p=f.match(/^.*(\n|\r)/);return p?(l.length=0,p[0]):f}if(d.tagName==="ruby")return a(l);if(d.childNodes)return t(l,d),a(l)}for(t(e,r);i=a(e);)for(var s=0;s<i.length;s++)if(n=i.charCodeAt(s),qD(n))return"rtl";return"ltr"}function WD(r){if(typeof r.line=="number"&&(r.snapToLines||r.line>=0&&r.line<=100))return r.line;if(!r.track||!r.track.textTrackList||!r.track.textTrackList.mediaElement)return-1;for(var e=r.track,i=e.textTrackList,n=0,t=0;t<i.length&&i[t]!==e;t++)i[t].mode==="showing"&&n++;return++n*-1}function ef(){}ef.prototype.applyStyles=function(r,e){e=e||this.div;for(var i in r)r.hasOwnProperty(i)&&(e.style[i]=r[i])};ef.prototype.formatStyle=function(r,e){return r===0?0:r+e};function cd(r,e,i){ef.call(this),this.cue=e,this.cueDiv=UT(r,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=r.document.createElement("div"),n={direction:$D(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":case"line-left":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":case"line-right":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}cd.prototype=nm(ef.prototype);cd.prototype.constructor=cd;function Br(r){var e,i,n,t;if(r.div){i=r.div.offsetHeight,n=r.div.offsetWidth,t=r.div.offsetTop;var a=(a=r.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();r=r.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,r.height/a.length):0}this.left=r.left,this.right=r.right,this.top=r.top||t,this.height=r.height||i,this.bottom=r.bottom||t+(r.height||i),this.width=r.width||n,this.lineHeight=e!==void 0?e:r.lineHeight}Br.prototype.move=function(r,e){switch(e=e!==void 0?e:this.lineHeight,r){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Br.prototype.overlaps=function(r){return this.left<r.right&&this.right>r.left&&this.top<r.bottom&&this.bottom>r.top};Br.prototype.overlapsAny=function(r){for(var e=0;e<r.length;e++)if(this.overlaps(r[e]))return!0;return!1};Br.prototype.within=function(r){return this.top>=r.top&&this.bottom<=r.bottom&&this.left>=r.left&&this.right<=r.right};Br.prototype.overlapsOppositeAxis=function(r,e){switch(e){case"+x":return this.left<r.left;case"-x":return this.right>r.right;case"+y":return this.top<r.top;case"-y":return this.bottom>r.bottom}};Br.prototype.intersectPercentage=function(r){var e=Math.max(0,Math.min(this.right,r.right)-Math.max(this.left,r.left)),i=Math.max(0,Math.min(this.bottom,r.bottom)-Math.max(this.top,r.top)),n=e*i;return n/(this.height*this.width)};Br.prototype.toCSSCompatValues=function(r){return{top:this.top-r.top,bottom:r.bottom-this.bottom,left:this.left-r.left,right:r.right-this.right,height:this.height,width:this.width}};Br.getSimpleBoxPosition=function(r){var e=r.div?r.div.offsetHeight:r.tagName?r.offsetHeight:0,i=r.div?r.div.offsetWidth:r.tagName?r.offsetWidth:0,n=r.div?r.div.offsetTop:r.tagName?r.offsetTop:0;r=r.div?r.div.getBoundingClientRect():r.tagName?r.getBoundingClientRect():r;var t={left:r.left,right:r.right,top:r.top||n,height:r.height||e,bottom:r.bottom||n+(r.height||e),width:r.width||i};return t};function GD(r,e,i,n){function t(D,R){for(var F,V=new Br(D),j=1,K=0;K<R.length;K++){for(;D.overlapsOppositeAxis(i,R[K])||D.within(i)&&D.overlapsAny(n);)D.move(R[K]);if(D.within(i))return D;var Z=D.intersectPercentage(i);j>Z&&(F=new Br(D),j=Z),D=new Br(V)}return F||V}var a=new Br(e),s=e.cue,l=WD(s),d=[];if(s.snapToLines){var f;switch(s.vertical){case"":d=["+y","-y"],f="height";break;case"rl":d=["+x","-x"],f="width";break;case"lr":d=["-x","+x"],f="width";break}var p=a.lineHeight,y=p*Math.round(l),_=i[f]+p,x=d[0];Math.abs(y)>_&&(y=y<0?-1:1,y*=Math.ceil(_/p)*p),l<0&&(y+=s.vertical===""?i.height:i.width,d=d.reverse()),a.move(x,y)}else{var A=a.lineHeight/i.height*100;switch(s.lineAlign){case"center":l-=A/2;break;case"end":l-=A;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(l,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(l,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(l,"%")});break}d=["+y","-x","+x","-y"],a=new Br(e)}var P=t(a,d);e.move(P.toCSSCompatValues(i))}function xo(){}xo.StringDecoder=function(){return{decode:function(r){if(!r)return"";if(typeof r!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}};xo.convertCueToDOMTree=function(r,e){return!r||!e?null:UT(r,e)};var zD=.05,KD="sans-serif",XD="1.5%";xo.processCues=function(r,e,i){if(!r||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=r.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=XD,i.appendChild(n);function t(p){for(var y=0;y<p.length;y++)if(p[y].hasBeenReset||!p[y].displayState)return!0;return!1}if(!t(e)){for(var a=0;a<e.length;a++)n.appendChild(e[a].displayState);return}var s=[],l=Br.getSimpleBoxPosition(n),d=Math.round(l.height*zD*100)/100,f={font:d+"px "+KD};(function(){for(var p,y,_=0;_<e.length;_++)y=e[_],p=new cd(r,y,f),n.appendChild(p.div),GD(r,p,l,s),y.displayState=p.div,s.push(Br.getSimpleBoxPosition(p))})()};xo.Parser=function(r,e,i){i||(i=e,e={}),e||(e={}),this.window=r,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};xo.Parser.prototype={reportOrThrowError:function(r){if(r instanceof li)this.onparsingerror&&this.onparsingerror(r);else throw r},parse:function(r){var e=this;r&&(e.buffer+=e.decoder.decode(r,{stream:!0}));function i(){for(var p=e.buffer,y=0;y<p.length&&p[y]!=="\r"&&p[y]!==`
`;)++y;var _=p.substr(0,y);return p[y]==="\r"&&++y,p[y]===`
`&&++y,e.buffer=p.substr(y),_}function n(p){var y=new Hu;if(Du(p,function(x,A){switch(x){case"id":y.set(x,A);break;case"width":y.percent(x,A);break;case"lines":y.integer(x,A);break;case"regionanchor":case"viewportanchor":var P=A.split(",");if(P.length!==2)break;var D=new Hu;if(D.percent("x",P[0]),D.percent("y",P[1]),!D.has("x")||!D.has("y"))break;y.set(x+"X",D.get("x")),y.set(x+"Y",D.get("y"));break;case"scroll":y.alt(x,A,["up"]);break}},/=/,/\s/),y.has("id")){var _=new(e.vttjs.VTTRegion||e.window.VTTRegion);_.width=y.get("width",100),_.lines=y.get("lines",3),_.regionAnchorX=y.get("regionanchorX",0),_.regionAnchorY=y.get("regionanchorY",100),_.viewportAnchorX=y.get("viewportanchorX",0),_.viewportAnchorY=y.get("viewportanchorY",100),_.scroll=y.get("scroll",""),e.onregion&&e.onregion(_),e.regionList.push({id:y.get("id"),region:_})}}function t(p){var y=new Hu;Du(p,function(_,x){switch(_){case"MPEGT":y.integer(_+"S",x);break;case"LOCA":y.set(_+"L",am(x));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:y.get("MPEGTS"),LOCAL:y.get("LOCAL")})}function a(p){p.match(/X-TIMESTAMP-MAP/)?Du(p,function(y,_){switch(y){case"X-TIMESTAMP-MAP":t(_);break}},/=/):Du(p,function(y,_){switch(y){case"Region":n(_);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=i();var l=s.match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new li(li.Errors.BadSignature);e.state="HEADER"}for(var d=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(d?d=!1:s=i(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{jD(s,e.cue,e.regionList)}catch(p){e.reportOrThrowError(p),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=s.indexOf("-->")!==-1;if(!s||f&&(d=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(p){e.reportOrThrowError(p),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var r=this;try{if(r.buffer+=r.decoder.decode(),(r.cue||r.state==="HEADER")&&(r.buffer+=`

`,r.parse()),r.state==="INITIAL")throw new li(li.Errors.BadSignature)}catch(e){r.reportOrThrowError(e)}return r.onflush&&r.onflush(),this}};var JD=xo,YD="auto",QD={"":1,lr:1,rl:1},ZD={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function eP(r){if(typeof r!="string")return!1;var e=QD[r.toLowerCase()];return e?r.toLowerCase():!1}function up(r){if(typeof r!="string")return!1;var e=ZD[r.toLowerCase()];return e?r.toLowerCase():!1}function jT(r,e,i){this.hasBeenReset=!1;var n="",t=!1,a=r,s=e,l=i,d=null,f="",p=!0,y="auto",_="start",x="auto",A="auto",P=100,D="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(R){n=""+R}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(R){t=!!R}},startTime:{enumerable:!0,get:function(){return a},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");a=R,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");s=R,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(R){l=""+R,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(R){d=R,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(R){var F=eP(R);if(F===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");f=F,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(R){p=!!R,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(R){if(typeof R!="number"&&R!==YD)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=R,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return _},set:function(R){var F=up(R);F?(_=F,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return x},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");x=R,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return A},set:function(R){var F=up(R);F?(A=F,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return P},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");P=R,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return D},set:function(R){var F=up(R);if(!F)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");D=F,this.hasBeenReset=!0}}}),this.displayState=void 0}jT.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var tP=jT,rP={"":!0,up:!0};function iP(r){if(typeof r!="string")return!1;var e=rP[r.toLowerCase()];return e?r.toLowerCase():!1}function _u(r){return typeof r=="number"&&r>=0&&r<=100}function nP(){var r=100,e=3,i=0,n=100,t=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return r},set:function(l){if(!_u(l))throw new Error("Width must be between 0 and 100.");r=l}},lines:{enumerable:!0,get:function(){return e},set:function(l){if(typeof l!="number")throw new TypeError("Lines must be set to a number.");e=l}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(l){if(!_u(l))throw new Error("RegionAnchorX must be between 0 and 100.");n=l}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(l){if(!_u(l))throw new Error("RegionAnchorY must be between 0 and 100.");i=l}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(l){if(!_u(l))throw new Error("ViewportAnchorY must be between 0 and 100.");a=l}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(l){if(!_u(l))throw new Error("ViewportAnchorX must be between 0 and 100.");t=l}},scroll:{enumerable:!0,get:function(){return s},set:function(l){var d=iP(l);d===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=d}}})}var aP=nP,Ln=H,ls=Qp.exports={WebVTT:JD,VTTCue:tP,VTTRegion:aP};Ln.vttjs=ls;Ln.WebVTT=ls.WebVTT;var sP=ls.VTTCue,oP=ls.VTTRegion,uP=Ln.VTTCue,lP=Ln.VTTRegion;ls.shim=function(){Ln.VTTCue=sP,Ln.VTTRegion=oP};ls.restore=function(){Ln.VTTCue=uP,Ln.VTTRegion=lP};Ln.VTTCue||ls.shim();function HT(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!r})()}function VT(r,e,i){if(HT())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var t=new(r.bind.apply(r,n));return i&&lo(t,i.prototype),t}function cP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&lo(r,e)}var qT={exports:{}};(function(r,e){(function(i){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(d,f,p){if(p=p||{},d=d.trim(),f=f.trim(),!f){if(!p.alwaysNormalize)return d;var y=l.parseURL(d);if(!y)throw new Error("Error trying to parse base URL.");return y.path=l.normalizePath(y.path),l.buildURLFromParts(y)}var _=l.parseURL(f);if(!_)throw new Error("Error trying to parse relative URL.");if(_.scheme)return p.alwaysNormalize?(_.path=l.normalizePath(_.path),l.buildURLFromParts(_)):f;var x=l.parseURL(d);if(!x)throw new Error("Error trying to parse base URL.");if(!x.netLoc&&x.path&&x.path[0]!=="/"){var A=t.exec(x.path);x.netLoc=A[1],x.path=A[2]}x.netLoc&&!x.path&&(x.path="/");var P={scheme:x.scheme,netLoc:_.netLoc,path:null,params:_.params,query:_.query,fragment:_.fragment};if(!_.netLoc&&(P.netLoc=x.netLoc,_.path[0]!=="/"))if(!_.path)P.path=x.path,_.params||(P.params=x.params,_.query||(P.query=x.query));else{var D=x.path,R=D.substring(0,D.lastIndexOf("/")+1)+_.path;P.path=l.normalizePath(R)}return P.path===null&&(P.path=p.alwaysNormalize?l.normalizePath(_.path):_.path),l.buildURLFromParts(P)},parseURL:function(d){var f=n.exec(d);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(d){for(d=d.split("").reverse().join("").replace(a,"");d.length!==(d=d.replace(s,"")).length;);return d.split("").reverse().join("")},buildURLFromParts:function(d){return d.scheme+d.netLoc+d.path+d.params+d.query+d.fragment}};r.exports=l})()})(qT);const L_=qT.exports;var R_="http://example.com",tf=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=H.location&&H.location.href||"");var n=typeof H.URL=="function",t=/^\/\//.test(e),a=!H.location&&!/\/\//i.test(e);if(n?e=new H.URL(e,H.location||R_):/\/\//i.test(e)||(e=L_.buildAbsoluteURL(H.location&&H.location.href||"",e)),n){var s=new URL(i,e);return a?s.href.slice(R_.length):t?s.href.slice(s.protocol.length):s.href}return L_.buildAbsoluteURL(e,i)},sm=function(){function r(){this.listeners={}}var e=r.prototype;return e.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(t)},e.off=function(n,t){if(!this.listeners[n])return!1;var a=this.listeners[n].indexOf(t);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(a,1),a>-1},e.trigger=function(n){var t=this.listeners[n];if(!!t)if(arguments.length===2)for(var a=t.length,s=0;s<a;++s)t[s].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),d=t.length,f=0;f<d;++f)t[f].apply(this,l)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(t){n.push(t)})},r}(),dP=function(e){return H.atob?H.atob(e):Buffer.from(e,"base64").toString("binary")};function $T(r){for(var e=dP(r),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var fP=function(r){xe(e,r);function e(){var n;return n=r.call(this)||this,n.buffer="",n}var i=e.prototype;return i.push=function(t){var a;for(this.buffer+=t,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(sm),hP=String.fromCharCode(9),lp=function(e){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return i[1]&&(n.length=parseInt(i[1],10)),i[2]&&(n.offset=parseInt(i[2],10)),n},pP=function(){var e="[^=]*",i='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+i+")";return new RegExp("(?:^|,)("+n+")")},Oi=function(e){for(var i=e.split(pP()),n={},t=i.length,a;t--;)i[t]!==""&&(a=/([^=]*)=(.*)/.exec(i[t]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),n[a[0]]=a[1]);return n},gP=function(r){xe(e,r);function e(){var n;return n=r.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var i=e.prototype;return i.push=function(t){var a=this,s,l;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var d=this.tagMappers.reduce(function(f,p){var y=p(t);return y===t?f:f.concat([y])},[t]);d.forEach(function(f){for(var p=0;p<a.customParsers.length;p++)if(a.customParsers[p].call(a,f))return;if(f.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:f.slice(1)});return}if(f=f.replace("\r",""),s=/^#EXTM3U/.exec(f),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(f),s){l={type:"tag",tagType:"inf"},s[1]&&(l.duration=parseFloat(s[1])),s[2]&&(l.title=s[2]),a.trigger("data",l);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"targetduration"},s[1]&&(l.duration=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"version"},s[1]&&(l.version=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"media-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"playlist-type"},s[1]&&(l.playlistType=s[1]),a.trigger("data",l);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(f),s){l=wi(lp(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",l);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(f),s){l={type:"tag",tagType:"allow-cache"},s[1]&&(l.allowed=!/NO/.test(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"map"},s[1]){var y=Oi(s[1]);y.URI&&(l.uri=y.URI),y.BYTERANGE&&(l.byterange=lp(y.BYTERANGE))}a.trigger("data",l);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"stream-inf"},s[1]){if(l.attributes=Oi(s[1]),l.attributes.RESOLUTION){var _=l.attributes.RESOLUTION.split("x"),x={};_[0]&&(x.width=parseInt(_[0],10)),_[1]&&(x.height=parseInt(_[1],10)),l.attributes.RESOLUTION=x}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["FRAME-RATE"]&&(l.attributes["FRAME-RATE"]=parseFloat(l.attributes["FRAME-RATE"])),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(f),s){l={type:"tag",tagType:"media"},s[1]&&(l.attributes=Oi(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-ENDLIST/.exec(f),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(f),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(f),s){l={type:"tag",tagType:"program-date-time"},s[1]&&(l.dateTimeString=s[1],l.dateTimeObject=new Date(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(f),s){l={type:"tag",tagType:"key"},s[1]&&(l.attributes=Oi(s[1]),l.attributes.IV&&(l.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),a.trigger("data",l);return}if(s=/^#EXT-X-START:?(.*)$/.exec(f),s){l={type:"tag",tagType:"start"},s[1]&&(l.attributes=Oi(s[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out-cont"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-in"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"skip"},l.attributes=Oi(s[1]),l.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(l.attributes["SKIPPED-SEGMENTS"]=parseInt(l.attributes["SKIPPED-SEGMENTS"],10)),l.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(l.attributes["RECENTLY-REMOVED-DATERANGES"]=l.attributes["RECENTLY-REMOVED-DATERANGES"].split(hP)),a.trigger("data",l);return}if(s=/^#EXT-X-PART:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part"},l.attributes=Oi(s[1]),["DURATION"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseFloat(l.attributes[A]))}),["INDEPENDENT","GAP"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=/YES/.test(l.attributes[A]))}),l.attributes.hasOwnProperty("BYTERANGE")&&(l.attributes.byterange=lp(l.attributes.BYTERANGE)),a.trigger("data",l);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"server-control"},l.attributes=Oi(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseFloat(l.attributes[A]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=/YES/.test(l.attributes[A]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part-inf"},l.attributes=Oi(s[1]),["PART-TARGET"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseFloat(l.attributes[A]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"preload-hint"},l.attributes=Oi(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(A){if(l.attributes.hasOwnProperty(A)){l.attributes[A]=parseInt(l.attributes[A],10);var P=A==="BYTERANGE-LENGTH"?"length":"offset";l.attributes.byterange=l.attributes.byterange||{},l.attributes.byterange[P]=l.attributes[A],delete l.attributes[A]}}),a.trigger("data",l);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"rendition-report"},l.attributes=Oi(s[1]),["LAST-MSN","LAST-PART"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseInt(l.attributes[A],10))}),a.trigger("data",l);return}a.trigger("data",{type:"tag",data:f.slice(4)})})}},i.addParser=function(t){var a=this,s=t.expression,l=t.customType,d=t.dataParser,f=t.segment;typeof d!="function"&&(d=function(y){return y}),this.customParsers.push(function(p){var y=s.exec(p);if(y)return a.trigger("data",{type:"custom",data:d(p),customType:l,segment:f}),!0})},i.addTagMapper=function(t){var a=t.expression,s=t.map,l=function(f){return a.test(f)?s(f):f};this.tagMappers.push(l)},e}(sm),mP=function(e){return e.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},Ns=function(e){var i={};return Object.keys(e).forEach(function(n){i[mP(n)]=e[n]}),i},cp=function(e){var i=e.serverControl,n=e.targetDuration,t=e.partTargetDuration;if(!!i){var a="#EXT-X-SERVER-CONTROL",s="holdBack",l="partHoldBack",d=n&&n*3,f=t&&t*2;n&&!i.hasOwnProperty(s)&&(i[s]=d,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+d+")."})),d&&i[s]<d&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+i[s]+") to targetDuration * 3 ("+d+")"}),i[s]=d),t&&!i.hasOwnProperty(l)&&(i[l]=t*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[l]+")."})),t&&i[l]<f&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+i[l]+") to partTargetDuration * 2 ("+f+")."}),i[l]=f)}},vP=function(r){xe(e,r);function e(){var n;n=r.call(this)||this,n.lineStream=new fP,n.parseStream=new gP,n.lineStream.pipe(n.parseStream);var t=Je(n),a=[],s={},l,d,f=!1,p=function(){},y={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},_="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",x=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var A=0,P=0;return n.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&l&&(s.map=l),!s.key&&d&&(s.key=d),!s.timeline&&typeof x=="number"&&(s.timeline=x),n.manifest.preloadSegment=s)}),n.parseStream.on("data",function(D){var R,F;({tag:function(){({version:function(){D.version&&(this.manifest.version=D.version)},"allow-cache":function(){this.manifest.allowCache=D.allowed,"allowed"in D||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var K={};"length"in D&&(s.byterange=K,K.length=D.length,"offset"in D||(D.offset=A)),"offset"in D&&(s.byterange=K,K.offset=D.offset),A=K.offset+K.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),D.duration>0&&(s.duration=D.duration),D.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!D.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(D.attributes.METHOD==="NONE"){d=null;return}if(!D.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(D.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:D.attributes};return}if(D.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:D.attributes.URI};return}if(D.attributes.KEYFORMAT===_){var K=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(K.indexOf(D.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(D.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),D.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(D.attributes.KEYID&&D.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:D.attributes.KEYFORMAT,keyId:D.attributes.KEYID.substring(2)},pssh:$T(D.attributes.URI.split(",")[1])};return}D.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),d={method:D.attributes.METHOD||"AES-128",uri:D.attributes.URI},typeof D.attributes.IV<"u"&&(d.iv=D.attributes.IV)},"media-sequence":function(){if(!isFinite(D.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+D.number});return}this.manifest.mediaSequence=D.number},"discontinuity-sequence":function(){if(!isFinite(D.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+D.number});return}this.manifest.discontinuitySequence=D.number,x=D.number},"playlist-type":function(){if(!/VOD|EVENT/.test(D.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+D.playlist});return}this.manifest.playlistType=D.playlistType},map:function(){l={},D.uri&&(l.uri=D.uri),D.byterange&&(l.byterange=D.byterange),d&&(l.key=d)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||y,!D.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),wi(s.attributes,D.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||y,!(D.attributes&&D.attributes.TYPE&&D.attributes["GROUP-ID"]&&D.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var K=this.manifest.mediaGroups[D.attributes.TYPE];K[D.attributes["GROUP-ID"]]=K[D.attributes["GROUP-ID"]]||{},R=K[D.attributes["GROUP-ID"]],F={default:/yes/i.test(D.attributes.DEFAULT)},F.default?F.autoselect=!0:F.autoselect=/yes/i.test(D.attributes.AUTOSELECT),D.attributes.LANGUAGE&&(F.language=D.attributes.LANGUAGE),D.attributes.URI&&(F.uri=D.attributes.URI),D.attributes["INSTREAM-ID"]&&(F.instreamId=D.attributes["INSTREAM-ID"]),D.attributes.CHARACTERISTICS&&(F.characteristics=D.attributes.CHARACTERISTICS),D.attributes.FORCED&&(F.forced=/yes/i.test(D.attributes.FORCED)),R[D.attributes.NAME]=F},discontinuity:function(){x+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=D.dateTimeString,this.manifest.dateTimeObject=D.dateTimeObject),s.dateTimeString=D.dateTimeString,s.dateTimeObject=D.dateTimeObject},targetduration:function(){if(!isFinite(D.duration)||D.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+D.duration});return}this.manifest.targetDuration=D.duration,cp.call(this,this.manifest)},start:function(){if(!D.attributes||isNaN(D.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:D.attributes["TIME-OFFSET"],precise:D.attributes.PRECISE}},"cue-out":function(){s.cueOut=D.data},"cue-out-cont":function(){s.cueOutCont=D.data},"cue-in":function(){s.cueIn=D.data},skip:function(){this.manifest.skip=Ns(D.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",D.attributes,["SKIPPED-SEGMENTS"])},part:function(){var K=this;f=!0;var Z=this.manifest.segments.length,Q=Ns(D.attributes);s.parts=s.parts||[],s.parts.push(Q),Q.byterange&&(Q.byterange.hasOwnProperty("offset")||(Q.byterange.offset=P),P=Q.byterange.offset+Q.byterange.length);var U=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+U+" for segment #"+Z,D.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(z,Y){z.hasOwnProperty("lastPart")||K.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+Y+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var K=this.manifest.serverControl=Ns(D.attributes);K.hasOwnProperty("canBlockReload")||(K.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),cp.call(this,this.manifest),K.canSkipDateranges&&!K.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var K=this.manifest.segments.length,Z=Ns(D.attributes),Q=Z.type&&Z.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(Z),Z.byterange&&(Z.byterange.hasOwnProperty("offset")||(Z.byterange.offset=Q?P:0,Q&&(P=Z.byterange.offset+Z.byterange.length)));var U=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+U+" for segment #"+K,D.attributes,["TYPE","URI"]),!!Z.type)for(var z=0;z<s.preloadHints.length-1;z++){var Y=s.preloadHints[z];!Y.type||Y.type===Z.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+U+" for segment #"+K+" has the same TYPE "+Z.type+" as preload hint #"+z})}},"rendition-report":function(){var K=Ns(D.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(K);var Z=this.manifest.renditionReports.length-1,Q=["LAST-MSN","URI"];f&&Q.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+Z,D.attributes,Q)},"part-inf":function(){this.manifest.partInf=Ns(D.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",D.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),cp.call(this,this.manifest)}}[D.tagType]||p).call(t)},uri:function(){s.uri=D.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),d&&(s.key=d),s.timeline=x,l&&(s.map=l),P=0,s={}},comment:function(){},custom:function(){D.segment?(s.custom=s.custom||{},s.custom[D.customType]=D.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[D.customType]=D.data)}})[D.type].call(t)}),n}var i=e.prototype;return i.warnOnMissingAttributes_=function(t,a,s){var l=[];s.forEach(function(d){a.hasOwnProperty(d)||l.push(d)}),l.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+l.join(", ")})},i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(sm),is={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},_P=["video","audio","text"],N_=["Video","Audio","Text"],WT=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,t){var a=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+a+"00"+s})},Ji=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(t){t=t.trim();var a;_P.forEach(function(s){var l=is[s].exec(t.toLowerCase());if(!(!l||l.length<=1)){a=s;var d=t.substring(0,l[1].length),f=t.replace(d,"");n.push({type:d,details:f,mediaType:s})}}),a||n.push({type:t,details:"",mediaType:"unknown"})}),n},yP=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var t in n){var a=n[t];if(a.default&&a.playlists)return Ji(a.playlists[0].attributes.CODECS)}return null},GT=function(e){return e===void 0&&(e=""),is.audio.test(e.trim().toLowerCase())},bP=function(e){return e===void 0&&(e=""),is.text.test(e.trim().toLowerCase())},rl=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(a){return WT(a.trim())}),n="video";i.length===1&&GT(i[0])?n="audio":i.length===1&&bP(i[0])&&(n="application");var t="mp4";return i.every(function(a){return is.mp4.test(a)})?t="mp4":i.every(function(a){return is.webm.test(a)})?t="webm":i.every(function(a){return is.ogg.test(a)})&&(t="ogg"),n+"/"+t+';codecs="'+e+'"'}},Yc=function(e){return e===void 0&&(e=""),H.MediaSource&&H.MediaSource.isTypeSupported&&H.MediaSource.isTypeSupported(rl(e))||!1},dp=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<N_.length;n++){var t=N_[n];if(is["muxer"+t].test(i))return!0}return!1})},F_="mp4a.40.2",TP="avc1.4d400d",SP=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,xP=/^application\/dash\+xml/i,zT=function(e){return SP.test(e)?"hls":xP.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},EP=function(e){return e.toString(2).length},CP=function(e){return Math.ceil(EP(e)/8)},KT=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},wP=function(e){return KT(e)},Ve=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!wP(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Tr=H.BigInt||Number,Zp=[Tr("0x1"),Tr("0x100"),Tr("0x10000"),Tr("0x1000000"),Tr("0x100000000"),Tr("0x10000000000"),Tr("0x1000000000000"),Tr("0x100000000000000"),Tr("0x10000000000000000")];(function(){var r=new Uint16Array([65484]),e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var AP=function(e,i){var n=i===void 0?{}:i,t=n.signed,a=t===void 0?!1:t,s=n.le,l=s===void 0?!1:s;e=Ve(e);var d=l?"reduce":"reduceRight",f=e[d]?e[d]:Array.prototype[d],p=f.call(e,function(_,x,A){var P=l?A:Math.abs(A+1-e.length);return _+Tr(x)*Zp[P]},Tr(0));if(a){var y=Zp[e.length]/Tr(2)-Tr(1);p=Tr(p),p>y&&(p-=y,p-=y,p-=Tr(2))}return Number(p)},kP=function(e,i){var n=i===void 0?{}:i,t=n.le,a=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Tr(e);for(var s=CP(e),l=new Uint8Array(new ArrayBuffer(s)),d=0;d<s;d++){var f=a?d:Math.abs(d+1-l.length);l[f]=Number(e/Zp[d]&Tr(255)),e<0&&(l[f]=Math.abs(~l[f]),l[f]-=d===0?1:2)}return l},XT=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n},DP=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(l){return l&&(l.byteLength||l.length)&&typeof l!="string"}),i.length<=1)return Ve(i[0]);var t=i.reduce(function(l,d,f){return l+(d.byteLength||d.length)},0),a=new Uint8Array(t),s=0;return i.forEach(function(l){l=Ve(l),a.set(l,s),s+=l.byteLength}),a},Mt=function(e,i,n){var t=n===void 0?{}:n,a=t.offset,s=a===void 0?0:a,l=t.mask,d=l===void 0?[]:l;e=Ve(e),i=Ve(i);var f=i.every?i.every:Array.prototype.every;return i.length&&e.length-s>=i.length&&f.call(i,function(p,y){var _=d[y]?d[y]&e[s+y]:e[s+y];return p===_})},PP=function(e,i,n){i.forEach(function(t){for(var a in e.mediaGroups[t])for(var s in e.mediaGroups[t][a]){var l=e.mediaGroups[t][a][s];n(l,t,a,s)}})},Ca={},Un={};function IP(r,e,i){if(i===void 0&&(i=Array.prototype),r&&typeof i.find=="function")return i.find.call(r,e);for(var n=0;n<r.length;n++)if(Object.prototype.hasOwnProperty.call(r,n)){var t=r[n];if(e.call(void 0,t,n,r))return t}}function om(r,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(r):r}function OP(r,e){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}var JT=om({HTML:"text/html",isHTML:function(r){return r===JT.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),YT=om({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===YT.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Un.assign=OP;Un.find=IP;Un.freeze=om;Un.MIME_TYPE=JT;Un.NAMESPACE=YT;var QT=Un,sn=QT.find,il=QT.NAMESPACE;function LP(r){return r!==""}function RP(r){return r?r.split(/[\t\n\f\r ]+/).filter(LP):[]}function NP(r,e){return r.hasOwnProperty(e)||(r[e]=!0),r}function M_(r){if(!r)return[];var e=RP(r);return Object.keys(e.reduce(NP,{}))}function FP(r){return function(e){return r&&r.indexOf(e)!==-1}}function _l(r,e){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}function Zr(r,e){var i=r.prototype;if(!(i instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,_l(i,n),r.prototype=i=n}i.constructor!=r&&(typeof r!="function"&&console.error("unknown Class:"+r),i.constructor=r)}var ei={},Ni=ei.ELEMENT_NODE=1,co=ei.ATTRIBUTE_NODE=2,dd=ei.TEXT_NODE=3,ZT=ei.CDATA_SECTION_NODE=4,eS=ei.ENTITY_REFERENCE_NODE=5,MP=ei.ENTITY_NODE=6,tS=ei.PROCESSING_INSTRUCTION_NODE=7,rS=ei.COMMENT_NODE=8,iS=ei.DOCUMENT_NODE=9,nS=ei.DOCUMENT_TYPE_NODE=10,Rn=ei.DOCUMENT_FRAGMENT_NODE=11,BP=ei.NOTATION_NODE=12,Lr={},hr={};Lr.INDEX_SIZE_ERR=(hr[1]="Index size error",1);Lr.DOMSTRING_SIZE_ERR=(hr[2]="DOMString size error",2);var Xr=Lr.HIERARCHY_REQUEST_ERR=(hr[3]="Hierarchy request error",3);Lr.WRONG_DOCUMENT_ERR=(hr[4]="Wrong document",4);Lr.INVALID_CHARACTER_ERR=(hr[5]="Invalid character",5);Lr.NO_DATA_ALLOWED_ERR=(hr[6]="No data allowed",6);Lr.NO_MODIFICATION_ALLOWED_ERR=(hr[7]="No modification allowed",7);var aS=Lr.NOT_FOUND_ERR=(hr[8]="Not found",8);Lr.NOT_SUPPORTED_ERR=(hr[9]="Not supported",9);var B_=Lr.INUSE_ATTRIBUTE_ERR=(hr[10]="Attribute in use",10);Lr.INVALID_STATE_ERR=(hr[11]="Invalid state",11);Lr.SYNTAX_ERR=(hr[12]="Syntax error",12);Lr.INVALID_MODIFICATION_ERR=(hr[13]="Invalid modification",13);Lr.NAMESPACE_ERR=(hr[14]="Invalid namespace",14);Lr.INVALID_ACCESS_ERR=(hr[15]="Invalid access",15);function Kt(r,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,hr[r]),this.message=hr[r],Error.captureStackTrace&&Error.captureStackTrace(this,Kt);return i.code=r,e&&(this.message=this.message+": "+e),i}Kt.prototype=Error.prototype;_l(Lr,Kt);function Dn(){}Dn.prototype={length:0,item:function(r){return r>=0&&r<this.length?this[r]:null},toString:function(r,e){for(var i=[],n=0;n<this.length;n++)$s(this[n],i,r,e);return i.join("")},filter:function(r){return Array.prototype.filter.call(this,r)},indexOf:function(r){return Array.prototype.indexOf.call(this,r)}};function fo(r,e){this._node=r,this._refresh=e,um(this)}function um(r){var e=r._node._inc||r._node.ownerDocument._inc;if(r._inc!==e){var i=r._refresh(r._node);if(vS(r,"length",i.length),!r.$$length||i.length<r.$$length)for(var n=i.length;n in r;n++)Object.prototype.hasOwnProperty.call(r,n)&&delete r[n];_l(i,r),r._inc=e}}fo.prototype.item=function(r){return um(this),this[r]||null};Zr(fo,Dn);function fd(){}function sS(r,e){for(var i=r.length;i--;)if(r[i]===e)return i}function U_(r,e,i,n){if(n?e[sS(e,n)]=i:e[e.length++]=i,r){i.ownerElement=r;var t=r.ownerDocument;t&&(n&&lS(t,r,n),UP(t,r,i))}}function j_(r,e,i){var n=sS(e,i);if(n>=0){for(var t=e.length-1;n<t;)e[n]=e[++n];if(e.length=t,r){var a=r.ownerDocument;a&&(lS(a,r,i),i.ownerElement=null)}}else throw new Kt(aS,new Error(r.tagName+"@"+i))}fd.prototype={length:0,item:Dn.prototype.item,getNamedItem:function(r){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==r)return i}},setNamedItem:function(r){var e=r.ownerElement;if(e&&e!=this._ownerElement)throw new Kt(B_);var i=this.getNamedItem(r.nodeName);return U_(this._ownerElement,this,r,i),i},setNamedItemNS:function(r){var e=r.ownerElement,i;if(e&&e!=this._ownerElement)throw new Kt(B_);return i=this.getNamedItemNS(r.namespaceURI,r.localName),U_(this._ownerElement,this,r,i),i},removeNamedItem:function(r){var e=this.getNamedItem(r);return j_(this._ownerElement,this,e),e},removeNamedItemNS:function(r,e){var i=this.getNamedItemNS(r,e);return j_(this._ownerElement,this,i),i},getNamedItemNS:function(r,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==r)return n}return null}};function oS(){}oS.prototype={hasFeature:function(r,e){return!0},createDocument:function(r,e,i){var n=new yl;if(n.implementation=this,n.childNodes=new Dn,n.doctype=i||null,i&&n.appendChild(i),e){var t=n.createElementNS(r,e);n.appendChild(t)}return n},createDocumentType:function(r,e,i){var n=new rf;return n.name=r,n.nodeName=r,n.publicId=e||"",n.systemId=i||"",n}};function St(){}St.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,e){return hd(this,r,e)},replaceChild:function(r,e){hd(this,r,e,dS),e&&this.removeChild(e)},removeChild:function(r){return cS(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return eg(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var e=r.nextSibling;e&&e.nodeType==dd&&r.nodeType==dd?(this.removeChild(e),r.appendData(e.data)):(r.normalize(),r=e)}},isSupported:function(r,e){return this.ownerDocument.implementation.hasFeature(r,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===r)return n}e=e.nodeType==co?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(r){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,r))return i[r];e=e.nodeType==co?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(r){var e=this.lookupPrefix(r);return e==null}};function uS(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}_l(ei,St);_l(ei,St.prototype);function nl(r,e){if(e(r))return!0;if(r=r.firstChild)do if(nl(r,e))return!0;while(r=r.nextSibling)}function yl(){this.ownerDocument=this}function UP(r,e,i){r&&r._inc++;var n=i.namespaceURI;n===il.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function lS(r,e,i,n){r&&r._inc++;var t=i.namespaceURI;t===il.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function lm(r,e,i){if(r&&r._inc){r._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var t=e.firstChild,a=0;t;)n[a++]=t,t=t.nextSibling;n.length=a,delete n[n.length]}}}function cS(r,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:r.firstChild=n,n?n.previousSibling=i:r.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,lm(r.ownerDocument,r),e}function jP(r){return r&&(r.nodeType===St.DOCUMENT_NODE||r.nodeType===St.DOCUMENT_FRAGMENT_NODE||r.nodeType===St.ELEMENT_NODE)}function HP(r){return r&&(on(r)||cm(r)||Nn(r)||r.nodeType===St.DOCUMENT_FRAGMENT_NODE||r.nodeType===St.COMMENT_NODE||r.nodeType===St.PROCESSING_INSTRUCTION_NODE)}function Nn(r){return r&&r.nodeType===St.DOCUMENT_TYPE_NODE}function on(r){return r&&r.nodeType===St.ELEMENT_NODE}function cm(r){return r&&r.nodeType===St.TEXT_NODE}function H_(r,e){var i=r.childNodes||[];if(sn(i,on)||Nn(e))return!1;var n=sn(i,Nn);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function V_(r,e){var i=r.childNodes||[];function n(a){return on(a)&&a!==e}if(sn(i,n))return!1;var t=sn(i,Nn);return!(e&&t&&i.indexOf(t)>i.indexOf(e))}function VP(r,e,i){if(!jP(r))throw new Kt(Xr,"Unexpected parent node type "+r.nodeType);if(i&&i.parentNode!==r)throw new Kt(aS,"child not in parent");if(!HP(e)||Nn(e)&&r.nodeType!==St.DOCUMENT_NODE)throw new Kt(Xr,"Unexpected node type "+e.nodeType+" for parent node type "+r.nodeType)}function qP(r,e,i){var n=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===St.DOCUMENT_FRAGMENT_NODE){var a=t.filter(on);if(a.length>1||sn(t,cm))throw new Kt(Xr,"More than one element or text in fragment");if(a.length===1&&!H_(r,i))throw new Kt(Xr,"Element in fragment can not be inserted before doctype")}if(on(e)&&!H_(r,i))throw new Kt(Xr,"Only one element can be added and only after doctype");if(Nn(e)){if(sn(n,Nn))throw new Kt(Xr,"Only one doctype is allowed");var s=sn(n,on);if(i&&n.indexOf(s)<n.indexOf(i))throw new Kt(Xr,"Doctype can only be inserted before an element");if(!i&&s)throw new Kt(Xr,"Doctype can not be appended since element is present")}}function dS(r,e,i){var n=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===St.DOCUMENT_FRAGMENT_NODE){var a=t.filter(on);if(a.length>1||sn(t,cm))throw new Kt(Xr,"More than one element or text in fragment");if(a.length===1&&!V_(r,i))throw new Kt(Xr,"Element in fragment can not be inserted before doctype")}if(on(e)&&!V_(r,i))throw new Kt(Xr,"Only one element can be added and only after doctype");if(Nn(e)){if(sn(n,function(d){return Nn(d)&&d!==i}))throw new Kt(Xr,"Only one doctype is allowed");var s=sn(n,on);if(i&&n.indexOf(s)<n.indexOf(i))throw new Kt(Xr,"Doctype can only be inserted before an element")}}function hd(r,e,i,n){VP(r,e,i),r.nodeType===St.DOCUMENT_NODE&&(n||qP)(r,e,i);var t=e.parentNode;if(t&&t.removeChild(e),e.nodeType===Rn){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var l=i?i.previousSibling:r.lastChild;a.previousSibling=l,s.nextSibling=i,l?l.nextSibling=a:r.firstChild=a,i==null?r.lastChild=s:i.previousSibling=s;do a.parentNode=r;while(a!==s&&(a=a.nextSibling));return lm(r.ownerDocument||r,r),e.nodeType==Rn&&(e.firstChild=e.lastChild=null),e}function $P(r,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=r,e.previousSibling=r.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:r.firstChild=e,r.lastChild=e,lm(r.ownerDocument,r,e),e}yl.prototype={nodeName:"#document",nodeType:iS,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,e){if(r.nodeType==Rn){for(var i=r.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return r}return hd(this,r,e),r.ownerDocument=this,this.documentElement===null&&r.nodeType===Ni&&(this.documentElement=r),r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),cS(this,r)},replaceChild:function(r,e){hd(this,r,e,dS),r.ownerDocument=this,e&&this.removeChild(e),on(r)&&(this.documentElement=r)},importNode:function(r,e){return mS(this,r,e)},getElementById:function(r){var e=null;return nl(this.documentElement,function(i){if(i.nodeType==Ni&&i.getAttribute("id")==r)return e=i,!0}),e},getElementsByClassName:function(r){var e=M_(r);return new fo(this,function(i){var n=[];return e.length>0&&nl(i.documentElement,function(t){if(t!==i&&t.nodeType===Ni){var a=t.getAttribute("class");if(a){var s=r===a;if(!s){var l=M_(a);s=e.every(FP(l))}s&&n.push(t)}}}),n})},createElement:function(r){var e=new os;e.ownerDocument=this,e.nodeName=r,e.tagName=r,e.localName=r,e.childNodes=new Dn;var i=e.attributes=new fd;return i._ownerElement=e,e},createDocumentFragment:function(){var r=new nf;return r.ownerDocument=this,r.childNodes=new Dn,r},createTextNode:function(r){var e=new dm;return e.ownerDocument=this,e.appendData(r),e},createComment:function(r){var e=new fm;return e.ownerDocument=this,e.appendData(r),e},createCDATASection:function(r){var e=new hm;return e.ownerDocument=this,e.appendData(r),e},createProcessingInstruction:function(r,e){var i=new gm;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=r,i.nodeValue=i.data=e,i},createAttribute:function(r){var e=new pd;return e.ownerDocument=this,e.name=r,e.nodeName=r,e.localName=r,e.specified=!0,e},createEntityReference:function(r){var e=new pm;return e.ownerDocument=this,e.nodeName=r,e},createElementNS:function(r,e){var i=new os,n=e.split(":"),t=i.attributes=new fd;return i.childNodes=new Dn,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=r,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,t._ownerElement=i,i},createAttributeNS:function(r,e){var i=new pd,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=r,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};Zr(yl,St);function os(){this._nsMap={}}os.prototype={nodeType:Ni,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var e=this.getAttributeNode(r);return e&&e.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,e){var i=this.ownerDocument.createAttribute(r);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(r){var e=this.getAttributeNode(r);e&&this.removeAttributeNode(e)},appendChild:function(r){return r.nodeType===Rn?this.insertBefore(r,null):$P(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,e){var i=this.getAttributeNodeNS(r,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(r,e){return this.getAttributeNodeNS(r,e)!=null},getAttributeNS:function(r,e){var i=this.getAttributeNodeNS(r,e);return i&&i.value||""},setAttributeNS:function(r,e,i){var n=this.ownerDocument.createAttributeNS(r,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(r,e){return this.attributes.getNamedItemNS(r,e)},getElementsByTagName:function(r){return new fo(this,function(e){var i=[];return nl(e,function(n){n!==e&&n.nodeType==Ni&&(r==="*"||n.tagName==r)&&i.push(n)}),i})},getElementsByTagNameNS:function(r,e){return new fo(this,function(i){var n=[];return nl(i,function(t){t!==i&&t.nodeType===Ni&&(r==="*"||t.namespaceURI===r)&&(e==="*"||t.localName==e)&&n.push(t)}),n})}};yl.prototype.getElementsByTagName=os.prototype.getElementsByTagName;yl.prototype.getElementsByTagNameNS=os.prototype.getElementsByTagNameNS;Zr(os,St);function pd(){}pd.prototype.nodeType=co;Zr(pd,St);function bl(){}bl.prototype={data:"",substringData:function(r,e){return this.data.substring(r,r+e)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,e){this.replaceData(r,0,e)},appendChild:function(r){throw new Error(hr[Xr])},deleteData:function(r,e){this.replaceData(r,e,"")},replaceData:function(r,e,i){var n=this.data.substring(0,r),t=this.data.substring(r+e);i=n+i+t,this.nodeValue=this.data=i,this.length=i.length}};Zr(bl,St);function dm(){}dm.prototype={nodeName:"#text",nodeType:dd,splitText:function(r){var e=this.data,i=e.substring(r);e=e.substring(0,r),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Zr(dm,bl);function fm(){}fm.prototype={nodeName:"#comment",nodeType:rS};Zr(fm,bl);function hm(){}hm.prototype={nodeName:"#cdata-section",nodeType:ZT};Zr(hm,bl);function rf(){}rf.prototype.nodeType=nS;Zr(rf,St);function fS(){}fS.prototype.nodeType=BP;Zr(fS,St);function hS(){}hS.prototype.nodeType=MP;Zr(hS,St);function pm(){}pm.prototype.nodeType=eS;Zr(pm,St);function nf(){}nf.prototype.nodeName="#document-fragment";nf.prototype.nodeType=Rn;Zr(nf,St);function gm(){}gm.prototype.nodeType=tS;Zr(gm,St);function pS(){}pS.prototype.serializeToString=function(r,e,i){return gS.call(r,e,i)};St.prototype.toString=gS;function gS(r,e){var i=[],n=this.nodeType==9&&this.documentElement||this,t=n.prefix,a=n.namespaceURI;if(a&&t==null){var t=n.lookupPrefix(a);if(t==null)var s=[{namespace:a,prefix:null}]}return $s(this,i,r,e,s),i.join("")}function q_(r,e,i){var n=r.prefix||"",t=r.namespaceURI;if(!t||n==="xml"&&t===il.XML||t===il.XMLNS)return!1;for(var a=i.length;a--;){var s=i[a];if(s.prefix===n)return s.namespace!==t}return!0}function fp(r,e,i){r.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,uS),'"')}function $s(r,e,i,n,t){if(t||(t=[]),n)if(r=n(r),r){if(typeof r=="string"){e.push(r);return}}else return;switch(r.nodeType){case Ni:var a=r.attributes,s=a.length,R=r.firstChild,l=r.tagName;i=il.isHTML(r.namespaceURI)||i;var d=l;if(!i&&!r.prefix&&r.namespaceURI){for(var f,p=0;p<a.length;p++)if(a.item(p).name==="xmlns"){f=a.item(p).value;break}if(!f)for(var y=t.length-1;y>=0;y--){var _=t[y];if(_.prefix===""&&_.namespace===r.namespaceURI){f=_.namespace;break}}if(f!==r.namespaceURI)for(var y=t.length-1;y>=0;y--){var _=t[y];if(_.namespace===r.namespaceURI){_.prefix&&(d=_.prefix+":"+l);break}}}e.push("<",d);for(var x=0;x<s;x++){var A=a.item(x);A.prefix=="xmlns"?t.push({prefix:A.localName,namespace:A.value}):A.nodeName=="xmlns"&&t.push({prefix:"",namespace:A.value})}for(var x=0;x<s;x++){var A=a.item(x);if(q_(A,i,t)){var P=A.prefix||"",D=A.namespaceURI;fp(e,P?"xmlns:"+P:"xmlns",D),t.push({prefix:P,namespace:D})}$s(A,e,i,n,t)}if(l===d&&q_(r,i,t)){var P=r.prefix||"",D=r.namespaceURI;fp(e,P?"xmlns:"+P:"xmlns",D),t.push({prefix:P,namespace:D})}if(R||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),i&&/^script$/i.test(l))for(;R;)R.data?e.push(R.data):$s(R,e,i,n,t.slice()),R=R.nextSibling;else for(;R;)$s(R,e,i,n,t.slice()),R=R.nextSibling;e.push("</",d,">")}else e.push("/>");return;case iS:case Rn:for(var R=r.firstChild;R;)$s(R,e,i,n,t.slice()),R=R.nextSibling;return;case co:return fp(e,r.name,r.value);case dd:return e.push(r.data.replace(/[<&>]/g,uS));case ZT:return e.push("<![CDATA[",r.data,"]]>");case rS:return e.push("<!--",r.data,"-->");case nS:var F=r.publicId,V=r.systemId;if(e.push("<!DOCTYPE ",r.name),F)e.push(" PUBLIC ",F),V&&V!="."&&e.push(" ",V),e.push(">");else if(V&&V!=".")e.push(" SYSTEM ",V,">");else{var j=r.internalSubset;j&&e.push(" [",j,"]"),e.push(">")}return;case tS:return e.push("<?",r.target," ",r.data,"?>");case eS:return e.push("&",r.nodeName,";");default:e.push("??",r.nodeName)}}function mS(r,e,i){var n;switch(e.nodeType){case Ni:n=e.cloneNode(!1),n.ownerDocument=r;case Rn:break;case co:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=r,n.parentNode=null,i)for(var t=e.firstChild;t;)n.appendChild(mS(r,t,i)),t=t.nextSibling;return n}function eg(r,e,i){var n=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];typeof a!="object"&&a!=n[t]&&(n[t]=a)}switch(e.childNodes&&(n.childNodes=new Dn),n.ownerDocument=r,n.nodeType){case Ni:var s=e.attributes,l=n.attributes=new fd,d=s.length;l._ownerElement=n;for(var f=0;f<d;f++)n.setAttributeNode(eg(r,s.item(f),!0));break;case co:i=!0}if(i)for(var p=e.firstChild;p;)n.appendChild(eg(r,p,i)),p=p.nextSibling;return n}function vS(r,e,i){r[e]=i}try{if(Object.defineProperty){let r=function(e){switch(e.nodeType){case Ni:case Rn:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(r(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(fo.prototype,"length",{get:function(){return um(this),this.$$length}}),Object.defineProperty(St.prototype,"textContent",{get:function(){return r(this)},set:function(e){switch(this.nodeType){case Ni:case Rn:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),vS=function(e,i,n){e["$$"+i]=n}}}catch{}Ca.DocumentType=rf;Ca.DOMException=Kt;Ca.DOMImplementation=oS;Ca.Element=os;Ca.Node=St;Ca.NodeList=Dn;Ca.XMLSerializer=pS;var af={},_S={};(function(r){var e=Un.freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}),r.entityMap=r.HTML_ENTITIES})(_S);var mm={},al=Un.NAMESPACE,tg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$_=new RegExp("[\\-\\.0-9"+tg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),W_=new RegExp("^"+tg.source+$_.source+"*(?::"+tg.source+$_.source+"*)?$"),yu=0,ua=1,Fs=2,bu=3,Ms=4,Bs=5,Tu=6,Lc=7;function ho(r,e){this.message=r,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ho)}ho.prototype=new Error;ho.prototype.name=ho.name;function yS(){}yS.prototype={parse:function(r,e,i){var n=this.domBuilder;n.startDocument(),bS(e,e={}),WP(r,e,i,n,this.errorHandler),n.endDocument()}};function WP(r,e,i,n,t){function a(me){if(me>65535){me-=65536;var Ae=55296+(me>>10),Fe=56320+(me&1023);return String.fromCharCode(Ae,Fe)}else return String.fromCharCode(me)}function s(me){var Ae=me.slice(1,-1);return Object.hasOwnProperty.call(i,Ae)?i[Ae]:Ae.charAt(0)==="#"?a(parseInt(Ae.substr(1).replace("x","0x"))):(t.error("entity not found:"+me),me)}function l(me){if(me>P){var Ae=r.substring(P,me).replace(/&#?\w+;/g,s);_&&d(P),n.characters(Ae,0,me-P),P=me}}function d(me,Ae){for(;me>=p&&(Ae=y.exec(r));)f=Ae.index,p=f+Ae[0].length,_.lineNumber++;_.columnNumber=me-f+1}for(var f=0,p=0,y=/.*(?:\r\n?|\n)|.*$/g,_=n.locator,x=[{currentNSMap:e}],A={},P=0;;){try{var D=r.indexOf("<",P);if(D<0){if(!r.substr(P).match(/^\s*$/)){var R=n.doc,F=R.createTextNode(r.substr(P));R.appendChild(F),n.currentElement=F}return}switch(D>P&&l(D),r.charAt(D+1)){case"/":var ae=r.indexOf(">",D+3),V=r.substring(D+2,ae).replace(/[ \t\n\r]+$/g,""),j=x.pop();ae<0?(V=r.substring(D+2).replace(/[\s<].*/,""),t.error("end tag name: "+V+" is not complete:"+j.tagName),ae=D+1+V.length):V.match(/\s</)&&(V=V.replace(/[\s<].*/,""),t.error("end tag name: "+V+" maybe not complete"),ae=D+1+V.length);var K=j.localNSMap,Z=j.tagName==V,Q=Z||j.tagName&&j.tagName.toLowerCase()==V.toLowerCase();if(Q){if(n.endElement(j.uri,j.localName,V),K)for(var U in K)Object.prototype.hasOwnProperty.call(K,U)&&n.endPrefixMapping(U);Z||t.fatalError("end tag name: "+V+" is not match the current start tagName:"+j.tagName)}else x.push(j);ae++;break;case"?":_&&d(D),ae=JP(r,D,n);break;case"!":_&&d(D),ae=XP(r,D,n,t);break;default:_&&d(D);var z=new TS,Y=x[x.length-1].currentNSMap,ae=GP(r,D,z,Y,s,t),te=z.length;if(!z.closed&&KP(r,ae,z.tagName,A)&&(z.closed=!0,i.nbsp||t.warning("unclosed xml attribute")),_&&te){for(var le=G_(_,{}),Ne=0;Ne<te;Ne++){var Be=z[Ne];d(Be.offset),Be.locator=G_(_,{})}n.locator=le,z_(z,n,Y)&&x.push(z),n.locator=_}else z_(z,n,Y)&&x.push(z);al.isHTML(z.uri)&&!z.closed?ae=zP(r,ae,z.tagName,s,n):ae++}}catch(me){if(me instanceof ho)throw me;t.error("element parse error: "+me),ae=-1}ae>P?P=ae:l(Math.max(D,P)+1)}}function G_(r,e){return e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber,e}function GP(r,e,i,n,t,a){function s(_,x,A){i.attributeNames.hasOwnProperty(_)&&a.fatalError("Attribute "+_+" redefined"),i.addValue(_,x.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,t),A)}for(var l,d,f=++e,p=yu;;){var y=r.charAt(f);switch(y){case"=":if(p===ua)l=r.slice(e,f),p=bu;else if(p===Fs)p=bu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(p===bu||p===ua)if(p===ua&&(a.warning('attribute value must after "="'),l=r.slice(e,f)),e=f+1,f=r.indexOf(y,e),f>0)d=r.slice(e,f),s(l,d,e-1),p=Bs;else throw new Error("attribute value no end '"+y+"' match");else if(p==Ms)d=r.slice(e,f),s(l,d,e),a.warning('attribute "'+l+'" missed start quot('+y+")!!"),e=f+1,p=Bs;else throw new Error('attribute value must after "="');break;case"/":switch(p){case yu:i.setTagName(r.slice(e,f));case Bs:case Tu:case Lc:p=Lc,i.closed=!0;case Ms:case ua:break;case Fs:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),p==yu&&i.setTagName(r.slice(e,f)),f;case">":switch(p){case yu:i.setTagName(r.slice(e,f));case Bs:case Tu:case Lc:break;case Ms:case ua:d=r.slice(e,f),d.slice(-1)==="/"&&(i.closed=!0,d=d.slice(0,-1));case Fs:p===Fs&&(d=l),p==Ms?(a.warning('attribute "'+d+'" missed quot(")!'),s(l,d,e)):((!al.isHTML(n[""])||!d.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,e));break;case bu:throw new Error("attribute value missed!!")}return f;case"\x80":y=" ";default:if(y<=" ")switch(p){case yu:i.setTagName(r.slice(e,f)),p=Tu;break;case ua:l=r.slice(e,f),p=Fs;break;case Ms:var d=r.slice(e,f);a.warning('attribute "'+d+'" missed quot(")!!'),s(l,d,e);case Bs:p=Tu;break}else switch(p){case Fs:i.tagName,(!al.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,e),e=f,p=ua;break;case Bs:a.warning('attribute space is required"'+l+'"!!');case Tu:p=ua,e=f;break;case bu:p=Ms,e=f;break;case Lc:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function z_(r,e,i){for(var n=r.tagName,t=null,y=r.length;y--;){var a=r[y],s=a.qName,l=a.value,_=s.indexOf(":");if(_>0)var d=a.prefix=s.slice(0,_),f=s.slice(_+1),p=d==="xmlns"&&f;else f=s,d=null,p=s==="xmlns"&&"";a.localName=f,p!==!1&&(t==null&&(t={},bS(i,i={})),i[p]=t[p]=l,a.uri=al.XMLNS,e.startPrefixMapping(p,l))}for(var y=r.length;y--;){a=r[y];var d=a.prefix;d&&(d==="xml"&&(a.uri=al.XML),d!=="xmlns"&&(a.uri=i[d||""]))}var _=n.indexOf(":");_>0?(d=r.prefix=n.slice(0,_),f=r.localName=n.slice(_+1)):(d=null,f=r.localName=n);var x=r.uri=i[d||""];if(e.startElement(x,f,n,r),r.closed){if(e.endElement(x,f,n),t)for(d in t)Object.prototype.hasOwnProperty.call(t,d)&&e.endPrefixMapping(d)}else return r.currentNSMap=i,r.localNSMap=t,!0}function zP(r,e,i,n,t){if(/^(?:script|textarea)$/i.test(i)){var a=r.indexOf("</"+i+">",e),s=r.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(i)?(t.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,n),t.characters(s,0,s.length),a)}return e+1}function KP(r,e,i,n){var t=n[i];return t==null&&(t=r.lastIndexOf("</"+i+">"),t<e&&(t=r.lastIndexOf("</"+i)),n[i]=t),t<e}function bS(r,e){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}function XP(r,e,i,n){var t=r.charAt(e+2);switch(t){case"-":if(r.charAt(e+3)==="-"){var a=r.indexOf("-->",e+4);return a>e?(i.comment(r,e+4,a-e-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(r.substr(e+3,6)=="CDATA["){var a=r.indexOf("]]>",e+9);return i.startCDATA(),i.characters(r,e+9,a-e-9),i.endCDATA(),a+3}var s=YP(r,e),l=s.length;if(l>1&&/!doctype/i.test(s[0][0])){var d=s[1][0],f=!1,p=!1;l>3&&(/^public$/i.test(s[2][0])?(f=s[3][0],p=l>4&&s[4][0]):/^system$/i.test(s[2][0])&&(p=s[3][0]));var y=s[l-1];return i.startDTD(d,f,p),i.endDTD(),y.index+y[0].length}}return-1}function JP(r,e,i){var n=r.indexOf("?>",e);if(n){var t=r.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,i.processingInstruction(t[1],t[2]),n+2):-1}return-1}function TS(){this.attributeNames={}}TS.prototype={setTagName:function(r){if(!W_.test(r))throw new Error("invalid tagName:"+r);this.tagName=r},addValue:function(r,e,i){if(!W_.test(r))throw new Error("invalid attribute:"+r);this.attributeNames[r]=this.length,this[this.length++]={qName:r,value:e,offset:i}},length:0,getLocalName:function(r){return this[r].localName},getLocator:function(r){return this[r].locator},getQName:function(r){return this[r].qName},getURI:function(r){return this[r].uri},getValue:function(r){return this[r].value}};function YP(r,e){var i,n=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(r);i=t.exec(r);)if(n.push(i),i[1])return n}mm.XMLReader=yS;mm.ParseError=ho;var QP=Un,ZP=Ca,K_=_S,SS=mm,eI=ZP.DOMImplementation,X_=QP.NAMESPACE,tI=SS.ParseError,rI=SS.XMLReader;function xS(r){return r.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function ES(r){this.options=r||{locator:{}}}ES.prototype.parseFromString=function(r,e){var i=this.options,n=new rI,t=i.domBuilder||new Tl,a=i.errorHandler,s=i.locator,l=i.xmlns||{},d=/\/x?html?$/.test(e),f=d?K_.HTML_ENTITIES:K_.XML_ENTITIES;s&&t.setDocumentLocator(s),n.errorHandler=iI(a,t,s),n.domBuilder=i.domBuilder||t,d&&(l[""]=X_.HTML),l.xml=l.xml||X_.XML;var p=i.normalizeLineEndings||xS;return r&&typeof r=="string"?n.parse(p(r),l,f):n.errorHandler.error("invalid doc source"),t.doc};function iI(r,e,i){if(!r){if(e instanceof Tl)return e;r=e}var n={},t=r instanceof Function;i=i||{};function a(s){var l=r[s];!l&&t&&(l=r.length==2?function(d){r(s,d)}:r),n[s]=l&&function(d){l("[xmldom "+s+"]	"+d+rg(i))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function Tl(){this.cdata=!1}function Us(r,e){e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber}Tl.prototype={startDocument:function(){this.doc=new eI().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(r,e,i,n){var t=this.doc,a=t.createElementNS(r,i||e),s=n.length;Rc(this,a),this.currentElement=a,this.locator&&Us(this.locator,a);for(var l=0;l<s;l++){var r=n.getURI(l),d=n.getValue(l),i=n.getQName(l),f=t.createAttributeNS(r,i);this.locator&&Us(n.getLocator(l),f),f.value=f.nodeValue=d,a.setAttributeNode(f)}},endElement:function(r,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(r,e){},endPrefixMapping:function(r){},processingInstruction:function(r,e){var i=this.doc.createProcessingInstruction(r,e);this.locator&&Us(this.locator,i),Rc(this,i)},ignorableWhitespace:function(r,e,i){},characters:function(r,e,i){if(r=J_.apply(this,arguments),r){if(this.cdata)var n=this.doc.createCDATASection(r);else var n=this.doc.createTextNode(r);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(r)&&this.doc.appendChild(n),this.locator&&Us(this.locator,n)}},skippedEntity:function(r){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(r){(this.locator=r)&&(r.lineNumber=0)},comment:function(r,e,i){r=J_.apply(this,arguments);var n=this.doc.createComment(r);this.locator&&Us(this.locator,n),Rc(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(r,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var t=n.createDocumentType(r,e,i);this.locator&&Us(this.locator,t),Rc(this,t),this.doc.doctype=t}},warning:function(r){console.warn("[xmldom warning]	"+r,rg(this.locator))},error:function(r){console.error("[xmldom error]	"+r,rg(this.locator))},fatalError:function(r){throw new tI(r,this.locator)}};function rg(r){if(r)return`
@`+(r.systemId||"")+"#[line:"+r.lineNumber+",col:"+r.columnNumber+"]"}function J_(r,e,i){return typeof r=="string"?r.substr(e,i):r.length>=e+i||e?new java.lang.String(r,e,i)+"":r}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(r){Tl.prototype[r]=function(){return null}});function Rc(r,e){r.currentElement?r.currentElement.appendChild(e):r.doc.appendChild(e)}af.__DOMHandler=Tl;af.normalizeLineEndings=xS;af.DOMParser=ES;var nI=af.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var Y_=function(e){return!!e&&typeof e=="object"},Ur=function r(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(t,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(t[s])&&Array.isArray(a[s])?t[s]=t[s].concat(a[s]):Y_(t[s])&&Y_(a[s])?t[s]=r(t[s],a[s]):t[s]=a[s]}),t},{})},CS=function(e){return Object.keys(e).map(function(i){return e[i]})},aI=function(e,i){for(var n=[],t=e;t<i;t++)n.push(t);return n},sf=function(e){return e.reduce(function(i,n){return i.concat(n)},[])},wS=function(e){if(!e.length)return[];for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i},sI=function(e,i){return e.reduce(function(n,t,a){return t[i]&&n.push(a),n},[])},ig=function(e,i){for(var n=0;n<e.length;n++)if(i(e[n]))return n;return-1},oI=function(e,i){return CS(e.reduce(function(n,t){return t.forEach(function(a){n[i(a)]=a}),n},{}))},po={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},sl=function(e){var i=e.baseUrl,n=i===void 0?"":i,t=e.source,a=t===void 0?"":t,s=e.range,l=s===void 0?"":s,d=e.indexRange,f=d===void 0?"":d,p={uri:a,resolvedUri:tf(n||"",a)};if(l||f){var y=l||f,_=y.split("-"),x=H.BigInt?H.BigInt(_[0]):parseInt(_[0],10),A=H.BigInt?H.BigInt(_[1]):parseInt(_[1],10);x<Number.MAX_SAFE_INTEGER&&typeof x=="bigint"&&(x=Number(x)),A<Number.MAX_SAFE_INTEGER&&typeof A=="bigint"&&(A=Number(A));var P;typeof A=="bigint"||typeof x=="bigint"?P=H.BigInt(A)-H.BigInt(x)+H.BigInt(1):P=A-x+1,typeof P=="bigint"&&P<Number.MAX_SAFE_INTEGER&&(P=Number(P)),p.byterange={length:P,offset:x}}return p},uI=function(e){var i;return typeof e.offset=="bigint"||typeof e.length=="bigint"?i=H.BigInt(e.offset)+H.BigInt(e.length)-H.BigInt(1):i=e.offset+e.length-1,e.offset+"-"+i},Q_=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},lI={static:function(e){var i=e.duration,n=e.timescale,t=n===void 0?1:n,a=e.sourceDuration,s=e.periodDuration,l=Q_(e.endNumber),d=i/t;return typeof l=="number"?{start:0,end:l}:typeof s=="number"?{start:0,end:s/d}:{start:0,end:a/d}},dynamic:function(e){var i=e.NOW,n=e.clientOffset,t=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,l=e.duration,d=e.periodStart,f=d===void 0?0:d,p=e.minimumUpdatePeriod,y=p===void 0?0:p,_=e.timeShiftBufferDepth,x=_===void 0?1/0:_,A=Q_(e.endNumber),P=(i+n)/1e3,D=t+f,R=P+y,F=R-D,V=Math.ceil(F*s/l),j=Math.floor((P-D-x)*s/l),K=Math.floor((P-D)*s/l);return{start:Math.max(0,j),end:typeof A=="number"?A:Math.min(V,K)}}},cI=function(e){return function(i){var n=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodStart,l=e.startNumber,d=l===void 0?1:l;return{number:d+i,duration:n/a,timeline:s,time:i*n}}},vm=function(e){var i=e.type,n=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodDuration,l=e.sourceDuration,d=lI[i](e),f=d.start,p=d.end,y=aI(f,p).map(cI(e));if(i==="static"){var _=y.length-1,x=typeof s=="number"?s:l;y[_].duration=x-n/a*_}return y},AS=function(e){var i=e.baseUrl,n=e.initialization,t=n===void 0?{}:n,a=e.sourceDuration,s=e.indexRange,l=s===void 0?"":s,d=e.periodStart,f=e.presentationTime,p=e.number,y=p===void 0?0:p,_=e.duration;if(!i)throw new Error(po.NO_BASE_URL);var x=sl({baseUrl:i,source:t.sourceURL,range:t.range}),A=sl({baseUrl:i,source:i,indexRange:l});if(A.map=x,_){var P=vm(e);P.length&&(A.duration=P[0].duration,A.timeline=P[0].timeline)}else a&&(A.duration=a,A.timeline=d);return A.presentationTime=f||d,A.number=y,[A]},_m=function(e,i,n){var t=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,l=e.sidx.byterange,d=l.offset+l.length,f=i.timescale,p=i.references.filter(function(z){return z.referenceType!==1}),y=[],_=e.endList?"static":"dynamic",x=e.sidx.timeline,A=x,P=e.mediaSequence||0,D;typeof i.firstOffset=="bigint"?D=H.BigInt(d)+i.firstOffset:D=d+i.firstOffset;for(var R=0;R<p.length;R++){var F=i.references[R],V=F.referencedSize,j=F.subsegmentDuration,K=void 0;typeof D=="bigint"?K=D+H.BigInt(V)-H.BigInt(1):K=D+V-1;var Z=D+"-"+K,Q={baseUrl:n,timescale:f,timeline:s,periodStart:x,presentationTime:A,number:P,duration:j,sourceDuration:a,indexRange:Z,type:_},U=AS(Q)[0];t&&(U.map=t),y.push(U),typeof D=="bigint"?D+=H.BigInt(V):D+=V,A+=j/f,P++}return e.segments=y,e},dI=["AUDIO","SUBTITLES"],fI=1/60,kS=function(e){return oI(e,function(i){var n=i.timeline;return n}).sort(function(i,n){return i.timeline>n.timeline?1:-1})},hI=function(e,i){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===i)return e[n];return null},Z_=function(e){var i=[];return PP(e,dI,function(n,t,a,s){i=i.concat(n.playlists||[])}),i},ey=function(e){var i=e.playlist,n=e.mediaSequence;i.mediaSequence=n,i.segments.forEach(function(t,a){t.number=i.mediaSequence+a})},pI=function(e){var i=e.oldPlaylists,n=e.newPlaylists,t=e.timelineStarts;n.forEach(function(a){a.discontinuitySequence=ig(t,function(p){var y=p.timeline;return y===a.timeline});var s=hI(i,a.attributes.NAME);if(!!s&&!a.sidx){var l=a.segments[0],d=ig(s.segments,function(p){return Math.abs(p.presentationTime-l.presentationTime)<fI});if(d===-1){ey({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var f=s.segments[d];f.discontinuity&&!l.discontinuity&&(l.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),ey({playlist:a,mediaSequence:s.segments[d].number})}})},gI=function(e){var i=e.oldManifest,n=e.newManifest,t=i.playlists.concat(Z_(i)),a=n.playlists.concat(Z_(n));return n.timelineStarts=kS([i.timelineStarts,n.timelineStarts]),pI({oldPlaylists:t,newPlaylists:a,timelineStarts:n.timelineStarts}),n},of=function(e){return e&&e.uri+"-"+uI(e.byterange)},hp=function(e){var i=CS(e.reduce(function(n,t){var a=t.attributes.id+(t.attributes.lang||"");if(!n[a])n[a]=t,n[a].attributes.timelineStarts=[];else{if(t.segments){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=n[a].segments).push.apply(s,t.segments)}t.attributes.contentProtection&&(n[a].attributes.contentProtection=t.attributes.contentProtection)}return n[a].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),n},{}));return i.map(function(n){return n.discontinuityStarts=sI(n.segments||[],"discontinuity"),n})},ym=function(e,i){var n=of(e.sidx),t=n&&i[n]&&i[n].sidx;return t&&_m(e,t,e.sidx.resolvedUri),e},mI=function(e,i){if(i===void 0&&(i={}),!Object.keys(i).length)return e;for(var n in e)e[n]=ym(e[n],i);return e},vI=function(e,i){var n,t=e.attributes,a=e.segments,s=e.sidx,l=e.mediaSequence,d=e.discontinuitySequence,f=e.discontinuityStarts,p={attributes:(n={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:d,discontinuityStarts:f,timelineStarts:t.timelineStarts,mediaSequence:l,segments:a};return t.contentProtection&&(p.contentProtection=t.contentProtection),s&&(p.sidx=s),i&&(p.attributes.AUDIO="audio",p.attributes.SUBTITLES="subs"),p},_I=function(e){var i,n=e.attributes,t=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,l=e.discontinuitySequence;typeof t>"u"&&(t=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var d=(i={NAME:n.id,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i);return n.codecs&&(d.CODECS=n.codecs),{attributes:d,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:s,discontinuitySequence:l,mediaSequence:a,segments:t}},yI=function(e,i,n){i===void 0&&(i={}),n===void 0&&(n=!1);var t,a=e.reduce(function(l,d){var f=d.attributes.role&&d.attributes.role.value||"",p=d.attributes.lang||"",y=d.attributes.label||"main";if(p&&!d.attributes.label){var _=f?" ("+f+")":"";y=""+d.attributes.lang+_}l[y]||(l[y]={language:p,autoselect:!0,default:f==="main",playlists:[],uri:""});var x=ym(vI(d,n),i);return l[y].playlists.push(x),typeof t>"u"&&f==="main"&&(t=d,t.default=!0),l},{});if(!t){var s=Object.keys(a)[0];a[s].default=!0}return a},bI=function(e,i){return i===void 0&&(i={}),e.reduce(function(n,t){var a=t.attributes.lang||"text";return n[a]||(n[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),n[a].playlists.push(ym(_I(t),i)),n},{})},TI=function(e){return e.reduce(function(i,n){return n&&n.forEach(function(t){var a=t.channel,s=t.language;i[s]={autoselect:!1,default:!1,instreamId:a,language:s},t.hasOwnProperty("aspectRatio")&&(i[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(i[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(i[s]["3D"]=t["3D"])}),i},{})},SI=function(e){var i,n=e.attributes,t=e.segments,a=e.sidx,s=e.discontinuityStarts,l={attributes:(i={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:s,timelineStarts:n.timelineStarts,segments:t};return n.frameRate&&(l.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(l.contentProtection=n.contentProtection),a&&(l.sidx=a),l},xI=function(e){var i=e.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},EI=function(e){var i=e.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},CI=function(e){var i=e.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},wI=function(e,i){e.forEach(function(n){n.mediaSequence=0,n.discontinuitySequence=ig(i,function(t){var a=t.timeline;return a===n.timeline}),n.segments&&n.segments.forEach(function(t,a){t.number=a})})},ty=function(e){return e?Object.keys(e).reduce(function(i,n){var t=e[n];return i.concat(t.playlists)},[]):[]},AI=function(e){var i,n=e.dashPlaylists,t=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,l=e.previousManifest;if(!n.length)return{};var d=n[0].attributes,f=d.sourceDuration,p=d.type,y=d.suggestedPresentationDelay,_=d.minimumUpdatePeriod,x=hp(n.filter(xI)).map(SI),A=hp(n.filter(EI)),P=hp(n.filter(CI)),D=n.map(function(Q){return Q.attributes.captionServices}).filter(Boolean),R={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:f,playlists:mI(x,s)};_>=0&&(R.minimumUpdatePeriod=_*1e3),t&&(R.locations=t),p==="dynamic"&&(R.suggestedPresentationDelay=y);var F=R.playlists.length===0,V=A.length?yI(A,s,F):null,j=P.length?bI(P,s):null,K=x.concat(ty(V),ty(j)),Z=K.map(function(Q){var U=Q.timelineStarts;return U});return R.timelineStarts=kS(Z),wI(K,R.timelineStarts),V&&(R.mediaGroups.AUDIO.audio=V),j&&(R.mediaGroups.SUBTITLES.subs=j),D.length&&(R.mediaGroups["CLOSED-CAPTIONS"].cc=TI(D)),l?gI({oldManifest:l,newManifest:R}):R},kI=function(e,i,n){var t=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,l=e.timescale,d=l===void 0?1:l,f=e.periodStart,p=f===void 0?0:f,y=e.minimumUpdatePeriod,_=y===void 0?0:y,x=(t+a)/1e3,A=s+p,P=x+_,D=P-A;return Math.ceil((D*d-i)/n)},DS=function(e,i){for(var n=e.type,t=e.minimumUpdatePeriod,a=t===void 0?0:t,s=e.media,l=s===void 0?"":s,d=e.sourceDuration,f=e.timescale,p=f===void 0?1:f,y=e.startNumber,_=y===void 0?1:y,x=e.periodStart,A=[],P=-1,D=0;D<i.length;D++){var R=i[D],F=R.d,V=R.r||0,j=R.t||0;P<0&&(P=j),j&&j>P&&(P=j);var K=void 0;if(V<0){var Z=D+1;Z===i.length?n==="dynamic"&&a>0&&l.indexOf("$Number$")>0?K=kI(e,P,F):K=(d*p-P)/F:K=(i[Z].t-P)/F}else K=V+1;for(var Q=_+A.length+K,U=_+A.length;U<Q;)A.push({number:U,duration:F/p,time:P,timeline:x}),P+=F,U++}return A},DI=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,PI=function(e){return function(i,n,t,a){if(i==="$$")return"$";if(typeof e[n]>"u")return i;var s=""+e[n];return n==="RepresentationID"||(t?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},ry=function(e,i){return e.replace(DI,PI(i))},II=function(e,i){return!e.duration&&!i?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?vm(e):DS(e,i)},OI=function(e,i){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,a=t===void 0?{sourceURL:"",range:""}:t,s=sl({baseUrl:e.baseUrl,source:ry(a.sourceURL,n),range:a.range}),l=II(e,i);return l.map(function(d){n.Number=d.number,n.Time=d.time;var f=ry(e.media||"",n),p=e.timescale||1,y=e.presentationTimeOffset||0,_=e.periodStart+(d.time-y)/p,x={uri:f,timeline:d.timeline,duration:d.duration,resolvedUri:tf(e.baseUrl||"",f),map:s,number:d.number,presentationTime:_};return x})},LI=function(e,i){var n=e.baseUrl,t=e.initialization,a=t===void 0?{}:t,s=sl({baseUrl:n,source:a.sourceURL,range:a.range}),l=sl({baseUrl:n,source:i.media,range:i.mediaRange});return l.map=s,l},RI=function(e,i){var n=e.duration,t=e.segmentUrls,a=t===void 0?[]:t,s=e.periodStart;if(!n&&!i||n&&i)throw new Error(po.SEGMENT_TIME_UNSPECIFIED);var l=a.map(function(p){return LI(e,p)}),d;n&&(d=vm(e)),i&&(d=DS(e,i));var f=d.map(function(p,y){if(l[y]){var _=l[y],x=e.timescale||1,A=e.presentationTimeOffset||0;return _.timeline=p.timeline,_.duration=p.duration,_.number=p.number,_.presentationTime=s+(p.time-A)/x,_}}).filter(function(p){return p});return f},NI=function(e){var i=e.attributes,n=e.segmentInfo,t,a;n.template?(a=OI,t=Ur(i,n.template)):n.base?(a=AS,t=Ur(i,n.base)):n.list&&(a=RI,t=Ur(i,n.list));var s={attributes:i};if(!a)return s;var l=a(t,n.segmentTimeline);if(t.duration){var d=t,f=d.duration,p=d.timescale,y=p===void 0?1:p;t.duration=f/y}else l.length?t.duration=l.reduce(function(_,x){return Math.max(_,Math.ceil(x.duration))},0):t.duration=0;return s.attributes=t,s.segments=l,n.base&&t.indexRange&&(s.sidx=l[0],s.segments=[]),s},FI=function(e){return e.map(NI)},Gt=function(e,i){return wS(e.childNodes).filter(function(n){var t=n.tagName;return t===i})},bm=function(e){return e.textContent.trim()},MI=function(e){return parseFloat(e.split("/").reduce(function(i,n){return i/n}))},js=function(e){var i=31536e3,n=30*24*60*60,t=24*60*60,a=60*60,s=60,l=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,d=l.exec(e);if(!d)return 0;var f=d.slice(1),p=f[0],y=f[1],_=f[2],x=f[3],A=f[4],P=f[5];return parseFloat(p||0)*i+parseFloat(y||0)*n+parseFloat(_||0)*t+parseFloat(x||0)*a+parseFloat(A||0)*s+parseFloat(P||0)},BI=function(e){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(e)&&(e+="Z"),Date.parse(e)},iy={mediaPresentationDuration:function(e){return js(e)},availabilityStartTime:function(e){return BI(e)/1e3},minimumUpdatePeriod:function(e){return js(e)},suggestedPresentationDelay:function(e){return js(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return js(e)},start:function(e){return js(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return MI(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var i=parseInt(e,10);return isNaN(i)?js(e):i},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Dr=function(e){return e&&e.attributes?wS(e.attributes).reduce(function(i,n){var t=iy[n.name]||iy.DEFAULT;return i[n.name]=t(n.value),i},{}):{}},UI={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},uf=function(e,i){return i.length?sf(e.map(function(n){return i.map(function(t){return tf(n,bm(t))})})):e},Tm=function(e){var i=Gt(e,"SegmentTemplate")[0],n=Gt(e,"SegmentList")[0],t=n&&Gt(n,"SegmentURL").map(function(_){return Ur({tag:"SegmentURL"},Dr(_))}),a=Gt(e,"SegmentBase")[0],s=n||i,l=s&&Gt(s,"SegmentTimeline")[0],d=n||a||i,f=d&&Gt(d,"Initialization")[0],p=i&&Dr(i);p&&f?p.initialization=f&&Dr(f):p&&p.initialization&&(p.initialization={sourceURL:p.initialization});var y={template:p,segmentTimeline:l&&Gt(l,"S").map(function(_){return Dr(_)}),list:n&&Ur(Dr(n),{segmentUrls:t,initialization:Dr(f)}),base:a&&Ur(Dr(a),{initialization:Dr(f)})};return Object.keys(y).forEach(function(_){y[_]||delete y[_]}),y},jI=function(e,i,n){return function(t){var a=Gt(t,"BaseURL"),s=uf(i,a),l=Ur(e,Dr(t)),d=Tm(t);return s.map(function(f){return{segmentInfo:Ur(n,d),attributes:Ur(l,{baseUrl:f})}})}},HI=function(e){return e.reduce(function(i,n){var t=Dr(n);t.schemeIdUri&&(t.schemeIdUri=t.schemeIdUri.toLowerCase());var a=UI[t.schemeIdUri];if(a){i[a]={attributes:t};var s=Gt(n,"cenc:pssh")[0];if(s){var l=bm(s);i[a].pssh=l&&$T(l)}}return i},{})},VI=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(t){var a,s;if(s=t,/^CC\d=/.test(t)){var l=t.split("=");a=l[0],s=l[1]}else/^CC\d$/.test(t)&&(a=t);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(t){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),l=s[0],d=s[1],f=d===void 0?"":d;a.channel=l,a.language=t,f.split(",").forEach(function(p){var y=p.split(":"),_=y[0],x=y[1];_==="lang"?a.language=x:_==="er"?a.easyReader=Number(x):_==="war"?a.aspectRatio=Number(x):_==="3D"&&(a["3D"]=Number(x))})}else a.language=t;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},qI=function(e,i,n){return function(t){var a=Dr(t),s=uf(i,Gt(t,"BaseURL")),l=Gt(t,"Role")[0],d={role:Dr(l)},f=Ur(e,a,d),p=Gt(t,"Accessibility")[0],y=VI(Dr(p));y&&(f=Ur(f,{captionServices:y}));var _=Gt(t,"Label")[0];if(_&&_.childNodes.length){var x=_.childNodes[0].nodeValue.trim();f=Ur(f,{label:x})}var A=HI(Gt(t,"ContentProtection"));Object.keys(A).length&&(f=Ur(f,{contentProtection:A}));var P=Tm(t),D=Gt(t,"Representation"),R=Ur(n,P);return sf(D.map(jI(f,s,R)))}},$I=function(e,i){return function(n,t){var a=uf(i,Gt(n.node,"BaseURL")),s=Ur(e,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);var l=Gt(n.node,"AdaptationSet"),d=Tm(n.node);return sf(l.map(qI(s,a,d)))}},WI=function(e){var i=e.attributes,n=e.priorPeriodAttributes,t=e.mpdType;return typeof i.start=="number"?i.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&t==="static"?0:null},GI=function(e,i){i===void 0&&(i={});var n=i,t=n.manifestUri,a=t===void 0?"":t,s=n.NOW,l=s===void 0?Date.now():s,d=n.clientOffset,f=d===void 0?0:d,p=Gt(e,"Period");if(!p.length)throw new Error(po.INVALID_NUMBER_OF_PERIOD);var y=Gt(e,"Location"),_=Dr(e),x=uf([a],Gt(e,"BaseURL"));_.type=_.type||"static",_.sourceDuration=_.mediaPresentationDuration||0,_.NOW=l,_.clientOffset=f,y.length&&(_.locations=y.map(bm));var A=[];return p.forEach(function(P,D){var R=Dr(P),F=A[D-1];R.start=WI({attributes:R,priorPeriodAttributes:F?F.attributes:null,mpdType:_.type}),A.push({node:P,attributes:R})}),{locations:_.locations,representationInfo:sf(A.map($I(_,x)))}},PS=function(e){if(e==="")throw new Error(po.DASH_EMPTY_MANIFEST);var i=new nI,n,t;try{n=i.parseFromString(e,"application/xml"),t=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(po.DASH_INVALID_XML);return t},zI=function(e){var i=Gt(e,"UTCTiming")[0];if(!i)return null;var n=Dr(i);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(po.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},KI=function(e,i){i===void 0&&(i={});var n=GI(PS(e),i),t=FI(n.representationInfo);return AI({dashPlaylists:t,locations:n.locations,sidxMapping:i.sidxMapping,previousManifest:i.previousManifest})},XI=function(e){return zI(PS(e))},IS=Math.pow(2,32),JI=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*IS+e.getUint32(4)},YI={getUint64:JI,MAX_UINT32:IS},ny=YI.getUint64,QI=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),i={version:r[0],flags:new Uint8Array(r.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=ny(r.subarray(n)),i.firstOffset=ny(r.subarray(n+8)),n+=16),n+=2;var t=e.getUint16(n);for(n+=2;t>0;n+=12,t--)i.references.push({referenceType:(r[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(r[n+8]&128),sapType:(r[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},ZI=QI,eO=Ve([73,68,51]),tO=function(e,i){i===void 0&&(i=0),e=Ve(e);var n=e[i+5],t=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],a=(n&16)>>4;return a?t+20:t+10},Pu=function r(e,i){return i===void 0&&(i=0),e=Ve(e),e.length-i<10||!Mt(e,eO,{offset:i})?i:(i+=tO(e,i),r(e,i))},ay=function(e){return typeof e=="string"?XT(e):e},rO=function(e){return Array.isArray(e)?e.map(function(i){return ay(i)}):[ay(e)]},iO=function r(e,i,n){n===void 0&&(n=!1),i=rO(i),e=Ve(e);var t=[];if(!i.length)return t;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,l=e.subarray(a+4,a+8);if(s===0)break;var d=a+s;if(d>e.length){if(n)break;d=e.length}var f=e.subarray(a+8,d);Mt(l,i[0])&&(i.length===1?t.push(f):t.push.apply(t,r(f,i.slice(1),n))),a=d}return t},Nc={EBML:Ve([26,69,223,163]),DocType:Ve([66,130]),Segment:Ve([24,83,128,103]),SegmentInfo:Ve([21,73,169,102]),Tracks:Ve([22,84,174,107]),Track:Ve([174]),TrackNumber:Ve([215]),DefaultDuration:Ve([35,227,131]),TrackEntry:Ve([174]),TrackType:Ve([131]),FlagDefault:Ve([136]),CodecID:Ve([134]),CodecPrivate:Ve([99,162]),VideoTrack:Ve([224]),AudioTrack:Ve([225]),Cluster:Ve([31,67,182,117]),Timestamp:Ve([231]),TimestampScale:Ve([42,215,177]),BlockGroup:Ve([160]),BlockDuration:Ve([155]),Block:Ve([161]),SimpleBlock:Ve([163])},ng=[128,64,32,16,8,4,2,1],nO=function(e){for(var i=1,n=0;n<ng.length&&!(e&ng[n]);n++)i++;return i},gd=function(e,i,n,t){n===void 0&&(n=!0),t===void 0&&(t=!1);var a=nO(e[i]),s=e.subarray(i,i+a);return n&&(s=Array.prototype.slice.call(e,i,i+a),s[0]^=ng[a-1]),{length:a,value:AP(s,{signed:t}),bytes:s}},sy=function r(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return r(i)}):typeof e=="number"?kP(e):e},aO=function(e){return Array.isArray(e)?e.map(function(i){return sy(i)}):[sy(e)]},sO=function r(e,i,n){if(n>=i.length)return i.length;var t=gd(i,n,!1);if(Mt(e.bytes,t.bytes))return n;var a=gd(i,n+t.length);return r(e,i,n+a.length+a.value+t.length)},oy=function r(e,i){i=aO(i),e=Ve(e);var n=[];if(!i.length)return n;for(var t=0;t<e.length;){var a=gd(e,t,!1),s=gd(e,t+a.length),l=t+a.length+s.length;s.value===127&&(s.value=sO(a,e,l),s.value!==e.length&&(s.value-=l));var d=l+s.value>e.length?e.length:l+s.value,f=e.subarray(l,d);Mt(i[0],a.bytes)&&(i.length===1?n.push(f):n=n.concat(r(f,i.slice(1))));var p=a.length+s.length+f.length;t+=p}return n},oO=Ve([0,0,0,1]),uO=Ve([0,0,1]),lO=Ve([0,0,3]),cO=function(e){for(var i=[],n=1;n<e.length-2;)Mt(e.subarray(n,n+3),lO)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var t=e.length-i.length,a=new Uint8Array(t),s=0;for(n=0;n<t;s++,n++)s===i[0]&&(s++,i.shift()),a[n]=e[s];return a},OS=function(e,i,n,t){t===void 0&&(t=1/0),e=Ve(e),n=[].concat(n);for(var a=0,s,l=0;a<e.length&&(l<t||s);){var d=void 0;if(Mt(e.subarray(a),oO)?d=4:Mt(e.subarray(a),uO)&&(d=3),!d){a++;continue}if(l++,s)return cO(e.subarray(s,a));var f=void 0;i==="h264"?f=e[a+d]&31:i==="h265"&&(f=e[a+d]>>1&63),n.indexOf(f)!==-1&&(s=a+d),a+=d+(i==="h264"?1:2)}return e.subarray(0,0)},dO=function(e,i,n){return OS(e,"h264",i,n)},fO=function(e,i,n){return OS(e,"h265",i,n)},Rr={webm:Ve([119,101,98,109]),matroska:Ve([109,97,116,114,111,115,107,97]),flac:Ve([102,76,97,67]),ogg:Ve([79,103,103,83]),ac3:Ve([11,119]),riff:Ve([82,73,70,70]),avi:Ve([65,86,73]),wav:Ve([87,65,86,69]),"3gp":Ve([102,116,121,112,51,103]),mp4:Ve([102,116,121,112]),fmp4:Ve([115,116,121,112]),mov:Ve([102,116,121,112,113,116]),moov:Ve([109,111,111,118]),moof:Ve([109,111,111,102])},go={aac:function(e){var i=Pu(e);return Mt(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Pu(e);return Mt(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=oy(e,[Nc.EBML,Nc.DocType])[0];return Mt(i,Rr.webm)},mkv:function(e){var i=oy(e,[Nc.EBML,Nc.DocType])[0];return Mt(i,Rr.matroska)},mp4:function(e){if(go["3gp"](e)||go.mov(e))return!1;if(Mt(e,Rr.mp4,{offset:4})||Mt(e,Rr.fmp4,{offset:4})||Mt(e,Rr.moof,{offset:4})||Mt(e,Rr.moov,{offset:4}))return!0},mov:function(e){return Mt(e,Rr.mov,{offset:4})},"3gp":function(e){return Mt(e,Rr["3gp"],{offset:4})},ac3:function(e){var i=Pu(e);return Mt(e,Rr.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Pu(e);return Mt(e,Rr.flac,{offset:i})},ogg:function(e){return Mt(e,Rr.ogg)},avi:function(e){return Mt(e,Rr.riff)&&Mt(e,Rr.avi,{offset:8})},wav:function(e){return Mt(e,Rr.riff)&&Mt(e,Rr.wav,{offset:8})},h264:function(e){return dO(e,7,3).length},h265:function(e){return fO(e,[32,33],3).length}},ag=Object.keys(go).filter(function(r){return r!=="ts"&&r!=="h264"&&r!=="h265"}).concat(["ts","h264","h265"]);ag.forEach(function(r){var e=go[r];go[r]=function(i){return e(Ve(i))}});var hO=go,Sm=function(e){e=Ve(e);for(var i=0;i<ag.length;i++){var n=ag[i];if(hO[n](e))return n}return""},pO=function(e){return iO(e,["moof"]).length>0},xm=9e4,Em,Cm,lf,wm,LS,RS,NS;Em=function(r){return r*xm};Cm=function(r,e){return r*e};lf=function(r){return r/xm};wm=function(r,e){return r/e};LS=function(r,e){return Em(wm(r,e))};RS=function(r,e){return Cm(lf(r),e)};NS=function(r,e,i){return lf(i?r:r-e)};var md={ONE_SECOND_IN_TS:xm,secondsToVideoTs:Em,secondsToAudioTs:Cm,videoTsToSeconds:lf,audioTsToSeconds:wm,audioTsToVideoTs:LS,videoTsToAudioTs:RS,metadataTsToSeconds:NS};function sg(r){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sg(r)}function gO(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}function og(r){var e=typeof Map=="function"?new Map:void 0;return og=function(n){if(n===null||!gO(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,t)}function t(){return VT(n,arguments,sg(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),lo(t,n)},og(r)}/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var FS="7.21.6",wn={},ba=function(e,i){return wn[e]=wn[e]||[],i&&(wn[e]=wn[e].concat(i)),wn[e]},mO=function(e,i){ba(e,i)},MS=function(e,i){var n=ba(e).indexOf(i);return n<=-1?!1:(wn[e]=wn[e].slice(),wn[e].splice(n,1),!0)},vO=function(e,i){ba(e,[].concat(i).map(function(n){var t=function a(){return MS(e,a),n.apply(void 0,arguments)};return t}))},vd={prefixed:!0},Qc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],uy=Qc[0],Iu;for(var Fc=0;Fc<Qc.length;Fc++)if(Qc[Fc][1]in be){Iu=Qc[Fc];break}if(Iu){for(var Mc=0;Mc<Iu.length;Mc++)vd[uy[Mc]]=Iu[Mc];vd.prefixed=Iu[0]!==uy[0]}var Kr=[],_O=function(e,i){return function(n,t,a){var s=i.levels[t],l=new RegExp("^("+s+")$");if(n!=="log"&&a.unshift(n.toUpperCase()+":"),a.unshift(e+":"),Kr){Kr.push([].concat(a));var d=Kr.length-1e3;Kr.splice(0,d>0?d:0)}if(!!H.console){var f=H.console[n];!f&&n==="debug"&&(f=H.console.info||H.console.log),!(!f||!s||!l.test(n))&&f[Array.isArray(a)?"apply":"call"](H.console,a)}}};function BS(r){var e="info",i,n=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];i("log",e,s)};return i=_O(r,n),n.createLogger=function(t){return BS(r+": "+t)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(t){if(typeof t=="string"){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},n.history=function(){return Kr?[].concat(Kr):[]},n.history.filter=function(t){return(Kr||[]).filter(function(a){return new RegExp(".*"+t+".*").test(a[0])})},n.history.clear=function(){Kr&&(Kr.length=0)},n.history.disable=function(){Kr!==null&&(Kr.length=0,Kr=null)},n.history.enable=function(){Kr===null&&(Kr=[])},n.error=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i("error",e,a)},n.warn=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i("warn",e,a)},n.debug=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i("debug",e,a)},n}var at=BS("VIDEOJS"),US=at.createLogger,yO=Object.prototype.toString,jS=function(e){return Fn(e)?Object.keys(e):[]};function eo(r,e){jS(r).forEach(function(i){return e(r[i],i)})}function bO(r,e,i){return i===void 0&&(i=0),jS(r).reduce(function(n,t){return e(n,r[t],t)},i)}function qt(r){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?wi.apply(void 0,[r].concat(i)):(i.forEach(function(t){!t||eo(t,function(a,s){r[s]=a})}),r)}function Fn(r){return!!r&&typeof r=="object"}function ol(r){return Fn(r)&&yO.call(r)==="[object Object]"&&r.constructor===Object}function ul(r,e){if(!r||!e)return"";if(typeof H.getComputedStyle=="function"){var i;try{i=H.getComputedStyle(r)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var fr=H.navigator&&H.navigator.userAgent||"",ly=/AppleWebKit\/([\d.]+)/i.exec(fr),TO=ly?parseFloat(ly.pop()):null,HS=/iPod/i.test(fr),SO=function(){var r=fr.match(/OS (\d+)_/i);return r&&r[1]?r[1]:null}(),jn=/Android/i.test(fr),Am=function(){var r=fr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var e=r[1]&&parseFloat(r[1]),i=r[2]&&parseFloat(r[2]);return e&&i?parseFloat(r[1]+"."+r[2]):e||null}(),VS=jn&&Am<5&&TO<537,qS=/Firefox/i.test(fr),Sl=/Edg/i.test(fr),Hn=!Sl&&(/Chrome/i.test(fr)||/CriOS/i.test(fr)),$S=function(){var r=fr.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null}(),xl=function(){var r=/MSIE\s(\d+)\.\d/.exec(fr),e=r&&parseFloat(r[1]);return!e&&/Trident\/7.0/i.test(fr)&&/rv:11.0/.test(fr)&&(e=11),e}(),km=/Safari/i.test(fr)&&!Hn&&!jn&&!Sl,WS=/Windows/i.test(fr),mo=Boolean(Eo()&&("ontouchstart"in H||H.navigator.maxTouchPoints||H.DocumentTouch&&H.document instanceof H.DocumentTouch)),Dm=/iPad/i.test(fr)||km&&mo&&!/iPhone/i.test(fr),Pm=/iPhone/i.test(fr)&&!Dm,Vr=Pm||Dm||HS,cf=(km||Vr)&&!Hn,xO=Object.freeze({__proto__:null,IS_IPOD:HS,IOS_VERSION:SO,IS_ANDROID:jn,ANDROID_VERSION:Am,IS_NATIVE_ANDROID:VS,IS_FIREFOX:qS,IS_EDGE:Sl,IS_CHROME:Hn,CHROME_VERSION:$S,IE_VERSION:xl,IS_SAFARI:km,IS_WINDOWS:WS,TOUCH_ENABLED:mo,IS_IPAD:Dm,IS_IPHONE:Pm,IS_IOS:Vr,IS_ANY_SAFARI:cf});function cy(r){return typeof r=="string"&&Boolean(r.trim())}function GS(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function EO(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}function Eo(){return be===H.document}function Co(r){return Fn(r)&&r.nodeType===1}function zS(){try{return H.parent!==H.self}catch{return!0}}function KS(r){return function(e,i){if(!cy(e))return be[r](null);cy(i)&&(i=be.querySelector(i));var n=Co(i)?i:be;return n[r]&&n[r](e)}}function ft(r,e,i,n){r===void 0&&(r="div"),e===void 0&&(e={}),i===void 0&&(i={});var t=be.createElement(r);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(at.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),t.setAttribute(a,s)):a==="textContent"?cs(t,s):(t[a]!==s||a==="tabIndex")&&(t[a]=s)}),Object.getOwnPropertyNames(i).forEach(function(a){t.setAttribute(a,i[a])}),n&&Om(t,n),t}function cs(r,e){return typeof r.textContent>"u"?r.innerText=e:r.textContent=e,r}function ug(r,e){e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}function ns(r,e){return GS(e),r.classList?r.classList.contains(e):EO(e).test(r.className)}function Pn(r,e){return r.classList?r.classList.add(e):ns(r,e)||(r.className=(r.className+" "+e).trim()),r}function El(r,e){return r?(r.classList?r.classList.remove(e):(GS(e),r.className=r.className.split(/\s+/).filter(function(i){return i!==e}).join(" ")),r):(at.warn("removeClass was called with an element that doesn't exist"),null)}function XS(r,e,i){var n=ns(r,e);if(typeof i=="function"&&(i=i(r,e)),typeof i!="boolean"&&(i=!n),i!==n)return i?Pn(r,e):El(r,e),r}function JS(r,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];n===null||typeof n>"u"||n===!1?r.removeAttribute(i):r.setAttribute(i,n===!0?"":n)})}function Cn(r){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(r&&r.attributes&&r.attributes.length>0)for(var n=r.attributes,t=n.length-1;t>=0;t--){var a=n[t].name,s=n[t].value;(typeof r[a]=="boolean"||i.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function YS(r,e){return r.getAttribute(e)}function vo(r,e,i){r.setAttribute(e,i)}function df(r,e){r.removeAttribute(e)}function QS(){be.body.focus(),be.onselectstart=function(){return!1}}function ZS(){be.onselectstart=function(){return!0}}function _o(r){if(r&&r.getBoundingClientRect&&r.parentNode){var e=r.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat(ul(r,"height"))),i.width||(i.width=parseFloat(ul(r,"width"))),i}}function ll(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=r.offsetWidth,i=r.offsetHeight,n=0,t=0;r.offsetParent&&r!==be[vd.fullscreenElement];)n+=r.offsetLeft,t+=r.offsetTop,r=r.offsetParent;return{left:n,top:t,width:e,height:i}}function ff(r,e){var i={x:0,y:0};if(Vr)for(var n=r;n&&n.nodeName.toLowerCase()!=="html";){var t=ul(n,"transform");if(/^matrix/.test(t)){var a=t.slice(7,-1).split(/,\s/).map(Number);i.x+=a[4],i.y+=a[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);i.x+=s[12],i.y+=s[13]}n=n.parentNode}var l={},d=ll(e.target),f=ll(r),p=f.width,y=f.height,_=e.offsetY-(f.top-d.top),x=e.offsetX-(f.left-d.left);return e.changedTouches&&(x=e.changedTouches[0].pageX-f.left,_=e.changedTouches[0].pageY+f.top,Vr&&(x-=i.x,_-=i.y)),l.y=1-Math.max(0,Math.min(1,_/y)),l.x=Math.max(0,Math.min(1,x/p)),l}function ex(r){return Fn(r)&&r.nodeType===3}function Im(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function tx(r){return typeof r=="function"&&(r=r()),(Array.isArray(r)?r:[r]).map(function(e){if(typeof e=="function"&&(e=e()),Co(e)||ex(e))return e;if(typeof e=="string"&&/\S/.test(e))return be.createTextNode(e)}).filter(function(e){return e})}function Om(r,e){return tx(e).forEach(function(i){return r.appendChild(i)}),r}function rx(r,e){return Om(Im(r),e)}function cl(r){return r.button===void 0&&r.buttons===void 0||r.button===0&&r.buttons===void 0||r.type==="mouseup"&&r.button===0&&r.buttons===0?!0:!(r.button!==0||r.buttons!==1)}var Ta=KS("querySelector"),ix=KS("querySelectorAll"),nx=Object.freeze({__proto__:null,isReal:Eo,isEl:Co,isInFrame:zS,createEl:ft,textContent:cs,prependTo:ug,hasClass:ns,addClass:Pn,removeClass:El,toggleClass:XS,setAttributes:JS,getAttributes:Cn,getAttribute:YS,setAttribute:vo,removeAttribute:df,blockTextSelection:QS,unblockTextSelection:ZS,getBoundingClientRect:_o,findPosition:ll,getPointerPosition:ff,isTextNode:ex,emptyEl:Im,normalizeContent:tx,appendContent:Om,insertContent:rx,isSingleLeftClick:cl,$:Ta,$$:ix}),ax=!1,lg,CO=function(){if(lg.options.autoSetup!==!1){var e=Array.prototype.slice.call(be.getElementsByTagName("video")),i=Array.prototype.slice.call(be.getElementsByTagName("audio")),n=Array.prototype.slice.call(be.getElementsByTagName("video-js")),t=e.concat(i,n);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++){var l=t[a];if(l&&l.getAttribute){if(l.player===void 0){var d=l.getAttribute("data-setup");d!==null&&lg(l)}}else{cg(1);break}}else ax||cg(1)}};function cg(r,e){!Eo()||(e&&(lg=e),H.setTimeout(CO,r))}function dg(){ax=!0,H.removeEventListener("load",dg)}Eo()&&(be.readyState==="complete"?dg():H.addEventListener("load",dg));var sx=function(e){var i=be.createElement("style");return i.className=e,i},ox=function(e,i){e.styleSheet?e.styleSheet.cssText=i:e.textContent=i},wO=3,AO=wO;function Vn(){return AO++}var ux;H.WeakMap||(ux=function(){function r(){this.vdata="vdata"+Math.floor(H.performance&&H.performance.now()||Date.now()),this.data={}}var e=r.prototype;return e.set=function(n,t){var a=n[this.vdata]||Vn();return n[this.vdata]||(n[this.vdata]=a),this.data[a]=t,this},e.get=function(n){var t=n[this.vdata];if(t)return this.data[t];at("We have no data for this element",n)},e.has=function(n){var t=n[this.vdata];return t in this.data},e.delete=function(n){var t=n[this.vdata];t&&(delete this.data[t],delete n[this.vdata])},r}());var jr=H.WeakMap?new WeakMap:new ux;function dy(r,e){if(!!jr.has(r)){var i=jr.get(r);i.handlers[e].length===0&&(delete i.handlers[e],r.removeEventListener?r.removeEventListener(e,i.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&jr.delete(r)}}function Lm(r,e,i,n){i.forEach(function(t){r(e,t,n)})}function hf(r){if(r.fixed_)return r;function e(){return!0}function i(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var n=r||H.event;r={};for(var t in n)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&t!=="path"&&(t==="returnValue"&&n.preventDefault||(r[t]=n[t]));if(r.target||(r.target=r.srcElement||be),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){n.preventDefault&&n.preventDefault(),r.returnValue=!1,n.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),r.cancelBubble=!0,n.cancelBubble=!0,r.isPropagationStopped=e},r.isPropagationStopped=i,r.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),r.isImmediatePropagationStopped=e,r.stopPropagation()},r.isImmediatePropagationStopped=i,r.clientX!==null&&r.clientX!==void 0){var a=be.documentElement,s=be.body;r.pageX=r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}r.which=r.charCode||r.keyCode,r.button!==null&&r.button!==void 0&&(r.button=r.button&1?0:r.button&4?1:r.button&2?2:0)}return r.fixed_=!0,r}var Bc,kO=function(){if(typeof Bc!="boolean"){Bc=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Bc=!0}});H.addEventListener("test",null,e),H.removeEventListener("test",null,e)}catch{}}return Bc},DO=["touchstart","touchmove"];function fi(r,e,i){if(Array.isArray(e))return Lm(fi,r,e,i);jr.has(r)||jr.set(r,{});var n=jr.get(r);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Vn()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(a,s){if(!n.disabled){a=hf(a);var l=n.handlers[a.type];if(l)for(var d=l.slice(0),f=0,p=d.length;f<p&&!a.isImmediatePropagationStopped();f++)try{d[f].call(r,a,s)}catch(y){at.error(y)}}}),n.handlers[e].length===1)if(r.addEventListener){var t=!1;kO()&&DO.indexOf(e)>-1&&(t={passive:!0}),r.addEventListener(e,n.dispatcher,t)}else r.attachEvent&&r.attachEvent("on"+e,n.dispatcher)}function Or(r,e,i){if(!!jr.has(r)){var n=jr.get(r);if(!!n.handlers){if(Array.isArray(e))return Lm(Or,r,e,i);var t=function(f,p){n.handlers[p]=[],dy(f,p)};if(e===void 0){for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&t(r,a);return}var s=n.handlers[e];if(!!s){if(!i){t(r,e);return}if(i.guid)for(var l=0;l<s.length;l++)s[l].guid===i.guid&&s.splice(l--,1);dy(r,e)}}}}function wo(r,e,i){var n=jr.has(r)?jr.get(r):{},t=r.parentNode||r.ownerDocument;if(typeof e=="string"?e={type:e,target:r}:e.target||(e.target=r),e=hf(e),n.dispatcher&&n.dispatcher.call(r,e,i),t&&!e.isPropagationStopped()&&e.bubbles===!0)wo.call(null,t,e,i);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){jr.has(e.target)||jr.set(e.target,{});var a=jr.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function pf(r,e,i){if(Array.isArray(e))return Lm(pf,r,e,i);var n=function t(){Or(r,e,t),i.apply(this,arguments)};n.guid=i.guid=i.guid||Vn(),fi(r,e,n)}function lx(r,e,i){var n=function t(){Or(r,e,t),i.apply(this,arguments)};n.guid=i.guid=i.guid||Vn(),fi(r,e,n)}var PO=Object.freeze({__proto__:null,fixEvent:hf,on:fi,off:Or,trigger:wo,one:pf,any:lx}),Bi=30,Lt=function(e,i,n){i.guid||(i.guid=Vn());var t=i.bind(e);return t.guid=n?n+"_"+i.guid:i.guid,t},Mn=function(e,i){var n=H.performance.now(),t=function(){var s=H.performance.now();s-n>=i&&(e.apply(void 0,arguments),n=s)};return t},IO=function(e,i,n,t){t===void 0&&(t=H);var a,s=function(){t.clearTimeout(a),a=null},l=function(){var f=this,p=arguments,y=function(){a=null,y=null,n||e.apply(f,p)};!a&&n&&e.apply(f,p),t.clearTimeout(a),a=t.setTimeout(y,i)};return l.cancel=s,l},pr=function(){};pr.prototype.allowedEvents_={};pr.prototype.on=function(r,e){var i=this.addEventListener;this.addEventListener=function(){},fi(this,r,e),this.addEventListener=i};pr.prototype.addEventListener=pr.prototype.on;pr.prototype.off=function(r,e){Or(this,r,e)};pr.prototype.removeEventListener=pr.prototype.off;pr.prototype.one=function(r,e){var i=this.addEventListener;this.addEventListener=function(){},pf(this,r,e),this.addEventListener=i};pr.prototype.any=function(r,e){var i=this.addEventListener;this.addEventListener=function(){},lx(this,r,e),this.addEventListener=i};pr.prototype.trigger=function(r){var e=r.type||r;typeof r=="string"&&(r={type:e}),r=hf(r),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](r),wo(this,r)};pr.prototype.dispatchEvent=pr.prototype.trigger;var Su;pr.prototype.queueTrigger=function(r){var e=this;Su||(Su=new Map);var i=r.type||r,n=Su.get(this);n||(n=new Map,Su.set(this,n));var t=n.get(i);n.delete(i),H.clearTimeout(t);var a=H.setTimeout(function(){n.delete(i),n.size===0&&(n=null,Su.delete(e)),e.trigger(r)},0);n.set(i,a)};var gf=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},In=function(e){return e instanceof pr||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof e[i]=="function"})},OO=function(e,i){In(e)?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))},fg=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},_d=function(e,i,n){if(!e||!e.nodeName&&!In(e))throw new Error("Invalid target for "+gf(i)+"#"+n+"; must be a DOM node or evented object.")},cx=function(e,i,n){if(!fg(e))throw new Error("Invalid event type for "+gf(i)+"#"+n+"; must be a non-empty string or array.")},dx=function(e,i,n){if(typeof e!="function")throw new Error("Invalid listener for "+gf(i)+"#"+n+"; must be a function.")},pp=function(e,i,n){var t=i.length<3||i[0]===e||i[0]===e.eventBusEl_,a,s,l;return t?(a=e.eventBusEl_,i.length>=3&&i.shift(),s=i[0],l=i[1]):(a=i[0],s=i[1],l=i[2]),_d(a,e,n),cx(s,e,n),dx(l,e,n),l=Lt(e,l),{isTargetingSelf:t,target:a,type:s,listener:l}},Ka=function(e,i,n,t){_d(e,e,i),e.nodeName?PO[i](e,n,t):e[i](n,t)},LO={on:function(){for(var e=this,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];var a=pp(this,n,"on"),s=a.isTargetingSelf,l=a.target,d=a.type,f=a.listener;if(Ka(l,"on",d,f),!s){var p=function(){return e.off(l,d,f)};p.guid=f.guid;var y=function(){return e.off("dispose",p)};y.guid=f.guid,Ka(this,"on","dispose",p),Ka(l,"on","dispose",y)}},one:function(){for(var e=this,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];var a=pp(this,n,"one"),s=a.isTargetingSelf,l=a.target,d=a.type,f=a.listener;if(s)Ka(l,"one",d,f);else{var p=function y(){e.off(l,d,y);for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];f.apply(null,x)};p.guid=f.guid,Ka(l,"one",d,p)}},any:function(){for(var e=this,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];var a=pp(this,n,"any"),s=a.isTargetingSelf,l=a.target,d=a.type,f=a.listener;if(s)Ka(l,"any",d,f);else{var p=function y(){e.off(l,d,y);for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];f.apply(null,x)};p.guid=f.guid,Ka(l,"any",d,p)}},off:function(e,i,n){if(!e||fg(e))Or(this.eventBusEl_,e,i);else{var t=e,a=i;_d(t,this,"off"),cx(a,this,"off"),dx(n,this,"off"),n=Lt(this,n),this.off("dispose",n),t.nodeName?(Or(t,a,n),Or(t,"dispose",n)):In(t)&&(t.off(a,n),t.off("dispose",n))}},trigger:function(e,i){_d(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!fg(n)){var t="Invalid event type for "+gf(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||at).error(t);else throw new Error(t)}return wo(this.eventBusEl_,e,i)}};function Rm(r,e){e===void 0&&(e={});var i=e,n=i.eventBusKey;if(n){if(!r[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');r.eventBusEl_=r[n]}else r.eventBusEl_=ft("span",{className:"vjs-event-bus"});return qt(r,LO),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(t){t()}),r.on("dispose",function(){r.off(),[r,r.el_,r.eventBusEl_].forEach(function(t){t&&jr.has(t)&&jr.delete(t)}),H.setTimeout(function(){r.eventBusEl_=null},0)}),r}var RO={state:{},setState:function(e){var i=this;typeof e=="function"&&(e=e());var n;return eo(e,function(t,a){i.state[a]!==t&&(n=n||{},n[a]={from:i.state[a],to:t}),i.state[a]=t}),n&&In(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function fx(r,e){return qt(r,RO),r.state=qt({},r.state,e),typeof r.handleStateChanged=="function"&&In(r)&&r.on("statechanged",r.handleStateChanged),r}var Zc=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toLowerCase()})},zt=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},NO=function(e,i){return zt(e)===zt(i)};function Ot(){for(var r={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(t){!t||eo(t,function(a,s){if(!ol(a)){r[s]=a;return}ol(r[s])||(r[s]={}),r[s]=Ot(r[s],a)})}),r}var FO=function(){function r(){this.map_={}}var e=r.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var t=this.has(n);return delete this.map_[n],t},e.set=function(n,t){return this.map_[n]=t,this},e.forEach=function(n,t){for(var a in this.map_)n.call(t,this.map_[a],a,this)},r}(),MO=H.Map?H.Map:FO,BO=function(){function r(){this.set_={}}var e=r.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var t=this.has(n);return delete this.set_[n],t},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,t){for(var a in this.set_)n.call(t,a,a,this)},r}(),gp=H.Set?H.Set:BO,de=function(){function r(i,n,t){var a=this;if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ot({},this.options_),n=this.options_=Ot(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var s=i&&i.id&&i.id()||"no_player";this.id_=s+"_component_"+Vn()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(function(l){return a.addClass(l)}),n.evented!==!1&&(Rm(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),fx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new gp,this.setIntervalIds_=new gp,this.rafIds_=new gp,this.namedRafs_=new MO,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(t),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=r.prototype;return e.dispose=function(n){if(n===void 0&&(n={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(n.restoreEl?this.el_.parentNode.replaceChild(n.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=Ot(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,t,a){return ft(n,t,a)},e.localize=function(n,t,a){a===void 0&&(a=n);var s=this.player_.language&&this.player_.language(),l=this.player_.languages&&this.player_.languages(),d=l&&l[s],f=s&&s.split("-")[0],p=l&&l[f],y=a;return d&&d[n]?y=d[n]:p&&p[n]&&(y=p[n]),t&&(y=y.replace(/\{(\d+)\}/g,function(_,x){var A=t[x-1],P=A;return typeof A>"u"&&(P=_),P})),y},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(!!n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];t=t.reduce(function(d,f){return d.concat(f)},[]);for(var s=this,l=0;l<t.length;l++)if(s=s.getChild(t[l]),!s||!s.getChild)return;return s},e.addChild=function(n,t,a){t===void 0&&(t={}),a===void 0&&(a=this.children_.length);var s,l;if(typeof n=="string"){l=zt(n);var d=t.componentClass||l;t.name=l;var f=r.getComponent(d);if(!f)throw new Error("Component "+d+" does not exist");if(typeof f!="function")return null;s=new f(this.player_||this,t)}else s=n;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),l=l||s.name&&zt(s.name()),l&&(this.childNameIndex_[l]=s,this.childNameIndex_[Zc(l)]=s),typeof s.el=="function"&&s.el()){var p=null;this.children_[a+1]&&(this.children_[a+1].el_?p=this.children_[a+1].el_:Co(this.children_[a+1])&&(p=this.children_[a+1])),this.contentEl().insertBefore(s.el(),p)}return s},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var t=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===n){t=!0,this.children_.splice(a,1);break}if(!!t){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[zt(n.name())]=null,this.childNameIndex_[Zc(n.name())]=null;var s=n.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,t=this.options_.children;if(t){var a=this.options_,s=function(p){var y=p.name,_=p.opts;if(a[y]!==void 0&&(_=a[y]),_!==!1){_===!0&&(_={}),_.playerOptions=n.options_.playerOptions;var x=n.addChild(y,_);x&&(n[y]=x)}},l,d=r.getComponent("Tech");Array.isArray(t)?l=t:l=Object.keys(t),l.concat(Object.keys(this.options_).filter(function(f){return!l.some(function(p){return typeof p=="string"?f===p:f===p.name})})).map(function(f){var p,y;return typeof f=="string"?(p=f,y=t[p]||n.options_[p]||{}):(p=f.name,y=f),{name:p,opts:y}}).filter(function(f){var p=r.getComponent(f.opts.componentClass||zt(f.name));return p&&!d.isTech(p)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(n,t){if(t===void 0&&(t=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}t?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(n,t){return Ta(n,t||this.contentEl())},e.$$=function(n,t){return ix(n,t||this.contentEl())},e.hasClass=function(n){return ns(this.el_,n)},e.addClass=function(n){Pn(this.el_,n)},e.removeClass=function(n){El(this.el_,n)},e.toggleClass=function(n,t){XS(this.el_,n,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return YS(this.el_,n)},e.setAttribute=function(n,t){vo(this.el_,n,t)},e.removeAttribute=function(n){df(this.el_,n)},e.width=function(n,t){return this.dimension("width",n,t)},e.height=function(n,t){return this.dimension("height",n,t)},e.dimensions=function(n,t){this.width(n,!0),this.height(t)},e.dimension=function(n,t,a){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[n]=t:t==="auto"?this.el_.style[n]="":this.el_.style[n]=t+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[n],l=s.indexOf("px");return parseInt(l!==-1?s.slice(0,l):this.el_["offset"+zt(n)],10)},e.currentDimension=function(n){var t=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(t=ul(this.el_,n),t=parseFloat(t),t===0||isNaN(t)){var a="offset"+zt(n);t=this.el_[a]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&(et.isEventKey(n,"Tab")||n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,t=null,a=10,s=200,l;this.on("touchstart",function(f){f.touches.length===1&&(t={pageX:f.touches[0].pageX,pageY:f.touches[0].pageY},n=H.performance.now(),l=!0)}),this.on("touchmove",function(f){if(f.touches.length>1)l=!1;else if(t){var p=f.touches[0].pageX-t.pageX,y=f.touches[0].pageY-t.pageY,_=Math.sqrt(p*p+y*y);_>a&&(l=!1)}});var d=function(){l=!1};this.on("touchleave",d),this.on("touchcancel",d),this.on("touchend",function(f){if(t=null,l===!0){var p=H.performance.now()-n;p<s&&(f.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=Lt(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){n(),this.clearInterval(t),t=this.setInterval(n,250)});var a=function(l){n(),this.clearInterval(t)};this.on("touchmove",n),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(n,t){var a=this,s;return n=Lt(this,n),this.clearTimersOnDispose_(),s=H.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),n()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),H.clearTimeout(n)),n},e.setInterval=function(n,t){n=Lt(this,n),this.clearTimersOnDispose_();var a=H.setInterval(n,t);return this.setIntervalIds_.add(a),a},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),H.clearInterval(n)),n},e.requestAnimationFrame=function(n){var t=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var a;return n=Lt(this,n),a=H.requestAnimationFrame(function(){t.rafIds_.has(a)&&t.rafIds_.delete(a),n()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(n,t){var a=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),t=Lt(this,t);var s=this.requestAnimationFrame(function(){t(),a.namedRafs_.has(n)&&a.namedRafs_.delete(n)});return this.namedRafs_.set(n,s),n}},e.cancelNamedAnimationFrame=function(n){!this.namedRafs_.has(n)||(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),H.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var a=t[0],s=t[1];n[a].forEach(function(l,d){return n[s](d)})}),n.clearingTimersOnDispose_=!1}))},r.registerComponent=function(n,t){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var a=r.getComponent("Tech"),s=a&&a.isTech(t),l=r===t||r.prototype.isPrototypeOf(t.prototype);if(s||!l){var d;throw s?d="techs must be registered using Tech.registerTech()":d="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+d+".")}n=zt(n),r.components_||(r.components_={});var f=r.getComponent("Player");if(n==="Player"&&f&&f.players){var p=f.players,y=Object.keys(p);if(p&&y.length>0&&y.map(function(_){return p[_]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[n]=t,r.components_[Zc(n)]=t,t},r.getComponent=function(n){if(!(!n||!r.components_))return r.components_[n]},r}();de.prototype.supportsRaf_=typeof H.requestAnimationFrame=="function"&&typeof H.cancelAnimationFrame=="function";de.registerComponent("Component",de);function UO(r,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function fy(r,e,i,n){return UO(r,n,i.length-1),i[n][e]}function mp(r){var e;return r===void 0||r.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:r.length,start:fy.bind(null,"start",0,r),end:fy.bind(null,"end",1,r)},H.Symbol&&H.Symbol.iterator&&(e[H.Symbol.iterator]=function(){return(r||[]).values()}),e}function as(r,e){return Array.isArray(r)?mp(r):r===void 0||e===void 0?mp():mp([[r,e]])}function hx(r,e){var i=0,n,t;if(!e)return 0;(!r||!r.length)&&(r=as(0,0));for(var a=0;a<r.length;a++)n=r.start(a),t=r.end(a),t>e&&(t=e),i+=t-n;return i/e}function Hr(r){if(r instanceof Hr)return r;typeof r=="number"?this.code=r:typeof r=="string"?this.message=r:Fn(r)&&(typeof r.code=="number"&&(this.code=r.code),qt(this,r)),this.message||(this.message=Hr.defaultMessages[this.code]||"")}Hr.prototype.code=0;Hr.prototype.message="";Hr.prototype.status=null;Hr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Hr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Hs=0;Hs<Hr.errorTypes.length;Hs++)Hr[Hr.errorTypes[Hs]]=Hs,Hr.prototype[Hr.errorTypes[Hs]]=Hs;function Vu(r){return r!=null&&typeof r.then=="function"}function en(r){Vu(r)&&r.then(null,function(e){})}var hg=function(e){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,t,a){return e[t]&&(n[t]=e[t]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return i},jO=function(e){var i=e.$$("track"),n=Array.prototype.map.call(i,function(a){return a.track}),t=Array.prototype.map.call(i,function(a){var s=hg(a.track);return a.src&&(s.src=a.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(a){return n.indexOf(a)===-1}).map(hg))},HO=function(e,i){return e.forEach(function(n){var t=i.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(a){return t.addCue(a)})}),i.textTracks()},hy={textTracksToJson:jO,jsonToTextTracks:HO,trackToJson_:hg},vp="vjs-modal-dialog",Ao=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ft("div",{className:vp+"-content"},{role:"document"}),a.descEl_=ft("p",{className:vp+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),cs(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},i.buildCSSClass=function(){return vp+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(t){if(typeof t=="boolean"){var a=this.closeable_=!!t,s=this.getChild("closeButton");if(a&&!s){var l=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=l,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(t){var a=this.contentEl(),s=a.parentNode,l=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),rx(a,t),this.trigger("modalfill"),l?s.insertBefore(a,l):s.appendChild(a);var d=this.getChild("closeButton");d&&s.appendChild(d.el_)},i.empty=function(){this.trigger("beforemodalempty"),Im(this.contentEl()),this.trigger("modalempty")},i.content=function(t){return typeof t<"u"&&(this.content_=t),this.content_},i.conditionalFocus_=function(){var t=be.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(t)||a===t)&&(this.previouslyActiveEl_=t,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(t){if(t.stopPropagation(),et.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(!!et.isEventKey(t,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),l,d=0;d<a.length;d++)if(s===a[d]){l=d;break}be.activeElement===this.el_&&(l=0),t.shiftKey&&l===0?(a[a.length-1].focus(),t.preventDefault()):!t.shiftKey&&l===a.length-1&&(a[0].focus(),t.preventDefault())}},i.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(a){return(a instanceof H.HTMLAnchorElement||a instanceof H.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof H.HTMLInputElement||a instanceof H.HTMLSelectElement||a instanceof H.HTMLTextAreaElement||a instanceof H.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof H.HTMLIFrameElement||a instanceof H.HTMLObjectElement||a instanceof H.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(de);Ao.prototype.options_={pauseOnOpen:!0,temporary:!0};de.registerComponent("ModalDialog",Ao);var yo=function(r){xe(e,r);function e(n){var t;n===void 0&&(n=[]),t=r.call(this)||this,t.tracks_=[],Object.defineProperty(Je(t),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)t.addTrack(n[a]);return t}var i=e.prototype;return i.addTrack=function(t){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){a.trigger({track:t,type:"labelchange",target:a})},In(t)&&t.addEventListener("labelchange",t.labelchange_)},i.removeTrack=function(t){for(var a,s=0,l=this.length;s<l;s++)if(this[s]===t){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},i.getTrackById=function(t){for(var a=null,s=0,l=this.length;s<l;s++){var d=this[s];if(d.id===t){a=d;break}}return a},e}(pr);yo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var VO in yo.prototype.allowedEvents_)yo.prototype["on"+VO]=null;var _p=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].enabled=!1)},qO=function(r){xe(e,r);function e(n){var t;n===void 0&&(n=[]);for(var a=n.length-1;a>=0;a--)if(n[a].enabled){_p(n,n[a]);break}return t=r.call(this,n)||this,t.changing_=!1,t}var i=e.prototype;return i.addTrack=function(t){var a=this;t.enabled&&_p(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){a.changing_||(a.changing_=!0,_p(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},i.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(yo),yp=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].selected=!1)},$O=function(r){xe(e,r);function e(n){var t;n===void 0&&(n=[]);for(var a=n.length-1;a>=0;a--)if(n[a].selected){yp(n,n[a]);break}return t=r.call(this,n)||this,t.changing_=!1,Object.defineProperty(Je(t),"selectedIndex",{get:function(){for(var l=0;l<this.length;l++)if(this[l].selected)return l;return-1},set:function(){}}),t}var i=e.prototype;return i.addTrack=function(t){var a=this;t.selected&&yp(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){a.changing_||(a.changing_=!0,yp(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},i.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(yo),px=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.addTrack=function(t){var a=this;r.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(yo),WO=function(){function r(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,t=i.length;n<t;n++)this.addTrackElement_(i[n])}var e=r.prototype;return e.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var t,a=0,s=this.trackElements_.length;a<s;a++)if(n===this.trackElements_[a].track){t=this.trackElements_[a];break}return t},e.removeTrackElement_=function(n){for(var t=0,a=this.trackElements_.length;t<a;t++)if(n===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},r}(),py=function(){function r(i){r.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=r.prototype;return e.setCues_=function(n){var t=this.length||0,a=0,s=n.length;this.cues_=n,this.length_=n.length;var l=function(f){""+f in this||Object.defineProperty(this,""+f,{get:function(){return this.cues_[f]}})};if(t<s)for(a=t;a<s;a++)l.call(this,a)},e.getCueById=function(n){for(var t=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===n){t=l;break}}return t},r}(),GO={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},zO={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},KO={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},gy={disabled:"disabled",hidden:"hidden",showing:"showing"},Nm=function(r){xe(e,r);function e(i){var n;i===void 0&&(i={}),n=r.call(this)||this;var t={id:i.id||"vjs_track_"+Vn(),kind:i.kind||"",language:i.language||""},a=i.label||"",s=function(f){Object.defineProperty(Je(n),f,{get:function(){return t[f]},set:function(){}})};for(var l in t)s(l);return Object.defineProperty(Je(n),"label",{get:function(){return a},set:function(f){f!==a&&(a=f,this.trigger("labelchange"))}}),n}return e}(pr),Fm=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],n=be.createElement("a");n.href=e;for(var t={},a=0;a<i.length;a++)t[i[a]]=n[i[a]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=H.location.protocol),t.host||(t.host=H.location.host),t},gx=function(e){if(!e.match(/^https?:\/\//)){var i=be.createElement("a");i.href=e,e=i.href}return e},Mm=function(e){if(typeof e=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=i.exec(e);if(n)return n.pop().toLowerCase()}return""},mf=function(e,i){i===void 0&&(i=H.location);var n=Fm(e),t=n.protocol===":"?i.protocol:n.protocol,a=t+n.host!==i.protocol+i.host;return a},XO=Object.freeze({__proto__:null,parseUrl:Fm,getAbsoluteURL:gx,getFileExtension:Mm,isCrossOrigin:mf}),my=function(e,i){var n=new H.WebVTT.Parser(H,H.vttjs,H.WebVTT.StringDecoder()),t=[];n.oncue=function(a){i.addCue(a)},n.onparsingerror=function(a){t.push(a)},n.onflush=function(){i.trigger({type:"loadeddata",target:i})},n.parse(e),t.length>0&&(H.console&&H.console.groupCollapsed&&H.console.groupCollapsed("Text Track parsing errors for "+i.src),t.forEach(function(a){return at.error(a)}),H.console&&H.console.groupEnd&&H.console.groupEnd()),n.flush()},vy=function(e,i){var n={uri:e},t=mf(e);t&&(n.cors=t);var a=i.tech_.crossOrigin()==="use-credentials";a&&(n.withCredentials=a),Zd.exports(n,Lt(this,function(s,l,d){if(s)return at.error(s,l);i.loaded_=!0,typeof H.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(f){if(f.type==="vttjserror"){at.error("vttjs failed to load, stopping trying to process "+i.src);return}return my(d,i)}):my(d,i)}))},Cl=function(r){xe(e,r);function e(n){var t;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var a=Ot(n,{kind:KO[n.kind]||"subtitles",language:n.language||n.srclang||""}),s=gy[a.mode]||"disabled",l=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),t=r.call(this,a)||this,t.tech_=a.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var d=new py(t.cues_),f=new py(t.activeCues_),p=!1;t.timeupdateHandler=Lt(Je(t),function(_){if(_===void 0&&(_={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){_.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,p&&(this.trigger("cuechange"),p=!1),_.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var y=function(){t.stopTracking()};return t.tech_.one("dispose",y),s!=="disabled"&&t.startTracking(),Object.defineProperties(Je(t),{default:{get:function(){return l},set:function(){}},mode:{get:function(){return s},set:function(x){!gy[x]||s!==x&&(s=x,!this.preload_&&s!=="disabled"&&this.cues.length===0&&vy(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?d:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return f;for(var x=this.tech_.currentTime(),A=[],P=0,D=this.cues.length;P<D;P++){var R=this.cues[P];(R.startTime<=x&&R.endTime>=x||R.startTime===R.endTime&&R.startTime<=x&&R.startTime+.5>=x)&&A.push(R)}if(p=!1,A.length!==this.activeCues_.length)p=!0;else for(var F=0;F<A.length;F++)this.activeCues_.indexOf(A[F])===-1&&(p=!0);return this.activeCues_=A,f.setCues_(this.activeCues_),f},set:function(){}}}),a.src?(t.src=a.src,t.preload_||(t.loaded_=!0),(t.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&vy(t.src,Je(t))):t.loaded_=!0,t}var i=e.prototype;return i.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},i.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},i.addCue=function(t){var a=t;if(a.constructor&&a.constructor.name!=="VTTCue"){a=new H.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in a||(a[s]=t[s]);a.id=t.id,a.originalCue_=t}for(var l=this.tech_.textTracks(),d=0;d<l.length;d++)l[d]!==this&&l[d].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},i.removeCue=function(t){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(Nm);Cl.prototype.allowedEvents_={cuechange:"cuechange"};var mx=function(r){xe(e,r);function e(i){var n;i===void 0&&(i={});var t=Ot(i,{kind:zO[i.kind]||""});n=r.call(this,t)||this;var a=!1;return Object.defineProperty(Je(n),"enabled",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("enabledchange"))}}),t.enabled&&(n.enabled=t.enabled),n.loaded_=!0,n}return e}(Nm),vx=function(r){xe(e,r);function e(i){var n;i===void 0&&(i={});var t=Ot(i,{kind:GO[i.kind]||""});n=r.call(this,t)||this;var a=!1;return Object.defineProperty(Je(n),"selected",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("selectedchange"))}}),t.selected&&(n.selected=t.selected),n}return e}(Nm),_x=0,JO=1,yx=2,YO=3,ko=function(r){xe(e,r);function e(i){var n;i===void 0&&(i={}),n=r.call(this)||this;var t,a=new Cl(i);return n.kind=a.kind,n.src=a.src,n.srclang=a.language,n.label=a.label,n.default=a.default,Object.defineProperties(Je(n),{readyState:{get:function(){return t}},track:{get:function(){return a}}}),t=_x,a.addEventListener("loadeddata",function(){t=yx,n.trigger({type:"load",target:Je(n)})}),n}return e}(pr);ko.prototype.allowedEvents_={load:"load"};ko.NONE=_x;ko.LOADING=JO;ko.LOADED=yx;ko.ERROR=YO;var Ci={audio:{ListClass:qO,TrackClass:mx,capitalName:"Audio"},video:{ListClass:$O,TrackClass:vx,capitalName:"Video"},text:{ListClass:px,TrackClass:Cl,capitalName:"Text"}};Object.keys(Ci).forEach(function(r){Ci[r].getterName=r+"Tracks",Ci[r].privateName=r+"Tracks_"});var bo={remoteText:{ListClass:px,TrackClass:Cl,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:WO,TrackClass:ko,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Fr=wi({},Ci,bo);bo.names=Object.keys(bo);Ci.names=Object.keys(Ci);Fr.names=[].concat(bo.names).concat(Ci.names);function QO(r,e,i,n,t){t===void 0&&(t={});var a=r.textTracks();t.kind=e,i&&(t.label=i),n&&(t.language=n),t.tech=r;var s=new Fr.text.TrackClass(t);return a.addTrack(s),s}var At=function(r){xe(e,r);function e(n,t){var a;return n===void 0&&(n={}),t===void 0&&(t=function(){}),n.reportTouchActivity=!1,a=r.call(this,null,n,t)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Fr.names.forEach(function(s){var l=Fr[s];n&&n[l.getterName]&&(a[l.privateName]=n[l.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){n["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=n.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new Fr.text.ListClass,a.initTrackListeners(),n.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var i=e.prototype;return i.triggerSourceset=function(t){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Lt(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(t){this.duration_=this.duration()},i.buffered=function(){return as(0,0)},i.bufferedPercent=function(){return hx(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Ci.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},i.clearTracks=function(t){var a=this;t=[].concat(t),t.forEach(function(s){for(var l=a[s+"Tracks"]()||[],d=l.length;d--;){var f=l[d];s==="text"&&a.removeRemoteTextTrack(f),l.removeTrack(f)}})},i.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],a=t.length;a--;){var s=t[a];this.removeRemoteTextTrack(s)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(t){return t!==void 0&&(this.error_=new Hr(t),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?as(0,0):as()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var t=this;Ci.names.forEach(function(a){var s=Ci[a],l=function(){t.trigger(a+"trackchange")},d=t[s.getterName]();d.addEventListener("removetrack",l),d.addEventListener("addtrack",l),t.on("dispose",function(){d.removeEventListener("removetrack",l),d.removeEventListener("addtrack",l)})})},i.addWebVttScript_=function(){var t=this;if(!H.WebVTT)if(be.body.contains(this.el())){if(!this.options_["vtt.js"]&&ol(Qp.exports)&&Object.keys(Qp.exports).length>0){this.trigger("vttjsloaded");return}var a=be.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){t.trigger("vttjsloaded")},a.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),H.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var t=this,a=this.textTracks(),s=this.remoteTextTracks(),l=function(_){return a.addTrack(_.track)},d=function(_){return a.removeTrack(_.track)};s.on("addtrack",l),s.on("removetrack",d),this.addWebVttScript_();var f=function(){return t.trigger("texttrackchange")},p=function(){f();for(var _=0;_<a.length;_++){var x=a[_];x.removeEventListener("cuechange",f),x.mode==="showing"&&x.addEventListener("cuechange",f)}};p(),a.addEventListener("change",p),a.addEventListener("addtrack",p),a.addEventListener("removetrack",p),this.on("dispose",function(){s.off("addtrack",l),s.off("removetrack",d),a.removeEventListener("change",p),a.removeEventListener("addtrack",p),a.removeEventListener("removetrack",p);for(var y=0;y<a.length;y++){var _=a[y];_.removeEventListener("cuechange",f)}})},i.addTextTrack=function(t,a,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return QO(this,t,a,s)},i.createRemoteTextTrack=function(t){var a=Ot(t,{tech:this});return new bo.remoteTextEl.TrackClass(a)},i.addRemoteTextTrack=function(t,a){var s=this;t===void 0&&(t={});var l=this.createRemoteTextTrack(t);return a!==!0&&a!==!1&&(at.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(l.track)}),l},i.removeRemoteTextTrack=function(t){var a=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var t=this.options_.Promise||H.Promise;if(t)return t.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.requestVideoFrameCallback=function(t){var a=this,s=Vn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),t())})):this.requestNamedAnimationFrame(s,t),s},i.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,a){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=zt(t),e.techs_[t]=a,e.techs_[Zc(t)]=a,t!=="Tech"&&e.defaultTechOrder_.push(t),a},e.getTech=function(t){if(!!t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=zt(t),H&&H.videojs&&H.videojs[t])return at.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),H.videojs[t]}},e}(de);Fr.names.forEach(function(r){var e=Fr[r];At.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});At.prototype.featuresVolumeControl=!0;At.prototype.featuresMuteControl=!0;At.prototype.featuresFullscreenResize=!1;At.prototype.featuresPlaybackRate=!1;At.prototype.featuresProgressEvents=!1;At.prototype.featuresSourceset=!1;At.prototype.featuresTimeupdateEvents=!1;At.prototype.featuresNativeTextTracks=!1;At.prototype.featuresVideoFrameCallback=!1;At.withSourceHandlers=function(r){r.registerSourceHandler=function(i,n){var t=r.sourceHandlers;t||(t=r.sourceHandlers=[]),n===void 0&&(n=t.length),t.splice(n,0,i)},r.canPlayType=function(i){for(var n=r.sourceHandlers||[],t,a=0;a<n.length;a++)if(t=n[a].canPlayType(i),t)return t;return""},r.selectSourceHandler=function(i,n){for(var t=r.sourceHandlers||[],a,s=0;s<t.length;s++)if(a=t[s].canHandleSource(i,n),a)return t[s];return null},r.canPlaySource=function(i,n){var t=r.selectSourceHandler(i,n);return t?t.canHandleSource(i,n):""};var e=["seekable","seeking","duration"];e.forEach(function(i){var n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(i){var n=r.selectSourceHandler(i,this.options_);n||(r.nativeSourceHandler?n=r.nativeSourceHandler:at.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==r.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};de.registerComponent("Tech",At);At.registerTech("Tech",At);At.defaultTechOrder_=[];var ss={},pg={},yd={};function ZO(r,e){ss[r]=ss[r]||[],ss[r].push(e)}function eL(r,e,i){r.setTimeout(function(){return Xa(e,ss[e.type],i,r)},1)}function tL(r,e){r.forEach(function(i){return i.setTech&&i.setTech(e)})}function rL(r,e,i){return r.reduceRight(Bm(i),e[i]())}function iL(r,e,i,n){return e[i](r.reduce(Bm(i),n))}function _y(r,e,i,n){n===void 0&&(n=null);var t="call"+zt(i),a=r.reduce(Bm(t),n),s=a===yd,l=s?null:e[i](a);return sL(r,i,l,s),l}var nL={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},aL={setCurrentTime:1,setMuted:1,setVolume:1},yy={play:1,pause:1};function Bm(r){return function(e,i){return e===yd?yd:i[r]?i[r](e):e}}function sL(r,e,i,n){for(var t=r.length-1;t>=0;t--){var a=r[t];a[e]&&a[e](n,i)}}function oL(r){pg[r.id()]=null}function uL(r,e){var i=pg[r.id()],n=null;if(i==null)return n=e(r),pg[r.id()]=[[e,n]],n;for(var t=0;t<i.length;t++){var a=i[t],s=a[0],l=a[1];s===e&&(n=l)}return n===null&&(n=e(r),i.push([e,n])),n}function Xa(r,e,i,n,t,a){r===void 0&&(r={}),e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a=!1);var s=e,l=s[0],d=s.slice(1);if(typeof l=="string")Xa(r,ss[l],i,n,t,a);else if(l){var f=uL(n,l);if(!f.setSource)return t.push(f),Xa(r,d,i,n,t,a);f.setSource(qt({},r),function(p,y){if(p)return Xa(r,d,i,n,t,a);t.push(f),Xa(y,r.type===y.type?d:ss[y.type],i,n,t,a)})}else d.length?Xa(r,d,i,n,t,a):a?i(r,t):Xa(r,ss["*"],i,n,t,!0)}var lL={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},bd=function(e){e===void 0&&(e="");var i=Mm(e),n=lL[i.toLowerCase()];return n||""},cL=function(e,i){if(!i)return"";if(e.cache_.source.src===i&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(l){return l.src===i});if(n.length)return n[0].type;for(var t=e.$$("source"),a=0;a<t.length;a++){var s=t[a];if(s.type&&s.src&&s.src===i)return s.type}return bd(i)},dL=function r(e){if(Array.isArray(e)){var i=[];e.forEach(function(n){n=r(n),Array.isArray(n)?i=i.concat(n):Fn(n)&&i.push(n)}),e=i}else typeof e=="string"&&e.trim()?e=[by({src:e})]:Fn(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[by(e)]:e=[];return e};function by(r){if(!r.type){var e=bd(r.src);e&&(r.type=e)}return r}var fL=function(r){xe(e,r);function e(i,n,t){var a,s=Ot({createEl:!1},n);if(a=r.call(this,i,s,t)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var l=0,d=n.playerOptions.techOrder;l<d.length;l++){var f=zt(d[l]),p=At.getTech(f);if(f||(p=de.getComponent(f)),p&&p.isSupported()){i.loadTech_(f);break}}else i.src(n.playerOptions.sources);return a}return e}(de);de.registerComponent("MediaLoader",fL);var vf=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var i=e.prototype;return i.createEl=function(t,a,s){t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=qt({className:this.buildCSSClass(),tabIndex:0},a),t==="button"&&at.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=qt({role:"button"},s),this.tabIndex_=a.tabIndex;var l=ft(t,a,s);return l.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},i.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},i.createControlTextEl=function(t){return this.controlTextEl_=ft("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},i.controlText=function(t,a){if(a===void 0&&(a=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,cs(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},i.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(t){et.isEventKey(t,"Space")||et.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(de);de.registerComponent("ClickableComponent",vf);var hL=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.update(),a.update_=function(s){return a.update(s)},n.on("posterchange",a.update_),a}var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},i.createEl=function(){var t=ft("div",{className:"vjs-poster",tabIndex:-1});return t},i.update=function(t){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},i.setSrc=function(t){var a="";t&&(a='url("'+t+'")'),this.el_.style.backgroundImage=a},i.handleClick=function(t){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((xl||Sl)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?en(this.player_.play()):this.player_.pause()}},e}(vf);de.registerComponent("PosterImage",hL);var Si="#222",Ty="#ccc",pL={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function bp(r,e){var i;if(r.length===4)i=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else if(r.length===7)i=r.slice(1);else throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Tp(r,e,i){try{r.style[e]=i}catch{return}}var gL=function(r){xe(e,r);function e(n,t,a){var s;s=r.call(this,n,t,a)||this;var l=function(f){return s.updateDisplay(f)};return n.on("loadstart",function(d){return s.toggleDisplay(d)}),n.on("texttrackchange",l),n.on("loadedmetadata",function(d){return s.preselectTrack(d)}),n.ready(Lt(Je(s),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",l),n.on("playerresize",l),H.addEventListener("orientationchange",l),n.on("dispose",function(){return H.removeEventListener("orientationchange",l)});for(var d=this.options_.playerOptions.tracks||[],f=0;f<d.length;f++)this.player_.addRemoteTextTrack(d[f],!0);this.preselectTrack()})),s}var i=e.prototype;return i.preselectTrack=function(){for(var t={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,l,d,f,p=0;p<a.length;p++){var y=a[p];s&&s.enabled&&s.language&&s.language===y.language&&y.kind in t?y.kind===s.kind?f=y:f||(f=y):s&&!s.enabled?(f=null,l=null,d=null):y.default&&(y.kind==="descriptions"&&!l?l=y:y.kind in t&&!d&&(d=y))}f?f.mode="showing":d?d.mode="showing":l&&(l.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof H.WebVTT=="function"&&H.WebVTT.processCues(H,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],l=0;l<t.length;++l){var d=t[l];d.mode==="showing"&&s.push(d)}this.updateForTrack(s);return}for(var f=null,p=null,y=t.length;y--;){var _=t[y];_.mode==="showing"&&(_.kind==="descriptions"?f=_:p=_)}p?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(p)):f&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))},i.updateDisplayState=function(t){for(var a=this.player_.textTrackSettings.getValues(),s=t.activeCues,l=s.length;l--;){var d=s[l];if(!!d){var f=d.displayState;if(a.color&&(f.firstChild.style.color=a.color),a.textOpacity&&Tp(f.firstChild,"color",bp(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(f.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Tp(f.firstChild,"backgroundColor",bp(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Tp(f,"backgroundColor",bp(a.windowColor,a.windowOpacity)):f.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?f.firstChild.style.textShadow="2px 2px 3px "+Si+", 2px 2px 4px "+Si+", 2px 2px 5px "+Si:a.edgeStyle==="raised"?f.firstChild.style.textShadow="1px 1px "+Si+", 2px 2px "+Si+", 3px 3px "+Si:a.edgeStyle==="depressed"?f.firstChild.style.textShadow="1px 1px "+Ty+", 0 1px "+Ty+", -1px -1px "+Si+", 0 -1px "+Si:a.edgeStyle==="uniform"&&(f.firstChild.style.textShadow="0 0 4px "+Si+", 0 0 4px "+Si+", 0 0 4px "+Si+", 0 0 4px "+Si)),a.fontPercent&&a.fontPercent!==1){var p=H.parseFloat(f.style.fontSize);f.style.fontSize=p*a.fontPercent+"px",f.style.height="auto",f.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?f.firstChild.style.fontVariant="small-caps":f.firstChild.style.fontFamily=pL[a.fontFamily])}}},i.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof H.WebVTT!="function"||t.every(function(x){return!x.activeCues}))){for(var a=[],s=0;s<t.length;++s)for(var l=t[s],d=0;d<l.activeCues.length;++d)a.push(l.activeCues[d]);H.WebVTT.processCues(H,a,this.el_);for(var f=0;f<t.length;++f){for(var p=t[f],y=0;y<p.activeCues.length;++y){var _=p.activeCues[y].displayState;Pn(_,"vjs-text-track-cue"),Pn(_,"vjs-text-track-cue-"+(p.language?p.language:f)),p.language&&vo(_,"lang",p.language)}this.player_.textTrackSettings&&this.updateDisplayState(p)}}},e}(de);de.registerComponent("TextTrackDisplay",gL);var mL=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var t=this.player_.isAudio(),a=this.localize(t?"Audio Player":"Video Player"),s=ft("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),l=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return l.appendChild(s),l},e}(de);de.registerComponent("LoadingSpinner",mL);var Fi=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(t,a,s){a===void 0&&(a={}),s===void 0&&(s={}),t="button",a=qt({className:this.buildCSSClass()},a),s=qt({type:"button"},s);var l=ft(t,a,s);return l.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},i.addChild=function(t,a){a===void 0&&(a={});var s=this.constructor.name;return at.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),de.prototype.addChild.call(this,t,a)},i.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(t){if(et.isEventKey(t,"Space")||et.isEventKey(t,"Enter")){t.stopPropagation();return}r.prototype.handleKeyDown.call(this,t)},e}(vf);de.registerComponent("Button",Fi);var bx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var a=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;en(a),this.player_.tech(!0)&&!((xl||Sl)&&s)&&this.player_.tech(!0).focus();return}var l=this.player_.getChild("controlBar"),d=l&&l.getChild("playToggle");if(!d){this.player_.tech(!0).focus();return}var f=function(){return d.focus()};Vu(a)?a.then(f,function(){}):this.setTimeout(f,1)},i.handleKeyDown=function(t){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,t)},i.handleMouseDown=function(t){this.mouseused_=!0},e}(Fi);bx.prototype.controlText_="Play Video";de.registerComponent("BigPlayButton",bx);var vL=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.controlText(t&&t.controlText||a.localize("Close")),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(t){et.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(Fi);de.registerComponent("CloseButton",vL);var Tx=function(r){xe(e,r);function e(n,t){var a;return t===void 0&&(t={}),a=r.call(this,n,t)||this,t.replay=t.replay===void 0||t.replay,a.on(n,"play",function(s){return a.handlePlay(s)}),a.on(n,"pause",function(s){return a.handlePause(s)}),t.replay&&a.on(n,"ended",function(s){return a.handleEnded(s)}),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.player_.paused()?en(this.player_.play()):this.player_.pause()},i.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},i.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(t){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(Fi);Tx.prototype.controlText_="Play";de.registerComponent("PlayToggle",Tx);var Sx=function(e,i){e=e<0?0:e;var n=Math.floor(e%60),t=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(i/60%60),l=Math.floor(i/3600);return(isNaN(e)||e===1/0)&&(a=t=n="-"),a=a>0||l>0?a+":":"",t=((a||s>=10)&&t<10?"0"+t:t)+":",n=n<10?"0"+n:n,a+t+n},Um=Sx;function _L(r){Um=r}function yL(){Um=Sx}function To(r,e){return e===void 0&&(e=r),Um(r,e)}var Do=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.on(n,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var i=e.prototype;return i.createEl=function(){var t=this.buildCSSClass(),a=r.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=ft("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=ft("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},i.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},i.updateTextNode_=function(t){var a=this;t===void 0&&(t=0),t=To(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,at.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=be.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},i.updateContent=function(t){},e}(de);Do.prototype.labelText_="Time";Do.prototype.controlText_="Time";de.registerComponent("TimeDisplay",Do);var jm=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(Do);jm.prototype.labelText_="Current Time";jm.prototype.controlText_="Current Time";de.registerComponent("CurrentTimeDisplay",jm);var Hm=function(r){xe(e,r);function e(n,t){var a;a=r.call(this,n,t)||this;var s=function(d){return a.updateContent(d)};return a.on(n,"durationchange",s),a.on(n,"loadstart",s),a.on(n,"loadedmetadata",s),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(t){var a=this.player_.duration();this.updateTextNode_(a)},e}(Do);Hm.prototype.labelText_="Duration";Hm.prototype.controlText_="Duration";de.registerComponent("DurationDisplay",Hm);var bL=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=r.prototype.createEl.call(this,"div"),s=r.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),t.appendChild(a),t},e}(de);de.registerComponent("TimeDivider",bL);var Vm=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.on(n,"durationchange",function(s){return a.updateContent(s)}),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var t=r.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&t.insertBefore(ft("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},i.updateContent=function(t){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(Do);Vm.prototype.labelText_="Remaining Time";Vm.prototype.controlText_="Remaining Time";de.registerComponent("RemainingTimeDisplay",Vm);var TL=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var i=e.prototype;return i.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ft("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ft("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(be.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},i.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(de);de.registerComponent("LiveDisplay",TL);var xx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var i=e.prototype;return i.createEl=function(){var t=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ft("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},e}(Fi);xx.prototype.controlText_="Seek to live, currently playing live";de.registerComponent("SeekToLive",xx);var _f=function(e,i,n){return e=Number(e),Math.min(n,Math.max(i,isNaN(e)?i:e))},qm=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(t,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=qt({tabIndex:0},a),s=qt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),r.prototype.createEl.call(this,t,a,s)},i.handleMouseDown=function(t){var a=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!Hn&&t.preventDefault(),QS(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;ZS(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var t=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},i.getProgress=function(){return Number(_f(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(t){var a=ff(this.el_,t);return this.vertical()?a.y:a.x},i.handleKeyDown=function(t){et.isEventKey(t,"Left")||et.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):et.isEventKey(t,"Right")||et.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,t)},i.handleClick=function(t){t.stopPropagation(),t.preventDefault()},i.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(de);de.registerComponent("Slider",qm);var Sp=function(e,i){return _f(e/i*100,0,100).toFixed(2)+"%"},SL=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.partEls_=[],a.on(n,"progress",function(s){return a.update(s)}),a}var i=e.prototype;return i.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ft("span",{className:"vjs-control-text"}),s=ft("span",{textContent:this.localize("Loaded")}),l=be.createTextNode(": ");return this.percentageEl_=ft("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(a),a.appendChild(s),a.appendChild(l),a.appendChild(this.percentageEl_),t},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},i.update=function(t){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,l=a.player_.buffered(),d=s&&s.isLive()?s.seekableEnd():a.player_.duration(),f=a.player_.bufferedEnd(),p=a.partEls_,y=Sp(f,d);a.percent_!==y&&(a.el_.style.width=y,cs(a.percentageEl_,y),a.percent_=y);for(var _=0;_<l.length;_++){var x=l.start(_),A=l.end(_),P=p[_];P||(P=a.el_.appendChild(ft()),p[_]=P),!(P.dataset.start===x&&P.dataset.end===A)&&(P.dataset.start=x,P.dataset.end=A,P.style.left=Sp(x,f),P.style.width=Sp(A-x,f))}for(var D=p.length;D>l.length;D--)a.el_.removeChild(p[D-1]);p.length=l.length})},e}(de);de.registerComponent("LoadProgressBar",SL);var xL=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.update=Mn(Lt(Je(a),a.update),Bi),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,a,s){var l=ll(this.el_),d=_o(this.player_.el()),f=t.width*a;if(!(!d||!l)){var p=t.left-d.left+f,y=t.width-f+(d.right-t.right),_=l.width/2;p<_?_+=_-p:y<_&&(_=y),_<0?_=0:_>l.width&&(_=l.width),_=Math.round(_),this.el_.style.right="-"+_+"px",this.write(s)}},i.write=function(t){cs(this.el_,t)},i.updateTime=function(t,a,s,l){var d=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var f,p=d.player_.duration();if(d.player_.liveTracker&&d.player_.liveTracker.isLive()){var y=d.player_.liveTracker.liveWindow(),_=y-a*y;f=(_<1?"":"-")+To(_,y)}else f=To(s,p);d.update(t,a,f),l&&l()})},e}(de);de.registerComponent("TimeTooltip",xL);var $m=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.update=Mn(Lt(Je(a),a.update),Bi),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(t,a){var s=this.getChild("timeTooltip");if(!!s){var l=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,a,l)}},e}(de);$m.prototype.options_={children:[]};!Vr&&!jn&&$m.prototype.options_.children.push("timeTooltip");de.registerComponent("PlayProgressBar",$m);var Ex=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.update=Mn(Lt(Je(a),a.update),Bi),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,a){var s=this,l=a*this.player_.duration();this.getChild("timeTooltip").updateTime(t,a,l,function(){s.el_.style.left=t.width*a+"px"})},e}(de);Ex.prototype.options_={children:["timeTooltip"]};de.registerComponent("MouseTimeDisplay",Ex);var Uc=5,Sy=12,Wm=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.setEventHandlers_(),a}var i=e.prototype;return i.setEventHandlers_=function(){var t=this;this.update_=Lt(this,this.update),this.update=Mn(this.update_,Bi),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return t.enableInterval_(a)},this.disableIntervalHandler_=function(a){return t.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in be&&"visibilityState"in be&&this.on(be,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){be.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Bi))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(t){var a=this;if(be.visibilityState!=="hidden"){var s=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var l=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),d=a.player_.liveTracker,f=a.player_.duration();d&&d.isLive()&&(f=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==l||a.duration_!==f)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[To(l,f),To(f,f)],"{1} of {2}")),a.currentTime_=l,a.duration_=f),a.bar&&a.bar.update(_o(a.el()),a.getProgress())}),s}},i.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=t/this.player_.duration(),a},i.handleMouseDown=function(t){!cl(t)||(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,t))},i.handleMouseMove=function(t,a){if(a===void 0&&(a=!1),!!cl(t)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,l=this.calculateDistance(t),d=this.player_.liveTracker;if(!d||!d.isLive())s=l*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(l>=.99){d.seekToLiveEdge();return}var f=d.seekableStart(),p=d.liveCurrentTime();if(s=f+l*d.liveWindow(),s>=p&&(s=p),s<=f&&(s=f+.1),s===1/0)return}this.userSeek_(s)}},i.enable=function(){r.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.show()},i.disable=function(){r.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.hide()},i.handleMouseUp=function(t){r.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?en(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+Uc)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-Uc)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(t){var a=this.player_.liveTracker;if(et.isEventKey(t,"Space")||et.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(et.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(et.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(et(t))){t.preventDefault(),t.stopPropagation();var s=(et.codes[et(t)]-et.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else et.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-Uc*Sy)):et.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+Uc*Sy)):r.prototype.handleKeyDown.call(this,t)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in be&&"visibilityState"in be&&this.off(be,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},e}(qm);Wm.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Vr&&!jn&&Wm.prototype.options_.children.splice(1,0,"mouseTimeDisplay");de.registerComponent("SeekBar",Wm);var Cx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.handleMouseMove=Mn(Lt(Je(a),a.handleMouseMove),Bi),a.throttledHandleMouseSeek=Mn(Lt(Je(a),a.handleMouseSeek),Bi),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),l=a.getChild("mouseTimeDisplay");if(!(!s&&!l)){var d=a.el(),f=ll(d),p=ff(d,t).x;p=_f(p,0,1),l&&l.update(f,p),s&&s.update(f,a.getProgress())}}},i.handleMouseSeek=function(t){var a=this.getChild("seekBar");a&&a.handleMouseMove(t)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&en(this.player_.play())}},i.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(t){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(t){var a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(de);Cx.prototype.options_={children:["seekBar"]};de.registerComponent("ProgressControl",Cx);var wx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.on(n,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(n,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=n.currentType().substring(0,5)==="audio";s||n.audioPosterMode()||n.audioOnlyMode()?(n.isInPictureInPicture()&&n.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){be.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Fi);wx.prototype.controlText_="Picture-in-Picture";de.registerComponent("PictureInPictureToggle",wx);var Ax=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.on(n,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),be[n.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Fi);Ax.prototype.controlText_="Fullscreen";de.registerComponent("FullscreenToggle",Ax);var EL=function(e,i){i.tech_&&!i.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},CL=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(r.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(de);de.registerComponent("VolumeLevel",CL);var wL=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.update=Mn(Lt(Je(a),a.update),Bi),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(t,a,s,l){if(!s){var d=_o(this.el_),f=_o(this.player_.el()),p=t.width*a;if(!f||!d)return;var y=t.left-f.left+p,_=t.width-p+(f.right-t.right),x=d.width/2;y<x?x+=x-y:_<x&&(x=_),x<0?x=0:x>d.width&&(x=d.width),this.el_.style.right="-"+x+"px"}this.write(l+"%")},i.write=function(t){cs(this.el_,t)},i.updateVolume=function(t,a,s,l,d){var f=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){f.update(t,a,s,l.toFixed(0)),d&&d()})},e}(de);de.registerComponent("VolumeLevelTooltip",wL);var kx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.update=Mn(Lt(Je(a),a.update),Bi),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,a,s){var l=this,d=100*a;this.getChild("volumeLevelTooltip").updateVolume(t,a,s,d,function(){s?l.el_.style.bottom=t.height*a+"px":l.el_.style.left=t.width*a+"px"})},e}(de);kx.prototype.options_={children:["volumeLevelTooltip"]};de.registerComponent("MouseVolumeLevelDisplay",kx);var yf=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(n,"volumechange",function(s){return a.updateARIAAttributes(s)}),n.ready(function(){return a.updateARIAAttributes()}),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(t){!cl(t)||r.prototype.handleMouseDown.call(this,t)},i.handleMouseMove=function(t){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),l=_o(s),d=this.vertical(),f=ff(s,t);f=d?f.y:f.x,f=_f(f,0,1),a.update(l,f,d)}!cl(t)||(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(t){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var t=this,a=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(a)})},e}(qm);yf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Vr&&!jn&&yf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");yf.prototype.playerEvent="volumechange";de.registerComponent("VolumeBar",yf);var Dx=function(r){xe(e,r);function e(n,t){var a;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||ol(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),a=r.call(this,n,t)||this,EL(Je(a),n),a.throttledHandleMouseMove=Mn(Lt(Je(a),a.handleMouseMove),Bi),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var i=e.prototype;return i.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},i.handleMouseDown=function(t){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(t){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(de);Dx.prototype.options_={children:["volumeBar"]};de.registerComponent("VolumeControl",Dx);var AL=function(e,i){i.tech_&&!i.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Px=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,AL(Je(a),n),a.on(n,["loadstart","volumechange"],function(s){return a.update(s)}),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},i.handleClick=function(t){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var l=s<.1?.1:s;this.player_.volume(l),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(t){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),a=3;Vr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?a=0:t<.33?a=1:t<.67&&(a=2);for(var s=0;s<4;s++)El(this.el_,"vjs-vol-"+s);Pn(this.el_,"vjs-vol-"+a)},i.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,a=t?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(Fi);Px.prototype.controlText_="Mute";de.registerComponent("MuteToggle",Px);var Ix=function(r){xe(e,r);function e(n,t){var a;return t===void 0&&(t={}),typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||ol(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),a=r.call(this,n,t)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(n,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},i.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){et.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),fi(be,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),Or(be,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(t){et.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(de);Ix.prototype.options_={children:["muteToggle","volumeControl"]};de.registerComponent("VolumePanel",Ix);var Ox=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,t&&(a.menuButton_=t.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof de&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof de&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),r.prototype.removeChild.call(this,t)},i.addItem=function(t){var a=this.addChild(t);a&&this.addEventListenerForItem(a)},i.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=ft(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),fi(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},i.handleBlur=function(t){var a=t.relatedTarget||be.activeElement;if(!this.children().some(function(l){return l.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(l){return l.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(t){et.isEventKey(t,"Left")||et.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(et.isEventKey(t,"Right")||et.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){t===void 0&&(t=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(t<0?t=0:t>=a.length&&(t=a.length-1),this.focusedChild_=t,a[t].el_.focus())},e}(de);de.registerComponent("Menu",Ox);var Gm=function(r){xe(e,r);function e(n,t){var a;t===void 0&&(t={}),a=r.call(this,n,t)||this,a.menuButton_=new Fi(n,t),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Fi.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var l=function(f){return a.handleClick(f)};return a.handleMenuKeyUp_=function(d){return a.handleMenuKeyUp(d)},a.on(a.menuButton_,"tap",l),a.on(a.menuButton_,"click",l),a.on(a.menuButton_,"keydown",function(d){return a.handleKeyDown(d)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),fi(be,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(d){return a.handleMouseLeave(d)}),a.on("keydown",function(d){return a.handleSubmenuKeyDown(d)}),a}var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},i.createMenu=function(){var t=new Ox(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ft("li",{className:"vjs-menu-title",textContent:zt(this.options_.title),tabIndex:-1}),s=new de(this.player_,{el:a});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var l=0;l<this.items.length;l++)t.addItem(this.items[l]);return t},i.createItems=function(){},i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var a=Fi.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+a+" "+r.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+r.prototype.buildCSSClass.call(this)},i.controlText=function(t,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(t,a)},i.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Or(be,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){et.isEventKey(t,"Esc")||et.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),et.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(et.isEventKey(t,"Up")||et.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(et.isEventKey(t,"Esc")||et.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(et.isEventKey(t,"Esc")||et.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),et.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Vr&&zS())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(de);de.registerComponent("MenuButton",Gm);var zm=function(r){xe(e,r);function e(i,n){var t,a=n.tracks;if(t=r.call(this,i,n)||this,t.items.length<=1&&t.hide(),!a)return Je(t);var s=Lt(Je(t),t.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),t}return e}(Gm);de.registerComponent("TrackButton",zm);var kL=["Tab","Esc","Up","Down","Right","Left"],wl=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.selectable=t.selectable,a.isSelected_=t.selected||!1,a.multiSelectable=t.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var i=e.prototype;return i.createEl=function(t,a,s){this.nonIconControl=!0;var l=r.prototype.createEl.call(this,"li",qt({className:"vjs-menu-item",tabIndex:-1},a),s);return l.replaceChild(ft("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),l.querySelector(".vjs-icon-placeholder")),l},i.handleKeyDown=function(t){kL.some(function(a){return et.isEventKey(t,a)})||r.prototype.handleKeyDown.call(this,t)},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(vf);de.registerComponent("MenuItem",wl);var Al=function(r){xe(e,r);function e(n,t){var a,s=t.track,l=n.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",a=r.call(this,n,t)||this,a.track=s,a.kinds=(t.kinds||[t.kind||a.track.kind]).filter(Boolean);var d=function(){for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];a.handleTracksChange.apply(Je(a),x)},f=function(){for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];a.handleSelectedLanguageChange.apply(Je(a),x)};if(n.on(["loadstart","texttrackchange"],d),l.addEventListener("change",d),l.addEventListener("selectedlanguagechange",f),a.on("dispose",function(){n.off(["loadstart","texttrackchange"],d),l.removeEventListener("change",d),l.removeEventListener("selectedlanguagechange",f)}),l.onchange===void 0){var p;a.on(["tap","click"],function(){if(typeof H.Event!="object")try{p=new H.Event("change")}catch{}p||(p=be.createEvent("Event"),p.initEvent("change",!0,!0)),l.dispatchEvent(p)})}return a.handleTracksChange(),a}var i=e.prototype;return i.handleClick=function(t){var a=this.track,s=this.player_.textTracks();if(r.prototype.handleClick.call(this,t),!!s)for(var l=0;l<s.length;l++){var d=s[l];this.kinds.indexOf(d.kind)!==-1&&(d===a?d.mode!=="showing"&&(d.mode="showing"):d.mode!=="disabled"&&(d.mode="disabled"))}},i.handleTracksChange=function(t){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},i.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,r.prototype.dispose.call(this)},e}(wl);de.registerComponent("TextTrackMenuItem",Al);var Lx=function(r){xe(e,r);function e(n,t){return t.track={player:n,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,r.call(this,n,t)||this}var i=e.prototype;return i.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,d=a.length;l<d;l++){var f=a[l];if(this.options_.kinds.indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},i.handleSelectedLanguageChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,d=a.length;l<d;l++){var f=a[l];if(["captions","descriptions","subtitles"].indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Al);de.registerComponent("OffTextTrackMenuItem",Lx);var Po=function(r){xe(e,r);function e(n,t){return t===void 0&&(t={}),t.tracks=n.textTracks(),r.call(this,n,t)||this}var i=e.prototype;return i.createItems=function(t,a){t===void 0&&(t=[]),a===void 0&&(a=Al);var s;this.label_&&(s=this.label_+" off"),t.push(new Lx(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var l=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var d=0;d<l.length;d++){var f=l[d];if(this.kinds_.indexOf(f.kind)>-1){var p=new a(this.player_,{track:f,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});p.addClass("vjs-"+f.kind+"-menu-item"),t.push(p)}}return t},e}(zm);de.registerComponent("TextTrackButton",Po);var Rx=function(r){xe(e,r);function e(n,t){var a,s=t.track,l=t.cue,d=n.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=l.text,t.selected=l.startTime<=d&&d<l.endTime,a=r.call(this,n,t)||this,a.track=s,a.cue=l,a}var i=e.prototype;return i.handleClick=function(t){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(wl);de.registerComponent("ChaptersTrackMenuItem",Rx);var Km=function(r){xe(e,r);function e(n,t,a){var s;return s=r.call(this,n,t,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(l){l.selected(s.track_.activeCues[0]===l.cue)})},s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},i.update=function(t){if(!(t&&t.track&&t.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),r.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&r.prototype.update.call(this)}},i.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},i.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],a=t.length-1;a>=0;a--){var s=t[a];if(s.kind===this.kind_)return s}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(zt(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.track_)return t;var a=this.track_.cues;if(!a)return t;for(var s=0,l=a.length;s<l;s++){var d=a[s],f=new Rx(this.player_,{track:this.track_,cue:d});t.push(f)}return t},e}(Po);Km.prototype.kind_="chapters";Km.prototype.controlText_="Chapters";de.registerComponent("ChaptersButton",Km);var Xm=function(r){xe(e,r);function e(n,t,a){var s;s=r.call(this,n,t,a)||this;var l=n.textTracks(),d=Lt(Je(s),s.handleTracksChange);return l.addEventListener("change",d),s.on("dispose",function(){l.removeEventListener("change",d)}),s}var i=e.prototype;return i.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!1,l=0,d=a.length;l<d;l++){var f=a[l];if(f.kind!==this.kind_&&f.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(Po);Xm.prototype.kind_="descriptions";Xm.prototype.controlText_="Descriptions";de.registerComponent("DescriptionsButton",Xm);var Jm=function(r){xe(e,r);function e(n,t,a){return r.call(this,n,t,a)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(Po);Jm.prototype.kind_="subtitles";Jm.prototype.controlText_="Subtitles";de.registerComponent("SubtitlesButton",Jm);var Ym=function(r){xe(e,r);function e(n,t){var a;return t.track={player:n,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",a=r.call(this,n,t)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+t.kind+" settings dialog"),a}var i=e.prototype;return i.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Al);de.registerComponent("CaptionSettingsMenuItem",Ym);var Qm=function(r){xe(e,r);function e(n,t,a){return r.call(this,n,t,a)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Ym(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,t)},e}(Po);Qm.prototype.kind_="captions";Qm.prototype.controlText_="Captions";de.registerComponent("CaptionsButton",Qm);var Nx=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),d=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(d.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),d.appendChild(ft("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),l},e}(Al);de.registerComponent("SubsCapsMenuItem",Nx);var Zm=function(r){xe(e,r);function e(n,t){var a;return t===void 0&&(t={}),a=r.call(this,n,t)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(zt(a.label_)),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Ym(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=r.prototype.createItems.call(this,t,Nx),t},e}(Po);Zm.prototype.kinds_=["captions","subtitles"];Zm.prototype.controlText_="Subtitles";de.registerComponent("SubsCapsButton",Zm);var Fx=function(r){xe(e,r);function e(n,t){var a,s=t.track,l=n.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,a=r.call(this,n,t)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var d=function(){for(var p=arguments.length,y=new Array(p),_=0;_<p;_++)y[_]=arguments[_];a.handleTracksChange.apply(Je(a),y)};return l.addEventListener("change",d),a.on("dispose",function(){l.removeEventListener("change",d)}),a}var i=e.prototype;return i.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),d=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(d.appendChild(ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),d.appendChild(ft("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),l},i.handleClick=function(t){if(r.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];l!==this.track&&(l.enabled=l===this.track)}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(wl);de.registerComponent("AudioTrackMenuItem",Fx);var Mx=function(r){xe(e,r);function e(n,t){return t===void 0&&(t={}),t.tracks=n.audioTracks(),r.call(this,n,t)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];t.push(new Fx(this.player_,{track:l,selectable:!0,multiSelectable:!1}))}return t},e}(zm);Mx.prototype.controlText_="Audio Track";de.registerComponent("AudioTrackButton",Mx);var ev=function(r){xe(e,r);function e(n,t){var a,s=t.rate,l=parseFloat(s,10);return t.label=s,t.selected=l===n.playbackRate(),t.selectable=!0,t.multiSelectable=!1,a=r.call(this,n,t)||this,a.label=s,a.rate=l,a.on(n,"ratechange",function(d){return a.update(d)}),a}var i=e.prototype;return i.handleClick=function(t){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(wl);ev.prototype.contentElType="button";de.registerComponent("PlaybackRateMenuItem",ev);var Bx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(n,"loadstart",function(s){return a.updateVisibility(s)}),a.on(n,"ratechange",function(s){return a.updateLabel(s)}),a.on(n,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var i=e.prototype;return i.createEl=function(){var t=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ft("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},i.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var t=this.playbackRates(),a=[],s=t.length-1;s>=0;s--)a.push(new ev(this.player(),{rate:t[s]+"x"}));return a},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){var a=this.player().playbackRate(),s=this.playbackRates(),l=s.indexOf(a),d=(l+1)%s.length;this.player().playbackRate(s[d])},i.handlePlaybackRateschange=function(t){this.update()},i.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Gm);Bx.prototype.controlText_="Playback Rate";de.registerComponent("PlaybackRateMenuButton",Bx);var Ux=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},i.createEl=function(t,a,s){return t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),r.prototype.createEl.call(this,t,a,s)},e}(de);de.registerComponent("Spacer",Ux);var DL=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(Ux);de.registerComponent("CustomControlSpacer",DL);var Td=function(r){xe(e,r);function e(){return r.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(de);Td.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in be&&Td.prototype.options_.children.splice(Td.prototype.options_.children.length-1,0,"pictureInPictureToggle");de.registerComponent("ControlBar",Td);var jx=function(r){xe(e,r);function e(n,t){var a;return a=r.call(this,n,t)||this,a.on(n,"error",function(s){return a.open(s)}),a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Ao);jx.prototype.options_=wi({},Ao.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});de.registerComponent("ErrorDisplay",jx);var xp="vjs-text-track-settings",xy=["#000","Black"],Ey=["#00F","Blue"],Cy=["#0FF","Cyan"],wy=["#0F0","Green"],Ay=["#F0F","Magenta"],ky=["#F00","Red"],Dy=["#FFF","White"],Py=["#FF0","Yellow"],Ep=["1","Opaque"],Cp=["0.5","Semi-Transparent"],Iy=["0","Transparent"],Ya={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[xy,Dy,ky,wy,Ey,Py,Ay,Cy]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ep,Cp,Iy]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Dy,xy,ky,wy,Ey,Py,Ay,Cy]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ep,Cp]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Iy,Cp,Ep]}};Ya.windowColor.options=Ya.backgroundColor.options;function Hx(r,e){if(e&&(r=e(r)),r&&r!=="none")return r}function PL(r,e){var i=r.options[r.options.selectedIndex].value;return Hx(i,e)}function IL(r,e,i){if(!!e){for(var n=0;n<r.options.length;n++)if(Hx(r.options[n].value,i)===e){r.selectedIndex=n;break}}}var OL=function(r){xe(e,r);function e(n,t){var a;return t.temporary=!1,a=r.call(this,n,t)||this,a.updateDisplay=a.updateDisplay.bind(Je(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ft("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),t.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),eo(Ya,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var i=e.prototype;return i.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},i.createElSelect_=function(t,a,s){var l=this;a===void 0&&(a=""),s===void 0&&(s="label");var d=Ya[t],f=d.id.replace("%s",this.id_),p=[a,f].join(" ").trim();return["<"+s+' id="'+f+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(d.label),"</"+s+">",'<select aria-labelledby="'+p+'">'].concat(d.options.map(function(y){var _=f+"-"+y[1].replace(/\W+/g,"");return['<option id="'+_+'" value="'+y[0]+'" ','aria-labelledby="'+p+" "+_+'">',l.localize(y[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return ft("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return ft("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return ft("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t=this;return bO(Ya,function(a,s,l){var d=PL(t.$(s.selector),s.parser);return d!==void 0&&(a[l]=d),a},{})},i.setValues=function(t){var a=this;eo(Ya,function(s,l){IL(a.$(s.selector),t[l],s.parser)})},i.setDefaults=function(){var t=this;eo(Ya,function(a){var s=a.hasOwnProperty("default")?a.default:0;t.$(a.selector).selectedIndex=s})},i.restoreSettings=function(){var t;try{t=JSON.parse(H.localStorage.getItem(xp))}catch(a){at.warn(a)}t&&this.setValues(t)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?H.localStorage.setItem(xp,JSON.stringify(t)):H.localStorage.removeItem(xp)}catch(a){at.warn(a)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,a=t&&t.subsCapsButton,s=t&&t.captionsButton;a?a.focus():s&&s.focus()},e}(Ao);de.registerComponent("TextTrackSettings",OL);var LL=function(r){xe(e,r);function e(n,t){var a,s=t.ResizeObserver||H.ResizeObserver;t.ResizeObserver===null&&(s=!1);var l=Ot({createEl:!s,reportTouchActivity:!1},t);return a=r.call(this,n,l)||this,a.ResizeObserver=t.ResizeObserver||H.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=IO(function(){a.resizeHandler()},100,!1,Je(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(n.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var d=a.debouncedHandler_,f=a.unloadListener_=function(){Or(this,"resize",d),Or(this,"unload",f),f=null};fi(a.el_.contentWindow,"unload",f),fi(a.el_.contentWindow,"resize",d)}},a.one("load",a.loadListener_)),a}var i=e.prototype;return i.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},e}(de);de.registerComponent("ResizeManager",LL);var RL={trackingThreshold:20,liveTolerance:15},NL=function(r){xe(e,r);function e(n,t){var a,s=Ot(RL,t,{createEl:!1});return a=r.call(this,n,s)||this,a.handleVisibilityChange_=function(l){return a.handleVisibilityChange(l)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(l){return a.handlePlay(l)},a.handleFirstTimeupdate_=function(l){return a.handleFirstTimeupdate(l)},a.handleSeeked_=function(l){return a.handleSeeked(l)},a.seekToLiveEdge_=function(l){return a.seekToLiveEdge(l)},a.reset_(),a.on(a.player_,"durationchange",function(l){return a.handleDurationchange(l)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),xl&&"hidden"in be&&"visibilityState"in be&&a.on(be,"visibilitychange",a.handleVisibilityChange_),a}var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(be.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var a=Number(H.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var l=this.liveCurrentTime(),d=this.player_.currentTime(),f=this.player_.paused()||this.seekedBehindLive_||Math.abs(l-d)>this.options_.liveTolerance;(!this.timeupdateSeen_||l===1/0)&&(f=!1),f!==this.behindLiveEdge_&&(this.behindLiveEdge_=f,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Bi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.end(s));return a.length?a.sort()[a.length-1]:1/0},i.seekableStart=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.start(s));return a.length?a.sort()[0]:0},i.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(be,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},e}(de);de.registerComponent("LiveTracker",NL);var gg=function(e){var i=e.el();if(i.hasAttribute("src"))return e.triggerSourceset(i.src),!0;var n=e.$$("source"),t=[],a="";if(!n.length)return!1;for(var s=0;s<n.length;s++){var l=n[s].src;l&&t.indexOf(l)===-1&&t.push(l)}return t.length?(t.length===1&&(a=t[0]),e.triggerSourceset(a),!0):!1},FL=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=be.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var n=be.createDocumentFragment();i.childNodes.length;)n.appendChild(i.childNodes[0]);return this.innerText="",H.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Vx=function(e,i){for(var n={},t=0;t<e.length&&(n=Object.getOwnPropertyDescriptor(e[t],i),!(n&&n.set&&n.get));t++);return n.enumerable=!0,n.configurable=!0,n},ML=function(e){return Vx([e.el(),H.HTMLMediaElement.prototype,H.Element.prototype,FL],"innerHTML")},Oy=function(e){var i=e.el();if(!i.resetSourceWatch_){var n={},t=ML(e),a=function(l){return function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];var y=l.apply(i,f);return gg(e),y}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!i[s]||(n[s]=i[s],i[s]=a(n[s]))}),Object.defineProperty(i,"innerHTML",Ot(t,{set:a(t.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(n).forEach(function(s){i[s]=n[s]}),Object.defineProperty(i,"innerHTML",t)},e.one("sourceset",i.resetSourceWatch_)}},BL=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?gx(H.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return H.Element.prototype.setAttribute.call(this,"src",e),e}}),UL=function(e){return Vx([e.el(),H.HTMLMediaElement.prototype,BL],"src")},jL=function(e){if(!!e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var n=UL(e),t=i.setAttribute,a=i.load;Object.defineProperty(i,"src",Ot(n,{set:function(l){var d=n.set.call(i,l);return e.triggerSourceset(i.src),d}})),i.setAttribute=function(s,l){var d=t.call(i,s,l);return/src/i.test(s)&&e.triggerSourceset(i.src),d},i.load=function(){var s=a.call(i);return gg(e)||(e.triggerSourceset(""),Oy(e)),s},i.currentSrc?e.triggerSourceset(i.currentSrc):gg(e)||Oy(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=a,i.setAttribute=t,Object.defineProperty(i,"src",n),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},tv=function(e,i,n,t){t===void 0&&(t=!0);var a=function(d){return Object.defineProperty(e,i,{value:d,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var d=n();return a(d),d}};return t&&(s.set=a),Object.defineProperty(e,i,s)},Pe=function(r){xe(e,r);function e(n,t){var a;a=r.call(this,n,t)||this;var s=n.source,l=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||n.tag&&n.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),n.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var d=a.el_.childNodes,f=d.length,p=[];f--;){var y=d[f],_=y.nodeName.toLowerCase();_==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(y),a.remoteTextTracks().addTrack(y.track),a.textTracks().addTrack(y.track),!l&&!a.el_.hasAttribute("crossorigin")&&mf(y.src)&&(l=!0)):p.push(y))}for(var x=0;x<p.length;x++)a.el_.removeChild(p[x])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&l&&at.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(mo||Pm||VS)&&n.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){jL(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),a,s=function(){a=[];for(var f=0;f<t.length;f++){var p=t[f];p.kind==="metadata"&&a.push({track:p,storedMode:p.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var l=function d(){for(var f=0;f<a.length;f++){var p=a[f];p.track.mode==="disabled"&&p.track.mode!==p.storedMode&&(p.track.mode=p.storedMode)}t.removeEventListener("change",d)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",l),t.addEventListener("change",l)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",l)})},i.overrideNative_=function(t,a){var s=this;if(a===this["featuresNative"+t+"Tracks"]){var l=t.toLowerCase();this[l+"TracksListeners_"]&&Object.keys(this[l+"TracksListeners_"]).forEach(function(d){var f=s.el()[l+"Tracks"];f.removeEventListener(d,s[l+"TracksListeners_"][d])}),this["featuresNative"+t+"Tracks"]=!a,this[l+"TracksListeners_"]=null,this.proxyNativeTracksForType_(l)}},i.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},i.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},i.proxyNativeTracksForType_=function(t){var a=this,s=Ci[t],l=this.el()[s.getterName],d=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!l||!l.addEventListener)){var f={change:function(_){var x={type:"change",target:d,currentTarget:d,srcElement:d};d.trigger(x),t==="text"&&a[bo.remoteText.getterName]().trigger(x)},addtrack:function(_){d.addTrack(_.track)},removetrack:function(_){d.removeTrack(_.track)}},p=function(){for(var _=[],x=0;x<d.length;x++){for(var A=!1,P=0;P<l.length;P++)if(l[P]===d[x]){A=!0;break}A||_.push(d[x])}for(;_.length;)d.removeTrack(_.shift())};this[s.getterName+"Listeners_"]=f,Object.keys(f).forEach(function(y){var _=f[y];l.addEventListener(y,_),a.on("dispose",function(x){return l.removeEventListener(y,_)})}),this.on("loadstart",p),this.on("dispose",function(y){return a.off("loadstart",p)})}},i.proxyNativeTracks_=function(){var t=this;Ci.names.forEach(function(a){t.proxyNativeTracksForType_(a)})},i.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var a=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(a,t),e.disposeMediaElement(t),t=a}else{t=be.createElement("video");var s=this.options_.tag&&Cn(this.options_.tag),l=Ot({},s);(!mo||this.options_.nativeControlsForTouch!==!0)&&delete l.controls,JS(t,qt(l,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&vo(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var d=["loop","muted","playsinline","autoplay"],f=0;f<d.length;f++){var p=d[f],y=this.options_[p];typeof y<"u"&&(y?vo(t,p,p):df(t,p),t[p]=y)}return t},i.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var l=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",l),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",l),a||this.trigger("loadstart")});return}var d=["loadstart"];d.push("loadedmetadata"),t.readyState>=2&&d.push("loadeddata"),t.readyState>=3&&d.push("canplay"),t.readyState>=4&&d.push("canplaythrough"),this.ready(function(){d.forEach(function(f){this.trigger(f)},this)})}},i.setScrubbing=function(t){this.isScrubbing_=t},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&cf?this.el_.fastSeek(t):this.el_.currentTime=t}catch(a){at(a,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.el_.duration===1/0&&jn&&Hn&&this.el_.currentTime===0){var a=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",a)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=H.navigator&&H.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)en(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):r.prototype.requestVideoFrameCallback.call(this,t)},i.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):r.prototype.cancelVideoFrameCallback.call(this,t)},i.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(t){this.el_.controls=!!t},i.addTextTrack=function(t,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,a,s):r.prototype.addTextTrack.call(this,t,a,s)},i.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,t);var a=be.createElement("track");return t.kind&&(a.kind=t.kind),t.label&&(a.label=t.label),(t.language||t.srclang)&&(a.srclang=t.language||t.srclang),t.default&&(a.default=t.default),t.id&&(a.id=t.id),t.src&&(a.src=t.src),a},i.addRemoteTextTrack=function(t,a){var s=r.prototype.addRemoteTextTrack.call(this,t,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},i.removeRemoteTextTrack=function(t){if(r.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(t===a[s]||t===a[s].track)&&this.el().removeChild(a[s])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),H.performance&&typeof H.performance.now=="function"?t.creationTime=H.performance.now():H.performance&&H.performance.timing&&typeof H.performance.timing.navigationStart=="number"&&(t.creationTime=H.Date.now()-H.performance.timing.navigationStart),t},e}(At);tv(Pe,"TEST_VID",function(){if(!!Eo()){var r=be.createElement("video"),e=be.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",r.appendChild(e),r}});Pe.isSupported=function(){try{Pe.TEST_VID.volume=.5}catch{return!1}return!!(Pe.TEST_VID&&Pe.TEST_VID.canPlayType)};Pe.canPlayType=function(r){return Pe.TEST_VID.canPlayType(r)};Pe.canPlaySource=function(r,e){return Pe.canPlayType(r.type)};Pe.canControlVolume=function(){try{var r=Pe.TEST_VID.volume;Pe.TEST_VID.volume=r/2+.1;var e=r!==Pe.TEST_VID.volume;return e&&Vr?(H.setTimeout(function(){Pe&&Pe.prototype&&(Pe.prototype.featuresVolumeControl=r!==Pe.TEST_VID.volume)}),!1):e}catch{return!1}};Pe.canMuteVolume=function(){try{var r=Pe.TEST_VID.muted;return Pe.TEST_VID.muted=!r,Pe.TEST_VID.muted?vo(Pe.TEST_VID,"muted","muted"):df(Pe.TEST_VID,"muted","muted"),r!==Pe.TEST_VID.muted}catch{return!1}};Pe.canControlPlaybackRate=function(){if(jn&&Hn&&$S<58)return!1;try{var r=Pe.TEST_VID.playbackRate;return Pe.TEST_VID.playbackRate=r/2+.1,r!==Pe.TEST_VID.playbackRate}catch{return!1}};Pe.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(be.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(be.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(be.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(be.createElement("audio"),"innerHTML",{get:r,set:r})}catch{return!1}return!0};Pe.supportsNativeTextTracks=function(){return cf||Vr&&Hn};Pe.supportsNativeVideoTracks=function(){return!!(Pe.TEST_VID&&Pe.TEST_VID.videoTracks)};Pe.supportsNativeAudioTracks=function(){return!!(Pe.TEST_VID&&Pe.TEST_VID.audioTracks)};Pe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var e=r[0],i=r[1];tv(Pe.prototype,e,function(){return Pe[i]()},!0)});Pe.prototype.featuresVolumeControl=Pe.canControlVolume();Pe.prototype.movingMediaElementInDOM=!Vr;Pe.prototype.featuresFullscreenResize=!0;Pe.prototype.featuresProgressEvents=!0;Pe.prototype.featuresTimeupdateEvents=!0;Pe.prototype.featuresVideoFrameCallback=!!(Pe.TEST_VID&&Pe.TEST_VID.requestVideoFrameCallback);var Sd;Pe.patchCanPlayType=function(){Am>=4&&!qS&&!Hn&&(Sd=Pe.TEST_VID&&Pe.TEST_VID.constructor.prototype.canPlayType,Pe.TEST_VID.constructor.prototype.canPlayType=function(r){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return r&&e.test(r)?"maybe":Sd.call(this,r)})};Pe.unpatchCanPlayType=function(){var r=Pe.TEST_VID.constructor.prototype.canPlayType;return Sd&&(Pe.TEST_VID.constructor.prototype.canPlayType=Sd),r};Pe.patchCanPlayType();Pe.disposeMediaElement=function(r){if(!!r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};Pe.resetMediaElement=function(r){if(!!r){for(var e=r.querySelectorAll("source"),i=e.length;i--;)r.removeChild(e[i]);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){Pe.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){Pe.prototype["set"+zt(r)]=function(e){this.el_[r]=e,e?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){Pe.prototype[r]=function(){return this.el_[r]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){Pe.prototype["set"+zt(r)]=function(e){this.el_[r]=e}});["pause","load","play"].forEach(function(r){Pe.prototype[r]=function(){return this.el_[r]()}});At.withSourceHandlers(Pe);Pe.nativeSourceHandler={};Pe.nativeSourceHandler.canPlayType=function(r){try{return Pe.TEST_VID.canPlayType(r)}catch{return""}};Pe.nativeSourceHandler.canHandleSource=function(r,e){if(r.type)return Pe.nativeSourceHandler.canPlayType(r.type);if(r.src){var i=Mm(r.src);return Pe.nativeSourceHandler.canPlayType("video/"+i)}return""};Pe.nativeSourceHandler.handleSource=function(r,e,i){e.setSrc(r.src)};Pe.nativeSourceHandler.dispose=function(){};Pe.registerSourceHandler(Pe.nativeSourceHandler);At.registerTech("Html5",Pe);var qx=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],wp={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},mg=["tiny","xsmall","small","medium","large","xlarge","huge"],ed={};mg.forEach(function(r){var e=r.charAt(0)==="x"?"x-"+r.substring(1):r;ed[r]="vjs-layout-"+e});var HL={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Zt=function(r){xe(e,r);function e(n,t,a){var s;if(n.id=n.id||t.id||"vjs_video_"+Vn(),t=qt(e.getTagSettings(n),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof n.closest=="function"){var l=n.closest("[lang]");l&&l.getAttribute&&(t.language=l.getAttribute("lang"))}else for(var d=n;d&&d.nodeType===1;){if(Cn(d).hasOwnProperty("lang")){t.language=d.getAttribute("lang");break}d=d.parentNode}if(s=r.call(this,null,t,a)||this,s.boundDocumentFullscreenChange_=function(_){return s.documentFullscreenChange_(_)},s.boundFullWindowOnEscKey_=function(_){return s.fullWindowOnEscKey(_)},s.boundUpdateStyleEl_=function(_){return s.updateStyleEl_(_)},s.boundApplyInitTime_=function(_){return s.applyInitTime_(_)},s.boundUpdateCurrentBreakpoint_=function(_){return s.updateCurrentBreakpoint_(_)},s.boundHandleTechClick_=function(_){return s.handleTechClick_(_)},s.boundHandleTechDoubleClick_=function(_){return s.handleTechDoubleClick_(_)},s.boundHandleTechTouchStart_=function(_){return s.handleTechTouchStart_(_)},s.boundHandleTechTouchMove_=function(_){return s.handleTechTouchMove_(_)},s.boundHandleTechTouchEnd_=function(_){return s.handleTechTouchEnd_(_)},s.boundHandleTechTap_=function(_){return s.handleTechTap_(_)},s.isFullscreen_=!1,s.log=US(s.id_),s.fsApi_=vd,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=n,s.tagAttributes=n&&Cn(n),s.language(s.options_.language),t.languages){var f={};Object.getOwnPropertyNames(t.languages).forEach(function(_){f[_.toLowerCase()]=t.languages[_]}),s.languages_=f}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,n.controls=!1,n.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],n.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(_){if(typeof s[_]!="function")throw new Error('plugin "'+_+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Rm(Je(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(fi(be,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var p=Ot(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(_){s[_](t.plugins[_])}),t.debug&&s.debug(!0),s.options_.playerOptions=p,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(n.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),mo&&s.addClass("vjs-touch-enabled"),Vr||s.addClass("vjs-workinghover"),e.players[s.id_]=Je(s);var y=FS.split(".")[0];return s.addClass("vjs-v"+y),s.userActive(!0),s.reportUserActivity(),s.one("play",function(_){return s.listenForUserActivity_(_)}),s.on("stageclick",function(_){return s.handleStageClick_(_)}),s.on("keydown",function(_){return s.handleKeyDown(_)}),s.on("languagechange",function(_){return s.handleLanguagechange(_)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var i=e.prototype;return i.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),Or(be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Or(be,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),oL(this),Fr.names.forEach(function(a){var s=Fr[a],l=t[s.getterName]();l&&l.off&&l.off()}),r.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},i.createEl=function(){var t=this.tag,a,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),l=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=t.parentNode:l||(a=this.el_=r.prototype.createEl.call(this,"div"));var d=Cn(t);if(l){for(a=this.el_=t,t=this.tag=be.createElement("video");a.children.length;)t.appendChild(a.firstChild);ns(a,"video-js")||Pn(a,"video-js"),a.appendChild(t),s=this.playerElIngest_=a,Object.keys(a).forEach(function(A){try{t[A]=a[A]}catch{}})}if(t.setAttribute("tabindex","-1"),d.tabindex="-1",(xl||Hn&&WS)&&(t.setAttribute("role","application"),d.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in d&&delete d.width,"height"in d&&delete d.height,Object.getOwnPropertyNames(d).forEach(function(A){l&&A==="class"||a.setAttribute(A,d[A]),l&&t.setAttribute(A,d[A])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=a.player=this,this.addClass("vjs-paused"),H.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=sx("vjs-styles-dimensions");var f=Ta(".vjs-styles-defaults"),p=Ta("head");p.insertBefore(this.styleEl_,f?f.nextSibling:p.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var y=t.getElementsByTagName("a"),_=0;_<y.length;_++){var x=y.item(_);Pn(x,"vjs-hidden"),x.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(a,t),ug(t,a),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},i.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){at.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,a){var s=t+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var l=parseFloat(a);if(isNaN(l)){at.error('Improper value "'+a+'" supplied for for '+t);return}this[s]=l,this.updateStyleEl_()},i.fluid=function(t){var a=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,In(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),OO(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(H.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),a>=0&&(s.height=a));return}var l,d,f,p;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?f=this.aspectRatio_:this.videoWidth()>0?f=this.videoWidth()+":"+this.videoHeight():f="16:9";var y=f.split(":"),_=y[1]/y[0];this.width_!==void 0?l=this.width_:this.height_!==void 0?l=this.height_/_:l=this.videoWidth()||300,this.height_!==void 0?d=this.height_:d=l*_,/^[^a-zA-Z]/.test(this.id())?p="dimensions-"+this.id():p=this.id()+"-dimensions",this.addClass(p),ox(this.styleEl_,`
      .`+p+` {
        width: `+l+`px;
        height: `+d+`px;
      }

      .`+p+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+_*100+`%;
      }
    `)},i.loadTech_=function(t,a){var s=this;this.tech_&&this.unloadTech_();var l=zt(t),d=t.charAt(0).toLowerCase()+t.slice(1);l!=="Html5"&&this.tag&&(At.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=l,this.isReady_=!1;var f=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(f=!1);var p={source:a,autoplay:f,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+d+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Fr.names.forEach(function(_){var x=Fr[_];p[x.getterName]=s[x.privateName]}),qt(p,this.options_[l]),qt(p,this.options_[d]),qt(p,this.options_[t.toLowerCase()]),this.tag&&(p.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(p.startTime=this.cache_.currentTime);var y=At.getTech(t);if(!y)throw new Error("No Tech named '"+l+"' exists! '"+l+"' should be registered using videojs.registerTech()'");this.tech_=new y(p),this.tech_.ready(Lt(this,this.handleTechReady_),!0),hy.jsonToTextTracks(this.textTracksJson_||[],this.tech_),qx.forEach(function(_){s.on(s.tech_,_,function(x){return s["handleTech"+zt(_)+"_"](x)})}),Object.keys(wp).forEach(function(_){s.on(s.tech_,_,function(x){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+wp[_]+"_"].bind(s),event:x});return}s["handleTech"+wp[_]+"_"](x)})}),this.on(this.tech_,"loadstart",function(_){return s.handleTechLoadStart_(_)}),this.on(this.tech_,"sourceset",function(_){return s.handleTechSourceset_(_)}),this.on(this.tech_,"waiting",function(_){return s.handleTechWaiting_(_)}),this.on(this.tech_,"ended",function(_){return s.handleTechEnded_(_)}),this.on(this.tech_,"seeking",function(_){return s.handleTechSeeking_(_)}),this.on(this.tech_,"play",function(_){return s.handleTechPlay_(_)}),this.on(this.tech_,"firstplay",function(_){return s.handleTechFirstPlay_(_)}),this.on(this.tech_,"pause",function(_){return s.handleTechPause_(_)}),this.on(this.tech_,"durationchange",function(_){return s.handleTechDurationChange_(_)}),this.on(this.tech_,"fullscreenchange",function(_,x){return s.handleTechFullscreenChange_(_,x)}),this.on(this.tech_,"fullscreenerror",function(_,x){return s.handleTechFullscreenError_(_,x)}),this.on(this.tech_,"enterpictureinpicture",function(_){return s.handleTechEnterPictureInPicture_(_)}),this.on(this.tech_,"leavepictureinpicture",function(_){return s.handleTechLeavePictureInPicture_(_)}),this.on(this.tech_,"error",function(_){return s.handleTechError_(_)}),this.on(this.tech_,"posterchange",function(_){return s.handleTechPosterChange_(_)}),this.on(this.tech_,"textdata",function(_){return s.handleTechTextData_(_)}),this.on(this.tech_,"ratechange",function(_){return s.handleTechRateChange_(_)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(l!=="Html5"||!this.tag)&&ug(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var t=this;Fr.names.forEach(function(a){var s=Fr[a];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=hy.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(t){return t===void 0&&at.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(t){var a=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var f=a.muted();a.muted(!0);var p=function(){a.muted(f)};a.playTerminatedQueue_.push(p);var y=a.play();if(!!Vu(y))return y.catch(function(_){throw p(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(_||""))})},l;if(t==="any"&&!this.muted()?(l=this.play(),Vu(l)&&(l=l.catch(s))):t==="muted"&&!this.muted()?l=s():l=this.play(),!!Vu(l))return l.then(function(){a.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:t})})}},i.updateSourceCaches_=function(t){t===void 0&&(t="");var a=t,s="";typeof a!="string"&&(a=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=cL(this,a)),this.cache_.source=Ot({},t,{src:a,type:s});for(var l=this.cache_.sources.filter(function(x){return x.src&&x.src===a}),d=[],f=this.$$("source"),p=[],y=0;y<f.length;y++){var _=Cn(f[y]);d.push(_),_.src&&_.src===a&&p.push(_.src)}p.length&&!l.length?this.cache_.sources=d:l.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},i.handleTechSourceset_=function(t){var a=this;if(!this.changingSrc_){var s=function(p){return a.updateSourceCaches_(p)},l=this.currentSource().src,d=t.src;l&&!/^blob:/.test(l)&&/^blob:/.test(d)&&(!this.lastSource_||this.lastSource_.tech!==d&&this.lastSource_.player!==l)&&(s=function(){}),s(d),t.src||this.tech_.any(["sourceset","loadstart"],function(f){if(f.type!=="sourceset"){var p=a.techGet("currentSrc");a.lastSource_.tech=p,a.updateSourceCaches_(p)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},i.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function l(){a!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",l))};this.on("timeupdate",s)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(at.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(t){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?en(this.play()):this.pause())},i.handleTechDoubleClick_=function(t){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(t){var a=t.target.player;if(!(a&&a!==this)){var s=this.el(),l=be[this.fsApi_.fullscreenElement]===s;!l&&s.matches?l=s.matches(":"+this.fsApi_.fullscreen):!l&&s.msMatchesSelector&&(l=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(l)}},i.handleTechFullscreenChange_=function(t,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},i.handleTechFullscreenError_=function(t,a){this.trigger("fullscreenerror",a)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var t=this.tech_.error();this.error(t)},i.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(t,a){this.ready(function(){if(t in aL)return iL(this.middleware_,this.tech_,t,a);if(t in yy)return _y(this.middleware_,this.tech_,t,a);try{this.tech_&&this.tech_[t](a)}catch(s){throw at(s),s}},!0)},i.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in nL)return rL(this.middleware_,this.tech_,t);if(t in yy)return _y(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(a){throw this.tech_[t]===void 0?(at("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(at("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(at(a),a)}}},i.play=function(){var t=this,a=this.options_.Promise||H.Promise;return a?new a(function(s){t.play_(s)}):this.play_()},i.play_=function(t){var a=this;t===void 0&&(t=en),this.playCallbacks_.push(t);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),l=Boolean(cf||Vr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(p){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&l&&this.load();return}var d=this.techGet_("play"),f=l&&this.hasClass("vjs-ended");f&&this.resetProgressBar_(),d===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},i.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(a){a()})},i.runPlayCallbacks_=function(t){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(t)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||as(0,0)},i.scrubbing=function(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(t){if(typeof t<"u"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=as(0,0)),t},i.bufferedPercent=function(){return hx(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),a=this.duration(),s=t.end(t.length-1);return s>a&&(s=a),s},i.volume=function(t){var a;if(t!==void 0){a=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},i.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},i.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(t){if(t!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(t){var a=this.options_.Promise||H.Promise;if(a){var s=this;return new a(function(l,d){function f(){s.off("fullscreenerror",y),s.off("fullscreenchange",p)}function p(){f(),l()}function y(x,A){f(),d(A)}s.one("fullscreenchange",p),s.one("fullscreenerror",y);var _=s.requestFullscreenHelper_(t);_&&(_.then(f,f),_.then(l,d))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(t){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var l=this.el_[this.fsApi_.requestFullscreen](s);return l&&l.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),l}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var t=this.options_.Promise||H.Promise;if(t){var a=this;return new t(function(s,l){function d(){a.off("fullscreenerror",p),a.off("fullscreenchange",f)}function f(){d(),s()}function p(_,x){d(),l(x)}a.one("fullscreenchange",f),a.one("fullscreenerror",p);var y=a.exitFullscreenHelper_();y&&(y.then(d,d),y.then(s,l))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var a=be[this.fsApi_.exitFullscreen]();return a&&en(a.then(function(){return t.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=be.documentElement.style.overflow,fi(be,"keydown",this.boundFullWindowOnEscKey_),be.documentElement.style.overflow="hidden",Pn(be.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){et.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Or(be,"keydown",this.boundFullWindowOnEscKey_),be.documentElement.style.overflow=this.docOrigOverflow,El(be.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in be&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in be)return be.exitPictureInPicture()},i.handleKeyDown=function(t){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(d){var f=d.tagName.toLowerCase();if(d.isContentEditable)return!0;var p=["button","checkbox","hidden","radio","reset","submit"];if(f==="input")return p.indexOf(d.type)===-1;var y=["textarea"];return y.indexOf(f)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,t):this.handleHotkeys(t))}},i.handleHotkeys=function(t){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,l=s===void 0?function(P){return et.isEventKey(P,"f")}:s,d=a.muteKey,f=d===void 0?function(P){return et.isEventKey(P,"m")}:d,p=a.playPauseKey,y=p===void 0?function(P){return et.isEventKey(P,"k")||et.isEventKey(P,"Space")}:p;if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var _=de.getComponent("FullscreenToggle");be[this.fsApi_.fullscreenEnabled]!==!1&&_.prototype.handleClick.call(this,t)}else if(f.call(this,t)){t.preventDefault(),t.stopPropagation();var x=de.getComponent("MuteToggle");x.prototype.handleClick.call(this,t)}else if(y.call(this,t)){t.preventDefault(),t.stopPropagation();var A=de.getComponent("PlayToggle");A.prototype.handleClick.call(this,t)}},i.canPlayType=function(t){for(var a,s=0,l=this.options_.techOrder;s<l.length;s++){var d=l[s],f=At.getTech(d);if(f||(f=de.getComponent(d)),!f){at.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.');continue}if(f.isSupported()&&(a=f.canPlayType(t),a))return a}return""},i.selectSource=function(t){var a=this,s=this.options_.techOrder.map(function(y){return[y,At.getTech(y)]}).filter(function(y){var _=y[0],x=y[1];return x?x.isSupported():(at.error('The "'+_+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),l=function(_,x,A){var P;return _.some(function(D){return x.some(function(R){if(P=A(D,R),P)return!0})}),P},d,f=function(_){return function(x,A){return _(A,x)}},p=function(_,x){var A=_[0],P=_[1];if(P.canPlaySource(x,a.options_[A.toLowerCase()]))return{source:x,tech:A}};return this.options_.sourceOrder?d=l(t,s,f(p)):d=l(s,t,p),d||!1},i.handleSrc_=function(t,a){var s=this;if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var l=dL(t);if(!l.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=l),this.updateSourceCaches_(l[0]),eL(this,l[0],function(p,y){s.middleware_=y,a||(s.cache_.sources=l),s.updateSourceCaches_(p);var _=s.src_(p);if(_){if(l.length>1)return s.handleSrc_(l.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}tL(y,s.tech_)}),this.options_.retryOnError&&l.length>1){var d=function(){s.error(null),s.handleSrc_(l.slice(1),!0)},f=function(){s.off("error",d)};this.one("error",d),this.one("playing",f),this.resetRetryOnError_=function(){s.off("error",d),s.off("playing",f)}}},i.src=function(t){return this.handleSrc_(t,!1)},i.src_=function(t){var a=this,s=this.selectSource([t]);return s?NO(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var t=this,a=this.options_.Promise||H.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();en(s.then(function(){return t.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),In(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},a=t.durationDisplay,s=t.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var t=this.currentSource(),a=[];return Object.keys(t).length!==0&&a.push(t),this.cache_.sources||a},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},i.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var a;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),a=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},i.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},i.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},i.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(t){var a=this;if(t===void 0)return this.error_||null;if(ba("beforeerror").forEach(function(l){var d=l(a,t);if(!(Fn(d)&&!Array.isArray(d)||typeof d=="string"||typeof d=="number"||d===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=d}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Hr(t),this.addClass("vjs-error"),at.error("(CODE:"+this.error_.code+" "+Hr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ba("error").forEach(function(l){return l(a,a.error_)})},i.reportUserActivity=function(t){this.userActivity_=!0},i.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var t,a,s,l=Lt(this,this.reportUserActivity),d=function(A){(A.screenX!==a||A.screenY!==s)&&(a=A.screenX,s=A.screenY,l())},f=function(){l(),this.clearInterval(t),t=this.setInterval(l,250)},p=function(A){l(),this.clearInterval(t)};this.on("mousedown",f),this.on("mousemove",d),this.on("mouseup",p),this.on("mouseleave",p);var y=this.getChild("controlBar");y&&!Vr&&!jn&&(y.on("mouseenter",function(x){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),y.on("mouseleave",function(x){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",l),this.on("keyup",l);var _;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(_);var x=this.options_.inactivityTimeout;x<=0||(_=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},x))}},250)},i.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},i.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),l=s&&s.currentHeight();a.forEach(function(d){d!==s&&d.el_&&!d.hasClass("vjs-hidden")&&(d.hide(),t.audioOnlyCache_.hiddenChildren.push(d))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(l),this.trigger("audioonlymodechange")},i.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},i.audioOnlyMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var s=this.options_.Promise||H.Promise;if(s){if(t){var l=[];return this.isInPictureInPicture()&&l.push(this.exitPictureInPicture()),this.isFullscreen()&&l.push(this.exitFullscreen()),this.audioPosterMode()&&l.push(this.audioPosterMode(!1)),s.all(l).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},i.enablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.disablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.audioPosterMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var s=this.options_.Promise||H.Promise;if(s){if(t){if(this.audioOnlyMode()){var l=this.audioOnlyMode(!1);return l.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(t){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},i.addTextTrack=function(t,a,s){if(this.tech_)return this.tech_.addTextTrack(t,a,s)},i.addRemoteTextTrack=function(t,a){if(this.tech_)return this.tech_.addRemoteTextTrack(t,a)},i.removeRemoteTextTrack=function(t){t===void 0&&(t={});var a=t,s=a.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),In(this)&&this.trigger("languagechange"))},i.languages=function(){return Ot(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var t=Ot(this.options_),a=t.tracks;t.tracks=[];for(var s=0;s<a.length;s++){var l=a[s];l=Ot(l),l.player=void 0,t.tracks[s]=l}return t},i.createModal=function(t,a){var s=this;a=a||{},a.content=t||"";var l=new Ao(this,a);return this.addChild(l),l.on("dispose",function(){s.removeChild(l)}),l.open(),l},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var t=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<mg.length;s++){var l=mg[s],d=this.breakpoints_[l];if(a<=d){if(t===l)return;t&&this.removeClass(ed[t]),this.addClass(ed[l]),this.breakpoint_=l;break}}},i.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},i.breakpoints=function(t){return t===void 0?qt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=qt({},HL,t),this.updateCurrentBreakpoint_(),qt(this.breakpoints_))},i.responsive=function(t){if(t===void 0)return this.responsive_;t=Boolean(t);var a=this.responsive_;if(t!==a)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return ed[this.breakpoint_]||""},i.loadMedia=function(t,a){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=Ot(t);var l=this.cache_.media,d=l.artwork,f=l.poster,p=l.src,y=l.textTracks;!d&&f&&(this.cache_.media.artwork=[{src:f,type:bd(f)}]),p&&this.src(p),f&&this.poster(f),Array.isArray(y)&&y.forEach(function(_){return s.addRemoteTextTrack(_,!1)}),this.ready(a)}},i.getMedia=function(){if(!this.cache_.media){var t=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(d){return{kind:d.kind,label:d.label,language:d.language,src:d.src}}),l={src:a,textTracks:s};return t&&(l.poster=t,l.artwork=[{src:l.poster,type:bd(l.poster)}]),l}return Ot(this.cache_.media)},e.getTagSettings=function(t){var a={sources:[],tracks:[]},s=Cn(t),l=s["data-setup"];if(ns(t,"vjs-fill")&&(s.fill=!0),ns(t,"vjs-fluid")&&(s.fluid=!0),l!==null){var d=xD(l||"{}"),f=d[0],p=d[1];f&&at.error(f),qt(s,p)}if(qt(a,s),t.hasChildNodes())for(var y=t.childNodes,_=0,x=y.length;_<x;_++){var A=y[_],P=A.nodeName.toLowerCase();P==="source"?a.sources.push(Cn(A)):P==="track"&&a.tracks.push(Cn(A))}return a},i.flexNotSupported_=function(){var t=be.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},i.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;!Array.isArray(t)||!t.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(de);Fr.names.forEach(function(r){var e=Fr[r];Zt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Zt.prototype.crossorigin=Zt.prototype.crossOrigin;Zt.players={};var xu=H.navigator;Zt.prototype.options_={techOrder:At.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:xu&&(xu.languages&&xu.languages[0]||xu.userLanguage||xu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(r){Zt.prototype[r]=function(){return this.techGet_(r)}});qx.forEach(function(r){Zt.prototype["handleTech"+zt(r)+"_"]=function(){return this.trigger(r)}});de.registerComponent("Player",Zt);var xd="plugin",to="activePlugins_",Ws={},Ed=function(e){return Ws.hasOwnProperty(e)},td=function(e){return Ed(e)?Ws[e]:void 0},$x=function(e,i){e[to]=e[to]||{},e[to][i]=!0},Cd=function(e,i,n){var t=(n?"before":"")+"pluginsetup";e.trigger(t,i),e.trigger(t+":"+i.name,i)},VL=function(e,i){var n=function(){Cd(this,{name:e,plugin:i,instance:null},!0);var a=i.apply(this,arguments);return $x(this,e),Cd(this,{name:e,plugin:i,instance:a}),a};return Object.keys(i).forEach(function(t){n[t]=i[t]}),n},Ly=function(e,i){return i.prototype.name=e,function(){Cd(this,{name:e,plugin:i,instance:null},!0);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];var s=VT(i,[this].concat(t));return this[e]=function(){return s},Cd(this,s.getEventHash()),s}},ln=function(){function r(i){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),Rm(this),delete this.trigger,fx(this,this.constructor.defaultState),$x(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var e=r.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,t){return t===void 0&&(t={}),wo(this.eventBusEl_,n,this.getEventHash(t))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[to][n]=!1,this.player=this.state=null,t[n]=Ly(n,Ws[n])},r.isBasic=function(n){var t=typeof n=="string"?td(n):n;return typeof t=="function"&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(n,t){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(Ed(n))at.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(Zt.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof t+".");return Ws[n]=t,n!==xd&&(r.isBasic(t)?Zt.prototype[n]=VL(n,t):Zt.prototype[n]=Ly(n,t)),t},r.deregisterPlugin=function(n){if(n===xd)throw new Error("Cannot de-register base plugin.");Ed(n)&&(delete Ws[n],delete Zt.prototype[n])},r.getPlugins=function(n){n===void 0&&(n=Object.keys(Ws));var t;return n.forEach(function(a){var s=td(a);s&&(t=t||{},t[a]=s)}),t},r.getPluginVersion=function(n){var t=td(n);return t&&t.VERSION||""},r}();ln.getPlugin=td;ln.BASE_PLUGIN_NAME=xd;ln.registerPlugin(xd,ln);Zt.prototype.usingPlugin=function(r){return!!this[to]&&this[to][r]===!0};Zt.prototype.hasPlugin=function(r){return!!Ed(r)};var Ry=!1,qL=function(e,i){i===void 0&&(i={}),Ry||(at.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Ry=!0);var n=function(){e.apply(this,arguments)},t={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(n=i.constructor),t=i):typeof i=="function"&&(n=i),cP(n,e),e&&(n.super_=e);for(var a in t)t.hasOwnProperty(a)&&(n.prototype[a]=t[a]);return n},Wx=function(e){return e.indexOf("#")===0?e.slice(1):e};function J(r,e,i){var n=J.getPlayer(r);if(n)return e&&at.warn('Player "'+r+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var t=typeof r=="string"?Ta("#"+Wx(r)):r;if(!Co(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&at.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(t.parentNode&&t.parentNode.hasAttribute("data-vjs-player")?t.parentNode:t).cloneNode(!0)),ba("beforesetup").forEach(function(s){var l=s(t,Ot(e));if(!Fn(l)||Array.isArray(l)){at.error("please return an object in beforesetup hooks");return}e=Ot(e,l)});var a=de.getComponent("Player");return n=new a(t,e,i),ba("setup").forEach(function(s){return s(n)}),n}J.hooks_=wn;J.hooks=ba;J.hook=mO;J.hookOnce=vO;J.removeHook=MS;if(H.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Eo()){var jc=Ta(".vjs-styles-defaults");if(!jc){jc=sx("vjs-styles-defaults");var Ap=Ta("head");Ap&&Ap.insertBefore(jc,Ap.firstChild),ox(jc,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}cg(1,J);J.VERSION=FS;J.options=Zt.prototype.options_;J.getPlayers=function(){return Zt.players};J.getPlayer=function(r){var e=Zt.players,i;if(typeof r=="string"){var n=Wx(r),t=e[n];if(t)return t;i=Ta("#"+n)}else i=r;if(Co(i)){var a=i,s=a.player,l=a.playerId;if(s||e[l])return s||e[l]}};J.getAllPlayers=function(){return Object.keys(Zt.players).map(function(r){return Zt.players[r]}).filter(Boolean)};J.players=Zt.players;J.getComponent=de.getComponent;J.registerComponent=function(r,e){At.isTech(e)&&at.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),de.registerComponent.call(de,r,e)};J.getTech=At.getTech;J.registerTech=At.registerTech;J.use=ZO;Object.defineProperty(J,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(J.middleware,"TERMINATOR",{value:yd,writeable:!1,enumerable:!0});J.browser=xO;J.TOUCH_ENABLED=mo;J.extend=qL;J.mergeOptions=Ot;J.bind=Lt;J.registerPlugin=ln.registerPlugin;J.deregisterPlugin=ln.deregisterPlugin;J.plugin=function(r,e){return at.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ln.registerPlugin(r,e)};J.getPlugins=ln.getPlugins;J.getPlugin=ln.getPlugin;J.getPluginVersion=ln.getPluginVersion;J.addLanguage=function(r,e){var i;return r=(""+r).toLowerCase(),J.options.languages=Ot(J.options.languages,(i={},i[r]=e,i)),J.options.languages[r]};J.log=at;J.createLogger=US;J.createTimeRange=J.createTimeRanges=as;J.formatTime=To;J.setFormatTime=_L;J.resetFormatTime=yL;J.parseUrl=Fm;J.isCrossOrigin=mf;J.EventTarget=pr;J.on=fi;J.one=pf;J.off=Or;J.trigger=wo;J.xhr=Zd.exports;J.TextTrack=Cl;J.AudioTrack=mx;J.VideoTrack=vx;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){J[r]=function(){return at.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),nx[r].apply(null,arguments)}});J.computedStyle=ul;J.dom=nx;J.url=XO;J.defineLazyProperty=tv;J.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var Li=tf,wd=function(e,i,n){return e&&n&&n.responseURL&&i!==n.responseURL?n.responseURL:i},ji=function(e){return J.log.debug?J.log.debug.bind(J,"VHS:",e+" >"):function(){}},Sa=1/30,tn=Sa*3,Gx=function(e,i){var n=[],t;if(e&&e.length)for(t=0;t<e.length;t++)i(e.start(t),e.end(t))&&n.push([e.start(t),e.end(t)]);return J.createTimeRanges(n)},Gs=function(e,i){return Gx(e,function(n,t){return n-tn<=i&&t+tn>=i})},Hc=function(e,i){return Gx(e,function(n){return n-Sa>=i})},$L=function(e){if(e.length<2)return J.createTimeRanges();for(var i=[],n=1;n<e.length;n++){var t=e.end(n-1),a=e.start(n);i.push([t,a])}return J.createTimeRanges(i)},WL=function(e,i){var n=null,t=null,a=0,s=[],l=[];if(!e||!e.length||!i||!i.length)return J.createTimeRange();for(var d=e.length;d--;)s.push({time:e.start(d),type:"start"}),s.push({time:e.end(d),type:"end"});for(d=i.length;d--;)s.push({time:i.start(d),type:"start"}),s.push({time:i.end(d),type:"end"});for(s.sort(function(f,p){return f.time-p.time}),d=0;d<s.length;d++)s[d].type==="start"?(a++,a===2&&(n=s[d].time)):s[d].type==="end"&&(a--,a===1&&(t=s[d].time)),n!==null&&t!==null&&(l.push([n,t]),n=null,t=null);return J.createTimeRanges(l)},zx=function(e){var i=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)i.push(e.start(n)+" => "+e.end(n));return i.join(", ")},GL=function(e,i,n){n===void 0&&(n=1);var t=e.length?e.end(e.length-1):0;return(t-i)/n},Za=function(e){for(var i=[],n=0;n<e.length;n++)i.push({start:e.start(n),end:e.end(n)});return i},zL=function(e,i){if(e===i)return!1;if(!e&&i||!i&&e||e.length!==i.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==i.start(n)||e.end(n)!==i.end(n))return!0;return!1},Ny=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},rv=function(e,i){var n=0;if(!e||!e.length)return n;for(var t=0;t<e.length;t++){var a=e.start(t),s=e.end(t);if(!(i>s)){if(i>a&&i<=s){n+=s-i;continue}n+=s-a}}return n},Fy=J.createTimeRange,iv=function(e,i){if(!i.preload)return i.duration;var n=0;return(i.parts||[]).forEach(function(t){n+=t.duration}),(i.preloadHints||[]).forEach(function(t){t.type==="PART"&&(n+=e.partTargetDuration)}),n},vg=function(e){return(e.segments||[]).reduce(function(i,n,t){return n.parts?n.parts.forEach(function(a,s){i.push({duration:a.duration,segmentIndex:t,partIndex:s,part:a,segment:n})}):i.push({duration:n.duration,segmentIndex:t,partIndex:null,segment:n,part:null}),i},[])},Kx=function(e){var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return i&&i.parts||[]},Xx=function(e){var i=e.preloadSegment;if(!!i){var n=i.parts,t=i.preloadHints,a=(t||[]).reduce(function(s,l){return s+(l.type==="PART"?1:0)},0);return a+=n&&n.length?n.length:0,a}},Jx=function(e,i){if(i.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=Kx(i).length>0;return n&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:n&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},KL=function(e,i){var n=0,t=i-e.mediaSequence,a=e.segments[t];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;t--;){if(a=e.segments[t],typeof a.end<"u")return{result:n+a.end,precise:!0};if(n+=iv(e,a),typeof a.start<"u")return{result:n+a.start,precise:!0}}return{result:n,precise:!1}},XL=function(e,i){for(var n=0,t,a=i-e.mediaSequence;a<e.segments.length;a++){if(t=e.segments[a],typeof t.start<"u")return{result:t.start-n,precise:!0};if(n+=iv(e,t),typeof t.end<"u")return{result:t.end-n,precise:!0}}return{result:-1,precise:!1}},Yx=function(e,i,n){if(typeof i>"u"&&(i=e.mediaSequence+e.segments.length),i<e.mediaSequence)return 0;var t=KL(e,i);if(t.precise)return t.result;var a=XL(e,i);return a.precise?a.result:t.result+n},Qx=function(e,i,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof i>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return H.Infinity}return Yx(e,i,n)},qu=function(e){var i=e.defaultDuration,n=e.durationList,t=e.startIndex,a=e.endIndex,s=0;if(t>a){var l=[a,t];t=l[0],a=l[1]}if(t<0){for(var d=t;d<Math.min(0,a);d++)s+=i;t=0}for(var f=t;f<a;f++)s+=n[f].duration;return s},Zx=function(e,i,n,t){if(!e||!e.segments)return null;if(e.endList)return Qx(e);if(i===null)return null;i=i||0;var a=Yx(e,e.mediaSequence+e.segments.length,i);return n&&(t=typeof t=="number"?t:Jx(null,e),a-=t),Math.max(0,a)},JL=function(e,i,n){var t=!0,a=i||0,s=Zx(e,i,t,n);return s===null?Fy():Fy(a,s)},YL=function(e){for(var i=e.playlist,n=e.currentTime,t=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,l=e.experimentalExactManifestTimings,d=n-s,f=vg(i),p=0,y=0;y<f.length;y++){var _=f[y];if(t===_.segmentIndex&&!(typeof a=="number"&&typeof _.partIndex=="number"&&a!==_.partIndex)){p=y;break}}if(d<0){if(p>0)for(var x=p-1;x>=0;x--){var A=f[x];if(d+=A.duration,l){if(d<0)continue}else if(d+Sa<=0)continue;return{partIndex:A.partIndex,segmentIndex:A.segmentIndex,startTime:s-qu({defaultDuration:i.targetDuration,durationList:f,startIndex:p,endIndex:x})}}return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:n}}if(p<0){for(var P=p;P<0;P++)if(d-=i.targetDuration,d<0)return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:n};p=0}for(var D=p;D<f.length;D++){var R=f[D];if(d-=R.duration,l){if(d>0)continue}else if(d-Sa>=0)continue;return{partIndex:R.partIndex,segmentIndex:R.segmentIndex,startTime:s+qu({defaultDuration:i.targetDuration,durationList:f,startIndex:p,endIndex:D})}}return{segmentIndex:f[f.length-1].segmentIndex,partIndex:f[f.length-1].partIndex,startTime:n}},e2=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},nv=function(e){return e.excludeUntil&&e.excludeUntil===1/0},bf=function(e){var i=e2(e);return!e.disabled&&!i},QL=function(e){return e.disabled},ZL=function(e){for(var i=0;i<e.segments.length;i++)if(e.segments[i].key)return!0;return!1},t2=function(e,i){return i.attributes&&i.attributes[e]},e5=function(e,i,n,t){if(t===void 0&&(t=0),!t2("BANDWIDTH",n))return NaN;var a=e*n.attributes.BANDWIDTH;return(a-t*8)/i},_g=function(e,i){if(e.playlists.length===1)return!0;var n=i.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return bf(t)?(t.attributes.BANDWIDTH||0)<n:!1}).length===0},av=function(e,i){return!e&&!i||!e&&i||e&&!i?!1:!!(e===i||e.id&&i.id&&e.id===i.id||e.resolvedUri&&i.resolvedUri&&e.resolvedUri===i.resolvedUri||e.uri&&i.uri&&e.uri===i.uri)},My=function(e,i){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var a in n){for(var s in n[a])if(t=i(n[a][s]),t)break;if(t)break}return!!t},kl=function(e){if(!e||!e.playlists||!e.playlists.length){var i=My(e,function(s){return s.playlists&&s.playlists.length||s.uri});return i}for(var n=function(l){var d=e.playlists[l],f=d.attributes&&d.attributes.CODECS;if(f&&f.split(",").every(function(y){return GT(y)}))return"continue";var p=My(e,function(y){return av(d,y)});return p?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var a=n(t);if(a!=="continue"&&typeof a=="object")return a.v}return!0},Jr={liveEdgeDelay:Jx,duration:Qx,seekable:JL,getMediaInfoForTime:YL,isEnabled:bf,isDisabled:QL,isBlacklisted:e2,isIncompatible:nv,playlistEnd:Zx,isAes:ZL,hasAttribute:t2,estimateSegmentRequestTime:e5,isLowestEnabledRendition:_g,isAudioOnly:kl,playlistMatch:av,segmentDurationWithParts:iv},r2=J.log,sv=function(e,i){return e+"-"+i},t5=function(e,i,n){return"placeholder-uri-"+e+"-"+i+"-"+n},r5=function(e){var i=e.onwarn,n=e.oninfo,t=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,l=e.customTagMappers,d=l===void 0?[]:l,f=e.experimentalLLHLS,p=new vP;i&&p.on("warn",i),n&&p.on("info",n),s.forEach(function(P){return p.addParser(P)}),d.forEach(function(P){return p.addTagMapper(P)}),p.push(t),p.end();var y=p.manifest;if(f||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(P){y.hasOwnProperty(P)&&delete y[P]}),y.segments&&y.segments.forEach(function(P){["parts","preloadHints"].forEach(function(D){P.hasOwnProperty(D)&&delete P[D]})})),!y.targetDuration){var _=10;y.segments&&y.segments.length&&(_=y.segments.reduce(function(P,D){return Math.max(P,D.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+_),y.targetDuration=_}var x=Kx(y);if(x.length&&!y.partTargetDuration){var A=x.reduce(function(P,D){return Math.max(P,D.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+A),r2.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),y.partTargetDuration=A}return y},Io=function(e,i){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(n){if(!!e.mediaGroups[n])for(var t in e.mediaGroups[n])for(var a in e.mediaGroups[n][t]){var s=e.mediaGroups[n][t][a];i(s,n,t,a)}})},i2=function(e){var i=e.playlist,n=e.uri,t=e.id;i.id=t,i.playlistErrors_=0,n&&(i.uri=n),i.attributes=i.attributes||{}},i5=function(e){for(var i=e.playlists.length;i--;){var n=e.playlists[i];i2({playlist:n,id:sv(i,n.uri)}),n.resolvedUri=Li(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||r2.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},n5=function(e){Io(e,function(i){i.uri&&(i.resolvedUri=Li(e.uri,i.uri))})},a5=function(e,i){var n=sv(0,i),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:H.location.href,resolvedUri:H.location.href,playlists:[{uri:i,id:n,resolvedUri:i,attributes:{}}]};return t.playlists[n]=t.playlists[0],t.playlists[i]=t.playlists[0],t},n2=function(e,i,n){n===void 0&&(n=t5),e.uri=i;for(var t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){var a="placeholder-uri-"+t;e.playlists[t].uri=a}var s=kl(e);Io(e,function(l,d,f,p){if(!l.playlists||!l.playlists.length){if(s&&d==="AUDIO"&&!l.uri)for(var y=0;y<e.playlists.length;y++){var _=e.playlists[y];if(_.attributes&&_.attributes.AUDIO&&_.attributes.AUDIO===f)return}l.playlists=[wi({},l)]}l.playlists.forEach(function(x,A){var P=n(d,f,p,x),D=sv(A,P);x.uri?x.resolvedUri=x.resolvedUri||Li(e.uri,x.uri):(x.uri=A===0?P:D,x.resolvedUri=x.uri),x.id=x.id||D,x.attributes=x.attributes||{},e.playlists[x.id]=x,e.playlists[x.uri]=x})}),i5(e),n5(e)},Ad=J.mergeOptions,s5=J.EventTarget,o5=function(e,i){if(i.endList||!i.serverControl)return e;var n={};if(i.serverControl.canBlockReload){var t=i.preloadSegment,a=i.mediaSequence+i.segments.length;if(t){var s=t.parts||[],l=Xx(i)-1;l>-1&&l!==s.length-1&&(n._HLS_part=l),(l>-1||s.length)&&a--}n._HLS_msn=a}if(i.serverControl&&i.serverControl.canSkipUntil&&(n._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var d=new H.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(f){!n.hasOwnProperty(f)||d.searchParams.set(f,n[f])}),e=d.toString()}return e},u5=function(e,i){if(!e)return i;var n=Ad(e,i);if(e.preloadHints&&!i.preloadHints&&delete n.preloadHints,e.parts&&!i.parts)delete n.parts;else if(e.parts&&i.parts)for(var t=0;t<i.parts.length;t++)e.parts&&e.parts[t]&&(n.parts[t]=Ad(e.parts[t],i.parts[t]));return!e.skipped&&i.skipped&&(n.skipped=!1),e.preload&&!i.preload&&(n.preload=!1),n},l5=function(e,i,n){var t=e.slice(),a=i.slice();n=n||0;for(var s=[],l,d=0;d<a.length;d++){var f=t[d+n],p=a[d];f?(l=f.map||l,s.push(u5(f,p))):(l&&!p.map&&(p.map=l),s.push(p))}return s},a2=function(e,i){!e.resolvedUri&&e.uri&&(e.resolvedUri=Li(i,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Li(i,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Li(i,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Li(i,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=Li(i,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=Li(i,n.uri))})},s2=function(e){var i=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var t=0;t<n.preloadHints.length;t++)if(n.preloadHints[t].type==="MAP")return i}n.duration=e.targetDuration,n.preload=!0,i.push(n)}return i},o2=function(e,i){return e===i||e.segments&&i.segments&&e.segments.length===i.segments.length&&e.endList===i.endList&&e.mediaSequence===i.mediaSequence&&e.preloadSegment===i.preloadSegment},yg=function(e,i,n){n===void 0&&(n=o2);var t=Ad(e,{}),a=t.playlists[i.id];if(!a||n(a,i))return null;i.segments=s2(i);var s=Ad(a,i);if(s.preloadSegment&&!i.preloadSegment&&delete s.preloadSegment,a.segments){if(i.skip){i.segments=i.segments||[];for(var l=0;l<i.skip.skippedSegments;l++)i.segments.unshift({skipped:!0})}s.segments=l5(a.segments,i.segments,i.mediaSequence-a.mediaSequence)}s.segments.forEach(function(f){a2(f,s.resolvedUri)});for(var d=0;d<t.playlists.length;d++)t.playlists[d].id===i.id&&(t.playlists[d]=s);return t.playlists[i.id]=s,t.playlists[i.uri]=s,Io(e,function(f,p,y,_){if(!!f.playlists)for(var x=0;x<f.playlists.length;x++)i.id===f.playlists[x].id&&(f.playlists[x]=s)}),t},bg=function(e,i){var n=e.segments||[],t=n[n.length-1],a=t&&t.parts&&t.parts[t.parts.length-1],s=a&&a.duration||t&&t.duration;return i&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},zs=function(r){xe(e,r);function e(n,t,a){var s;if(a===void 0&&(a={}),s=r.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");s.logger_=ji("PlaylistLoader");var l=a,d=l.withCredentials,f=d===void 0?!1:d,p=l.handleManifestRedirects,y=p===void 0?!1:p;s.src=n,s.vhs_=t,s.withCredentials=f,s.handleManifestRedirects=y;var _=t.options_;return s.customTagParsers=_&&_.customTagParsers||[],s.customTagMappers=_&&_.customTagMappers||[],s.experimentalLLHLS=_&&_.experimentalLLHLS||!1,J.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(Je(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=Li(this.master.uri,a.uri);this.experimentalLLHLS&&(s=o5(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(l,d){if(!!t.request){if(l)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},i.playlistRequestError=function(t,a,s){var l=a.uri,d=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[d],status:t.status,message:"HLS playlist request error at URL: "+l+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(t){var a=this,s=t.url,l=t.manifestString;return r5({onwarn:function(f){var p=f.message;return a.logger_("m3u8-parser warn for "+s+": "+p)},oninfo:function(f){var p=f.message;return a.logger_("m3u8-parser info for "+s+": "+p)},manifestString:l,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(t){var a=t.playlistString,s=t.playlistObject,l=t.url,d=t.id;this.request=null,this.state="HAVE_METADATA";var f=s||this.parseManifest_({url:l,manifestString:a});f.lastRequest=Date.now(),i2({playlist:f,uri:l,id:d});var p=yg(this.master,f);this.targetDuration=f.partTargetDuration||f.targetDuration,this.pendingMedia_=null,p?(this.master=p,this.media_=this.master.playlists[d]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(bg(this.media(),!!p)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),H.clearTimeout(this.mediaUpdateTimeout),H.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(t,a){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(H.clearTimeout(this.finalRenditionTimeout),a){var l=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=H.setTimeout(this.media.bind(this,t,!1),l);return}var d=this.state,f=!this.media_||t.id!==this.media_.id,p=this.master.playlists[t.id];if(p&&p.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,f&&(this.trigger("mediachanging"),d==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(bg(t,!0)),!!f){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(y,_){if(!!s.request){if(t.lastRequest=Date.now(),t.resolvedUri=wd(s.handleManifestRedirects,t.resolvedUri,_),y)return s.playlistRequestError(s.request,t,d);s.haveMetadata({playlistString:_.responseText,url:t.uri,id:t.id}),d==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(t){var a=this;this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var l=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=H.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(t){var a=this;this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=H.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(t)},t))},i.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=H.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!t.request){if(t.request=null,a)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=wd(t.handleManifestRedirects,t.src,s);var l=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(l)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,n2(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=s2(s),s.segments.forEach(function(l){a2(l,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||H.location.href;this.master=a5(t,a),this.haveMetadata({playlistObject:t,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(s5),c5=J.xhr,d5=J.mergeOptions,Tg=function(e,i,n,t){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!i&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),i&&i.code==="ETIMEDOUT"&&(e.timedout=!0),!i&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),t(i,e)},u2=function(){var e=function i(n,t){n=d5({timeout:45e3},n);var a=i.beforeRequest||J.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(n);s&&(n=s)}var l=J.Vhs.xhr.original===!0?c5:J.Vhs.xhr,d=l(n,function(p,y){return Tg(d,p,y,t)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=n.uri,d.requestTime=Date.now(),d};return e.original=!0,e},f5=function(e){var i,n=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?i=H.BigInt(e.offset)+H.BigInt(e.length)-H.BigInt(1):i=e.offset+e.length-1,"bytes="+n+"-"+i},Sg=function(e){var i={};return e.byterange&&(i.Range=f5(e.byterange)),i},h5=function(e,i){return e.start(i)+"-"+e.end(i)},p5=function(e,i){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(i%2?" ":"")},g5=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},l2=function(e){var i={};return Object.keys(e).forEach(function(n){var t=e[n];KT(t)?i[n]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[n]=t}),i},kd=function(e){var i=e.byterange||{length:1/0,offset:0};return[i.length,i.offset,e.resolvedUri].join(",")},c2=function(e){return e.resolvedUri},d2=function(e){for(var i=Array.prototype.slice.call(e),n=16,t="",a,s,l=0;l<i.length/n;l++)a=i.slice(l*n,l*n+n).map(p5).join(""),s=i.slice(l*n,l*n+n).map(g5).join(""),t+=a+" "+s+`
`;return t},m5=function(e){var i=e.bytes;return d2(i)},v5=function(e){var i="",n;for(n=0;n<e.length;n++)i+=h5(e,n)+" ";return i},_5=Object.freeze({__proto__:null,createTransferableMessage:l2,initSegmentId:kd,segmentKeyId:c2,hexDump:d2,tagDump:m5,textRanges:v5}),f2=.25,y5=function(e,i){if(!i.dateTimeObject)return null;var n=i.videoTimingInfo.transmuxerPrependedSeconds,t=i.videoTimingInfo.transmuxedPresentationStart,a=t+n,s=e-a;return new Date(i.dateTimeObject.getTime()+s*1e3)},b5=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},T5=function(e,i){var n;try{n=new Date(e)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var t=i.segments[0];if(n<t.dateTimeObject)return null;for(var a=0;a<i.segments.length-1;a++){t=i.segments[a];var s=i.segments[a+1].dateTimeObject;if(n<s)break}var l=i.segments[i.segments.length-1],d=l.dateTimeObject,f=l.videoTimingInfo?b5(l.videoTimingInfo):l.duration+l.duration*f2,p=new Date(d.getTime()+f*1e3);return n>p?null:(n>d&&(t=l),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:Jr.duration(i,i.mediaSequence+i.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},S5=function(e,i){if(!i||!i.segments||i.segments.length===0)return null;for(var n=0,t,a=0;a<i.segments.length&&(t=i.segments[a],n=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:n+t.duration,!(e<=n));a++);var s=i.segments[i.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+s.duration*f2)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:n-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},x5=function(e,i){var n,t;try{n=new Date(e),t=new Date(i)}catch{}var a=n.getTime(),s=t.getTime();return(s-a)/1e3},E5=function(e){if(!e.segments||e.segments.length===0)return!1;for(var i=0;i<e.segments.length;i++){var n=e.segments[i];if(!n.dateTimeObject)return!1}return!0},C5=function(e){var i=e.playlist,n=e.time,t=n===void 0?void 0:n,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!i||t===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=S5(t,i);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var l={mediaSeconds:t},d=y5(t,s.segment);return d&&(l.programDateTime=d.toISOString()),a(null,l)},w5=function r(e){var i=e.programTime,n=e.playlist,t=e.retryCount,a=t===void 0?2:t,s=e.seekTo,l=e.pauseAfterSeek,d=l===void 0?!0:l,f=e.tech,p=e.callback;if(!p)throw new Error("seekToProgramTime: callback must be provided");if(typeof i>"u"||!n||!s)return p({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!f.hasStarted_)return p({message:"player must be playing a live stream to start buffering"});if(!E5(n))return p({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var y=T5(i,n);if(!y)return p({message:i+" was not found in the stream"});var _=y.segment,x=x5(_.dateTimeObject,i);if(y.type==="estimate"){if(a===0)return p({message:i+" is not buffered yet. Try again"});s(y.estimatedStart+x),f.one("seeked",function(){r({programTime:i,playlist:n,retryCount:a-1,seekTo:s,pauseAfterSeek:d,tech:f,callback:p})});return}var A=_.start+x,P=function(){return p(null,f.currentTime())};f.one("seeked",P),d&&f.pause(),s(A)},kp=function(e,i){if(e.readyState===4)return i()},A5=function(e,i,n){var t=[],a,s=!1,l=function(_,x,A,P){return x.abort(),s=!0,n(_,x,A,P)},d=function(_,x){if(!s){if(_)return l(_,x,"",t);var A=x.responseText.substring(t&&t.byteLength||0,x.responseText.length);if(t=DP(t,XT(A,!0)),a=a||Pu(t),t.length<10||a&&t.length<a+2)return kp(x,function(){return l(_,x,"",t)});var P=Sm(t);return P==="ts"&&t.length<188?kp(x,function(){return l(_,x,"",t)}):!P&&t.length<376?kp(x,function(){return l(_,x,"",t)}):l(null,x,P,t)}},f={uri:e,beforeSend:function(_){_.overrideMimeType("text/plain; charset=x-user-defined"),_.addEventListener("progress",function(x){return x.total,x.loaded,Tg(_,null,{statusCode:_.status},d)})}},p=i(f,function(y,_){return Tg(p,y,_,d)});return p},k5=J.EventTarget,h2=J.mergeOptions,By=function(e,i){if(!o2(e,i)||e.sidx&&i.sidx&&(e.sidx.offset!==i.sidx.offset||e.sidx.length!==i.sidx.length))return!1;if(!e.sidx&&i.sidx||e.sidx&&!i.sidx||e.segments&&!i.segments||!e.segments&&i.segments)return!1;if(!e.segments&&!i.segments)return!0;for(var n=0;n<e.segments.length;n++){var t=e.segments[n],a=i.segments[n];if(t.uri!==a.uri)return!1;if(!(!t.byterange&&!a.byterange)){var s=t.byterange,l=a.byterange;if(s&&!l||!s&&l||s.offset!==l.offset||s.length!==l.length)return!1}}return!0},D5=function(e,i,n,t){var a=t.attributes.NAME||n;return"placeholder-uri-"+e+"-"+i+"-"+a},P5=function(e){var i=e.masterXml,n=e.srcUrl,t=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,l=KI(i,{manifestUri:n,clientOffset:t,sidxMapping:a,previousManifest:s});return n2(l,n,D5),l},I5=function(e,i){Io(e,function(n,t,a,s){s in i.mediaGroups[t][a]||delete e.mediaGroups[t][a][s]})},O5=function(e,i,n){for(var t=!0,a=h2(e,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod,timelineStarts:i.timelineStarts}),s=0;s<i.playlists.length;s++){var l=i.playlists[s];if(l.sidx){var d=of(l.sidx);n&&n[d]&&n[d].sidx&&_m(l,n[d].sidx,l.sidx.resolvedUri)}var f=yg(a,l,By);f&&(a=f,t=!1)}return Io(i,function(p,y,_,x){if(p.playlists&&p.playlists.length){var A=p.playlists[0].id,P=yg(a,p.playlists[0],By);P&&(a=P,x in a.mediaGroups[y][_]||(a.mediaGroups[y][_][x]=p),a.mediaGroups[y][_][x].playlists[0]=a.playlists[A],t=!1)}}),I5(a,i),i.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:a},L5=function(e,i){var n=Boolean(!e.map&&!i.map),t=n||Boolean(e.map&&i.map&&e.map.byterange.offset===i.map.byterange.offset&&e.map.byterange.length===i.map.byterange.length);return t&&e.uri===i.uri&&e.byterange.offset===i.byterange.offset&&e.byterange.length===i.byterange.length},Uy=function(e,i){var n={};for(var t in e){var a=e[t],s=a.sidx;if(s){var l=of(s);if(!i[l])break;var d=i[l].sidxInfo;L5(d,s)&&(n[l]=i[l])}}return n},R5=function(e,i){var n=Uy(e.playlists,i),t=n;return Io(e,function(a,s,l,d){if(a.playlists&&a.playlists.length){var f=a.playlists;t=h2(t,Uy(f,i))}}),t},xg=function(r){xe(e,r);function e(n,t,a,s){var l;a===void 0&&(a={}),l=r.call(this)||this,l.masterPlaylistLoader_=s||Je(l),s||(l.isMaster_=!0);var d=a,f=d.withCredentials,p=f===void 0?!1:f,y=d.handleManifestRedirects,_=y===void 0?!1:y;if(l.vhs_=t,l.withCredentials=p,l.handleManifestRedirects=_,!n)throw new Error("A non-empty playlist URL or object is required");return l.on("minimumUpdatePeriod",function(){l.refreshXml_()}),l.on("mediaupdatetimeout",function(){l.refreshMedia_(l.media().id)}),l.state="HAVE_NOTHING",l.loadedPlaylists_={},l.logger_=ji("DashPlaylistLoader"),l.isMaster_?(l.masterPlaylistLoader_.srcUrl=n,l.masterPlaylistLoader_.sidxMapping_={}):l.childPlaylist_=n,l}var i=e.prototype;return i.requestErrored_=function(t,a,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},i.addSidxSegments_=function(t,a,s){var l=this,d=t.sidx&&of(t.sidx);if(!t.sidx||!d||this.masterPlaylistLoader_.sidxMapping_[d]){this.mediaRequest_=H.setTimeout(function(){return s(!1)},0);return}var f=wd(this.handleManifestRedirects,t.sidx.resolvedUri),p=function(_,x){if(!l.requestErrored_(_,x,a)){var A=l.masterPlaylistLoader_.sidxMapping_,P;try{P=ZI(Ve(x.response).subarray(8))}catch(D){l.requestErrored_(D,x,a);return}return A[d]={sidxInfo:t.sidx,sidx:P},_m(t,P,t.sidx.resolvedUri),s(!0)}};this.request=A5(f,this.vhs_.xhr,function(y,_,x,A){if(y)return p(y,_);if(!x||x!=="mp4")return p({status:_.status,message:"Unsupported "+(x||"unknown")+" container type for sidx segment at URL: "+f,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},_);var P=t.sidx.byterange,D=P.offset,R=P.length;if(A.length>=R+D)return p(y,{response:A.subarray(D,D+R),status:_.status,uri:_.uri});l.request=l.vhs_.xhr({uri:f,responseType:"arraybuffer",headers:Sg({byterange:t.sidx.byterange})},p)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},H.clearTimeout(this.minimumUpdatePeriodTimeout_),H.clearTimeout(this.mediaRequest_),H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(t){var a=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var l=!this.media_||t.id!==this.media_.id;if(l&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,l&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!l||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(d){a.haveMetadata({startingState:s,playlist:t})}))},i.haveMetadata=function(t){var a=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(H.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(t){var a=this;H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var l=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=H.setTimeout(function(){return a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=H.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(a,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(t){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,l){if(a.requestErrored_(s,l)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var d=l.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=l.responseText,l.responseHeaders&&l.responseHeaders.date?a.masterLoaded_=Date.parse(l.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=wd(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,l),d){a.handleMaster_(),a.syncClientServerClock_(function(){return t(l,d)});return}return t(l,d)})},i.syncClientServerClock_=function(t){var a=this,s=XI(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:Li(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(l,d){if(!!a.request){if(l)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),t();var f;s.method==="HEAD"?!d.responseHeaders||!d.responseHeaders.date?f=a.masterLoaded_:f=Date.parse(d.responseHeaders.date):f=Date.parse(d.responseText),a.masterPlaylistLoader_.clientOffset_=f-Date.now(),t()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,a=P5({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(a=O5(t,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||t;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!t||a&&a.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},i.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(H.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var a=t.master&&t.master.minimumUpdatePeriod;if(a===0&&(t.media()?a=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},i.createMUPTimeout_=function(t){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=H.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(t)},t)},i.refreshXml_=function(){var t=this;this.requestMaster_(function(a,s){!s||(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=R5(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(l){t.refreshMedia_(t.media().id)}))})},i.refreshMedia_=function(t){var a=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,l=!this.media_||this.media_!==s[t];if(l?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var d=function f(){a.media().endList||(a.mediaUpdateTimeout=H.setTimeout(function(){a.trigger("mediaupdatetimeout"),f()},bg(a.media(),Boolean(l))))};d()}this.trigger("loadedplaylist")},e}(k5),cr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},N5=function(e){for(var i=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer},p2=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},F5=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}},g2=function(e){return function(){var i=F5(e),n=p2(new Worker(i));n.objURL=i;var t=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(i),t.call(this)},n}},m2=function(e){return"var browserWorkerPolyFill = "+p2.toString()+`;
browserWorkerPolyFill(self);
`+e},v2=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},M5=m2(v2(function(){var r=function(){this.init=function(){var v={};this.on=function(S,T){v[S]||(v[S]=[]),v[S]=v[S].concat(T)},this.off=function(S,T){var E;return v[S]?(E=v[S].indexOf(T),v[S]=v[S].slice(),v[S].splice(E,1),E>-1):!1},this.trigger=function(S){var T,E,w,k;if(T=v[S],!!T)if(arguments.length===2)for(w=T.length,E=0;E<w;++E)T[E].call(this,arguments[1]);else{for(k=[],E=arguments.length,E=1;E<arguments.length;++E)k.push(arguments[E]);for(w=T.length,E=0;E<w;++E)T[E].apply(this,k)}},this.dispose=function(){v={}}}};r.prototype.pipe=function(I){return this.on("data",function(v){I.push(v)}),this.on("done",function(v){I.flush(v)}),this.on("partialdone",function(v){I.partialFlush(v)}),this.on("endedtimeline",function(v){I.endTimeline(v)}),this.on("reset",function(v){I.reset(v)}),I},r.prototype.push=function(I){this.trigger("data",I)},r.prototype.flush=function(I){this.trigger("done",I)},r.prototype.partialFlush=function(I){this.trigger("partialdone",I)},r.prototype.endTimeline=function(I){this.trigger("endedtimeline",I)},r.prototype.reset=function(I){this.trigger("reset",I)};var e=r,i=Math.pow(2,32),n=function(v){var S=new DataView(v.buffer,v.byteOffset,v.byteLength),T;return S.getBigUint64?(T=S.getBigUint64(0),T<Number.MAX_SAFE_INTEGER?Number(T):T):S.getUint32(0)*i+S.getUint32(4)},t={getUint64:n,MAX_UINT32:i},a=t.MAX_UINT32,s,l,d,f,p,y,_,x,A,P,D,R,F,V,j,K,Z,Q,U,z,Y,ae,te,le,Ne,Be,me,Ae,Fe,mt,it,ir,vt,nr,gr,xr;(function(){var I;if(te={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(I in te)te.hasOwnProperty(I)&&(te[I]=[I.charCodeAt(0),I.charCodeAt(1),I.charCodeAt(2),I.charCodeAt(3)]);le=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Be=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Ne=new Uint8Array([0,0,0,1]),me=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ae=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Fe={video:me,audio:Ae},ir=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),it=new Uint8Array([0,0,0,0,0,0,0,0]),vt=new Uint8Array([0,0,0,0,0,0,0,0]),nr=vt,gr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xr=vt,mt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(v){var S=[],T=0,E,w,k;for(E=1;E<arguments.length;E++)S.push(arguments[E]);for(E=S.length;E--;)T+=S[E].byteLength;for(w=new Uint8Array(T+8),k=new DataView(w.buffer,w.byteOffset,w.byteLength),k.setUint32(0,w.byteLength),w.set(v,4),E=0,T=8;E<S.length;E++)w.set(S[E],T),T+=S[E].byteLength;return w},l=function(){return s(te.dinf,s(te.dref,ir))},d=function(v){return s(te.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},f=function(){return s(te.ftyp,le,Ne,le,Be)},K=function(v){return s(te.hdlr,Fe[v])},p=function(v){return s(te.mdat,v)},j=function(v){var S=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,v.duration&255,85,196,0,0]);return v.samplerate&&(S[12]=v.samplerate>>>24&255,S[13]=v.samplerate>>>16&255,S[14]=v.samplerate>>>8&255,S[15]=v.samplerate&255),s(te.mdhd,S)},V=function(v){return s(te.mdia,j(v),K(v.type),_(v))},y=function(v){return s(te.mfhd,new Uint8Array([0,0,0,0,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255]))},_=function(v){return s(te.minf,v.type==="video"?s(te.vmhd,mt):s(te.smhd,it),l(),Q(v))},x=function(v,S){for(var T=[],E=S.length;E--;)T[E]=z(S[E]);return s.apply(null,[te.moof,y(v)].concat(T))},A=function(v){for(var S=v.length,T=[];S--;)T[S]=R(v[S]);return s.apply(null,[te.moov,D(4294967295)].concat(T).concat(P(v)))},P=function(v){for(var S=v.length,T=[];S--;)T[S]=Y(v[S]);return s.apply(null,[te.mvex].concat(T))},D=function(v){var S=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(te.mvhd,S)},Z=function(v){var S=v.samples||[],T=new Uint8Array(4+S.length),E,w;for(w=0;w<S.length;w++)E=S[w].flags,T[w+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return s(te.sdtp,T)},Q=function(v){return s(te.stbl,U(v),s(te.stts,xr),s(te.stsc,nr),s(te.stsz,gr),s(te.stco,vt))},function(){var I,v;U=function(T){return s(te.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),T.type==="video"?I(T):v(T))},I=function(T){var E=T.sps||[],w=T.pps||[],k=[],N=[],M,q;for(M=0;M<E.length;M++)k.push((E[M].byteLength&65280)>>>8),k.push(E[M].byteLength&255),k=k.concat(Array.prototype.slice.call(E[M]));for(M=0;M<w.length;M++)N.push((w[M].byteLength&65280)>>>8),N.push(w[M].byteLength&255),N=N.concat(Array.prototype.slice.call(w[M]));if(q=[te.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(T.width&65280)>>8,T.width&255,(T.height&65280)>>8,T.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(te.avcC,new Uint8Array([1,T.profileIdc,T.profileCompatibility,T.levelIdc,255].concat([E.length],k,[w.length],N))),s(te.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],T.sarRatio){var $=T.sarRatio[0],X=T.sarRatio[1];q.push(s(te.pasp,new Uint8Array([($&4278190080)>>24,($&16711680)>>16,($&65280)>>8,$&255,(X&4278190080)>>24,(X&16711680)>>16,(X&65280)>>8,X&255])))}return s.apply(null,q)},v=function(T){return s(te.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(T.channelcount&65280)>>8,T.channelcount&255,(T.samplesize&65280)>>8,T.samplesize&255,0,0,0,0,(T.samplerate&65280)>>8,T.samplerate&255,0,0]),d(T))}}(),F=function(v){var S=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,0,(v.duration&4278190080)>>24,(v.duration&16711680)>>16,(v.duration&65280)>>8,v.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(v.width&65280)>>8,v.width&255,0,0,(v.height&65280)>>8,v.height&255,0,0]);return s(te.tkhd,S)},z=function(v){var S,T,E,w,k,N,M;return S=s(te.tfhd,new Uint8Array([0,0,0,58,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),N=Math.floor(v.baseMediaDecodeTime/a),M=Math.floor(v.baseMediaDecodeTime%a),T=s(te.tfdt,new Uint8Array([1,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,N&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255])),k=32+20+8+16+8+8,v.type==="audio"?(E=ae(v,k),s(te.traf,S,T,E)):(w=Z(v),E=ae(v,w.length+k),s(te.traf,S,T,E,w))},R=function(v){return v.duration=v.duration||4294967295,s(te.trak,F(v),V(v))},Y=function(v){var S=new Uint8Array([0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.type!=="video"&&(S[S.length-1]=0),s(te.trex,S)},function(){var I,v,S;S=function(E,w){var k=0,N=0,M=0,q=0;return E.length&&(E[0].duration!==void 0&&(k=1),E[0].size!==void 0&&(N=2),E[0].flags!==void 0&&(M=4),E[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,k|N|M|q,1,(E.length&4278190080)>>>24,(E.length&16711680)>>>16,(E.length&65280)>>>8,E.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},v=function(E,w){var k,N,M,q,$,X;for(q=E.samples||[],w+=8+12+16*q.length,M=S(q,w),N=new Uint8Array(M.length+q.length*16),N.set(M),k=M.length,X=0;X<q.length;X++)$=q[X],N[k++]=($.duration&4278190080)>>>24,N[k++]=($.duration&16711680)>>>16,N[k++]=($.duration&65280)>>>8,N[k++]=$.duration&255,N[k++]=($.size&4278190080)>>>24,N[k++]=($.size&16711680)>>>16,N[k++]=($.size&65280)>>>8,N[k++]=$.size&255,N[k++]=$.flags.isLeading<<2|$.flags.dependsOn,N[k++]=$.flags.isDependedOn<<6|$.flags.hasRedundancy<<4|$.flags.paddingValue<<1|$.flags.isNonSyncSample,N[k++]=$.flags.degradationPriority&240<<8,N[k++]=$.flags.degradationPriority&15,N[k++]=($.compositionTimeOffset&4278190080)>>>24,N[k++]=($.compositionTimeOffset&16711680)>>>16,N[k++]=($.compositionTimeOffset&65280)>>>8,N[k++]=$.compositionTimeOffset&255;return s(te.trun,N)},I=function(E,w){var k,N,M,q,$,X;for(q=E.samples||[],w+=8+12+8*q.length,M=S(q,w),k=new Uint8Array(M.length+q.length*8),k.set(M),N=M.length,X=0;X<q.length;X++)$=q[X],k[N++]=($.duration&4278190080)>>>24,k[N++]=($.duration&16711680)>>>16,k[N++]=($.duration&65280)>>>8,k[N++]=$.duration&255,k[N++]=($.size&4278190080)>>>24,k[N++]=($.size&16711680)>>>16,k[N++]=($.size&65280)>>>8,k[N++]=$.size&255;return s(te.trun,k)},ae=function(E,w){return E.type==="audio"?I(E,w):v(E,w)}}();var pt={ftyp:f,mdat:p,moof:x,moov:A,initSegment:function(v){var S=f(),T=A(v),E;return E=new Uint8Array(S.byteLength+T.byteLength),E.set(S),E.set(T,S.byteLength),E}},se=function(v){var S,T,E=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,E.byteLength=0,S=0;S<v.length;S++)T=v[S],T.nalUnitType==="access_unit_delimiter_rbsp"?(E.length&&(E.duration=T.dts-E.dts,w.byteLength+=E.byteLength,w.nalCount+=E.length,w.duration+=E.duration,w.push(E)),E=[T],E.byteLength=T.data.byteLength,E.pts=T.pts,E.dts=T.dts):(T.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(E.keyFrame=!0),E.duration=T.dts-E.dts,E.byteLength+=T.data.byteLength,E.push(T));return w.length&&(!E.duration||E.duration<=0)&&(E.duration=w[w.length-1].duration),w.byteLength+=E.byteLength,w.nalCount+=E.length,w.duration+=E.duration,w.push(E),w},Se=function(v){var S,T,E=[],w=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=v[0].pts,E.dts=v[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=v[0].pts,w.dts=v[0].dts,S=0;S<v.length;S++)T=v[S],T.keyFrame?(E.length&&(w.push(E),w.byteLength+=E.byteLength,w.nalCount+=E.nalCount,w.duration+=E.duration),E=[T],E.nalCount=T.length,E.byteLength=T.byteLength,E.pts=T.pts,E.dts=T.dts,E.duration=T.duration):(E.duration+=T.duration,E.nalCount+=T.length,E.byteLength+=T.byteLength,E.push(T));return w.length&&E.duration<=0&&(E.duration=w[w.length-1].duration),w.byteLength+=E.byteLength,w.nalCount+=E.nalCount,w.duration+=E.duration,w.push(E),w},Ee=function(v){var S;return!v[0][0].keyFrame&&v.length>1&&(S=v.shift(),v.byteLength-=S.byteLength,v.nalCount-=S.nalCount,v[0][0].dts=S.dts,v[0][0].pts=S.pts,v[0][0].duration+=S.duration),v},Re=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},st=function(v,S){var T=Re();return T.dataOffset=S,T.compositionTimeOffset=v.pts-v.dts,T.duration=v.duration,T.size=4*v.length,T.size+=v.byteLength,v.keyFrame&&(T.flags.dependsOn=2,T.flags.isNonSyncSample=0),T},yt=function(v,S){var T,E,w,k,N,M=S||0,q=[];for(T=0;T<v.length;T++)for(k=v[T],E=0;E<k.length;E++)N=k[E],w=st(N,M),M+=w.size,q.push(w);return q},B=function(v){var S,T,E,w,k,N,M=0,q=v.byteLength,$=v.nalCount,X=q+4*$,ie=new Uint8Array(X),Te=new DataView(ie.buffer);for(S=0;S<v.length;S++)for(w=v[S],T=0;T<w.length;T++)for(k=w[T],E=0;E<k.length;E++)N=k[E],Te.setUint32(M,N.data.byteLength),M+=4,ie.set(N.data,M),M+=N.data.byteLength;return ie},G=function(v,S){var T,E=S||0,w=[];return T=st(v,E),w.push(T),w},ee=function(v){var S,T,E=0,w=v.byteLength,k=v.length,N=w+4*k,M=new Uint8Array(N),q=new DataView(M.buffer);for(S=0;S<v.length;S++)T=v[S],q.setUint32(E,T.data.byteLength),E+=4,M.set(T.data,E),E+=T.data.byteLength;return M},oe={groupNalsIntoFrames:se,groupFramesIntoGops:Se,extendFirstKeyFrame:Ee,generateSampleTable:yt,concatenateNalData:B,generateSampleTableForFrame:G,concatenateNalDataForFrame:ee},ne=[33,16,5,32,164,27],_e=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(v){for(var S=[];v--;)S.push(0);return S},ye=function(v){return Object.keys(v).reduce(function(S,T){return S[T]=new Uint8Array(v[T].reduce(function(E,w){return E.concat(w)},[])),S},{})},fe,he=function(){if(!fe){var v={96e3:[ne,[227,64],ce(154),[56]],88200:[ne,[231],ce(170),[56]],64e3:[ne,[248,192],ce(240),[56]],48e3:[ne,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[ne,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[ne,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[ne,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[ne,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[_e,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[_e,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[_e,ce(268),[3,121,16],ce(47),[7]]};fe=ye(v)}return fe},Oe=9e4,Ue,ke,qe,rt,ut,ot,Bt;Ue=function(v){return v*Oe},ke=function(v,S){return v*S},qe=function(v){return v/Oe},rt=function(v,S){return v/S},ut=function(v,S){return Ue(rt(v,S))},ot=function(v,S){return ke(qe(v),S)},Bt=function(v,S,T){return qe(T?v:v-S)};var Ye={ONE_SECOND_IN_TS:Oe,secondsToVideoTs:Ue,secondsToAudioTs:ke,videoTsToSeconds:qe,audioTsToSeconds:rt,audioTsToVideoTs:ut,videoTsToAudioTs:ot,metadataTsToSeconds:Bt},Ai=function(v){var S,T,E=0;for(S=0;S<v.length;S++)T=v[S],E+=T.data.byteLength;return E},wa=function(v,S,T,E){var w,k=0,N=0,M=0,q=0,$,X,ie;if(!!S.length&&(w=Ye.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),k=Math.ceil(Ye.ONE_SECOND_IN_TS/(v.samplerate/1024)),T&&E&&(N=w-Math.max(T,E),M=Math.floor(N/k),q=M*k),!(M<1||q>Ye.ONE_SECOND_IN_TS/2))){for($=he()[v.samplerate],$||($=S[0].data),X=0;X<M;X++)ie=S[0],S.splice(0,0,{data:$,dts:ie.dts-k,pts:ie.pts-k});return v.baseMediaDecodeTime-=Math.floor(Ye.videoTsToAudioTs(q,v.samplerate)),q}},hi=function(v,S,T){return S.minSegmentDts>=T?v:(S.minSegmentDts=1/0,v.filter(function(E){return E.dts>=T?(S.minSegmentDts=Math.min(S.minSegmentDts,E.dts),S.minSegmentPts=S.minSegmentDts,!0):!1}))},fs=function(v){var S,T,E=[];for(S=0;S<v.length;S++)T=v[S],E.push({size:T.data.byteLength,duration:1024});return E},ar=function(v){var S,T,E=0,w=new Uint8Array(Ai(v));for(S=0;S<v.length;S++)T=v[S],w.set(T.data,E),E+=T.data.byteLength;return w},sr={prefixWithSilence:wa,trimAdtsFramesByEarliestDts:hi,generateSampleTable:fs,concatenateFrameData:ar},qn=Ye.ONE_SECOND_IN_TS,hs=function(v,S){typeof S.pts=="number"&&(v.timelineStartInfo.pts===void 0&&(v.timelineStartInfo.pts=S.pts),v.minSegmentPts===void 0?v.minSegmentPts=S.pts:v.minSegmentPts=Math.min(v.minSegmentPts,S.pts),v.maxSegmentPts===void 0?v.maxSegmentPts=S.pts:v.maxSegmentPts=Math.max(v.maxSegmentPts,S.pts)),typeof S.dts=="number"&&(v.timelineStartInfo.dts===void 0&&(v.timelineStartInfo.dts=S.dts),v.minSegmentDts===void 0?v.minSegmentDts=S.dts:v.minSegmentDts=Math.min(v.minSegmentDts,S.dts),v.maxSegmentDts===void 0?v.maxSegmentDts=S.dts:v.maxSegmentDts=Math.max(v.maxSegmentDts,S.dts))},Tf=function(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},Sf=function(v,S){var T,E,w=v.minSegmentDts;return S||(w-=v.timelineStartInfo.dts),T=v.timelineStartInfo.baseMediaDecodeTime,T+=w,T=Math.max(0,T),v.type==="audio"&&(E=v.samplerate/qn,T*=E,T=Math.floor(T)),T},qr={clearDtsInfo:Tf,calculateTrackBaseMediaDecodeTime:Sf,collectDtsInfo:hs},Dl=4,ps=128,Oo=function(v){for(var S=0,T={payloadType:-1,payloadSize:0},E=0,w=0;S<v.byteLength&&v[S]!==ps;){for(;v[S]===255;)E+=255,S++;for(E+=v[S++];v[S]===255;)w+=255,S++;if(w+=v[S++],!T.payload&&E===Dl){var k=String.fromCharCode(v[S+3],v[S+4],v[S+5],v[S+6]);if(k==="GA94"){T.payloadType=E,T.payloadSize=w,T.payload=v.subarray(S,S+w);break}else T.payload=void 0}S+=w,E=0,w=0}return T},pi=function(v){return v.payload[0]!==181||(v.payload[1]<<8|v.payload[2])!==49||String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])!=="GA94"||v.payload[7]!==3?null:v.payload.subarray(8,v.payload.length-1)},Ge=function(v,S){var T=[],E,w,k,N;if(!(S[0]&64))return T;for(w=S[0]&31,E=0;E<w;E++)k=E*3,N={type:S[k+2]&3,pts:v},S[k+2]&4&&(N.ccData=S[k+3]<<8|S[k+4],T.push(N));return T},nt=function(v){for(var S=v.byteLength,T=[],E=1,w,k;E<S-2;)v[E]===0&&v[E+1]===0&&v[E+2]===3?(T.push(E+2),E+=2):E++;if(T.length===0)return v;w=S-T.length,k=new Uint8Array(w);var N=0;for(E=0;E<w;N++,E++)N===T[0]&&(N++,T.shift()),k[E]=v[N];return k},cn={parseSei:Oo,parseUserData:pi,parseCaptionPackets:Ge,discardEmulationPreventionBytes:nt,USER_DATA_REGISTERED_ITU_T_T35:Dl},Er=function I(v){v=v||{},I.prototype.init.call(this),this.parse708captions_=typeof v.parse708captions=="boolean"?v.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new kt(0,0),new kt(0,1),new kt(1,0),new kt(1,1)],this.parse708captions_&&(this.cc708Stream_=new lt({captionServices:v.captionServices})),this.reset(),this.ccStreams_.forEach(function(S){S.on("data",this.trigger.bind(this,"data")),S.on("partialdone",this.trigger.bind(this,"partialdone")),S.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Er.prototype=new e,Er.prototype.push=function(I){var v,S,T;if(I.nalUnitType==="sei_rbsp"&&(v=cn.parseSei(I.escapedRBSP),!!v.payload&&v.payloadType===cn.USER_DATA_REGISTERED_ITU_T_T35&&(S=cn.parseUserData(v),!!S))){if(I.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(I.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}T=cn.parseCaptionPackets(I.pts,S),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==I.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=I.dts}},Er.prototype.flushCCStreams=function(I){this.ccStreams_.forEach(function(v){return I==="flush"?v.flush():v.partialFlush()},this)},Er.prototype.flushStream=function(I){if(!this.captionPackets_.length){this.flushCCStreams(I);return}this.captionPackets_.forEach(function(v,S){v.presortIndex=S}),this.captionPackets_.sort(function(v,S){return v.pts===S.pts?v.presortIndex-S.presortIndex:v.pts-S.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(I)},Er.prototype.flush=function(){return this.flushStream("flush")},Er.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Er.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(I){I.reset()})},Er.prototype.dispatchCea608Packet=function(I){this.setsTextOrXDSActive(I)?this.activeCea608Channel_[I.type]=null:this.setsChannel1Active(I)?this.activeCea608Channel_[I.type]=0:this.setsChannel2Active(I)&&(this.activeCea608Channel_[I.type]=1),this.activeCea608Channel_[I.type]!==null&&this.ccStreams_[(I.type<<1)+this.activeCea608Channel_[I.type]].push(I)},Er.prototype.setsChannel1Active=function(I){return(I.ccData&30720)===4096},Er.prototype.setsChannel2Active=function(I){return(I.ccData&30720)===6144},Er.prototype.setsTextOrXDSActive=function(I){return(I.ccData&28928)===256||(I.ccData&30974)===4138||(I.ccData&30974)===6186},Er.prototype.dispatchCea708Packet=function(I){this.parse708captions_&&this.cc708Stream_.push(I)};var gs={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},dn=function(v){var S=gs[v]||v;return v&4096&&v===S?"":String.fromCharCode(S)},Hi=function(v){return 32<=v&&v<=127||160<=v&&v<=255},gi=function(v){this.windowNum=v,this.reset()};gi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},gi.prototype.getText=function(){return this.rows.join(`
`)},gi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},gi.prototype.newLine=function(I){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(I),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},gi.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},gi.prototype.addText=function(I){this.rows[this.rowIdx]+=I},gi.prototype.backspace=function(){if(!this.isEmpty()){var I=this.rows[this.rowIdx];this.rows[this.rowIdx]=I.substr(0,I.length-1)}};var Aa=function(v,S,T){this.serviceNum=v,this.text="",this.currentWindow=new gi(-1),this.windows=[],this.stream=T,typeof S=="string"&&this.createTextDecoder(S)};Aa.prototype.init=function(I,v){this.startPts=I;for(var S=0;S<8;S++)this.windows[S]=new gi(S),typeof v=="function"&&(this.windows[S].beforeRowOverflow=v)},Aa.prototype.setCurrentWindow=function(I){this.currentWindow=this.windows[I]},Aa.prototype.createTextDecoder=function(I){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(I)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+I+" encoding. "+v})}};var lt=function I(v){v=v||{},I.prototype.init.call(this);var S=this,T=v.captionServices||{},E={},w;Object.keys(T).forEach(function(k){w=T[k],/^SERVICE/.test(k)&&(E[k]=w.encoding)}),this.serviceEncodings=E,this.current708Packet=null,this.services={},this.push=function(k){k.type===3?(S.new708Packet(),S.add708Bytes(k)):(S.current708Packet===null&&S.new708Packet(),S.add708Bytes(k))}};lt.prototype=new e,lt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},lt.prototype.add708Bytes=function(I){var v=I.ccData,S=v>>>8,T=v&255;this.current708Packet.ptsVals.push(I.pts),this.current708Packet.data.push(S),this.current708Packet.data.push(T)},lt.prototype.push708Packet=function(){var I=this.current708Packet,v=I.data,S=null,T=null,E=0,w=v[E++];for(I.seq=w>>6,I.sizeCode=w&63;E<v.length;E++)w=v[E++],S=w>>5,T=w&31,S===7&&T>0&&(w=v[E++],S=w),this.pushServiceBlock(S,E,T),T>0&&(E+=T-1)},lt.prototype.pushServiceBlock=function(I,v,S){var T,E=v,w=this.current708Packet.data,k=this.services[I];for(k||(k=this.initService(I,E));E<v+S&&E<w.length;E++)T=w[E],Hi(T)?E=this.handleText(E,k):T===24?E=this.multiByteCharacter(E,k):T===16?E=this.extendedCommands(E,k):128<=T&&T<=135?E=this.setCurrentWindow(E,k):152<=T&&T<=159?E=this.defineWindow(E,k):T===136?E=this.clearWindows(E,k):T===140?E=this.deleteWindows(E,k):T===137?E=this.displayWindows(E,k):T===138?E=this.hideWindows(E,k):T===139?E=this.toggleWindows(E,k):T===151?E=this.setWindowAttributes(E,k):T===144?E=this.setPenAttributes(E,k):T===145?E=this.setPenColor(E,k):T===146?E=this.setPenLocation(E,k):T===143?k=this.reset(E,k):T===8?k.currentWindow.backspace():T===12?k.currentWindow.clearText():T===13?k.currentWindow.pendingNewLine=!0:T===14?k.currentWindow.clearText():T===141&&E++},lt.prototype.extendedCommands=function(I,v){var S=this.current708Packet.data,T=S[++I];return Hi(T)&&(I=this.handleText(I,v,{isExtended:!0})),I},lt.prototype.getPts=function(I){return this.current708Packet.ptsVals[Math.floor(I/2)]},lt.prototype.initService=function(I,v){var T="SERVICE"+I,S=this,T,E;return T in this.serviceEncodings&&(E=this.serviceEncodings[T]),this.services[I]=new Aa(I,E,S),this.services[I].init(this.getPts(v),function(w){S.flushDisplayed(w,S.services[I])}),this.services[I]},lt.prototype.handleText=function(I,v,S){var T=S&&S.isExtended,E=S&&S.isMultiByte,w=this.current708Packet.data,k=T?4096:0,N=w[I],M=w[I+1],q=v.currentWindow,$,X;return v.textDecoder_&&!T?(E?(X=[N,M],I++):X=[N],$=v.textDecoder_.decode(new Uint8Array(X))):$=dn(k|N),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(I)),q.pendingNewLine=!1,q.addText($),I},lt.prototype.multiByteCharacter=function(I,v){var S=this.current708Packet.data,T=S[I+1],E=S[I+2];return Hi(T)&&Hi(E)&&(I=this.handleText(++I,v,{isMultiByte:!0})),I},lt.prototype.setCurrentWindow=function(I,v){var S=this.current708Packet.data,T=S[I],E=T&7;return v.setCurrentWindow(E),I},lt.prototype.defineWindow=function(I,v){var S=this.current708Packet.data,T=S[I],E=T&7;v.setCurrentWindow(E);var w=v.currentWindow;return T=S[++I],w.visible=(T&32)>>5,w.rowLock=(T&16)>>4,w.columnLock=(T&8)>>3,w.priority=T&7,T=S[++I],w.relativePositioning=(T&128)>>7,w.anchorVertical=T&127,T=S[++I],w.anchorHorizontal=T,T=S[++I],w.anchorPoint=(T&240)>>4,w.rowCount=T&15,T=S[++I],w.columnCount=T&63,T=S[++I],w.windowStyle=(T&56)>>3,w.penStyle=T&7,w.virtualRowCount=w.rowCount+1,I},lt.prototype.setWindowAttributes=function(I,v){var S=this.current708Packet.data,T=S[I],E=v.currentWindow.winAttr;return T=S[++I],E.fillOpacity=(T&192)>>6,E.fillRed=(T&48)>>4,E.fillGreen=(T&12)>>2,E.fillBlue=T&3,T=S[++I],E.borderType=(T&192)>>6,E.borderRed=(T&48)>>4,E.borderGreen=(T&12)>>2,E.borderBlue=T&3,T=S[++I],E.borderType+=(T&128)>>5,E.wordWrap=(T&64)>>6,E.printDirection=(T&48)>>4,E.scrollDirection=(T&12)>>2,E.justify=T&3,T=S[++I],E.effectSpeed=(T&240)>>4,E.effectDirection=(T&12)>>2,E.displayEffect=T&3,I},lt.prototype.flushDisplayed=function(I,v){for(var S=[],T=0;T<8;T++)v.windows[T].visible&&!v.windows[T].isEmpty()&&S.push(v.windows[T].getText());v.endPts=I,v.text=S.join(`

`),this.pushCaption(v),v.startPts=I},lt.prototype.pushCaption=function(I){I.text!==""&&(this.trigger("data",{startPts:I.startPts,endPts:I.endPts,text:I.text,stream:"cc708_"+I.serviceNum}),I.text="",I.startPts=I.endPts)},lt.prototype.displayWindows=function(I,v){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,v);for(var w=0;w<8;w++)T&1<<w&&(v.windows[w].visible=1);return I},lt.prototype.hideWindows=function(I,v){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,v);for(var w=0;w<8;w++)T&1<<w&&(v.windows[w].visible=0);return I},lt.prototype.toggleWindows=function(I,v){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,v);for(var w=0;w<8;w++)T&1<<w&&(v.windows[w].visible^=1);return I},lt.prototype.clearWindows=function(I,v){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,v);for(var w=0;w<8;w++)T&1<<w&&v.windows[w].clearText();return I},lt.prototype.deleteWindows=function(I,v){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,v);for(var w=0;w<8;w++)T&1<<w&&v.windows[w].reset();return I},lt.prototype.setPenAttributes=function(I,v){var S=this.current708Packet.data,T=S[I],E=v.currentWindow.penAttr;return T=S[++I],E.textTag=(T&240)>>4,E.offset=(T&12)>>2,E.penSize=T&3,T=S[++I],E.italics=(T&128)>>7,E.underline=(T&64)>>6,E.edgeType=(T&56)>>3,E.fontStyle=T&7,I},lt.prototype.setPenColor=function(I,v){var S=this.current708Packet.data,T=S[I],E=v.currentWindow.penColor;return T=S[++I],E.fgOpacity=(T&192)>>6,E.fgRed=(T&48)>>4,E.fgGreen=(T&12)>>2,E.fgBlue=T&3,T=S[++I],E.bgOpacity=(T&192)>>6,E.bgRed=(T&48)>>4,E.bgGreen=(T&12)>>2,E.bgBlue=T&3,T=S[++I],E.edgeRed=(T&48)>>4,E.edgeGreen=(T&12)>>2,E.edgeBlue=T&3,I},lt.prototype.setPenLocation=function(I,v){var S=this.current708Packet.data,T=S[I],E=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,T=S[++I],E.row=T&15,T=S[++I],E.column=T&63,I},lt.prototype.reset=function(I,v){var S=this.getPts(I);return this.flushDisplayed(S,v),this.initService(v.serviceNum,I)};var ms={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Vi=function(v){return v===null?"":(v=ms[v]||v,String.fromCharCode(v))},ka=14,Lo=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],qi=function(){for(var v=[],S=ka+1;S--;)v.push("");return v},kt=function I(v,S){I.prototype.init.call(this),this.field_=v||0,this.dataChannel_=S||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(T){var E,w,k,N,M;if(E=T.ccData&32639,E===this.lastControlCode_){this.lastControlCode_=null;return}if((E&61440)===4096?this.lastControlCode_=E:E!==this.PADDING_&&(this.lastControlCode_=null),k=E>>>8,N=E&255,E!==this.PADDING_)if(E===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(E===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(T.pts),this.flushDisplayed(T.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=T.pts;else if(E===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(T.pts);else if(E===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(T.pts);else if(E===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(T.pts);else if(E===this.CARRIAGE_RETURN_)this.clearFormatting(T.pts),this.flushDisplayed(T.pts),this.shiftRowsUp_(),this.startPts_=T.pts;else if(E===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(E===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(T.pts),this.displayed_=qi();else if(E===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=qi();else if(E===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(T.pts),this.displayed_=qi()),this.mode_="paintOn",this.startPts_=T.pts;else if(this.isSpecialCharacter(k,N))k=(k&3)<<8,M=Vi(k|N),this[this.mode_](T.pts,M),this.column_++;else if(this.isExtCharacter(k,N))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),k=(k&3)<<8,M=Vi(k|N),this[this.mode_](T.pts,M),this.column_++;else if(this.isMidRowCode(k,N))this.clearFormatting(T.pts),this[this.mode_](T.pts," "),this.column_++,(N&14)===14&&this.addFormatting(T.pts,["i"]),(N&1)===1&&this.addFormatting(T.pts,["u"]);else if(this.isOffsetControlCode(k,N))this.column_+=N&3;else if(this.isPAC(k,N)){var q=Lo.indexOf(E&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(T.pts,q)),q!==this.row_&&(this.clearFormatting(T.pts),this.row_=q),N&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(T.pts,["u"]),(E&16)===16&&(this.column_=((E&14)>>1)*4),this.isColorPAC(N)&&(N&14)===14&&this.addFormatting(T.pts,["i"])}else this.isNormalChar(k)&&(N===0&&(N=null),M=Vi(k),M+=Vi(N),this[this.mode_](T.pts,M),this.column_+=M.length)}};kt.prototype=new e,kt.prototype.flushDisplayed=function(I){var v=this.displayed_.map(function(S,T){try{return S.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+T+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");v.length&&this.trigger("data",{startPts:this.startPts_,endPts:I,text:v,stream:this.name_})},kt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=qi(),this.nonDisplayed_=qi(),this.lastControlCode_=null,this.column_=0,this.row_=ka,this.rollUpRows_=2,this.formatting_=[]},kt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},kt.prototype.isSpecialCharacter=function(I,v){return I===this.EXT_&&v>=48&&v<=63},kt.prototype.isExtCharacter=function(I,v){return(I===this.EXT_+1||I===this.EXT_+2)&&v>=32&&v<=63},kt.prototype.isMidRowCode=function(I,v){return I===this.EXT_&&v>=32&&v<=47},kt.prototype.isOffsetControlCode=function(I,v){return I===this.OFFSET_&&v>=33&&v<=35},kt.prototype.isPAC=function(I,v){return I>=this.BASE_&&I<this.BASE_+8&&v>=64&&v<=127},kt.prototype.isColorPAC=function(I){return I>=64&&I<=79||I>=96&&I<=127},kt.prototype.isNormalChar=function(I){return I>=32&&I<=127},kt.prototype.setRollUp=function(I,v){if(this.mode_!=="rollUp"&&(this.row_=ka,this.mode_="rollUp",this.flushDisplayed(I),this.nonDisplayed_=qi(),this.displayed_=qi()),v!==void 0&&v!==this.row_)for(var S=0;S<this.rollUpRows_;S++)this.displayed_[v-S]=this.displayed_[this.row_-S],this.displayed_[this.row_-S]="";v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},kt.prototype.addFormatting=function(I,v){this.formatting_=this.formatting_.concat(v);var S=v.reduce(function(T,E){return T+"<"+E+">"},"");this[this.mode_](I,S)},kt.prototype.clearFormatting=function(I){if(!!this.formatting_.length){var v=this.formatting_.reverse().reduce(function(S,T){return S+"</"+T+">"},"");this.formatting_=[],this[this.mode_](I,v)}},kt.prototype.popOn=function(I,v){var S=this.nonDisplayed_[this.row_];S+=v,this.nonDisplayed_[this.row_]=S},kt.prototype.rollUp=function(I,v){var S=this.displayed_[this.row_];S+=v,this.displayed_[this.row_]=S},kt.prototype.shiftRowsUp_=function(){var I;for(I=0;I<this.topRow_;I++)this.displayed_[I]="";for(I=this.row_+1;I<ka+1;I++)this.displayed_[I]="";for(I=this.topRow_;I<this.row_;I++)this.displayed_[I]=this.displayed_[I+1];this.displayed_[this.row_]=""},kt.prototype.paintOn=function(I,v){var S=this.displayed_[this.row_];S+=v,this.displayed_[this.row_]=S};var Da={CaptionStream:Er,Cea608Stream:kt,Cea708Stream:lt},Jt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},xf=8589934592,Ef=4294967296,Ro="shared",No=function(v,S){var T=1;for(v>S&&(T=-1);Math.abs(S-v)>Ef;)v+=T*xf;return v},Pa=function I(v){var S,T;I.prototype.init.call(this),this.type_=v||Ro,this.push=function(E){this.type_!==Ro&&E.type!==this.type_||(T===void 0&&(T=E.dts),E.dts=No(E.dts,T),E.pts=No(E.pts,T),S=E.dts,this.trigger("data",E))},this.flush=function(){T=S,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){T=void 0,S=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Pa.prototype=new e;var vs={TimestampRolloverStream:Pa,handleRollover:No},Fo=function(v,S,T){var E,w="";for(E=S;E<T;E++)w+="%"+("00"+v[E].toString(16)).slice(-2);return w},Ia=function(v,S,T){return decodeURIComponent(Fo(v,S,T))},Cf=function(v,S,T){return unescape(Fo(v,S,T))},Oa=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Mo={TXXX:function(v){var S;if(v.data[0]===3){for(S=1;S<v.data.length;S++)if(v.data[S]===0){v.description=Ia(v.data,1,S),v.value=Ia(v.data,S+1,v.data.length).replace(/\0*$/,"");break}v.data=v.value}},WXXX:function(v){var S;if(v.data[0]===3){for(S=1;S<v.data.length;S++)if(v.data[S]===0){v.description=Ia(v.data,1,S),v.url=Ia(v.data,S+1,v.data.length);break}}},PRIV:function(v){var S;for(S=0;S<v.data.length;S++)if(v.data[S]===0){v.owner=Cf(v.data,0,S);break}v.privateData=v.data.subarray(S+1),v.data=v.privateData}},_t;_t=function(v){var S={descriptor:v&&v.descriptor},T=0,E=[],w=0,k;if(_t.prototype.init.call(this),this.dispatchType=Jt.METADATA_STREAM_TYPE.toString(16),S.descriptor)for(k=0;k<S.descriptor.length;k++)this.dispatchType+=("00"+S.descriptor[k].toString(16)).slice(-2);this.push=function(N){var M,q,$,X,ie,Te;if(N.type==="timed-metadata"){if(N.dataAlignmentIndicator&&(w=0,E.length=0),E.length===0&&(N.data.length<10||N.data[0]!=="I".charCodeAt(0)||N.data[1]!=="D".charCodeAt(0)||N.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(E.push(N),w+=N.data.byteLength,E.length===1&&(T=Oa(N.data.subarray(6,10)),T+=10),!(w<T)){for(M={data:new Uint8Array(T),frames:[],pts:E[0].pts,dts:E[0].dts},ie=0;ie<T;)M.data.set(E[0].data.subarray(0,T-ie),ie),ie+=E[0].data.byteLength,w-=E[0].data.byteLength,E.shift();q=10,M.data[5]&64&&(q+=4,q+=Oa(M.data.subarray(10,14)),T-=Oa(M.data.subarray(16,20)));do{if($=Oa(M.data.subarray(q+4,q+8)),$<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Te=String.fromCharCode(M.data[q],M.data[q+1],M.data[q+2],M.data[q+3]),X={id:Te,data:M.data.subarray(q+10,q+$+10)},X.key=X.id,Mo[X.id]&&(Mo[X.id](X),X.owner==="com.apple.streaming.transportStreamTimestamp")){var De=X.data,ge=(De[3]&1)<<30|De[4]<<22|De[5]<<14|De[6]<<6|De[7]>>>2;ge*=4,ge+=De[7]&3,X.timeStamp=ge,M.pts===void 0&&M.dts===void 0&&(M.pts=X.timeStamp,M.dts=X.timeStamp),this.trigger("timestamp",X)}M.frames.push(X),q+=10,q+=$}while(q<T);this.trigger("data",M)}}}},_t.prototype=new e;var wf=_t,Af=vs.TimestampRolloverStream,_s,$n,ys,Wn=188,Bo=71;_s=function(){var v=new Uint8Array(Wn),S=0;_s.prototype.init.call(this),this.push=function(T){var E=0,w=Wn,k;for(S?(k=new Uint8Array(T.byteLength+S),k.set(v.subarray(0,S)),k.set(T,S),S=0):k=T;w<k.byteLength;){if(k[E]===Bo&&k[w]===Bo){this.trigger("data",k.subarray(E,w)),E+=Wn,w+=Wn;continue}E++,w++}E<k.byteLength&&(v.set(k.subarray(E),0),S=k.byteLength-E)},this.flush=function(){S===Wn&&v[0]===Bo&&(this.trigger("data",v),S=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){S=0,this.trigger("reset")}},_s.prototype=new e,$n=function(){var v,S,T,E;$n.prototype.init.call(this),E=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function(k,N){var M=0;N.payloadUnitStartIndicator&&(M+=k[M]+1),N.type==="pat"?S(k.subarray(M),N):T(k.subarray(M),N)},S=function(k,N){N.section_number=k[7],N.last_section_number=k[8],E.pmtPid=(k[10]&31)<<8|k[11],N.pmtPid=E.pmtPid},T=function(k,N){var M,q,$,X;if(!!(k[5]&1)){for(E.programMapTable={video:null,audio:null,"timed-metadata":{}},M=(k[1]&15)<<8|k[2],q=3+M-4,$=(k[10]&15)<<8|k[11],X=12+$;X<q;){var ie=k[X],Te=(k[X+1]&31)<<8|k[X+2];ie===Jt.H264_STREAM_TYPE&&E.programMapTable.video===null?E.programMapTable.video=Te:ie===Jt.ADTS_STREAM_TYPE&&E.programMapTable.audio===null?E.programMapTable.audio=Te:ie===Jt.METADATA_STREAM_TYPE&&(E.programMapTable["timed-metadata"][Te]=ie),X+=((k[X+3]&15)<<8|k[X+4])+5}N.programMapTable=E.programMapTable}},this.push=function(w){var k={},N=4;if(k.payloadUnitStartIndicator=!!(w[1]&64),k.pid=w[1]&31,k.pid<<=8,k.pid|=w[2],(w[3]&48)>>>4>1&&(N+=w[N]+1),k.pid===0)k.type="pat",v(w.subarray(N),k),this.trigger("data",k);else if(k.pid===this.pmtPid)for(k.type="pmt",v(w.subarray(N),k),this.trigger("data",k);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,N,k]):this.processPes_(w,N,k)},this.processPes_=function(w,k,N){N.pid===this.programMapTable.video?N.streamType=Jt.H264_STREAM_TYPE:N.pid===this.programMapTable.audio?N.streamType=Jt.ADTS_STREAM_TYPE:N.streamType=this.programMapTable["timed-metadata"][N.pid],N.type="pes",N.data=w.subarray(k),this.trigger("data",N)}},$n.prototype=new e,$n.STREAM_TYPES={h264:27,adts:15},ys=function(){var v=this,S=!1,T={data:[],size:0},E={data:[],size:0},w={data:[],size:0},k,N=function($,X){var ie,Te=$[0]<<16|$[1]<<8|$[2];X.data=new Uint8Array,Te===1&&(X.packetLength=6+($[4]<<8|$[5]),X.dataAlignmentIndicator=($[6]&4)!==0,ie=$[7],ie&192&&(X.pts=($[9]&14)<<27|($[10]&255)<<20|($[11]&254)<<12|($[12]&255)<<5|($[13]&254)>>>3,X.pts*=4,X.pts+=($[13]&6)>>>1,X.dts=X.pts,ie&64&&(X.dts=($[14]&14)<<27|($[15]&255)<<20|($[16]&254)<<12|($[17]&255)<<5|($[18]&254)>>>3,X.dts*=4,X.dts+=($[18]&6)>>>1)),X.data=$.subarray(9+$[8]))},M=function($,X,ie){var Te=new Uint8Array($.size),De={type:X},ge=0,He=0,$t=!1,vr;if(!(!$.data.length||$.size<9)){for(De.trackId=$.data[0].pid,ge=0;ge<$.data.length;ge++)vr=$.data[ge],Te.set(vr.data,He),He+=vr.data.byteLength;N(Te,De),$t=X==="video"||De.packetLength<=$.size,(ie||$t)&&($.size=0,$.data.length=0),$t&&v.trigger("data",De)}};ys.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var X,ie;switch(q.streamType){case Jt.H264_STREAM_TYPE:X=T,ie="video";break;case Jt.ADTS_STREAM_TYPE:X=E,ie="audio";break;case Jt.METADATA_STREAM_TYPE:X=w,ie="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&M(X,ie,!0),X.data.push(q),X.size+=q.data.byteLength},pmt:function(){var X={type:"metadata",tracks:[]};k=q.programMapTable,k.video!==null&&X.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&X.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),S=!0,v.trigger("data",X)}})[q.type]()},this.reset=function(){T.size=0,T.data.length=0,E.size=0,E.data.length=0,this.trigger("reset")},this.flushStreams_=function(){M(T,"video"),M(E,"audio"),M(w,"timed-metadata")},this.flush=function(){if(!S&&k){var q={type:"metadata",tracks:[]};k.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),v.trigger("data",q)}S=!1,this.flushStreams_(),this.trigger("done")}},ys.prototype=new e;var Pl={PAT_PID:0,MP2T_PACKET_LENGTH:Wn,TransportPacketStream:_s,TransportParseStream:$n,ElementaryStream:ys,TimestampRolloverStream:Af,CaptionStream:Da.CaptionStream,Cea608Stream:Da.Cea608Stream,Cea708Stream:Da.Cea708Stream,MetadataStream:wf};for(var Uo in Jt)Jt.hasOwnProperty(Uo)&&(Pl[Uo]=Jt[Uo]);var ki=Pl,kf=Ye.ONE_SECOND_IN_TS,bs,jo=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];bs=function(v){var S,T=0;bs.prototype.init.call(this),this.skipWarn_=function(E,w){this.trigger("log",{level:"warn",message:"adts skiping bytes "+E+" to "+w+" in frame "+T+" outside syncword"})},this.push=function(E){var w=0,k,N,M,q,$;if(v||(T=0),E.type==="audio"){S&&S.length?(M=S,S=new Uint8Array(M.byteLength+E.data.byteLength),S.set(M),S.set(E.data,M.byteLength)):S=E.data;for(var X;w+7<S.length;){if(S[w]!==255||(S[w+1]&246)!==240){typeof X!="number"&&(X=w),w++;continue}if(typeof X=="number"&&(this.skipWarn_(X,w),X=null),N=(~S[w+1]&1)*2,k=(S[w+3]&3)<<11|S[w+4]<<3|(S[w+5]&224)>>5,q=((S[w+6]&3)+1)*1024,$=q*kf/jo[(S[w+2]&60)>>>2],S.byteLength-w<k)break;this.trigger("data",{pts:E.pts+T*$,dts:E.dts+T*$,sampleCount:q,audioobjecttype:(S[w+2]>>>6&3)+1,channelcount:(S[w+2]&1)<<2|(S[w+3]&192)>>>6,samplerate:jo[(S[w+2]&60)>>>2],samplingfrequencyindex:(S[w+2]&60)>>>2,samplesize:16,data:S.subarray(w+7+N,w+k)}),T++,w+=k}typeof X=="number"&&(this.skipWarn_(X,w),X=null),S=S.subarray(w)}},this.flush=function(){T=0,this.trigger("done")},this.reset=function(){S=void 0,this.trigger("reset")},this.endTimeline=function(){S=void 0,this.trigger("endedtimeline")}},bs.prototype=new e;var Ho=bs,Il;Il=function(v){var S=v.byteLength,T=0,E=0;this.length=function(){return 8*S},this.bitsAvailable=function(){return 8*S+E},this.loadWord=function(){var w=v.byteLength-S,k=new Uint8Array(4),N=Math.min(4,S);if(N===0)throw new Error("no bytes available");k.set(v.subarray(w,w+N)),T=new DataView(k.buffer).getUint32(0),E=N*8,S-=N},this.skipBits=function(w){var k;E>w?(T<<=w,E-=w):(w-=E,k=Math.floor(w/8),w-=k*8,S-=k,this.loadWord(),T<<=w,E-=w)},this.readBits=function(w){var k=Math.min(E,w),N=T>>>32-k;return E-=k,E>0?T<<=k:S>0&&this.loadWord(),k=w-k,k>0?N<<k|this.readBits(k):N},this.skipLeadingZeros=function(){var w;for(w=0;w<E;++w)if((T&2147483648>>>w)!==0)return T<<=w,E-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Df=Il,Gn,zn,Vo;zn=function(){var v=0,S,T;zn.prototype.init.call(this),this.push=function(E){var w;T?(w=new Uint8Array(T.byteLength+E.data.byteLength),w.set(T),w.set(E.data,T.byteLength),T=w):T=E.data;for(var k=T.byteLength;v<k-3;v++)if(T[v+2]===1){S=v+5;break}for(;S<k;)switch(T[S]){case 0:if(T[S-1]!==0){S+=2;break}else if(T[S-2]!==0){S++;break}v+3!==S-2&&this.trigger("data",T.subarray(v+3,S-2));do S++;while(T[S]!==1&&S<k);v=S-2,S+=3;break;case 1:if(T[S-1]!==0||T[S-2]!==0){S+=3;break}this.trigger("data",T.subarray(v+3,S-2)),v=S-2,S+=3;break;default:S+=3;break}T=T.subarray(v),S-=v,v=0},this.reset=function(){T=null,v=0,this.trigger("reset")},this.flush=function(){T&&T.byteLength>3&&this.trigger("data",T.subarray(v+3)),T=null,v=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},zn.prototype=new e,Vo={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Gn=function(){var v=new zn,S,T,E,w,k,N,M;Gn.prototype.init.call(this),S=this,this.push=function(q){q.type==="video"&&(T=q.trackId,E=q.pts,w=q.dts,v.push(q))},v.on("data",function(q){var $={trackId:T,pts:E,dts:w,data:q,nalUnitTypeCode:q[0]&31};switch($.nalUnitTypeCode){case 5:$.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:$.nalUnitType="sei_rbsp",$.escapedRBSP=k(q.subarray(1));break;case 7:$.nalUnitType="seq_parameter_set_rbsp",$.escapedRBSP=k(q.subarray(1)),$.config=N($.escapedRBSP);break;case 8:$.nalUnitType="pic_parameter_set_rbsp";break;case 9:$.nalUnitType="access_unit_delimiter_rbsp";break}S.trigger("data",$)}),v.on("done",function(){S.trigger("done")}),v.on("partialdone",function(){S.trigger("partialdone")}),v.on("reset",function(){S.trigger("reset")}),v.on("endedtimeline",function(){S.trigger("endedtimeline")}),this.flush=function(){v.flush()},this.partialFlush=function(){v.partialFlush()},this.reset=function(){v.reset()},this.endTimeline=function(){v.endTimeline()},M=function($,X){var ie=8,Te=8,De,ge;for(De=0;De<$;De++)Te!==0&&(ge=X.readExpGolomb(),Te=(ie+ge+256)%256),ie=Te===0?ie:Te},k=function($){for(var X=$.byteLength,ie=[],Te=1,De,ge;Te<X-2;)$[Te]===0&&$[Te+1]===0&&$[Te+2]===3?(ie.push(Te+2),Te+=2):Te++;if(ie.length===0)return $;De=X-ie.length,ge=new Uint8Array(De);var He=0;for(Te=0;Te<De;He++,Te++)He===ie[0]&&(He++,ie.shift()),ge[Te]=$[He];return ge},N=function($){var X=0,ie=0,Te=0,De=0,ge,He,$t,vr,gn,Zo,ic,nc,ac,eu,sc,Ut=[1,1],oc,mn;if(ge=new Df($),He=ge.readUnsignedByte(),vr=ge.readUnsignedByte(),$t=ge.readUnsignedByte(),ge.skipUnsignedExpGolomb(),Vo[He]&&(gn=ge.readUnsignedExpGolomb(),gn===3&&ge.skipBits(1),ge.skipUnsignedExpGolomb(),ge.skipUnsignedExpGolomb(),ge.skipBits(1),ge.readBoolean()))for(sc=gn!==3?8:12,mn=0;mn<sc;mn++)ge.readBoolean()&&(mn<6?M(16,ge):M(64,ge));if(ge.skipUnsignedExpGolomb(),Zo=ge.readUnsignedExpGolomb(),Zo===0)ge.readUnsignedExpGolomb();else if(Zo===1)for(ge.skipBits(1),ge.skipExpGolomb(),ge.skipExpGolomb(),ic=ge.readUnsignedExpGolomb(),mn=0;mn<ic;mn++)ge.skipExpGolomb();if(ge.skipUnsignedExpGolomb(),ge.skipBits(1),nc=ge.readUnsignedExpGolomb(),ac=ge.readUnsignedExpGolomb(),eu=ge.readBits(1),eu===0&&ge.skipBits(1),ge.skipBits(1),ge.readBoolean()&&(X=ge.readUnsignedExpGolomb(),ie=ge.readUnsignedExpGolomb(),Te=ge.readUnsignedExpGolomb(),De=ge.readUnsignedExpGolomb()),ge.readBoolean()&&ge.readBoolean()){switch(oc=ge.readUnsignedByte(),oc){case 1:Ut=[1,1];break;case 2:Ut=[12,11];break;case 3:Ut=[10,11];break;case 4:Ut=[16,11];break;case 5:Ut=[40,33];break;case 6:Ut=[24,11];break;case 7:Ut=[20,11];break;case 8:Ut=[32,11];break;case 9:Ut=[80,33];break;case 10:Ut=[18,11];break;case 11:Ut=[15,11];break;case 12:Ut=[64,33];break;case 13:Ut=[160,99];break;case 14:Ut=[4,3];break;case 15:Ut=[3,2];break;case 16:Ut=[2,1];break;case 255:{Ut=[ge.readUnsignedByte()<<8|ge.readUnsignedByte(),ge.readUnsignedByte()<<8|ge.readUnsignedByte()];break}}Ut&&Ut[0]/Ut[1]}return{profileIdc:He,levelIdc:$t,profileCompatibility:vr,width:(nc+1)*16-X*2-ie*2,height:(2-eu)*(ac+1)*16-Te*2-De*2,sarRatio:Ut}}},Gn.prototype=new e;var Ol={H264Stream:Gn,NalByteStream:zn},Pf=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ll=function(v,S){var T=v[S+6]<<21|v[S+7]<<14|v[S+8]<<7|v[S+9],E=v[S+5],w=(E&16)>>4;return T=T>=0?T:0,w?T+20:T+10},If=function I(v,S){return v.length-S<10||v[S]!=="I".charCodeAt(0)||v[S+1]!=="D".charCodeAt(0)||v[S+2]!=="3".charCodeAt(0)?S:(S+=Ll(v,S),I(v,S))},Of=function(v){var S=If(v,0);return v.length>=S+2&&(v[S]&255)===255&&(v[S+1]&240)===240&&(v[S+1]&22)===16},qo=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Lf=function(v,S,T){var E,w="";for(E=S;E<T;E++)w+="%"+("00"+v[E].toString(16)).slice(-2);return w},Rf=function(v,S,T){return unescape(Lf(v,S,T))},Nf=function(v,S){var T=(v[S+5]&224)>>5,E=v[S+4]<<3,w=v[S+3]&3<<11;return w|E|T},Ff=function(v,S){return v[S]==="I".charCodeAt(0)&&v[S+1]==="D".charCodeAt(0)&&v[S+2]==="3".charCodeAt(0)?"timed-metadata":v[S]&!0&&(v[S+1]&240)===240?"audio":null},Mf=function(v){for(var S=0;S+5<v.length;){if(v[S]!==255||(v[S+1]&246)!==240){S++;continue}return Pf[(v[S+2]&60)>>>2]}return null},Bf=function(v){var S,T,E,w;S=10,v[5]&64&&(S+=4,S+=qo(v.subarray(10,14)));do{if(T=qo(v.subarray(S+4,S+8)),T<1)return null;if(w=String.fromCharCode(v[S],v[S+1],v[S+2],v[S+3]),w==="PRIV"){E=v.subarray(S+10,S+T+10);for(var k=0;k<E.byteLength;k++)if(E[k]===0){var N=Rf(E,0,k);if(N==="com.apple.streaming.transportStreamTimestamp"){var M=E.subarray(k+1),q=(M[3]&1)<<30|M[4]<<22|M[5]<<14|M[6]<<6|M[7]>>>2;return q*=4,q+=M[7]&3,q}break}}S+=10,S+=T}while(S<v.byteLength);return null},Ts={isLikelyAacData:Of,parseId3TagSize:Ll,parseAdtsSize:Nf,parseType:Ff,parseSampleRate:Mf,parseAacTimestamp:Bf},Ss;Ss=function(){var v=new Uint8Array,S=0;Ss.prototype.init.call(this),this.setTimestamp=function(T){S=T},this.push=function(T){var E=0,w=0,k,N,M,q;for(v.length?(q=v.length,v=new Uint8Array(T.byteLength+q),v.set(v.subarray(0,q)),v.set(T,q)):v=T;v.length-w>=3;){if(v[w]==="I".charCodeAt(0)&&v[w+1]==="D".charCodeAt(0)&&v[w+2]==="3".charCodeAt(0)){if(v.length-w<10||(E=Ts.parseId3TagSize(v,w),w+E>v.length))break;N={type:"timed-metadata",data:v.subarray(w,w+E)},this.trigger("data",N),w+=E;continue}else if((v[w]&255)===255&&(v[w+1]&240)===240){if(v.length-w<7||(E=Ts.parseAdtsSize(v,w),w+E>v.length))break;M={type:"audio",data:v.subarray(w,w+E),pts:S,dts:S},this.trigger("data",M),w+=E;continue}w++}k=v.length-w,k>0?v=v.subarray(w):v=new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}},Ss.prototype=new e;var Uf=Ss,jf=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],$o=jf,Hf=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Wo=Hf,Vf=Ol.H264Stream,qf=Ts.isLikelyAacData,Go=Ye.ONE_SECOND_IN_TS,La,Kn,xs,fn,Rl=function(v,S){S.stream=v,this.trigger("log",S)},Nl=function(v,S){for(var T=Object.keys(S),E=0;E<T.length;E++){var w=T[E];w==="headOfPipeline"||!S[w].on||S[w].on("log",Rl.bind(v,w))}},Fl=function(v,S){var T;if(v.length!==S.length)return!1;for(T=0;T<v.length;T++)if(v[T]!==S[T])return!1;return!0},zo=function(v,S,T,E,w,k){var N=T-S,M=E-S,q=w-T;return{start:{dts:v,pts:v+N},end:{dts:v+M,pts:v+q},prependedContentDuration:k,baseMediaDecodeTime:v}};Kn=function(v,S){var T=[],E,w=0,k=0,N=1/0;S=S||{},E=S.firstSequenceNumber||0,Kn.prototype.init.call(this),this.push=function(M){qr.collectDtsInfo(v,M),v&&$o.forEach(function(q){v[q]=M[q]}),T.push(M)},this.setEarliestDts=function(M){w=M},this.setVideoBaseMediaDecodeTime=function(M){N=M},this.setAudioAppendStart=function(M){k=M},this.flush=function(){var M,q,$,X,ie,Te,De;if(T.length===0){this.trigger("done","AudioSegmentStream");return}M=sr.trimAdtsFramesByEarliestDts(T,v,w),v.baseMediaDecodeTime=qr.calculateTrackBaseMediaDecodeTime(v,S.keepOriginalTimestamps),De=sr.prefixWithSilence(v,M,k,N),v.samples=sr.generateSampleTable(M),$=pt.mdat(sr.concatenateFrameData(M)),T=[],q=pt.moof(E,[v]),X=new Uint8Array(q.byteLength+$.byteLength),E++,X.set(q),X.set($,q.byteLength),qr.clearDtsInfo(v),ie=Math.ceil(Go*1024/v.samplerate),M.length&&(Te=M.length*ie,this.trigger("segmentTimingInfo",zo(Ye.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),M[0].dts,M[0].pts,M[0].dts+Te,M[0].pts+Te,De||0)),this.trigger("timingInfo",{start:M[0].pts,end:M[0].pts+Te})),this.trigger("data",{track:v,boxes:X}),this.trigger("done","AudioSegmentStream")},this.reset=function(){qr.clearDtsInfo(v),T=[],this.trigger("reset")}},Kn.prototype=new e,La=function(v,S){var T,E=[],w=[],k,N;S=S||{},T=S.firstSequenceNumber||0,La.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(M){qr.collectDtsInfo(v,M),M.nalUnitType==="seq_parameter_set_rbsp"&&!k&&(k=M.config,v.sps=[M.data],Wo.forEach(function(q){v[q]=k[q]},this)),M.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=M.data,v.pps=[M.data]),E.push(M)},this.flush=function(){for(var M,q,$,X,ie,Te,De=0,ge,He;E.length&&E[0].nalUnitType!=="access_unit_delimiter_rbsp";)E.shift();if(E.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(M=oe.groupNalsIntoFrames(E),$=oe.groupFramesIntoGops(M),$[0][0].keyFrame||(q=this.getGopForFusion_(E[0],v),q?(De=q.duration,$.unshift(q),$.byteLength+=q.byteLength,$.nalCount+=q.nalCount,$.pts=q.pts,$.dts=q.dts,$.duration+=q.duration):$=oe.extendFirstKeyFrame($)),w.length){var $t;if(S.alignGopsAtEnd?$t=this.alignGopsAtEnd_($):$t=this.alignGopsAtStart_($),!$t){this.gopCache_.unshift({gop:$.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}qr.clearDtsInfo(v),$=$t}qr.collectDtsInfo(v,$),v.samples=oe.generateSampleTable($),ie=pt.mdat(oe.concatenateNalData($)),v.baseMediaDecodeTime=qr.calculateTrackBaseMediaDecodeTime(v,S.keepOriginalTimestamps),this.trigger("processedGopsInfo",$.map(function(vr){return{pts:vr.pts,dts:vr.dts,byteLength:vr.byteLength}})),ge=$[0],He=$[$.length-1],this.trigger("segmentTimingInfo",zo(v.baseMediaDecodeTime,ge.dts,ge.pts,He.dts+He.duration,He.pts+He.duration,De)),this.trigger("timingInfo",{start:$[0].pts,end:$[$.length-1].pts+$[$.length-1].duration}),this.gopCache_.unshift({gop:$.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),X=pt.moof(T,[v]),Te=new Uint8Array(X.byteLength+ie.byteLength),T++,Te.set(X),Te.set(ie,X.byteLength),this.trigger("data",{track:v,boxes:Te}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),E=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){qr.clearDtsInfo(v),k=void 0,N=void 0},this.getGopForFusion_=function(M){var q=45e3,$=1e4,X=1/0,ie,Te,De,ge,He;for(He=0;He<this.gopCache_.length;He++)ge=this.gopCache_[He],De=ge.gop,!(!(v.pps&&Fl(v.pps[0],ge.pps[0]))||!(v.sps&&Fl(v.sps[0],ge.sps[0])))&&(De.dts<v.timelineStartInfo.dts||(ie=M.dts-De.dts-De.duration,ie>=-$&&ie<=q&&(!Te||X>ie)&&(Te=ge,X=ie)));return Te?Te.gop:null},this.alignGopsAtStart_=function(M){var q,$,X,ie,Te,De,ge,He;for(Te=M.byteLength,De=M.nalCount,ge=M.duration,q=$=0;q<w.length&&$<M.length&&(X=w[q],ie=M[$],X.pts!==ie.pts);){if(ie.pts>X.pts){q++;continue}$++,Te-=ie.byteLength,De-=ie.nalCount,ge-=ie.duration}return $===0?M:$===M.length?null:(He=M.slice($),He.byteLength=Te,He.duration=ge,He.nalCount=De,He.pts=He[0].pts,He.dts=He[0].dts,He)},this.alignGopsAtEnd_=function(M){var q,$,X,ie,Te,De;for(q=w.length-1,$=M.length-1,Te=null,De=!1;q>=0&&$>=0;){if(X=w[q],ie=M[$],X.pts===ie.pts){De=!0;break}if(X.pts>ie.pts){q--;continue}q===w.length-1&&(Te=$),$--}if(!De&&Te===null)return null;var ge;if(De?ge=$:ge=Te,ge===0)return M;var He=M.slice(ge),$t=He.reduce(function(vr,gn){return vr.byteLength+=gn.byteLength,vr.duration+=gn.duration,vr.nalCount+=gn.nalCount,vr},{byteLength:0,duration:0,nalCount:0});return He.byteLength=$t.byteLength,He.duration=$t.duration,He.nalCount=$t.nalCount,He.pts=He[0].pts,He.dts=He[0].dts,He},this.alignGopsWith=function(M){w=M}},La.prototype=new e,fn=function(v,S){this.numberOfTracks=0,this.metadataStream=S,v=v||{},typeof v.remux<"u"?this.remuxTracks=!!v.remux:this.remuxTracks=!0,typeof v.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=v.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,fn.prototype.init.call(this),this.push=function(T){if(T.text)return this.pendingCaptions.push(T);if(T.frames)return this.pendingMetadata.push(T);this.pendingTracks.push(T.track),this.pendingBytes+=T.boxes.byteLength,T.track.type==="video"&&(this.videoTrack=T.track,this.pendingBoxes.push(T.boxes)),T.track.type==="audio"&&(this.audioTrack=T.track,this.pendingBoxes.unshift(T.boxes))}},fn.prototype=new e,fn.prototype.flush=function(I){var v=0,S={captions:[],captionStreams:{},metadata:[],info:{}},T,E,w,k=0,N;if(this.pendingTracks.length<this.numberOfTracks){if(I!=="VideoSegmentStream"&&I!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(k=this.videoTrack.timelineStartInfo.pts,Wo.forEach(function(M){S.info[M]=this.videoTrack[M]},this)):this.audioTrack&&(k=this.audioTrack.timelineStartInfo.pts,$o.forEach(function(M){S.info[M]=this.audioTrack[M]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?S.type=this.pendingTracks[0].type:S.type="combined",this.emittedTracks+=this.pendingTracks.length,w=pt.initSegment(this.pendingTracks),S.initSegment=new Uint8Array(w.byteLength),S.initSegment.set(w),S.data=new Uint8Array(this.pendingBytes),N=0;N<this.pendingBoxes.length;N++)S.data.set(this.pendingBoxes[N],v),v+=this.pendingBoxes[N].byteLength;for(N=0;N<this.pendingCaptions.length;N++)T=this.pendingCaptions[N],T.startTime=Ye.metadataTsToSeconds(T.startPts,k,this.keepOriginalTimestamps),T.endTime=Ye.metadataTsToSeconds(T.endPts,k,this.keepOriginalTimestamps),S.captionStreams[T.stream]=!0,S.captions.push(T);for(N=0;N<this.pendingMetadata.length;N++)E=this.pendingMetadata[N],E.cueTime=Ye.metadataTsToSeconds(E.pts,k,this.keepOriginalTimestamps),S.metadata.push(E);for(S.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",S),N=0;N<S.captions.length;N++)T=S.captions[N],this.trigger("caption",T);for(N=0;N<S.metadata.length;N++)E=S.metadata[N],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},fn.prototype.setRemux=function(I){this.remuxTracks=I},xs=function(v){var S=this,T=!0,E,w;xs.prototype.init.call(this),v=v||{},this.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="aac",k.metadataStream=new ki.MetadataStream,k.aacStream=new Uf,k.audioTimestampRolloverStream=new ki.TimestampRolloverStream("audio"),k.timedMetadataTimestampRolloverStream=new ki.TimestampRolloverStream("timed-metadata"),k.adtsStream=new Ho,k.coalesceStream=new fn(v,k.metadataStream),k.headOfPipeline=k.aacStream,k.aacStream.pipe(k.audioTimestampRolloverStream).pipe(k.adtsStream),k.aacStream.pipe(k.timedMetadataTimestampRolloverStream).pipe(k.metadataStream).pipe(k.coalesceStream),k.metadataStream.on("timestamp",function(N){k.aacStream.setTimestamp(N.timeStamp)}),k.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||k.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:S.baseMediaDecodeTime},codec:"adts",type:"audio"},k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new Kn(w,v),k.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream),S.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!E}))}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),Nl(this,k)},this.setupTsPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="ts",k.metadataStream=new ki.MetadataStream,k.packetStream=new ki.TransportPacketStream,k.parseStream=new ki.TransportParseStream,k.elementaryStream=new ki.ElementaryStream,k.timestampRolloverStream=new ki.TimestampRolloverStream,k.adtsStream=new Ho,k.h264Stream=new Vf,k.captionStream=new ki.CaptionStream(v),k.coalesceStream=new fn(v,k.metadataStream),k.headOfPipeline=k.packetStream,k.packetStream.pipe(k.parseStream).pipe(k.elementaryStream).pipe(k.timestampRolloverStream),k.timestampRolloverStream.pipe(k.h264Stream),k.timestampRolloverStream.pipe(k.adtsStream),k.timestampRolloverStream.pipe(k.metadataStream).pipe(k.coalesceStream),k.h264Stream.pipe(k.captionStream).pipe(k.coalesceStream),k.elementaryStream.on("data",function(N){var M;if(N.type==="metadata"){for(M=N.tracks.length;M--;)!E&&N.tracks[M].type==="video"?(E=N.tracks[M],E.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime):!w&&N.tracks[M].type==="audio"&&(w=N.tracks[M],w.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime);E&&!k.videoSegmentStream&&(k.coalesceStream.numberOfTracks++,k.videoSegmentStream=new La(E,v),k.videoSegmentStream.on("log",S.getLogTrigger_("videoSegmentStream")),k.videoSegmentStream.on("timelineStartInfo",function(q){w&&!v.keepOriginalTimestamps&&(w.timelineStartInfo=q,k.audioSegmentStream.setEarliestDts(q.dts-S.baseMediaDecodeTime))}),k.videoSegmentStream.on("processedGopsInfo",S.trigger.bind(S,"gopInfo")),k.videoSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"videoSegmentTimingInfo")),k.videoSegmentStream.on("baseMediaDecodeTime",function(q){w&&k.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),k.videoSegmentStream.on("timingInfo",S.trigger.bind(S,"videoTimingInfo")),k.h264Stream.pipe(k.videoSegmentStream).pipe(k.coalesceStream)),w&&!k.audioSegmentStream&&(k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new Kn(w,v),k.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),k.audioSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"audioSegmentTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream)),S.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!E})}}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("id3Frame",function(N){N.dispatchType=k.metadataStream.dispatchType,S.trigger("id3Frame",N)}),k.coalesceStream.on("caption",this.trigger.bind(this,"caption")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),Nl(this,k)},this.setBaseMediaDecodeTime=function(k){var N=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=k),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,qr.clearDtsInfo(w),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),E&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,qr.clearDtsInfo(E),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(k){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(k)},this.setRemux=function(k){var N=this.transmuxPipeline_;v.remux=k,N&&N.coalesceStream&&N.coalesceStream.setRemux(k)},this.alignGopsWith=function(k){E&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(k)},this.getLogTrigger_=function(k){var N=this;return function(M){M.stream=k,N.trigger("log",M)}},this.push=function(k){if(T){var N=qf(k);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),T=!1}this.transmuxPipeline_.headOfPipeline.push(k)},this.flush=function(){T=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},xs.prototype=new e;var Ml={Transmuxer:xs,VideoSegmentStream:La,AudioSegmentStream:Kn,AUDIO_PROPERTIES:$o,VIDEO_PROPERTIES:Wo,generateSegmentTimingInfo:zo},$f=function(v){return v>>>0},Wf=function(v){return("00"+v.toString(16)).slice(-2)},Es={toUnsigned:$f,toHexString:Wf},Gf=function(v){var S="";return S+=String.fromCharCode(v[0]),S+=String.fromCharCode(v[1]),S+=String.fromCharCode(v[2]),S+=String.fromCharCode(v[3]),S},ti=Gf,Bl=Es.toUnsigned,zf=function I(v,S){var T=[],E,w,k,N,M;if(!S.length)return null;for(E=0;E<v.byteLength;)w=Bl(v[E]<<24|v[E+1]<<16|v[E+2]<<8|v[E+3]),k=ti(v.subarray(E+4,E+8)),N=w>1?E+w:v.byteLength,k===S[0]&&(S.length===1?T.push(v.subarray(E+8,N)):(M=I(v.subarray(E+8,N),S.slice(1)),M.length&&(T=T.concat(M)))),E=N;return T},xt=zf,Kf=Es.toUnsigned,Ul=t.getUint64,jl=function(v){var S={version:v[0],flags:new Uint8Array(v.subarray(1,4))};return S.version===1?S.baseMediaDecodeTime=Ul(v.subarray(4)):S.baseMediaDecodeTime=Kf(v[4]<<24|v[5]<<16|v[6]<<8|v[7]),S},Hl=jl,Xf=function(v){return{isLeading:(v[0]&12)>>>2,dependsOn:v[0]&3,isDependedOn:(v[1]&192)>>>6,hasRedundancy:(v[1]&48)>>>4,paddingValue:(v[1]&14)>>>1,isNonSyncSample:v[1]&1,degradationPriority:v[2]<<8|v[3]}},Vl=Xf,Jf=function(v){var S={version:v[0],flags:new Uint8Array(v.subarray(1,4)),samples:[]},T=new DataView(v.buffer,v.byteOffset,v.byteLength),E=S.flags[2]&1,w=S.flags[2]&4,k=S.flags[1]&1,N=S.flags[1]&2,M=S.flags[1]&4,q=S.flags[1]&8,$=T.getUint32(4),X=8,ie;for(E&&(S.dataOffset=T.getInt32(X),X+=4),w&&$&&(ie={flags:Vl(v.subarray(X,X+4))},X+=4,k&&(ie.duration=T.getUint32(X),X+=4),N&&(ie.size=T.getUint32(X),X+=4),q&&(S.version===1?ie.compositionTimeOffset=T.getInt32(X):ie.compositionTimeOffset=T.getUint32(X),X+=4),S.samples.push(ie),$--);$--;)ie={},k&&(ie.duration=T.getUint32(X),X+=4),N&&(ie.size=T.getUint32(X),X+=4),M&&(ie.flags=Vl(v.subarray(X,X+4)),X+=4),q&&(S.version===1?ie.compositionTimeOffset=T.getInt32(X):ie.compositionTimeOffset=T.getUint32(X),X+=4),S.samples.push(ie);return S},ql=Jf,$l=function(v){var S=new DataView(v.buffer,v.byteOffset,v.byteLength),T={version:v[0],flags:new Uint8Array(v.subarray(1,4)),trackId:S.getUint32(4)},E=T.flags[2]&1,w=T.flags[2]&2,k=T.flags[2]&8,N=T.flags[2]&16,M=T.flags[2]&32,q=T.flags[0]&65536,$=T.flags[0]&131072,X;return X=8,E&&(X+=4,T.baseDataOffset=S.getUint32(12),X+=4),w&&(T.sampleDescriptionIndex=S.getUint32(X),X+=4),k&&(T.defaultSampleDuration=S.getUint32(X),X+=4),N&&(T.defaultSampleSize=S.getUint32(X),X+=4),M&&(T.defaultSampleFlags=S.getUint32(X)),q&&(T.durationIsEmpty=!0),!E&&$&&(T.baseDataOffsetIsMoof=!0),T},Wl=$l,Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri;typeof window<"u"?ri=window:typeof Gl<"u"?ri=Gl:typeof self<"u"?ri=self:ri={};var hn=ri,Ko=cn.discardEmulationPreventionBytes,Yf=Da.CaptionStream,Qf=function(v,S){for(var T=v,E=0;E<S.length;E++){var w=S[E];if(T<w.size)return w;T-=w.size}return null},Zf=function(v,S,T){var E=new DataView(v.buffer,v.byteOffset,v.byteLength),w={logs:[],seiNals:[]},k,N,M,q;for(N=0;N+4<v.length;N+=M)if(M=E.getUint32(N),N+=4,!(M<=0))switch(v[N]&31){case 6:var $=v.subarray(N+1,N+1+M),X=Qf(N,S);if(k={nalUnitType:"sei_rbsp",size:M,data:$,escapedRBSP:Ko($),trackId:T},X)k.pts=X.pts,k.dts=X.dts,q=X;else if(q)k.pts=q.pts,k.dts=q.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+N+" for trackId "+T+". See mux.js#223."});break}w.seiNals.push(k);break}return w},eh=function(v,S,T){var E=S,w=T.defaultSampleDuration||0,k=T.defaultSampleSize||0,N=T.trackId,M=[];return v.forEach(function(q){var $=ql(q),X=$.samples;X.forEach(function(ie){ie.duration===void 0&&(ie.duration=w),ie.size===void 0&&(ie.size=k),ie.trackId=N,ie.dts=E,ie.compositionTimeOffset===void 0&&(ie.compositionTimeOffset=0),typeof E=="bigint"?(ie.pts=E+hn.BigInt(ie.compositionTimeOffset),E+=hn.BigInt(ie.duration)):(ie.pts=E+ie.compositionTimeOffset,E+=ie.duration)}),M=M.concat(X)}),M},th=function(v,S){var T=xt(v,["moof","traf"]),E=xt(v,["mdat"]),w={},k=[];return E.forEach(function(N,M){var q=T[M];k.push({mdat:N,traf:q})}),k.forEach(function(N){var M=N.mdat,q=N.traf,$=xt(q,["tfhd"]),X=Wl($[0]),ie=X.trackId,Te=xt(q,["tfdt"]),De=Te.length>0?Hl(Te[0]).baseMediaDecodeTime:0,ge=xt(q,["trun"]),He,$t;S===ie&&ge.length>0&&(He=eh(ge,De,X),$t=Zf(M,He,ie),w[ie]||(w[ie]={seiNals:[],logs:[]}),w[ie].seiNals=w[ie].seiNals.concat($t.seiNals),w[ie].logs=w[ie].logs.concat($t.logs))}),w},Xo=function(v,S,T){var E;if(S===null)return null;E=th(v,S);var w=E[S]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:T}},rh=function(){var v=!1,S,T,E,w,k,N;this.isInitialized=function(){return v},this.init=function(M){S=new Yf,v=!0,N=M?M.isPartial:!1,S.on("data",function(q){q.startTime=q.startPts/w,q.endTime=q.endPts/w,k.captions.push(q),k.captionStreams[q.stream]=!0}),S.on("log",function(q){k.logs.push(q)})},this.isNewInit=function(M,q){return M&&M.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:E!==M[0]||w!==q[E]},this.parse=function(M,q,$){var X;if(this.isInitialized()){if(!q||!$)return null;if(this.isNewInit(q,$))E=q[0],w=$[E];else if(E===null||!w)return T.push(M),null}else return null;for(;T.length>0;){var ie=T.shift();this.parse(ie,q,$)}return X=Xo(M,E,w),X&&X.logs&&(k.logs=k.logs.concat(X.logs)),X===null||!X.seiNals?k.logs.length?{logs:k.logs,captions:[],captionStreams:[]}:null:(this.pushNals(X.seiNals),this.flushStream(),k)},this.pushNals=function(M){if(!this.isInitialized()||!M||M.length===0)return null;M.forEach(function(q){S.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;N?S.partialFlush():S.flush()},this.clearParsedCaptions=function(){k.captions=[],k.captionStreams={},k.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;S.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){T=[],E=null,w=null,k?this.clearParsedCaptions():k={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},ih=rh,Cs=Es.toUnsigned,Ra=Es.toHexString,nh=t.getUint64,zl,Kl,Jo,Xl,Jl,Yo;zl=function(v){var S={},T=xt(v,["moov","trak"]);return T.reduce(function(E,w){var k,N,M,q,$;return k=xt(w,["tkhd"])[0],!k||(N=k[0],M=N===0?12:20,q=Cs(k[M]<<24|k[M+1]<<16|k[M+2]<<8|k[M+3]),$=xt(w,["mdia","mdhd"])[0],!$)?null:(N=$[0],M=N===0?12:20,E[q]=Cs($[M]<<24|$[M+1]<<16|$[M+2]<<8|$[M+3]),E)},S)},Kl=function(v,S){var T;T=xt(S,["moof","traf"]);var E=T.reduce(function(w,k){var N=xt(k,["tfhd"])[0],M=Cs(N[4]<<24|N[5]<<16|N[6]<<8|N[7]),q=v[M]||9e4,$=xt(k,["tfdt"])[0],X=new DataView($.buffer,$.byteOffset,$.byteLength),ie;$[0]===1?ie=nh($.subarray(4,12)):ie=X.getUint32(4);var Te;return typeof ie=="bigint"?Te=ie/hn.BigInt(q):typeof ie=="number"&&!isNaN(ie)&&(Te=ie/q),Te<Number.MAX_SAFE_INTEGER&&(Te=Number(Te)),Te<w&&(w=Te),w},1/0);return typeof E=="bigint"||isFinite(E)?E:0},Jo=function(v,S){var T=xt(S,["moof","traf"]),E=0,w=0,k;if(T&&T.length){var N=xt(T[0],["tfhd"])[0],M=xt(T[0],["trun"])[0],q=xt(T[0],["tfdt"])[0];if(N){var $=Wl(N);k=$.trackId}if(q){var X=Hl(q);E=X.baseMediaDecodeTime}if(M){var ie=ql(M);ie.samples&&ie.samples.length&&(w=ie.samples[0].compositionTimeOffset||0)}}var Te=v[k]||9e4;typeof E=="bigint"&&(w=hn.BigInt(w),Te=hn.BigInt(Te));var De=(E+w)/Te;return typeof De=="bigint"&&De<Number.MAX_SAFE_INTEGER&&(De=Number(De)),De},Xl=function(v){var S=xt(v,["moov","trak"]),T=[];return S.forEach(function(E){var w=xt(E,["mdia","hdlr"]),k=xt(E,["tkhd"]);w.forEach(function(N,M){var q=ti(N.subarray(8,12)),$=k[M],X,ie,Te;q==="vide"&&(X=new DataView($.buffer,$.byteOffset,$.byteLength),ie=X.getUint8(0),Te=ie===0?X.getUint32(12):X.getUint32(20),T.push(Te))})}),T},Yo=function(v){var S=v[0],T=S===0?12:20;return Cs(v[T]<<24|v[T+1]<<16|v[T+2]<<8|v[T+3])},Jl=function(v){var S=xt(v,["moov","trak"]),T=[];return S.forEach(function(E){var w={},k=xt(E,["tkhd"])[0],N,M;k&&(N=new DataView(k.buffer,k.byteOffset,k.byteLength),M=N.getUint8(0),w.id=M===0?N.getUint32(12):N.getUint32(20));var q=xt(E,["mdia","hdlr"])[0];if(q){var $=ti(q.subarray(8,12));$==="vide"?w.type="video":$==="soun"?w.type="audio":w.type=$}var X=xt(E,["mdia","minf","stbl","stsd"])[0];if(X){var ie=X.subarray(8);w.codec=ti(ie.subarray(4,8));var Te=xt(ie,[w.codec])[0],De,ge;Te&&(/^[asm]vc[1-9]$/i.test(w.codec)?(De=Te.subarray(78),ge=ti(De.subarray(4,8)),ge==="avcC"&&De.length>11?(w.codec+=".",w.codec+=Ra(De[9]),w.codec+=Ra(De[10]),w.codec+=Ra(De[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(De=Te.subarray(28),ge=ti(De.subarray(4,8)),ge==="esds"&&De.length>20&&De[19]!==0?(w.codec+="."+Ra(De[19]),w.codec+="."+Ra(De[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var He=xt(E,["mdia","mdhd"])[0];He&&(w.timescale=Yo(He)),T.push(w)}),T};var Yl={findBox:xt,parseType:ti,timescale:zl,startTime:Kl,compositionStartTime:Jo,videoTrackIds:Xl,tracks:Jl,getTimescaleFromMediaHeader:Yo},Ql=function(v){var S=v[1]&31;return S<<=8,S|=v[2],S},ws=function(v){return!!(v[1]&64)},As=function(v){var S=0;return(v[3]&48)>>>4>1&&(S+=v[4]+1),S},ah=function(v,S){var T=Ql(v);return T===0?"pat":T===S?"pmt":S?"pes":null},Zl=function(v){var S=ws(v),T=4+As(v);return S&&(T+=v[T]+1),(v[T+10]&31)<<8|v[T+11]},sh=function(v){var S={},T=ws(v),E=4+As(v);if(T&&(E+=v[E]+1),!!(v[E+5]&1)){var w,k,N;w=(v[E+1]&15)<<8|v[E+2],k=3+w-4,N=(v[E+10]&15)<<8|v[E+11];for(var M=12+N;M<k;){var q=E+M;S[(v[q+1]&31)<<8|v[q+2]]=v[q],M+=((v[q+3]&15)<<8|v[q+4])+5}return S}},oh=function(v,S){var T=Ql(v),E=S[T];switch(E){case Jt.H264_STREAM_TYPE:return"video";case Jt.ADTS_STREAM_TYPE:return"audio";case Jt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},uh=function(v){var S=ws(v);if(!S)return null;var T=4+As(v);if(T>=v.byteLength)return null;var E=null,w;return w=v[T+7],w&192&&(E={},E.pts=(v[T+9]&14)<<27|(v[T+10]&255)<<20|(v[T+11]&254)<<12|(v[T+12]&255)<<5|(v[T+13]&254)>>>3,E.pts*=4,E.pts+=(v[T+13]&6)>>>1,E.dts=E.pts,w&64&&(E.dts=(v[T+14]&14)<<27|(v[T+15]&255)<<20|(v[T+16]&254)<<12|(v[T+17]&255)<<5|(v[T+18]&254)>>>3,E.dts*=4,E.dts+=(v[T+18]&6)>>>1)),E},Qo=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},lh=function(v){for(var S=4+As(v),T=v.subarray(S),E=0,w=0,k=!1,N;w<T.byteLength-3;w++)if(T[w+2]===1){E=w+5;break}for(;E<T.byteLength;)switch(T[E]){case 0:if(T[E-1]!==0){E+=2;break}else if(T[E-2]!==0){E++;break}w+3!==E-2&&(N=Qo(T[w+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0));do E++;while(T[E]!==1&&E<T.length);w=E-2,E+=3;break;case 1:if(T[E-1]!==0||T[E-2]!==0){E+=3;break}N=Qo(T[w+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0),w=E-2,E+=3;break;default:E+=3;break}return T=T.subarray(w),E-=w,w=0,T&&T.byteLength>3&&(N=Qo(T[w+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0)),k},ch={parseType:ah,parsePat:Zl,parsePmt:sh,parsePayloadUnitStartIndicator:ws,parsePesType:oh,parsePesTime:uh,videoPacketContainsKeyFrame:lh},Xn=vs.handleRollover,gt={};gt.ts=ch,gt.aac=Ts;var pn=Ye.ONE_SECOND_IN_TS,mr=188,mi=71,dh=function(v,S){for(var T=0,E=mr,w,k;E<v.byteLength;){if(v[T]===mi&&v[E]===mi){switch(w=v.subarray(T,E),k=gt.ts.parseType(w,S.pid),k){case"pat":S.pid=gt.ts.parsePat(w);break;case"pmt":var N=gt.ts.parsePmt(w);S.table=S.table||{},Object.keys(N).forEach(function(M){S.table[M]=N[M]});break}T+=mr,E+=mr;continue}T++,E++}},ec=function(v,S,T){for(var E=0,w=mr,k,N,M,q,$,X=!1;w<=v.byteLength;){if(v[E]===mi&&(v[w]===mi||w===v.byteLength)){switch(k=v.subarray(E,w),N=gt.ts.parseType(k,S.pid),N){case"pes":M=gt.ts.parsePesType(k,S.table),q=gt.ts.parsePayloadUnitStartIndicator(k),M==="audio"&&q&&($=gt.ts.parsePesTime(k),$&&($.type="audio",T.audio.push($),X=!0));break}if(X)break;E+=mr,w+=mr;continue}E++,w++}for(w=v.byteLength,E=w-mr,X=!1;E>=0;){if(v[E]===mi&&(v[w]===mi||w===v.byteLength)){switch(k=v.subarray(E,w),N=gt.ts.parseType(k,S.pid),N){case"pes":M=gt.ts.parsePesType(k,S.table),q=gt.ts.parsePayloadUnitStartIndicator(k),M==="audio"&&q&&($=gt.ts.parsePesTime(k),$&&($.type="audio",T.audio.push($),X=!0));break}if(X)break;E-=mr,w-=mr;continue}E--,w--}},tc=function(v,S,T){for(var E=0,w=mr,k,N,M,q,$,X,ie,Te,De=!1,ge={data:[],size:0};w<v.byteLength;){if(v[E]===mi&&v[w]===mi){switch(k=v.subarray(E,w),N=gt.ts.parseType(k,S.pid),N){case"pes":if(M=gt.ts.parsePesType(k,S.table),q=gt.ts.parsePayloadUnitStartIndicator(k),M==="video"&&(q&&!De&&($=gt.ts.parsePesTime(k),$&&($.type="video",T.video.push($),De=!0)),!T.firstKeyFrame)){if(q&&ge.size!==0){for(X=new Uint8Array(ge.size),ie=0;ge.data.length;)Te=ge.data.shift(),X.set(Te,ie),ie+=Te.byteLength;if(gt.ts.videoPacketContainsKeyFrame(X)){var He=gt.ts.parsePesTime(X);He?(T.firstKeyFrame=He,T.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ge.size=0}ge.data.push(k),ge.size+=k.byteLength}break}if(De&&T.firstKeyFrame)break;E+=mr,w+=mr;continue}E++,w++}for(w=v.byteLength,E=w-mr,De=!1;E>=0;){if(v[E]===mi&&v[w]===mi){switch(k=v.subarray(E,w),N=gt.ts.parseType(k,S.pid),N){case"pes":M=gt.ts.parsePesType(k,S.table),q=gt.ts.parsePayloadUnitStartIndicator(k),M==="video"&&q&&($=gt.ts.parsePesTime(k),$&&($.type="video",T.video.push($),De=!0));break}if(De)break;E-=mr,w-=mr;continue}E--,w--}},fh=function(v,S){if(v.audio&&v.audio.length){var T=S;(typeof T>"u"||isNaN(T))&&(T=v.audio[0].dts),v.audio.forEach(function(k){k.dts=Xn(k.dts,T),k.pts=Xn(k.pts,T),k.dtsTime=k.dts/pn,k.ptsTime=k.pts/pn})}if(v.video&&v.video.length){var E=S;if((typeof E>"u"||isNaN(E))&&(E=v.video[0].dts),v.video.forEach(function(k){k.dts=Xn(k.dts,E),k.pts=Xn(k.pts,E),k.dtsTime=k.dts/pn,k.ptsTime=k.pts/pn}),v.firstKeyFrame){var w=v.firstKeyFrame;w.dts=Xn(w.dts,E),w.pts=Xn(w.pts,E),w.dtsTime=w.dts/pn,w.ptsTime=w.pts/pn}}},hh=function(v){for(var S=!1,T=0,E=null,w=null,k=0,N=0,M;v.length-N>=3;){var q=gt.aac.parseType(v,N);switch(q){case"timed-metadata":if(v.length-N<10){S=!0;break}if(k=gt.aac.parseId3TagSize(v,N),k>v.length){S=!0;break}w===null&&(M=v.subarray(N,N+k),w=gt.aac.parseAacTimestamp(M)),N+=k;break;case"audio":if(v.length-N<7){S=!0;break}if(k=gt.aac.parseAdtsSize(v,N),k>v.length){S=!0;break}E===null&&(M=v.subarray(N,N+k),E=gt.aac.parseSampleRate(M)),T++,N+=k;break;default:N++;break}if(S)return null}if(E===null||w===null)return null;var $=pn/E,X={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+T*1024*$,pts:w+T*1024*$}]};return X},ph=function(v){var S={pid:null,table:null},T={};dh(v,S);for(var E in S.table)if(S.table.hasOwnProperty(E)){var w=S.table[E];switch(w){case Jt.H264_STREAM_TYPE:T.video=[],tc(v,S,T),T.video.length===0&&delete T.video;break;case Jt.ADTS_STREAM_TYPE:T.audio=[],ec(v,S,T),T.audio.length===0&&delete T.audio;break}}return T},gh=function(v,S){var T=gt.aac.isLikelyAacData(v),E;return T?E=hh(v):E=ph(v),!E||!E.audio&&!E.video?null:(fh(E,S),E)},mh={inspect:gh,parseAudioPes_:ec},vh=function(v,S){S.on("data",function(T){var E=T.initSegment;T.initSegment={data:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength};var w=T.data;T.data=w.buffer,v.postMessage({action:"data",segment:T,byteOffset:w.byteOffset,byteLength:w.byteLength},[T.data])}),S.on("done",function(T){v.postMessage({action:"done"})}),S.on("gopInfo",function(T){v.postMessage({action:"gopInfo",gopInfo:T})}),S.on("videoSegmentTimingInfo",function(T){var E={start:{decode:Ye.videoTsToSeconds(T.start.dts),presentation:Ye.videoTsToSeconds(T.start.pts)},end:{decode:Ye.videoTsToSeconds(T.end.dts),presentation:Ye.videoTsToSeconds(T.end.pts)},baseMediaDecodeTime:Ye.videoTsToSeconds(T.baseMediaDecodeTime)};T.prependedContentDuration&&(E.prependedContentDuration=Ye.videoTsToSeconds(T.prependedContentDuration)),v.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:E})}),S.on("audioSegmentTimingInfo",function(T){var E={start:{decode:Ye.videoTsToSeconds(T.start.dts),presentation:Ye.videoTsToSeconds(T.start.pts)},end:{decode:Ye.videoTsToSeconds(T.end.dts),presentation:Ye.videoTsToSeconds(T.end.pts)},baseMediaDecodeTime:Ye.videoTsToSeconds(T.baseMediaDecodeTime)};T.prependedContentDuration&&(E.prependedContentDuration=Ye.videoTsToSeconds(T.prependedContentDuration)),v.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:E})}),S.on("id3Frame",function(T){v.postMessage({action:"id3Frame",id3Frame:T})}),S.on("caption",function(T){v.postMessage({action:"caption",caption:T})}),S.on("trackinfo",function(T){v.postMessage({action:"trackinfo",trackInfo:T})}),S.on("audioTimingInfo",function(T){v.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ye.videoTsToSeconds(T.start),end:Ye.videoTsToSeconds(T.end)}})}),S.on("videoTimingInfo",function(T){v.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ye.videoTsToSeconds(T.start),end:Ye.videoTsToSeconds(T.end)}})}),S.on("log",function(T){v.postMessage({action:"log",log:T})})},rc=function(){function I(S,T){this.options=T||{},this.self=S,this.init()}var v=I.prototype;return v.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ml.Transmuxer(this.options),vh(this.self,this.transmuxer)},v.pushMp4Captions=function(T){this.captionParser||(this.captionParser=new ih,this.captionParser.init());var E=new Uint8Array(T.data,T.byteOffset,T.byteLength),w=this.captionParser.parse(E,T.trackIds,T.timescales);this.self.postMessage({action:"mp4Captions",captions:w&&w.captions||[],logs:w&&w.logs||[],data:E.buffer},[E.buffer])},v.probeMp4StartTime=function(T){var E=T.timescales,w=T.data,k=Yl.startTime(E,w);this.self.postMessage({action:"probeMp4StartTime",startTime:k,data:w},[w.buffer])},v.probeMp4Tracks=function(T){var E=T.data,w=Yl.tracks(E);this.self.postMessage({action:"probeMp4Tracks",tracks:w,data:E},[E.buffer])},v.probeTs=function(T){var E=T.data,w=T.baseStartTime,k=typeof w=="number"&&!isNaN(w)?w*Ye.ONE_SECOND_IN_TS:void 0,N=mh.inspect(E,k),M=null;N&&(M={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},M.hasVideo&&(M.videoStart=N.video[0].ptsTime),M.hasAudio&&(M.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:M,data:E},[E.buffer])},v.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},v.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},v.push=function(T){var E=new Uint8Array(T.data,T.byteOffset,T.byteLength);this.transmuxer.push(E)},v.reset=function(){this.transmuxer.reset()},v.setTimestampOffset=function(T){var E=T.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ye.secondsToVideoTs(E)))},v.setAudioAppendStart=function(T){this.transmuxer.setAudioAppendStart(Math.ceil(Ye.secondsToVideoTs(T.appendStart)))},v.setRemux=function(T){this.transmuxer.setRemux(T.remux)},v.flush=function(T){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},v.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},v.alignGopsWith=function(T){this.transmuxer.alignGopsWith(T.gopsToAlignWith.slice())},I}();self.onmessage=function(I){if(I.data.action==="init"&&I.data.options){this.messageHandlers=new rc(self,I.data.options);return}this.messageHandlers||(this.messageHandlers=new rc(self)),I.data&&I.data.action&&I.data.action!=="init"&&this.messageHandlers[I.data.action]&&this.messageHandlers[I.data.action](I.data)}})),B5=g2(M5),U5=function(e,i,n){var t=e.data.segment,a=t.type,s=t.initSegment,l=t.captions,d=t.captionStreams,f=t.metadata,p=t.videoFrameDtsTime,y=t.videoFramePtsTime;i.buffer.push({captions:l,captionStreams:d,metadata:f});var _=e.data.segment.boxes||{data:e.data.segment.data},x={type:a,data:new Uint8Array(_.data,_.data.byteOffset,_.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof p<"u"&&(x.videoFrameDtsTime=p),typeof y<"u"&&(x.videoFramePtsTime=y),n(x)},j5=function(e){var i=e.transmuxedData,n=e.callback;i.buffer=[],n(i)},H5=function(e,i){i.gopInfo=e.data.gopInfo},_2=function(e){var i=e.transmuxer,n=e.bytes,t=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,l=e.onData,d=e.onTrackInfo,f=e.onAudioTimingInfo,p=e.onVideoTimingInfo,y=e.onVideoSegmentTimingInfo,_=e.onAudioSegmentTimingInfo,x=e.onId3,A=e.onCaptions,P=e.onDone,D=e.onEndedTimeline,R=e.onTransmuxerLog,F=e.isEndOfTimeline,V={buffer:[]},j=F,K=function(z){i.currentTransmux===e&&(z.data.action==="data"&&U5(z,V,l),z.data.action==="trackinfo"&&d(z.data.trackInfo),z.data.action==="gopInfo"&&H5(z,V),z.data.action==="audioTimingInfo"&&f(z.data.audioTimingInfo),z.data.action==="videoTimingInfo"&&p(z.data.videoTimingInfo),z.data.action==="videoSegmentTimingInfo"&&y(z.data.videoSegmentTimingInfo),z.data.action==="audioSegmentTimingInfo"&&_(z.data.audioSegmentTimingInfo),z.data.action==="id3Frame"&&x([z.data.id3Frame],z.data.id3Frame.dispatchType),z.data.action==="caption"&&A(z.data.caption),z.data.action==="endedtimeline"&&(j=!1,D()),z.data.action==="log"&&R(z.data.log),z.data.type==="transmuxed"&&(j||(i.onmessage=null,j5({transmuxedData:V,callback:P}),y2(i))))};if(i.onmessage=K,t&&i.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(a)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&i.postMessage({action:"setRemux",remux:s}),n.byteLength){var Z=n instanceof ArrayBuffer?n:n.buffer,Q=n instanceof ArrayBuffer?0:n.byteOffset;i.postMessage({action:"push",data:Z,byteOffset:Q,byteLength:n.byteLength},[Z])}F&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},y2=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():_2(e.currentTransmux))},jy=function(e,i){e.postMessage({action:i}),y2(e)},b2=function(e,i){if(!i.currentTransmux){i.currentTransmux=e,jy(i,e);return}i.transmuxQueue.push(jy.bind(null,i,e))},V5=function(e){b2("reset",e)},q5=function(e){b2("endTimeline",e)},T2=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,_2(e);return}e.transmuxer.transmuxQueue.push(e)},$5=function(e){var i=new B5;i.currentTransmux=null,i.transmuxQueue=[];var n=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,n.call(i)},i.postMessage({action:"init",options:e}),i},Dp={reset:V5,endTimeline:q5,transmux:T2,createTransmuxer:$5},Dd=function(e){var i=e.transmuxer,n=e.endAction||e.action,t=e.callback,a=wi({},e,{endAction:null,transmuxer:null,callback:null}),s=function f(p){p.data.action===n&&(i.removeEventListener("message",f),p.data.data&&(p.data.data=new Uint8Array(p.data.data,e.byteOffset||0,e.byteLength||p.data.data.byteLength),e.data&&(e.data=p.data.data)),t(p.data))};if(i.addEventListener("message",s),e.data){var l=e.data instanceof ArrayBuffer;a.byteOffset=l?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var d=[l?e.data:e.data.buffer];i.postMessage(a,d)}else i.postMessage(a)},rn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Eg=function(e){e.forEach(function(i){i.abort()})},W5=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},G5=function(e){var i=e.target,n=Date.now()-i.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},ov=function(e,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:rn.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:rn.ABORTED,xhr:i}:e?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:rn.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:rn.FAILURE,xhr:i}:null},Hy=function(e,i,n){return function(t,a){var s=a.response,l=ov(t,a);if(l)return n(l,e);if(s.byteLength!==16)return n({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:rn.FAILURE,xhr:a},e);for(var d=new DataView(s),f=new Uint32Array([d.getUint32(0),d.getUint32(4),d.getUint32(8),d.getUint32(12)]),p=0;p<i.length;p++)i[p].bytes=f;return n(null,e)}},S2=function(e,i){var n=Sm(e.map.bytes);if(n!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return i({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+t,code:rn.FAILURE})}Dd({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var l=s.tracks,d=s.data;return e.map.bytes=d,l.forEach(function(f){e.map.tracks=e.map.tracks||{},!e.map.tracks[f.type]&&(e.map.tracks[f.type]=f,typeof f.id=="number"&&f.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[f.id]=f.timescale))}),i(null)}})},z5=function(e){var i=e.segment,n=e.finishProcessingFn;return function(t,a){var s=ov(t,a);if(s)return n(s,i);var l=new Uint8Array(a.response);if(i.map.key)return i.map.encryptedBytes=l,n(null,i);i.map.bytes=l,S2(i,function(d){if(d)return d.xhr=a,d.status=a.status,n(d,i);n(null,i)})}},K5=function(e){var i=e.segment,n=e.finishProcessingFn,t=e.responseType;return function(a,s){var l=ov(a,s);if(l)return n(l,i);var d=t==="arraybuffer"||!s.responseText?s.response:N5(s.responseText.substring(i.lastReachedChar||0));return i.stats=W5(s),i.key?i.encryptedBytes=new Uint8Array(d):i.bytes=new Uint8Array(d),n(null,i)}},X5=function(e){var i=e.segment,n=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,p=e.isEndOfTimeline,y=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,A=e.onTransmuxerLog,P=i.map&&i.map.tracks||{},D=Boolean(P.audio&&P.video),R=a.bind(null,i,"audio","start"),F=a.bind(null,i,"audio","end"),V=a.bind(null,i,"video","start"),j=a.bind(null,i,"video","end"),K=function(){return T2({bytes:n,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:D,onData:function(U){U.type=U.type==="combined"?"video":U.type,_(i,U)},onTrackInfo:function(U){t&&(D&&(U.isMuxed=!0),t(i,U))},onAudioTimingInfo:function(U){R&&typeof U.start<"u"&&(R(U.start),R=null),F&&typeof U.end<"u"&&F(U.end)},onVideoTimingInfo:function(U){V&&typeof U.start<"u"&&(V(U.start),V=null),j&&typeof U.end<"u"&&j(U.end)},onVideoSegmentTimingInfo:function(U){s(U)},onAudioSegmentTimingInfo:function(U){l(U)},onId3:function(U,z){d(i,U,z)},onCaptions:function(U){f(i,[U])},isEndOfTimeline:p,onEndedTimeline:function(){y()},onTransmuxerLog:A,onDone:function(U){!x||(U.type=U.type==="combined"?"video":U.type,x(null,i,U))}})};Dd({action:"probeTs",transmuxer:i.transmuxer,data:n,baseStartTime:i.baseStartTime,callback:function(Q){i.bytes=n=Q.data;var U=Q.result;U&&(t(i,{hasAudio:U.hasAudio,hasVideo:U.hasVideo,isMuxed:D}),t=null,U.hasAudio&&!D&&R(U.audioStart),U.hasVideo&&V(U.videoStart),R=null,V=null),K()}})},x2=function(e){var i=e.segment,n=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,p=e.isEndOfTimeline,y=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,A=e.onTransmuxerLog,P=new Uint8Array(n);if(pO(P)){i.isFmp4=!0;var D=i.map.tracks,R={isFmp4:!0,hasVideo:!!D.video,hasAudio:!!D.audio};D.audio&&D.audio.codec&&D.audio.codec!=="enca"&&(R.audioCodec=D.audio.codec),D.video&&D.video.codec&&D.video.codec!=="encv"&&(R.videoCodec=D.video.codec),D.video&&D.audio&&(R.isMuxed=!0),t(i,R);var F=function(j){_(i,{data:P,type:R.hasAudio&&!R.isMuxed?"audio":"video"}),j&&j.length&&f(i,j),x(null,i,{})};Dd({action:"probeMp4StartTime",timescales:i.map.timescales,data:P,transmuxer:i.transmuxer,callback:function(j){var K=j.data,Z=j.startTime;if(n=K.buffer,i.bytes=P=K,R.hasAudio&&!R.isMuxed&&a(i,"audio","start",Z),R.hasVideo&&a(i,"video","start",Z),!D.video||!K.byteLength||!i.transmuxer){F();return}Dd({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:P,timescales:i.map.timescales,trackIds:[D.video.id],callback:function(U){n=U.data.buffer,i.bytes=P=U.data,U.logs.forEach(function(z){A(J.mergeOptions(z,{stream:"mp4CaptionParser"}))}),F(U.captions)}})}});return}if(!i.transmuxer){x(null,i,{});return}if(typeof i.container>"u"&&(i.container=Sm(P)),i.container!=="ts"&&i.container!=="aac"){t(i,{hasAudio:!1,hasVideo:!1}),x(null,i,{});return}X5({segment:i,bytes:n,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:p,endedTimelineFn:y,dataFn:_,doneFn:x,onTransmuxerLog:A})},E2=function(e,i){var n=e.id,t=e.key,a=e.encryptedBytes,s=e.decryptionWorker,l=function f(p){if(p.data.source===n){s.removeEventListener("message",f);var y=p.data.decrypted;i(new Uint8Array(y.bytes,y.byteOffset,y.byteLength))}};s.addEventListener("message",l);var d;t.bytes.slice?d=t.bytes.slice():d=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(l2({source:n,encrypted:a,key:d,iv:t.iv}),[a.buffer,d.buffer])},J5=function(e){var i=e.decryptionWorker,n=e.segment,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,p=e.isEndOfTimeline,y=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,A=e.onTransmuxerLog;E2({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:i},function(P){n.bytes=P,x2({segment:n,bytes:n.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:p,endedTimelineFn:y,dataFn:_,doneFn:x,onTransmuxerLog:A})})},Y5=function(e){var i=e.activeXhrs,n=e.decryptionWorker,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,p=e.isEndOfTimeline,y=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,A=e.onTransmuxerLog,P=0,D=!1;return function(R,F){if(!D){if(R)return D=!0,Eg(i),x(R,F);if(P+=1,P===i.length){var V=function(){if(F.encryptedBytes)return J5({decryptionWorker:n,segment:F,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:p,endedTimelineFn:y,dataFn:_,doneFn:x,onTransmuxerLog:A});x2({segment:F,bytes:F.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:p,endedTimelineFn:y,dataFn:_,doneFn:x,onTransmuxerLog:A})};if(F.endOfAllRequests=Date.now(),F.map&&F.map.encryptedBytes&&!F.map.bytes)return E2({decryptionWorker:n,id:F.requestId+"-init",encryptedBytes:F.map.encryptedBytes,key:F.map.key},function(j){F.map.bytes=j,S2(F,function(K){if(K)return Eg(i),x(K,F);V()})});V()}}}},Q5=function(e){var i=e.loadendState,n=e.abortFn;return function(t){var a=t.target;a.aborted&&n&&!i.calledAbortFn&&(n(),i.calledAbortFn=!0)}},Z5=function(e){var i=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(t){var a=t.target;if(!a.aborted)return i.stats=J.mergeOptions(i.stats,G5(t)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),n(t,i)}},e3=function(e){var i=e.xhr,n=e.xhrOptions,t=e.decryptionWorker,a=e.segment,s=e.abortFn,l=e.progressFn,d=e.trackInfoFn,f=e.timingInfoFn,p=e.videoSegmentTimingInfoFn,y=e.audioSegmentTimingInfoFn,_=e.id3Fn,x=e.captionsFn,A=e.isEndOfTimeline,P=e.endedTimelineFn,D=e.dataFn,R=e.doneFn,F=e.onTransmuxerLog,V=[],j=Y5({activeXhrs:V,decryptionWorker:t,trackInfoFn:d,timingInfoFn:f,videoSegmentTimingInfoFn:p,audioSegmentTimingInfoFn:y,id3Fn:_,captionsFn:x,isEndOfTimeline:A,endedTimelineFn:P,dataFn:D,doneFn:R,onTransmuxerLog:F});if(a.key&&!a.key.bytes){var K=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&K.push(a.map.key);var Z=J.mergeOptions(n,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),Q=Hy(a,K,j),U=i(Z,Q);V.push(U)}if(a.map&&!a.map.bytes){var z=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(z){var Y=J.mergeOptions(n,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),ae=Hy(a,[a.map.key],j),te=i(Y,ae);V.push(te)}var le=J.mergeOptions(n,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Sg(a.map)}),Ne=z5({segment:a,finishProcessingFn:j}),Be=i(le,Ne);V.push(Be)}var me=J.mergeOptions(n,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:Sg(a)}),Ae=K5({segment:a,finishProcessingFn:j,responseType:me.responseType}),Fe=i(me,Ae);Fe.addEventListener("progress",Z5({segment:a,progressFn:l,trackInfoFn:d,timingInfoFn:f,videoSegmentTimingInfoFn:p,audioSegmentTimingInfoFn:y,id3Fn:_,captionsFn:x,isEndOfTimeline:A,endedTimelineFn:P,dataFn:D})),V.push(Fe);var mt={};return V.forEach(function(it){it.addEventListener("loadend",Q5({loadendState:mt,abortFn:s}))}),function(){return Eg(V)}},t3=ji("CodecUtils"),r3=function(e){var i=e.attributes||{};if(i.CODECS)return Ji(i.CODECS)},C2=function(e,i){var n=i.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},i3=function(e,i){if(!C2(e,i))return!0;var n=i.attributes||{},t=e.mediaGroups.AUDIO[n.AUDIO];for(var a in t)if(!t[a].uri&&!t[a].playlists)return!0;return!1},Pd=function(e){var i={};return e.forEach(function(n){var t=n.mediaType,a=n.type,s=n.details;i[t]=i[t]||[],i[t].push(WT(""+a+s))}),Object.keys(i).forEach(function(n){if(i[n].length>1){t3("multiple "+n+" codecs found as attributes: "+i[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[n]=null;return}i[n]=i[n][0]}),i},Vy=function(e){var i=0;return e.audio&&i++,e.video&&i++,i},$u=function(e,i){var n=i.attributes||{},t=Pd(r3(i)||[]);if(C2(e,i)&&!t.audio&&!i3(e,i)){var a=Pd(yP(e,n.AUDIO)||[]);a.audio&&(t.audio=a.audio)}return t},Vc=ji("PlaylistSelector"),qy=function(e){if(!(!e||!e.playlist)){var i=e.playlist;return JSON.stringify({id:i.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:i.attributes&&i.attributes.CODECS||""})}},Id=function(e,i){if(!e)return"";var n=H.getComputedStyle(e);return n?n[i]:""},ro=function(e,i){var n=e.slice();e.sort(function(t,a){var s=i(t,a);return s===0?n.indexOf(t)-n.indexOf(a):s})},uv=function(e,i){var n,t;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||H.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(t=i.attributes.BANDWIDTH),t=t||H.Number.MAX_VALUE,n-t},n3=function(e,i){var n,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||H.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(t=i.attributes.RESOLUTION.width),t=t||H.Number.MAX_VALUE,n===t&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:n-t},w2=function(e,i,n,t,a,s){if(!!e){var l={bandwidth:i,width:n,height:t,limitRenditionByPlayerDimensions:a},d=e.playlists;Jr.isAudioOnly(e)&&(d=s.getAudioTrackPlaylists_(),l.audioOnly=!0);var f=d.map(function(Y){var ae,te=Y.attributes&&Y.attributes.RESOLUTION&&Y.attributes.RESOLUTION.width,le=Y.attributes&&Y.attributes.RESOLUTION&&Y.attributes.RESOLUTION.height;return ae=Y.attributes&&Y.attributes.BANDWIDTH,ae=ae||H.Number.MAX_VALUE,{bandwidth:ae,width:te,height:le,playlist:Y}});ro(f,function(Y,ae){return Y.bandwidth-ae.bandwidth}),f=f.filter(function(Y){return!Jr.isIncompatible(Y.playlist)});var p=f.filter(function(Y){return Jr.isEnabled(Y.playlist)});p.length||(p=f.filter(function(Y){return!Jr.isDisabled(Y.playlist)}));var y=p.filter(function(Y){return Y.bandwidth*cr.BANDWIDTH_VARIANCE<i}),_=y[y.length-1],x=y.filter(function(Y){return Y.bandwidth===_.bandwidth})[0];if(a===!1){var A=x||p[0]||f[0];if(A&&A.playlist){var P="sortedPlaylistReps";return x&&(P="bandwidthBestRep"),p[0]&&(P="enabledPlaylistReps"),Vc("choosing "+qy(A)+" using "+P+" with options",l),A.playlist}return Vc("could not choose a playlist with options",l),null}var D=y.filter(function(Y){return Y.width&&Y.height});ro(D,function(Y,ae){return Y.width-ae.width});var R=D.filter(function(Y){return Y.width===n&&Y.height===t});_=R[R.length-1];var F=R.filter(function(Y){return Y.bandwidth===_.bandwidth})[0],V,j,K;F||(V=D.filter(function(Y){return Y.width>n||Y.height>t}),j=V.filter(function(Y){return Y.width===V[0].width&&Y.height===V[0].height}),_=j[j.length-1],K=j.filter(function(Y){return Y.bandwidth===_.bandwidth})[0]);var Z;if(s.experimentalLeastPixelDiffSelector){var Q=D.map(function(Y){return Y.pixelDiff=Math.abs(Y.width-n)+Math.abs(Y.height-t),Y});ro(Q,function(Y,ae){return Y.pixelDiff===ae.pixelDiff?ae.bandwidth-Y.bandwidth:Y.pixelDiff-ae.pixelDiff}),Z=Q[0]}var U=Z||K||F||x||p[0]||f[0];if(U&&U.playlist){var z="sortedPlaylistReps";return Z?z="leastPixelDiffRep":K?z="resolutionPlusOneRep":F?z="resolutionBestRep":x?z="bandwidthBestRep":p[0]&&(z="enabledPlaylistReps"),Vc("choosing "+qy(U)+" using "+z+" with options",l),U.playlist}return Vc("could not choose a playlist with options",l),null}},$y=function(){var e=this.useDevicePixelRatio&&H.devicePixelRatio||1;return w2(this.playlists.master,this.systemBandwidth,parseInt(Id(this.tech_.el(),"width"),10)*e,parseInt(Id(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},a3=function(e){var i=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&H.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(i=e*this.systemBandwidth+(1-e)*i,n=this.systemBandwidth),w2(this.playlists.master,i,parseInt(Id(this.tech_.el(),"width"),10)*t,parseInt(Id(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},s3=function(e){var i=e.master,n=e.currentTime,t=e.bandwidth,a=e.duration,s=e.segmentDuration,l=e.timeUntilRebuffer,d=e.currentTimeline,f=e.syncController,p=i.playlists.filter(function(P){return!Jr.isIncompatible(P)}),y=p.filter(Jr.isEnabled);y.length||(y=p.filter(function(P){return!Jr.isDisabled(P)}));var _=y.filter(Jr.hasAttribute.bind(null,"BANDWIDTH")),x=_.map(function(P){var D=f.getSyncPoint(P,a,d,n),R=D?1:2,F=Jr.estimateSegmentRequestTime(s,t,P),V=F*R-l;return{playlist:P,rebufferingImpact:V}}),A=x.filter(function(P){return P.rebufferingImpact<=0});return ro(A,function(P,D){return uv(D.playlist,P.playlist)}),A.length?A[0]:(ro(x,function(P,D){return P.rebufferingImpact-D.rebufferingImpact}),x[0]||null)},o3=function(){var e=this,i=this.playlists.master.playlists.filter(Jr.isEnabled);ro(i,function(t,a){return uv(t,a)});var n=i.filter(function(t){return!!$u(e.playlists.master,t).video});return n[0]||null},u3=function(e){var i=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(t){n.set(t,i),i+=t.byteLength})),n},l3=function(e,i,n){if(!e[n]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var t=n;/^cc708_/.test(n)&&(t="SERVICE"+n.split("_")[1]);var a=i.textTracks().getTrackById(t);if(a)e[n]=a;else{var s=i.options_.vhs&&i.options_.vhs.captionServices||{},l=n,d=n,f=!1,p=s[t];p&&(l=p.label,d=p.language,f=p.default),e[n]=i.addRemoteTextTrack({kind:"captions",id:t,default:f,label:l,language:d},!1).track}}},c3=function(e){var i=e.inbandTextTracks,n=e.captionArray,t=e.timestampOffset;if(!!n){var a=H.WebKitDataCue||H.VTTCue;n.forEach(function(s){var l=s.stream;i[l].addCue(new a(s.startTime+t,s.endTime+t,s.text))})}},d3=function(e){Object.defineProperties(e.frame,{id:{get:function(){return J.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return J.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return J.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},f3=function(e){var i=e.inbandTextTracks,n=e.metadataArray,t=e.timestampOffset,a=e.videoDuration;if(!!n){var s=H.WebKitDataCue||H.VTTCue,l=i.metadataTrack_;if(!!l&&(n.forEach(function(x){var A=x.cueTime+t;typeof A!="number"||H.isNaN(A)||A<0||!(A<1/0)||x.frames.forEach(function(P){var D=new s(A,A,P.value||P.url||P.data||"");D.frame=P,D.value=P,d3(D),l.addCue(D)})}),!(!l.cues||!l.cues.length))){for(var d=l.cues,f=[],p=0;p<d.length;p++)d[p]&&f.push(d[p]);var y=f.reduce(function(x,A){var P=x[A.startTime]||[];return P.push(A),x[A.startTime]=P,x},{}),_=Object.keys(y).sort(function(x,A){return Number(x)-Number(A)});_.forEach(function(x,A){var P=y[x],D=Number(_[A+1])||a;P.forEach(function(R){R.endTime=D})})}}},h3=function(e,i,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i)},Ou=function(e,i,n){var t,a;if(!!n&&!!n.cues)for(t=n.cues.length;t--;)a=n.cues[t],a.startTime>=e&&a.endTime<=i&&n.removeCue(a)},p3=function(e){var i=e.cues;if(!!i)for(var n=0;n<i.length;n++){for(var t=[],a=0,s=0;s<i.length;s++)i[n].startTime===i[s].startTime&&i[n].endTime===i[s].endTime&&i[n].text===i[s].text&&(a++,a>1&&t.push(i[s]));t.length&&t.forEach(function(l){return e.removeCue(l)})}},g3=function(e,i,n){if(typeof i>"u"||i===null||!e.length)return[];var t=Math.ceil((i-n+3)*md.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>t);a++);return e.slice(a)},m3=function(e,i,n){if(!i.length)return e;if(n)return i.slice();var t=i[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=t);a++);return e.slice(0,a).concat(i)},v3=function(e,i,n,t){for(var a=Math.ceil((i-t)*md.ONE_SECOND_IN_TS),s=Math.ceil((n-t)*md.ONE_SECOND_IN_TS),l=e.slice(),d=e.length;d--&&!(e[d].pts<=s););if(d===-1)return l;for(var f=d+1;f--&&!(e[f].pts<=a););return f=Math.max(f,0),l.splice(f,d-f+1),l},_3=function(e,i){if(!e&&!i||!e&&i||e&&!i)return!1;if(e===i)return!0;var n=Object.keys(e).sort(),t=Object.keys(i).sort();if(n.length!==t.length)return!1;for(var a=0;a<n.length;a++){var s=n[a];if(s!==t[a]||e[s]!==i[s])return!1}return!0},A2=22,y3=function(e,i,n){i=i||[];for(var t=[],a=0,s=0;s<i.length;s++){var l=i[s];if(e===l.timeline&&(t.push(s),a+=l.duration,a>n))return s}return t.length===0?0:t[t.length-1]},Eu=1,b3=500,Wy=function(e){return typeof e=="number"&&isFinite(e)},qc=1/60,T3=function(e,i,n){return e!=="main"||!i||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},S3=function(e,i,n){var t=i-cr.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var a=i-n;return Math.min(a,t)},Vs=function(e){var i=e.startOfSegment,n=e.duration,t=e.segment,a=e.part,s=e.playlist,l=s.mediaSequence,d=s.id,f=s.segments,p=f===void 0?[]:f,y=e.mediaIndex,_=e.partIndex,x=e.timeline,A=p.length-1,P="mediaIndex/partIndex increment";e.getMediaInfoForTime?P="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(P="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(P+=" with independent "+e.independent);var D=typeof _=="number",R=e.segment.uri?"segment":"pre-segment",F=D?Xx({preloadSegment:t})-1:0;return R+" ["+(l+y)+"/"+(l+A)+"]"+(D?" part ["+_+"/"+F+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(D?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+n+"]")+(" timeline ["+x+"]")+(" selected by ["+P+"]")+(" playlist ["+d+"]")},Gy=function(e){return e+"TimingInfo"},x3=function(e){var i=e.segmentTimeline,n=e.currentTimeline,t=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&i===n?null:i<n?t:a.length?a.end(a.length-1):t},zy=function(e){var i=e.timelineChangeController,n=e.currentTimeline,t=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(n===t)return!1;if(a==="audio"){var l=i.lastTimelineChange({type:"main"});return!l||l.to!==t}if(a==="main"&&s){var d=i.pendingTimelineChange({type:"audio"});return!(d&&d.to===t)}return!1},E3=function(e){var i=0;return["video","audio"].forEach(function(n){var t=e[n+"TimingInfo"];if(!!t){var a=t.start,s=t.end,l;typeof a=="bigint"||typeof s=="bigint"?l=H.BigInt(s)-H.BigInt(a):typeof a=="number"&&typeof s=="number"&&(l=s-a),typeof l<"u"&&l>i&&(i=l)}}),typeof i=="bigint"&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i},Ky=function(e){var i=e.segmentDuration,n=e.maxDuration;return i?Math.round(i)>n+Sa:!1},C3=function(e,i){if(i!=="hls")return null;var n=E3({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;var t=e.playlist.targetDuration,a=Ky({segmentDuration:n,maxDuration:t*2}),s=Ky({segmentDuration:n,maxDuration:t}),l="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:l}:null},Cg=function(r){xe(e,r);function e(n,t){var a;if(a=r.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=n.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=n.hasPlayed,a.currentTime_=n.currentTime,a.seekable_=n.seekable,a.seeking_=n.seeking,a.duration_=n.duration,a.mediaSource_=n.mediaSource,a.vhs_=n.vhs,a.loaderType_=n.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=n.segmentMetadataTrack,a.goalBufferLength_=n.goalBufferLength,a.sourceType_=n.sourceType,a.sourceUpdater_=n.sourceUpdater,a.inbandTextTracks_=n.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=n.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=n.parse708captions,a.useDtsForTimestampOffset_=n.useDtsForTimestampOffset,a.captionServices_=n.captionServices,a.experimentalExactManifestTimings=n.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=J.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=n.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=n.decrypter,a.syncController_=n.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=ji("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(Je(a),"state",{get:function(){return this.state_},set:function(l){l!==this.state_&&(this.logger_(this.state_+" -> "+l),this.state_=l,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var i=e.prototype;return i.createTransmuxer_=function(){return Dp.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,H.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},i.error=function(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Dp.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return J.createTimeRanges();if(this.loaderType_==="main"){var a=t.hasAudio,s=t.hasVideo,l=t.isMuxed;if(s&&a&&!this.audioDisabled_&&!l)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=kd(t),l=this.initSegments_[s];return a&&!l&&t.bytes&&(this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),l||t},i.segmentKey=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=c2(t),l=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!l&&t.bytes&&(this.keyCache_[s]=l={resolvedUri:t.resolvedUri,bytes:t.bytes});var d={resolvedUri:(l||t).resolvedUri};return l&&(d.bytes=l.bytes),d},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(t,a){if(a===void 0&&(a={}),!!t){var s=this.playlist_,l=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=a,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var d=null;if(s&&(s.id?d=s.id:s.uri&&(d=s.uri)),this.logger_("playlist update ["+d+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var f=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+f+"]"),this.mediaIndex!==null)if(this.mediaIndex-=f,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var p=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!p.parts||!p.parts.length||!p.parts[this.partIndex])){var y=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=y}}l&&(l.mediaIndex-=f,l.mediaIndex<0?(l.mediaIndex=null,l.partIndex=null):(l.mediaIndex>=0&&(l.segment=t.segments[l.mediaIndex]),l.partIndex>=0&&l.segment.parts&&(l.part=l.segment.parts[l.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},i.pause=function(){this.checkBufferTimeout_&&(H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Dp.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(t,a,s,l){if(s===void 0&&(s=function(){}),l===void 0&&(l=!1),a===1/0&&(a=this.duration_()),a<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var d=1,f=function(){d--,d===0&&s()};(l||!this.audioDisabled_)&&(d++,this.sourceUpdater_.removeAudio(t,a,f)),(l||this.loaderType_==="main")&&(this.gopBuffer_=v3(this.gopBuffer_,t,a,this.timeMapping_),d++,this.sourceUpdater_.removeVideo(t,a,f));for(var p in this.inbandTextTracks_)Ou(t,a,this.inbandTextTracks_[p]);Ou(t,a,this.segmentMetadataTrack_),f()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.setTimeout(this.monitorBufferTick_.bind(this),b3)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();!t||(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},i.isEndOfStream_=function(t,a,s){if(t===void 0&&(t=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var l=typeof t=="number"&&a.segments[t],d=t+1===a.segments.length,f=!l||!l.parts||s+1===l.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&d&&f},i.chooseNextRequest_=function(){var t=this.buffered_(),a=Ny(t)||0,s=rv(t,this.currentTime_()),l=!this.hasPlayed_()&&s>=1,d=s>=this.goalBufferLength_(),f=this.playlist_.segments;if(!f.length||l||d)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var p={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(p.isSyncRequest)p.mediaIndex=y3(this.currentTimeline_,f,a);else if(this.mediaIndex!==null){var y=f[this.mediaIndex],_=typeof this.partIndex=="number"?this.partIndex:-1;p.startOfSegment=y.end?y.end:a,y.parts&&y.parts[_+1]?(p.mediaIndex=this.mediaIndex,p.partIndex=_+1):p.mediaIndex=this.mediaIndex+1}else{var x=Jr.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),A=x.segmentIndex,P=x.startTime,D=x.partIndex;p.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),p.mediaIndex=A,p.startOfSegment=P,p.partIndex=D}var R=f[p.mediaIndex],F=R&&typeof p.partIndex=="number"&&R.parts&&R.parts[p.partIndex];if(!R||typeof p.partIndex=="number"&&!F)return null;if(typeof p.partIndex!="number"&&R.parts&&(p.partIndex=0,F=R.parts[0]),!s&&F&&!F.independent)if(p.partIndex===0){var V=f[p.mediaIndex-1],j=V.parts&&V.parts.length&&V.parts[V.parts.length-1];j&&j.independent&&(p.mediaIndex-=1,p.partIndex=V.parts.length-1,p.independent="previous segment")}else R.parts[p.partIndex-1].independent&&(p.partIndex-=1,p.independent="previous part");var K=this.mediaSource_&&this.mediaSource_.readyState==="ended";return p.mediaIndex>=f.length-1&&K&&!this.seeking_()?null:this.generateSegmentInfo_(p)},i.generateSegmentInfo_=function(t){var a=t.independent,s=t.playlist,l=t.mediaIndex,d=t.startOfSegment,f=t.isSyncRequest,p=t.partIndex,y=t.forceTimestampOffset,_=t.getMediaInfoForTime,x=s.segments[l],A=typeof p=="number"&&x.parts[p],P={requestId:"segment-loader-"+Math.random(),uri:A&&A.resolvedUri||x.resolvedUri,mediaIndex:l,partIndex:A?p:null,isSyncRequest:f,startOfSegment:d,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:x.timeline,duration:A&&A.duration||x.duration,segment:x,part:A,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:_,independent:a},D=typeof y<"u"?y:this.isPendingTimestampOffset_;P.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:x.timeline,currentTimeline:this.currentTimeline_,startOfSegment:d,buffered:this.buffered_(),overrideCheck:D});var R=Ny(this.sourceUpdater_.audioBuffered());return typeof R=="number"&&(P.audioAppendStart=R-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(P.gopsToAlignWith=g3(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),P},i.timestampOffsetForSegment_=function(t){return x3(t)},i.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=t.bandwidth,l=this.pendingSegment_.duration,d=Jr.estimateSegmentRequestTime(l,s,this.playlist_,t.bytesReceived),f=GL(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(d<=f)){var p=s3({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:l,timeUntilRebuffer:f,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!p){var y=d-f,_=y-p.rebufferingImpact,x=.5;f<=Sa&&(x=1),!(!p.playlist||p.playlist.uri===this.playlist_.uri||_<x)&&(this.bandwidth=p.playlist.attributes.BANDWIDTH*cr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(t){this.logger_("Aborting "+Vs(t)),this.mediaRequestsAborted+=1},i.handleProgress_=function(t,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(t,a){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},_3(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(t,a,s,l){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var d=this.pendingSegment_,f=Gy(a);d[f]=d[f]||{},d[f][s]=l,this.logger_("timinginfo: "+a+" - "+s+" - "+l),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(t,a){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,a));return}var d=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),f={};a.forEach(function(p){f[p.stream]=f[p.stream]||{startTime:1/0,captions:[],endTime:0};var y=f[p.stream];y.startTime=Math.min(y.startTime,p.startTime+d),y.endTime=Math.max(y.endTime,p.endTime+d),y.captions.push(p)}),Object.keys(f).forEach(function(p){var y=f[p],_=y.startTime,x=y.endTime,A=y.captions,P=s.inbandTextTracks_;s.logger_("adding cues from "+_+" -> "+x+" for "+p),l3(P,s.vhs_.tech_,p),Ou(_,x,P[p]),c3({captionArray:A,inbandTextTracks:P,timestampOffset:d})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(t,a,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,a,s));return}var d=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();h3(this.inbandTextTracks_,s,this.vhs_.tech_),f3({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:d,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(a){return a()})},i.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(a){return a()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!zy({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},i.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!t||!a)return!1;var s=a.hasAudio,l=a.hasVideo,d=a.isMuxed;return!(l&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!d&&!t.audioTimingInfo||zy({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(t,a){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[Gy(a.type)].start;else{var l=this.getCurrentMediaInfo_(),d=this.loaderType_==="main"&&l&&l.hasVideo,f;d&&(f=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:d,firstVideoFrameTimeForData:f,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var p=this.chooseNextRequest_();if(p.mediaIndex!==s.mediaIndex||p.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},i.updateAppendInitSegmentStatus=function(t,a){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==t.playlist&&(this.appendInitSegment_[a]=!0)},i.getInitSegmentAndUpdateState_=function(t){var a=t.type,s=t.initSegment,l=t.map,d=t.playlist;if(l){var f=kd(l);if(this.activeInitSegmentId_===f)return null;s=this.initSegmentForMap(l,!0).bytes,this.activeInitSegmentId_=f}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=d,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},i.handleQuotaExceededError_=function(t,a){var s=this,l=t.segmentInfo,d=t.type,f=t.bytes,p=this.sourceUpdater_.audioBuffered(),y=this.sourceUpdater_.videoBuffered();p.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Za(p).join(", ")),y.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Za(y).join(", "));var _=p.length?p.start(0):0,x=p.length?p.end(p.length-1):0,A=y.length?y.start(0):0,P=y.length?y.end(y.length-1):0;if(x-_<=Eu&&P-A<=Eu){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+f.byteLength+", ")+("audio buffer: "+Za(p).join(", ")+", ")+("video buffer: "+Za(y).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:l,type:d,bytes:f}));var D=this.currentTime_(),R=D-Eu;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+R),this.remove(0,R,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Eu+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=H.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},Eu*1e3)},!0)},i.handleAppendError_=function(t,a){var s=t.segmentInfo,l=t.type,d=t.bytes;if(!!a){if(a.code===A2){this.handleQuotaExceededError_({segmentInfo:s,type:l,bytes:d});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(l+" append of "+d.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(t){var a=t.segmentInfo,s=t.type,l=t.initSegment,d=t.data,f=t.bytes;if(!f){var p=[d],y=d.byteLength;l&&(p.unshift(l),y+=l.byteLength),f=u3({bytes:y,segments:p})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:f},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:f}))},i.handleSegmentTimingInfo_=function(t,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var l=this.pendingSegment_.segment,d=t+"TimingInfo";l[d]||(l[d]={}),l[d].transmuxerPrependedSeconds=s.prependedContentDuration||0,l[d].transmuxedPresentationStart=s.start.presentation,l[d].transmuxedDecodeStart=s.start.decode,l[d].transmuxedPresentationEnd=s.end.presentation,l[d].transmuxedDecodeEnd=s.end.decode,l[d].baseMediaDecodeTime=s.baseMediaDecodeTime}},i.appendData_=function(t,a){var s=a.type,l=a.data;if(!(!l||!l.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var d=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:d,data:l})}},i.loadSegment_=function(t){var a=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=wi({},t,{forceTimestampOffset:!0});wi(t,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},i.updateTransmuxerAndRequestSegment_=function(t){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),l=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),d=this.mediaIndex!==null,f=t.timeline!==this.currentTimeline_&&t.timeline>0,p=l||d&&f;this.logger_("Requesting "+Vs(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=e3({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:p,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(_){var x=_.message,A=_.level,P=_.stream;a.logger_(Vs(t)+" logged from transmuxer stream "+P+" as a "+A+": "+x)}})},i.trimBackBuffer_=function(t){var a=S3(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},i.createSimplifiedSegmentObj_=function(t){var a=t.segment,s=t.part,l={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},d=t.playlist.segments[t.mediaIndex-1];if(d&&d.timeline===a.timeline&&(d.videoTimingInfo?l.baseStartTime=d.videoTimingInfo.transmuxedDecodeEnd:d.audioTimingInfo&&(l.baseStartTime=d.audioTimingInfo.transmuxedDecodeEnd)),a.key){var f=a.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);l.key=this.segmentKey(a.key),l.key.iv=f}return a.map&&(l.map=this.initSegmentForMap(a.map)),l},i.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},i.saveBandwidthRelatedStats_=function(t,a){if(this.pendingSegment_.byteLength=a.bytesReceived,t<qc){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+qc));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},i.segmentRequestFinished_=function(t,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===rn.ABORTED)return;if(this.pause(),t.code===rn.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),l.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=m3(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(l)}},i.setTimeMapping_=function(t){var a=this.syncController_.mappingForTimeline(t);a!==null&&(this.timeMapping_=a)},i.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(t){var a=t.currentStart,s=t.playlist,l=t.mediaIndex,d=t.firstVideoFrameTimeForData,f=t.currentVideoTimestampOffset,p=t.useVideoTimingInfo,y=t.videoTimingInfo,_=t.audioTimingInfo;if(typeof a<"u")return a;if(!p)return _.start;var x=s.segments[l-1];return l===0||!x||typeof x.start>"u"||x.end!==d+f?d:y.start},i.waitForAppendsToComplete_=function(t){var a=this.getCurrentMediaInfo_(t);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,l=a.hasVideo,d=a.isMuxed,f=this.loaderType_==="main"&&l,p=!this.audioDisabled_&&s&&!d;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}f&&t.waitingOnAppends++,p&&t.waitingOnAppends++,f&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),p&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},i.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(t){var a=T3(this.loaderType_,this.getCurrentMediaInfo_(),t);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),a=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},i.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var a=t.videoTimingInfo,s=t.audioTimingInfo,l=t.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:l.start:l.start},i.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,l=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;!l||(t.timingInfo.end=typeof l.end=="number"?l.end:l.start+t.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=C3(t,this.sourceType_);if(a&&(a.severity==="warn"?J.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Vs(t));return}this.logger_("Appended "+Vs(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,l=t.part,d=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,f=l&&l.end&&this.currentTime_()-l.end>t.playlist.partTargetDuration*3;if(d||f){this.logger_("bad "+(d?"segment":"part")+" "+Vs(t)),this.resetEverything();return}var p=this.mediaIndex!==null;p&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(t){if(t.duration<qc){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+qc));return}var a=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,l=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(l-a)/++this.throughput.count},i.addSegmentMetadataCue_=function(t){if(!!this.segmentMetadataTrack_){var a=t.segment,s=a.start,l=a.end;if(!(!Wy(s)||!Wy(l))){Ou(s,l,this.segmentMetadataTrack_);var d=H.WebKitDataCue||H.VTTCue,f={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:l},p=JSON.stringify(f),y=new d(s,l,p);y.value=f,this.segmentMetadataTrack_.addCue(y)}}},e}(J.EventTarget);function An(){}var k2=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},w3=["video","audio"],wg=function(e,i){var n=i[e+"Buffer"];return n&&n.updating||i.queuePending[e]},A3=function(e,i){for(var n=0;n<i.length;n++){var t=i[n];if(t.type==="mediaSource")return null;if(t.type===e)return n}return null},lv=function r(e,i){if(i.queue.length!==0){var n=0,t=i.queue[n];if(t.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),t.action(i),t.doneFn&&t.doneFn(),r("audio",i),r("video",i));return}if(e!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||wg(e,i))){if(t.type!==e){if(n=A3(e,i.queue),n===null)return;t=i.queue[n]}if(i.queue.splice(n,1),i.queuePending[e]=t,t.action(e,i),!t.doneFn){i.queuePending[e]=null,r(e,i);return}}}},D2=function(e,i){var n=i[e+"Buffer"],t=k2(e);!n||(n.removeEventListener("updateend",i["on"+t+"UpdateEnd_"]),n.removeEventListener("error",i["on"+t+"Error_"]),i.codecs[e]=null,i[e+"Buffer"]=null)},Qi=function(e,i){return e&&i&&Array.prototype.indexOf.call(e.sourceBuffers,i)!==-1},ai={appendBuffer:function(e,i,n){return function(t,a){var s=a[t+"Buffer"];if(!!Qi(a.mediaSource,s)){a.logger_("Appending segment "+i.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(l){a.logger_("Error with code "+l.code+" "+(l.code===A2?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+t+"Buffer")),a.queuePending[t]=null,n(l)}}}},remove:function(e,i){return function(n,t){var a=t[n+"Buffer"];if(!!Qi(t.mediaSource,a)){t.logger_("Removing "+e+" to "+i+" from "+n+"Buffer");try{a.remove(e,i)}catch{t.logger_("Remove "+e+" to "+i+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(i,n){var t=n[i+"Buffer"];!Qi(n.mediaSource,t)||(n.logger_("Setting "+i+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(i,n){e()}},endOfStream:function(e){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{i.mediaSource.endOfStream(e)}catch(n){J.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(i){i.logger_("Setting mediaSource duration to "+e);try{i.mediaSource.duration=e}catch(n){J.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,i){if(i.mediaSource.readyState==="open"){var n=i[e+"Buffer"];if(!!Qi(i.mediaSource,n)){i.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){J.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,i){return function(n){var t=k2(e),a=rl(i);n.logger_("Adding "+e+"Buffer with codec "+i+" to mediaSource");var s=n.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",n["on"+t+"UpdateEnd_"]),s.addEventListener("error",n["on"+t+"Error_"]),n.codecs[e]=i,n[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(i){var n=i[e+"Buffer"];if(D2(e,i),!!Qi(i.mediaSource,n)){i.logger_("Removing "+e+"Buffer with codec "+i.codecs[e]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(n)}catch(t){J.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(i,n){var t=n[i+"Buffer"],a=rl(e);if(!!Qi(n.mediaSource,t)&&n.codecs[i]!==e){n.logger_("changing "+i+"Buffer codec from "+n.codecs[i]+" to "+e);try{t.changeType(a),n.codecs[i]=e}catch(s){J.log.warn("Failed to changeType on "+i+"Buffer",s)}}}}},si=function(e){var i=e.type,n=e.sourceUpdater,t=e.action,a=e.doneFn,s=e.name;n.queue.push({type:i,action:t,doneFn:a,name:s}),lv(i,n)},Xy=function(e,i){return function(n){if(i.queuePending[e]){var t=i.queuePending[e].doneFn;i.queuePending[e]=null,t&&t(i[e+"Error_"])}lv(e,i)}},P2=function(r){xe(e,r);function e(n){var t;return t=r.call(this)||this,t.mediaSource=n,t.sourceopenListener_=function(){return lv("mediaSource",Je(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=ji("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Xy("video",Je(t)),t.onAudioUpdateEnd_=Xy("audio",Je(t)),t.onVideoError_=function(a){t.videoError_=a},t.onAudioError_=function(a){t.audioError_=a},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(t,a){si({type:"mediaSource",sourceUpdater:this,action:ai.addSourceBuffer(t,a),name:"addSourceBuffer"})},i.abort=function(t){si({type:t,sourceUpdater:this,action:ai.abort(t),name:"abort"})},i.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){J.log.error("removeSourceBuffer is not supported!");return}si({type:"mediaSource",sourceUpdater:this,action:ai.removeSourceBuffer(t),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!J.browser.IE_VERSION&&!J.browser.IS_FIREFOX&&H.MediaSource&&H.MediaSource.prototype&&typeof H.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return H.SourceBuffer&&H.SourceBuffer.prototype&&typeof H.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(t,a){if(!this.canChangeType()){J.log.error("changeType is not supported!");return}si({type:t,sourceUpdater:this,action:ai.changeType(a),name:"changeType"})},i.addOrChangeSourceBuffers=function(t){var a=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var l=t[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,l);a.canChangeType()&&a.changeType(s,l)})},i.appendBuffer=function(t,a){var s=this,l=t.segmentInfo,d=t.type,f=t.bytes;if(this.processedAppend_=!0,d==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,a]),this.logger_("delayed audio append of "+f.length+" until video append");return}var p=a;if(si({type:d,sourceUpdater:this,action:ai.appendBuffer(f,l||{mediaIndex:-1},p),doneFn:a,name:"appendBuffer"}),d==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var y=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+y.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,y.forEach(function(_){s.appendBuffer.apply(s,_)})}},i.audioBuffered=function(){return Qi(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:J.createTimeRange()},i.videoBuffered=function(){return Qi(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:J.createTimeRange()},i.buffered=function(){var t=Qi(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=Qi(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!t?this.audioBuffered():t&&!a?this.videoBuffered():WL(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(t,a){a===void 0&&(a=An),si({type:"mediaSource",sourceUpdater:this,action:ai.duration(t),name:"duration",doneFn:a})},i.endOfStream=function(t,a){t===void 0&&(t=null),a===void 0&&(a=An),typeof t!="string"&&(t=void 0),si({type:"mediaSource",sourceUpdater:this,action:ai.endOfStream(t),name:"endOfStream",doneFn:a})},i.removeAudio=function(t,a,s){if(s===void 0&&(s=An),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}si({type:"audio",sourceUpdater:this,action:ai.remove(t,a),doneFn:s,name:"remove"})},i.removeVideo=function(t,a,s){if(s===void 0&&(s=An),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}si({type:"video",sourceUpdater:this,action:ai.remove(t,a),doneFn:s,name:"remove"})},i.updating=function(){return!!(wg("audio",this)||wg("video",this))},i.audioTimestampOffset=function(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(si({type:"audio",sourceUpdater:this,action:ai.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=function(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(si({type:"video",sourceUpdater:this,action:ai.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},i.audioQueueCallback=function(t){!this.audioBuffer||si({type:"audio",sourceUpdater:this,action:ai.callback(t),name:"callback"})},i.videoQueueCallback=function(t){!this.videoBuffer||si({type:"video",sourceUpdater:this,action:ai.callback(t),name:"callback"})},i.dispose=function(){var t=this;this.trigger("dispose"),w3.forEach(function(a){t.abort(a),t.canRemoveSourceBuffer()?t.removeSourceBuffer(a):t[a+"QueueCallback"](function(){return D2(a,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(J.EventTarget),Jy=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Yy=new Uint8Array(`

`.split("").map(function(r){return r.charCodeAt(0)})),k3=function(r){xe(e,r);function e(){return r.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(og(Error)),D3=function(r){xe(e,r);function e(n,t){var a;return t===void 0&&(t={}),a=r.call(this,n,t)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=n.featuresNativeTextTracks,a.loadVttJs=n.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return J.createTimeRanges();var t=this.subtitlesTrack_.cues,a=t[0].startTime,s=t[t.length-1].startTime;return J.createTimeRanges([[a,s]])},i.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=kd(t),l=this.initSegments_[s];if(a&&!l&&t.bytes){var d=Yy.byteLength+t.bytes.byteLength,f=new Uint8Array(d);f.set(t.bytes),f.set(Yy,t.bytes.byteLength),this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:f}}return l||t},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(t,a){Ou(t,a,this.subtitlesTrack_)},i.fillBuffer_=function(){var t=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(r.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},i.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(t,a,s){var l=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===rn.TIMEOUT&&this.handleTimeout_(),t.code===rn.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var f=d.segment;if(f.map&&(f.map.bytes=a.map.bytes),d.bytes=a.bytes,typeof H.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return l.segmentRequestFinished_(t,a,s)},function(){return l.stopForError({message:"Error loading vtt.js"})});return}f.requested=!0;try{this.parseVTTCues_(d)}catch(p){this.stopForError({message:p.message});return}if(this.updateTimeMapping_(d,this.syncController_.timelines[d.timeline],this.playlist_),d.cues.length?d.timingInfo={start:d.cues[0].startTime,end:d.cues[d.cues.length-1].endTime}:d.timingInfo={start:d.startOfSegment,end:d.startOfSegment+d.duration},d.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}d.byteLength=d.bytes.byteLength,this.mediaSecondsLoaded+=f.duration,d.cues.forEach(function(p){l.subtitlesTrack_.addCue(l.featuresNativeTextTracks_?new H.VTTCue(p.startTime,p.endTime,p.text):p)}),p3(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(t){var a,s=!1;if(typeof H.WebVTT!="function")throw new k3;typeof H.TextDecoder=="function"?a=new H.TextDecoder("utf8"):(a=H.WebVTT.StringDecoder(),s=!0);var l=new H.WebVTT.Parser(H,H.vttjs,a);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},l.oncue=t.cues.push.bind(t.cues),l.ontimestampmap=function(p){t.timestampmap=p},l.onparsingerror=function(p){J.log.warn("Error encountered when parsing cues: "+p.message)},t.segment.map){var d=t.segment.map.bytes;s&&(d=Jy(d)),l.parse(d)}var f=t.bytes;s&&(f=Jy(f)),l.parse(f),l.flush()},i.updateTimeMapping_=function(t,a,s){var l=t.segment;if(!!a){if(!t.cues.length){l.empty=!0;return}var d=t.timestampmap,f=d.MPEGTS/md.ONE_SECOND_IN_TS-d.LOCAL+a.mapping;if(t.cues.forEach(function(_){_.startTime+=f,_.endTime+=f}),!s.syncInfo){var p=t.cues[0].startTime,y=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(p,y-l.duration)}}}},e}(Cg),P3=function(e,i){for(var n=e.cues,t=0;t<n.length;t++){var a=n[t];if(i>=a.adStartTime&&i<=a.adEndTime)return a}return null},I3=function(e,i,n){if(n===void 0&&(n=0),!!e.segments)for(var t=n,a,s=0;s<e.segments.length;s++){var l=e.segments[s];if(a||(a=P3(i,t+l.duration/2)),a){if("cueIn"in l){a.endTime=t,a.adEndTime=t,t+=l.duration,a=null;continue}if(t<a.endTime){t+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&(a=new H.VTTCue(t,t+l.duration,l.cueOut),a.adStartTime=t,a.adEndTime=t+parseFloat(l.cueOut),i.addCue(a)),"cueOutCont"in l){var d=l.cueOutCont.split("/").map(parseFloat),f=d[0],p=d[1];a=new H.VTTCue(t,t+l.duration,""),a.adStartTime=t-f,a.adEndTime=a.adStartTime+p,i.addCue(a)}t+=l.duration}},O3=86400,Qy=[{name:"VOD",run:function(e,i,n,t,a){if(n!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,i,n,t,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,l=null,d=vg(i);a=a||0;for(var f=0;f<d.length;f++){var p=i.endList||a===0?f:d.length-(f+1),y=d[p],_=y.segment,x=e.timelineToDatetimeMappings[_.timeline];if(!(!x||!_.dateTimeObject)){var A=_.dateTimeObject.getTime()/1e3,P=A+x;if(_.parts&&typeof y.partIndex=="number")for(var D=0;D<y.partIndex;D++)P+=_.parts[D].duration;var R=Math.abs(a-P);if(l!==null&&(R===0||l<R))break;l=R,s={time:P,segmentIndex:y.segmentIndex,partIndex:y.partIndex}}}return s}},{name:"Segment",run:function(e,i,n,t,a){var s=null,l=null;a=a||0;for(var d=vg(i),f=0;f<d.length;f++){var p=i.endList||a===0?f:d.length-(f+1),y=d[p],_=y.segment,x=y.part&&y.part.start||_&&_.start;if(_.timeline===t&&typeof x<"u"){var A=Math.abs(a-x);if(l!==null&&l<A)break;(!s||l===null||l>=A)&&(l=A,s={time:x,segmentIndex:y.segmentIndex,partIndex:y.partIndex})}}return s}},{name:"Discontinuity",run:function(e,i,n,t,a){var s=null;if(a=a||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var l=null,d=0;d<i.discontinuityStarts.length;d++){var f=i.discontinuityStarts[d],p=i.discontinuitySequence+d+1,y=e.discontinuities[p];if(y){var _=Math.abs(a-y.time);if(l!==null&&l<_)break;(!s||l===null||l>=_)&&(l=_,s={time:y.time,segmentIndex:f,partIndex:null})}}return s}},{name:"Playlist",run:function(e,i,n,t,a){if(i.syncInfo){var s={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return s}return null}}],L3=function(r){xe(e,r);function e(n){var t;return t=r.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=ji("SyncController"),t}var i=e.prototype;return i.getSyncPoint=function(t,a,s,l){var d=this.runStrategies_(t,a,s,l);return d.length?this.selectSyncPoint_(d,{key:"time",value:l}):null},i.getExpiredTime=function(t,a){if(!t||!t.segments)return null;var s=this.runStrategies_(t,a,t.discontinuitySequence,0);if(!s.length)return null;var l=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return l.segmentIndex>0&&(l.time*=-1),Math.abs(l.time+qu({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:l.segmentIndex,endIndex:0}))},i.runStrategies_=function(t,a,s,l){for(var d=[],f=0;f<Qy.length;f++){var p=Qy[f],y=p.run(this,t,a,s,l);y&&(y.strategy=p.name,d.push({strategy:p.name,syncPoint:y}))}return d},i.selectSyncPoint_=function(t,a){for(var s=t[0].syncPoint,l=Math.abs(t[0].syncPoint[a.key]-a.value),d=t[0].strategy,f=1;f<t.length;f++){var p=Math.abs(t[f].syncPoint[a.key]-a.value);p<l&&(l=p,s=t[f].syncPoint,d=t[f].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+d+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},i.saveExpiredSegmentInfo=function(t,a){var s=a.mediaSequence-t.mediaSequence;if(s>O3){J.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var l=s-1;l>=0;l--){var d=t.segments[l];if(d&&typeof d.start<"u"){a.syncInfo={mediaSequence:t.mediaSequence+l,time:d.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var a=t.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},i.saveSegmentTimingInfo=function(t){var a=t.segmentInfo,s=t.shouldSaveTimelineMapping,l=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),d=a.segment;l&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:d.start}));var f=d.dateTimeObject;d.discontinuity&&s&&f&&(this.timelineToDatetimeMappings[d.timeline]=-(f.getTime()/1e3))},i.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time},i.mappingForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping},i.calculateSegmentTimeMapping_=function(t,a,s){var l=t.segment,d=t.part,f=this.timelines[t.timeline],p,y;if(typeof t.timestampOffset=="number")f={time:t.startOfSegment,mapping:t.startOfSegment-a.start},s&&(this.timelines[t.timeline]=f,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+f.time+"] [mapping: "+f.mapping+"]"))),p=t.startOfSegment,y=a.end+f.mapping;else if(f)p=a.start+f.mapping,y=a.end+f.mapping;else return!1;return d&&(d.start=p,d.end=y),(!l.start||p<l.start)&&(l.start=p),l.end=y,!0},i.saveDiscontinuitySyncInfo_=function(t){var a=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var l=0;l<a.discontinuityStarts.length;l++){var d=a.discontinuityStarts[l],f=a.discontinuitySequence+l+1,p=d-t.mediaIndex,y=Math.abs(p);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>y){var _=void 0;p<0?_=s.start-qu({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex,endIndex:d}):_=s.end+qu({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex+1,endIndex:d}),this.discontinuities[f]={time:_,accuracy:y}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(J.EventTarget),R3=function(r){xe(e,r);function e(){var n;return n=r.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var i=e.prototype;return i.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:l},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},i.lastTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:l},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(J.EventTarget),N3=m2(v2(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(j,K,Z){return Z={path:K,exports:{},require:function(U,z){return i(U,z==null?Z.path:z)}},j(Z,Z.exports),Z.exports}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var n=e(function(j){function K(Q,U){for(var z=0;z<U.length;z++){var Y=U[z];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(Q,Y.key,Y)}}function Z(Q,U,z){return U&&K(Q.prototype,U),z&&K(Q,z),Q}j.exports=Z,j.exports.default=j.exports,j.exports.__esModule=!0}),t=e(function(j){function K(Z,Q){return j.exports=K=Object.setPrototypeOf||function(z,Y){return z.__proto__=Y,z},j.exports.default=j.exports,j.exports.__esModule=!0,K(Z,Q)}j.exports=K,j.exports.default=j.exports,j.exports.__esModule=!0}),a=e(function(j){function K(Z,Q){Z.prototype=Object.create(Q.prototype),Z.prototype.constructor=Z,t(Z,Q)}j.exports=K,j.exports.default=j.exports,j.exports.__esModule=!0}),s=function(){function j(){this.listeners={}}var K=j.prototype;return K.on=function(Q,U){this.listeners[Q]||(this.listeners[Q]=[]),this.listeners[Q].push(U)},K.off=function(Q,U){if(!this.listeners[Q])return!1;var z=this.listeners[Q].indexOf(U);return this.listeners[Q]=this.listeners[Q].slice(0),this.listeners[Q].splice(z,1),z>-1},K.trigger=function(Q){var U=this.listeners[Q];if(!!U)if(arguments.length===2)for(var z=U.length,Y=0;Y<z;++Y)U[Y].call(this,arguments[1]);else for(var ae=Array.prototype.slice.call(arguments,1),te=U.length,le=0;le<te;++le)U[le].apply(this,ae)},K.dispose=function(){this.listeners={}},K.pipe=function(Q){this.on("data",function(U){Q.push(U)})},j}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function l(j){return j.subarray(0,j.byteLength-j[j.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var d=function(){var K=[[[],[],[],[],[]],[[],[],[],[],[]]],Z=K[0],Q=K[1],U=Z[4],z=Q[4],Y,ae,te,le=[],Ne=[],Be,me,Ae,Fe,mt,it;for(Y=0;Y<256;Y++)Ne[(le[Y]=Y<<1^(Y>>7)*283)^Y]=Y;for(ae=te=0;!U[ae];ae^=Be||1,te=Ne[te]||1)for(Fe=te^te<<1^te<<2^te<<3^te<<4,Fe=Fe>>8^Fe&255^99,U[ae]=Fe,z[Fe]=ae,Ae=le[me=le[Be=le[ae]]],it=Ae*16843009^me*65537^Be*257^ae*16843008,mt=le[Fe]*257^Fe*16843008,Y=0;Y<4;Y++)Z[Y][ae]=mt=mt<<24^mt>>>8,Q[Y][Fe]=it=it<<24^it>>>8;for(Y=0;Y<5;Y++)Z[Y]=Z[Y].slice(0),Q[Y]=Q[Y].slice(0);return K},f=null,p=function(){function j(Z){f||(f=d()),this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var Q,U,z,Y=this._tables[0][4],ae=this._tables[1],te=Z.length,le=1;if(te!==4&&te!==6&&te!==8)throw new Error("Invalid aes key size");var Ne=Z.slice(0),Be=[];for(this._key=[Ne,Be],Q=te;Q<4*te+28;Q++)z=Ne[Q-1],(Q%te===0||te===8&&Q%te===4)&&(z=Y[z>>>24]<<24^Y[z>>16&255]<<16^Y[z>>8&255]<<8^Y[z&255],Q%te===0&&(z=z<<8^z>>>24^le<<24,le=le<<1^(le>>7)*283)),Ne[Q]=Ne[Q-te]^z;for(U=0;Q;U++,Q--)z=Ne[U&3?Q:Q-4],Q<=4||U<4?Be[U]=z:Be[U]=ae[0][Y[z>>>24]]^ae[1][Y[z>>16&255]]^ae[2][Y[z>>8&255]]^ae[3][Y[z&255]]}var K=j.prototype;return K.decrypt=function(Q,U,z,Y,ae,te){var le=this._key[1],Ne=Q^le[0],Be=Y^le[1],me=z^le[2],Ae=U^le[3],Fe,mt,it,ir=le.length/4-2,vt,nr=4,gr=this._tables[1],xr=gr[0],pt=gr[1],se=gr[2],Se=gr[3],Ee=gr[4];for(vt=0;vt<ir;vt++)Fe=xr[Ne>>>24]^pt[Be>>16&255]^se[me>>8&255]^Se[Ae&255]^le[nr],mt=xr[Be>>>24]^pt[me>>16&255]^se[Ae>>8&255]^Se[Ne&255]^le[nr+1],it=xr[me>>>24]^pt[Ae>>16&255]^se[Ne>>8&255]^Se[Be&255]^le[nr+2],Ae=xr[Ae>>>24]^pt[Ne>>16&255]^se[Be>>8&255]^Se[me&255]^le[nr+3],nr+=4,Ne=Fe,Be=mt,me=it;for(vt=0;vt<4;vt++)ae[(3&-vt)+te]=Ee[Ne>>>24]<<24^Ee[Be>>16&255]<<16^Ee[me>>8&255]<<8^Ee[Ae&255]^le[nr++],Fe=Ne,Ne=Be,Be=me,me=Ae,Ae=Fe},j}(),y=function(j){a(K,j);function K(){var Q;return Q=j.call(this,s)||this,Q.jobs=[],Q.delay=1,Q.timeout_=null,Q}var Z=K.prototype;return Z.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},Z.push=function(U){this.jobs.push(U),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},K}(s),_=function(K){return K<<24|(K&65280)<<8|(K&16711680)>>8|K>>>24},x=function(K,Z,Q){var U=new Int32Array(K.buffer,K.byteOffset,K.byteLength>>2),z=new p(Array.prototype.slice.call(Z)),Y=new Uint8Array(K.byteLength),ae=new Int32Array(Y.buffer),te,le,Ne,Be,me,Ae,Fe,mt,it;for(te=Q[0],le=Q[1],Ne=Q[2],Be=Q[3],it=0;it<U.length;it+=4)me=_(U[it]),Ae=_(U[it+1]),Fe=_(U[it+2]),mt=_(U[it+3]),z.decrypt(me,Ae,Fe,mt,ae,it),ae[it]=_(ae[it]^te),ae[it+1]=_(ae[it+1]^le),ae[it+2]=_(ae[it+2]^Ne),ae[it+3]=_(ae[it+3]^Be),te=me,le=Ae,Ne=Fe,Be=mt;return Y},A=function(){function j(Z,Q,U,z){var Y=j.STEP,ae=new Int32Array(Z.buffer),te=new Uint8Array(Z.byteLength),le=0;for(this.asyncStream_=new y,this.asyncStream_.push(this.decryptChunk_(ae.subarray(le,le+Y),Q,U,te)),le=Y;le<ae.length;le+=Y)U=new Uint32Array([_(ae[le-4]),_(ae[le-3]),_(ae[le-2]),_(ae[le-1])]),this.asyncStream_.push(this.decryptChunk_(ae.subarray(le,le+Y),Q,U,te));this.asyncStream_.push(function(){z(null,l(te))})}var K=j.prototype;return K.decryptChunk_=function(Q,U,z,Y){return function(){var ae=x(Q,U,z);Y.set(ae,Q.byteOffset)}},n(j,null,[{key:"STEP",get:function(){return 32e3}}]),j}(),P;typeof window<"u"?P=window:typeof r<"u"?P=r:typeof self<"u"?P=self:P={};var D=P,R=function(K){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(K):K&&K.buffer instanceof ArrayBuffer},F=D.BigInt||Number;F("0x1"),F("0x100"),F("0x10000"),F("0x1000000"),F("0x100000000"),F("0x10000000000"),F("0x1000000000000"),F("0x100000000000000"),F("0x10000000000000000");var V=function(K){var Z={};return Object.keys(K).forEach(function(Q){var U=K[Q];R(U)?Z[Q]={bytes:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength}:Z[Q]=U}),Z};self.onmessage=function(j){var K=j.data,Z=new Uint8Array(K.encrypted.bytes,K.encrypted.byteOffset,K.encrypted.byteLength),Q=new Uint32Array(K.key.bytes,K.key.byteOffset,K.key.byteLength/4),U=new Uint32Array(K.iv.bytes,K.iv.byteOffset,K.iv.byteLength/4);new A(Z,Q,U,function(z,Y){self.postMessage(V({source:K.source,decrypted:Y}),[Y.buffer])})}})),F3=g2(N3),M3=function(e){var i=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Od=function(e,i){e.abort(),e.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Ag=function(e,i){i.activePlaylistLoader=e,e.load()},B3=function(e,i){return function(){var n=i.segmentLoaders,t=n[e],a=n.main,s=i.mediaTypes[e],l=s.activeTrack(),d=s.getActiveGroup(),f=s.activePlaylistLoader,p=s.lastGroup_;if(!(d&&p&&d.id===p.id)&&(s.lastGroup_=d,s.lastTrack_=l,Od(t,s),!(!d||d.isMasterPlaylist))){if(!d.playlistLoader){f&&a.resetEverything();return}t.resyncLoader(),Ag(d.playlistLoader,s)}}},U3=function(e,i){return function(){var n=i.segmentLoaders[e],t=i.mediaTypes[e];t.lastGroup_=null,n.abort(),n.pause()}},j3=function(e,i){return function(){var n=i.masterPlaylistLoader,t=i.segmentLoaders,a=t[e],s=t.main,l=i.mediaTypes[e],d=l.activeTrack(),f=l.getActiveGroup(),p=l.activePlaylistLoader,y=l.lastTrack_;if(!(y&&d&&y.id===d.id)&&(l.lastGroup_=f,l.lastTrack_=d,Od(a,l),!!f)){if(f.isMasterPlaylist){if(!d||!y||d.id===y.id)return;var _=i.vhs.masterPlaylistController_,x=_.selectPlaylist();if(_.media()===x)return;l.logger_("track change. Switching master audio from "+y.id+" to "+d.id),n.pause(),s.resetEverything(),_.fastQualityChange_(x);return}if(e==="AUDIO"){if(!f.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(p===f.playlistLoader){Ag(f.playlistLoader,l);return}a.track&&a.track(d),a.resetEverything(),Ag(f.playlistLoader,l)}}},Ld={AUDIO:function(e,i){return function(){var n=i.segmentLoaders[e],t=i.mediaTypes[e],a=i.blacklistCurrentPlaylist;Od(n,t);var s=t.activeTrack(),l=t.activeGroup(),d=(l.filter(function(y){return y.default})[0]||l[0]).id,f=t.tracks[d];if(s===f){a({message:"Problem encountered loading the default audio track."});return}J.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var p in t.tracks)t.tracks[p].enabled=t.tracks[p]===f;t.onTrackChanged()}},SUBTITLES:function(e,i){return function(){var n=i.segmentLoaders[e],t=i.mediaTypes[e];J.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Od(n,t);var a=t.activeTrack();a&&(a.mode="disabled"),t.onTrackChanged()}}},Zy={AUDIO:function(e,i,n){if(!!i){var t=n.tech,a=n.requestOptions,s=n.segmentLoaders[e];i.on("loadedmetadata",function(){var l=i.media();s.playlist(l,a),(!t.paused()||l.endList&&t.preload()!=="none")&&s.load()}),i.on("loadedplaylist",function(){s.playlist(i.media(),a),t.paused()||s.load()}),i.on("error",Ld[e](e,n))}},SUBTITLES:function(e,i,n){var t=n.tech,a=n.requestOptions,s=n.segmentLoaders[e],l=n.mediaTypes[e];i.on("loadedmetadata",function(){var d=i.media();s.playlist(d,a),s.track(l.activeTrack()),(!t.paused()||d.endList&&t.preload()!=="none")&&s.load()}),i.on("loadedplaylist",function(){s.playlist(i.media(),a),t.paused()||s.load()}),i.on("error",Ld[e](e,n))}},H3={AUDIO:function(e,i){var n=i.vhs,t=i.sourceType,a=i.segmentLoaders[e],s=i.requestOptions,l=i.master.mediaGroups,d=i.mediaTypes[e],f=d.groups,p=d.tracks,y=d.logger_,_=i.masterPlaylistLoader,x=kl(_.master);(!l[e]||Object.keys(l[e]).length===0)&&(l[e]={main:{default:{default:!0}}},x&&(l[e].main.default.playlists=_.master.playlists));for(var A in l[e]){f[A]||(f[A]=[]);for(var P in l[e][A]){var D=l[e][A][P],R=void 0;if(x?(y("AUDIO group '"+A+"' label '"+P+"' is a master playlist"),D.isMasterPlaylist=!0,R=null):t==="vhs-json"&&D.playlists?R=new zs(D.playlists[0],n,s):D.resolvedUri?R=new zs(D.resolvedUri,n,s):D.playlists&&t==="dash"?R=new xg(D.playlists[0],n,s,_):R=null,D=J.mergeOptions({id:P,playlistLoader:R},D),Zy[e](e,D.playlistLoader,i),f[A].push(D),typeof p[P]>"u"){var F=new J.AudioTrack({id:P,kind:M3(D),enabled:!1,language:D.language,default:D.default,label:P});p[P]=F}}}a.on("error",Ld[e](e,i))},SUBTITLES:function(e,i){var n=i.tech,t=i.vhs,a=i.sourceType,s=i.segmentLoaders[e],l=i.requestOptions,d=i.master.mediaGroups,f=i.mediaTypes[e],p=f.groups,y=f.tracks,_=i.masterPlaylistLoader;for(var x in d[e]){p[x]||(p[x]=[]);for(var A in d[e][x])if(!d[e][x][A].forced){var P=d[e][x][A],D=void 0;if(a==="hls")D=new zs(P.resolvedUri,t,l);else if(a==="dash"){var R=P.playlists.filter(function(V){return V.excludeUntil!==1/0});if(!R.length)return;D=new xg(P.playlists[0],t,l,_)}else a==="vhs-json"&&(D=new zs(P.playlists?P.playlists[0]:P.resolvedUri,t,l));if(P=J.mergeOptions({id:A,playlistLoader:D},P),Zy[e](e,P.playlistLoader,i),p[x].push(P),typeof y[A]>"u"){var F=n.addRemoteTextTrack({id:A,kind:"subtitles",default:P.default&&P.autoselect,language:P.language,label:A},!1).track;y[A]=F}}}s.on("error",Ld[e](e,i))},"CLOSED-CAPTIONS":function(e,i){var n=i.tech,t=i.master.mediaGroups,a=i.mediaTypes[e],s=a.groups,l=a.tracks;for(var d in t[e]){s[d]||(s[d]=[]);for(var f in t[e][d]){var p=t[e][d][f];if(!!/^(?:CC|SERVICE)/.test(p.instreamId)){var y=n.options_.vhs&&n.options_.vhs.captionServices||{},_={label:f,language:p.language,instreamId:p.instreamId,default:p.default&&p.autoselect};if(y[_.instreamId]&&(_=J.mergeOptions(_,y[_.instreamId])),_.default===void 0&&delete _.default,s[d].push(J.mergeOptions({id:f},p)),typeof l[f]>"u"){var x=n.addRemoteTextTrack({id:_.instreamId,kind:"captions",default:_.default,language:_.language,label:_.label},!1).track;l[f]=x}}}}}},V3=function r(e,i){for(var n=0;n<e.length;n++)if(av(i,e[n])||e[n].playlists&&r(e[n].playlists,i))return!0;return!1},q3=function(e,i){return function(n){var t=i.masterPlaylistLoader,a=i.mediaTypes[e].groups,s=t.media();if(!s)return null;var l=null;s.attributes[e]&&(l=a[s.attributes[e]]);var d=Object.keys(a);if(!l)if(e==="AUDIO"&&d.length>1&&kl(i.master))for(var f=0;f<d.length;f++){var p=a[d[f]];if(V3(p,s)){l=p;break}}else a.main?l=a.main:d.length===1&&(l=a[d[0]]);return typeof n>"u"?l:n===null||!l?null:l.filter(function(y){return y.id===n.id})[0]||null}},$3={AUDIO:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var t in n)if(n[t].enabled)return n[t];return null}},SUBTITLES:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var t in n)if(n[t].mode==="showing"||n[t].mode==="hidden")return n[t];return null}}},W3=function(e,i){var n=i.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}},G3=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(A){H3[A](A,e)});var i=e.mediaTypes,n=e.masterPlaylistLoader,t=e.tech,a=e.vhs,s=e.segmentLoaders,l=s.AUDIO,d=s.main;["AUDIO","SUBTITLES"].forEach(function(A){i[A].activeGroup=q3(A,e),i[A].activeTrack=$3[A](A,e),i[A].onGroupChanged=B3(A,e),i[A].onGroupChanging=U3(A,e),i[A].onTrackChanged=j3(A,e),i[A].getActiveGroup=W3(A,e)});var f=i.AUDIO.activeGroup();if(f){var p=(f.filter(function(A){return A.default})[0]||f[0]).id;i.AUDIO.tracks[p].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var y=i.AUDIO.getActiveGroup();y.playlistLoader?(d.setAudio(!1),l.setAudio(!0)):d.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(A){return i[A].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(A){return i[A].onGroupChanging()})});var _=function(){i.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",_),t.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),a.on("dispose",function(){t.audioTracks().removeEventListener("change",_),t.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var x in i.AUDIO.tracks)t.audioTracks().addTrack(i.AUDIO.tracks[x])},z3=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){e[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:An,activeTrack:An,getActiveGroup:An,onGroupChanged:An,onTrackChanged:An,lastTrack_:null,logger_:ji("MediaGroups["+i+"]")}}),e},K3=60*2,xn,X3=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],J3=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Y3=function(e){var i=e.currentPlaylist,n=e.buffered,t=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,l=e.bufferHighWaterLine,d=e.duration,f=e.experimentalBufferBasedABR,p=e.log;if(!a)return J.log.warn("We received no playlist to switch to. Please check your stream."),!1;var y="allowing switch "+(i&&i.id||"null")+" -> "+a.id;if(!i)return p(y+" as current playlist is not set"),!0;if(a.id===i.id)return!1;var _=Boolean(Gs(n,t).length);if(!i.endList)return!_&&typeof i.partTargetDuration=="number"?(p("not "+y+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(p(y+" as current playlist is live"),!0);var x=rv(n,t),A=f?cr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:cr.MAX_BUFFER_LOW_WATER_LINE;if(d<A)return p(y+" as duration < max low water line ("+d+" < "+A+")"),!0;var P=a.attributes.BANDWIDTH,D=i.attributes.BANDWIDTH;if(P<D&&(!f||x<l)){var R=y+" as next bandwidth < current bandwidth ("+P+" < "+D+")";return f&&(R+=" and forwardBuffer < bufferHighWaterLine ("+x+" < "+l+")"),p(R),!0}if((!f||P>D)&&x>=s){var F=y+" as forwardBuffer >= bufferLowWaterLine ("+x+" >= "+s+")";return f&&(F+=" and next bandwidth > current bandwidth ("+P+" > "+D+")"),p(F),!0}return p("not "+y+" as no switching criteria met"),!1},Q3=function(r){xe(e,r);function e(n){var t;t=r.call(this)||this;var a=n.src,s=n.handleManifestRedirects,l=n.withCredentials,d=n.tech,f=n.bandwidth,p=n.externVhs,y=n.useCueTags,_=n.blacklistDuration,x=n.enableLowInitialPlaylist,A=n.sourceType,P=n.cacheEncryptionKeys,D=n.experimentalBufferBasedABR,R=n.experimentalLeastPixelDiffSelector,F=n.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var V=n.maxPlaylistRetries;(V===null||typeof V>"u")&&(V=1/0),xn=p,t.experimentalBufferBasedABR=Boolean(D),t.experimentalLeastPixelDiffSelector=Boolean(R),t.withCredentials=l,t.tech_=d,t.vhs_=d.vhs,t.sourceType_=A,t.useCueTags_=y,t.blacklistDuration=_,t.maxPlaylistRetries=V,t.enableLowInitialPlaylist=x,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:l,handleManifestRedirects:s,maxPlaylistRetries:V,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=z3(),t.mediaSource=new H.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(Je(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(Je(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(Je(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=J.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new L3(n),t.segmentMetadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new F3,t.sourceUpdater_=new P2(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new R3;var j={vhs:t.vhs_,parse708captions:n.parse708captions,useDtsForTimestampOffset:n.useDtsForTimestampOffset,captionServices:F,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:f,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:P,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new xg(a,t.vhs_,t.requestOptions_):new zs(a,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Cg(J.mergeOptions(j,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),n),t.audioSegmentLoader_=new Cg(J.mergeOptions(j,{loaderType:"audio"}),n),t.subtitleSegmentLoader_=new D3(J.mergeOptions(j,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(Q,U){function z(){d.off("vttjserror",Y),Q()}function Y(){d.off("vttjsloaded",z),U()}d.one("vttjsloaded",z),d.one("vttjserror",Y),d.addWebVttScript_()})}}),n),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),X3.forEach(function(Z){t[Z+"_"]=J3.bind(Je(t),Z)}),t.logger_=ji("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var K=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(K,function(){var Z=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-Z,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return t===-1||a===-1?-1:t+a},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(t){t===void 0&&(t="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,t)},i.switchMedia_=function(t,a,s){var l=this.media(),d=l&&(l.id||l.uri),f=t.id||t.uri;d&&d!==f&&(this.logger_("switch media "+d+" -> "+f+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(t,s)},i.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=H.setInterval(function(){return t.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(H.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var t=this.master(),a=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return a;var s=t.mediaGroups.AUDIO,l=Object.keys(s),d;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)d=this.mediaTypes_.AUDIO.activeTrack();else{var f=s.main||l.length&&s[l[0]];for(var p in f)if(f[p].default){d={label:p};break}}if(!d)return a;var y=[];for(var _ in s)if(s[_][d.label]){var x=s[_][d.label];if(x.playlists&&x.playlists.length)y.push.apply(y,x.playlists);else if(x.uri)y.push(x);else if(t.playlists.length)for(var A=0;A<t.playlists.length;A++){var P=t.playlists[A];P.attributes&&P.attributes.AUDIO&&P.attributes.AUDIO===_&&y.push(P)}}return y.length?y:a},i.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;_g(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,a.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load()),G3({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),a),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var a=t.masterPlaylistLoader_.media();if(!a){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var l=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!l)return;a=t.initialMedia_}t.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;_g(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.masterPlaylistLoader_.load(),t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=t.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(a);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(t,a){var s=t.mediaGroups||{},l=!0,d=Object.keys(s.AUDIO);for(var f in s.AUDIO)for(var p in s.AUDIO[f]){var y=s.AUDIO[f][p];y.uri||(l=!1)}l&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),xn.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),d.length&&Object.keys(s.AUDIO[d[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(t){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),l=this.bufferLowWaterLine(),d=this.bufferHighWaterLine(),f=this.tech_.buffered();return Y3({buffered:f,currentTime:s,currentPlaylist:a,nextPlaylist:t,bufferLowWaterLine:l,bufferHighWaterLine:d,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},K3))});var a=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var l=t.getCodecsOrExclude_();!l||t.sourceUpdater_.addOrChangeSourceBuffers(l)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},i.fastQualityChange_=function(t){var a=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){J.browser.IE_VERSION||J.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},i.setupFirstPlay=function(){var t=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(J.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,function(a){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var a=this.duration();t[t.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}!t||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(t){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var l=xn.Playlist.playlistEnd(t,s),d=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return l-d<=tn;var p=f.end(f.length-1);return p-d<=tn&&l-p<=tn},i.blacklistCurrentPlaylist=function(t,a){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(a=a||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var l=this.masterPlaylistLoader_.master.playlists,d=l.filter(bf),f=d.length===1&&d[0]===s;if(l.length===1&&a!==1/0)return J.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f);if(f){var p=!1;l.forEach(function(R){if(R!==s){var F=R.excludeUntil;typeof F<"u"&&F!==1/0&&(p=!0,delete R.excludeUntil)}}),p&&(J.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var y;s.playlistErrors_>this.maxPlaylistRetries?y=1/0:y=Date.now()+a*1e3,s.excludeUntil=y,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var _=this.selectPlaylist();if(!_){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var x=t.internal?this.logger_:J.log.warn,A=t.message?" "+t.message:"";x((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(A+" Switching to playlist "+_.id+".")),_.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),_.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var P=_.targetDuration/2*1e3||5*1e3,D=typeof _.lastRequest=="number"&&Date.now()-_.lastRequest<=P;return this.switchMedia_(_,"exclude",f||D)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(t,a){var s=this,l=[],d=t==="all";(d||t==="main")&&l.push(this.masterPlaylistLoader_);var f=[];(d||t==="audio")&&f.push("AUDIO"),(d||t==="subtitle")&&(f.push("CLOSED-CAPTIONS"),f.push("SUBTITLES")),f.forEach(function(p){var y=s.mediaTypes_[p]&&s.mediaTypes_[p].activePlaylistLoader;y&&l.push(y)}),["main","audio","subtitle"].forEach(function(p){var y=s[p+"SegmentLoader_"];y&&(t===p||t==="all")&&l.push(y)}),l.forEach(function(p){return a.forEach(function(y){typeof p[y]=="function"&&p[y]()})})},i.setCurrentTime=function(t){var a=Gs(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:xn.Playlist.duration(t):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var t;if(!!this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var l=this.masterPlaylistLoader_.master,d=xn.Playlist.seekable(a,s,xn.Playlist.liveEdgeDelay(l,a));if(d.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(t=xn.Playlist.seekable(a,s,xn.Playlist.liveEdgeDelay(l,a)),t.length===0)))){var f,p;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),p=this.seekable_.start(0)),t?t.start(0)>d.end(0)||d.start(0)>t.end(0)?this.seekable_=d:this.seekable_=J.createTimeRanges([[t.start(0)>d.start(0)?t.start(0):d.start(0),t.end(0)<d.end(0)?t.end(0):d.end(0)]]):this.seekable_=d,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===p)&&(this.logger_("seekable updated ["+zx(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),l=xn.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(l=Math.max(l,s.end(s.length-1))),this.mediaSource.duration!==l&&this.sourceUpdater_.setDuration(l)},i.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=t.mediaTypes_[a].groups;for(var l in s)s[l].forEach(function(d){d.playlistLoader&&d.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},i.getCodecsOrExclude_=function(){var t=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var l=$u(this.master(),s),d={},f=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(d.video=l.video||a.main.videoCodec||TP),a.main.isMuxed&&(d.video+=","+(l.audio||a.main.audioCodec||F_)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||f)&&(d.audio=l.audio||a.main.audioCodec||a.audio.audioCodec||F_,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!d.audio&&!d.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var p=function(R,F){return R?Yc(F):dp(F)},y={},_;if(["video","audio"].forEach(function(D){if(d.hasOwnProperty(D)&&!p(a[D].isFmp4,d[D])){var R=a[D].isFmp4?"browser":"muxer";y[R]=y[R]||[],y[R].push(d[D]),D==="audio"&&(_=R)}}),f&&_&&s.attributes.AUDIO){var x=s.attributes.AUDIO;this.master().playlists.forEach(function(D){var R=D.attributes&&D.attributes.AUDIO;R===x&&D!==s&&(D.excludeUntil=1/0)}),this.logger_("excluding audio group "+x+" as "+_+' does not support codec(s): "'+d.audio+'"')}if(Object.keys(y).length){var A=Object.keys(y).reduce(function(D,R){return D&&(D+=", "),D+=R+' does not support codec(s): "'+y[R].join(",")+'"',D},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:A,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var P=[];if(["video","audio"].forEach(function(D){var R=(Ji(t.sourceUpdater_.codecs[D]||"")[0]||{}).type,F=(Ji(d[D]||"")[0]||{}).type;R&&F&&R.toLowerCase()!==F.toLowerCase()&&P.push('"'+t.sourceUpdater_.codecs[D]+'" -> "'+d[D]+'"')}),P.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+P.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return d},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(!!t){this.sourceUpdater_.createSourceBuffers(t);var a=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},i.excludeUnsupportedVariants_=function(){var t=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(l){var d=a[l];if(s.indexOf(d.id)===-1){s.push(d.id);var f=$u(t.master,d),p=[];f.audio&&!dp(f.audio)&&!Yc(f.audio)&&p.push("audio codec "+f.audio),f.video&&!dp(f.video)&&!Yc(f.video)&&p.push("video codec "+f.video),f.text&&f.text==="stpp.ttml.im1t"&&p.push("text codec "+f.text),p.length&&(d.excludeUntil=1/0,t.logger_("excluding "+d.id+" for unsupported: "+p.join(", ")))}})},i.excludeIncompatibleVariants_=function(t){var a=this,s=[],l=this.master().playlists,d=Pd(Ji(t)),f=Vy(d),p=d.video&&Ji(d.video)[0]||null,y=d.audio&&Ji(d.audio)[0]||null;Object.keys(l).forEach(function(_){var x=l[_];if(!(s.indexOf(x.id)!==-1||x.excludeUntil===1/0)){s.push(x.id);var A=[],P=$u(a.masterPlaylistLoader_.master,x),D=Vy(P);if(!(!P.audio&&!P.video)){if(D!==f&&A.push('codec count "'+D+'" !== "'+f+'"'),!a.sourceUpdater_.canChangeType()){var R=P.video&&Ji(P.video)[0]||null,F=P.audio&&Ji(P.audio)[0]||null;R&&p&&R.type.toLowerCase()!==p.type.toLowerCase()&&A.push('video codec "'+R.type+'" !== "'+p.type+'"'),F&&y&&F.type.toLowerCase()!==y.type.toLowerCase()&&A.push('audio codec "'+F.type+'" !== "'+y.type+'"')}A.length&&(x.excludeUntil=1/0,a.logger_("blacklisting "+x.id+": "+A.join(" && ")))}}})},i.updateAdCues_=function(t){var a=0,s=this.seekable();s.length&&(a=s.start(0)),I3(t,this.cueTagsTrack_,a)},i.goalBufferLength=function(){var t=this.tech_.currentTime(),a=cr.GOAL_BUFFER_LENGTH,s=cr.GOAL_BUFFER_LENGTH_RATE,l=Math.max(a,cr.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+t*s,l)},i.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),a=cr.BUFFER_LOW_WATER_LINE,s=cr.BUFFER_LOW_WATER_LINE_RATE,l=Math.max(a,cr.MAX_BUFFER_LOW_WATER_LINE),d=Math.max(a,cr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+t*s,this.experimentalBufferBasedABR?d:l)},i.bufferHighWaterLine=function(){return cr.BUFFER_HIGH_WATER_LINE},e}(J.EventTarget),Z3=function(e,i,n){return function(t){var a=e.master.playlists[i],s=nv(a),l=bf(a);return typeof t>"u"?l:(t?delete a.disabled:a.disabled=!0,t!==l&&!s&&(n(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},eR=function(e,i,n){var t=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",l=t[s+"QualityChange_"].bind(t);if(i.attributes){var d=i.attributes.RESOLUTION;this.width=d&&d.width,this.height=d&&d.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=$u(t.master(),i),this.playlist=i,this.id=n,this.enabled=Z3(e.playlists,i.id,l)},tR=function(e){e.representations=function(){var i=e.masterPlaylistController_.master(),n=kl(i)?e.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return n?n.filter(function(t){return!nv(t)}).map(function(t,a){return new eR(e,t,t.id)}):[]}},eb=["seeking","seeked","pause","playing","error"],rR=function(){function r(i){var n=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ji("PlaybackWatcher"),this.logger_("initialize");var t=function(){return n.monitorCurrentTime_()},a=function(){return n.monitorCurrentTime_()},s=function(){return n.techWaiting_()},l=function(){return n.cancelTimer_()},d=this.masterPlaylistController_,f=["main","subtitle","audio"],p={};f.forEach(function(_){p[_]={reset:function(){return n.resetSegmentDownloads_(_)},updateend:function(){return n.checkSegmentDownloads_(_)}},d[_+"SegmentLoader_"].on("appendsdone",p[_].updateend),d[_+"SegmentLoader_"].on("playlistupdate",p[_].reset),n.tech_.on(["seeked","seeking"],p[_].reset)});var y=function(x){["main","audio"].forEach(function(A){d[A+"SegmentLoader_"][x]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),y("off"))},this.clearSeekingAppendCheck_=function(){return y("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),y("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(eb,l),this.tech_.on("canplay",a),this.tech_.one("play",t),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",s),n.tech_.off(eb,l),n.tech_.off("canplay",a),n.tech_.off("play",t),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),f.forEach(function(_){d[_+"SegmentLoader_"].off("appendsdone",p[_].updateend),d[_+"SegmentLoader_"].off("playlistupdate",p[_].reset),n.tech_.off(["seeked","seeking"],p[_].reset)}),n.checkCurrentTimeTimeout_&&H.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=r.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&H.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=H.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var t=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(n){var t=this.masterPlaylistController_,a=t[n+"SegmentLoader_"],s=a.buffered_(),l=zL(this[n+"Buffered_"],s);if(this[n+"Buffered_"]=s,l){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Za(s)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===n&&(!t.length||n+tn>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var t=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),l;if(s){var d=t.end(t.length-1);l=d}if(this.beforeSeekableWindow_(t,a)){var f=t.start(0);l=f+(f===t.end(0)?0:tn)}if(typeof l<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+zx(t)+". Seeking to ")+(l+".")),this.tech_.setCurrentTime(l),!0;for(var p=this.masterPlaylistController_.sourceUpdater_,y=this.tech_.buffered(),_=p.audioBuffer?p.audioBuffered():null,x=p.videoBuffer?p.videoBuffered():null,A=this.media(),P=A.partTargetDuration?A.partTargetDuration:(A.targetDuration-Sa)*2,D=[_,x],R=0;R<D.length;R++)if(!!D[R]){var F=rv(D[R],a);if(F<P)return!1}var V=Hc(y,a);return V.length===0?!1:(l=V.start(0)+tn,this.logger_("Buffered region starts ("+V.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+l+".")),this.tech_.setCurrentTime(l),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),t=this.tech_.buffered(),a=Gs(t,n);if(a.length&&n+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,t)){var a=n.end(n.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,l=this.tech_.buffered(),d=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(d)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var f=Hc(l,t);if(f.length>0){var p=f.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+p+", seeking "+("to "+f.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),p*1e3,t),!0}return!1},e.afterSeekableWindow_=function(n,t,a,s){if(s===void 0&&(s=!1),!n.length)return!1;var l=n.end(n.length-1)+tn,d=!a.endList;return d&&s&&(l=n.end(n.length-1)+a.targetDuration*3),t>l},e.beforeSeekableWindow_=function(n,t){return!!(n.length&&n.start(0)>0&&t<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var t=n.videoBuffered,a=n.audioBuffered,s=n.currentTime;if(!!t){var l;if(t.length&&a.length){var d=Gs(t,s-3),f=Gs(t,s),p=Gs(a,s);p.length&&!f.length&&d.length&&(l={start:d.end(0),end:p.end(0)})}else{var y=Hc(t,s);y.length||(l=this.gapFromVideoUnderflow_(t,s))}return l?(this.logger_("Encountered a gap in video from "+l.start+" to "+l.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(n){var t=this.tech_.buffered(),a=this.tech_.currentTime(),s=Hc(t,a);this.cancelTimer_(),!(s.length===0||a!==n)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",n,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Sa),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,t){for(var a=$L(n),s=0;s<a.length;s++){var l=a.start(s),d=a.end(s);if(t-l<4&&t-l>2)return{start:l,end:d}}return null},r}(),iR={errorInterval:30,getSource:function(e){var i=this.tech({IWillNotUseThisInPlugins:!0}),n=i.currentSource_||this.currentSource();return e(n)}},nR=function r(e,i){var n=0,t=0,a=J.mergeOptions(iR,i);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},l=function(_){_!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(_),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},d=function(){if(Date.now()-n<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){J.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),a.getSource.call(e,l)},f=function y(){e.off("loadedmetadata",s),e.off("error",d),e.off("dispose",y)},p=function(_){f(),r(e,_)};e.on("error",d),e.on("dispose",f),e.reloadSourceOnError=p},aR=function(e){nR(this,e)},I2="2.16.3",sR="6.0.1",oR="0.22.1",uR="4.8.0",lR="3.1.3",Sr={PlaylistLoader:zs,Playlist:Jr,utils:_5,STANDARD_PLAYLIST_SELECTOR:$y,INITIAL_PLAYLIST_SELECTOR:o3,lastBandwidthSelector:$y,movingAverageBandwidthSelector:a3,comparePlaylistBandwidth:uv,comparePlaylistResolution:n3,xhr:u2()};Object.keys(cr).forEach(function(r){Object.defineProperty(Sr,r,{get:function(){return J.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),cr[r]},set:function(i){if(J.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){J.log.warn("value of Vhs."+r+" must be greater than or equal to 0");return}cr[r]=i}})});var O2="videojs-vhs",L2=function(e,i){for(var n=i.media(),t=-1,a=0;a<e.length;a++)if(e[a].id===n.id){t=a;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},cR=function(e,i){i.representations().forEach(function(n){e.addQualityLevel(n)}),L2(e,i.playlists)};Sr.canPlaySource=function(){return J.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var dR=function(e,i,n){if(!e)return e;var t={};i&&i.attributes&&i.attributes.CODECS&&(t=Pd(Ji(i.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(t.audio=n.attributes.CODECS);var a=rl(t.video),s=rl(t.audio),l={};for(var d in e)l[d]={},s&&(l[d].audioContentType=s),a&&(l[d].videoContentType=a),i.contentProtection&&i.contentProtection[d]&&i.contentProtection[d].pssh&&(l[d].pssh=i.contentProtection[d].pssh),typeof e[d]=="string"&&(l[d].url=e[d]);return J.mergeOptions(e,l)},fR=function(e,i){return e.reduce(function(n,t){if(!t.contentProtection)return n;var a=i.reduce(function(s,l){var d=t.contentProtection[l];return d&&d.pssh&&(s[l]={pssh:d.pssh}),s},{});return Object.keys(a).length&&n.push(a),n},[])},hR=function(e){var i=e.player,n=e.sourceKeySystems,t=e.audioMedia,a=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var s=t?a.concat([t]):a,l=fR(s,Object.keys(n)),d=[],f=[];return l.forEach(function(p){f.push(new Promise(function(y,_){i.tech_.one("keysessioncreated",y)})),d.push(new Promise(function(y,_){i.eme.initializeMediaKeys({keySystems:p},function(x){if(x){_(x);return}y()})}))}),Promise.race([Promise.all(d),Promise.race(f)])},pR=function(e){var i=e.player,n=e.sourceKeySystems,t=e.media,a=e.audioMedia,s=dR(n,t,a);return s?(i.currentSource().keySystems=s,s&&!i.eme?(J.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},R2=function(){if(!H.localStorage)return null;var e=H.localStorage.getItem(O2);if(!e)return null;try{return JSON.parse(e)}catch{return null}},gR=function(e){if(!H.localStorage)return!1;var i=R2();i=i?J.mergeOptions(i,e):e;try{H.localStorage.setItem(O2,JSON.stringify(i))}catch{return!1}return i},mR=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Sr.supportsNativeHls=function(){if(!be||!be.createElement)return!1;var r=be.createElement("video");if(!J.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(i){return/maybe|probably/i.test(r.canPlayType(i))})}();Sr.supportsNativeDash=function(){return!be||!be.createElement||!J.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(be.createElement("video").canPlayType("application/dash+xml"))}();Sr.supportsTypeNatively=function(r){return r==="hls"?Sr.supportsNativeHls:r==="dash"?Sr.supportsNativeDash:!1};Sr.isSupported=function(){return J.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var vR=J.getComponent("Component"),cv=function(r){xe(e,r);function e(n,t,a){var s;if(s=r.call(this,t,J.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&J.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=ji("VhsHandler"),t.options_&&t.options_.playerId){var l=J(t.options_.playerId);l.hasOwnProperty("hls")||Object.defineProperty(l,"hls",{get:function(){return J.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),Je(s)},configurable:!0}),l.hasOwnProperty("vhs")||Object.defineProperty(l,"vhs",{get:function(){return J.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),Je(s)},configurable:!0}),l.hasOwnProperty("dash")||Object.defineProperty(l,"dash",{get:function(){return J.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Je(s)},configurable:!0}),s.player_=l}if(s.tech_=t,s.source_=n,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(d){var f=be.fullscreenElement||be.webkitFullscreenElement||be.mozFullScreenElement||be.msFullscreenElement;f&&f.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var i=e.prototype;return i.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=R2();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=cr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===cr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]<"u"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(t,a){var s=this;if(!!t){this.setOptions_(),this.options_.src=mR(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Sr,this.options_.sourceType=zT(a),this.options_.seekTo=function(f){s.tech_.setCurrentTime(f)},this.options_.smoothQualityChange&&J.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Q3(this.options_);var l=J.mergeOptions({liveRangeSafeTimeDelta:tn},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new rR(l),this.masterPlaylistController_.on("error",function(){var f=J.players[s.tech_.options_.playerId],p=s.masterPlaylistController_.error;typeof p=="object"&&!p.code?p.code=3:typeof p=="string"&&(p={message:p,code:3}),f.error(p)});var d=this.options_.experimentalBufferBasedABR?Sr.movingAverageBandwidthSelector(.55):Sr.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):d.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Sr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(p){this.masterPlaylistController_.selectPlaylist=p.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(p){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=p,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var p=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,y=H.navigator.connection||H.navigator.mozConnection||H.navigator.webkitConnection,_=1e7;if(this.options_.useNetworkInformationApi&&y){var x=y.downlink*1e3*1e3;x>=_&&p>=_?p=Math.max(p,x):p=x}return p},set:function(p){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=p,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var p=1/(this.bandwidth||1),y;this.throughput>0?y=1/this.throughput:y=0;var _=Math.floor(1/(p+y));return _},set:function(){J.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Za(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Za(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&gR({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){tR(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=H.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.createKeySessions_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),hR({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){t.logger_("error while creating EME key session",s),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},i.setupEme_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=pR({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(l){if(l.status==="output-restricted"){var d=t.masterPlaylistController_.master();if(!(!d||!d.playlists)){var f=[];if(d.playlists.forEach(function(y){y&&y.attributes&&y.attributes.RESOLUTION&&y.attributes.RESOLUTION.height>=720&&(!y.excludeUntil||y.excludeUntil<1/0)&&(y.excludeUntil=1/0,f.push(y))}),f.length){var p;(p=J.log).warn.apply(p,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(f)),t.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),J.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},i.setupQualityLevels_=function(){var t=this,a=J.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){cR(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){L2(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":I2,"mux.js":sR,"mpd-parser":oR,"m3u8-parser":uR,"aes-decrypter":lR}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return P2.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&H.URL.revokeObjectURL&&(H.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},i.convertToProgramTime=function(t,a){return C5({playlist:this.masterPlaylistController_.media(),time:t,callback:a})},i.seekToProgramTime=function(t,a,s,l){return s===void 0&&(s=!0),l===void 0&&(l=2),w5({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:l,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(vR),dl={name:"videojs-http-streaming",VERSION:I2,canHandleSource:function(e,i){i===void 0&&(i={});var n=J.mergeOptions(J.options,i);return dl.canPlayType(e.type,n)},handleSource:function(e,i,n){n===void 0&&(n={});var t=J.mergeOptions(J.options,n);return i.vhs=new cv(e,i,t),J.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return J.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=u2(),i.vhs.src(e.src,e.type),i.vhs},canPlayType:function(e,i){var n=zT(e);if(!n)return"";var t=dl.getOverrideNative(i),a=Sr.supportsTypeNatively(n),s=!a||t;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var i=e,n=i.vhs,t=n===void 0?{}:n,a=i.hls,s=a===void 0?{}:a,l=!(J.browser.IS_ANY_SAFARI||J.browser.IS_IOS),d=t.overrideNative,f=d===void 0?l:d,p=s.overrideNative,y=p===void 0?!1:p;return y||f}},_R=function(){return Yc("avc1.4d400d,mp4a.40.2")};_R()&&J.getTech("Html5").registerSourceHandler(dl,0);J.VhsHandler=cv;Object.defineProperty(J,"HlsHandler",{get:function(){return J.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),cv},configurable:!0});J.VhsSourceHandler=dl;Object.defineProperty(J,"HlsSourceHandler",{get:function(){return J.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),dl},configurable:!0});J.Vhs=Sr;Object.defineProperty(J,"Hls",{get:function(){return J.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Sr},configurable:!0});J.use||(J.registerComponent("Hls",Sr),J.registerComponent("Vhs",Sr));J.options.vhs=J.options.vhs||{};J.options.hls=J.options.hls||{};if(!J.getPlugin||!J.getPlugin("reloadSourceOnError")){var yR=J.registerPlugin||J.plugin;yR("reloadSourceOnError",aR)}function Pp(r,e){var i={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(i[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(n=Object.getOwnPropertySymbols(r);t<n.length;t++)e.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(r,n[t])&&(i[n[t]]=r[n[t]])}return i}var bR={src:{type:String,onChange:function(r,e){return r.src(e)}},width:{type:Number,onChange:function(r,e){return r.width(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.width())})}},height:{type:Number,onChange:function(r,e){return r.height(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.height())})}},preload:{type:String,onChange:function(r,e){return r.preload(e)}},loop:{type:Boolean,onChange:function(r,e){return r.loop(e)}},muted:{type:Boolean,onChange:function(r,e){return r.muted(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.muted())})}},poster:{type:String,onChange:function(r,e){return r.poster(e)},onEvent:function(r,e){return r.on("posterchange",function(){return e(r.poster())})}},controls:{type:Boolean,onChange:function(r,e){return r.controls(e)},onEvent:function(r,e){r.on("controlsenabled",function(){return e(!0)}),r.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(r,e){return r.autoplay(e)}},crossorigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}},playsInline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}}},TR={id:{type:String},sources:{type:Array,onChange:function(r,e){return r.src(e)}},tracks:{type:Array,onChange:function(r,e){for(var i=r.remoteTextTracks(),n=(i==null?void 0:i.length)||0;n--;)r.removeRemoteTextTrack(i[n]);r.ready(function(){e.forEach(function(t){return r.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(r,e){return r.textTrackSettings.options(e)}},language:{type:String,onChange:function(r,e){return r.language(e)},onEvent:function(r,e){return r.on("languagechange",function(){return e(r.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(r,e){return r.playbackRates(e!=null?e:[])},onEvent:function(r,e){r.on("playbackrateschange",function(){return e(r.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(r,e){return r.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(r,e){return r.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(r,e){return r.responsive(e)}},breakpoints:{type:Object,onChange:function(r,e){return r.breakpoints(e)}},fluid:{type:Boolean,onChange:function(r,e){return r.fluid(e)}},fill:{type:Boolean,onChange:function(r,e){return r.fill(e)}},aspectRatio:{type:String,onChange:function(r,e){return r.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(r,e){return r.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},SR={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(r,e){return r.controlBar.options(e)}}},xR={html5:{type:Object}},ER={volume:{type:Number,onChange:function(r,e){return r.volume(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.volume())})}},playbackRate:{type:Number,onChange:function(r,e){r.playbackRate(e),r.defaultPlaybackRate(e)},onEvent:function(r,e){r.on("ratechange",function(){e(r.playbackRate())})}},options:{type:Object}},fl=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bR),TR),SR),xR),ER),dv=Object.keys(fl),N2=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),F2=Object.keys(N2);Object.values(N2);var Ip=function(r){var e,i=r==null?void 0:r.trim().replace(/\s+/g," ");return i&&(e=i.split(" "))!==null&&e!==void 0?e:[]},Op={src:{getter:function(r){return r.src()}},currentSrc:{getter:function(r){return r.currentSrc()}},currentSource:{getter:function(r){return r.currentSource()}},width:{events:["resize","playerresize"],getter:function(r){return r.width()}},height:{events:["resize","playerresize"],getter:function(r){return r.height()}},currentWidth:{events:["resize","playerresize"],getter:function(r){return r.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(r){return r.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(r){return r.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(r){return r.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(r){return r.controls()}},volume:{events:["volumechange"],getter:function(r){return r.volume()}},muted:{events:["volumechange"],getter:function(r){return r.muted()}},poster:{events:["posterchange"],getter:function(r){return r.poster()}},seeking:{events:["seeking"],getter:function(r){return r.seeking()}},paused:{events:["pause","play","playing"],getter:function(r){return r.paused()}},ended:{events:["ended","play"],getter:function(r){return r.ended()}},currentTime:{events:["timeupdate"],getter:function(r){return r.currentTime()}},duration:{events:["durationchange"],getter:function(r){return r.duration()}},playbackRate:{events:["ratechange"],getter:function(r){return r.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(r){return r.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(r){return r.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(r){return r.isInPictureInPicture()}},isLive:{getter:function(r){var e;return(e=r.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(r){return r.language()}},userActive:{events:["useractive","userinactive"],getter:function(r){return r.userActive()}},readyState:{events:["loadeddata"],getter:function(r){return r.readyState()}},networkState:{events:["loadeddata","error"],getter:function(r){return r.networkState()}},error:{events:["loadeddata","error"],getter:function(r){return r.error()}},buffered:{events:["progress"],getter:function(r){return r.buffered()}},bufferedPercent:{events:["progress"],getter:function(r){return r.bufferedPercent()}},played:{events:["timeupdate"],getter:function(r){return r.played()}},seekable:{events:["progress","seeked"],getter:function(r){return r.seekable()}},audioTracks:{getter:function(r){var e;return(e=r.audioTracks)===null||e===void 0?void 0:e.call(r)}},videoTracks:{getter:function(r){var e;return(e=r.videoTracks)===null||e===void 0?void 0:e.call(r)}},textTracks:{getter:function(r){var e;return(e=r.textTracks)===null||e===void 0?void 0:e.call(r)}}},M2=dv.filter(function(r){return Boolean(fl[r].onEvent)}),B2=function(r){return"update:"+r},CR=F2.concat(M2.map(B2)),wR=dv.reduce(function(r,e){var i,n=fl[e],t=Array.isArray(n.type)?n.type:[n.type],a=Object.assign({},n);return t.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},r),((i={})[e]=a,i))},{}),rd=gl({name:"VueVideoPlayer",props:Object.assign(Object.assign({},wR),{class:[String,Object,Array]}),emits:CR.concat(["mounted"],["unmounted"]),setup:function(r,e){var i=dt(r),n=i.class,t=Pp(i,["class"]),a=Wc(!1),s=Wc(null),l=Wc(null),d=Mr(function(){return l.value?l.value.player:null}),f=Ui(null),p=Mr(function(){return f.value?io(f.value):null});return ml(function(){var y,_=function(x){var A,P=x.props,D=x.element,R=x.className,F=x.onEvent,V=P.options;V===void 0&&(V={});var j=Pp(P,["options"]),K={};Object.keys(j).forEach(function(le){var Ne=j[le];Ne!==void 0&&(K[le]=Ne)});var Z=Object.assign(Object.assign({},K),V),Q=Z.volume,U=Z.playbackRate,z=Pp(Z,["volume","playbackRate"]),Y=Object.assign(Object.assign({},z),{playsinline:(A=z.playsinline)!==null&&A!==void 0?A:z.playsInline}),ae=J(D,Y,function(){var le=this;F2.forEach(function(Ne){le.on(Ne,function(Be){F(Ne,Be)})}),z.src&&!z.sources&&this.src(z.src),Q&&Number.isFinite(Q)&&this.volume(Q),U&&Number.isFinite(U)&&(this.defaultPlaybackRate(U),setTimeout(function(){le.playbackRate(U)},0))});R&&Ip(R).map(function(le){return ae.addClass(le)});var te=function(le){var Ne;(Ne=ae.options)===null||Ne===void 0||Ne.call(ae,le!=null?le:{})};return{player:ae,dispose:function(){return ae.dispose()},updateClassNames:function(le,Ne){Ip(le).map(function(Be){return ae.removeClass(Be)}),Ip(Ne).map(function(Be){return ae.addClass(Be)})},updateOptions:te,updatePropOption:function(le,Ne){var Be,me,Ae;te(((Be={})[le]=Ne,Be)),(Ae=(me=fl[le])===null||me===void 0?void 0:me.onChange)===null||Ae===void 0||Ae.call(me,ae,Ne)}}}({element:s.value,props:t,onEvent:e.emit});y={player:_.player,onEvent:e.emit},M2.forEach(function(x){var A,P;(P=(A=fl[x])===null||A===void 0?void 0:A.onEvent)===null||P===void 0||P.call(A,y.player,function(D){y.onEvent(B2(x),D)})}),nn(function(){return r.class},function(x,A){var P=Js(A),D=Js(x);_.updateClassNames(P,D)},{immediate:!0}),nn(function(){return r.options},function(x){return _.updateOptions(x!=null?x:{})},{deep:!0}),dv.filter(function(x){return x!=="options"}).forEach(function(x){nn(function(){return r[x]},function(A){return _.updatePropOption(x,A)},{deep:!0})}),function(x,A){var P=Object.keys(Op),D=P.reduce(function(F,V){var j;return Object.assign(Object.assign({},F),((j={})[V]=Op[V].getter(x),j))},{playing:!1,waiting:!1}),R=function(F,V){D[F]=V,A.onUpdate(F,V,Object.assign({},D))};x.on(["pause","ended"],function(){R("playing",!1)}),x.on(["play","playing"],function(){R("playing",!0)}),x.on("waiting",function(){R("waiting",!0);var F=x.currentTime(),V=function(){F!==x.currentTime()&&(R("waiting",!1),x.off("timeupdate",V))};x.on("timeupdate",V)}),P.forEach(function(F){var V,j=Op[F];x.on(["loadstart","loadedmetadata"].concat((V=j.events)!==null&&V!==void 0?V:[]),function(){R(F,j.getter(x))})}),A.onInit(Object.assign({},D))}(_.player,{onInit:function(x){f.value=x},onUpdate:function(x,A){f.value&&(f.value[x]=A)}}),l.value=_,a.value=!0,e.emit("mounted",{video:s.value,player:d.value,state:p.value})}),$d(function(){l.value&&(l.value.dispose(),l.value=null,f.value=null,e.emit("unmounted"))}),function(){var y,_;return Qu("div",{"data-vjs-player":"",class:Js(n)},[Qu("video",{class:["video-js","v-video-player"],ref:s}),a.value&&((_=(y=e.slots).default)===null||_===void 0?void 0:_.call(y,{video:s.value,player:d.value,state:p.value}))])}}}),AR=function(r){r.component("VideoPlayer",rd),r.component(rd.name,rd)},kR={VideoPlayer:rd,install:AR};const DR=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function U2(){const e=document.documentElement.clientWidth||document.body.clientWidth;document.documentElement.style.fontSize=e/390*100+"px"}U2();window.onresize=U2;const{VITE_GOOGLE_ID:PR=""}={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},ds=zA(sD);ds.config.globalProperties.$sensors=mD();ds.config.globalProperties.$isMobile=DR;const j2=YA();j2.use(cD);ds.use(j2);ds.use(lD);try{ds.use(gD,{clientId:PR})}catch{}ds.use(kR);ds.mount("#app");export{lD as $,Js as A,XR as B,Md as C,UR as D,Yg as E,ui as F,FR as G,io as H,ww as I,$d as J,BR as K,WR as L,oT as M,Vg as N,Mb as O,On as P,aA as Q,MR as R,$R as S,HR as T,di as U,Yu as V,jR as W,xw as X,Ew as Y,zR as Z,Wc as _,pl as a,Gd as a0,Aw as a1,zg as a2,Ug as a3,GR as a4,tl as a5,VR as a6,zd as b,Mr as c,gl as d,tA as e,Ir as f,nT as g,Qu as h,Yr as i,br as j,IR as k,Zg as l,LR as m,RR as n,ml as o,Gc as p,nA as q,Ui as r,nn as s,OR as t,KR as u,hD as v,dw as w,qR as x,JR as y,NR as z};
