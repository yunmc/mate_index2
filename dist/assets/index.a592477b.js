(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ea(r,e){const n=new Set(r.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const kt=Object.freeze({}),xo=Object.freeze([]),xr=()=>{},jC=()=>!1,$l=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),jd=r=>r.startsWith("onUpdate:"),Rt=Object.assign,Am=(r,e)=>{const n=r.indexOf(e);n>-1&&r.splice(n,1)},$C=Object.prototype.hasOwnProperty,ft=(r,e)=>$C.call(r,e),Ve=Array.isArray,bs=r=>Vl(r)==="[object Map]",aT=r=>Vl(r)==="[object Set]",VC=r=>Vl(r)==="[object RegExp]",Ye=r=>typeof r=="function",Nt=r=>typeof r=="string",Fs=r=>typeof r=="symbol",_t=r=>r!==null&&typeof r=="object",km=r=>(_t(r)||Ye(r))&&Ye(r.then)&&Ye(r.catch),sT=Object.prototype.toString,Vl=r=>sT.call(r),Dm=r=>Vl(r).slice(8,-1),oT=r=>Vl(r)==="[object Object]",Pm=r=>Nt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,ll=ea(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),HC=ea("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),wf=r=>{const e=Object.create(null);return n=>e[n]||(e[n]=r(n))},qC=/-(\w)/g,gi=wf(r=>r.replace(qC,(e,n)=>n?n.toUpperCase():"")),WC=/\B([A-Z])/g,Ma=wf(r=>r.replace(WC,"-$1").toLowerCase()),Ps=wf(r=>r.charAt(0).toUpperCase()+r.slice(1)),hs=wf(r=>r?`on${Ps(r)}`:""),Ba=(r,e)=>!Object.is(r,e),gs=(r,e)=>{for(let n=0;n<r.length;n++)r[n](e)},uT=(r,e,n,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:n})},GC=r=>{const e=parseFloat(r);return isNaN(e)?r:e},zC=r=>{const e=Nt(r)?Number(r):NaN;return isNaN(e)?r:e};let v_;const Cf=()=>v_||(v_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Af(r){if(Ve(r)){const e={};for(let n=0;n<r.length;n++){const i=r[n],t=Nt(i)?YC(i):Af(i);if(t)for(const a in t)e[a]=t[a]}return e}else if(Nt(r)||_t(r))return r}const KC=/;(?![^(]*\))/g,XC=/:([^]+)/,JC=/\/\*[^]*?\*\//g;function YC(r){const e={};return r.replace(JC,"").split(KC).forEach(n=>{if(n){const i=n.split(XC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Eo(r){let e="";if(Nt(r))e=r;else if(Ve(r))for(let n=0;n<r.length;n++){const i=Eo(r[n]);i&&(e+=i+" ")}else if(_t(r))for(const n in r)r[n]&&(e+=n+" ");return e.trim()}const QC="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ZC="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",eA="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",tA=ea(QC),rA=ea(ZC),nA=ea(eA),iA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aA=ea(iA);function lT(r){return!!r||r===""}const hM=r=>Nt(r)?r:r==null?"":Ve(r)||_t(r)&&(r.toString===sT||!Ye(r.toString))?JSON.stringify(r,cT,2):String(r),cT=(r,e)=>e&&e.__v_isRef?cT(r,e.value):bs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,t],a)=>(n[Fp(i,a)+" =>"]=t,n),{})}:aT(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Fp(n))}:Fs(e)?Fp(e):_t(e)&&!Ve(e)&&!oT(e)?String(e):e,Fp=(r,e="")=>{var n;return Fs(r)?`Symbol(${(n=r.description)!=null?n:e})`:r};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mi(r,...e){console.warn(`[Vue warn] ${r}`,...e)}let pn;class dT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!e&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=pn;try{return pn=this,e()}finally{pn=n}}else mi("cannot run an inactive effect scope.")}on(){pn=this}off(){pn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function fT(r){return new dT(r)}function sA(r,e=pn){e&&e.active&&e.effects.push(r)}function hT(){return pn}function oA(r){pn?pn.cleanups.push(r):mi("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Ts;class Im{constructor(e,n,i,t){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,sA(this,t)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ta();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(uA(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ra()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Na,n=Ts;try{return Na=!0,Ts=this,this._runnings++,__(this),this.fn()}finally{y_(this),this._runnings--,Ts=n,Na=e}}stop(){this.active&&(__(this),y_(this),this.onStop&&this.onStop(),this.active=!1)}}function uA(r){return r.value}function __(r){r._trackId++,r._depsLength=0}function y_(r){if(r.deps.length>r._depsLength){for(let e=r._depsLength;e<r.deps.length;e++)pT(r.deps[e],r);r.deps.length=r._depsLength}}function pT(r,e){const n=r.get(e);n!==void 0&&e._trackId!==n&&(r.delete(e),r.size===0&&r.cleanup())}let Na=!0,Eg=0;const gT=[];function ta(){gT.push(Na),Na=!1}function ra(){const r=gT.pop();Na=r===void 0?!0:r}function Om(){Eg++}function Lm(){for(Eg--;!Eg&&wg.length;)wg.shift()()}function mT(r,e,n){var i;if(e.get(r)!==r._trackId){e.set(r,r._trackId);const t=r.deps[r._depsLength];t!==e?(t&&pT(t,r),r.deps[r._depsLength++]=e):r._depsLength++,(i=r.onTrack)==null||i.call(r,Rt({effect:r},n))}}const wg=[];function vT(r,e,n){var i;Om();for(const t of r.keys()){let a;t._dirtyLevel<e&&(a!=null?a:a=r.get(t)===t._trackId)&&(t._shouldSchedule||(t._shouldSchedule=t._dirtyLevel===0),t._dirtyLevel=e),t._shouldSchedule&&(a!=null?a:a=r.get(t)===t._trackId)&&((i=t.onTrigger)==null||i.call(t,Rt({effect:t},n)),t.trigger(),(!t._runnings||t.allowRecurse)&&t._dirtyLevel!==2&&(t._shouldSchedule=!1,t.scheduler&&wg.push(t.scheduler)))}Lm()}const _T=(r,e)=>{const n=new Map;return n.cleanup=r,n.computed=e,n},$d=new WeakMap,Ss=Symbol("iterate"),Cg=Symbol("Map key iterate");function Ur(r,e,n){if(Na&&Ts){let i=$d.get(r);i||$d.set(r,i=new Map);let t=i.get(n);t||i.set(n,t=_T(()=>i.delete(n))),mT(Ts,t,{target:r,type:e,key:n})}}function di(r,e,n,i,t,a){const s=$d.get(r);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&Ve(r)){const d=Number(i);s.forEach((f,h)=>{(h==="length"||!Fs(h)&&h>=d)&&l.push(f)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":Ve(r)?Pm(n)&&l.push(s.get("length")):(l.push(s.get(Ss)),bs(r)&&l.push(s.get(Cg)));break;case"delete":Ve(r)||(l.push(s.get(Ss)),bs(r)&&l.push(s.get(Cg)));break;case"set":bs(r)&&l.push(s.get(Ss));break}Om();for(const d of l)d&&vT(d,4,{target:r,type:e,key:n,newValue:i,oldValue:t,oldTarget:a});Lm()}function lA(r,e){const n=$d.get(r);return n&&n.get(e)}const cA=ea("__proto__,__v_isRef,__isVue"),yT=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Fs)),b_=dA();function dA(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...n){const i=rt(this);for(let a=0,s=this.length;a<s;a++)Ur(i,"get",a+"");const t=i[e](...n);return t===-1||t===!1?i[e](...n.map(rt)):t}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...n){ta(),Om();const i=rt(this)[e].apply(this,n);return Lm(),ra(),i}}),r}function fA(r){Fs(r)||(r=String(r));const e=rt(this);return Ur(e,"has",r),e.hasOwnProperty(r)}class bT{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const t=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(t?a?AT:CT:a?wT:ET).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=Ve(e);if(!t){if(s&&ft(b_,n))return Reflect.get(b_,n,i);if(n==="hasOwnProperty")return fA}const l=Reflect.get(e,n,i);return(Fs(n)?yT.has(n):cA(n))||(t||Ur(e,"get",n),a)?l:qt(l)?s&&Pm(n)?l:l.value:_t(l)?t?Oo(l):Hl(l):l}}class TT extends bT{constructor(e=!1){super(!1,e)}set(e,n,i,t){let a=e[n];if(!this._isShallow){const d=Is(a);if(!xs(i)&&!Is(i)&&(a=rt(a),i=rt(i)),!Ve(e)&&qt(a)&&!qt(i))return d?!1:(a.value=i,!0)}const s=Ve(e)&&Pm(n)?Number(n)<e.length:ft(e,n),l=Reflect.set(e,n,i,t);return e===rt(t)&&(s?Ba(i,a)&&di(e,"set",n,i,a):di(e,"add",n,i)),l}deleteProperty(e,n){const i=ft(e,n),t=e[n],a=Reflect.deleteProperty(e,n);return a&&i&&di(e,"delete",n,void 0,t),a}has(e,n){const i=Reflect.has(e,n);return(!Fs(n)||!yT.has(n))&&Ur(e,"has",n),i}ownKeys(e){return Ur(e,"iterate",Ve(e)?"length":Ss),Reflect.ownKeys(e)}}class ST extends bT{constructor(e=!1){super(!0,e)}set(e,n){return mi(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return mi(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const hA=new TT,pA=new ST,gA=new TT(!0),mA=new ST(!0),Rm=r=>r,kf=r=>Reflect.getPrototypeOf(r);function nd(r,e,n=!1,i=!1){r=r.__v_raw;const t=rt(r),a=rt(e);n||(Ba(e,a)&&Ur(t,"get",e),Ur(t,"get",a));const{has:s}=kf(t),l=i?Rm:n?Nm:bl;if(s.call(t,e))return l(r.get(e));if(s.call(t,a))return l(r.get(a));r!==t&&r.get(e)}function id(r,e=!1){const n=this.__v_raw,i=rt(n),t=rt(r);return e||(Ba(r,t)&&Ur(i,"has",r),Ur(i,"has",t)),r===t?n.has(r):n.has(r)||n.has(t)}function ad(r,e=!1){return r=r.__v_raw,!e&&Ur(rt(r),"iterate",Ss),Reflect.get(r,"size",r)}function T_(r){r=rt(r);const e=rt(this);return kf(e).has.call(e,r)||(e.add(r),di(e,"add",r,r)),this}function S_(r,e){e=rt(e);const n=rt(this),{has:i,get:t}=kf(n);let a=i.call(n,r);a?xT(n,i,r):(r=rt(r),a=i.call(n,r));const s=t.call(n,r);return n.set(r,e),a?Ba(e,s)&&di(n,"set",r,e,s):di(n,"add",r,e),this}function x_(r){const e=rt(this),{has:n,get:i}=kf(e);let t=n.call(e,r);t?xT(e,n,r):(r=rt(r),t=n.call(e,r));const a=i?i.call(e,r):void 0,s=e.delete(r);return t&&di(e,"delete",r,void 0,a),s}function E_(){const r=rt(this),e=r.size!==0,n=bs(r)?new Map(r):new Set(r),i=r.clear();return e&&di(r,"clear",void 0,void 0,n),i}function sd(r,e){return function(i,t){const a=this,s=a.__v_raw,l=rt(s),d=e?Rm:r?Nm:bl;return!r&&Ur(l,"iterate",Ss),s.forEach((f,h)=>i.call(t,d(f),d(h),a))}}function od(r,e,n){return function(...i){const t=this.__v_raw,a=rt(t),s=bs(a),l=r==="entries"||r===Symbol.iterator&&s,d=r==="keys"&&s,f=t[r](...i),h=n?Rm:e?Nm:bl;return!e&&Ur(a,"iterate",d?Cg:Ss),{next(){const{value:g,done:v}=f.next();return v?{value:g,done:v}:{value:l?[h(g[0]),h(g[1])]:h(g),done:v}},[Symbol.iterator](){return this}}}}function xa(r){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";mi(`${Ps(r)} operation ${n}failed: target is readonly.`,rt(this))}return r==="delete"?!1:r==="clear"?void 0:this}}function vA(){const r={get(a){return nd(this,a)},get size(){return ad(this)},has:id,add:T_,set:S_,delete:x_,clear:E_,forEach:sd(!1,!1)},e={get(a){return nd(this,a,!1,!0)},get size(){return ad(this)},has:id,add:T_,set:S_,delete:x_,clear:E_,forEach:sd(!1,!0)},n={get(a){return nd(this,a,!0)},get size(){return ad(this,!0)},has(a){return id.call(this,a,!0)},add:xa("add"),set:xa("set"),delete:xa("delete"),clear:xa("clear"),forEach:sd(!0,!1)},i={get(a){return nd(this,a,!0,!0)},get size(){return ad(this,!0)},has(a){return id.call(this,a,!0)},add:xa("add"),set:xa("set"),delete:xa("delete"),clear:xa("clear"),forEach:sd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=od(a,!1,!1),n[a]=od(a,!0,!1),e[a]=od(a,!1,!0),i[a]=od(a,!0,!0)}),[r,n,e,i]}const[_A,yA,bA,TA]=vA();function Df(r,e){const n=e?r?TA:bA:r?yA:_A;return(i,t,a)=>t==="__v_isReactive"?!r:t==="__v_isReadonly"?r:t==="__v_raw"?i:Reflect.get(ft(n,t)&&t in i?n:i,t,a)}const SA={get:Df(!1,!1)},xA={get:Df(!1,!0)},EA={get:Df(!0,!1)},wA={get:Df(!0,!0)};function xT(r,e,n){const i=rt(n);if(i!==n&&e.call(r,i)){const t=Dm(r);mi(`Reactive ${t} contains both the raw and reactive versions of the same object${t==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ET=new WeakMap,wT=new WeakMap,CT=new WeakMap,AT=new WeakMap;function CA(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AA(r){return r.__v_skip||!Object.isExtensible(r)?0:CA(Dm(r))}function Hl(r){return Is(r)?r:Pf(r,!1,hA,SA,ET)}function kT(r){return Pf(r,!1,gA,xA,wT)}function Oo(r){return Pf(r,!0,pA,EA,CT)}function oi(r){return Pf(r,!0,mA,wA,AT)}function Pf(r,e,n,i,t){if(!_t(r))return mi(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(e&&r.__v_isReactive))return r;const a=t.get(r);if(a)return a;const s=AA(r);if(s===0)return r;const l=new Proxy(r,s===2?i:n);return t.set(r,l),l}function Hi(r){return Is(r)?Hi(r.__v_raw):!!(r&&r.__v_isReactive)}function Is(r){return!!(r&&r.__v_isReadonly)}function xs(r){return!!(r&&r.__v_isShallow)}function Vd(r){return r?!!r.__v_raw:!1}function rt(r){const e=r&&r.__v_raw;return e?rt(e):r}function vs(r){return Object.isExtensible(r)&&uT(r,"__v_skip",!0),r}const bl=r=>_t(r)?Hl(r):r,Nm=r=>_t(r)?Oo(r):r,kA="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class DT{constructor(e,n,i,t){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Im(()=>e(this._value),()=>Cd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=i}get value(){const e=rt(this);return(!e._cacheable||e.effect.dirty)&&Ba(e._value,e._value=e.effect.run())&&Cd(e,4),PT(e),e.effect._dirtyLevel>=2&&(this._warnRecursive&&mi(kA,`

getter: `,this.getter),Cd(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function DA(r,e,n=!1){let i,t;const a=Ye(r);a?(i=r,t=()=>{mi("Write operation failed: computed value is readonly")}):(i=r.get,t=r.set);const s=new DT(i,t,a||!t,n);return e&&!n&&(s.effect.onTrack=e.onTrack,s.effect.onTrigger=e.onTrigger),s}function PT(r){var e;Na&&Ts&&(r=rt(r),mT(Ts,(e=r.dep)!=null?e:r.dep=_T(()=>r.dep=void 0,r instanceof DT?r:void 0),{target:r,type:"get",key:"value"}))}function Cd(r,e=4,n){r=rt(r);const i=r.dep;i&&vT(i,e,{target:r,type:"set",key:"value",newValue:n})}function qt(r){return!!(r&&r.__v_isRef===!0)}function In(r){return IT(r,!1)}function Ad(r){return IT(r,!0)}function IT(r,e){return qt(r)?r:new PA(r,e)}class PA{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:rt(e),this._value=n?e:bl(e)}get value(){return PT(this),this._value}set value(e){const n=this.__v_isShallow||xs(e)||Is(e);e=n?e:rt(e),Ba(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:bl(e),Cd(this,4,e))}}function hr(r){return qt(r)?r.value:r}const IA={get:(r,e,n)=>hr(Reflect.get(r,e,n)),set:(r,e,n,i)=>{const t=r[e];return qt(t)&&!qt(n)?(t.value=n,!0):Reflect.set(r,e,n,i)}};function OT(r){return Hi(r)?r:new Proxy(r,IA)}function w_(r){Vd(r)||mi("toRefs() expects a reactive object but received a plain one.");const e=Ve(r)?new Array(r.length):{};for(const n in r)e[n]=LT(r,n);return e}class OA{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return lA(rt(this._object),this._key)}}class LA{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Mp(r,e,n){return qt(r)?r:Ye(r)?new LA(r):_t(r)&&arguments.length>1?LT(r,e,n):In(r)}function LT(r,e,n){const i=r[e];return qt(i)?i:new OA(r,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Es=[];function kd(r){Es.push(r)}function Dd(){Es.pop()}function me(r,...e){ta();const n=Es.length?Es[Es.length-1].component:null,i=n&&n.appContext.config.warnHandler,t=RA();if(i)qi(i,n,11,[r+e.map(a=>{var s,l;return(l=(s=a.toString)==null?void 0:s.call(a))!=null?l:JSON.stringify(a)}).join(""),n&&n.proxy,t.map(({vnode:a})=>`at <${jf(n,a.type)}>`).join(`
`),t]);else{const a=[`[Vue warn]: ${r}`,...e];t.length&&a.push(`
`,...NA(t)),console.warn(...a)}ra()}function RA(){let r=Es[Es.length-1];if(!r)return[];const e=[];for(;r;){const n=e[0];n&&n.vnode===r?n.recurseCount++:e.push({vnode:r,recurseCount:0});const i=r.component&&r.component.parent;r=i&&i.vnode}return e}function NA(r){const e=[];return r.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...FA(n))}),e}function FA({vnode:r,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=r.component?r.component.parent==null:!1,t=` at <${jf(r.component,r.type,i)}`,a=">"+n;return r.props?[t,...MA(r.props),a]:[t+a]}function MA(r){const e=[],n=Object.keys(r);return n.slice(0,3).forEach(i=>{e.push(...RT(i,r[i]))}),n.length>3&&e.push(" ..."),e}function RT(r,e,n){return Nt(e)?(e=JSON.stringify(e),n?e:[`${r}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${r}=${e}`]:qt(e)?(e=RT(r,rt(e.value),!0),n?e:[`${r}=Ref<`,e,">"]):Ye(e)?[`${r}=fn${e.name?`<${e.name}>`:""}`]:(e=rt(e),n?e:[`${r}=`,e])}function BA(r,e){r!==void 0&&(typeof r!="number"?me(`${e} is not a valid number - got ${JSON.stringify(r)}.`):isNaN(r)&&me(`${e} is NaN - the duration expression might be incorrect.`))}const Fm={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function qi(r,e,n,i){try{return i?r(...i):r()}catch(t){ql(t,e,n)}}function kn(r,e,n,i){if(Ye(r)){const t=qi(r,e,n,i);return t&&km(t)&&t.catch(a=>{ql(a,e,n)}),t}if(Ve(r)){const t=[];for(let a=0;a<r.length;a++)t.push(kn(r[a],e,n,i));return t}else me(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof r}`)}function ql(r,e,n,i=!0){const t=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,l=Fm[n];for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](r,s,l)===!1)return}a=a.parent}const d=e.appContext.config.errorHandler;if(d){ta(),qi(d,null,10,[r,s,l]),ra();return}}UA(r,n,t,i)}function UA(r,e,n,i=!0){{const t=Fm[e];if(n&&kd(n),me(`Unhandled error${t?` during execution of ${t}`:""}`),n&&Dd(),i)throw r;console.error(r)}}let Tl=!1,Ag=!1;const Nr=[];let ai=0;const wo=[];let Bi=null,ka=0;const NT=Promise.resolve();let Mm=null;const jA=100;function Hd(r){const e=Mm||NT;return r?e.then(this?r.bind(this):r):e}function $A(r){let e=ai+1,n=Nr.length;for(;e<n;){const i=e+n>>>1,t=Nr[i],a=Sl(t);a<r||a===r&&t.pre?e=i+1:n=i}return e}function If(r){(!Nr.length||!Nr.includes(r,Tl&&r.allowRecurse?ai+1:ai))&&(r.id==null?Nr.push(r):Nr.splice($A(r.id),0,r),FT())}function FT(){!Tl&&!Ag&&(Ag=!0,Mm=NT.then(UT))}function VA(r){const e=Nr.indexOf(r);e>ai&&Nr.splice(e,1)}function MT(r){Ve(r)?wo.push(...r):(!Bi||!Bi.includes(r,r.allowRecurse?ka+1:ka))&&wo.push(r),FT()}function C_(r,e,n=Tl?ai+1:0){for(e=e||new Map;n<Nr.length;n++){const i=Nr[n];if(i&&i.pre){if(r&&i.id!==r.uid||Bm(e,i))continue;Nr.splice(n,1),n--,i()}}}function BT(r){if(wo.length){const e=[...new Set(wo)].sort((n,i)=>Sl(n)-Sl(i));if(wo.length=0,Bi){Bi.push(...e);return}for(Bi=e,r=r||new Map,ka=0;ka<Bi.length;ka++)Bm(r,Bi[ka])||Bi[ka]();Bi=null,ka=0}}const Sl=r=>r.id==null?1/0:r.id,HA=(r,e)=>{const n=Sl(r)-Sl(e);if(n===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return n};function UT(r){Ag=!1,Tl=!0,r=r||new Map,Nr.sort(HA);const e=n=>Bm(r,n);try{for(ai=0;ai<Nr.length;ai++){const n=Nr[ai];if(n&&n.active!==!1){if(e(n))continue;qi(n,null,14)}}}finally{ai=0,Nr.length=0,BT(r),Tl=!1,Mm=null,(Nr.length||wo.length)&&UT(r)}}function Bm(r,e){if(!r.has(e))r.set(e,1);else{const n=r.get(e);if(n>jA){const i=e.ownerInstance,t=i&&wl(i.type);return ql(`Maximum recursive updates exceeded${t?` in component <${t}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else r.set(e,n+1)}}let Fa=!1;const _o=new Set;Cf().__VUE_HMR_RUNTIME__={createRecord:Bp(jT),rerender:Bp(GA),reload:Bp(zA)};const Os=new Map;function qA(r){const e=r.type.__hmrId;let n=Os.get(e);n||(jT(e,r.type),n=Os.get(e)),n.instances.add(r)}function WA(r){Os.get(r.type.__hmrId).instances.delete(r)}function jT(r,e){return Os.has(r)?!1:(Os.set(r,{initialDef:cl(e),instances:new Set}),!0)}function cl(r){return SS(r)?r.__vccOpts:r}function GA(r,e){const n=Os.get(r);!n||(n.initialDef.render=e,[...n.instances].forEach(i=>{e&&(i.render=e,cl(i.type).render=e),i.renderCache=[],Fa=!0,i.effect.dirty=!0,i.update(),Fa=!1}))}function zA(r,e){const n=Os.get(r);if(!n)return;e=cl(e),A_(n.initialDef,e);const i=[...n.instances];for(const t of i){const a=cl(t.type);_o.has(a)||(a!==n.initialDef&&A_(a,e),_o.add(a)),t.appContext.propsCache.delete(t.type),t.appContext.emitsCache.delete(t.type),t.appContext.optionsCache.delete(t.type),t.ceReload?(_o.add(a),t.ceReload(e.styles),_o.delete(a)):t.parent?(t.parent.effect.dirty=!0,If(t.parent.update)):t.appContext.reload?t.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}MT(()=>{for(const t of i)_o.delete(cl(t.type))})}function A_(r,e){Rt(r,e);for(const n in r)n!=="__file"&&!(n in e)&&delete r[n]}function Bp(r){return(e,n)=>{try{return r(e,n)}catch(i){console.error(i),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let si,Zu=[],kg=!1;function Wl(r,...e){si?si.emit(r,...e):kg||Zu.push({event:r,args:e})}function $T(r,e){var n,i;si=r,si?(si.enabled=!0,Zu.forEach(({event:t,args:a})=>si.emit(t,...a)),Zu=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{$T(a,e)}),setTimeout(()=>{si||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,kg=!0,Zu=[])},3e3)):(kg=!0,Zu=[])}function KA(r,e){Wl("app:init",r,e,{Fragment:tn,Text:Xl,Comment:lr,Static:dl})}function XA(r){Wl("app:unmount",r)}const Dg=Um("component:added"),VT=Um("component:updated"),JA=Um("component:removed"),YA=r=>{si&&typeof si.cleanupBuffer=="function"&&!si.cleanupBuffer(r)&&JA(r)};/*! #__NO_SIDE_EFFECTS__ */function Um(r){return e=>{Wl(r,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const QA=HT("perf:start"),ZA=HT("perf:end");function HT(r){return(e,n,i)=>{Wl(r,e.appContext.app,e.uid,e,n,i)}}function ek(r,e,n){Wl("component:emit",r.appContext.app,r,e,n)}function tk(r,e,...n){if(r.isUnmounted)return;const i=r.vnode.props||kt;{const{emitsOptions:h,propsOptions:[g]}=r;if(h)if(!(e in h))(!g||!(hs(e)in g))&&me(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${hs(e)}" prop.`);else{const v=h[e];Ye(v)&&(v(...n)||me(`Invalid event arguments: event validation failed for event "${e}".`))}}let t=n;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in i){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:g,trim:v}=i[h]||kt;v&&(t=n.map(T=>Nt(T)?T.trim():T)),g&&(t=n.map(GC))}ek(r,e,t);{const h=e.toLowerCase();h!==e&&i[hs(h)]&&me(`Event "${h}" is emitted in component ${jf(r,r.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ma(e)}" instead of "${e}".`)}let l,d=i[l=hs(e)]||i[l=hs(gi(e))];!d&&a&&(d=i[l=hs(Ma(e))]),d&&kn(d,r,6,t);const f=i[l+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,kn(f,r,6,t)}}function qT(r,e,n=!1){const i=e.emitsCache,t=i.get(r);if(t!==void 0)return t;const a=r.emits;let s={},l=!1;if(!Ye(r)){const d=f=>{const h=qT(f,e,!0);h&&(l=!0,Rt(s,h))};!n&&e.mixins.length&&e.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}return!a&&!l?(_t(r)&&i.set(r,null),null):(Ve(a)?a.forEach(d=>s[d]=null):Rt(s,a),_t(r)&&i.set(r,s),s)}function Of(r,e){return!r||!$l(e)?!1:(e=e.slice(2).replace(/Once$/,""),ft(r,e[0].toLowerCase()+e.slice(1))||ft(r,Ma(e))||ft(r,e))}let Jt=null,Lf=null;function qd(r){const e=Jt;return Jt=r,Lf=r&&r.type.__scopeId||null,e}function pM(r){Lf=r}function gM(){Lf=null}function rk(r,e=Jt,n){if(!e||r._n)return r;const i=(...t)=>{i._d&&H_(-1);const a=qd(e);let s;try{s=r(...t)}finally{qd(a),i._d&&H_(1)}return VT(e),s};return i._n=!0,i._c=!0,i._d=!0,i}let Pg=!1;function Wd(){Pg=!0}function Up(r){const{type:e,vnode:n,proxy:i,withProxy:t,propsOptions:[a],slots:s,attrs:l,emit:d,render:f,renderCache:h,props:g,data:v,setupState:T,ctx:A,inheritAttrs:P}=r,D=qd(r);let R,M;Pg=!1;try{if(n.shapeFlag&4){const J=t||i,te=T.__isScriptSetup?new Proxy(J,{get(H,V,X){return me(`Property '${String(V)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(H,V,X)}}):J;R=Bn(f.call(te,J,h,oi(g),T,v,A)),M=l}else{const J=e;l===g&&Wd(),R=Bn(J.length>1?J(oi(g),{get attrs(){return Wd(),oi(l)},slots:s,emit:d}):J(oi(g),null)),M=e.props?l:nk(l)}}catch(J){fl.length=0,ql(J,r,1),R=Mr(lr)}let $=R,U;if(R.patchFlag>0&&R.patchFlag&2048&&([$,U]=WT(R)),M&&P!==!1){const J=Object.keys(M),{shapeFlag:te}=$;if(J.length){if(te&7)a&&J.some(jd)&&(M=ik(M,a)),$=qn($,M,!1,!0);else if(!Pg&&$.type!==lr){const H=Object.keys(l),V=[],X=[];for(let K=0,ee=H.length;K<ee;K++){const Z=H[K];$l(Z)?jd(Z)||V.push(Z[2].toLowerCase()+Z.slice(3)):X.push(Z)}X.length&&me(`Extraneous non-props attributes (${X.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),V.length&&me(`Extraneous non-emits event listeners (${V.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(k_($)||me("Runtime directive used on component with non-element root node. The directives will not function as intended."),$=qn($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&(k_($)||me("Component inside <Transition> renders non-element root node that cannot be animated."),$.transition=n.transition),U?U($):R=$,qd(D),R}const WT=r=>{const e=r.children,n=r.dynamicChildren,i=jm(e,!1);if(i){if(i.patchFlag>0&&i.patchFlag&2048)return WT(i)}else return[r,void 0];const t=e.indexOf(i),a=n?n.indexOf(i):-1,s=l=>{e[t]=l,n&&(a>-1?n[a]=l:l.patchFlag>0&&(r.dynamicChildren=[...n,l]))};return[Bn(i),s]};function jm(r,e=!0){let n;for(let i=0;i<r.length;i++){const t=r[i];if(Ls(t)){if(t.type!==lr||t.children==="v-if"){if(n)return;if(n=t,e&&n.patchFlag>0&&n.patchFlag&2048)return jm(n.children)}}else return}return n}const nk=r=>{let e;for(const n in r)(n==="class"||n==="style"||$l(n))&&((e||(e={}))[n]=r[n]);return e},ik=(r,e)=>{const n={};for(const i in r)(!jd(i)||!(i.slice(9)in e))&&(n[i]=r[i]);return n},k_=r=>r.shapeFlag&7||r.type===lr;function ak(r,e,n){const{props:i,children:t,component:a}=r,{props:s,children:l,patchFlag:d}=e,f=a.emitsOptions;if((t||l)&&Fa||e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return i?D_(i,s,f):!!s;if(d&8){const h=e.dynamicProps;for(let g=0;g<h.length;g++){const v=h[g];if(s[v]!==i[v]&&!Of(f,v))return!0}}}else return(t||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?D_(i,s,f):!0:!!s;return!1}function D_(r,e,n){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let t=0;t<i.length;t++){const a=i[t];if(e[a]!==r[a]&&!Of(n,a))return!0}return!1}function sk({vnode:r,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=n,e=e.parent;else break}}const Gd="components";function mM(r,e){return zT(Gd,r,!0,e)||r}const GT=Symbol.for("v-ndc");function vM(r){return Nt(r)?zT(Gd,r,!1)||r:r||GT}function zT(r,e,n=!0,i=!1){const t=Jt||ir;if(t){const a=t.type;if(r===Gd){const l=wl(a,!1);if(l&&(l===e||l===gi(e)||l===Ps(gi(e))))return a}const s=P_(t[r]||a[r],e)||P_(t.appContext[r],e);if(!s&&i)return a;if(n&&!s){const l=r===Gd?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";me(`Failed to resolve ${r.slice(0,-1)}: ${e}${l}`)}return s}else me(`resolve${Ps(r.slice(0,-1))} can only be used in render() or setup().`)}function P_(r,e){return r&&(r[e]||r[gi(e)]||r[Ps(gi(e))])}const KT=r=>r.__isSuspense;function ok(r,e){e&&e.pendingBranch?Ve(r)?e.effects.push(...r):e.effects.push(r):MT(r)}const uk=Symbol.for("v-scx"),lk=()=>{{const r=an(uk);return r||me("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),r}};function $m(r,e){return Vm(r,null,e)}const ud={};function $n(r,e,n){return Ye(e)||me("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Vm(r,e,n)}function Vm(r,e,{immediate:n,deep:i,flush:t,once:a,onTrack:s,onTrigger:l}=kt){if(e&&a){const H=e;e=(...V)=>{H(...V),te()}}i!==void 0&&typeof i=="number"&&me('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),e||(n!==void 0&&me('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&me('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),a!==void 0&&me('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const d=H=>{me("Invalid watch source: ",H,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},f=ir,h=H=>i===!0?H:_s(H,i===!1?1:void 0);let g,v=!1,T=!1;if(qt(r)?(g=()=>r.value,v=xs(r)):Hi(r)?(g=()=>h(r),v=!0):Ve(r)?(T=!0,v=r.some(H=>Hi(H)||xs(H)),g=()=>r.map(H=>{if(qt(H))return H.value;if(Hi(H))return h(H);if(Ye(H))return qi(H,f,2);d(H)})):Ye(r)?e?g=()=>qi(r,f,2):g=()=>(A&&A(),kn(r,f,3,[P])):(g=xr,d(r)),e&&i){const H=g;g=()=>_s(H())}let A,P=H=>{A=U.onStop=()=>{qi(H,f,4),A=U.onStop=void 0}},D;if(Bf)if(P=xr,e?n&&kn(e,f,3,[g(),T?[]:void 0,P]):g(),t==="sync"){const H=lk();D=H.__watcherHandles||(H.__watcherHandles=[])}else return xr;let R=T?new Array(r.length).fill(ud):ud;const M=()=>{if(!(!U.active||!U.dirty))if(e){const H=U.run();(i||v||(T?H.some((V,X)=>Ba(V,R[X])):Ba(H,R)))&&(A&&A(),kn(e,f,3,[H,R===ud?void 0:T&&R[0]===ud?[]:R,P]),R=H)}else U.run()};M.allowRecurse=!!e;let $;t==="sync"?$=M:t==="post"?$=()=>Tr(M,f&&f.suspense):(M.pre=!0,f&&(M.id=f.uid),$=()=>If(M));const U=new Im(g,xr,$),J=hT(),te=()=>{U.stop(),J&&Am(J.effects,U)};return U.onTrack=s,U.onTrigger=l,e?n?M():R=U.run():t==="post"?Tr(U.run.bind(U),f&&f.suspense):U.run(),D&&D.push(te),te}function ck(r,e,n){const i=this.proxy,t=Nt(r)?r.includes(".")?XT(i,r):()=>i[r]:r.bind(i,i);let a;Ye(e)?a=e:(a=e.handler,n=e);const s=Jl(this),l=Vm(t,a.bind(i),n);return s(),l}function XT(r,e){const n=e.split(".");return()=>{let i=r;for(let t=0;t<n.length&&i;t++)i=i[n[t]];return i}}function _s(r,e=1/0,n){if(e<=0||!_t(r)||r.__v_skip||(n=n||new Set,n.has(r)))return r;if(n.add(r),e--,qt(r))_s(r.value,e,n);else if(Ve(r))for(let i=0;i<r.length;i++)_s(r[i],e,n);else if(aT(r)||bs(r))r.forEach(i=>{_s(i,e,n)});else if(oT(r))for(const i in r)_s(r[i],e,n);return r}function JT(r){HC(r)&&me("Do not use built-in directive ids as custom directive id: "+r)}function _M(r,e){if(Jt===null)return me("withDirectives can only be used inside render functions."),r;const n=Uf(Jt)||Jt.proxy,i=r.dirs||(r.dirs=[]);for(let t=0;t<e.length;t++){let[a,s,l,d=kt]=e[t];a&&(Ye(a)&&(a={mounted:a,updated:a}),a.deep&&_s(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:l,modifiers:d}))}return r}function ls(r,e,n,i){const t=r.dirs,a=e&&e.dirs;for(let s=0;s<t.length;s++){const l=t[s];a&&(l.oldValue=a[s].value);let d=l.dir[i];d&&(ta(),kn(d,n,8,[r.el,l,r,e]),ra())}}const Da=Symbol("_leaveCb"),ld=Symbol("_enterCb");function YT(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kl(()=>{r.isMounted=!0}),Nf(()=>{r.isUnmounting=!0}),r}const wn=[Function,Array],QT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wn,onEnter:wn,onAfterEnter:wn,onEnterCancelled:wn,onBeforeLeave:wn,onLeave:wn,onAfterLeave:wn,onLeaveCancelled:wn,onBeforeAppear:wn,onAppear:wn,onAfterAppear:wn,onAppearCancelled:wn},dk={name:"BaseTransition",props:QT,setup(r,{slots:e}){const n=Ms(),i=YT();return()=>{const t=e.default&&Hm(e.default(),!0);if(!t||!t.length)return;let a=t[0];if(t.length>1){let v=!1;for(const T of t)if(T.type!==lr){if(v){me("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=T,v=!0}}const s=rt(r),{mode:l}=s;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&me(`invalid <transition> mode: ${l}`),i.isLeaving)return jp(a);const d=I_(a);if(!d)return jp(a);const f=xl(d,s,i,n);Lo(d,f);const h=n.subTree,g=h&&I_(h);if(g&&g.type!==lr&&!Ra(d,g)){const v=xl(g,s,i,n);if(Lo(g,v),l==="out-in"&&d.type!==lr)return i.isLeaving=!0,v.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},jp(a);l==="in-out"&&d.type!==lr&&(v.delayLeave=(T,A,P)=>{const D=ZT(i,g);D[String(g.key)]=g,T[Da]=()=>{A(),T[Da]=void 0,delete f.delayedLeave},f.delayedLeave=P})}return a}}},fk=dk;function ZT(r,e){const{leavingVNodes:n}=r;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function xl(r,e,n,i){const{appear:t,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:g,onLeave:v,onAfterLeave:T,onLeaveCancelled:A,onBeforeAppear:P,onAppear:D,onAfterAppear:R,onAppearCancelled:M}=e,$=String(r.key),U=ZT(n,r),J=(V,X)=>{V&&kn(V,i,9,X)},te=(V,X)=>{const K=X[1];J(V,X),Ve(V)?V.every(ee=>ee.length<=1)&&K():V.length<=1&&K()},H={mode:a,persisted:s,beforeEnter(V){let X=l;if(!n.isMounted)if(t)X=P||l;else return;V[Da]&&V[Da](!0);const K=U[$];K&&Ra(r,K)&&K.el[Da]&&K.el[Da](),J(X,[V])},enter(V){let X=d,K=f,ee=h;if(!n.isMounted)if(t)X=D||d,K=R||f,ee=M||h;else return;let Z=!1;const ue=V[ld]=Me=>{Z||(Z=!0,Me?J(ee,[V]):J(K,[V]),H.delayedLeave&&H.delayedLeave(),V[ld]=void 0)};X?te(X,[V,ue]):ue()},leave(V,X){const K=String(r.key);if(V[ld]&&V[ld](!0),n.isUnmounting)return X();J(g,[V]);let ee=!1;const Z=V[Da]=ue=>{ee||(ee=!0,X(),ue?J(A,[V]):J(T,[V]),V[Da]=void 0,U[K]===r&&delete U[K])};U[K]=r,v?te(v,[V,Z]):Z()},clone(V){return xl(V,e,n,i)}};return H}function jp(r){if(zl(r))return r=qn(r),r.children=null,r}function I_(r){if(!zl(r))return r;if(r.component)return r.component.subTree;const{shapeFlag:e,children:n}=r;if(n){if(e&16)return n[0];if(e&32&&Ye(n.default))return n.default()}}function Lo(r,e){r.shapeFlag&6&&r.component?Lo(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Hm(r,e=!1,n){let i=[],t=0;for(let a=0;a<r.length;a++){let s=r[a];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===tn?(s.patchFlag&128&&t++,i=i.concat(Hm(s.children,e,l))):(e||s.type!==lr)&&i.push(l!=null?qn(s,{key:l}):s)}if(t>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Gl(r,e){return Ye(r)?(()=>Rt({name:r.name},e,{setup:r}))():r}const Co=r=>!!r.type.__asyncLoader,zl=r=>r.type.__isKeepAlive,hk={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:e}){const n=Ms(),i=n.ctx;if(!i.renderer)return()=>{const M=e.default&&e.default();return M&&M.length===1?M[0]:M};const t=new Map,a=new Set;let s=null;n.__v_cache=t;const l=n.suspense,{renderer:{p:d,m:f,um:h,o:{createElement:g}}}=i,v=g("div");i.activate=(M,$,U,J,te)=>{const H=M.component;f(M,$,U,0,l),d(H.vnode,M,$,U,H,l,J,M.slotScopeIds,te),Tr(()=>{H.isDeactivated=!1,H.a&&gs(H.a);const V=M.props&&M.props.onVnodeMounted;V&&An(V,H.parent,M)},l),Dg(H)},i.deactivate=M=>{const $=M.component;f(M,v,null,1,l),Tr(()=>{$.da&&gs($.da);const U=M.props&&M.props.onVnodeUnmounted;U&&An(U,$.parent,M),$.isDeactivated=!0},l),Dg($)};function T(M){$p(M),h(M,n,l,!0)}function A(M){t.forEach(($,U)=>{const J=wl($.type);J&&(!M||!M(J))&&P(U)})}function P(M){const $=t.get(M);!s||!Ra($,s)?T($):s&&$p(s),t.delete(M),a.delete(M)}$n(()=>[r.include,r.exclude],([M,$])=>{M&&A(U=>el(M,U)),$&&A(U=>!el($,U))},{flush:"post",deep:!0});let D=null;const R=()=>{D!=null&&t.set(D,Vp(n.subTree))};return Kl(R),qm(R),Nf(()=>{t.forEach(M=>{const{subTree:$,suspense:U}=n,J=Vp($);if(M.type===J.type&&M.key===J.key){$p(J);const te=J.component.da;te&&Tr(te,U);return}T(M)})}),()=>{if(D=null,!e.default)return null;const M=e.default(),$=M[0];if(M.length>1)return me("KeepAlive should contain exactly one component child."),s=null,M;if(!Ls($)||!($.shapeFlag&4)&&!($.shapeFlag&128))return s=null,$;let U=Vp($);const J=U.type,te=wl(Co(U)?U.type.__asyncResolved||{}:J),{include:H,exclude:V,max:X}=r;if(H&&(!te||!el(H,te))||V&&te&&el(V,te))return s=U,$;const K=U.key==null?J:U.key,ee=t.get(K);return U.el&&(U=qn(U),$.shapeFlag&128&&($.ssContent=U)),D=K,ee?(U.el=ee.el,U.component=ee.component,U.transition&&Lo(U,U.transition),U.shapeFlag|=512,a.delete(K),a.add(K)):(a.add(K),X&&a.size>parseInt(X,10)&&P(a.values().next().value)),U.shapeFlag|=256,s=U,KT($.type)?$:U}}},yM=hk;function el(r,e){return Ve(r)?r.some(n=>el(n,e)):Nt(r)?r.split(",").includes(e):VC(r)?r.test(e):!1}function pk(r,e){eS(r,"a",e)}function gk(r,e){eS(r,"da",e)}function eS(r,e,n=ir){const i=r.__wdc||(r.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return r()});if(Rf(e,i,n),n){let t=n.parent;for(;t&&t.parent;)zl(t.parent.vnode)&&mk(i,e,n,t),t=t.parent}}function mk(r,e,n,i){const t=Rf(e,r,i,!0);Ff(()=>{Am(i[e],t)},n)}function $p(r){r.shapeFlag&=-257,r.shapeFlag&=-513}function Vp(r){return r.shapeFlag&128?r.ssContent:r}function Rf(r,e,n=ir,i=!1){if(n){const t=n[r]||(n[r]=[]),a=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;ta();const l=Jl(n),d=kn(e,n,r,s);return l(),ra(),d});return i?t.unshift(a):t.push(a),a}else{const t=hs(Fm[r].replace(/ hook$/,""));me(`${t} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const na=r=>(e,n=ir)=>(!Bf||r==="sp")&&Rf(r,(...i)=>e(...i),n),vk=na("bm"),Kl=na("m"),_k=na("bu"),qm=na("u"),Nf=na("bum"),Ff=na("um"),yk=na("sp"),bk=na("rtg"),Tk=na("rtc");function Sk(r,e=ir){Rf("ec",r,e)}function bM(r,e,n,i){let t;const a=n&&n[i];if(Ve(r)||Nt(r)){t=new Array(r.length);for(let s=0,l=r.length;s<l;s++)t[s]=e(r[s],s,void 0,a&&a[s])}else if(typeof r=="number"){Number.isInteger(r)||me(`The v-for range expect an integer value but got ${r}.`),t=new Array(r);for(let s=0;s<r;s++)t[s]=e(s+1,s,void 0,a&&a[s])}else if(_t(r))if(r[Symbol.iterator])t=Array.from(r,(s,l)=>e(s,l,void 0,a&&a[l]));else{const s=Object.keys(r);t=new Array(s.length);for(let l=0,d=s.length;l<d;l++){const f=s[l];t[l]=e(r[f],f,l,a&&a[l])}}else t=[];return n&&(n[i]=t),t}function TM(r,e,n={},i,t){if(Jt.isCE||Jt.parent&&Co(Jt.parent)&&Jt.parent.isCE)return e!=="default"&&(n.name=e),Mr("slot",n,i&&i());let a=r[e];a&&a.length>1&&(me("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),a=()=>[]),a&&a._c&&(a._d=!1),Mf();const s=a&&tS(a(n)),l=Km(tn,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&r._===1?64:-2);return!t&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function tS(r){return r.some(e=>Ls(e)?!(e.type===lr||e.type===tn&&!tS(e.children)):!0)?r:null}const Ig=r=>r?bS(r)?Uf(r)||r.proxy:Ig(r.parent):null,ws=Rt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>oi(r.props),$attrs:r=>oi(r.attrs),$slots:r=>oi(r.slots),$refs:r=>oi(r.refs),$parent:r=>Ig(r.parent),$root:r=>Ig(r.root),$emit:r=>r.emit,$options:r=>Gm(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,If(r.update)}),$nextTick:r=>r.n||(r.n=Hd.bind(r.proxy)),$watch:r=>ck.bind(r)}),Wm=r=>r==="_"||r==="$",Hp=(r,e)=>r!==kt&&!r.__isScriptSetup&&ft(r,e),rS={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:t,props:a,accessCache:s,type:l,appContext:d}=r;if(e==="__isVue")return!0;let f;if(e[0]!=="$"){const T=s[e];if(T!==void 0)switch(T){case 1:return i[e];case 2:return t[e];case 4:return n[e];case 3:return a[e]}else{if(Hp(i,e))return s[e]=1,i[e];if(t!==kt&&ft(t,e))return s[e]=2,t[e];if((f=r.propsOptions[0])&&ft(f,e))return s[e]=3,a[e];if(n!==kt&&ft(n,e))return s[e]=4,n[e];Og&&(s[e]=0)}}const h=ws[e];let g,v;if(h)return e==="$attrs"?(Ur(r.attrs,"get",""),Wd()):e==="$slots"&&Ur(r,"get",e),h(r);if((g=l.__cssModules)&&(g=g[e]))return g;if(n!==kt&&ft(n,e))return s[e]=4,n[e];if(v=d.config.globalProperties,ft(v,e))return v[e];Jt&&(!Nt(e)||e.indexOf("__v")!==0)&&(t!==kt&&Wm(e[0])&&ft(t,e)?me(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):r===Jt&&me(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:r},e,n){const{data:i,setupState:t,ctx:a}=r;return Hp(t,e)?(t[e]=n,!0):t.__isScriptSetup&&ft(t,e)?(me(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):i!==kt&&ft(i,e)?(i[e]=n,!0):ft(r.props,e)?(me(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in r?(me(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in r.appContext.config.globalProperties?Object.defineProperty(a,e,{enumerable:!0,configurable:!0,value:n}):a[e]=n,!0)},has({_:{data:r,setupState:e,accessCache:n,ctx:i,appContext:t,propsOptions:a}},s){let l;return!!n[s]||r!==kt&&ft(r,s)||Hp(e,s)||(l=a[0])&&ft(l,s)||ft(i,s)||ft(ws,s)||ft(t.config.globalProperties,s)},defineProperty(r,e,n){return n.get!=null?r._.accessCache[e]=0:ft(n,"value")&&this.set(r,e,n.value,null),Reflect.defineProperty(r,e,n)}};rS.ownKeys=r=>(me("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(r));function xk(r){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>r}),Object.keys(ws).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>ws[n](r),set:xr})}),e}function Ek(r){const{ctx:e,propsOptions:[n]}=r;n&&Object.keys(n).forEach(i=>{Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.props[i],set:xr})})}function wk(r){const{ctx:e,setupState:n}=r;Object.keys(rt(n)).forEach(i=>{if(!n.__isScriptSetup){if(Wm(i[0])){me(`setup() return property ${JSON.stringify(i)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n[i],set:xr})}})}function O_(r){return Ve(r)?r.reduce((e,n)=>(e[n]=null,e),{}):r}function Ck(){const r=Object.create(null);return(e,n)=>{r[n]?me(`${e} property "${n}" is already defined in ${r[n]}.`):r[n]=e}}let Og=!0;function Ak(r){const e=Gm(r),n=r.proxy,i=r.ctx;Og=!1,e.beforeCreate&&L_(e.beforeCreate,r,"bc");const{data:t,computed:a,methods:s,watch:l,provide:d,inject:f,created:h,beforeMount:g,mounted:v,beforeUpdate:T,updated:A,activated:P,deactivated:D,beforeDestroy:R,beforeUnmount:M,destroyed:$,unmounted:U,render:J,renderTracked:te,renderTriggered:H,errorCaptured:V,serverPrefetch:X,expose:K,inheritAttrs:ee,components:Z,directives:ue,filters:Me}=e,Ue=Ck();{const[ge]=r.propsOptions;if(ge)for(const Ee in ge)Ue("Props",Ee)}if(f&&kk(f,i,Ue),s)for(const ge in s){const Ee=s[ge];Ye(Ee)?(Object.defineProperty(i,ge,{value:Ee.bind(n),configurable:!0,enumerable:!0,writable:!0}),Ue("Methods",ge)):me(`Method "${ge}" has type "${typeof Ee}" in the component definition. Did you reference the function correctly?`)}if(t){Ye(t)||me("The data option must be a function. Plain object usage is no longer supported.");const ge=t.call(n,n);if(km(ge)&&me("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!_t(ge))me("data() should return an object.");else{r.data=Hl(ge);for(const Ee in ge)Ue("Data",Ee),Wm(Ee[0])||Object.defineProperty(i,Ee,{configurable:!0,enumerable:!0,get:()=>ge[Ee],set:xr})}}if(Og=!0,a)for(const ge in a){const Ee=a[ge],mt=Ye(Ee)?Ee.bind(n,n):Ye(Ee.get)?Ee.get.bind(n,n):xr;mt===xr&&me(`Computed property "${ge}" has no getter.`);const lt=!Ye(Ee)&&Ye(Ee.set)?Ee.set.bind(n):()=>{me(`Write operation failed: computed property "${ge}" is readonly.`)},wr=Fr({get:mt,set:lt});Object.defineProperty(i,ge,{enumerable:!0,configurable:!0,get:()=>wr.value,set:It=>wr.value=It}),Ue("Computed",ge)}if(l)for(const ge in l)nS(l[ge],i,n,ge);if(d){const ge=Ye(d)?d.call(n):d;Reflect.ownKeys(ge).forEach(Ee=>{Pd(Ee,ge[Ee])})}h&&L_(h,r,"c");function ke(ge,Ee){Ve(Ee)?Ee.forEach(mt=>ge(mt.bind(n))):Ee&&ge(Ee.bind(n))}if(ke(vk,g),ke(Kl,v),ke(_k,T),ke(qm,A),ke(pk,P),ke(gk,D),ke(Sk,V),ke(Tk,te),ke(bk,H),ke(Nf,M),ke(Ff,U),ke(yk,X),Ve(K))if(K.length){const ge=r.exposed||(r.exposed={});K.forEach(Ee=>{Object.defineProperty(ge,Ee,{get:()=>n[Ee],set:mt=>n[Ee]=mt})})}else r.exposed||(r.exposed={});J&&r.render===xr&&(r.render=J),ee!=null&&(r.inheritAttrs=ee),Z&&(r.components=Z),ue&&(r.directives=ue)}function kk(r,e,n=xr){Ve(r)&&(r=Lg(r));for(const i in r){const t=r[i];let a;_t(t)?"default"in t?a=an(t.from||i,t.default,!0):a=an(t.from||i):a=an(t),qt(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[i]=a,n("Inject",i)}}function L_(r,e,n){kn(Ve(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,n)}function nS(r,e,n,i){const t=i.includes(".")?XT(n,i):()=>n[i];if(Nt(r)){const a=e[r];Ye(a)?$n(t,a):me(`Invalid watch handler specified by key "${r}"`,a)}else if(Ye(r))$n(t,r.bind(n));else if(_t(r))if(Ve(r))r.forEach(a=>nS(a,e,n,i));else{const a=Ye(r.handler)?r.handler.bind(n):e[r.handler];Ye(a)?$n(t,a,r):me(`Invalid watch handler specified by key "${r.handler}"`,a)}else me(`Invalid watch option: "${i}"`,r)}function Gm(r){const e=r.type,{mixins:n,extends:i}=e,{mixins:t,optionsCache:a,config:{optionMergeStrategies:s}}=r.appContext,l=a.get(e);let d;return l?d=l:!t.length&&!n&&!i?d=e:(d={},t.length&&t.forEach(f=>zd(d,f,s,!0)),zd(d,e,s)),_t(e)&&a.set(e,d),d}function zd(r,e,n,i=!1){const{mixins:t,extends:a}=e;a&&zd(r,a,n,!0),t&&t.forEach(s=>zd(r,s,n,!0));for(const s in e)if(i&&s==="expose")me('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=Dk[s]||n&&n[s];r[s]=l?l(r[s],e[s]):e[s]}return r}const Dk={data:R_,props:N_,emits:N_,methods:tl,computed:tl,beforeCreate:Vr,created:Vr,beforeMount:Vr,mounted:Vr,beforeUpdate:Vr,updated:Vr,beforeDestroy:Vr,beforeUnmount:Vr,destroyed:Vr,unmounted:Vr,activated:Vr,deactivated:Vr,errorCaptured:Vr,serverPrefetch:Vr,components:tl,directives:tl,watch:Ik,provide:R_,inject:Pk};function R_(r,e){return e?r?function(){return Rt(Ye(r)?r.call(this,this):r,Ye(e)?e.call(this,this):e)}:e:r}function Pk(r,e){return tl(Lg(r),Lg(e))}function Lg(r){if(Ve(r)){const e={};for(let n=0;n<r.length;n++)e[r[n]]=r[n];return e}return r}function Vr(r,e){return r?[...new Set([].concat(r,e))]:e}function tl(r,e){return r?Rt(Object.create(null),r,e):e}function N_(r,e){return r?Ve(r)&&Ve(e)?[...new Set([...r,...e])]:Rt(Object.create(null),O_(r),O_(e!=null?e:{})):e}function Ik(r,e){if(!r)return e;if(!e)return r;const n=Rt(Object.create(null),r);for(const i in e)n[i]=Vr(r[i],e[i]);return n}function iS(){return{app:null,config:{isNativeTag:jC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ok=0;function Lk(r,e){return function(i,t=null){Ye(i)||(i=Rt({},i)),t!=null&&!_t(t)&&(me("root props passed to app.mount() must be an object."),t=null);const a=iS(),s=new WeakSet;let l=!1;const d=a.app={_uid:Ok++,_component:i,_props:t,_container:null,_context:a,_instance:null,version:G_,get config(){return a.config},set config(f){me("app.config cannot be replaced. Modify individual options instead.")},use(f,...h){return s.has(f)?me("Plugin has already been applied to target app."):f&&Ye(f.install)?(s.add(f),f.install(d,...h)):Ye(f)?(s.add(f),f(d,...h)):me('A plugin must either be a function or an object with an "install" function.'),d},mixin(f){return a.mixins.includes(f)?me("Mixin has already been applied to target app"+(f.name?`: ${f.name}`:"")):a.mixins.push(f),d},component(f,h){return Ug(f,a.config),h?(a.components[f]&&me(`Component "${f}" has already been registered in target app.`),a.components[f]=h,d):a.components[f]},directive(f,h){return JT(f),h?(a.directives[f]&&me(`Directive "${f}" has already been registered in target app.`),a.directives[f]=h,d):a.directives[f]},mount(f,h,g){if(l)me("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{f.__vue_app__&&me("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const v=Mr(i,t);return v.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),a.reload=()=>{r(qn(v),f,g)},h&&e?e(v,f):r(v,f,g),l=!0,d._container=f,f.__vue_app__=d,d._instance=v.component,KA(d,G_),Uf(v.component)||v.component.proxy}},unmount(){l?(r(null,d._container),d._instance=null,XA(d),delete d._container.__vue_app__):me("Cannot unmount an app that is not mounted.")},provide(f,h){return f in a.provides&&me(`App already provides property with key "${String(f)}". It will be overwritten with the new value.`),a.provides[f]=h,d},runWithContext(f){const h=Ao;Ao=d;try{return f()}finally{Ao=h}}};return d}}let Ao=null;function Pd(r,e){if(!ir)me("provide() can only be used inside setup().");else{let n=ir.provides;const i=ir.parent&&ir.parent.provides;i===n&&(n=ir.provides=Object.create(i)),n[r]=e}}function an(r,e,n=!1){const i=ir||Jt;if(i||Ao){const t=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ao._context.provides;if(t&&r in t)return t[r];if(arguments.length>1)return n&&Ye(e)?e.call(i&&i.proxy):e;me(`injection "${String(r)}" not found.`)}else me("inject() can only be used inside setup() or functional components.")}function Rk(){return!!(ir||Jt||Ao)}const aS={},sS=()=>Object.create(aS),oS=r=>Object.getPrototypeOf(r)===aS;function Nk(r,e,n,i=!1){const t={},a=sS();r.propsDefaults=Object.create(null),uS(r,e,t,a);for(const s in r.propsOptions[0])s in t||(t[s]=void 0);cS(e||{},t,r),n?r.props=i?t:kT(t):r.type.props?r.props=t:r.props=a,r.attrs=a}function Fk(r){for(;r;){if(r.type.__hmrId)return!0;r=r.parent}}function Mk(r,e,n,i){const{props:t,attrs:a,vnode:{patchFlag:s}}=r,l=rt(t),[d]=r.propsOptions;let f=!1;if(!Fk(r)&&(i||s>0)&&!(s&16)){if(s&8){const h=r.vnode.dynamicProps;for(let g=0;g<h.length;g++){let v=h[g];if(Of(r.emitsOptions,v))continue;const T=e[v];if(d)if(ft(a,v))T!==a[v]&&(a[v]=T,f=!0);else{const A=gi(v);t[A]=Rg(d,l,A,T,r,!1)}else T!==a[v]&&(a[v]=T,f=!0)}}}else{uS(r,e,t,a)&&(f=!0);let h;for(const g in l)(!e||!ft(e,g)&&((h=Ma(g))===g||!ft(e,h)))&&(d?n&&(n[g]!==void 0||n[h]!==void 0)&&(t[g]=Rg(d,l,g,void 0,r,!0)):delete t[g]);if(a!==l)for(const g in a)(!e||!ft(e,g)&&!0)&&(delete a[g],f=!0)}f&&di(r.attrs,"set",""),cS(e||{},t,r)}function uS(r,e,n,i){const[t,a]=r.propsOptions;let s=!1,l;if(e)for(let d in e){if(ll(d))continue;const f=e[d];let h;t&&ft(t,h=gi(d))?!a||!a.includes(h)?n[h]=f:(l||(l={}))[h]=f:Of(r.emitsOptions,d)||(!(d in i)||f!==i[d])&&(i[d]=f,s=!0)}if(a){const d=rt(n),f=l||kt;for(let h=0;h<a.length;h++){const g=a[h];n[g]=Rg(t,d,g,f[g],r,!ft(f,g))}}return s}function Rg(r,e,n,i,t,a){const s=r[n];if(s!=null){const l=ft(s,"default");if(l&&i===void 0){const d=s.default;if(s.type!==Function&&!s.skipFactory&&Ye(d)){const{propsDefaults:f}=t;if(n in f)i=f[n];else{const h=Jl(t);i=f[n]=d.call(null,e),h()}}else i=d}s[0]&&(a&&!l?i=!1:s[1]&&(i===""||i===Ma(n))&&(i=!0))}return i}function lS(r,e,n=!1){const i=e.propsCache,t=i.get(r);if(t)return t;const a=r.props,s={},l=[];let d=!1;if(!Ye(r)){const h=g=>{d=!0;const[v,T]=lS(g,e,!0);Rt(s,v),T&&l.push(...T)};!n&&e.mixins.length&&e.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}if(!a&&!d)return _t(r)&&i.set(r,xo),xo;if(Ve(a))for(let h=0;h<a.length;h++){Nt(a[h])||me("props must be strings when using array syntax.",a[h]);const g=gi(a[h]);F_(g)&&(s[g]=kt)}else if(a){_t(a)||me("invalid props options",a);for(const h in a){const g=gi(h);if(F_(g)){const v=a[h],T=s[g]=Ve(v)||Ye(v)?{type:v}:Rt({},v);if(T){const A=B_(Boolean,T.type),P=B_(String,T.type);T[0]=A>-1,T[1]=P<0||A<P,(A>-1||ft(T,"default"))&&l.push(g)}}}}const f=[s,l];return _t(r)&&i.set(r,f),f}function F_(r){return r[0]!=="$"&&!ll(r)?!0:(me(`Invalid prop name: "${r}" is a reserved property.`),!1)}function Ng(r){return r===null?"null":typeof r=="function"?r.name||"":typeof r=="object"&&r.constructor&&r.constructor.name||""}function M_(r,e){return Ng(r)===Ng(e)}function B_(r,e){return Ve(e)?e.findIndex(n=>M_(n,r)):Ye(e)&&M_(e,r)?0:-1}function cS(r,e,n){const i=rt(e),t=n.propsOptions[0];for(const a in t){let s=t[a];s!=null&&Bk(a,i[a],s,oi(i),!ft(r,a)&&!ft(r,Ma(a)))}}function Bk(r,e,n,i,t){const{type:a,required:s,validator:l,skipCheck:d}=n;if(s&&t){me('Missing required prop: "'+r+'"');return}if(!(e==null&&!s)){if(a!=null&&a!==!0&&!d){let f=!1;const h=Ve(a)?a:[a],g=[];for(let v=0;v<h.length&&!f;v++){const{valid:T,expectedType:A}=jk(e,h[v]);g.push(A||""),f=T}if(!f){me($k(r,e,g));return}}l&&!l(e,i)&&me('Invalid prop: custom validator check failed for prop "'+r+'".')}}const Uk=ea("String,Number,Boolean,Function,Symbol,BigInt");function jk(r,e){let n;const i=Ng(e);if(Uk(i)){const t=typeof r;n=t===i.toLowerCase(),!n&&t==="object"&&(n=r instanceof e)}else i==="Object"?n=_t(r):i==="Array"?n=Ve(r):i==="null"?n=r===null:n=r instanceof e;return{valid:n,expectedType:i}}function $k(r,e,n){if(n.length===0)return`Prop type [] for prop "${r}" won't match anything. Did you mean to use type Array instead?`;let i=`Invalid prop: type check failed for prop "${r}". Expected ${n.map(Ps).join(" | ")}`;const t=n[0],a=Dm(e),s=U_(e,t),l=U_(e,a);return n.length===1&&j_(t)&&!Vk(t,a)&&(i+=` with value ${s}`),i+=`, got ${a} `,j_(a)&&(i+=`with value ${l}.`),i}function U_(r,e){return e==="String"?`"${r}"`:e==="Number"?`${Number(r)}`:`${r}`}function j_(r){return["string","number","boolean"].some(n=>r.toLowerCase()===n)}function Vk(...r){return r.some(e=>e.toLowerCase()==="boolean")}const dS=r=>r[0]==="_"||r==="$stable",zm=r=>Ve(r)?r.map(Bn):[Bn(r)],Hk=(r,e,n)=>{if(e._n)return e;const i=rk((...t)=>(ir&&(!n||n.root===ir.root)&&me(`Slot "${r}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),zm(e(...t))),n);return i._c=!1,i},fS=(r,e,n)=>{const i=r._ctx;for(const t in r){if(dS(t))continue;const a=r[t];if(Ye(a))e[t]=Hk(t,a,i);else if(a!=null){me(`Non-function value encountered for slot "${t}". Prefer function slots for better performance.`);const s=zm(a);e[t]=()=>s}}},hS=(r,e)=>{zl(r.vnode)||me("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=zm(e);r.slots.default=()=>n},qk=(r,e)=>{const n=r.slots=sS();if(r.vnode.shapeFlag&32){const i=e._;i?(Rt(n,e),uT(n,"_",i,!0)):fS(e,n)}else e&&hS(r,e)},Wk=(r,e,n)=>{const{vnode:i,slots:t}=r;let a=!0,s=kt;if(i.shapeFlag&32){const l=e._;l?Fa?(Rt(t,e),di(r,"set","$slots")):n&&l===1?a=!1:(Rt(t,e),!n&&l===1&&delete t._):(a=!e.$stable,fS(e,t)),s=e}else e&&(hS(r,e),s={default:1});if(a)for(const l in t)!dS(l)&&s[l]==null&&delete t[l]};function Fg(r,e,n,i,t=!1){if(Ve(r)){r.forEach((v,T)=>Fg(v,e&&(Ve(e)?e[T]:e),n,i,t));return}if(Co(i)&&!t)return;const a=i.shapeFlag&4?Uf(i.component)||i.component.proxy:i.el,s=t?null:a,{i:l,r:d}=r;if(!l){me("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const f=e&&e.r,h=l.refs===kt?l.refs={}:l.refs,g=l.setupState;if(f!=null&&f!==d&&(Nt(f)?(h[f]=null,ft(g,f)&&(g[f]=null)):qt(f)&&(f.value=null)),Ye(d))qi(d,l,12,[s,h]);else{const v=Nt(d),T=qt(d);if(v||T){const A=()=>{if(r.f){const P=v?ft(g,d)?g[d]:h[d]:d.value;t?Ve(P)&&Am(P,a):Ve(P)?P.includes(a)||P.push(a):v?(h[d]=[a],ft(g,d)&&(g[d]=h[d])):(d.value=[a],r.k&&(h[r.k]=d.value))}else v?(h[d]=s,ft(g,d)&&(g[d]=s)):T?(d.value=s,r.k&&(h[r.k]=s)):me("Invalid template ref type:",d,`(${typeof d})`)};s?(A.id=-1,Tr(A,n)):A()}else me("Invalid template ref type:",d,`(${typeof d})`)}}let $u,La;function Ni(r,e){r.appContext.config.performance&&Kd()&&La.mark(`vue-${e}-${r.uid}`),QA(r,e,Kd()?La.now():Date.now())}function Fi(r,e){if(r.appContext.config.performance&&Kd()){const n=`vue-${e}-${r.uid}`,i=n+":end";La.mark(i),La.measure(`<${jf(r,r.type)}> ${e}`,n,i),La.clearMarks(n),La.clearMarks(i)}ZA(r,e,Kd()?La.now():Date.now())}function Kd(){return $u!==void 0||(typeof window<"u"&&window.performance?($u=!0,La=window.performance):$u=!1),$u}function Gk(){const r=[];if(typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(r.push("__VUE_PROD_HYDRATION_MISMATCH_DETAILS__"),Cf().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),r.length){const e=r.length>1;console.warn(`Feature flag${e?"s":""} ${r.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Tr=ok;function zk(r){return Kk(r)}function Kk(r,e){Gk();const n=Cf();n.__VUE__=!0,$T(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:i,remove:t,patchProp:a,createElement:s,createText:l,createComment:d,setText:f,setElementText:h,parentNode:g,nextSibling:v,setScopeId:T=xr,insertStaticContent:A}=r,P=(F,W,re,ie=null,de=null,oe=null,we=void 0,ce=null,Te=Fa?!1:!!W.dynamicChildren)=>{if(F===W)return;F&&!Ra(F,W)&&(ie=ye(F),Bt(F,de,oe,!0),F=null),W.patchFlag===-2&&(Te=!1,W.dynamicChildren=null);const{type:fe,ref:Pe,shapeFlag:Oe}=W;switch(fe){case Xl:D(F,W,re,ie);break;case lr:R(F,W,re,ie);break;case dl:F==null?M(W,re,ie,we):$(F,W,re,we);break;case tn:ue(F,W,re,ie,de,oe,we,ce,Te);break;default:Oe&1?te(F,W,re,ie,de,oe,we,ce,Te):Oe&6?Me(F,W,re,ie,de,oe,we,ce,Te):Oe&64||Oe&128?fe.process(F,W,re,ie,de,oe,we,ce,Te,Ze):me("Invalid VNode type:",fe,`(${typeof fe})`)}Pe!=null&&de&&Fg(Pe,F&&F.ref,oe,W||F,!W)},D=(F,W,re,ie)=>{if(F==null)i(W.el=l(W.children),re,ie);else{const de=W.el=F.el;W.children!==F.children&&f(de,W.children)}},R=(F,W,re,ie)=>{F==null?i(W.el=d(W.children||""),re,ie):W.el=F.el},M=(F,W,re,ie)=>{[F.el,F.anchor]=A(F.children,W,re,ie,F.el,F.anchor)},$=(F,W,re,ie)=>{if(W.children!==F.children){const de=v(F.anchor);J(F),[W.el,W.anchor]=A(W.children,re,de,ie)}else W.el=F.el,W.anchor=F.anchor},U=({el:F,anchor:W},re,ie)=>{let de;for(;F&&F!==W;)de=v(F),i(F,re,ie),F=de;i(W,re,ie)},J=({el:F,anchor:W})=>{let re;for(;F&&F!==W;)re=v(F),t(F),F=re;t(W)},te=(F,W,re,ie,de,oe,we,ce,Te)=>{W.type==="svg"?we="svg":W.type==="math"&&(we="mathml"),F==null?H(W,re,ie,de,oe,we,ce,Te):K(F,W,de,oe,we,ce,Te)},H=(F,W,re,ie,de,oe,we,ce)=>{let Te,fe;const{props:Pe,shapeFlag:Oe,transition:Be,dirs:Ke}=F;if(Te=F.el=s(F.type,oe,Pe&&Pe.is,Pe),Oe&8?h(Te,F.children):Oe&16&&X(F.children,Te,null,ie,de,qp(F,oe),we,ce),Ke&&ls(F,null,ie,"created"),V(Te,F,F.scopeId,we,ie),Pe){for(const ot in Pe)ot!=="value"&&!ll(ot)&&a(Te,ot,null,Pe[ot],oe,F.children,ie,de,ne);"value"in Pe&&a(Te,"value",null,Pe.value,oe),(fe=Pe.onVnodeBeforeMount)&&An(fe,ie,F)}Object.defineProperty(Te,"__vnode",{value:F,enumerable:!1}),Object.defineProperty(Te,"__vueParentComponent",{value:ie,enumerable:!1}),Ke&&ls(F,null,ie,"beforeMount");const it=Xk(de,Be);it&&Be.beforeEnter(Te),i(Te,W,re),((fe=Pe&&Pe.onVnodeMounted)||it||Ke)&&Tr(()=>{fe&&An(fe,ie,F),it&&Be.enter(Te),Ke&&ls(F,null,ie,"mounted")},de)},V=(F,W,re,ie,de)=>{if(re&&T(F,re),ie)for(let oe=0;oe<ie.length;oe++)T(F,ie[oe]);if(de){let oe=de.subTree;if(oe.patchFlag>0&&oe.patchFlag&2048&&(oe=jm(oe.children)||oe),W===oe){const we=de.vnode;V(F,we,we.scopeId,we.slotScopeIds,de.parent)}}},X=(F,W,re,ie,de,oe,we,ce,Te=0)=>{for(let fe=Te;fe<F.length;fe++){const Pe=F[fe]=ce?Pa(F[fe]):Bn(F[fe]);P(null,Pe,W,re,ie,de,oe,we,ce)}},K=(F,W,re,ie,de,oe,we)=>{const ce=W.el=F.el;let{patchFlag:Te,dynamicChildren:fe,dirs:Pe}=W;Te|=F.patchFlag&16;const Oe=F.props||kt,Be=W.props||kt;let Ke;if(re&&cs(re,!1),(Ke=Be.onVnodeBeforeUpdate)&&An(Ke,re,W,F),Pe&&ls(W,F,re,"beforeUpdate"),re&&cs(re,!0),Fa&&(Te=0,we=!1,fe=null),fe?(ee(F.dynamicChildren,fe,ce,re,ie,qp(W,de),oe),Xd(F,W)):we||mt(F,W,ce,null,re,ie,qp(W,de),oe,!1),Te>0){if(Te&16)Z(ce,W,Oe,Be,re,ie,de);else if(Te&2&&Oe.class!==Be.class&&a(ce,"class",null,Be.class,de),Te&4&&a(ce,"style",Oe.style,Be.style,de),Te&8){const it=W.dynamicProps;for(let ot=0;ot<it.length;ot++){const St=it[ot],We=Oe[St],Ar=Be[St];(Ar!==We||St==="value")&&a(ce,St,We,Ar,de,F.children,re,ie,ne)}}Te&1&&F.children!==W.children&&h(ce,W.children)}else!we&&fe==null&&Z(ce,W,Oe,Be,re,ie,de);((Ke=Be.onVnodeUpdated)||Pe)&&Tr(()=>{Ke&&An(Ke,re,W,F),Pe&&ls(W,F,re,"updated")},ie)},ee=(F,W,re,ie,de,oe,we)=>{for(let ce=0;ce<W.length;ce++){const Te=F[ce],fe=W[ce],Pe=Te.el&&(Te.type===tn||!Ra(Te,fe)||Te.shapeFlag&70)?g(Te.el):re;P(Te,fe,Pe,null,ie,de,oe,we,!0)}},Z=(F,W,re,ie,de,oe,we)=>{if(re!==ie){if(re!==kt)for(const ce in re)!ll(ce)&&!(ce in ie)&&a(F,ce,re[ce],null,we,W.children,de,oe,ne);for(const ce in ie){if(ll(ce))continue;const Te=ie[ce],fe=re[ce];Te!==fe&&ce!=="value"&&a(F,ce,fe,Te,we,W.children,de,oe,ne)}"value"in ie&&a(F,"value",re.value,ie.value,we)}},ue=(F,W,re,ie,de,oe,we,ce,Te)=>{const fe=W.el=F?F.el:l(""),Pe=W.anchor=F?F.anchor:l("");let{patchFlag:Oe,dynamicChildren:Be,slotScopeIds:Ke}=W;(Fa||Oe&2048)&&(Oe=0,Te=!1,Be=null),Ke&&(ce=ce?ce.concat(Ke):Ke),F==null?(i(fe,re,ie),i(Pe,re,ie),X(W.children||[],re,Pe,de,oe,we,ce,Te)):Oe>0&&Oe&64&&Be&&F.dynamicChildren?(ee(F.dynamicChildren,Be,re,de,oe,we,ce),Xd(F,W)):mt(F,W,re,Pe,de,oe,we,ce,Te)},Me=(F,W,re,ie,de,oe,we,ce,Te)=>{W.slotScopeIds=ce,F==null?W.shapeFlag&512?de.ctx.activate(W,re,ie,we,Te):Ue(W,re,ie,de,oe,we,Te):ke(F,W,Te)},Ue=(F,W,re,ie,de,oe,we)=>{const ce=F.component=lD(F,ie,de);if(ce.type.__hmrId&&qA(ce),kd(F),Ni(ce,"mount"),zl(F)&&(ce.ctx.renderer=Ze),Ni(ce,"init"),dD(ce),Fi(ce,"init"),ce.asyncDep){if(de&&de.registerDep(ce,ge),!F.el){const Te=ce.subTree=Mr(lr);R(null,Te,W,re)}}else ge(ce,F,W,re,de,oe,we);Dd(),Fi(ce,"mount")},ke=(F,W,re)=>{const ie=W.component=F.component;if(ak(F,W,re))if(ie.asyncDep&&!ie.asyncResolved){kd(W),Ee(ie,W,re),Dd();return}else ie.next=W,VA(ie.update),ie.effect.dirty=!0,ie.update();else W.el=F.el,ie.vnode=W},ge=(F,W,re,ie,de,oe,we)=>{const ce=()=>{if(F.isMounted){let{next:Pe,bu:Oe,u:Be,parent:Ke,vnode:it}=F;{const On=pS(F);if(On){Pe&&(Pe.el=it.el,Ee(F,Pe,we)),On.asyncDep.then(()=>{F.isUnmounted||ce()});return}}let ot=Pe,St;kd(Pe||F.vnode),cs(F,!1),Pe?(Pe.el=it.el,Ee(F,Pe,we)):Pe=it,Oe&&gs(Oe),(St=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&An(St,Ke,Pe,it),cs(F,!0),Ni(F,"render");const We=Up(F);Fi(F,"render");const Ar=F.subTree;F.subTree=We,Ni(F,"patch"),P(Ar,We,g(Ar.el),ye(Ar),F,de,oe),Fi(F,"patch"),Pe.el=We.el,ot===null&&sk(F,We.el),Be&&Tr(Be,de),(St=Pe.props&&Pe.props.onVnodeUpdated)&&Tr(()=>An(St,Ke,Pe,it),de),VT(F),Dd()}else{let Pe;const{el:Oe,props:Be}=W,{bm:Ke,m:it,parent:ot}=F,St=Co(W);if(cs(F,!1),Ke&&gs(Ke),!St&&(Pe=Be&&Be.onVnodeBeforeMount)&&An(Pe,ot,W),cs(F,!0),Oe&&nt){const We=()=>{Ni(F,"render"),F.subTree=Up(F),Fi(F,"render"),Ni(F,"hydrate"),nt(Oe,F.subTree,F,de,null),Fi(F,"hydrate")};St?W.type.__asyncLoader().then(()=>!F.isUnmounted&&We()):We()}else{Ni(F,"render");const We=F.subTree=Up(F);Fi(F,"render"),Ni(F,"patch"),P(null,We,re,ie,F,de,oe),Fi(F,"patch"),W.el=We.el}if(it&&Tr(it,de),!St&&(Pe=Be&&Be.onVnodeMounted)){const We=W;Tr(()=>An(Pe,ot,We),de)}(W.shapeFlag&256||ot&&Co(ot.vnode)&&ot.vnode.shapeFlag&256)&&F.a&&Tr(F.a,de),F.isMounted=!0,Dg(F),W=re=ie=null}},Te=F.effect=new Im(ce,xr,()=>If(fe),F.scope),fe=F.update=()=>{Te.dirty&&Te.run()};fe.id=F.uid,cs(F,!0),Te.onTrack=F.rtc?Pe=>gs(F.rtc,Pe):void 0,Te.onTrigger=F.rtg?Pe=>gs(F.rtg,Pe):void 0,fe.ownerInstance=F,fe()},Ee=(F,W,re)=>{W.component=F;const ie=F.vnode.props;F.vnode=W,F.next=null,Mk(F,W.props,ie,re),Wk(F,W.children,re),ta(),C_(F),ra()},mt=(F,W,re,ie,de,oe,we,ce,Te=!1)=>{const fe=F&&F.children,Pe=F?F.shapeFlag:0,Oe=W.children,{patchFlag:Be,shapeFlag:Ke}=W;if(Be>0){if(Be&128){wr(fe,Oe,re,ie,de,oe,we,ce,Te);return}else if(Be&256){lt(fe,Oe,re,ie,de,oe,we,ce,Te);return}}Ke&8?(Pe&16&&ne(fe,de,oe),Oe!==fe&&h(re,Oe)):Pe&16?Ke&16?wr(fe,Oe,re,ie,de,oe,we,ce,Te):ne(fe,de,oe,!0):(Pe&8&&h(re,""),Ke&16&&X(Oe,re,ie,de,oe,we,ce,Te))},lt=(F,W,re,ie,de,oe,we,ce,Te)=>{F=F||xo,W=W||xo;const fe=F.length,Pe=W.length,Oe=Math.min(fe,Pe);let Be;for(Be=0;Be<Oe;Be++){const Ke=W[Be]=Te?Pa(W[Be]):Bn(W[Be]);P(F[Be],Ke,re,null,de,oe,we,ce,Te)}fe>Pe?ne(F,de,oe,!0,!1,Oe):X(W,re,ie,de,oe,we,ce,Te,Oe)},wr=(F,W,re,ie,de,oe,we,ce,Te)=>{let fe=0;const Pe=W.length;let Oe=F.length-1,Be=Pe-1;for(;fe<=Oe&&fe<=Be;){const Ke=F[fe],it=W[fe]=Te?Pa(W[fe]):Bn(W[fe]);if(Ra(Ke,it))P(Ke,it,re,null,de,oe,we,ce,Te);else break;fe++}for(;fe<=Oe&&fe<=Be;){const Ke=F[Oe],it=W[Be]=Te?Pa(W[Be]):Bn(W[Be]);if(Ra(Ke,it))P(Ke,it,re,null,de,oe,we,ce,Te);else break;Oe--,Be--}if(fe>Oe){if(fe<=Be){const Ke=Be+1,it=Ke<Pe?W[Ke].el:ie;for(;fe<=Be;)P(null,W[fe]=Te?Pa(W[fe]):Bn(W[fe]),re,it,de,oe,we,ce,Te),fe++}}else if(fe>Be)for(;fe<=Oe;)Bt(F[fe],de,oe,!0),fe++;else{const Ke=fe,it=fe,ot=new Map;for(fe=it;fe<=Be;fe++){const Wt=W[fe]=Te?Pa(W[fe]):Bn(W[fe]);Wt.key!=null&&(ot.has(Wt.key)&&me("Duplicate keys found during update:",JSON.stringify(Wt.key),"Make sure keys are unique."),ot.set(Wt.key,fe))}let St,We=0;const Ar=Be-it+1;let On=!1,_i=0;const yi=new Array(Ar);for(fe=0;fe<Ar;fe++)yi[fe]=0;for(fe=Ke;fe<=Oe;fe++){const Wt=F[fe];if(We>=Ar){Bt(Wt,de,oe,!0);continue}let kr;if(Wt.key!=null)kr=ot.get(Wt.key);else for(St=it;St<=Be;St++)if(yi[St-it]===0&&Ra(Wt,W[St])){kr=St;break}kr===void 0?Bt(Wt,de,oe,!0):(yi[kr-it]=fe+1,kr>=_i?_i=kr:On=!0,P(Wt,W[kr],re,null,de,oe,we,ce,Te),We++)}const qa=On?Jk(yi):xo;for(St=qa.length-1,fe=Ar-1;fe>=0;fe--){const Wt=it+fe,kr=W[Wt],bi=Wt+1<Pe?W[Wt+1].el:ie;yi[fe]===0?P(null,kr,re,bi,de,oe,we,ce,Te):On&&(St<0||fe!==qa[St]?It(kr,re,bi,2):St--)}}},It=(F,W,re,ie,de=null)=>{const{el:oe,type:we,transition:ce,children:Te,shapeFlag:fe}=F;if(fe&6){It(F.component.subTree,W,re,ie);return}if(fe&128){F.suspense.move(W,re,ie);return}if(fe&64){we.move(F,W,re,Ze);return}if(we===tn){i(oe,W,re);for(let Oe=0;Oe<Te.length;Oe++)It(Te[Oe],W,re,ie);i(F.anchor,W,re);return}if(we===dl){U(F,W,re);return}if(ie!==2&&fe&1&&ce)if(ie===0)ce.beforeEnter(oe),i(oe,W,re),Tr(()=>ce.enter(oe),de);else{const{leave:Oe,delayLeave:Be,afterLeave:Ke}=ce,it=()=>i(oe,W,re),ot=()=>{Oe(oe,()=>{it(),Ke&&Ke()})};Be?Be(oe,it,ot):ot()}else i(oe,W,re)},Bt=(F,W,re,ie=!1,de=!1)=>{const{type:oe,props:we,ref:ce,children:Te,dynamicChildren:fe,shapeFlag:Pe,patchFlag:Oe,dirs:Be}=F;if(ce!=null&&Fg(ce,null,re,F,!0),Pe&256){W.ctx.deactivate(F);return}const Ke=Pe&1&&Be,it=!Co(F);let ot;if(it&&(ot=we&&we.onVnodeBeforeUnmount)&&An(ot,W,F),Pe&6)Ut(F.component,re,ie);else{if(Pe&128){F.suspense.unmount(re,ie);return}Ke&&ls(F,null,W,"beforeUnmount"),Pe&64?F.type.remove(F,W,re,de,Ze,ie):fe&&(oe!==tn||Oe>0&&Oe&64)?ne(fe,W,re,!1,!0):(oe===tn&&Oe&384||!de&&Pe&16)&&ne(Te,W,re),ie&&sr(F)}(it&&(ot=we&&we.onVnodeUnmounted)||Ke)&&Tr(()=>{ot&&An(ot,W,F),Ke&&ls(F,null,W,"unmounted")},re)},sr=F=>{const{type:W,el:re,anchor:ie,transition:de}=F;if(W===tn){F.patchFlag>0&&F.patchFlag&2048&&de&&!de.persisted?F.children.forEach(we=>{we.type===lr?t(we.el):sr(we)}):Cr(re,ie);return}if(W===dl){J(F);return}const oe=()=>{t(re),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(F.shapeFlag&1&&de&&!de.persisted){const{leave:we,delayLeave:ce}=de,Te=()=>we(re,oe);ce?ce(F.el,oe,Te):Te()}else oe()},Cr=(F,W)=>{let re;for(;F!==W;)re=v(F),t(F),F=re;t(W)},Ut=(F,W,re)=>{F.type.__hmrId&&WA(F);const{bum:ie,scope:de,update:oe,subTree:we,um:ce}=F;ie&&gs(ie),de.stop(),oe&&(oe.active=!1,Bt(we,F,W,re)),ce&&Tr(ce,W),Tr(()=>{F.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve()),YA(F)},ne=(F,W,re,ie=!1,de=!1,oe=0)=>{for(let we=oe;we<F.length;we++)Bt(F[we],W,re,ie,de)},ye=F=>F.shapeFlag&6?ye(F.component.subTree):F.shapeFlag&128?F.suspense.next():v(F.anchor||F.el);let Se=!1;const Fe=(F,W,re)=>{F==null?W._vnode&&Bt(W._vnode,null,null,!0):P(W._vnode||null,F,W,null,null,null,re),Se||(Se=!0,C_(),BT(),Se=!1),W._vnode=F},Ze={p:P,um:Bt,m:It,r:sr,mt:Ue,mc:X,pc:mt,pbc:ee,n:ye,o:r};let Tt,nt;return e&&([Tt,nt]=e(Ze)),{render:Fe,hydrate:Tt,createApp:Lk(Fe,Tt)}}function qp({type:r,props:e},n){return n==="svg"&&r==="foreignObject"||n==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function cs({effect:r,update:e},n){r.allowRecurse=e.allowRecurse=n}function Xk(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Xd(r,e,n=!1){const i=r.children,t=e.children;if(Ve(i)&&Ve(t))for(let a=0;a<i.length;a++){const s=i[a];let l=t[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=t[a]=Pa(t[a]),l.el=s.el),n||Xd(s,l)),l.type===Xl&&(l.el=s.el),l.type===lr&&!l.el&&(l.el=s.el)}}function Jk(r){const e=r.slice(),n=[0];let i,t,a,s,l;const d=r.length;for(i=0;i<d;i++){const f=r[i];if(f!==0){if(t=n[n.length-1],r[t]<f){e[i]=t,n.push(i);continue}for(a=0,s=n.length-1;a<s;)l=a+s>>1,r[n[l]]<f?a=l+1:s=l;f<r[n[a]]&&(a>0&&(e[i]=n[a-1]),n[a]=i)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=e[s];return n}function pS(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:pS(e)}const Yk=r=>r.__isTeleport,ko=r=>r&&(r.disabled||r.disabled===""),$_=r=>typeof SVGElement<"u"&&r instanceof SVGElement,V_=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,Mg=(r,e)=>{const n=r&&r.to;if(Nt(n))if(e){const i=e(n);return i||me(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),i}else return me("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!ko(r)&&me(`Invalid Teleport target: ${n}`),n},Qk={name:"Teleport",__isTeleport:!0,process(r,e,n,i,t,a,s,l,d,f){const{mc:h,pc:g,pbc:v,o:{insert:T,querySelector:A,createText:P,createComment:D}}=f,R=ko(e.props);let{shapeFlag:M,children:$,dynamicChildren:U}=e;if(Fa&&(d=!1,U=null),r==null){const J=e.el=D("teleport start"),te=e.anchor=D("teleport end");T(J,n,i),T(te,n,i);const H=e.target=Mg(e.props,A),V=e.targetAnchor=P("");H?(T(V,H),s==="svg"||$_(H)?s="svg":(s==="mathml"||V_(H))&&(s="mathml")):R||me("Invalid Teleport target on mount:",H,`(${typeof H})`);const X=(K,ee)=>{M&16&&h($,K,ee,t,a,s,l,d)};R?X(n,te):H&&X(H,V)}else{e.el=r.el;const J=e.anchor=r.anchor,te=e.target=r.target,H=e.targetAnchor=r.targetAnchor,V=ko(r.props),X=V?n:te,K=V?J:H;if(s==="svg"||$_(te)?s="svg":(s==="mathml"||V_(te))&&(s="mathml"),U?(v(r.dynamicChildren,U,X,t,a,s,l),Xd(r,e,!0)):d||g(r,e,X,K,t,a,s,l,!1),R)V?e.props&&r.props&&e.props.to!==r.props.to&&(e.props.to=r.props.to):cd(e,n,J,f,1);else if((e.props&&e.props.to)!==(r.props&&r.props.to)){const ee=e.target=Mg(e.props,A);ee?cd(e,ee,null,f,0):me("Invalid Teleport target on update:",te,`(${typeof te})`)}else V&&cd(e,te,H,f,1)}gS(e)},remove(r,e,n,i,{um:t,o:{remove:a}},s){const{shapeFlag:l,children:d,anchor:f,targetAnchor:h,target:g,props:v}=r;if(g&&a(h),s&&a(f),l&16){const T=s||!ko(v);for(let A=0;A<d.length;A++){const P=d[A];t(P,e,n,T,!!P.dynamicChildren)}}},move:cd,hydrate:Zk};function cd(r,e,n,{o:{insert:i},m:t},a=2){a===0&&i(r.targetAnchor,e,n);const{el:s,anchor:l,shapeFlag:d,children:f,props:h}=r,g=a===2;if(g&&i(s,e,n),(!g||ko(h))&&d&16)for(let v=0;v<f.length;v++)t(f[v],e,n,2);g&&i(l,e,n)}function Zk(r,e,n,i,t,a,{o:{nextSibling:s,parentNode:l,querySelector:d}},f){const h=e.target=Mg(e.props,d);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(ko(e.props))e.anchor=f(s(r),e,l(r),n,i,t,a),e.targetAnchor=g;else{e.anchor=s(r);let v=g;for(;v;)if(v=s(v),v&&v.nodeType===8&&v.data==="teleport anchor"){e.targetAnchor=v,h._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(g,e,h,n,i,t,a)}gS(e)}return e.anchor&&s(e.anchor)}const SM=Qk;function gS(r){const e=r.ctx;if(e&&e.ut){let n=r.children[0].el;for(;n&&n!==r.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const tn=Symbol.for("v-fgt"),Xl=Symbol.for("v-txt"),lr=Symbol.for("v-cmt"),dl=Symbol.for("v-stc"),fl=[];let jn=null;function Mf(r=!1){fl.push(jn=r?null:[])}function eD(){fl.pop(),jn=fl[fl.length-1]||null}let El=1;function H_(r){El+=r}function mS(r){return r.dynamicChildren=El>0?jn||xo:null,eD(),El>0&&jn&&jn.push(r),r}function tD(r,e,n,i,t,a){return mS(_S(r,e,n,i,t,a,!0))}function Km(r,e,n,i,t){return mS(Mr(r,e,n,i,t,!0))}function Ls(r){return r?r.__v_isVNode===!0:!1}function Ra(r,e){return e.shapeFlag&6&&_o.has(e.type)?(r.shapeFlag&=-257,e.shapeFlag&=-513,!1):r.type===e.type&&r.key===e.key}const rD=(...r)=>nD(...r),vS=({key:r})=>r!=null?r:null,Id=({ref:r,ref_key:e,ref_for:n})=>(typeof r=="number"&&(r=""+r),r!=null?Nt(r)||qt(r)||Ye(r)?{i:Jt,r,k:e,f:!!n}:r:null);function _S(r,e=null,n=null,i=0,t=null,a=r===tn?0:1,s=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&vS(e),ref:e&&Id(e),scopeId:Lf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:Jt};return l?(Xm(d,n),a&128&&r.normalize(d)):n&&(d.shapeFlag|=Nt(n)?8:16),d.key!==d.key&&me("VNode created with invalid key (NaN). VNode type:",d.type),El>0&&!s&&jn&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&jn.push(d),d}const Mr=rD;function nD(r,e=null,n=null,i=0,t=null,a=!1){if((!r||r===GT)&&(r||me(`Invalid vnode type when creating vnode: ${r}.`),r=lr),Ls(r)){const l=qn(r,e,!0);return n&&Xm(l,n),El>0&&!a&&jn&&(l.shapeFlag&6?jn[jn.indexOf(r)]=l:jn.push(l)),l.patchFlag|=-2,l}if(SS(r)&&(r=r.__vccOpts),e){e=iD(e);let{class:l,style:d}=e;l&&!Nt(l)&&(e.class=Eo(l)),_t(d)&&(Vd(d)&&!Ve(d)&&(d=Rt({},d)),e.style=Af(d))}const s=Nt(r)?1:KT(r)?128:Yk(r)?64:_t(r)?4:Ye(r)?2:0;return s&4&&Vd(r)&&(r=rt(r),me("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,r)),_S(r,e,n,i,t,s,a,!0)}function iD(r){return r?Vd(r)||oS(r)?Rt({},r):r:null}function qn(r,e,n=!1,i=!1){const{props:t,ref:a,patchFlag:s,children:l,transition:d}=r,f=e?sD(t||{},e):t,h={__v_isVNode:!0,__v_skip:!0,type:r.type,props:f,key:f&&vS(f),ref:e&&e.ref?n&&a?Ve(a)?a.concat(Id(e)):[a,Id(e)]:Id(e):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s===-1&&Ve(l)?l.map(yS):l,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==tn?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:d,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&qn(r.ssContent),ssFallback:r.ssFallback&&qn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return d&&i&&(h.transition=d.clone(h)),h}function yS(r){const e=qn(r);return Ve(r.children)&&(e.children=r.children.map(yS)),e}function aD(r=" ",e=0){return Mr(Xl,null,r,e)}function xM(r,e){const n=Mr(dl,null,r);return n.staticCount=e,n}function EM(r="",e=!1){return e?(Mf(),Km(lr,null,r)):Mr(lr,null,r)}function Bn(r){return r==null||typeof r=="boolean"?Mr(lr):Ve(r)?Mr(tn,null,r.slice()):typeof r=="object"?Pa(r):Mr(Xl,null,String(r))}function Pa(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:qn(r)}function Xm(r,e){let n=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Ve(e))n=16;else if(typeof e=="object")if(i&65){const t=e.default;t&&(t._c&&(t._d=!1),Xm(r,t()),t._c&&(t._d=!0));return}else{n=32;const t=e._;!t&&!oS(e)?e._ctx=Jt:t===3&&Jt&&(Jt.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else Ye(e)?(e={default:e,_ctx:Jt},n=32):(e=String(e),i&64?(n=16,e=[aD(e)]):n=8);r.children=e,r.shapeFlag|=n}function sD(...r){const e={};for(let n=0;n<r.length;n++){const i=r[n];for(const t in i)if(t==="class")e.class!==i.class&&(e.class=Eo([e.class,i.class]));else if(t==="style")e.style=Af([e.style,i.style]);else if($l(t)){const a=e[t],s=i[t];s&&a!==s&&!(Ve(a)&&a.includes(s))&&(e[t]=a?[].concat(a,s):s)}else t!==""&&(e[t]=i[t])}return e}function An(r,e,n,i=null){kn(r,e,7,[n,i])}const oD=iS();let uD=0;function lD(r,e,n){const i=r.type,t=(e?e.appContext:r.appContext)||oD,a={uid:uD++,vnode:r,type:i,parent:e,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new dT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lS(i,t),emitsOptions:qT(i,t),emit:null,emitted:null,propsDefaults:kt,inheritAttrs:i.inheritAttrs,ctx:kt,data:kt,props:kt,attrs:kt,slots:kt,refs:kt,setupState:kt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx=xk(a),a.root=e?e.root:a,a.emit=tk.bind(null,a),r.ce&&r.ce(a),a}let ir=null;const Ms=()=>ir||Jt;let Jd,Bg;{const r=Cf(),e=(n,i)=>{let t;return(t=r[n])||(t=r[n]=[]),t.push(i),a=>{t.length>1?t.forEach(s=>s(a)):t[0](a)}};Jd=e("__VUE_INSTANCE_SETTERS__",n=>ir=n),Bg=e("__VUE_SSR_SETTERS__",n=>Bf=n)}const Jl=r=>{const e=ir;return Jd(r),r.scope.on(),()=>{r.scope.off(),Jd(e)}},q_=()=>{ir&&ir.scope.off(),Jd(null)},cD=ea("slot,component");function Ug(r,{isNativeTag:e}){(cD(r)||e(r))&&me("Do not use built-in or reserved HTML elements as component id: "+r)}function bS(r){return r.vnode.shapeFlag&4}let Bf=!1;function dD(r,e=!1){e&&Bg(e);const{props:n,children:i}=r.vnode,t=bS(r);Nk(r,n,t,e),qk(r,i);const a=t?fD(r,e):void 0;return e&&Bg(!1),a}function fD(r,e){var n;const i=r.type;{if(i.name&&Ug(i.name,r.appContext.config),i.components){const a=Object.keys(i.components);for(let s=0;s<a.length;s++)Ug(a[s],r.appContext.config)}if(i.directives){const a=Object.keys(i.directives);for(let s=0;s<a.length;s++)JT(a[s])}i.compilerOptions&&hD()&&me('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,rS),Ek(r);const{setup:t}=i;if(t){const a=r.setupContext=t.length>1?mD(r):null,s=Jl(r);ta();const l=qi(t,r,0,[oi(r.props),a]);if(ra(),s(),km(l)){if(l.then(q_,q_),e)return l.then(d=>{W_(r,d,e)}).catch(d=>{ql(d,r,0)});if(r.asyncDep=l,!r.suspense){const d=(n=i.name)!=null?n:"Anonymous";me(`Component <${d}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else W_(r,l,e)}else TS(r,e)}function W_(r,e,n){Ye(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:_t(e)?(Ls(e)&&me("setup() should not return VNodes directly - return a render function instead."),r.devtoolsRawSetupState=e,r.setupState=OT(e),wk(r)):e!==void 0&&me(`setup() should return an object. Received: ${e===null?"null":typeof e}`),TS(r,n)}let jg;const hD=()=>!jg;function TS(r,e,n){const i=r.type;if(!r.render){if(!e&&jg&&!i.render){const t=i.template||Gm(r).template;if(t){Ni(r,"compile");const{isCustomElement:a,compilerOptions:s}=r.appContext.config,{delimiters:l,compilerOptions:d}=i,f=Rt(Rt({isCustomElement:a,delimiters:l},s),d);i.render=jg(t,f),Fi(r,"compile")}}r.render=i.render||xr}{const t=Jl(r);ta();try{Ak(r)}finally{ra(),t()}}!i.render&&r.render===xr&&!e&&(i.template?me('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):me("Component is missing template or render function."))}const pD={get(r,e){return Wd(),Ur(r,"get",""),r[e]},set(){return me("setupContext.attrs is readonly."),!1},deleteProperty(){return me("setupContext.attrs is readonly."),!1}};function gD(r){return r.slotsProxy||(r.slotsProxy=new Proxy(r.slots,{get(e,n){return Ur(r,"get","$slots"),e[n]}}))}function mD(r){const e=n=>{if(r.exposed&&me("expose() should be called only once per setup()."),n!=null){let i=typeof n;i==="object"&&(Ve(n)?i="array":qt(n)&&(i="ref")),i!=="object"&&me(`expose() should be passed a plain object, received ${i}.`)}r.exposed=n||{}};{let n;return Object.freeze({get attrs(){return n||(n=new Proxy(r.attrs,pD))},get slots(){return gD(r)},get emit(){return(i,...t)=>r.emit(i,...t)},expose:e})}}function Uf(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(OT(vs(r.exposed)),{get(e,n){if(n in e)return e[n];if(n in ws)return ws[n](r)},has(e,n){return n in e||n in ws}}))}const vD=/(?:^|[-_])(\w)/g,_D=r=>r.replace(vD,e=>e.toUpperCase()).replace(/[-_]/g,"");function wl(r,e=!0){return Ye(r)?r.displayName||r.name:r.name||e&&r.__name}function jf(r,e,n=!1){let i=wl(e);if(!i&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(i=t[1])}if(!i&&r&&r.parent){const t=a=>{for(const s in a)if(a[s]===e)return s};i=t(r.components||r.parent.type.components)||t(r.appContext.components)}return i?_D(i):n?"App":"Anonymous"}function SS(r){return Ye(r)&&"__vccOpts"in r}const Fr=(r,e)=>{const n=DA(r,e,Bf);{const i=Ms();i&&i.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Cl(r,e,n){const i=arguments.length;return i===2?_t(e)&&!Ve(e)?Ls(e)?Mr(r,null,[e]):Mr(r,e):Mr(r,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ls(n)&&(n=[n]),Mr(r,e,n))}function yD(){if(typeof window>"u")return;const r={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},i={style:"color:#eb2f96"},t={header(g){return _t(g)?g.__isVue?["div",r,"VueInstance"]:qt(g)?["div",{},["span",r,h(g)],"<",l(g.value),">"]:Hi(g)?["div",{},["span",r,xs(g)?"ShallowReactive":"Reactive"],"<",l(g),`>${Is(g)?" (readonly)":""}`]:Is(g)?["div",{},["span",r,xs(g)?"ShallowReadonly":"Readonly"],"<",l(g),">"]:null:null},hasBody(g){return g&&g.__isVue},body(g){if(g&&g.__isVue)return["div",{},...a(g.$)]}};function a(g){const v=[];g.type.props&&g.props&&v.push(s("props",rt(g.props))),g.setupState!==kt&&v.push(s("setup",g.setupState)),g.data!==kt&&v.push(s("data",rt(g.data)));const T=d(g,"computed");T&&v.push(s("computed",T));const A=d(g,"inject");return A&&v.push(s("injected",A)),v.push(["div",{},["span",{style:i.style+";opacity:0.66"},"$ (internal): "],["object",{object:g}]]),v}function s(g,v){return v=Rt({},v),Object.keys(v).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},g],["div",{style:"padding-left:1.25em"},...Object.keys(v).map(T=>["div",{},["span",i,T+": "],l(v[T],!1)])]]:["span",{}]}function l(g,v=!0){return typeof g=="number"?["span",e,g]:typeof g=="string"?["span",n,JSON.stringify(g)]:typeof g=="boolean"?["span",i,g]:_t(g)?["object",{object:v?rt(g):g}]:["span",n,String(g)]}function d(g,v){const T=g.type;if(Ye(T))return;const A={};for(const P in g.ctx)f(T,P,v)&&(A[P]=g.ctx[P]);return A}function f(g,v,T){const A=g[T];if(Ve(A)&&A.includes(v)||_t(A)&&v in A||g.extends&&f(g.extends,v,T)||g.mixins&&g.mixins.some(P=>f(P,v,T)))return!0}function h(g){return xs(g)?"ShallowRef":g.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(t):window.devtoolsFormatters=[t]}const G_="3.4.27",Wi=me;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bD="http://www.w3.org/2000/svg",TD="http://www.w3.org/1998/Math/MathML",Ia=typeof document<"u"?document:null,z_=Ia&&Ia.createElement("template"),SD={insert:(r,e,n)=>{e.insertBefore(r,n||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,n,i)=>{const t=e==="svg"?Ia.createElementNS(bD,r):e==="mathml"?Ia.createElementNS(TD,r):Ia.createElement(r,n?{is:n}:void 0);return r==="select"&&i&&i.multiple!=null&&t.setAttribute("multiple",i.multiple),t},createText:r=>Ia.createTextNode(r),createComment:r=>Ia.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Ia.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,n,i,t,a){const s=n?n.previousSibling:e.lastChild;if(t&&(t===a||t.nextSibling))for(;e.insertBefore(t.cloneNode(!0),n),!(t===a||!(t=t.nextSibling)););else{z_.innerHTML=i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r;const l=z_.content;if(i==="svg"||i==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ea="transition",Vu="animation",Ro=Symbol("_vtc"),xS=(r,{slots:e})=>Cl(fk,wS(r),e);xS.displayName="Transition";const ES={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xD=xS.props=Rt({},QT,ES),ds=(r,e=[])=>{Ve(r)?r.forEach(n=>n(...e)):r&&r(...e)},K_=r=>r?Ve(r)?r.some(e=>e.length>1):r.length>1:!1;function wS(r){const e={};for(const Z in r)Z in ES||(e[Z]=r[Z]);if(r.css===!1)return e;const{name:n="v",type:i,duration:t,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:d=a,appearActiveClass:f=s,appearToClass:h=l,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:T=`${n}-leave-to`}=r,A=ED(t),P=A&&A[0],D=A&&A[1],{onBeforeEnter:R,onEnter:M,onEnterCancelled:$,onLeave:U,onLeaveCancelled:J,onBeforeAppear:te=R,onAppear:H=M,onAppearCancelled:V=$}=e,X=(Z,ue,Me)=>{Aa(Z,ue?h:l),Aa(Z,ue?f:s),Me&&Me()},K=(Z,ue)=>{Z._isLeaving=!1,Aa(Z,g),Aa(Z,T),Aa(Z,v),ue&&ue()},ee=Z=>(ue,Me)=>{const Ue=Z?H:M,ke=()=>X(ue,Z,Me);ds(Ue,[ue,ke]),X_(()=>{Aa(ue,Z?d:a),Mi(ue,Z?h:l),K_(Ue)||J_(ue,i,P,ke)})};return Rt(e,{onBeforeEnter(Z){ds(R,[Z]),Mi(Z,a),Mi(Z,s)},onBeforeAppear(Z){ds(te,[Z]),Mi(Z,d),Mi(Z,f)},onEnter:ee(!1),onAppear:ee(!0),onLeave(Z,ue){Z._isLeaving=!0;const Me=()=>K(Z,ue);Mi(Z,g),Mi(Z,v),AS(),X_(()=>{!Z._isLeaving||(Aa(Z,g),Mi(Z,T),K_(U)||J_(Z,i,D,Me))}),ds(U,[Z,Me])},onEnterCancelled(Z){X(Z,!1),ds($,[Z])},onAppearCancelled(Z){X(Z,!0),ds(V,[Z])},onLeaveCancelled(Z){K(Z),ds(J,[Z])}})}function ED(r){if(r==null)return null;if(_t(r))return[Wp(r.enter),Wp(r.leave)];{const e=Wp(r);return[e,e]}}function Wp(r){const e=zC(r);return BA(e,"<transition> explicit duration"),e}function Mi(r,e){e.split(/\s+/).forEach(n=>n&&r.classList.add(n)),(r[Ro]||(r[Ro]=new Set)).add(e)}function Aa(r,e){e.split(/\s+/).forEach(i=>i&&r.classList.remove(i));const n=r[Ro];n&&(n.delete(e),n.size||(r[Ro]=void 0))}function X_(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let wD=0;function J_(r,e,n,i){const t=r._endId=++wD,a=()=>{t===r._endId&&i()};if(n)return setTimeout(a,n);const{type:s,timeout:l,propCount:d}=CS(r,e);if(!s)return i();const f=s+"end";let h=0;const g=()=>{r.removeEventListener(f,v),a()},v=T=>{T.target===r&&++h>=d&&g()};setTimeout(()=>{h<d&&g()},l+1),r.addEventListener(f,v)}function CS(r,e){const n=window.getComputedStyle(r),i=A=>(n[A]||"").split(", "),t=i(`${Ea}Delay`),a=i(`${Ea}Duration`),s=Y_(t,a),l=i(`${Vu}Delay`),d=i(`${Vu}Duration`),f=Y_(l,d);let h=null,g=0,v=0;e===Ea?s>0&&(h=Ea,g=s,v=a.length):e===Vu?f>0&&(h=Vu,g=f,v=d.length):(g=Math.max(s,f),h=g>0?s>f?Ea:Vu:null,v=h?h===Ea?a.length:d.length:0);const T=h===Ea&&/\b(transform|all)(,|$)/.test(i(`${Ea}Property`).toString());return{type:h,timeout:g,propCount:v,hasTransform:T}}function Y_(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((n,i)=>Q_(n)+Q_(r[i])))}function Q_(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function AS(){return document.body.offsetHeight}function CD(r,e,n){const i=r[Ro];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):n?r.setAttribute("class",e):r.className=e}const Yd=Symbol("_vod"),kS=Symbol("_vsh"),AD={beforeMount(r,{value:e},{transition:n}){r[Yd]=r.style.display==="none"?"":r.style.display,n&&e?n.beforeEnter(r):Hu(r,e)},mounted(r,{value:e},{transition:n}){n&&e&&n.enter(r)},updated(r,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(r),Hu(r,!0),i.enter(r)):i.leave(r,()=>{Hu(r,!1)}):Hu(r,e))},beforeUnmount(r,{value:e}){Hu(r,e)}};AD.name="show";function Hu(r,e){r.style.display=e?r[Yd]:"none",r[kS]=!e}const kD=Symbol("CSS_VAR_TEXT"),DD=/(^|;)\s*display\s*:/;function PD(r,e,n){const i=r.style,t=Nt(n);let a=!1;if(n&&!t){if(e)if(Nt(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&Od(i,l,"")}else for(const s in e)n[s]==null&&Od(i,s,"");for(const s in n)s==="display"&&(a=!0),Od(i,s,n[s])}else if(t){if(e!==n){const s=i[kD];s&&(n+=";"+s),i.cssText=n,a=DD.test(n)}}else e&&r.removeAttribute("style");Yd in r&&(r[Yd]=a?i.display:"",r[kS]&&(i.display="none"))}const ID=/[^\\];\s*$/,Z_=/\s*!important$/;function Od(r,e,n){if(Ve(n))n.forEach(i=>Od(r,e,i));else if(n==null&&(n=""),ID.test(n)&&Wi(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))r.setProperty(e,n);else{const i=OD(r,e);Z_.test(n)?r.setProperty(Ma(i),n.replace(Z_,""),"important"):r[i]=n}}const ey=["Webkit","Moz","ms"],Gp={};function OD(r,e){const n=Gp[e];if(n)return n;let i=gi(e);if(i!=="filter"&&i in r)return Gp[e]=i;i=Ps(i);for(let t=0;t<ey.length;t++){const a=ey[t]+i;if(a in r)return Gp[e]=a}return e}const ty="http://www.w3.org/1999/xlink";function LD(r,e,n,i,t){if(i&&e.startsWith("xlink:"))n==null?r.removeAttributeNS(ty,e.slice(6,e.length)):r.setAttributeNS(ty,e,n);else{const a=aA(e);n==null||a&&!lT(n)?r.removeAttribute(e):r.setAttribute(e,a?"":n)}}function RD(r,e,n,i,t,a,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,t,a),r[e]=n==null?"":n;return}const l=r.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const f=l==="OPTION"?r.getAttribute("value")||"":r.value,h=n==null?"":n;(f!==h||!("_value"in r))&&(r.value=h),n==null&&r.removeAttribute(e),r._value=n;return}let d=!1;if(n===""||n==null){const f=typeof r[e];f==="boolean"?n=lT(n):n==null&&f==="string"?(n="",d=!0):f==="number"&&(n=0,d=!0)}try{r[e]=n}catch(f){d||Wi(`Failed setting prop "${e}" on <${l.toLowerCase()}>: value ${n} is invalid.`,f)}d&&r.removeAttribute(e)}function ND(r,e,n,i){r.addEventListener(e,n,i)}function FD(r,e,n,i){r.removeEventListener(e,n,i)}const ry=Symbol("_vei");function MD(r,e,n,i,t=null){const a=r[ry]||(r[ry]={}),s=a[e];if(i&&s)s.value=iy(i,e);else{const[l,d]=BD(e);if(i){const f=a[e]=$D(iy(i,e),t);ND(r,l,f,d)}else s&&(FD(r,l,s,d),a[e]=void 0)}}const ny=/(?:Once|Passive|Capture)$/;function BD(r){let e;if(ny.test(r)){e={};let i;for(;i=r.match(ny);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Ma(r.slice(2)),e]}let zp=0;const UD=Promise.resolve(),jD=()=>zp||(UD.then(()=>zp=0),zp=Date.now());function $D(r,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;kn(VD(i,n.value),e,5,[i])};return n.value=r,n.attached=jD(),n}function iy(r,e){return Ye(r)||Ve(r)?r:(Wi(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof r}.`),xr)}function VD(r,e){if(Ve(e)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},e.map(i=>t=>!t._stopped&&i&&i(t))}else return e}const ay=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,HD=(r,e,n,i,t,a,s,l,d)=>{const f=t==="svg";e==="class"?CD(r,i,f):e==="style"?PD(r,n,i):$l(e)?jd(e)||MD(r,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qD(r,e,i,f))?RD(r,e,i,a,s,l,d):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),LD(r,e,i,f))};function qD(r,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&ay(e)&&Ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const t=r.tagName;if(t==="IMG"||t==="VIDEO"||t==="CANVAS"||t==="SOURCE")return!1}return ay(e)&&Nt(n)?!1:e in r}const DS=new WeakMap,PS=new WeakMap,Qd=Symbol("_moveCb"),sy=Symbol("_enterCb"),IS={name:"TransitionGroup",props:Rt({},xD,{tag:String,moveClass:String}),setup(r,{slots:e}){const n=Ms(),i=YT();let t,a;return qm(()=>{if(!t.length)return;const s=r.moveClass||`${r.name||"v"}-move`;if(!XD(t[0].el,n.vnode.el,s))return;t.forEach(GD),t.forEach(zD);const l=t.filter(KD);AS(),l.forEach(d=>{const f=d.el,h=f.style;Mi(f,s),h.transform=h.webkitTransform=h.transitionDuration="";const g=f[Qd]=v=>{v&&v.target!==f||(!v||/transform$/.test(v.propertyName))&&(f.removeEventListener("transitionend",g),f[Qd]=null,Aa(f,s))};f.addEventListener("transitionend",g)})}),()=>{const s=rt(r),l=wS(s);let d=s.tag||tn;if(t=[],a)for(let f=0;f<a.length;f++){const h=a[f];h.el&&h.el instanceof Element&&(t.push(h),Lo(h,xl(h,l,i,n)),DS.set(h,h.el.getBoundingClientRect()))}a=e.default?Hm(e.default()):[];for(let f=0;f<a.length;f++){const h=a[f];h.key!=null?Lo(h,xl(h,l,i,n)):Wi("<TransitionGroup> children must be keyed.")}return Mr(d,null,a)}}},WD=r=>delete r.mode;IS.props;const wM=IS;function GD(r){const e=r.el;e[Qd]&&e[Qd](),e[sy]&&e[sy]()}function zD(r){PS.set(r,r.el.getBoundingClientRect())}function KD(r){const e=DS.get(r),n=PS.get(r),i=e.left-n.left,t=e.top-n.top;if(i||t){const a=r.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${t}px)`,a.transitionDuration="0s",r}}function XD(r,e,n){const i=r.cloneNode(),t=r[Ro];t&&t.forEach(l=>{l.split(/\s+/).forEach(d=>d&&i.classList.remove(d))}),n.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:s}=CS(i);return a.removeChild(i),s}const JD=["ctrl","shift","alt","meta"],YD={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>JD.some(n=>r[`${n}Key`]&&!e.includes(n))},CM=(r,e)=>{const n=r._withMods||(r._withMods={}),i=e.join(".");return n[i]||(n[i]=(t,...a)=>{for(let s=0;s<e.length;s++){const l=YD[e[s]];if(l&&l(t,e))return}return r(t,...a)})},QD=Rt({patchProp:HD},SD);let oy;function ZD(){return oy||(oy=zk(QD))}const eP=(...r)=>{const e=ZD().createApp(...r);rP(e),nP(e);const{mount:n}=e;return e.mount=i=>{const t=iP(i);if(!t)return;const a=e._component;!Ye(a)&&!a.render&&!a.template&&(a.template=t.innerHTML),t.innerHTML="";const s=n(t,!1,tP(t));return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),s},e};function tP(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function rP(r){Object.defineProperty(r.config,"isNativeTag",{value:e=>tA(e)||rA(e)||nA(e),writable:!1})}function nP(r){{const e=r.config.isCustomElement;Object.defineProperty(r.config,"isCustomElement",{get(){return e},set(){Wi("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=r.config.compilerOptions,i='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(r.config,"compilerOptions",{get(){return Wi(i),n},set(){Wi(i)}})}}function iP(r){if(Nt(r)){const e=document.querySelector(r);return e||Wi(`Failed to mount app: mount target selector "${r}" returned null.`),e}return window.ShadowRoot&&r instanceof window.ShadowRoot&&r.mode==="closed"&&Wi('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),r}/**
* vue v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function aP(){yD()}aP();var sP=!1;function dd(r,e,n){return Array.isArray(r)?(r.length=Math.max(r.length,e),r.splice(e,1,n),n):(r[e]=n,n)}function Kp(r,e){if(Array.isArray(r)){r.splice(e,1);return}delete r[e]}function oP(){return OS().__VUE_DEVTOOLS_GLOBAL_HOOK__}function OS(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const uP=typeof Proxy=="function",lP="devtools-plugin:setup",cP="plugin:settings:set";let oo,$g;function dP(){var r;return oo!==void 0||(typeof window<"u"&&window.performance?(oo=!0,$g=window.performance):typeof globalThis<"u"&&((r=globalThis.perf_hooks)===null||r===void 0?void 0:r.performance)?(oo=!0,$g=globalThis.perf_hooks.performance):oo=!1),oo}function fP(){return dP()?$g.now():Date.now()}class hP{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const s in e.settings){const l=e.settings[s];i[s]=l.defaultValue}const t=`__vue-devtools-plugin-settings__${e.id}`;let a=Object.assign({},i);try{const s=localStorage.getItem(t),l=JSON.parse(s);Object.assign(a,l)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(t,JSON.stringify(s))}catch{}a=s},now(){return fP()}},n&&n.on(cP,(s,l)=>{s===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(s,l)=>this.target?this.target.on[l]:(...d)=>{this.onQueue.push({method:l,args:d})}}),this.proxiedTarget=new Proxy({},{get:(s,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...d)=>(this.targetQueue.push({method:l,args:d,resolve:()=>{}}),this.fallbacks[l](...d)):(...d)=>new Promise(f=>{this.targetQueue.push({method:l,args:d,resolve:f})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function pP(r,e){const n=r,i=OS(),t=oP(),a=uP&&n.enableEarlyProxy;if(t&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))t.emit(lP,r,e);else{const s=a?new hP(n,t):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let rl;const Al=r=>rl=r,LS=Symbol("pinia");function Rs(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var hl;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(hl||(hl={}));const RS=typeof window<"u";function gP(){const r=fT(!0),e=r.run(()=>In({}));let n=[],i=[];const t=vs({install(a){Al(t),t._a=a,a.provide(LS,t),a.config.globalProperties.$pinia=t,i.forEach(s=>n.push(s)),i=[]},use(a){return!this._a&&!sP?i.push(a):n.push(a),this},_p:n,_a:null,_e:r,_s:new Map,state:e});return t}function NS(r,e){for(const n in e){const i=e[n];if(!(n in r))continue;const t=r[n];Rs(t)&&Rs(i)&&!qt(i)&&!Hi(i)?r[n]=NS(t,i):r[n]=i}return r}const mP=()=>{};function uy(r,e,n,i=mP){r.push(e);const t=()=>{const a=r.indexOf(e);a>-1&&(r.splice(a,1),i())};return!n&&hT()&&oA(t),t}function uo(r,...e){r.slice().forEach(n=>{n(...e)})}const vP=r=>r();function Vg(r,e){r instanceof Map&&e instanceof Map&&e.forEach((n,i)=>r.set(i,n)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],t=r[n];Rs(t)&&Rs(i)&&r.hasOwnProperty(n)&&!qt(i)&&!Hi(i)?r[n]=Vg(t,i):r[n]=i}return r}const _P=Symbol("pinia:skipHydration");function yP(r){return!Rs(r)||!r.hasOwnProperty(_P)}const{assign:ri}=Object;function ly(r){return!!(qt(r)&&r.effect)}function cy(r,e,n,i){const{state:t,actions:a,getters:s}=e,l=n.state.value[r];let d;function f(){!l&&!i&&(n.state.value[r]=t?t():{});const h=w_(i?In(t?t():{}).value:n.state.value[r]);return ri(h,a,Object.keys(s||{}).reduce((g,v)=>(v in h&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${v}" in store "${r}".`),g[v]=vs(Fr(()=>{Al(n);const T=n._s.get(r);return s[v].call(T,T)})),g),{}))}return d=Hg(r,f,e,n,i,!0),d}function Hg(r,e,n={},i,t,a){let s;const l=ri({actions:{}},n);if(!i._e.active)throw new Error("Pinia destroyed");const d={deep:!0};d.onTrigger=K=>{f?T=K:f==!1&&!H._hotUpdating&&(Array.isArray(T)?T.push(K):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let f,h,g=[],v=[],T;const A=i.state.value[r];!a&&!A&&!t&&(i.state.value[r]={});const P=In({});let D;function R(K){let ee;f=h=!1,T=[],typeof K=="function"?(K(i.state.value[r]),ee={type:hl.patchFunction,storeId:r,events:T}):(Vg(i.state.value[r],K),ee={type:hl.patchObject,payload:K,storeId:r,events:T});const Z=D=Symbol();Hd().then(()=>{D===Z&&(f=!0)}),h=!0,uo(g,ee,i.state.value[r])}const M=a?function(){const{state:ee}=n,Z=ee?ee():{};this.$patch(ue=>{ri(ue,Z)})}:()=>{throw new Error(`\u{1F34D}: Store "${r}" is built using the setup syntax and does not implement $reset().`)};function $(){s.stop(),g=[],v=[],i._s.delete(r)}function U(K,ee){return function(){Al(i);const Z=Array.from(arguments),ue=[],Me=[];function Ue(Ee){ue.push(Ee)}function ke(Ee){Me.push(Ee)}uo(v,{args:Z,name:K,store:H,after:Ue,onError:ke});let ge;try{ge=ee.apply(this&&this.$id===r?this:H,Z)}catch(Ee){throw uo(Me,Ee),Ee}return ge instanceof Promise?ge.then(Ee=>(uo(ue,Ee),Ee)).catch(Ee=>(uo(Me,Ee),Promise.reject(Ee))):(uo(ue,ge),ge)}}const J=vs({actions:{},getters:{},state:[],hotState:P}),te={_p:i,$id:r,$onAction:uy.bind(null,v),$patch:R,$reset:M,$subscribe(K,ee={}){const Z=uy(g,K,ee.detached,()=>ue()),ue=s.run(()=>$n(()=>i.state.value[r],Me=>{(ee.flush==="sync"?h:f)&&K({storeId:r,type:hl.direct,events:T},Me)},ri({},d,ee)));return Z},$dispose:$},H=Hl(ri({_hmrPayload:J,_customProperties:vs(new Set)},te));i._s.set(r,H);const X=(i._a&&i._a.runWithContext||vP)(()=>i._e.run(()=>(s=fT()).run(e)));for(const K in X){const ee=X[K];if(qt(ee)&&!ly(ee)||Hi(ee))t?dd(P.value,K,Mp(X,K)):a||(A&&yP(ee)&&(qt(ee)?ee.value=A[K]:Vg(ee,A[K])),i.state.value[r][K]=ee),J.state.push(K);else if(typeof ee=="function"){const Z=t?ee:U(K,ee);X[K]=Z,J.actions[K]=ee,l.actions[K]=ee}else ly(ee)&&(J.getters[K]=a?n.getters[K]:ee,RS&&(X._getters||(X._getters=vs([]))).push(K))}return ri(H,X),ri(rt(H),X),Object.defineProperty(H,"$state",{get:()=>t?P.value:i.state.value[r],set:K=>{if(t)throw new Error("cannot set hotState");R(ee=>{ri(ee,K)})}}),H._hotUpdate=vs(K=>{H._hotUpdating=!0,K._hmrPayload.state.forEach(ee=>{if(ee in H.$state){const Z=K.$state[ee],ue=H.$state[ee];typeof Z=="object"&&Rs(Z)&&Rs(ue)?NS(Z,ue):K.$state[ee]=ue}dd(H,ee,Mp(K.$state,ee))}),Object.keys(H.$state).forEach(ee=>{ee in K.$state||Kp(H,ee)}),f=!1,h=!1,i.state.value[r]=Mp(K._hmrPayload,"hotState"),h=!0,Hd().then(()=>{f=!0});for(const ee in K._hmrPayload.actions){const Z=K[ee];dd(H,ee,U(ee,Z))}for(const ee in K._hmrPayload.getters){const Z=K._hmrPayload.getters[ee],ue=a?Fr(()=>(Al(i),Z.call(H,H))):Z;dd(H,ee,ue)}Object.keys(H._hmrPayload.getters).forEach(ee=>{ee in K._hmrPayload.getters||Kp(H,ee)}),Object.keys(H._hmrPayload.actions).forEach(ee=>{ee in K._hmrPayload.actions||Kp(H,ee)}),H._hmrPayload=K._hmrPayload,H._getters=K._getters,H._hotUpdating=!1}),i._p.forEach(K=>{ri(H,s.run(()=>K({store:H,app:i._a,pinia:i,options:l})))}),H.$state&&typeof H.$state=="object"&&typeof H.$state.constructor=="function"&&!H.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${H.$id}".`),A&&a&&n.hydrate&&n.hydrate(H.$state,A),f=!0,h=!0,H}function AM(r,e,n){let i,t;const a=typeof e=="function";if(typeof r=="string")i=r,t=a?n:e;else if(t=r,i=r.id,typeof i!="string")throw new Error('[\u{1F34D}]: "defineStore()" must be passed a store id as its first argument.');function s(l,d){const f=Rk();if(l=(rl&&rl._testing?null:l)||(f?an(LS,null):null),l&&Al(l),!rl)throw new Error(`[\u{1F34D}]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);l=rl,l._s.has(i)||(a?Hg(i,e,t,l):cy(i,t,l),s._pinia=l);const h=l._s.get(i);if(d){const g="__hot:"+i,v=a?Hg(g,e,t,l,!0):cy(g,ri({},t),l,!0);d._hotUpdate(v),delete l.state.value[g],l._s.delete(g)}if(RS){const g=Ms();if(g&&g.proxy&&!d){const v=g.proxy,T="_pStores"in v?v._pStores:v._pStores={};T[i]=h}}return h}return s.$id=i,s}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ji=typeof document<"u";function bP(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const bt=Object.assign;function Xp(r,e){const n={};for(const i in e){const t=e[i];n[i]=mn(t)?t.map(r):r(t)}return n}const pl=()=>{},mn=Array.isArray;function dt(r){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+r].concat(e))}const FS=/#/g,TP=/&/g,SP=/\//g,xP=/=/g,EP=/\?/g,MS=/\+/g,wP=/%5B/g,CP=/%5D/g,BS=/%5E/g,AP=/%60/g,US=/%7B/g,kP=/%7C/g,jS=/%7D/g,DP=/%20/g;function Jm(r){return encodeURI(""+r).replace(kP,"|").replace(wP,"[").replace(CP,"]")}function PP(r){return Jm(r).replace(US,"{").replace(jS,"}").replace(BS,"^")}function qg(r){return Jm(r).replace(MS,"%2B").replace(DP,"+").replace(FS,"%23").replace(TP,"%26").replace(AP,"`").replace(US,"{").replace(jS,"}").replace(BS,"^")}function IP(r){return qg(r).replace(xP,"%3D")}function OP(r){return Jm(r).replace(FS,"%23").replace(EP,"%3F")}function LP(r){return r==null?"":OP(r).replace(SP,"%2F")}function No(r){try{return decodeURIComponent(""+r)}catch{dt(`Error decoding "${r}". Using original value`)}return""+r}const RP=/\/$/,NP=r=>r.replace(RP,"");function Jp(r,e,n="/"){let i,t={},a="",s="";const l=e.indexOf("#");let d=e.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(i=e.slice(0,d),a=e.slice(d+1,l>-1?l:e.length),t=r(a)),l>-1&&(i=i||e.slice(0,l),s=e.slice(l,e.length)),i=BP(i!=null?i:e,n),{fullPath:i+(a&&"?")+a+s,path:i,query:t,hash:No(s)}}function FP(r,e){const n=e.query?r(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function dy(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function fy(r,e,n){const i=e.matched.length-1,t=n.matched.length-1;return i>-1&&i===t&&Ua(e.matched[i],n.matched[t])&&$S(e.params,n.params)&&r(e.query)===r(n.query)&&e.hash===n.hash}function Ua(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function $S(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const n in r)if(!MP(r[n],e[n]))return!1;return!0}function MP(r,e){return mn(r)?hy(r,e):mn(e)?hy(e,r):r===e}function hy(r,e){return mn(e)?r.length===e.length&&r.every((n,i)=>n===e[i]):r.length===1&&r[0]===e}function BP(r,e){if(r.startsWith("/"))return r;if(!e.startsWith("/"))return dt(`Cannot resolve a relative location without an absolute path. Trying to resolve "${r}" from "${e}". It should look like "/${e}".`),r;if(!r)return e;const n=e.split("/"),i=r.split("/"),t=i[i.length-1];(t===".."||t===".")&&i.push("");let a=n.length-1,s,l;for(s=0;s<i.length;s++)if(l=i[s],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+i.slice(s).join("/")}var kl;(function(r){r.pop="pop",r.push="push"})(kl||(kl={}));var gl;(function(r){r.back="back",r.forward="forward",r.unknown=""})(gl||(gl={}));function UP(r){if(!r)if(ji){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),NP(r)}const jP=/^[^#]+#/;function $P(r,e){return r.replace(jP,"#")+e}function VP(r,e){const n=document.documentElement.getBoundingClientRect(),i=r.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const $f=()=>({left:window.scrollX,top:window.scrollY});function HP(r){let e;if("el"in r){const n=r.el,i=typeof n=="string"&&n.startsWith("#");if(typeof r.el=="string"&&(!i||!document.getElementById(r.el.slice(1))))try{const a=document.querySelector(r.el);if(i&&a){dt(`The selector "${r.el}" should be passed as "el: document.querySelector('${r.el}')" because it starts with "#".`);return}}catch{dt(`The selector "${r.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const t=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!t){dt(`Couldn't find element using selector "${r.el}" returned by scrollBehavior.`);return}e=VP(t,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function py(r,e){return(history.state?history.state.position-e:-1)+r}const Wg=new Map;function qP(r,e){Wg.set(r,e)}function WP(r){const e=Wg.get(r);return Wg.delete(r),e}let GP=()=>location.protocol+"//"+location.host;function VS(r,e){const{pathname:n,search:i,hash:t}=e,a=r.indexOf("#");if(a>-1){let l=t.includes(r.slice(a))?r.slice(a).length:1,d=t.slice(l);return d[0]!=="/"&&(d="/"+d),dy(d,"")}return dy(n,r)+i+t}function zP(r,e,n,i){let t=[],a=[],s=null;const l=({state:v})=>{const T=VS(r,location),A=n.value,P=e.value;let D=0;if(v){if(n.value=T,e.value=v,s&&s===A){s=null;return}D=P?v.position-P.position:0}else i(T);t.forEach(R=>{R(n.value,A,{delta:D,type:kl.pop,direction:D?D>0?gl.forward:gl.back:gl.unknown})})};function d(){s=n.value}function f(v){t.push(v);const T=()=>{const A=t.indexOf(v);A>-1&&t.splice(A,1)};return a.push(T),T}function h(){const{history:v}=window;!v.state||v.replaceState(bt({},v.state,{scroll:$f()}),"")}function g(){for(const v of a)v();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:d,listen:f,destroy:g}}function gy(r,e,n,i=!1,t=!1){return{back:r,current:e,forward:n,replaced:i,position:window.history.length,scroll:t?$f():null}}function KP(r){const{history:e,location:n}=window,i={value:VS(r,n)},t={value:e.state};t.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(d,f,h){const g=r.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?r:r.slice(g))+d:GP()+r+d;try{e[h?"replaceState":"pushState"](f,"",v),t.value=f}catch(T){dt("Error with push/replace State",T),n[h?"replace":"assign"](v)}}function s(d,f){const h=bt({},e.state,gy(t.value.back,d,t.value.forward,!0),f,{position:t.value.position});a(d,h,!0),i.value=d}function l(d,f){const h=bt({},t.value,e.state,{forward:d,scroll:$f()});e.state||dt(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),a(h.current,h,!0);const g=bt({},gy(i.value,d,null),{position:h.position+1},f);a(d,g,!1),i.value=d}return{location:i,state:t,push:l,replace:s}}function XP(r){r=UP(r);const e=KP(r),n=zP(r,e.state,e.location,e.replace);function i(a,s=!0){s||n.pauseListeners(),history.go(a)}const t=bt({location:"",base:r,go:i,createHref:$P.bind(null,r)},e,n);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>e.state.value}),t}function JP(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),!r.endsWith("#/")&&!r.endsWith("#")&&dt(`A hash base must end with a "#":
"${r}" should be "${r.replace(/#.*$/,"#")}".`),XP(r)}function Zd(r){return typeof r=="string"||r&&typeof r=="object"}function HS(r){return typeof r=="string"||typeof r=="symbol"}const wa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qS=Symbol("navigation failure");var my;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(my||(my={}));const YP={[1]({location:r,currentLocation:e}){return`No match for
 ${JSON.stringify(r)}${e?`
while being at
`+JSON.stringify(e):""}`},[2]({from:r,to:e}){return`Redirected from "${r.fullPath}" to "${ZP(e)}" via a navigation guard.`},[4]({from:r,to:e}){return`Navigation aborted from "${r.fullPath}" to "${e.fullPath}" via a navigation guard.`},[8]({from:r,to:e}){return`Navigation cancelled from "${r.fullPath}" to "${e.fullPath}" with a new navigation.`},[16]({from:r,to:e}){return`Avoided redundant navigation to current location: "${r.fullPath}".`}};function Fo(r,e){return bt(new Error(YP[r](e)),{type:r,[qS]:!0},e)}function Li(r,e){return r instanceof Error&&qS in r&&(e==null||!!(r.type&e))}const QP=["params","query","hash"];function ZP(r){if(typeof r=="string")return r;if(r.path!=null)return r.path;const e={};for(const n of QP)n in r&&(e[n]=r[n]);return JSON.stringify(e,null,2)}const vy="[^/]+?",eI={sensitive:!1,strict:!1,start:!0,end:!0},tI=/[.+*?^${}()[\]/\\]/g;function rI(r,e){const n=bt({},eI,e),i=[];let t=n.start?"^":"";const a=[];for(const f of r){const h=f.length?[]:[90];n.strict&&!f.length&&(t+="/");for(let g=0;g<f.length;g++){const v=f[g];let T=40+(n.sensitive?.25:0);if(v.type===0)g||(t+="/"),t+=v.value.replace(tI,"\\$&"),T+=40;else if(v.type===1){const{value:A,repeatable:P,optional:D,regexp:R}=v;a.push({name:A,repeatable:P,optional:D});const M=R||vy;if(M!==vy){T+=10;try{new RegExp(`(${M})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${A}" (${M}): `+U.message)}}let $=P?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;g||($=D&&f.length<2?`(?:/${$})`:"/"+$),D&&($+="?"),t+=$,T+=20,D&&(T+=-8),P&&(T+=-20),M===".*"&&(T+=-50)}h.push(T)}i.push(h)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(t+="/?"),n.end?t+="$":n.strict&&(t+="(?:/|$)");const s=new RegExp(t,n.sensitive?"":"i");function l(f){const h=f.match(s),g={};if(!h)return null;for(let v=1;v<h.length;v++){const T=h[v]||"",A=a[v-1];g[A.name]=T&&A.repeatable?T.split("/"):T}return g}function d(f){let h="",g=!1;for(const v of r){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const T of v)if(T.type===0)h+=T.value;else if(T.type===1){const{value:A,repeatable:P,optional:D}=T,R=A in f?f[A]:"";if(mn(R)&&!P)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const M=mn(R)?R.join("/"):R;if(!M)if(D)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${A}"`);h+=M}}return h||"/"}return{re:s,score:i,keys:a,parse:l,stringify:d}}function nI(r,e){let n=0;for(;n<r.length&&n<e.length;){const i=e[n]-r[n];if(i)return i;n++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function iI(r,e){let n=0;const i=r.score,t=e.score;for(;n<i.length&&n<t.length;){const a=nI(i[n],t[n]);if(a)return a;n++}if(Math.abs(t.length-i.length)===1){if(_y(i))return 1;if(_y(t))return-1}return t.length-i.length}function _y(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const aI={type:0,value:""},sI=/[a-zA-Z0-9_]/;function oI(r){if(!r)return[[]];if(r==="/")return[[aI]];if(!r.startsWith("/"))throw new Error(`Route paths should start with a "/": "${r}" should be "/${r}".`);function e(T){throw new Error(`ERR (${n})/"${f}": ${T}`)}let n=0,i=n;const t=[];let a;function s(){a&&t.push(a),a=[]}let l=0,d,f="",h="";function g(){!f||(n===0?a.push({type:0,value:f}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:f,regexp:h,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function v(){f+=d}for(;l<r.length;){if(d=r[l++],d==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:d==="/"?(f&&g(),s()):d===":"?(g(),n=1):v();break;case 4:v(),n=i;break;case 1:d==="("?n=2:sI.test(d)?v():(g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+d:n=3:h+=d;break;case 3:g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),s(),t}function uI(r,e,n){const i=rI(oI(r.path),n);{const a=new Set;for(const s of i.keys)a.has(s.name)&&dt(`Found duplicated params with name "${s.name}" for path "${r.path}". Only the last one will be available on "$route.params".`),a.add(s.name)}const t=bt(i,{record:r,parent:e,children:[],alias:[]});return e&&!t.record.aliasOf==!e.record.aliasOf&&e.children.push(t),t}function lI(r,e){const n=[],i=new Map;e=Ty({strict:!1,end:!0,sensitive:!1},e);function t(h){return i.get(h)}function a(h,g,v){const T=!v,A=cI(h);pI(A,g),A.aliasOf=v&&v.record;const P=Ty(e,h),D=[A];if("alias"in h){const $=typeof h.alias=="string"?[h.alias]:h.alias;for(const U of $)D.push(bt({},A,{components:v?v.record.components:A.components,path:U,aliasOf:v?v.record:A}))}let R,M;for(const $ of D){const{path:U}=$;if(g&&U[0]!=="/"){const J=g.record.path,te=J[J.length-1]==="/"?"":"/";$.path=g.record.path+(U&&te+U)}if($.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(R=uI($,g,P),g&&U[0]==="/"&&gI(R,g),v?(v.alias.push(R),hI(v,R)):(M=M||R,M!==R&&M.alias.push(R),T&&h.name&&!by(R)&&s(h.name)),A.children){const J=A.children;for(let te=0;te<J.length;te++)a(J[te],R,v&&v.children[te])}v=v||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&d(R)}return M?()=>{s(M)}:pl}function s(h){if(HS(h)){const g=i.get(h);g&&(i.delete(h),n.splice(n.indexOf(g),1),g.children.forEach(s),g.alias.forEach(s))}else{const g=n.indexOf(h);g>-1&&(n.splice(g,1),h.record.name&&i.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function l(){return n}function d(h){let g=0;for(;g<n.length&&iI(h,n[g])>=0&&(h.record.path!==n[g].record.path||!WS(h,n[g]));)g++;n.splice(g,0,h),h.record.name&&!by(h)&&i.set(h.record.name,h)}function f(h,g){let v,T={},A,P;if("name"in h&&h.name){if(v=i.get(h.name),!v)throw Fo(1,{location:h});{const M=Object.keys(h.params||{}).filter($=>!v.keys.find(U=>U.name===$));M.length&&dt(`Discarded invalid param(s) "${M.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}P=v.record.name,T=bt(yy(g.params,v.keys.filter(M=>!M.optional).concat(v.parent?v.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),h.params&&yy(h.params,v.keys.map(M=>M.name))),A=v.stringify(T)}else if(h.path!=null)A=h.path,A.startsWith("/")||dt(`The Matcher cannot resolve relative paths but received "${A}". Unless you directly called \`matcher.resolve("${A}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),v=n.find(M=>M.re.test(A)),v&&(T=v.parse(A),P=v.record.name);else{if(v=g.name?i.get(g.name):n.find(M=>M.re.test(g.path)),!v)throw Fo(1,{location:h,currentLocation:g});P=v.record.name,T=bt({},g.params,h.params),A=v.stringify(T)}const D=[];let R=v;for(;R;)D.unshift(R.record),R=R.parent;return{name:P,path:A,params:T,matched:D,meta:fI(D)}}return r.forEach(h=>a(h)),{addRoute:a,resolve:f,removeRoute:s,getRoutes:l,getRecordMatcher:t}}function yy(r,e){const n={};for(const i of e)i in r&&(n[i]=r[i]);return n}function cI(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:dI(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function dI(r){const e={},n=r.props||!1;if("component"in r)e.default=n;else for(const i in r.components)e[i]=typeof n=="object"?n[i]:n;return e}function by(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function fI(r){return r.reduce((e,n)=>bt(e,n.meta),{})}function Ty(r,e){const n={};for(const i in r)n[i]=i in e?e[i]:r[i];return n}function Gg(r,e){return r.name===e.name&&r.optional===e.optional&&r.repeatable===e.repeatable}function hI(r,e){for(const n of r.keys)if(!n.optional&&!e.keys.find(Gg.bind(null,n)))return dt(`Alias "${e.record.path}" and the original record: "${r.record.path}" must have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!r.keys.find(Gg.bind(null,n)))return dt(`Alias "${e.record.path}" and the original record: "${r.record.path}" must have the exact same param named "${n.name}"`)}function pI(r,e){e&&e.record.name&&!r.name&&!r.path&&dt(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function gI(r,e){for(const n of e.keys)if(!r.keys.find(Gg.bind(null,n)))return dt(`Absolute path "${r.record.path}" must have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function WS(r,e){return e.children.some(n=>n===r||WS(r,n))}function mI(r){const e={};if(r===""||r==="?")return e;const i=(r[0]==="?"?r.slice(1):r).split("&");for(let t=0;t<i.length;++t){const a=i[t].replace(MS," "),s=a.indexOf("="),l=No(s<0?a:a.slice(0,s)),d=s<0?null:No(a.slice(s+1));if(l in e){let f=e[l];mn(f)||(f=e[l]=[f]),f.push(d)}else e[l]=d}return e}function Sy(r){let e="";for(let n in r){const i=r[n];if(n=IP(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(mn(i)?i.map(a=>a&&qg(a)):[i&&qg(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function vI(r){const e={};for(const n in r){const i=r[n];i!==void 0&&(e[n]=mn(i)?i.map(t=>t==null?null:""+t):i==null?i:""+i)}return e}const _I=Symbol("router view location matched"),xy=Symbol("router view depth"),Vf=Symbol("router"),Ym=Symbol("route location"),zg=Symbol("router view location");function qu(){let r=[];function e(i){return r.push(i),()=>{const t=r.indexOf(i);t>-1&&r.splice(t,1)}}function n(){r=[]}return{add:e,list:()=>r.slice(),reset:n}}function Oa(r,e,n,i,t,a=s=>s()){const s=i&&(i.enterCallbacks[t]=i.enterCallbacks[t]||[]);return()=>new Promise((l,d)=>{const f=v=>{v===!1?d(Fo(4,{from:n,to:e})):v instanceof Error?d(v):Zd(v)?d(Fo(2,{from:e,to:v})):(s&&i.enterCallbacks[t]===s&&typeof v=="function"&&s.push(v),l())},h=a(()=>r.call(i&&i.instances[t],e,n,yI(f,e,n)));let g=Promise.resolve(h);if(r.length<3&&(g=g.then(f)),r.length>2){const v=`The "next" callback was never called inside of ${r.name?'"'+r.name+'"':""}:
${r.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof h=="object"&&"then"in h)g=g.then(T=>f._called?T:(dt(v),Promise.reject(new Error("Invalid navigation guard"))));else if(h!==void 0&&!f._called){dt(v),d(new Error("Invalid navigation guard"));return}}g.catch(v=>d(v))})}function yI(r,e,n){let i=0;return function(){i++===1&&dt(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),r._called=!0,i===1&&r.apply(null,arguments)}}function Yp(r,e,n,i,t=a=>a()){const a=[];for(const s of r){!s.components&&!s.children.length&&dt(`Record with path "${s.path}" is either missing a "component(s)" or "children" property.`);for(const l in s.components){let d=s.components[l];{if(!d||typeof d!="object"&&typeof d!="function")throw dt(`Component "${l}" in record with path "${s.path}" is not a valid component. Received "${String(d)}".`),new Error("Invalid route component");if("then"in d){dt(`Component "${l}" in record with path "${s.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const f=d;d=()=>f}else d.__asyncLoader&&!d.__warnedDefineAsync&&(d.__warnedDefineAsync=!0,dt(`Component "${l}" in record with path "${s.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!s.instances[l]))if(bI(d)){const h=(d.__vccOpts||d)[e];h&&a.push(Oa(h,n,i,s,l,t))}else{let f=d();"catch"in f||(dt(`Component "${l}" in record with path "${s.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),f=Promise.resolve(f)),a.push(()=>f.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${s.path}"`));const g=bP(h)?h.default:h;s.components[l]=g;const T=(g.__vccOpts||g)[e];return T&&Oa(T,n,i,s,l,t)()}))}}}return a}function bI(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function Ey(r){const e=an(Vf),n=an(Ym);let i=!1,t=null;const a=Fr(()=>{const h=hr(r.to);return(!i||h!==t)&&(Zd(h)||(i?dt(`Invalid value for prop "to" in useLink()
- to:`,h,`
- previous to:`,t,`
- props:`,r):dt(`Invalid value for prop "to" in useLink()
- to:`,h,`
- props:`,r)),t=h,i=!0),e.resolve(h)}),s=Fr(()=>{const{matched:h}=a.value,{length:g}=h,v=h[g-1],T=n.matched;if(!v||!T.length)return-1;const A=T.findIndex(Ua.bind(null,v));if(A>-1)return A;const P=wy(h[g-2]);return g>1&&wy(v)===P&&T[T.length-1].path!==P?T.findIndex(Ua.bind(null,h[g-2])):A}),l=Fr(()=>s.value>-1&&EI(n.params,a.value.params)),d=Fr(()=>s.value>-1&&s.value===n.matched.length-1&&$S(n.params,a.value.params));function f(h={}){return xI(h)?e[hr(r.replace)?"replace":"push"](hr(r.to)).catch(pl):Promise.resolve()}if(ji){const h=Ms();if(h){const g={route:a.value,isActive:l.value,isExactActive:d.value,error:null};h.__vrl_devtools=h.__vrl_devtools||[],h.__vrl_devtools.push(g),$m(()=>{g.route=a.value,g.isActive=l.value,g.isExactActive=d.value,g.error=Zd(hr(r.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:a,href:Fr(()=>a.value.href),isActive:l,isExactActive:d,navigate:f}}const TI=Gl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ey,setup(r,{slots:e}){const n=Hl(Ey(r)),{options:i}=an(Vf),t=Fr(()=>({[Cy(r.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Cy(r.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&e.default(n);return r.custom?a:Cl("a",{"aria-current":n.isExactActive?r.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:t.value},a)}}}),SI=TI;function xI(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function EI(r,e){for(const n in e){const i=e[n],t=r[n];if(typeof i=="string"){if(i!==t)return!1}else if(!mn(t)||t.length!==i.length||i.some((a,s)=>a!==t[s]))return!1}return!0}function wy(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Cy=(r,e,n)=>r!=null?r:e!=null?e:n,wI=Gl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:n}){CI();const i=an(zg),t=Fr(()=>r.route||i.value),a=an(xy,0),s=Fr(()=>{let f=hr(a);const{matched:h}=t.value;let g;for(;(g=h[f])&&!g.components;)f++;return f}),l=Fr(()=>t.value.matched[s.value]);Pd(xy,Fr(()=>s.value+1)),Pd(_I,l),Pd(zg,t);const d=In();return $n(()=>[d.value,l.value,r.name],([f,h,g],[v,T,A])=>{h&&(h.instances[g]=f,T&&T!==h&&f&&f===v&&(h.leaveGuards.size||(h.leaveGuards=T.leaveGuards),h.updateGuards.size||(h.updateGuards=T.updateGuards))),f&&h&&(!T||!Ua(h,T)||!v)&&(h.enterCallbacks[g]||[]).forEach(P=>P(f))},{flush:"post"}),()=>{const f=t.value,h=r.name,g=l.value,v=g&&g.components[h];if(!v)return Ay(n.default,{Component:v,route:f});const T=g.props[h],A=T?T===!0?f.params:typeof T=="function"?T(f):T:null,D=Cl(v,bt({},A,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(g.instances[h]=null)},ref:d}));if(ji&&D.ref){const R={depth:s.value,name:g.name,path:g.path,meta:g.meta};(mn(D.ref)?D.ref.map($=>$.i):[D.ref.i]).forEach($=>{$.__vrv_devtools=R})}return Ay(n.default,{Component:D,route:f})||D}}});function Ay(r,e){if(!r)return null;const n=r(e);return n.length===1?n[0]:n}const GS=wI;function CI(){const r=Ms(),e=r.parent&&r.parent.type.name,n=r.parent&&r.parent.subTree&&r.parent.subTree.type;if(e&&(e==="KeepAlive"||e.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const i=e==="KeepAlive"?"keep-alive":"transition";dt(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${i}>
    <component :is="Component" />
  </${i}>
</router-view>`)}}function Wu(r,e){const n=bt({},r,{matched:r.matched.map(i=>MI(i,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:r.fullPath,tooltip:e,value:n}}}function fd(r){return{_custom:{display:r}}}let AI=0;function kI(r,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const i=AI++;pP({id:"org.vuejs.router"+(i?"."+i:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:r},t=>{typeof t.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),t.on.inspectComponent((h,g)=>{h.instanceData&&h.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Wu(e.currentRoute.value,"Current Route")})}),t.on.visitComponentTree(({treeNode:h,componentInstance:g})=>{if(g.__vrv_devtools){const v=g.__vrv_devtools;h.tags.push({label:(v.name?`${v.name.toString()}: `:"")+v.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:zS})}mn(g.__vrl_devtools)&&(g.__devtoolsApi=t,g.__vrl_devtools.forEach(v=>{let T=v.route.path,A=JS,P="",D=0;v.error?(T=v.error,A=LI,D=RI):v.isExactActive?(A=XS,P="This is exactly active"):v.isActive&&(A=KS,P="This link is active"),h.tags.push({label:T,textColor:D,tooltip:P,backgroundColor:A})}))}),$n(e.currentRoute,()=>{d(),t.notifyComponentUpdate(),t.sendInspectorTree(l),t.sendInspectorState(l)});const a="router:navigations:"+i;t.addTimelineLayer({id:a,label:`Router${i?" "+i:""} Navigations`,color:4237508}),e.onError((h,g)=>{t.addTimelineEvent({layerId:a,event:{title:"Error during Navigation",subtitle:g.fullPath,logType:"error",time:t.now(),data:{error:h},groupId:g.meta.__navigationId}})});let s=0;e.beforeEach((h,g)=>{const v={guard:fd("beforeEach"),from:Wu(g,"Current Location during this navigation"),to:Wu(h,"Target location")};Object.defineProperty(h.meta,"__navigationId",{value:s++}),t.addTimelineEvent({layerId:a,event:{time:t.now(),title:"Start of navigation",subtitle:h.fullPath,data:v,groupId:h.meta.__navigationId}})}),e.afterEach((h,g,v)=>{const T={guard:fd("afterEach")};v?(T.failure={_custom:{type:Error,readOnly:!0,display:v?v.message:"",tooltip:"Navigation Failure",value:v}},T.status=fd("\u274C")):T.status=fd("\u2705"),T.from=Wu(g,"Current Location during this navigation"),T.to=Wu(h,"Target location"),t.addTimelineEvent({layerId:a,event:{title:"End of navigation",subtitle:h.fullPath,time:t.now(),data:T,logType:v?"warning":"default",groupId:h.meta.__navigationId}})});const l="router-inspector:"+i;t.addInspector({id:l,label:"Routes"+(i?" "+i:""),icon:"book",treeFilterPlaceholder:"Search routes"});function d(){if(!f)return;const h=f;let g=n.getRoutes().filter(v=>!v.parent||!v.parent.record.components);g.forEach(ZS),h.filter&&(g=g.filter(v=>Kg(v,h.filter.toLowerCase()))),g.forEach(v=>QS(v,e.currentRoute.value)),h.rootNodes=g.map(YS)}let f;t.on.getInspectorTree(h=>{f=h,h.app===r&&h.inspectorId===l&&d()}),t.on.getInspectorState(h=>{if(h.app===r&&h.inspectorId===l){const v=n.getRoutes().find(T=>T.record.__vd_id===h.nodeId);v&&(h.state={options:PI(v)})}}),t.sendInspectorTree(l),t.sendInspectorState(l)})}function DI(r){return r.optional?r.repeatable?"*":"?":r.repeatable?"+":""}function PI(r){const{record:e}=r,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:r.re}),r.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:r.keys.map(i=>`${i.name}${DI(i)}`).join(" "),tooltip:"Param keys",value:r.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),r.alias.length&&n.push({editable:!1,key:"aliases",value:r.alias.map(i=>i.record.path)}),Object.keys(r.record.meta).length&&n.push({editable:!1,key:"meta",value:r.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:r.score.map(i=>i.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:r.score}}}),n}const zS=15485081,KS=2450411,XS=8702998,II=2282478,JS=16486972,OI=6710886,LI=16704226,RI=12131356;function YS(r){const e=[],{record:n}=r;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:II}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:JS}),r.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:zS}),r.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:XS}),r.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:KS}),n.redirect&&e.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:OI});let i=n.__vd_id;return i==null&&(i=String(NI++),n.__vd_id=i),{id:i,label:n.path,tags:e,children:r.children.map(YS)}}let NI=0;const FI=/^\/(.*)\/([a-z]*)$/;function QS(r,e){const n=e.matched.length&&Ua(e.matched[e.matched.length-1],r.record);r.__vd_exactActive=r.__vd_active=n,n||(r.__vd_active=e.matched.some(i=>Ua(i,r.record))),r.children.forEach(i=>QS(i,e))}function ZS(r){r.__vd_match=!1,r.children.forEach(ZS)}function Kg(r,e){const n=String(r.re).match(FI);if(r.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return r.children.forEach(s=>Kg(s,e)),r.record.path!=="/"||e==="/"?(r.__vd_match=r.re.test(e),!0):!1;const t=r.record.path.toLowerCase(),a=No(t);return!e.startsWith("/")&&(a.includes(e)||t.includes(e))||a.startsWith(e)||t.startsWith(e)||r.record.name&&String(r.record.name).includes(e)?!0:r.children.some(s=>Kg(s,e))}function MI(r,e){const n={};for(const i in r)e.includes(i)||(n[i]=r[i]);return n}function BI(r){const e=lI(r.routes,r),n=r.parseQuery||mI,i=r.stringifyQuery||Sy,t=r.history;if(!t)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const a=qu(),s=qu(),l=qu(),d=Ad(wa);let f=wa;ji&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Xp.bind(null,ne=>""+ne),g=Xp.bind(null,LP),v=Xp.bind(null,No);function T(ne,ye){let Se,Fe;return HS(ne)?(Se=e.getRecordMatcher(ne),Se||dt(`Parent route "${String(ne)}" not found when adding child route`,ye),Fe=ye):Fe=ne,e.addRoute(Fe,Se)}function A(ne){const ye=e.getRecordMatcher(ne);ye?e.removeRoute(ye):dt(`Cannot remove non-existent route "${String(ne)}"`)}function P(){return e.getRoutes().map(ne=>ne.record)}function D(ne){return!!e.getRecordMatcher(ne)}function R(ne,ye){if(ye=bt({},ye||d.value),typeof ne=="string"){const F=Jp(n,ne,ye.path),W=e.resolve({path:F.path},ye),re=t.createHref(F.fullPath);return re.startsWith("//")?dt(`Location "${ne}" resolved to "${re}". A resolved location cannot start with multiple slashes.`):W.matched.length||dt(`No match found for location with path "${ne}"`),bt(F,W,{params:v(W.params),hash:No(F.hash),redirectedFrom:void 0,href:re})}Zd(ne)||(dt(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,ne),ne={});let Se;if(ne.path!=null)"params"in ne&&!("name"in ne)&&Object.keys(ne.params).length&&dt(`Path "${ne.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),Se=bt({},ne,{path:Jp(n,ne.path,ye.path).path});else{const F=bt({},ne.params);for(const W in F)F[W]==null&&delete F[W];Se=bt({},ne,{params:g(F)}),ye.params=g(ye.params)}const Fe=e.resolve(Se,ye),Ze=ne.hash||"";Ze&&!Ze.startsWith("#")&&dt(`A \`hash\` should always start with the character "#". Replace "${Ze}" with "#${Ze}".`),Fe.params=h(v(Fe.params));const Tt=FP(i,bt({},ne,{hash:PP(Ze),path:Fe.path})),nt=t.createHref(Tt);return nt.startsWith("//")?dt(`Location "${ne}" resolved to "${nt}". A resolved location cannot start with multiple slashes.`):Fe.matched.length||dt(`No match found for location with path "${ne.path!=null?ne.path:ne}"`),bt({fullPath:Tt,hash:Ze,query:i===Sy?vI(ne.query):ne.query||{}},Fe,{redirectedFrom:void 0,href:nt})}function M(ne){return typeof ne=="string"?Jp(n,ne,d.value.path):bt({},ne)}function $(ne,ye){if(f!==ne)return Fo(8,{from:ye,to:ne})}function U(ne){return H(ne)}function J(ne){return U(bt(M(ne),{replace:!0}))}function te(ne){const ye=ne.matched[ne.matched.length-1];if(ye&&ye.redirect){const{redirect:Se}=ye;let Fe=typeof Se=="function"?Se(ne):Se;if(typeof Fe=="string"&&(Fe=Fe.includes("?")||Fe.includes("#")?Fe=M(Fe):{path:Fe},Fe.params={}),Fe.path==null&&!("name"in Fe))throw dt(`Invalid redirect found:
${JSON.stringify(Fe,null,2)}
 when navigating to "${ne.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return bt({query:ne.query,hash:ne.hash,params:Fe.path!=null?{}:ne.params},Fe)}}function H(ne,ye){const Se=f=R(ne),Fe=d.value,Ze=ne.state,Tt=ne.force,nt=ne.replace===!0,F=te(Se);if(F)return H(bt(M(F),{state:typeof F=="object"?bt({},Ze,F.state):Ze,force:Tt,replace:nt}),ye||Se);const W=Se;W.redirectedFrom=ye;let re;return!Tt&&fy(i,Fe,Se)&&(re=Fo(16,{to:W,from:Fe}),wr(Fe,Fe,!0,!1)),(re?Promise.resolve(re):K(W,Fe)).catch(ie=>Li(ie)?Li(ie,2)?ie:lt(ie):Ee(ie,W,Fe)).then(ie=>{if(ie){if(Li(ie,2))return fy(i,R(ie.to),W)&&ye&&(ye._count=ye._count?ye._count+1:1)>30?(dt(`Detected a possibly infinite redirection in a navigation guard when going from "${Fe.fullPath}" to "${W.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):H(bt({replace:nt},M(ie.to),{state:typeof ie.to=="object"?bt({},Ze,ie.to.state):Ze,force:Tt}),ye||W)}else ie=Z(W,Fe,!0,nt,Ze);return ee(W,Fe,ie),ie})}function V(ne,ye){const Se=$(ne,ye);return Se?Promise.reject(Se):Promise.resolve()}function X(ne){const ye=sr.values().next().value;return ye&&typeof ye.runWithContext=="function"?ye.runWithContext(ne):ne()}function K(ne,ye){let Se;const[Fe,Ze,Tt]=UI(ne,ye);Se=Yp(Fe.reverse(),"beforeRouteLeave",ne,ye);for(const F of Fe)F.leaveGuards.forEach(W=>{Se.push(Oa(W,ne,ye))});const nt=V.bind(null,ne,ye);return Se.push(nt),Ut(Se).then(()=>{Se=[];for(const F of a.list())Se.push(Oa(F,ne,ye));return Se.push(nt),Ut(Se)}).then(()=>{Se=Yp(Ze,"beforeRouteUpdate",ne,ye);for(const F of Ze)F.updateGuards.forEach(W=>{Se.push(Oa(W,ne,ye))});return Se.push(nt),Ut(Se)}).then(()=>{Se=[];for(const F of Tt)if(F.beforeEnter)if(mn(F.beforeEnter))for(const W of F.beforeEnter)Se.push(Oa(W,ne,ye));else Se.push(Oa(F.beforeEnter,ne,ye));return Se.push(nt),Ut(Se)}).then(()=>(ne.matched.forEach(F=>F.enterCallbacks={}),Se=Yp(Tt,"beforeRouteEnter",ne,ye,X),Se.push(nt),Ut(Se))).then(()=>{Se=[];for(const F of s.list())Se.push(Oa(F,ne,ye));return Se.push(nt),Ut(Se)}).catch(F=>Li(F,8)?F:Promise.reject(F))}function ee(ne,ye,Se){l.list().forEach(Fe=>X(()=>Fe(ne,ye,Se)))}function Z(ne,ye,Se,Fe,Ze){const Tt=$(ne,ye);if(Tt)return Tt;const nt=ye===wa,F=ji?history.state:{};Se&&(Fe||nt?t.replace(ne.fullPath,bt({scroll:nt&&F&&F.scroll},Ze)):t.push(ne.fullPath,Ze)),d.value=ne,wr(ne,ye,Se,nt),lt()}let ue;function Me(){ue||(ue=t.listen((ne,ye,Se)=>{if(!Cr.listening)return;const Fe=R(ne),Ze=te(Fe);if(Ze){H(bt(Ze,{replace:!0}),Fe).catch(pl);return}f=Fe;const Tt=d.value;ji&&qP(py(Tt.fullPath,Se.delta),$f()),K(Fe,Tt).catch(nt=>Li(nt,12)?nt:Li(nt,2)?(H(nt.to,Fe).then(F=>{Li(F,20)&&!Se.delta&&Se.type===kl.pop&&t.go(-1,!1)}).catch(pl),Promise.reject()):(Se.delta&&t.go(-Se.delta,!1),Ee(nt,Fe,Tt))).then(nt=>{nt=nt||Z(Fe,Tt,!1),nt&&(Se.delta&&!Li(nt,8)?t.go(-Se.delta,!1):Se.type===kl.pop&&Li(nt,20)&&t.go(-1,!1)),ee(Fe,Tt,nt)}).catch(pl)}))}let Ue=qu(),ke=qu(),ge;function Ee(ne,ye,Se){lt(ne);const Fe=ke.list();return Fe.length?Fe.forEach(Ze=>Ze(ne,ye,Se)):(dt("uncaught error during route navigation:"),console.error(ne)),Promise.reject(ne)}function mt(){return ge&&d.value!==wa?Promise.resolve():new Promise((ne,ye)=>{Ue.add([ne,ye])})}function lt(ne){return ge||(ge=!ne,Me(),Ue.list().forEach(([ye,Se])=>ne?Se(ne):ye()),Ue.reset()),ne}function wr(ne,ye,Se,Fe){const{scrollBehavior:Ze}=r;if(!ji||!Ze)return Promise.resolve();const Tt=!Se&&WP(py(ne.fullPath,0))||(Fe||!Se)&&history.state&&history.state.scroll||null;return Hd().then(()=>Ze(ne,ye,Tt)).then(nt=>nt&&HP(nt)).catch(nt=>Ee(nt,ne,ye))}const It=ne=>t.go(ne);let Bt;const sr=new Set,Cr={currentRoute:d,listening:!0,addRoute:T,removeRoute:A,hasRoute:D,getRoutes:P,resolve:R,options:r,push:U,replace:J,go:It,back:()=>It(-1),forward:()=>It(1),beforeEach:a.add,beforeResolve:s.add,afterEach:l.add,onError:ke.add,isReady:mt,install(ne){const ye=this;ne.component("RouterLink",SI),ne.component("RouterView",GS),ne.config.globalProperties.$router=ye,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>hr(d)}),ji&&!Bt&&d.value===wa&&(Bt=!0,U(t.location).catch(Ze=>{dt("Unexpected error when starting the router:",Ze)}));const Se={};for(const Ze in wa)Object.defineProperty(Se,Ze,{get:()=>d.value[Ze],enumerable:!0});ne.provide(Vf,ye),ne.provide(Ym,kT(Se)),ne.provide(zg,d);const Fe=ne.unmount;sr.add(ne),ne.unmount=function(){sr.delete(ne),sr.size<1&&(f=wa,ue&&ue(),ue=null,d.value=wa,Bt=!1,ge=!1),Fe()},ji&&kI(ne,ye,e)}};function Ut(ne){return ne.reduce((ye,Se)=>ye.then(()=>X(Se)),Promise.resolve())}return Cr}function UI(r,e){const n=[],i=[],t=[],a=Math.max(e.matched.length,r.matched.length);for(let s=0;s<a;s++){const l=e.matched[s];l&&(r.matched.find(f=>Ua(f,l))?i.push(l):n.push(l));const d=r.matched[s];d&&(e.matched.find(f=>Ua(f,d))||t.push(d))}return[n,i,t]}function kM(){return an(Vf)}function DM(){return an(Ym)}const jI=Gl({__name:"App",setup(r){return(e,n)=>(Mf(),Km(hr(GS)))}}),$I=(r,e)=>{const n=r.__vccOpts||r;for(const[i,t]of e)n[i]=t;return n},VI=$I(jI,[["__file","/Users/yunmingchun/Project/mate_index2/src/App.vue"]]),HI="modulepreload",qI=function(r,e){return new URL(r,e).href},ky={},hd=function(e,n,i){if(!n||n.length===0)return e();const t=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=qI(a,i),a in ky)return;ky[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!i)for(let h=t.length-1;h>=0;h--){const g=t[h];if(g.href===a&&(!s||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":HI,s||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),s)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},WI=BI({history:JP("/"),routes:[{path:"/",redirect:"/",component:()=>hd(()=>import("./defaultView.ef0f48ea.js"),["./defaultView.ef0f48ea.js","./index.1c8ee86f.js","./index.c3af7bf3.js","./close_icon.03f8cea3.js","./index.3156440f.js","./defaultView.6d444c18.css"],import.meta.url),meta:{title:"",keepAlive:!0},children:[{path:"/",component:()=>hd(()=>import("./indexView.e4909487.js"),["./indexView.e4909487.js","./index.c3af7bf3.js","./index.1c8ee86f.js","./Image.8b12f9a6.js","./indexView.f8d7ea40.css"],import.meta.url),meta:{title:"",keepAlive:!1}},{path:"chat",component:()=>hd(()=>import("./chatView.d185683f.js"),["./chatView.d185683f.js","./index.1c8ee86f.js","./index.c3af7bf3.js","./close_icon.03f8cea3.js","./Image.8b12f9a6.js","./chatView.aeef7388.css"],import.meta.url),meta:{title:"",keepAlive:!1}},{path:"becomePro",component:()=>hd(()=>import("./becomeProView.fde139b3.js"),["./becomeProView.fde139b3.js","./index.c3af7bf3.js","./index.3156440f.js","./becomeProView.17beca51.css"],import.meta.url),meta:{title:"",keepAlive:!1}}]}]}),Dy=(r,e)=>{const n=r.storage||sessionStorage,i=r.key||e.$id;if(r.paths){const t=r.paths.reduce((a,s)=>(a[s]=e.$state[s],a),{});n.setItem(i,JSON.stringify(t))}else n.setItem(i,JSON.stringify(e.$state))};var GI=({options:r,store:e})=>{var n,i,t,a;if((n=r.persist)!=null&&n.enabled){const s=[{key:e.$id,storage:sessionStorage}],l=(t=(i=r.persist)==null?void 0:i.strategies)!=null&&t.length?(a=r.persist)==null?void 0:a.strategies:s;l.forEach(d=>{const f=d.storage||sessionStorage,h=d.key||e.$id,g=f.getItem(h);g&&(e.$patch(JSON.parse(g)),Dy(d,e))}),e.$subscribe(()=>{l.forEach(d=>{Dy(d,e)})})}};const Qm=Symbol(),Zm=In(!1),Ld=In(!1),ex=In(!1),Xg=In(0);let pd=null;const zI=()=>{const r=document.createElement("script");return r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r},KI=()=>{Ld.value=!0,pd=zI(),document.head.appendChild(pd),pd.onload=()=>{Ld.value=!1,Zm.value=!0},pd.onerror=()=>{Ld.value=!1,ex.value=!0}};$n(()=>Xg.value,(r,e)=>{r>0&&!Zm.value&&!Ld.value&&KI()});function tx(){return Kl(()=>{Xg.value++}),Ff(()=>{Xg.value--}),{scriptLoaded:Oo(Zm),scriptLoadError:Oo(ex)}}const XI=Gl({__name:"GoogleSignInButton",props:{oneTap:{type:Boolean},autoSelect:{type:Boolean},loginUri:{},cancelOnTapOutside:{type:Boolean},promptParentId:{},nonce:{},context:{},stateCookieDomain:{},uxMode:{},allowedParentOrigin:{},itpSupport:{type:Boolean},type:{},theme:{},size:{},text:{},shape:{},logoAlignment:{},width:{},locale:{}},emits:["success","error","intermediateIframeCloseCallback","nativeCallback","promptMomentNotification"],setup(r,{emit:e}){const n={large:40,medium:32,small:20},i=r,t=e,a=an(Qm),s=In(null),{scriptLoaded:l}=tx();$m(()=>{var f,h,g,v;l.value&&((f=window.google)==null||f.accounts.id.initialize({client_id:a,callback:T=>{if(!T.clientId||!T.credential){t("error");return}t("success",T)},allowed_parent_origin:i.allowedParentOrigin,auto_select:i.autoSelect,cancel_on_tap_outside:i.cancelOnTapOutside,context:i.context,intermediate_iframe_close_callback:()=>{t("intermediateIframeCloseCallback")},itp_support:i.itpSupport,login_uri:i.loginUri,native_callback:T=>{t("nativeCallback",T)},nonce:i.nonce,prompt_parent_id:i.promptParentId,state_cookie_domain:i.stateCookieDomain,ux_mode:i.uxMode}),(g=window.google)==null||g.accounts.id.renderButton(s.value,{type:i.type,theme:i.theme,size:i.size,text:i.text,shape:i.shape,logo_alignment:i.logoAlignment,width:(h=i.width)==null?void 0:h.toString(),locale:i.locale}),i.oneTap&&((v=window.google)==null||v.accounts.id.prompt(T=>{t("promptMomentNotification",T)})))}),Ff(()=>{var f;i.oneTap&&((f=window.google)==null||f.accounts.id.cancel())});const d=Fr(()=>n[i.size||"large"]);return(f,h)=>(Mf(),tD("div",{ref_key:"targetElement",ref:s,style:Af({display:"inline-flex",height:d.value})},null,4))}});function PM(r){const{disableAutomaticPrompt:e=!1,onSuccess:n,onError:i,onPromptMomentNotification:t,onNativeCallback:a,onIntermediateIframeCloseCallback:s,autoSelect:l,loginUri:d,cancelOnTapOutside:f,promptParentId:h,nonce:g,context:v,stateCookieDomain:T,allowedParentOrigin:A,itpSupport:P}=r||{},{scriptLoaded:D}=tx(),R=an(Qm),M=In(!1),$=()=>{var U;return M.value&&((U=window.google)==null?void 0:U.accounts.id.prompt(J=>t==null?void 0:t(J)))};return $m(U=>{var J,te;if(M.value=!1,!D.value)return;const H=!hr(e),V=hr(l),X=hr(d),K=hr(h),ee=hr(g),Z=hr(v),ue=hr(T),Me=hr(A),Ue=hr(P),ke=hr(f);(J=window.google)==null||J.accounts.id.initialize({client_id:R,callback:ge=>{if(!ge.clientId||!ge.credential){i==null||i();return}n==null||n(ge)},native_callback:ge=>{a==null||a(ge)},intermediate_iframe_close_callback:()=>{s==null||s()},auto_select:V,allowed_parent_origin:Me,context:Z,itp_support:Ue,login_uri:X,nonce:ee,prompt_parent_id:K,state_cookie_domain:ue,cancel_on_tap_outside:ke}),M.value=!0,H&&((te=window.google)==null||te.accounts.id.prompt(ge=>t==null?void 0:t(ge))),U(()=>{var ge;(ge=window.google)==null||ge.accounts.id.cancel()})}),{isReady:Oo(M),login:$}}const JI="GoogleSignInPlugin",Py=r=>`[${JI}]: ${r}`,YI={install(r,e){if(!e)throw new Error(Py("initialize plugin by passing an options object"));if(!e.clientId||e.clientId&&e.clientId.trim().length===0)throw new Error(Py("clientId is required to initialize"));r.provide(Qm,e.clientId),r.component("GoogleSignInButton",XI)}};var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rx(r){var e=r.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var t=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,t.get?t:{enumerable:!0,get:function(){return r[i]}})}),n}var nx={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(Dl,function(){function n(u){if(!u)return!1;var c=Object.prototype.toString.call(u);return c=="[object Function]"||c=="[object AsyncFunction]"}function i(){return Date.now&&n(Date.now)?Date.now():new Date().getTime()}function t(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"}function a(){if(typeof Uint32Array=="function"){var u="";if(typeof crypto<"u"?u=crypto:typeof msCrypto<"u"&&(u=msCrypto),t(u)&&u.getRandomValues){var c=new Uint32Array(1),p=u.getRandomValues(c)[0],_=Math.pow(2,32);return p/_}}return g0(1e19)/1e19}function s(u){var c=null;try{c=JSON.parse(u)}catch{}return c}function l(u,c){this.lockGetPrefix=u||"lock-get-prefix",this.lockSetPrefix=c||"lock-set-prefix"}function d(u){return typeof u=="function"||!(!u||typeof u!="object")&&d(u.listener)}function f(){this._events={}}function h(u){var c=u;try{c=decodeURIComponent(u)}catch{c=u}return c}function g(){function u(){}return typeof Object.create!="function"?(u.prototype=null,new u):Object.create(null)}function v(u){u=u||"";for(var c=g(),p=u.substring(1),_=p.split("&"),b=0;b<_.length;b++){var w=_[b].indexOf("=");if(w!==-1){var L=_[b].substring(0,w),z=_[b].substring(w+1);L=h(L),z=h(z),c[L]=z}}return c}function T(u){return Object.prototype.toString.call(u)=="[object String]"}function A(u){return u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function P(u){var c=function(p){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,typeof p<"u"&&this._parse(p)};return c.prototype.setUrl=function(p){this._parse(p)},c.prototype._initValues=function(){for(var p in this._fields)this._values[p]=""},c.prototype.addQueryString=function(p){if(typeof p!="object")return!1;var _=this._values.QueryString||"";for(var b in p)_=new RegExp(b+"[^&]+").test(_)?_.replace(new RegExp(b+"[^&]+"),b+"="+p[b]):_.slice(-1)==="&"?_+b+"="+p[b]:_===""?b+"="+p[b]:_+"&"+b+"="+p[b];this._values.QueryString=_},c.prototype.getUrl=function(){var p="";return p+=this._values.Origin,p+=this._values.Port?":"+this._values.Port:"",p+=this._values.Path,p+=this._values.QueryString?"?"+this._values.QueryString:"",p+=this._values.Fragment?"#"+this._values.Fragment:""},c.prototype._parse=function(p){this._initValues();var _=this._regex.exec(p);_||cr.log("URLParser::_parse -> Invalid URL");var b=p.split("#"),w=b[0],L=b.slice(1).join("#");_=this._regex.exec(w);for(var z in this._fields)typeof _[this._fields[z]]<"u"&&(this._values[z]=_[this._fields[z]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname,this._values.Fragment=L},new c(u)}function D(u){var c={},p=function(){var w;try{return w=new URL("http://modernizr.com/"),w.href==="http://modernizr.com/"}catch{return!1}};if(typeof window.URL=="function"&&p())c=new URL(u),c.searchParams||(c.searchParams=function(){var w=v(c.search);return{get:function(L){return w[L]}}}());else{T(u)||(u=String(u)),u=A(u);var _=/^https?:\/\/.+/;if(_.test(u)===!1)return void cr.log("Invalid URL");var b=P(u);c.hash=b._values.Fragment,c.host=b._values.Host?b._values.Host+(b._values.Port?":"+b._values.Port:""):"",c.href=b._values.URL,c.password=b._values.Password,c.pathname=b._values.Path,c.port=b._values.Port,c.search=b._values.QueryString?"?"+b._values.QueryString:"",c.username=b._values.Username,c.hostname=b._values.Hostname,c.protocol=b._values.Protocol?b._values.Protocol+":":"",c.origin=b._values.Origin?b._values.Origin+(b._values.Port?":"+b._values.Port:""):"",c.searchParams=function(){var w=v("?"+b._values.QueryString);return{get:function(L){return w[L]}}}()}return c}function R(u){return!(!u||u.nodeType!==1)}function M(u){return u===void 0}function $(u){return Array.isArray&&n($)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"}function U(u){return new m0(u)}function J(u,c,p,_){function b(z){return z&&(z.preventDefault=b.preventDefault,z.stopPropagation=b.stopPropagation,z._getPath=b._getPath),z}function w(z,ae,pe,Ae){var tt=function(at){if(at=at||b(window.event)){at.target=at.srcElement;var $t,br,nr=!0;return typeof pe=="function"&&($t=pe(at)),br=ae.call(z,at),Ae!=="beforeunload"?($t!==!1&&br!==!1||(nr=!1),nr):void 0}};return tt}b._getPath=function(){var z=this;return this.path||this.composedPath&&this.composedPath()||U(z.target).getParents()},b.preventDefault=function(){this.returnValue=!1},b.stopPropagation=function(){this.cancelBubble=!0};var L=function(z,ae,pe){if(_===void 0&&ae==="click"&&(_=!0),z&&z.addEventListener)z.addEventListener(ae,function(at){at._getPath=b._getPath,pe.call(this,at)},_);else{var Ae="on"+ae,tt=z[Ae];z[Ae]=w(z,pe,tt,ae)}};L.apply(null,arguments)}function te(u){var c="pushState"in window.history?"popstate":"hashchange";J(window,c,u)}function H(u){if(u)return typeof window.XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:typeof XDomainRequest<"u"?new XDomainRequest:null;if(typeof window.XMLHttpRequest<"u")return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(p){cr.log(p)}}}function V(u,c,p){if(u==null)return!1;if(_0&&u.forEach===_0)u.forEach(c,p);else if($(u))for(var _=0,b=u.length;_<b;_++)_ in u&&c.call(p,u[_],_,u);else for(var w in u)ow.call(u,w)&&c.call(p,u[w],w,u)}function X(u){return V(Array.prototype.slice.call(arguments,1),function(c){for(var p in c)uw.call(c,p)&&c[p]!==void 0&&(u[p]=c[p])}),u}function K(u){function c(z){if(!z)return"";try{return JSON.parse(z)}catch{return{}}}function p(){try{_&&typeof _=="object"&&_.abort&&_.abort()}catch(z){cr.log(z)}b&&(clearTimeout(b),b=null,u.error&&u.error(),_.onreadystatechange=null,_.onload=null,_.onerror=null)}u.timeout=u.timeout||2e4,u.credentials=typeof u.credentials>"u"||u.credentials;var _=H(u.cors);if(!_)return!1;u.type||(u.type=u.data?"POST":"GET"),u=X({success:function(){},error:function(){}},u);var b,w=u.success,L=u.error;u.success=function(z){w(z),b&&(clearTimeout(b),b=null)},u.error=function(z){L(z),b&&(clearTimeout(b),b=null)},b=setTimeout(function(){p()},u.timeout),typeof XDomainRequest<"u"&&_ instanceof XDomainRequest&&(_.onload=function(){u.success&&u.success(c(_.responseText)),_.onreadystatechange=null,_.onload=null,_.onerror=null},_.onerror=function(){u.error&&u.error(c(_.responseText),_.status),_.onreadystatechange=null,_.onerror=null,_.onload=null}),_.onreadystatechange=function(){try{_.readyState==4&&(_.status>=200&&_.status<300||_.status==304?u.success(c(_.responseText)):u.error(c(_.responseText),_.status),_.onreadystatechange=null,_.onload=null)}catch{_.onreadystatechange=null,_.onload=null}},_.open(u.type,u.url,!0);try{u.credentials&&(_.withCredentials=!0),t(u.header)&&V(u.header,function(z,ae){_.setRequestHeader&&_.setRequestHeader(ae,z)}),u.data&&(u.cors||_.setRequestHeader&&_.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.contentType==="application/json"?_.setRequestHeader&&_.setRequestHeader("Content-type","application/json; charset=UTF-8"):_.setRequestHeader&&_.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(z){cr.log(z)}_.send(u.data||null)}function ee(u,c){var p=[];return u==null?p:Array.prototype.map&&u.map===Array.prototype.map?u.map(c):(V(u,function(_,b,w){p.push(c(_,b,w))}),p)}function Z(u){var c=[];try{c=ee(atob(u).split(""),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)})}catch{c=[]}try{return decodeURIComponent(c.join(""))}catch{return c.join("")}}function ue(u){var c="";try{c=btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,function(p,_){return String.fromCharCode("0x"+_)}))}catch{c=u}return c}function Me(u,c){c=c||window;var p=!1,_=!0,b=c.document,w=b.documentElement,L=b.addEventListener,z=L?"addEventListener":"attachEvent",ae=L?"removeEventListener":"detachEvent",pe=L?"":"on",Ae=function(at){at.type=="readystatechange"&&b.readyState!="complete"||((at.type=="load"?c:b)[ae](pe+at.type,Ae,!1),!p&&(p=!0)&&u.call(c,at.type||at))},tt=function(){try{w.doScroll("left")}catch{return void setTimeout(tt,50)}Ae("poll")};if(b.readyState=="complete")u.call(c,"lazy");else{if(!L&&w.doScroll){try{_=!c.frameElement}catch(at){cr.log(at)}_&&tt()}b[z](pe+"DOMContentLoaded",Ae,!1),b[z](pe+"readystatechange",Ae,!1),c[z](pe+"load",Ae,!1)}}function Ue(u){return V(Array.prototype.slice.call(arguments,1),function(c){for(var p in c)c[p]!==void 0&&u[p]===void 0&&(u[p]=c[p])}),u}function ke(u){var c=u;try{c=decodeURI(u)}catch{c=u}return c}function ge(u){var c="t6KJCZa5pDdQ9khoEM3Tj70fbP2eLSyc4BrsYugARqFIw1mzlGNVXOHiWvxUn8",p=c.length-1,_={},b=0;for(b=0;b<c.length;b++)_[c.charAt(b)]=c.charAt(p-b);var w="";for(b=0;b<u.length;b++)w+=u.charAt(b)in _?_[u.charAt(b)]:u.charAt(b);return w}function Ee(u){return Object.prototype.toString.call(u)=="[object Date]"}function mt(u){function c(p){return p<10?"0"+p:p}return u.getFullYear()+"-"+c(u.getMonth()+1)+"-"+c(u.getDate())+" "+c(u.getHours())+":"+c(u.getMinutes())+":"+c(u.getSeconds())+"."+c(u.getMilliseconds())}function lt(u){return V(u,function(c,p){Ee(c)?u[p]=mt(c):t(c)&&(u[p]=lt(c))}),u}function wr(u){return V(Array.prototype.slice.call(arguments,1),function(c){for(var p in c)c[p]!==void 0&&(t(c[p])&&t(u[p])?X(u[p],c[p]):u[p]=c[p])}),u}function It(u,c,p){var _=Object.prototype.hasOwnProperty;if(u.filter)return u.filter(c);for(var b=[],w=0;w<u.length;w++)if(_.call(u,w)){var L=u[w];c.call(p,L,w,u)&&b.push(L)}return b}function Bt(u){try{return JSON.stringify(u,null,"  ")}catch{return JSON.stringify(u)}}function sr(u){return typeof u=="string"&&u.match(/^[a-zA-Z0-9\u4e00-\u9fa5\-\.]+$/)?u:""}function Cr(u,c,p){u=u||location.hostname,c=c||"domain_test";var _=sr(u),b=_.split(".");if($(b)&&b.length>=2&&!/^(\d+\.)+\d+$/.test(_)){for(var w="."+b.splice(b.length-1,1);b.length>0;)if(w="."+b.splice(b.length-1,1)+w,Za.set(c,"true",0,null,p,"; domain="+w),document.cookie.indexOf(c+"=true")!==-1)return Za.set(c,"true","-1s",null,p,"; domain="+w),w}return""}function Ut(u){function c(w,L){w=A(w);var z;if(w==="body")return document.getElementsByTagName("body")[0];if(w.indexOf("#")===0)w=w.slice(1),z=document.getElementById(w);else if(w.indexOf(":nth-of-type")>-1){var ae=w.split(":nth-of-type");if(!ae[0]||!ae[1])return null;var pe=ae[0],Ae=ae[1].match(/\(([0-9]+)\)/);if(!Ae||!Ae[1])return null;var tt=Number(Ae[1]);if(!(R(L)&&L.children&&L.children.length>0))return null;for(var at=L.children,$t=0;$t<at.length;$t++)if(R(at[$t])){var br=at[$t].tagName.toLowerCase();if(br===pe&&(tt--,tt===0)){z=at[$t];break}}if(tt>0)return null}return z||null}function p(w){var L,z=_.shift();if(!z)return w;try{L=c(z,w)}catch(ae){cr.log(ae)}return L&&R(L)?p(L):null}if(!T(u))return null;var _=u.split(">"),b=null;return b=p(),b&&R(b)?b:null}function ne(u,c){var p="",_="";return u.textContent?p=A(u.textContent):u.innerText&&(p=A(u.innerText)),p&&(p=p.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),_=p||"",c!=="input"&&c!=="INPUT"||(_=u.value||""),_}function ye(u,c){c&&typeof c=="string"||(c="hostname\u89E3\u6790\u5F02\u5E38");var p=null;try{p=D(u).hostname}catch{cr.log("getHostname\u4F20\u5165\u7684url\u53C2\u6570\u4E0D\u5408\u6CD5\uFF01")}return p||c}function Se(){try{var u=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return u&&u[1]?Number.parseInt(u[1],10):""}catch{return""}}function Fe(u,c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),u=h(u);var p="[\\?&]"+c+"=([^&#]*)",_=new RegExp(p),b=_.exec(u);return b===null||b&&typeof b[1]!="string"&&b[1].length?"":h(b[1])}function Ze(u){var c={},p=u.split("?"),_=p[1]||"";return _&&(c=v("?"+_)),c}function Tt(){return typeof window.matchMedia<"u"||typeof window.msMatchMedia<"u"}function nt(){var u=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,c="\u672A\u53D6\u5230\u503C";if(u)c=u.indexOf("landscape")>-1?"landscape":"portrait";else if(Tt()){var p=window.matchMedia||window.msMatchMedia;p("(orientation: landscape)").matches?c="landscape":p("(orientation: portrait)").matches&&(c="portrait")}return c}function F(){var u,c={},p=navigator.userAgent.toLowerCase();return(u=p.match(/ qq\/([\d.]+)/))?c.qqBuildinBrowser=Number(u[1].split(".")[0]):(u=p.match(/mqqbrowser\/([\d.]+)/))?c.qqBrowser=Number(u[1].split(".")[0]):(u=p.match(/opera.([\d.]+)/))?c.opera=Number(u[1].split(".")[0]):(u=p.match(/msie ([\d.]+)/))?c.ie=Number(u[1].split(".")[0]):(u=p.match(/edge.([\d.]+)/))?c.edge=Number(u[1].split(".")[0]):(u=p.match(/firefox\/([\d.]+)/))?c.firefox=Number(u[1].split(".")[0]):(u=p.match(/chrome\/([\d.]+)/))?c.chrome=Number(u[1].split(".")[0]):(u=p.match(/version\/([\d.]+).*safari/))?c.safari=Number(u[1].match(/^\d*.\d*/)):(u=p.match(/trident\/([\d.]+)/))&&(c.ie=11),c}function W(u){return T(u)?(u=A(u),ke(u)):ke(location.href)}function re(u){return T(u)?(u=A(u),ke(u)):ke(location.pathname)}function ie(u,c){return u.hasAttribute?u.hasAttribute(c):u.attributes?!(!u.attributes[c]||!u.attributes[c].specified):void 0}function de(u,c){if(typeof c=="string")return ie(u,c);if($(c)){for(var p=!1,_=0;_<c.length;_++){var b=ie(u,c[_]);if(b){p=!0;break}}return p}}function oe(u){if(typeof u!="string")return 0;var c=0,p=null;if(u.length==0)return c;for(var _=0;_<u.length;_++)p=u.charCodeAt(_),c=(c<<5)-c+p,c&=c;return c}function we(u){var c=9007199254740992,p=-9007199254740992,_=31,b=0;if(u.length>0)for(var w=u.split(""),L=0;L<w.length;L++){var z=w[L].charCodeAt(),ae=_*b+z;if(ae>c)for(b=p+b;ae=_*b+z,ae<p;)b=b/2+z;if(ae<p)for(b=c+b;ae=_*b+z,ae>c;)b=b/2+z;b=_*b+z}return b}function ce(u,c){var p=u.indexOf;if(p)return p.call(u,c);for(var _=0;_<u.length;_++)if(c===u[_])return _;return-1}function Te(u,c){return u.prototype=new c,u.prototype.constructor=u,u.superclass=c.prototype,u}function fe(u){return!(!u||!lw.call(u,"callee"))}function Pe(u){return Object.prototype.toString.call(u)=="[object Boolean]"}function Oe(u){if(t(u)){for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c))return!1;return!0}return!1}function Be(u){if(typeof u!="string")return!1;var c=/^https?:\/\/.+/;return c.test(u)!==!1||(cr.log("Invalid URL"),!1)}function Ke(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}function it(u){try{JSON.parse(u)}catch{return!1}return!0}function ot(u){return Object.prototype.toString.call(u)=="[object Number]"&&/[\d\.]+/.test(String(u))}function St(){var u=!1;if(typeof navigator!="object"||typeof navigator.sendBeacon!="function")return u;var c=F(),p=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var _=/os [\d._]*/gi,b=p.match(_),w=(b+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),L=w.split(".");typeof c.safari>"u"&&(c.safari=L[0]),L[0]&&(c.qqBuildinBrowser||c.qqBrowser)?u=!1:L[0]&&L[0]<13?(c.chrome>41||c.firefox>30||c.opera>25||c.safari>12)&&(u=!0):(c.chrome>41||c.firefox>30||c.opera>25||c.safari>11.3)&&(u=!0)}else(c.chrome>38||c.edge>13||c.firefox>30||c.opera>25||c.safari>11)&&(u=!0);return u}function We(){return typeof window.XMLHttpRequest<"u"&&("withCredentials"in new XMLHttpRequest||typeof XDomainRequest<"u")}function Ar(u){if(!t(u)||!T(u.callbackName))return cr.log("JSONP \u8BF7\u6C42\u7F3A\u5C11 callbackName"),!1;u.success=n(u.success)?u.success:function(){},u.error=n(u.error)?u.error:function(){},u.data=u.data||"";var c=document.createElement("script"),p=document.getElementsByTagName("head")[0],_=null,b=!1;if(p.appendChild(c),ot(u.timeout)&&(_=setTimeout(function(){return!b&&(u.error("timeout"),window[u.callbackName]=function(){cr.log("call jsonp error")},_=null,p.removeChild(c),void(b=!0))},u.timeout)),window[u.callbackName]=function(){clearTimeout(_),_=null,u.success.apply(null,arguments),window[u.callbackName]=function(){cr.log("call jsonp error")},p.removeChild(c)},u.url.indexOf("?")>-1?u.url+="&callbackName="+u.callbackName:u.url+="?callbackName="+u.callbackName,t(u.data)){var w=[];V(u.data,function(L,z){w.push(z+"="+L)}),u.data=w.join("&"),u.url+="&"+u.data}c.onerror=function(L){return!b&&(window[u.callbackName]=function(){cr.log("call jsonp error")},clearTimeout(_),_=null,p.removeChild(c),u.error(L),void(b=!0))},c.src=u.url}function On(u){var c={visibleHandler:n(u.visible)?u.visible:function(){},hiddenHandler:n(u.hidden)?u.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return typeof document[this.hidden]<"u"},init:function(){typeof document.hidden<"u"?(this.hidden="hidden",this.visibilityChange="visibilitychange"):typeof document.mozHidden<"u"?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):typeof document.msHidden<"u"?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var p=this;J(document,this.visibilityChange,function(){document[p.hidden]?p.hiddenHandler():p.visibleHandler()},1)}else J(window,"focus",this.visibleHandler),J(window,"blur",this.hiddenHandler)}};c.init()}function _i(u){u=X({success:function(){},error:function(){},appendCall:function(p){document.getElementsByTagName("head")[0].appendChild(p)}},u);var c=null;u.type==="css"&&(c=document.createElement("link"),c.rel="stylesheet",c.href=u.url),u.type==="js"&&(c=document.createElement("script"),c.async="async",c.setAttribute("charset","UTF-8"),c.src=u.url,c.type="text/javascript"),c.onload=c.onreadystatechange=function(){this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete"||(u.success(),c.onload=c.onreadystatechange=null)},c.onerror=function(){u.error(),c.onerror=null},u.appendCall(c)}function yi(u){if(typeof u!="string")return"";for(var c=/^\s*javascript/i;c.test(u);)u=u.replace(c,"");return u}function qa(u,c){u=String(u),c=typeof c=="number"?c:13;for(var p=126,_=u.split(""),b=0,w=_.length;b<w;b++){var L=_[b].charCodeAt(0);L<p&&(_[b]=String.fromCharCode((_[b].charCodeAt(0)+c)%p))}return _.join("")}function Wt(u){var c=13,p=126;return u=String(u),qa(u,p-c)}function kr(u){t(u)&&V(u,function(c,p){t(c)?kr(u[p]):Ee(c)&&(u[p]=mt(c))})}function bi(u){var c=document.createElement("style");c.type="text/css";try{c.appendChild(document.createTextNode(u))}catch{c.styleSheet.cssText=u}var p=document.getElementsByTagName("head")[0],_=document.getElementsByTagName("script")[0];p?p.children.length?p.insertBefore(c,p.children[0]):p.appendChild(c):_.parentNode.insertBefore(c,_)}function ch(u){if(typeof u!="string")return cr.log("\u8F6C\u6362unicode\u9519\u8BEF",u),u;for(var c="",p=0;p<u.length;p++)c+="\\"+u.charCodeAt(p).toString(16);return c}function dh(u,c,p){var _,b,w,L=null,z=0;p||(p={});var ae=function(){z=p.leading===!1?0:i(),L=null,w=u.apply(_,b),L||(_=b=null)};return function(){var pe=i();z||p.leading!==!1||(z=pe);var Ae=c-(pe-z);return _=this,b=arguments,Ae<=0||Ae>c?(L&&(clearTimeout(L),L=null),z=pe,w=u.apply(_,b),L||(_=b=null)):L||p.trailing===!1||(L=setTimeout(ae,Ae)),w}}function Xr(u){var c=[];return u==null||V(u,function(p){c[c.length]=p}),c}function uc(u){return u?u.toArray?u.toArray():$(u)||fe(u)?Array.prototype.slice.call(u):Xr(u):[]}function $s(u){for(var c,p=[],_={},b=0;b<u.length;b++)c=u[b],c in _||(_[c]=!0,p.push(c));return p}function au(u,c,p){return p=p||0,u.substr(p,c.length)===c}function _n(){es.msg.apply(es,arguments).log()}function Xe(){es.msg.apply(es,arguments).level("warn").log()}function ut(){es.msg.apply(es,arguments).level("error").log()}function Ti(u){var c=Ne.current_domain;switch(typeof c){case"function":var p=c();return p===""||A(p)===""?"url\u89E3\u6790\u5931\u8D25":p.indexOf(".")!==-1?p:"url\u89E3\u6790\u5931\u8D25";case"string":return c===""||A(c)===""?"url\u89E3\u6790\u5931\u8D25":c.indexOf(".")!==-1?c:"url\u89E3\u6790\u5931\u8D25";default:var _=Cr(null,b0,Ne.is_secure_cookie);return u===""||_===""?"url\u89E3\u6790\u5931\u8D25":_}}function Dr(u,c){var p="";if(Ne.cross_subdomain===!1){try{if(c)p=D(c).hostname;else{var _=location.host;M(O.para.white_list[_])||(p=O.para.white_list[_])}}catch(b){ut(b)}p=typeof p=="string"&&p!==""?"sajssdk_2015_"+Ne.sdk_id+u+"_"+p.replace(/\./g,"_"):"sajssdk_2015_root_"+Ne.sdk_id+u}else p="sajssdk_2015_cross_"+Ne.sdk_id+u;return p}function Vs(){var u="new_user";return cn.isSupport()?cn.get("sensorsdata_is_new_user")!==null||cn.get(Dr(u))!==null:Hc.get(Hc.getNewUserFlagMemoryKey(u))!==null}function Si(u,c,p){var _=!(!t(Ne.heatmap)||!Ne.heatmap.useCapture);return t(Ne.heatmap)&&M(Ne.heatmap.useCapture)&&c==="click"&&(_=!0),J(u,c,p,_)}function zn(){var u=document.referrer,c="baidu.com";if(!u)return!1;try{var p=D(u).hostname;return p&&p.substring(p.length-c.length)===c}catch{return!1}}function yn(){var u=Ze(document.referrer);if(Oe(u)||!u.eqid){var c=Ze(location.href);return u.ck||c.utm_source?"baidu_sem_keyword_id":"baidu_other_keyword_id"}return"baidu_seo_keyword_id"}function Wa(){var u=Ze(document.referrer);return Oe(u)||!u.eqid?pa().replace(/-/g,""):u.eqid}function ht(u,c){return u=u||document.referrer,T(u)?(u=A(u),u=ke(u),u.indexOf("https://www.baidu.com/")!==0||c||(u=u.split("?")[0]),u=u.slice(0,Ne.max_referrer_string_length),T(u)?u:""):"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function Hs(u){if(u=u||document.referrer,u==="")return!0;var c=Cr(null,b0,Ne.is_secure_cookie),p=ye(u);return p="."+p,p.indexOf(c)===-1&&c!==""}function Kn(u,c){u=u||document.referrer;var p=Ne.source_type.keyword;if(document&&T(u)){if(u.indexOf("http")===0){var _=Ga(u),b=Ze(u);if(Oe(b))return Ne.preset_properties.search_keyword_baidu&&zn()?void 0:"\u672A\u53D6\u5230\u503C";var w=null;for(var L in p)if(_===L&&t(b)){if(w=p[L],$(w))for(L=0;L<w.length;L++){var z=b[w[L]];if(z)return c?{active:z}:z}else if(b[w])return c?{active:b[w]}:b[w]}return Ne.preset_properties.search_keyword_baidu&&zn()?void 0:"\u672A\u53D6\u5230\u503C"}return u===""?"\u672A\u53D6\u5230\u503C_\u76F4\u63A5\u6253\u5F00":"\u672A\u53D6\u5230\u503C_\u975Ehttp\u7684url"}return"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function Ga(u){var c=ye(u);if(!c||c==="hostname\u89E3\u6790\u5F02\u5E38")return"";var p={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var _ in p)for(var b=p[_],w=0,L=b.length;w<L;w++)if(b[w].test(c))return _;return"\u672A\u77E5\u641C\u7D22\u5F15\u64CE"}function su(){function u(z,ae){for(var pe=0;pe<z.length;pe++)if(ae.split("?")[0].indexOf(z[pe])!==-1)return!0}var c="("+Ne.source_type.utm.join("|")+")\\=[^&]+",p=Ne.source_type.search,_=Ne.source_type.social,b=document.referrer||"",w=xt.pageProp.url;if(w){var L=w.match(new RegExp(c));return L&&L[0]?"\u4ED8\u8D39\u5E7F\u544A\u6D41\u91CF":u(p,b)?"\u81EA\u7136\u641C\u7D22\u6D41\u91CF":u(_,b)?"\u793E\u4EA4\u7F51\u7AD9\u6D41\u91CF":b===""?"\u76F4\u63A5\u6D41\u91CF":"\u5F15\u8350\u6D41\u91CF"}return"\u83B7\u53D6url\u5F02\u5E38"}function Xn(u){var c=Fe(u,"gdt_vid"),p=Fe(u,"hash_key"),_=Fe(u,"callbacks"),b={click_id:"",hash_key:"",callbacks:""};return T(c)&&c.length&&(b.click_id=c.length==16||c.length==18?c:"\u53C2\u6570\u89E3\u6790\u4E0D\u5408\u6CD5",T(p)&&p.length&&(b.hash_key=p),T(_)&&_.length&&(b.callbacks=_)),b}function Ot(u){var c=u.properties,p=JSON.parse(JSON.stringify(u));t(c)&&V(c,function(_,b){if(n(_))try{c[b]=_(p),n(c[b])&&(Xe("\u60A8\u7684\u5C5E\u6027- "+b+" \u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete c[b])}catch{delete c[b],Xe("\u60A8\u7684\u5C5E\u6027- "+b+" \u629B\u51FA\u4E86\u5F02\u5E38\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")}})}function za(u){if(t(u)&&u.$option){var c=u.$option;return delete u.$option,c}return{}}function rr(u){var c={};return V(u,function(p,_){p!=null&&(c[_]=p)}),c}function fh(u){var c=!u.type||u.type.slice(0,7)!=="profile",p="\u53D6\u503C\u5F02\u5E38";t(u.properties)&&c&&("$referrer"in u.properties&&(u.properties.$referrer_host=u.properties.$referrer===""?"":ye(u.properties.$referrer,p)),Ne.preset_properties.latest_referrer&&Ne.preset_properties.latest_referrer_host&&(u.properties.$latest_referrer_host=u.properties.$latest_referrer===""?"":ye(u.properties.$latest_referrer,p)))}function hh(u){var c=!u.type||u.type.slice(0,7)!=="profile",p=Ne.preset_properties&&c;p&&Ne.preset_properties.url&&M(u.properties.$url)&&(u.properties.$url=W()),p&&Ne.preset_properties.title&&M(u.properties.$title)&&(u.properties.$title=document.title)}function ou(u){if(!R(u.target))return!1;var c=u.target,p=T(c.tagName)?c.tagName.toLowerCase():"unknown",_={};return _.$element_type=p,_.$element_name=c.getAttribute("name"),_.$element_id=c.getAttribute("id"),_.$element_class_name=T(c.className)?c.className:null,_.$element_target_url=c.getAttribute("href"),_.$element_content=Ka(c,p),_=rr(_),_.$url=W(),_.$url_path=re(),_.$title=document.title,_}function uu(u){var c=Ne.heatmap&&n(Ne.heatmap.collect_input)&&Ne.heatmap.collect_input(u);return(u.type==="button"||u.type==="submit"||c)&&u.value||""}function Ka(u,c){return T(c)&&c.toLowerCase()==="input"?uu(u):ne(u,c)}function qs(u){return ga.protocol.ajax(u.url),K(u)}function lu(u){if(typeof u=="string"&&(u=A(u),u&&(u.slice(0,3)==="://"?u=location.protocol.slice(0,-1)+u:u.slice(0,2)==="//"?u=location.protocol+u:u.slice(0,4)!=="http"&&(u=""))),$(u)&&u.length)for(var c=0;c<u.length;c++)/sa\.gif[^\/]*$/.test(u[c])||(u[c]=u[c].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(u)||typeof u!="string"||(u=u.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));return u}function Xa(u){T(u)||(u=JSON.stringify(u));var c=ue(u),p="crc="+oe(c);return"data="+encodeURIComponent(c)+"&ext="+encodeURIComponent(p)}function ph(u){var c=location.href,p=window.history.pushState,_=window.history.replaceState;n(window.history.pushState)&&(window.history.pushState=function(){p.apply(window.history,arguments),u(c),c=location.href}),n(window.history.replaceState)&&(window.history.replaceState=function(){_.apply(window.history,arguments),u(c),c=location.href});var b;b=window.document.documentMode?"hashchange":p?"popstate":"hashchange",J(window,b,function(){u(c),c=location.href})}function Ja(u,c){var p=[];typeof u=="string"&&u in Qt.EVENT_LIST&&(p=Qt.EVENT_LIST[u],Qt[p[0]].on(p[1],c))}function cu(){this.sendTimeStamp=0,this.timer=null,this.serverUrl="",this.hasTabStorage=!1}function yt(u,c){for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)&&!gw.check(p,u[p],c))return!1;return!0}function gh(u,c){return t(u)&&V(u,function(p,_){if($(p)){var b=[];V(p,function(L){if(T(L))b.push(L);else if(M(L))b.push("null");else try{b.push(JSON.stringify(L))}catch{Xe("\u60A8\u7684\u6570\u636E-",_,p,"\u6570\u7EC4\u91CC\u503C\u6709\u9519\u8BEF,\u5DF2\u5C06\u5176\u5220\u9664")}}),u[_]=b}var w=ce(c||[],_)>-1;if(t(p)&&_!=="$option"&&!w)try{u[_]=JSON.stringify(p)}catch{delete u[_],Xe("\u60A8\u7684\u6570\u636E-",_,p,"\u6570\u636E\u503C\u6709\u9519\u8BEF\uFF0C\u5DF2\u5C06\u5176\u5220\u9664")}else T(p)||ot(p)||Ee(p)||Pe(p)||$(p)||n(p)||_==="$option"||w||(Xe("\u60A8\u7684\u6570\u636E-",_,p,"-\u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete u[_])}),u}function mh(u,c){return ot(c)&&u.length>c?(Xe("\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u9650\u5236\uFF0C\u5DF2\u7ECF\u505A\u622A\u53D6--"+u),u.slice(0,c)):u}function Ws(u,c){var p=["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"];t(u)&&V(p,function(_,b){_ in u&&(ce(c||[],_)>-1||(b<3?(delete u[_],Xe("\u60A8\u7684\u5C5E\u6027- "+_+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")):Xe("\u60A8\u7684\u5C5E\u6027- "+_+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u8BF7\u907F\u514D\u5176\u4F5C\u4E3A\u5C5E\u6027\u540D")))})}function ua(u){var c=["$element_selector","$element_path"],p=["sensorsdata_app_visual_properties"];t(u)&&V(u,function(_,b){if(t(_))ua(u[b]);else if(T(_)){if(ce(p,b)>-1)return;u[b]=mh(_,ce(c,b)>-1?1024:Ne.max_string_length)}})}function Gs(u){typeof u.properties.$project<"u"&&(u.project=u.properties.$project,delete u.properties.$project),typeof u.properties.$token<"u"&&(u.token=u.properties.$token,delete u.properties.$token)}function la(u){if("item_type"in u){var c=u.item_type,p=function(w){return w||delete u.item_type,!0};yt({item_type:c},p)}if("item_id"in u){var _=u.item_id,b=function(w,L,z){return w||z!=="string"||delete u.item_id,!0};yt({item_id:_},b)}}function du(u,c){V(u,function(p,_){var b=function(w,L,z){return w||z==="keyLength"||delete u[_],!0};ce(c||[],_)===-1&&yt({propertyKey:_},b)})}function lc(u){var c=u.properties;kr(u),t(c)?(gh(c),Ws(c),Gs(u),du(c),ua(c)):"properties"in u&&(u.properties={}),la(u)}function fu(u,c){var p=c.sensors;return u._track_id=Number(String(a()).slice(2,5)+String(a()).slice(2,4)+String(new Date().getTime()).slice(-4)),u._flush_time=new Date().getTime(),p.events.tempAdd("send",u),u}function Ln(u,c){try{var p=c.sensors,_={};t(u)&&t(u.identities)&&!Oe(u.identities)?X(_,u.identities):X(_,le.getIdentities());var b={identities:_,distinct_id:le.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(p.lib_version)},properties:{}};return t(u)&&t(u.properties)&&!Oe(u.properties)&&(u.properties.$lib_detail&&(b.lib.$lib_detail=u.properties.$lib_detail,delete u.properties.$lib_detail),u.properties.$lib_method&&(b.lib.$lib_method=u.properties.$lib_method,delete u.properties.$lib_method)),wr(b,le.getUnionId(),u),t(u.properties)&&!Oe(u.properties)&&X(b.properties,u.properties),b.event==="$UnbindID"&&(b.login_id&&delete b.login_id,b.anonymous_id&&delete b.anonymous_id),u.type&&u.type.slice(0,7)==="profile"||(b.properties=X({},xt.properties(),le.getProps(),le.getSessionProps(),xt.currentProps,b.properties),p.para.preset_properties.latest_referrer&&!T(b.properties.$latest_referrer)&&(b.properties.$latest_referrer="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_search_keyword&&!T(b.properties.$latest_search_keyword)&&(p.para.preset_properties.search_keyword_baidu&&T(b.properties.$search_keyword_id)&&ot(b.properties.$search_keyword_id_hash)&&T(b.properties.$search_keyword_id_type)||(b.properties.$latest_search_keyword="\u53D6\u503C\u5F02\u5E38")),p.para.preset_properties.latest_traffic_source_type&&!T(b.properties.$latest_traffic_source_type)&&(b.properties.$latest_traffic_source_type="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_landing_page&&!T(b.properties.$latest_landing_page)&&(b.properties.$latest_landing_page="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_wx_ad_click_id==="not_collect"?(delete b.properties._latest_wx_ad_click_id,delete b.properties._latest_wx_ad_hash_key,delete b.properties._latest_wx_ad_callbacks):p.para.preset_properties.latest_wx_ad_click_id&&!T(b.properties._latest_wx_ad_click_id)&&(b.properties._latest_wx_ad_click_id="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_hash_key="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_callbacks="\u53D6\u503C\u5F02\u5E38"),T(b.properties._latest_wx_ad_click_id)&&(b.properties.$url=W())),b.properties.$time&&Ee(b.properties.$time)?(b.time=1*b.properties.$time,delete b.properties.$time):b.time=1*new Date,function(w){if(p.bridge&&p.bridge.bridge_info.verify_success==="success"){var L=pp.customProp.geth5Props(JSON.parse(JSON.stringify(w)));t(L)&&!Oe(L)&&(w.properties=X(w.properties,L))}var z=ma.customProp.getVtrackProps(JSON.parse(JSON.stringify(w)));t(z)&&!Oe(z)&&(w.properties=X(w.properties,z))}(b),Ot(b),Pu.checkIsAddSign(b),Pu.checkIsFirstTime(b),fh(b),hh(b),b}catch(w){return{_debug_web_msg:String(w)}}}function vh(u){return gp.stage.process("basicProps",u)}function zs(u){return gp.stage.process("formatData",u)}function hu(u,c,p,_){function b(L){function z(){ae||(ae=!0,location.href=w.href)}L.stopPropagation(),L.preventDefault();var ae=!1;setTimeout(z,1e3),_(c,p,z)}u=u||{};var w=null;return u.ele&&(w=u.ele),u.event&&(w=u.target?u.target:u.event.target),p=p||{},!(!w||typeof w!="object")&&(!w.href||/^javascript/.test(w.href)||w.target||w.download||w.onclick?(_(c,p),!1):(u.event&&b(u.event),void(u.ele&&Si(u.ele,"click",function(L){b(L)}))))}function pu(){var u=location.protocol;return u==="http:"||u==="https:"?u:"http:"}function cc(u){return mp.stage.process("webClickEvent",u)}function _h(u){return mp.stage.process("webStayEvent",u)}function ca(){var u=xt.campaignParams(),c={};return V(u,function(p,_,b){(" "+O.source_channel_standard+" ").indexOf(" "+_+" ")!==-1?c["$"+_]=b[_]:c[_]=b[_]}),c}function da(u,c,p){if(O.is_first_visitor&&p){var _={};O.para.preset_properties.search_keyword_baidu&&Hs(document.referrer)&&zn()&&(_.$search_keyword_id=Iu.id(),_.$search_keyword_id_type=Iu.type(),_.$search_keyword_id_hash=we(_.$search_keyword_id));var b=ht(null,c);u(X({$first_visit_time:new Date,$first_referrer:b,$first_referrer_host:b?ye(b,"\u53D6\u503C\u5F02\u5E38"):"",$first_browser_language:T(navigator.language)?navigator.language.toLowerCase():"\u53D6\u503C\u5F02\u5E38",$first_browser_charset:T(document.charset)?document.charset.toUpperCase():"\u53D6\u503C\u5F02\u5E38",$first_traffic_source_type:su(),$first_search_keyword:Kn()},ca(),_)),O.is_first_visitor=!1}}function gu(u,c){var p=u.id,_=u.callback,b=u.name,w=le.getFirstId(),L=le.getOriginDistinctId();if(!yt({distinct_id:p}))return ut("login id is invalid"),!1;if(p===le.getOriginDistinctId()&&!w)return ut("login id is equal to distinct_id"),!1;if(t(le._state.identities)&&le._state.identities.hasOwnProperty(b)&&p===le._state.first_id)return!1;var z=le._state.history_login_id.name!==b||p!==le._state.history_login_id.value;if(z){le._state.identities[b]=p,le.set("history_login_id",{name:b,value:p}),w||le.set("first_id",L),c(p,"$SignUp",{},_);var ae={$identity_cookie_id:le._state.identities.$identity_cookie_id};return ae[b]=p,dc(ae),!0}return!1}function dc(u){var c={};for(var p in u)c[p]=u[p];le._state.identities=c,le.save()}function yh(u,c){if(!yt({unbindKey:u,bindValue:c}))return!1;if(t(le._state.identities)&&le._state.identities.hasOwnProperty(u)&&le._state.identities[u]===c){var p=le.getUnionId().login_id;p&&u+"+"+c===p&&(le._state.distinct_id=le._state.first_id,le._state.first_id="",le.set("history_login_id",{name:"",value:""})),u!=="$identity_cookie_id"&&(delete le._state.identities[u],le.save())}var _={};return _[u]=c,_}function fc(){O._t=O._t||1*new Date,O.is_first_visitor=!1,O.source_channel_standard=y0}function bh(u){X(Ne,u||O.para||{}),O.para=Ne;var c={};if(t(O.para.is_track_latest))for(var p in O.para.is_track_latest)c["latest_"+p]=O.para.is_track_latest[p];O.para.preset_properties=X({},ku.preset_properties,c,O.para.preset_properties||{});var _;for(_ in ku)O.para[_]===void 0&&(O.para[_]=ku[_]);typeof O.para.web_url!="string"||O.para.web_url.slice(0,3)!=="://"&&O.para.web_url.slice(0,2)!=="//"||(O.para.web_url.slice(0,3)==="://"?O.para.web_url=location.protocol.slice(0,-1)+O.para.web_url:O.para.web_url=location.protocol+O.para.web_url),ga.protocol.serverUrl(),O.bridge&&O.bridge.initPara();var b=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],w=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],L=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],z={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};typeof O.para.source_type=="object"&&(O.para.source_type.utm=$(O.para.source_type.utm)?O.para.source_type.utm.concat(b):b,O.para.source_type.search=$(O.para.source_type.search)?O.para.source_type.search.concat(w):w,O.para.source_type.social=$(O.para.source_type.social)?O.para.source_type.social.concat(L):L,O.para.source_type.keyword=t(O.para.source_type.keyword)?X(z,O.para.source_type.keyword):z);var ae={div:!1},pe=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(O.para.heatmap&&!t(O.para.heatmap)&&(O.para.heatmap={}),t(O.para.heatmap)){O.para.heatmap.clickmap=O.para.heatmap.clickmap||"default",O.para.heatmap.scroll_notice_map=O.para.heatmap.scroll_notice_map||"default",O.para.heatmap.scroll_delay_time=O.para.heatmap.scroll_delay_time||4e3,O.para.heatmap.scroll_event_duration=O.para.heatmap.scroll_event_duration||18e3,O.para.heatmap.renderRefreshTime=O.para.heatmap.renderRefreshTime||1e3,O.para.heatmap.loadTimeout=O.para.heatmap.loadTimeout||1e3,O.para.heatmap.get_vtrack_config!==!0&&(O.para.heatmap.get_vtrack_config=!1);var Ae=$(O.para.heatmap.track_attr)?It(O.para.heatmap.track_attr,function(at){return at&&typeof at=="string"}):[];if(Ae.push("data-sensors-click"),O.para.heatmap.track_attr=Ae,t(O.para.heatmap.collect_tags))if(O.para.heatmap.collect_tags.div===!0)O.para.heatmap.collect_tags.div={ignore_tags:pe,max_level:1};else if(t(O.para.heatmap.collect_tags.div)){if(O.para.heatmap.collect_tags.div.ignore_tags?$(O.para.heatmap.collect_tags.div.ignore_tags)||(Xe("ignore_tags \u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4\u683C\u5F0F"),O.para.heatmap.collect_tags.div.ignore_tags=pe):O.para.heatmap.collect_tags.div.ignore_tags=pe,O.para.heatmap.collect_tags.div.max_level){var tt=[1,2,3];ce(tt,O.para.heatmap.collect_tags.div.max_level)===-1&&(O.para.heatmap.collect_tags.div.max_level=1)}}else O.para.heatmap.collect_tags.div=!1;else O.para.heatmap.collect_tags=ae}O.para.server_url=lu(O.para.server_url),O.para.noCache===!0?O.para.noCache="?"+new Date().getTime():O.para.noCache="",O.para.callback_timeout>O.para.datasend_timeout&&(O.para.datasend_timeout=O.para.callback_timeout),O.para.heatmap&&O.para.heatmap.collect_tags&&t(O.para.heatmap.collect_tags)&&V(O.para.heatmap.collect_tags,function(at,$t){$t!=="div"&&at&&O.heatmap.otherTags.push($t)}),O.para.heatmap&&O.para.heatmap.clickmap==="default"&&O.heatmap.initUnlimitedTags()}function Th(){var u=Array.prototype.slice.call(arguments),c=u[0],p=u.slice(1);return typeof c=="string"&&Gc[c]?Gc[c].apply(Gc,p):void(typeof c=="function"?c.apply(O,p):Xe("quick\u65B9\u6CD5\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u529F\u80FD"+u[0]))}function mu(u,c){function p(){return!_.plugin_is_init&&_.init(O,c),_.plugin_is_init=!0,O.modules=O.modules||{},O.modules[_.plugin_name||"unnamed_"+yw++]=_,_}if(!T(u)&&!t(u))return void ut("use's first arguments must be string or object.");var _;if(t(u)){var b=O.modules&&O.modules[u.plugin_name];b&&b!==u&&Xe(u.name+" is conflict with builtin plugin, and sdk uses builtin plugin."),_=b||u}return T(u)&&(t(O.modules)&&t(O.modules[u])?_=O.modules[u]:t(window.SensorsDataWebJSSDKPlugin)&&t(window.SensorsDataWebJSSDKPlugin[u])?_=window.SensorsDataWebJSSDKPlugin[u]:window.sensorsDataAnalytic201505&&window.sensorsDataAnalytic201505.modules[u]&&(_=window.sensorsDataAnalytic201505.modules[u])),_&&n(_.init)?_.plugin_is_init?_:(_.plugin_name||Xe("warning: invalid plugin, plugin_name required."),_.plugin_version?_.plugin_version!==O.lib_version&&Xe("warning: plugin version not match SDK version. plugin may not work correctly. "):Xe("warning: invalid plugin, plugin version required."),p()):(Xe((u.plugin_name||u)+" is not found or it's not a standard plugin. Please check sensorsdata official documents."),_)}function Sh(u,c,p){yt({event:u,properties:c})&&Pr.send({type:"track",event:u,properties:c},p)}function xh(u,c){return!!yt({bindKey:u,bindValue:c})&&(le._state.identities[u]=c,le.save(),void Pr.send({type:"track_id_bind",event:"$BindID",properties:{}}))}function Eh(u,c){var p=yh(u,c);p&&Pr.send({identities:p,type:"track_id_unbind",event:"$UnbindID",properties:{}})}function wh(u,c,p){typeof u=="object"&&u.tagName?hu({ele:u},c,p,O.track):typeof u=="object"&&u.target&&u.event&&hu(u,c,p,O.track)}function Ch(u,c,p){return p=p||{},!(!u||typeof u!="object")&&!(!u.href||/^javascript/.test(u.href)||u.target)&&void Si(u,"click",function(_){function b(){w||(w=!0,location.href=u.href)}_.preventDefault();var w=!1;setTimeout(b,1e3),O.track(c,p,b)})}function Ah(u,c,p){yt({item_type:u,item_id:c,properties:p})&&Pr.sendItem({type:"item_set",item_type:u,item_id:c,properties:p||{}})}function Ks(u,c){yt({item_type:u,item_id:c})&&Pr.sendItem({type:"item_delete",item_type:u,item_id:c})}function Xs(u,c){yt({propertiesMust:u})&&Pr.send({type:"profile_set",properties:u},c)}function kh(u,c){yt({propertiesMust:u})&&Pr.send({type:"profile_set_once",properties:u},c)}function Dh(u,c){yt({propertiesMust:u})&&(V(u,function(p,_){T(p)?u[_]=[p]:$(p)?u[_]=p:(delete u[_],Xe("appendProfile\u5C5E\u6027\u7684\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u7EC4"))}),Oe(u)||Pr.send({type:"profile_append",properties:u},c))}function vu(u,c){function p(b){for(var w in b)if(Object.prototype.hasOwnProperty.call(b,w)&&!/-*\d+/.test(String(b[w])))return!1;return!0}var _=u;T(u)&&(u={},u[_]=1),yt({propertiesMust:u})&&(p(u)?Pr.send({type:"profile_increment",properties:u},c):ut("profile_increment\u7684\u503C\u53EA\u80FD\u662F\u6570\u5B57"))}function Ph(u){Pr.send({type:"profile_delete"},u),le.set("distinct_id",pa()),le.set("first_id","")}function _u(u,c){var p=u,_={};T(u)&&(u=[],u.push(p)),$(u)?(V(u,function(b){T(b)?_[b]=!0:Xe("profile_unset\u7ED9\u7684\u6570\u7EC4\u91CC\u9762\u7684\u503C\u5FC5\u987B\u65F6string,\u5DF2\u7ECF\u8FC7\u6EE4\u6389",b)}),Pr.send({type:"profile_unset",properties:_},c)):ut("profile_unset\u7684\u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4")}function Ih(u){typeof u=="number"&&(u=String(u));var c=le.getFirstId();if(typeof u>"u"){var p=pa();c?le.set("first_id",p):le.set("distinct_id",p)}else yt({distinct_id:u})&&(c?le.set("first_id",u):le.set("distinct_id",u))}function Oh(u){var c=le.getFirstId();if(c)return ut("resetAnonymousIdentity must be used in a logout state \uFF01"),!1;if(typeof u=="number"&&(u=String(u)),typeof u>"u"){var p=pa();le._state.identities.$identity_cookie_id=p,le.set("distinct_id",p)}else yt({distinct_id:u})&&(le._state.identities.$identity_cookie_id=u,le.set("distinct_id",u))}function yu(u,c,p,_){var b=le.getFirstId()||le.getDistinctId();le.set("distinct_id",u),Pr.send({original_id:b,distinct_id:le.getDistinctId(),type:"track_signup",event:c,properties:p},_)}function Ya(u,c,p,_){typeof u=="number"&&(u=String(u)),yt({distinct_id:u,event:c,properties:p})&&yu(u,c,p,_)}function fa(u){yt({properties:u})?X(xt.currentProps,u):ut("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Js(u){le.clearAllProps(u)}function xi(u){var c;if($(u)&&u.length>0)for(c=0;c<u.length;c++)T(u[c])&&u[c]in xt.currentProps&&delete xt.currentProps[u[c]];else if(u===!0)for(c in xt.currentProps)delete xt.currentProps[c]}function hc(u){yt({properties:u})?le.setProps(u):ut("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function pc(u){yt({properties:u})?le.setPropsOnce(u):ut("registerOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function gc(u){O.log("registerSession \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),yt({properties:u})?le.setSessionProps(u):ut("registerSession\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function bu(u){O.log("registerSessionOnce \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),yt({properties:u})?le.setSessionPropsOnce(u):ut("registerSessionOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function mc(u,c){typeof u=="number"&&(u=String(u));var p=gu({id:u,callback:c,name:Du.LOGIN},yu);!p&&n(c)&&c()}function Lh(u,c){return Xe("loginWithKey is deprecated !!!"),typeof c=="number"&&(c=String(c)),typeof u=="number"&&(u=String(u)),!!yt({loginIdKey:u})&&(Du.LOGIN===u?(mc(c),!1):void gu({id:c,callback:null,name:u},yu))}function Rh(u){var c=le.getFirstId();if(c)if(le.set("first_id",""),u===!0){var p=pa();le.set("distinct_id",p)}else le.set("distinct_id",c);dc({$identity_cookie_id:le._state.identities.$identity_cookie_id}),le.set("history_login_id",{name:"",value:""})}function Ys(){function u(){var _=xt.campaignParams(),b={};return V(_,function(w,L,z){(" "+O.source_channel_standard+" ").indexOf(" "+L+" ")!==-1?b["$"+L]=z[L]:b[L]=z[L]}),b}var c={$is_first_day:Vs(),$is_first_time:Pu.is_page_first_visited,$referrer:xt.pageProp.referrer||"",$referrer_host:xt.pageProp.referrer?ye(xt.pageProp.referrer):"",$url:W(),$url_path:re(),$title:document.title||"",_distinct_id:le.getDistinctId(),identities:le.getIdentities()},p=X({},xt.properties(),le.getProps(),u(),c);return O.para.preset_properties.latest_referrer&&O.para.preset_properties.latest_referrer_host&&(p.$latest_referrer_host=p.$latest_referrer===""?"":ye(p.$latest_referrer)),p}function Nh(){var u="",c=" { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }";O.heatmap&&$(O.heatmap.otherTags)&&V(O.heatmap.otherTags,function(p){u+=p+c}),Ke()&&Se()&&Se()<13&&(O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&bi("div, [data-sensors-click]"+c),O.para.heatmap&&O.para.heatmap.track_attr&&bi("["+O.para.heatmap.track_attr.join("], [")+"]"+c),u!==""&&bi(u))}function un(u){var c=this;this.type=u,this.resultCbs={},this.timeoutCbs={},this.timerId=null,this.appCallJsCallback=null,window.sensorsdata_app_call_js||(window.sensorsdata_app_call_js=function(p,_){if(p in window.sensorsdata_app_call_js.modules)return window.sensorsdata_app_call_js.modules[p](_)}),window.sensorsdata_app_call_js.modules=window.sensorsdata_app_call_js.modules||{},window.sensorsdata_app_call_js.modules[this.type]=function(p){try{var _=Z(p)||p;try{_=JSON.parse(_)}catch{}var b=_&&_.message_id;if(b&&c.resultCbs[b]){if(p=_,c.timeoutCbs[b]&&c.timeoutCbs[b].isTimeout)return void(c.resultCbs[b].callbacks.length=0);if(c.resultCbs[b]){c.resultCbs[b].result=p,clearTimeout(c.timerId),c.timeoutCbs[b].callbacks.length=0;for(var w in c.resultCbs[b].callbacks)c.resultCbs[b].callbacks[w].call(null,p),c.resultCbs[b].callbacks.splice(w,1)}return}return c.appCallJsCallback&&c.appCallJsCallback.call(null,p)}catch{ut("app \u56DE\u8C03 js \u5F02\u5E38",p)}}}function vc(u){try{if(O.bridge.activeBridge&&n(O.bridge.activeBridge.handleCommand))return O.bridge.activeBridge.handleCommand(u)}catch(c){ut("Error: handle command exception:"+c)}return ut("\u6570\u636E\u53D1\u5F80App\u5931\u8D25\uFF0CApp\u6CA1\u6709\u66B4\u9732bridge,type:"+u.callType),!1}function Fh(u){function c(L){var z={hostname:"",project:""};try{L=D(L),z.hostname=L.hostname,z.project=L.searchParams.get("project")||"default"}catch(ae){ut("validateAppUrl:"+ae)}return z}var p=c(u),_=c(O.para.server_url);if(p.hostname===_.hostname&&p.project===_.project)return!0;if($(O.para.app_js_bridge.white_list))for(var b=0;b<O.para.app_js_bridge.white_list.length;b++){var w=c(O.para.app_js_bridge.white_list[b]);if(w.hostname===p.hostname&&w.project===p.project)return!0}return!1}function wt(u){this.bridge=new un(u.type)}function Mh(){var u=xt.pageProp.url_domain,c={};u===""&&(u="url\u89E3\u6790\u5931\u8D25");var p=Kn(document.referrer,!0);if(Ne.preset_properties.search_keyword_baidu?Hs(document.referrer)&&(!zn()||t(p)&&p.active?le._state&&le._state.props&&(le._state.props.$search_keyword_id&&delete le._state.props.$search_keyword_id,le._state.props.$search_keyword_id_type&&delete le._state.props.$search_keyword_id_type,le._state.props.$search_keyword_id_hash&&delete le._state.props.$search_keyword_id_hash):(c.$search_keyword_id=Iu.id(),c.$search_keyword_id_type=Iu.type(),c.$search_keyword_id_hash=we(c.$search_keyword_id))):le._state&&le._state.props&&(le._state.props.$search_keyword_id&&delete le._state.props.$search_keyword_id,le._state.props.$search_keyword_id_type&&delete le._state.props.$search_keyword_id_type,le._state.props.$search_keyword_id_hash&&delete le._state.props.$search_keyword_id_hash),le.save(),V(Ne.preset_properties,function(L,z){if(z.indexOf("latest_")===-1)return!1;if(z=z.slice(7),L){if(z==="wx_ad_click_id"&&L==="not_collect")return!1;if(z!=="utm"&&u==="url\u89E3\u6790\u5931\u8D25")z==="wx_ad_click_id"?(c._latest_wx_ad_click_id="url\u7684domain\u89E3\u6790\u5931\u8D25",c._latest_wx_ad_hash_key="url\u7684domain\u89E3\u6790\u5931\u8D25",c._latest_wx_ad_callbacks="url\u7684domain\u89E3\u6790\u5931\u8D25"):c["$latest_"+z]="url\u7684domain\u89E3\u6790\u5931\u8D25";else if(Hs(document.referrer))switch(z){case"traffic_source_type":c.$latest_traffic_source_type=su();break;case"referrer":c.$latest_referrer=xt.pageProp.referrer;break;case"search_keyword":Kn()?c.$latest_search_keyword=Kn():t(le._state)&&t(le._state.props)&&le._state.props.$latest_search_keyword&&delete le._state.props.$latest_search_keyword;break;case"landing_page":c.$latest_landing_page=W();break;case"wx_ad_click_id":var ae=Xn(location.href);c._latest_wx_ad_click_id=ae.click_id,c._latest_wx_ad_hash_key=ae.hash_key,c._latest_wx_ad_callbacks=ae.callbacks}}else if(z==="utm"&&le._state&&le._state.props)for(var pe in le._state.props)(pe.indexOf("$latest_utm")===0||pe.indexOf("_latest_")===0&&pe.indexOf("_latest_wx_ad_")<0)&&delete le._state.props[pe];else if(le._state&&le._state.props&&"$latest_"+z in le._state.props)delete le._state.props["$latest_"+z];else if(z=="wx_ad_click_id"&&le._state&&le._state.props&&L===!1){var Ae=["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"];V(Ae,function(tt){tt in le._state.props&&delete le._state.props[tt]})}}),Ne.preset_properties.latest_utm){var _=xt.campaignParamsStandard("$latest_","_latest_"),b=_.$utms,w=_.otherUtms;Oe(b)||X(c,b),Oe(w)||X(c,w)}hc(c)}function _c(u){var c=null;try{var p=JSON.parse(window.name);c=p[u]?h(p[u]):null}catch{c=null}return c===null&&(c=Fe(location.href,u)||null),c}function yc(u){function c(){var w=[];p.touch_app_bridge||w.push(ga.defineMode("1")),t(O.para.app_js_bridge)||(w.push(ga.defineMode("2")),p.verify_success=!1),t(O.para.heatmap)&&O.para.heatmap.clickmap=="default"||w.push(ga.defineMode("3")),p.verify_success==="fail"&&w.push(ga.defineMode("4")),new O.SDKJSBridge("app_alert").notifyApp({data:w})}var p=O.bridge.bridge_info;if(O.bridge.hasVisualModeBridge())if(t(O.para.heatmap)&&O.para.heatmap.clickmap=="default")if(t(O.para.app_js_bridge)&&p.verify_success==="success")if(u)window.sa_jssdk_app_define_mode(O,u);else{var _=location.protocol,b=["http:","https:"];_=ce(b,_)>-1?_:"https:",_i({success:function(){setTimeout(function(){typeof sa_jssdk_app_define_mode<"u"&&window.sa_jssdk_app_define_mode(O,u)},0)},error:function(){},type:"js",url:_+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vapph5define.min.js"})}else c();else c()}function bc(u){O.para.is_track_single_page&&cp.on("switch",function(c){var p=function(b){if(b=b||{},c!==location.href){xt.pageProp.referrer=W(c);var w=X({$url:W(),$referrer:W(c)},b);n(u)?u(w):O.quick&&O.quick("autoTrack",w)}};if(typeof O.para.is_track_single_page=="boolean")p();else if(typeof O.para.is_track_single_page=="function"){var _=O.para.is_track_single_page();t(_)?p(_):_===!0&&p()}})}function Bh(){O._q&&$(O._q)&&O._q.length>0&&V(O._q,function(u){O[u[0]].apply(O,Array.prototype.slice.call(u[1]))}),t(O.para.heatmap)&&(Tn.initHeatmap(),Tn.initScrollmap())}function Tc(){O.readyState.setState(3),new O.SDKJSBridge("visualized").onAppNotify(function(){yc(typeof sa_jssdk_app_define_mode<"u")}),yc(!1),O.bridge.app_js_bridge_v1(),xt.initPage(),bc(),le.init(),Mh(),Sc(),O.readyState.setState(4),Bh()}function Uh(){va.isSeachHasKeyword()?va.hasKeywordHandle():window.parent!==self&&Rn.isSearchHasKeyword()?Rn.verifyVtrackMode():va.isWindowNameHasKeyword()?va.windowNameHasKeywordHandle():va.isStorageHasKeyword()?va.storageHasKeywordHandle():window.parent!==self&&Rn.isStorageHasKeyword()?Rn.verifyVtrackMode():(Tc(),Rn.notifyUser())}function Sc(){ma.init(),O.bridge.bridge_info.verify_success==="success"&&pp.init()}function xc(){V(Sw,function(u){var c=O[u];O[u]=function(){if(O.readyState.state<3)return $(O._q)||(O._q=[]),Xe("calling sdk api before init is deprecated."),O._q.push([u,arguments]),!1;if(!n(O.getDisabled)||!O.getDisabled())return O.readyState.getState()?c.apply(O,arguments):void ut("\u8BF7\u5148\u521D\u59CB\u5316\u795E\u7B56JS SDK")}})}function Ec(u,c){this.cancel=function(){u=!0},this.getCanceled=function(){return u||!1},this.stop=function(){c=!0},this.getStopped=function(){return c||!1}}function wc(u,c,p){var _=null;try{_=JSON.parse(JSON.stringify(u||null))}catch{}this.getOriginalData=function(){return _},this.getPosition=function(){return c},this.cancellationToken=new Ec,this.sensors=p}function ln(u){if(!t(u))throw"error: Stage constructor requires arguments.";this.processDef=u,this.registeredInterceptors={}}function Ei(u){u&&u.buildDataStage&&C0.registerStageImplementation(u.buildDataStage),u&&u.businessStage&&k0.registerStageImplementation(u.businessStage),u&&u.sendDataStage&&A0.registerStageImplementation(u.sendDataStage),u&&u.viewStage&&D0.registerStageImplementation(u.viewStage)}function Tu(u,c){P0[u]&&P0[u](c)}function jh(){return _p.stage&&_p.stage.process("getUtmData")}function $h(u){return I0.stage.process("send",u)}function Vh(u){u.kit=Ou,u.saEvent=Pr,this.buildDataStage=gp,this.sendDataStage=I0,this.businessStage=_p}function Hh(u){u.heatmap=Tn,this.viewStage=mp}function qh(u){if(!n(u.properties))return void ut("registerPropertyPlugin arguments error, properties must be function");if(u.isMatchedWithFilter&&!n(u.isMatchedWithFilter))return void ut("registerPropertyPlugin arguments error, isMatchedWithFilter must be function");var c={finalAdjustData:{priority:100,entry:function(p){try{if(n(u.isMatchedWithFilter))return u.isMatchedWithFilter(p)&&u.properties(p);u.properties(p)}catch(_){ut("execute registerPropertyPlugin callback error:"+_)}}}};Tu("buildDataStage",c)}function Su(u){u&&(O.events=S0,O.bridge=Tw,O.SDKJSBridge=un,O.JSBridge=wt,O.store=le,O.unlimitedDiv=Wc,O.customProp=E0,O.vtrackcollect=ma,O.vapph5collect=pp,O.detectMode=Uh,O.registerFeature=Ei,O.registerInterceptor=Tu,O.commonWays=Gc,Ei(new Vh(O)),Ei(new Hh(O)),Tu("viewStage",kw));var c=u?bw:xw;for(var p in c)O[p]=c[p];O.logger=es,O.log=_n,O._=w0,O.on=Ja,O.ee=Qt,O.use=mu,O.lib_version=Vc,O.registerPropertyPlugin=qh}function Wh(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Gh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Gh(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Qs(u,c,p){return Wh(u,c,p),u.plugin_version=Dw,u}function Qa(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return zh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function zh(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Cc(u,c,p){return Qa(u,c,p),u.plugin_version=Ow,u}function Ac(u){return R0&&R0.call(Jn,JSON.stringify(u))}function xu(u){return Kc.call(Jn)&&N0&&N0.call(Jn,JSON.stringify(u))}function kc(u,c){return c&&typeof c[u.callType]=="function"&&c[u.callType]()}function Dc(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Eu(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Eu(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Pc(u,c,p){return Dc(u,c,p),u.plugin_version=Nw,u}function Ic(){if(Nn=window.SensorsData_APP_New_H5_Bridge,zc=Nn&&Nn.sensorsdata_track,Lu=zc&&Nn.sensorsdata_get_server_url&&Nn.sensorsdata_get_server_url(),ts("---test---fail---",!Lt,Lt.bridge.activeBridge,!Lu),Lt&&!Lt.bridge.activeBridge&&Lu)return Lt.bridge.activeBridge=M0,Lt.para.app_js_bridge&&!Lt.para.app_js_bridge.is_mui&&(Lt.bridge.is_verify_success=Lu&&Lt.bridge.validateAppUrl(Lu),ts("---test---bridge-verify-",Lt.bridge.is_verify_success)),Lt.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:Lt.bridge.is_verify_success?"success":"fail",support_two_way_call:!!Nn.sensorsdata_js_call_app},Lt.para.app_js_bridge?void Lt.registerInterceptor("sendDataStage",{send:{priority:60,entry:Zs}}):void ts("---test---app_js_bridge is not configured, data will not be sent by android bridge.")}function Zs(u,c){if(ts("---test---datasend-",Lt.bridge.is_verify_success),Lt.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;return Lt.bridge.is_verify_success?(ts("---test---bridge-verify-success---",u.data),zc&&zc.call(Nn,JSON.stringify(Ru.extend({server_url:Lt.para.server_url},u.data))),Ru.isFunction(p)&&p(),c.cancellationToken.cancel(),u):(ts("---test---bridge-verify-fail-----",Lt.bridge.is_verify_success),Lt.para.app_js_bridge.is_send?(Lt.debug.apph5({data:u.data,step:"4.2",output:"all"}),u):(Ru.isFunction(p)&&p(),c.cancellationToken.cancel(),u))}function eo(u){var c=u.callType;return c in F0.commands?F0.commands[c](u,Nn):void(Nn&&Ru.isFunction(Nn.sensorsdata_js_call_app)&&Nn.sensorsdata_js_call_app(JSON.stringify(u)))}function Kh(u){return U0&&U0.call(Yn,JSON.stringify(u))}function Oc(u){return Xc.call(Yn)&&j0&&j0.call(Yn,JSON.stringify(u))}function Xh(u,c){return c&&typeof c[u.callType]=="function"&&c[u.callType]()}function Jh(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Yh(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Yh(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function wu(u,c,p){return Jh(u,c,p),u.plugin_version=Fw,u}function Qh(){if(Sn("ObsoleteBridge---test---init---"),Jr=window.SensorsData_APP_JS_Bridge,ro=Jr&&Jr.sensorsdata_track,rs=Jr&&Jr.sensorsdata_verify,Nu=Jr&&Jr.sensorsdata_visual_verify,Sn("ObsoleteBridge-",or.bridge.activeBridge,rs,ro,Nu),or&&!or.bridge.activeBridge&&(rs||ro||Nu)){or.bridge.activeBridge=$0;var u=rs||ro;if(Nu&&(u=!!Nu.call(Jr,JSON.stringify({server_url:or.para.server_url})),Sn("ObsoleteBridge---called-return",u)),or.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:u?"success":"fail"},!or.para.app_js_bridge)return void Sn("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");or.registerInterceptor("sendDataStage",{send:{priority:80,entry:Zh}}),Sn("Android obsolete bridge inits succeed.")}}function Zh(u,c){if(Sn("ObsoleteBridge---senddata"),or.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;if(rs){var _=rs&&rs.call(Jr,JSON.stringify(ns.extend({server_url:or.para.server_url},u.data)));return Sn("ObsoleteBridge---anVerify-success",_),_?(ns.isFunction(p)&&p(),c.cancellationToken.cancel(),u):or.para.app_js_bridge.is_send?(or.debug.apph5({data:u.data,step:"3.1",output:"all"}),u):(ns.isFunction(p)&&p(),c.cancellationToken.cancel(),u)}return Sn("ObsoleteBridge---is-send-old-way",or.para.app_js_bridge.is_send),ro&&ro.call(Jr,JSON.stringify(ns.extend({server_url:or.para.server_url},u.data))),ns.isFunction(p)&&p(),c.cancellationToken.cancel(),u}function ha(u){Sn("ObsoleteBridge---handleCommadn");var c=u.callType;return c in Tp.commands?(Sn("ObsoleteBridge---",c,Tp.commands),Tp.commands[c](u,Jr)):Jr&&ns.isFunction(Jr.sensorsdata_js_call_app)?(Sn("ObsoleteBridge---handleCommadn-abridge"),Jr.sensorsdata_js_call_app(JSON.stringify(u))):void 0}function vt(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return wi(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function wi(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function _r(u,c,p){return vt(u,c,p),u.plugin_version=Mw,u}function bn(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return ep(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function ep(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Lc(u,c,p){return bn(u,c,p),u.plugin_version=Uw,u}function Rc(){return typeof Fu<"u"&&document[Fu]}function tp(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return rp(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function rp(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function np(u,c,p){return tp(u,c,p),u.plugin_version=zw,u}function ip(){if(Sp=window.SensorsData_iOS_JS_Bridge&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url,is=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker},Kt&&!Kt.bridge.activeBridge&&is()&&is().postMessage){if(Kt.bridge.activeBridge=W0,Kt.para.app_js_bridge&&!Kt.para.app_js_bridge.is_mui&&(Kt.bridge.is_verify_success=Sp&&Kt.bridge.validateAppUrl(Sp)),Kt.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:Kt.bridge.is_verify_success?"success":"fail",support_two_way_call:!0},!Kt.para.app_js_bridge)return void xp("app_js_bridge is not configured, data will not be sent by iOS bridge.");Kt.registerInterceptor("sendDataStage",{send:{priority:70,entry:ap}}),xp("IOS bridge inits succeed.")}}function ap(u,c){if(Kt.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;return Kt.bridge.is_verify_success?(is()&&is().postMessage(JSON.stringify({callType:"app_h5_track",data:Mu.extend({server_url:Kt.para.server_url},u.data)})),Mu.isFunction(p)&&p(),c.cancellationToken.cancel(),u):Kt.para.app_js_bridge.is_send?(Kt.debug.apph5({data:u.data,step:"4.1",output:"all"}),u):(Mu.isFunction(p)&&p(),c.cancellationToken.cancel(),u)}function sp(u){var c=u.callType;return c!=="page_info"&&c!=="visualized_track"||Kt.bridge.hasVisualModeBridge()?c==="sensorsdata_get_app_visual_config"?Mu.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge[c]:is()&&is().postMessage(JSON.stringify(u)):null}function Nc(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return I(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function I(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function y(u,c,p){return Nc(u,c,p),u.plugin_version=Kw,u}function x(){if(ur&&!ur.bridge.activeBridge&&S()){if(ur.bridge.activeBridge=z0,ur.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:E()?"success":"fail"},!ur.para.app_js_bridge)return void Ep("app_js_bridge is not configured, data will not be sent by iOS obsolete bridge.");ur.registerInterceptor("sendDataStage",{send:{priority:90,entry:C}}),Ep("IOS obsolete bridge inits succeed.")}}function S(){return(/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream}function E(){if(/sensors-verify/.test(navigator.userAgent)){var u=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(u&&u[0]&&typeof u[1]=="string"&&u[1].split("?").length===2){u=u[1].split("?");var c=null,p=null;try{c=no.URL(ur.para.server_url).hostname,p=no.URL(ur.para.server_url).searchParams.get("project")||"default"}catch(_){ur.log(_)}return!(!c||c!==u[0]||!p||p!==u[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)}function C(u,c){function p(L){var z=JSON.stringify(no.extend({server_url:ur.para.server_url},L));return z=z.replace(/\r\n/g,""),z=encodeURIComponent(z),"sensorsanalytics://trackEvent?event="+z}if(ur.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var _=u.callback;if(ur.bridge.bridge_info.verify_success){var b=document.createElement("iframe"),w=p(u.data);return b.setAttribute("src",w),document.documentElement.appendChild(b),b.parentNode.removeChild(b),b=null,no.isFunction(_)&&_(),c.cancellationToken.cancel(),!0}return ur.para.app_js_bridge.is_send?(ur.debug.apph5({data:u.data,step:"3.2",output:"all"}),u):(no.isFunction(_)&&_(),c.cancellationToken.cancel(),u)}function k(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return N(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function N(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function B(u,c,p){return k(u,c,p),u.plugin_version=Xw,u}function q(){this.sd=null,this.start_time=+new Date,this.page_show_status=!0,this.page_hidden_status=!1,this._={},this.timer=null,this.current_page_url=document.referrer,this.url=location.href,this.title=document.title||"",this.option={},this.heartbeat_interval_time=5e3,this.heartbeat_interval_timer=null,this.page_id=null,this.storage_name="sawebjssdkpageleave",this.max_duration=Yw}function G(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Y(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Y(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function se(u,c,p){return G(u,c,p),u.plugin_version=eC,u}function xe(u,c){if(u.type!=="track")return u;var p=c.sd,_=p._,b=p.saEvent.check,w=_.extend2Lev({properties:{}},u),L=c.customRegister,z=w.properties,ae=w.event,pe={};return _.each(L,function(Ae){if(_.isObject(Ae))_.indexOf(Ae.events,ae)>-1&&b({properties:Ae.properties})&&(pe=_.extend(pe,Ae.properties));else if(_.isFunction(Ae)){var tt=Ae({event:ae,properties:z,data:w});_.isObject(tt)&&!_.isEmptyObject(tt)&&b({properties:tt})&&(pe=_.extend(pe,tt))}}),u.properties=_.extend(z,pe),u}function Ie(){this.sd=null,this.log=window.console&&window.console.log||function(){},this.customRegister=[]}function ve(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return He(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function He(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Yt(u,c,p){return ve(u,c,p),u.plugin_version=nC,u}function yr(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Ci(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Ci(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Cu(u,c,p){return yr(u,c,p),u.plugin_version=sC,u}function Fc(u){try{if(u.event!=="$pageview"&&(!u.type||u.type.slice(0,7)!=="profile")){var c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,p=document.documentElement.scrollHeight||0,_={$page_height:Math.max(c,p)||0};u.properties=as._.extend(u.properties||{},_)}}catch{Uu("\u9875\u9762\u9AD8\u5EA6\u83B7\u53D6\u5F02\u5E38\u3002")}return J0.call(as.kit,u)}function Mc(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Bc(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Bc(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function Au(u,c,p){return Mc(u,c,p),u.plugin_version=lC,u}function Uc(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Gt(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Gt(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function jc(u,c,p){return Uc(u,c,p),u.plugin_version=fC,u}function Ai(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return c1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function c1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function d1(u,c,p){return Ai(u,c,p),u.plugin_version=pC,u}function f1(){Ap=!0}function h1(){Ap=!1}function p1(){return Ap}function g1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return m1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function m1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function v1(u,c,p){return g1(u,c,p),u.plugin_version=mC,u}function _1(u){var c=u,p="";p=jt.para.debug_mode_url.indexOf("?")!==-1?jt.para.debug_mode_url+"&"+jt.kit.encodeTrackData(u):jt.para.debug_mode_url+"?"+jt.kit.encodeTrackData(u),ss.ajax({url:p,type:"GET",cors:!0,header:{"Dry-Run":String(jt.para.debug_mode_upload)},success:function(_){ss.isEmptyObject(_)===!0?alert("debug\u6570\u636E\u53D1\u9001\u6210\u529F"+c):alert("debug\u5931\u8D25 \u9519\u8BEF\u539F\u56E0"+JSON.stringify(_))}})}function y1(u,c){if(jt.para.debug_mode===!0){var p=u.data;u.callback,_1(JSON.stringify(p)),c.cancellationToken.stop()}return u}function b1(){jt.para.debug_mode===!0&&(jt.para.debug_mode_upload=jt.para.debug_mode_upload||!1,ss.isString(jt.para.debug_mode_url)||(ss.isString(jt.para.server_url)?jt.para.debug_mode_url=jt.para.server_url.replace("sa.gif","debug"):ss.isArray(jt.para.server_url)&&ss.isString(jt.para.server_url[0])?jt.para.debug_mode_url=jt.para.server_url[0].replace("sa.gif","debug"):jt.para.debug_mode=!1))}function T1(){jt.on("sdkInitPara",function(){b1()}),jt.on("sdkAfterInitPara",function(){jt.registerInterceptor("sendDataStage",{send:{priority:30,entry:y1}})})}function S1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return x1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function x1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function E1(u,c,p){return S1(u,c,p),u.plugin_version=_C,u}function w1(u,c){if(os.isObject(Ir.para.jsapp)&&!Ir.para.jsapp.isOnline&&typeof Ir.para.jsapp.setData=="function"){var p=u;delete p.callback,p=JSON.stringify(p),Ir.para.jsapp.setData(p),c.cancellationToken.stop()}return u}function C1(){Ir.on("sdkAfterInitAPI",function(){os.isObject(Ir.commonWays)&&(Ir.commonWays.setOnlineState=A1),Ir.registerInterceptor("sendDataStage",{send:{priority:40,entry:w1}})})}function A1(u){if(u===!0&&os.isObject(Ir.para.jsapp)&&typeof Ir.para.jsapp.getData=="function"){Ir.para.jsapp.isOnline=!0;var c=Ir.para.jsapp.getData();os.isArray(c)&&c.length>0&&os.each(c,function(p){os.isJSONString(p)&&Ir.kit.sendData(JSON.parse(p))})}else Ir.para.jsapp.isOnline=!1}function k1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return D1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function D1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function P1(u,c,p){return k1(u,c,p),u.plugin_version=bC,u}function I1(u,c){return!Or.para.app_js_bridge&&Or.para.batch_send&&_a.localStorage.isSupport()&&localStorage.length<Or.para.batch_send.storage_length&&(Yc.add(u.data),c.cancellationToken.stop()),u}function O1(){var u={datasend_timeout:6e3,send_interval:6e3,storage_length:200};_a.localStorage.isSupport()&&_a.isSupportCors()&&typeof localStorage=="object"?Or.para.batch_send===!0?Or.para.batch_send=_a.extend({},u):typeof Or.para.batch_send=="object"&&(Or.para.batch_send=_a.extend({},u,Or.para.batch_send)):Or.para.batch_send=!1}function L1(){Or.on("sdkInitPara",function(){O1()}),Or.on("sdkAfterInitPara",function(){!Or.para.app_js_bridge&&Or.para.batch_send&&_a.localStorage.isSupport()&&(Yc||(Yc=new _a.BatchSend),Yc.batchInterval(),Or.registerInterceptor("sendDataStage",{send:{priority:100,entry:I1}}))})}function R1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return N1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function N1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function F1(u,c,p){return R1(u,c,p),u.plugin_version=SC,u}function u0(u){var c=new ya.BeaconSend(u);c.start()}function M1(u,c){var p=null,_=null;ya.isObject(u.config)&&(p=u.config.send_type,_=ya.optimizeServerUrl(u.config.server_url));var b=p==="beacon"||!p&&Zn.para.send_type==="beacon";if(b&&ya.isSupportBeaconSend()){var w=_||u.server_url;u.server_url=w,u.data=Zn.kit.encodeTrackData(u.data),ya.isArray(w)&&w.length?ya.each(w,function(L){u.callback=null,u.server_url=L,u0(u)}):typeof w=="string"&&w!==""?u0(u):Zn.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),c.cancellationToken.stop()}return u}function B1(){Zn.para.send_type!=="beacon"||ya.isSupportBeaconSend()||(Zn.para.send_type="image")}function U1(){Zn.on("sdkInitPara",function(){B1()}),Zn.on("sdkAfterInitPara",function(){Zn.registerInterceptor("sendDataStage",{send:{priority:110,entry:M1}})})}function j1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return $1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function $1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function V1(u,c,p){return j1(u,c,p),u.plugin_version=EC,u}function l0(u){var c=new ba.AjaxSend(u);c.start()}function H1(u,c){var p=null,_=null;ba.isObject(u.config)&&(p=u.config.send_type,_=ba.optimizeServerUrl(u.config.server_url));var b=p==="ajax"||!p&&ei.para.send_type==="ajax";if(b&&ba.isSupportCors()){var w=_||u.server_url;u.server_url=w,u.data=ei.kit.encodeTrackData(u.data),ba.isArray(w)&&w.length?ba.each(w,function(L){u.callback=null,u.server_url=L,l0(u)}):typeof w=="string"&&w!==""?l0(u):ei.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),c.cancellationToken.stop()}return u}function q1(){ei.para.send_type!=="ajax"||ba.isSupportCors()||(ei.para.send_type="image")}function W1(){ei.on("sdkInitPara",function(){q1()}),ei.on("sdkAfterInitPara",function(){ei.registerInterceptor("sendDataStage",{send:{priority:120,entry:H1}})})}function G1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return z1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function z1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function K1(u,c,p){return G1(u,c,p),u.plugin_version=CC,u}function c0(u,c){var p=xn.kit.encodeTrackData(c);return u.indexOf("?")!==-1?u+"&"+p:u+"?"+p}function d0(u){var c=new io.ImageSend(u);c.start()}function X1(u,c){var p=null;io.isObject(u.config)&&(p=io.optimizeServerUrl(u.config.server_url));var _=p||u.server_url,b=u.data;u.server_url=_,io.isArray(_)&&_.length?io.each(_,function(w){w&&(u.data=c0(w,b),u.callback=null,u.server_url=w,d0(u))}):typeof _=="string"&&_!==""?(u.data=c0(_,b),d0(u)):xn.logger&&xn.logger.msg("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01").level("warn").log(),c.cancellationToken.stop()}function J1(){xn.para.send_type!=="image"&&xn.para.send_type!=="ajax"&&xn.para.send_type!=="beacon"&&(xn.para.send_type="image")}function Y1(){xn.on("sdkInitPara",function(){J1()}),xn.on("sdkAfterInitPara",function(){xn.registerInterceptor("sendDataStage",{send:{priority:130,entry:X1}})})}function Q1(u,c,p){if(c&&(u.plugin_name=c),p&&u.init){var _=u.init;u.init=function(b,w){function L(){_.call(u,b,w)}return Z1(b,u,c),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Z1(u,c,p){function _(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}c.log=function(){_("log",arguments)},c.warn=function(){_("warn",arguments)},c.error=function(){_("error",arguments)}}function ew(u,c,p){return Q1(u,c,p),u.plugin_version=Vc,u}function tw(u){return ju===null?void f0(u):void ju.push(u)}function f0(u){try{if(u.level==="log"&&h0()||u.level==="warn"&&rw()||u.level==="error"&&nw())return void op(u)}catch{}}function h0(){return!!up()||dr.para.show_log===!0||Zr.isObject(dr.para.show_log)&&dr.para.show_log.level==="log"}function rw(){return!!up()||h0()||Zr.isObject(dr.para.show_log)&&dr.para.show_log.level==="warn"}function nw(){return!!up()||!Zr.isObject(dr.para.show_log)||dr.para.show_log.level!=="none"}function op(u){var c=u.content,p=Zr.isObject(c[0])?Zr.formatJsonString(c[0]):c[0],_=iw(u);c[0]=_+(_.length>0?": ":"")+p;try{console&&(Zr.isFunction(console[u.level])?console[u.level].apply(console,c):Zr.isObject(console[u.level])&&console[u.level](c[0]))}catch{}}function iw(u){var c="",p="",_=dr.para.show_log;return Zr.isObject(_)&&_.show_brand===!1||(c+=u.brand),Zr.isObject(_)&&_.show_level===!1||(c+=(c.length>0?"-":"")+u.level),c.length>0&&(c="["+c+"]"),Zr.isObject(_)&&_.show_module===!1||(p=u.module),c+p}function aw(){Zr.sessionStorage.isSupport()&&sessionStorage.setItem(kp,"true")}function sw(){Zr.sessionStorage.isSupport()&&sessionStorage.removeItem(kp)}function up(){return Zr.sessionStorage.isSupport()&&sessionStorage.getItem(kp)==="true"}var O={};(function(){function u(z,ae){function pe(Re,$e){try{Re()}catch{$e&&$e()}}function Ae(Re){if(Ae[Re]!=null)return Ae[Re];var $e;if(Re=="bug-string-char-index")$e="a"[0]!="a";else if(Re=="json")$e=Ae("json-stringify")&&Ae("date-serialization")&&Ae("json-parse");else if(Re=="date-serialization"){if($e=Ae("json-stringify")&&ti){var _e=ae.stringify;pe(function(){$e=_e(new nr(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&_e(new nr(864e13))=='"+275760-09-13T00:00:00.000Z"'&&_e(new nr(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&_e(new nr(-1))=='"1969-12-31T23:59:59.999Z"'})}}else{var Ge,De='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(Re=="json-stringify"){var _e=ae.stringify,ze=typeof _e=="function";ze&&((Ge=function(){return 1}).toJSON=Ge,pe(function(){ze=_e(0)==="0"&&_e(new at)==="0"&&_e(new $t)=='""'&&_e(En)===Fn&&_e(Fn)===Fn&&_e()===Fn&&_e(Ge)==="1"&&_e([Ge])=="[1]"&&_e([Fn])=="[null]"&&_e(null)=="null"&&_e([Fn,En,null])=="[null,null,null]"&&_e({a:[Ge,!0,!1,null,`\0\b
\f\r	`]})==De&&_e(null,Ge)==="1"&&_e([1,2],null,1)==`[
 1,
 2
]`},function(){ze=!1})),$e=ze}if(Re=="json-parse"){var Je,je=ae.parse;typeof je=="function"&&pe(function(){je("0")!==0||je(!1)||(Ge=je(De),Je=Ge.a.length==5&&Ge.a[0]===1,Je&&(pe(function(){Je=!je('"	"')}),Je&&pe(function(){Je=je("01")!==1}),Je&&pe(function(){Je=je("1.")!==1})))},function(){Je=!1}),$e=Je}}return Ae[Re]=!!$e}function tt(Re){return Ip(this)}z||(z=p.Object()),ae||(ae=p.Object());var at=z.Number||p.Number,$t=z.String||p.String,br=z.Object||p.Object,nr=z.Date||p.Date,Di=z.SyntaxError||p.SyntaxError,Qc=z.TypeError||p.TypeError,PC=z.Math||p.Math,Zc=z.JSON||p.JSON;if(typeof Zc=="object"&&Zc)return ae.stringify=Zc.stringify,ae.parse=Zc.parse,ae.runInContext=u,ae;var Fn,l_=br.prototype,En=l_.toString,ed=l_.hasOwnProperty,ti=new nr(-0xc782b5b800cec);if(pe(function(){ti=ti.getUTCFullYear()==-109252&&ti.getUTCMonth()===0&&ti.getUTCDate()===1&&ti.getUTCHours()==10&&ti.getUTCMinutes()==37&&ti.getUTCSeconds()==6&&ti.getUTCMilliseconds()==708}),Ae["bug-string-char-index"]=Ae["date-serialization"]=Ae.json=Ae["json-stringify"]=Ae["json-parse"]=null,!Ae("json")){var td="[object Function]",IC="[object Date]",c_="[object Number]",d_="[object String]",Dp="[object Array]",OC="[object Boolean]",Pp=Ae("bug-string-char-index"),so=function(Re,$e){var _e,Ge,De,ze=0;(_e=function(){this.valueOf=0}).prototype.valueOf=0,Ge=new _e;for(De in Ge)ed.call(Ge,De)&&ze++;return _e=Ge=null,ze?so=function(Je,je){var Dt,Lr,Vt=En.call(Je)==td;for(Dt in Je)Vt&&Dt=="prototype"||!ed.call(Je,Dt)||(Lr=Dt==="constructor")||je(Dt);(Lr||ed.call(Je,Dt="constructor"))&&je(Dt)}:(Ge=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],so=function(Je,je){var Dt,Lr,Vt=En.call(Je)==td,Sa=!Vt&&typeof Je.constructor!="function"&&c[typeof Je.hasOwnProperty]&&Je.hasOwnProperty||ed;for(Dt in Je)Vt&&Dt=="prototype"||!Sa.call(Je,Dt)||je(Dt);for(Lr=Ge.length;Dt=Ge[--Lr];)Sa.call(Je,Dt)&&je(Dt)}),so(Re,$e)};if(!Ae("json-stringify")&&!Ae("date-serialization")){var LC={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},RC="000000",Pi=function(Re,$e){return(RC+($e||0)).slice(-Re)},Ip=function(Re){var $e,_e,Ge,De,ze,Je,je,Dt,Lr;if(ti)$e=function(At){_e=At.getUTCFullYear(),Ge=At.getUTCMonth(),De=At.getUTCDate(),Je=At.getUTCHours(),je=At.getUTCMinutes(),Dt=At.getUTCSeconds(),Lr=At.getUTCMilliseconds()};else{var Vt=PC.floor,Sa=[0,31,59,90,120,151,181,212,243,273,304,334],Ii=function(At,Oi){return Sa[Oi]+365*(At-1970)+Vt((At-1969+(Oi=+(Oi>1)))/4)-Vt((At-1901+Oi)/100)+Vt((At-1601+Oi)/400)};$e=function(At){for(De=Vt(At/864e5),_e=Vt(De/365.2425)+1970-1;Ii(_e+1,0)<=De;_e++);for(Ge=Vt((De-Ii(_e,0))/30.42);Ii(_e,Ge+1)<=De;Ge++);De=1+De-Ii(_e,Ge),ze=(At%864e5+864e5)%864e5,Je=Vt(ze/36e5)%24,je=Vt(ze/6e4)%60,Dt=Vt(ze/1e3)%60,Lr=ze%1e3}}return(Ip=function(At){return At>-1/0&&At<1/0?($e(At),At=(_e<=0||_e>=1e4?(_e<0?"-":"+")+Pi(6,_e<0?-_e:_e):Pi(4,_e))+"-"+Pi(2,Ge+1)+"-"+Pi(2,De)+"T"+Pi(2,Je)+":"+Pi(2,je)+":"+Pi(2,Dt)+"."+Pi(3,Lr)+"Z",_e=Ge=De=Je=je=Dt=Lr=null):At=null,At})(Re)};if(Ae("json-stringify")&&!Ae("date-serialization")){var NC=ae.stringify;ae.stringify=function(Re,$e,_e){var Ge=nr.prototype.toJSON;nr.prototype.toJSON=tt;var De=NC(Re,$e,_e);return nr.prototype.toJSON=Ge,De}}else{var FC="\\u00",MC=function(Re){var $e=Re.charCodeAt(0),_e=LC[$e];return _e||FC+Pi(2,$e.toString(16))},Op=/[\x00-\x1f\x22\x5c]/g,f_=function(Re){return Op.lastIndex=0,'"'+(Op.test(Re)?Re.replace(Op,MC):Re)+'"'},Lp=function(Re,$e,_e,Ge,De,ze,Je){var je,Dt,Lr,Vt,Sa,Ii,At,Oi,Np;if(pe(function(){je=$e[Re]}),typeof je=="object"&&je&&(je.getUTCFullYear&&En.call(je)==IC&&je.toJSON===nr.prototype.toJSON?je=Ip(je):typeof je.toJSON=="function"&&(je=je.toJSON(Re))),_e&&(je=_e.call($e,Re,je)),je==Fn)return je===Fn?je:"null";switch(Dt=typeof je,Dt=="object"&&(Lr=En.call(je)),Lr||Dt){case"boolean":case OC:return""+je;case"number":case c_:return je>-1/0&&je<1/0?""+je:"null";case"string":case d_:return f_(""+je)}if(typeof je=="object"){for(At=Je.length;At--;)if(Je[At]===je)throw Qc();if(Je.push(je),Vt=[],Oi=ze,ze+=De,Lr==Dp){for(Ii=0,At=je.length;Ii<At;Ii++)Sa=Lp(Ii,je,_e,Ge,De,ze,Je),Vt.push(Sa===Fn?"null":Sa);Np=Vt.length?De?`[
`+ze+Vt.join(`,
`+ze)+`
`+Oi+"]":"["+Vt.join(",")+"]":"[]"}else so(Ge||je,function(g_){var m_=Lp(g_,je,_e,Ge,De,ze,Je);m_!==Fn&&Vt.push(f_(g_)+":"+(De?" ":"")+m_)}),Np=Vt.length?De?`{
`+ze+Vt.join(`,
`+ze)+`
`+Oi+"}":"{"+Vt.join(",")+"}":"{}";return Je.pop(),Np}};ae.stringify=function(Re,$e,_e){var Ge,De,ze,Je;if(c[typeof $e]&&$e){if(Je=En.call($e),Je==td)De=$e;else if(Je==Dp){ze={};for(var je,Dt=0,Lr=$e.length;Dt<Lr;)je=$e[Dt++],Je=En.call(je),Je!="[object String]"&&Je!="[object Number]"||(ze[je]=1)}}if(_e)if(Je=En.call(_e),Je==c_){if((_e-=_e%1)>0)for(_e>10&&(_e=10),Ge="";Ge.length<_e;)Ge+=" "}else Je==d_&&(Ge=_e.length<=10?_e:_e.slice(0,10));return Lp("",(je={},je[""]=Re,je),De,ze,Ge,"",[])}}}if(!Ae("json-parse")){var Qe,rd,BC=$t.fromCharCode,UC={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},fr=function(){throw Qe=rd=null,Di()},Ta=function(){for(var Re,$e,_e,Ge,De,ze=rd,Je=ze.length;Qe<Je;)switch(De=ze.charCodeAt(Qe)){case 9:case 10:case 13:case 32:Qe++;break;case 123:case 125:case 91:case 93:case 58:case 44:return Re=Pp?ze.charAt(Qe):ze[Qe],Qe++,Re;case 34:for(Re="@",Qe++;Qe<Je;)if(De=ze.charCodeAt(Qe),De<32)fr();else if(De==92)switch(De=ze.charCodeAt(++Qe)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:Re+=UC[De],Qe++;break;case 117:for($e=++Qe,_e=Qe+4;Qe<_e;Qe++)De=ze.charCodeAt(Qe),De>=48&&De<=57||De>=97&&De<=102||De>=65&&De<=70||fr();Re+=BC("0x"+ze.slice($e,Qe));break;default:fr()}else{if(De==34)break;for(De=ze.charCodeAt(Qe),$e=Qe;De>=32&&De!=92&&De!=34;)De=ze.charCodeAt(++Qe);Re+=ze.slice($e,Qe)}if(ze.charCodeAt(Qe)==34)return Qe++,Re;fr();default:if($e=Qe,De==45&&(Ge=!0,De=ze.charCodeAt(++Qe)),De>=48&&De<=57){for(De==48&&(De=ze.charCodeAt(Qe+1),De>=48&&De<=57)&&fr(),Ge=!1;Qe<Je&&(De=ze.charCodeAt(Qe),De>=48&&De<=57);Qe++);if(ze.charCodeAt(Qe)==46){for(_e=++Qe;_e<Je&&(De=ze.charCodeAt(_e),!(De<48||De>57));_e++);_e==Qe&&fr(),Qe=_e}if(De=ze.charCodeAt(Qe),De==101||De==69){for(De=ze.charCodeAt(++Qe),De!=43&&De!=45||Qe++,_e=Qe;_e<Je&&(De=ze.charCodeAt(_e),!(De<48||De>57));_e++);_e==Qe&&fr(),Qe=_e}return+ze.slice($e,Qe)}Ge&&fr();var je=ze.slice(Qe,Qe+4);if(je=="true")return Qe+=4,!0;if(je=="fals"&&ze.charCodeAt(Qe+4)==101)return Qe+=5,!1;if(je=="null")return Qe+=4,null;fr()}return"$"},Rp=function(Re){var $e,_e;if(Re=="$"&&fr(),typeof Re=="string"){if((Pp?Re.charAt(0):Re[0])=="@")return Re.slice(1);if(Re=="["){for($e=[];Re=Ta(),Re!="]";)_e?Re==","?(Re=Ta(),Re=="]"&&fr()):fr():_e=!0,Re==","&&fr(),$e.push(Rp(Re));return $e}if(Re=="{"){for($e={};Re=Ta(),Re!="}";)_e?Re==","?(Re=Ta(),Re=="}"&&fr()):fr():_e=!0,Re!=","&&typeof Re=="string"&&(Pp?Re.charAt(0):Re[0])=="@"&&Ta()==":"||fr(),$e[Re.slice(1)]=Rp(Ta());return $e}fr()}return Re},h_=function(Re,$e,_e){var Ge=p_(Re,$e,_e);Ge===Fn?delete Re[$e]:Re[$e]=Ge},p_=function(Re,$e,_e){var Ge,De=Re[$e];if(typeof De=="object"&&De)if(En.call(De)==Dp)for(Ge=De.length;Ge--;)h_(En,so,De,Ge,_e);else so(De,function(ze){h_(De,ze,_e)});return _e.call(Re,$e,De)};ae.parse=function(Re,$e){var _e,Ge;return Qe=0,rd=""+Re,_e=Rp(Ta()),Ta()!="$"&&fr(),Qe=rd=null,$e&&En.call($e)==td?p_((Ge={},Ge[""]=_e,Ge),"",$e):_e}}}return ae.runInContext=u,ae}var c={function:!0,object:!0},p=c[typeof window]&&window||this,_=p.JSON,b=p.JSON3,w=!1,L=u(p,p.JSON3={noConflict:function(){return w||(w=!0,p.JSON=_,p.JSON3=b,_=b=null),L}});p.JSON?(p.JSON.parse=L.parse,p.JSON.stringify=L.stringify):p.JSON={parse:L.parse,stringify:L.stringify}}).call(window),function(u,c){c(u)}(window,function(u){if(u.atob)try{u.atob(" ")}catch{u.atob=function(b){var w=function(L){return b(String(L).replace(/[\t\n\f\r ]+/g,""))};return w.original=b,w}(u.atob)}else{var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;u.btoa=function(_){_=String(_);for(var b,w,L,z,ae="",pe=0,Ae=_.length%3;pe<_.length;){if((w=_.charCodeAt(pe++))>255||(L=_.charCodeAt(pe++))>255||(z=_.charCodeAt(pe++))>255)return"";b=w<<16|L<<8|z,ae+=c.charAt(b>>18&63)+c.charAt(b>>12&63)+c.charAt(b>>6&63)+c.charAt(63&b)}return Ae?ae.slice(0,Ae-3)+"===".substring(Ae):ae},u.atob=function(_){if(_=String(_).replace(/[\t\n\f\r ]+/g,""),!p.test(_))return"";_+="==".slice(2-(3&_.length));for(var b,w,L,z="",ae=0;ae<_.length;)b=c.indexOf(_.charAt(ae++))<<18|c.indexOf(_.charAt(ae++))<<12|(w=c.indexOf(_.charAt(ae++)))<<6|(L=c.indexOf(_.charAt(ae++))),z+=w===64?String.fromCharCode(b>>16&255):L===64?String.fromCharCode(b>>16&255,b>>8&255):String.fromCharCode(b>>16&255,b>>8&255,255&b);return z}}});var p0,cr={setup:function(u){p0=u},log:function(){(p0||console&&console.log||function(){}).apply(null,arguments)}},pt={get:function(u){return window.localStorage.getItem(u)},parse:function(u){var c;try{c=JSON.parse(pt.get(u))||null}catch(p){cr.log(p)}return c},set:function(u,c){try{window.localStorage.setItem(u,c)}catch(p){cr.log(p)}},remove:function(u){window.localStorage.removeItem(u)},isSupport:function(){var u=!0;try{var c="__local_store_support__",p="testIsSupportStorage";pt.set(c,p),pt.get(c)!==p&&(u=!1),pt.remove(c)}catch{u=!1}return u}},g0=function(){function u(){return p=(9301*p+49297)%233280,p/233280}var c=new Date,p=c.getTime();return function(_){return Math.ceil(u()*_)}}();l.prototype.get=function(u,c,p,_){if(!u)throw new Error("key is must");c=c||1e4,p=p||1e3,_=_||function(){};var b=this.lockGetPrefix+u,w=pt.get(b),L=String(a());return w&&(w=s(w)||{randomNum:0,expireTime:0},w.expireTime>i())?_(null):(pt.set(b,JSON.stringify({randomNum:L,expireTime:i()+c})),void setTimeout(function(){w=s(pt.get(b))||{randomNum:0,expireTime:0},w&&w.randomNum===L?(_(pt.get(u)),pt.remove(u),pt.remove(b)):_(null)},p))},l.prototype.set=function(u,c,p,_,b){if(!u||!c)throw new Error("key and val is must");p=p||1e4,_=_||1e3,b=b||function(){};var w=this.lockSetPrefix+u,L=pt.get(w),z=String(a());return L&&(L=s(L)||{randomNum:0,expireTime:0},L.expireTime>i())?b({status:"fail",reason:"This key is locked"}):(pt.set(w,JSON.stringify({randomNum:z,expireTime:i()+p})),void setTimeout(function(){L=s(pt.get(w))||{randomNum:0,expireTime:0},L.randomNum===z?pt.set(u,c)&&b({status:"success"}):b({status:"fail",reason:"This key is locked"})},_))},f.prototype.on=function(u,c){if(!u||!c)return!1;if(!d(c))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var p=typeof c=="object";return this._events[u].push(p?c:{listener:c,once:!1}),this},f.prototype.prepend=function(u,c){if(!u||!c)return!1;if(!d(c))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var p=typeof c=="object";return this._events[u].unshift(p?c:{listener:c,once:!1}),this},f.prototype.prependOnce=function(u,c){return this.prepend(u,{listener:c,once:!0})},f.prototype.once=function(u,c){return this.on(u,{listener:c,once:!0})},f.prototype.off=function(u,c){var p=this._events[u];if(!p)return!1;if(typeof c=="number")p.splice(c,1);else if(typeof c=="function")for(var _=0,b=p.length;_<b;_++)p[_]&&p[_].listener===c&&p.splice(_,1);return this},f.prototype.emit=function(u,c){var p=this._events[u];if(!p)return!1;for(var _=0;_<p.length;_++){var b=p[_];b&&(b.listener.call(this,c||{}),b.once&&this.off(u,_))}return this},f.prototype.removeAllListeners=function(u){u&&this._events[u]?this._events[u]=[]:this._events={}},f.prototype.listeners=function(u){return u&&typeof u=="string"?this._events[u]:this._events};var pa=function(){var u=function(){for(var _=1*new Date,b=0;_==1*new Date;)b++;return _.toString(16)+b.toString(16)},c=function(){return a().toString(16).replace(".","")},p=function(){function _(pe,Ae){var tt,at=0;for(tt=0;tt<Ae.length;tt++)at|=z[tt]<<8*tt;return pe^at}var b,w,L=navigator.userAgent,z=[],ae=0;for(b=0;b<L.length;b++)w=L.charCodeAt(b),z.unshift(255&w),z.length>=4&&(ae=_(ae,z),z=[]);return z.length>0&&(ae=_(ae,z)),ae.toString(16)};return function(){var _=String(screen.height*screen.width);_=_&&/\d{5,}/.test(_)?_.toString(16):String(31242*a()).replace(".","").slice(0,8);var b=u()+"-"+c()+"-"+p()+"-"+_+"-"+u();return b||(String(a())+String(a())+String(a())).slice(2,15)}}(),m0=function(u){this.ele=u},v0=function(u,c){for(var p=[];u;u=u.nextSibling)u.nodeType===1&&u!==c&&p.push(u);return p};m0.prototype={addClass:function(u){var c=" "+this.ele.className+" ";return c.indexOf(" "+u+" ")===-1&&(this.ele.className=this.ele.className+(this.ele.className===""?"":" ")+u),this},removeClass:function(u){var c=" "+this.ele.className+" ";return c.indexOf(" "+u+" ")!==-1&&(this.ele.className=c.replace(" "+u+" "," ").slice(1,-1)),this},hasClass:function(u){var c=" "+this.ele.className+" ";return c.indexOf(" "+u+" ")!==-1},attr:function(u,c){return typeof u=="string"&&M(c)?this.ele.getAttribute(u):(typeof u=="string"&&(c=String(c),this.ele.setAttribute(u,c)),this)},offset:function(){var u=this.ele.getBoundingClientRect();if(u.width||u.height){var c=this.ele.ownerDocument,p=c.documentElement;return{top:u.top+window.pageYOffset-p.clientTop,left:u.left+window.pageXOffset-p.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var u=this.ele.getBoundingClientRect();return{width:u.width,height:u.height}}catch{return{width:0,height:0}}},getStyle:function(u){return this.ele.currentStyle?this.ele.currentStyle[u]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(u)},wrap:function(u){var c=document.createElement(u);return this.ele.parentNode.insertBefore(c,this.ele),c.appendChild(this.ele),U(c)},getCssStyle:function(u){var c=this.ele.style.getPropertyValue(u);if(c)return c;var p=null;if(typeof window.getMatchedCSSRules=="function"&&(p=window.getMatchedCSSRules(this.ele)),!p||!$(p))return null;for(var _=p.length-1;_>=0;_--){var b=p[_];if(c=b.style.getPropertyValue(u))return c}},sibling:function(u,c){for(;(u=u[c])&&u.nodeType!==1;);return u},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(){return this.sibling(this.ele,"previousSibling")},siblings:function(){return v0((this.ele.parentNode||{}).firstChild,this.ele)},children:function(){return v0(this.ele.firstChild)},parent:function(){var u=this.ele.parentNode;return u=u&&u.nodeType!==11?u:null,U(u)},previousElementSibling:function(){var u=this.ele;if("previousElementSibling"in document.documentElement)return U(u.previousElementSibling);for(;u=u.previousSibling;)if(u.nodeType===1)return U(u);return U(null)},getSameTypeSiblings:function(){for(var u=this.ele,c=u.parentNode,p=u.tagName.toLowerCase(),_=[],b=0;b<c.children.length;b++){var w=c.children[b];w.nodeType===1&&w.tagName.toLowerCase()===p&&_.push(c.children[b])}return _},getParents:function(){try{var u=this.ele;if(!R(u))return[];var c=[u];if(u===null||u.parentElement===null)return[];for(;u.parentElement!==null;)u=u.parentElement,c.push(u);return c}catch{return[]}}};var _0=Array.prototype.forEach,ow=Object.prototype.hasOwnProperty,uw=Object.prototype.hasOwnProperty,Za={get:function(u){for(var c=u+"=",p=document.cookie.split(";"),_=0;_<p.length;_++){for(var b=p[_];b.charAt(0)==" ";)b=b.substring(1,b.length);if(b.indexOf(c)==0)return h(b.substring(c.length,b.length))}return null},set:function(u,c,p,_,b,w){function L(nr){return!!nr&&nr.replace(/\r\n/g,"")}var z=w,ae="",pe="",Ae="";if(p=p==null?73e3:p,p!==0){var tt=new Date;String(p).slice(-1)==="s"?tt.setTime(tt.getTime()+1e3*Number(String(p).slice(0,-1))):tt.setTime(tt.getTime()+24*p*60*60*1e3),ae="; expires="+tt.toGMTString()}_&&_!==""&&(Ae="; SameSite="+_),b&&(pe="; secure");var at="",$t="",br="";u&&(at=L(u)),c&&($t=L(c)),z&&(br=L(z)),at&&$t&&(document.cookie=at+"="+encodeURIComponent($t)+ae+"; path=/"+br+Ae+pe)},remove:function(u,c){this.set(u,"1",-1,c)},isSupport:function(u,c,p,_,b){function w(){L.set(u,c,p,_,b);var z=L.get(u);return z===c&&(L.remove(u),!0)}u=u||"cookie_support_test",c=c||"1";var L=this;return navigator.cookieEnabled&&w()}},lw=Object.prototype.hasOwnProperty,to={isSupport:function(){var u=!0,c="__session_storage_support__",p="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(c,p),sessionStorage.removeItem(c,p),u=!0):u=!1}catch{u=!1}return u}},cw={"+":"-","/":"_","=":"."},dw={"-":"+",_:"/",".":"="},fw={encode:function(u){return u.replace(/[+\/=]/g,function(c){return cw[c]})},decode:function(u){return u.replace(/[-_.]/g,function(c){return dw[c]})},trim:function(u){return u.replace(/[.=]{1,2}$/,"")},isBase64:function(u){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(u)},isUrlSafeBase64:function(u){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(u)}},hw={__proto__:null,ConcurrentStorage:l,EventEmitter:f,URL:D,UUID:pa,addEvent:J,addHashEvent:te,ajax:K,base64Decode:Z,base64Encode:ue,bindReady:Me,cookie:Za,coverExtend:Ue,decodeURI:ke,decodeURIComponent:h,dfmapping:ge,each:V,encodeDates:lt,extend:X,extend2Lev:wr,filter:It,formatDate:mt,formatJsonString:Bt,getCookieTopLevelDomain:Cr,getDomBySelector:Ut,getElementContent:ne,getHostname:ye,getIOSVersion:Se,getQueryParam:Fe,getQueryParamsFromUrl:Ze,getRandom:a,getRandomBasic:g0,getScreenOrientation:nt,getUA:F,getURL:W,getURLPath:re,getURLSearchParams:v,hasAttribute:ie,hasAttributes:de,hashCode:oe,hashCode53:we,indexOf:ce,inherit:Te,isArguments:fe,isArray:$,isBoolean:Pe,isDate:Ee,isElement:R,isEmptyObject:Oe,isFunction:n,isHttpUrl:Be,isIOS:Ke,isJSONString:it,isNumber:ot,isObject:t,isString:T,isSupportBeaconSend:St,isSupportCors:We,isUndefined:M,jsonp:Ar,listenPageState:On,loadScript:_i,localStorage:pt,logger:cr,map:ee,mediaQueriesSupported:Tt,now:i,removeScriptProtocol:yi,rot13defs:Wt,rot13obfs:qa,ry:U,safeJSONParse:s,searchObjDate:kr,sessionStorage:to,setCssStyle:bi,strToUnicode:ch,throttle:dh,toArray:uc,trim:A,unique:$s,urlParse:P,urlSafeBase64:fw,values:Xr,xhr:H,startsWith:au},$c=[],es={appendWriter:function(u){$c.push(u)},msg:function(){var u={module:"",level:"log",brand:"web-sdk",content:null};u.content=Array.prototype.slice.call(arguments);var c={module:function(p){return T(p)&&(u.module=p),this},level:function(p){return T(p)&&(u.level=p),this},brand:function(p){return T(p)&&(u.brand=p),this},log:function(){if(u.content&&u.content.length){for(var p=0;p<$c.length;p++)if(typeof $c[p]=="function")try{$c[p].call(null,u)}catch{}}return this}};return c}},Ne={},ku={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,enc_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,max_id_length:255,max_key_length:100,cross_subdomain:!0,show_log:!1,is_debug:!1,source_channel:[],sdk_id:"",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1};ku.white_list={},ku.white_list[location.host]=D(location.href).hostname;var y0="utm_source utm_medium utm_campaign utm_content utm_term",Vc="1.26.12",b0="sensorsdata_domain_test",Du={EMAIL:"$identity_email",MOBILE:"$identity_mobile",LOGIN:"$identity_login_id"},cn={get:function(u){return Za.get(u)},set:function(u,c,p,_){var b="";if(_=M(_)?Ne.cross_subdomain:_){var w=Ti(location.href);w==="url\u89E3\u6790\u5931\u8D25"&&(w=""),b=w?"; domain="+w:""}return Za.set(u,c,p,Ne.set_cookie_samesite,Ne.is_secure_cookie,b)},remove:function(u,c){return c=M(c)?Ne.cross_subdomain:c,Za.remove(u,c)},isSupport:function(u,c){return u=u||"sajssdk_2015_cookie_access_test",c=c||"1",Za.isSupport(u,c,0,null,Ne.is_secure_cookie)}};cn.getNewUser=Vs;var Hc={data:{},get:function(u){var c=this.data[u];return c===void 0?null:c._expirationTimestamp_!==void 0?new Date().getTime()>c._expirationTimestamp_?null:c.value:c},set:function(u,c,p){if(p){var _,b=new Date;_=String(p).slice(-1)==="s"?b.getTime()+1e3*Number(String(p).slice(0,-1)):b.getTime()+24*p*60*60*1e3,c={value:c,_expirationTimestamp_:_}}this.data[u]=c},getNewUserFlagMemoryKey:function(u){return"sajssdk_2015_"+Ne.sdk_id+u}},Pu={checkIsAddSign:function(u){u.type==="track"&&(Vs()?u.properties.$is_first_day=!0:u.properties.$is_first_day=!1)},is_first_visit_time:!1,is_page_first_visited:!1,checkIsFirstTime:function(u){u.type==="track"&&u.event==="$pageview"&&(this.is_first_visit_time?(u.properties.$is_first_time=!0,this.is_first_visit_time=!1):u.properties.$is_first_time=!1)},setDeviceId:function(){},storeInitCheck:function(){if(O.is_first_visitor){var u=new Date,c={h:23-u.getHours(),m:59-u.getMinutes(),s:59-u.getSeconds()};cn.isSupport()?cn.set(Dr("new_user"),"1",3600*c.h+60*c.m+c.s+"s"):Hc.set(Hc.getNewUserFlagMemoryKey("new_user"),"1",3600*c.h+60*c.m+c.s+"s"),this.is_first_visit_time=!0,this.is_page_first_visited=!0}else Vs()||(this.checkIsAddSign=function(p){p.type==="track"&&(p.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(p){p.type==="track"&&p.event==="$pageview"&&(p.properties.$is_first_time=!1)}}},lp=function(){this._events=[],this.pendingEvents=[]};lp.prototype={emit:function(u){var c=[].slice.call(arguments,1);V(this._events,function(p){p.type===u&&p.callback.apply(p.context,c)}),this.pendingEvents.push({type:u,data:c}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(u,c,p,_){n(c)&&(this._events.push({type:u,callback:c,context:p||this}),_=_!==!1,this.pendingEvents.length>0&&_&&V(this.pendingEvents,function(b){b.type===u&&c.apply(p,b.data)}))},tempAdd:function(u,c){if(c&&u)return this.emit(u,c)},isReady:function(){}};var Iu={data:{},id:function(){return this.data.id?this.data.id:(this.data.id=Wa(),this.data.id)},type:function(){return this.data.type?this.data.type:(this.data.type=yn(),this.data.type)}},ga={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(u){},apph5:function(u){var c="app_h5\u6253\u901A\u5931\u8D25-",p={1:c+"use_app_track\u4E3Afalse",2:c+"Android\u6216\u8005iOS\uFF0C\u6CA1\u6709\u66B4\u9732\u76F8\u5E94\u65B9\u6CD5",3.1:c+"Android\u6821\u9A8Cserver_url\u5931\u8D25",3.2:c+"iOS\u6821\u9A8Cserver_url\u5931\u8D25",4.1:c+"H5 \u6821\u9A8C iOS server_url \u5931\u8D25",4.2:c+"H5 \u6821\u9A8C Android server_url \u5931\u8D25"},_=u.output,b=u.step,w=u.data||"";_!=="all"&&_!=="console"||_n(p[b]),(_==="all"||_==="code")&&t(Ne.is_debug)&&Ne.is_debug.apph5&&(w.type&&w.type.slice(0,7)==="profile"||(w.properties._jssdk_debug_info="apph5-"+String(b)))},defineMode:function(u){var c={1:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 App SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},2:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 Web JS SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},3:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u6CA1\u6709\u5F00\u542F\u5168\u57CB\u70B9\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},4:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0E App SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""}};return!(!u||!c[u])&&c[u]},protocol:{protocolIsSame:function(u,c){try{if(D(u).protocol!==D(c).protocol)return!1}catch{return Xe("\u4E0D\u652F\u6301 _.URL \u65B9\u6CD5"),!1}return!0},serverUrl:function(){T(Ne.server_url)&&Ne.server_url!==""&&!this.protocolIsSame(Ne.server_url,location.href)&&Xe(`SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002
\u56E0\u4E3A\uFF1A1\u3001https \u4E0B\u9762\u53D1\u9001 http \u7684\u56FE\u7247\u8BF7\u6C42\u4F1A\u5931\u8D25\u30022\u3001http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002`)},ajax:function(u){return u!==Ne.server_url&&void(T(u)&&u!==""&&!this.protocolIsSame(u,location.href)&&Xe("SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002\u56E0\u4E3A http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002"))}}},xt={initPage:function(){var u=ht(),c=W(),p=Ti(c);p||ga.jssdkDebug("url_domain\u5F02\u5E38_"+c+"_"+p),this.pageProp={referrer:u,referrer_host:u?ye(u):"",url:c,url_host:ye(c,"url_host\u53D6\u503C\u5F02\u5E38"),url_domain:p}},pageProp:{},campaignParams:function(){return O.kit.getUtmData()},campaignParamsStandard:function(u,c){u=u||"",c=c||"";var p=xt.campaignParams(),_={},b={};return V(p,function(w,L,z){(" "+y0+" ").indexOf(" "+L+" ")!==-1?_[u+L]=z[L]:b[c+L]=z[L]}),{$utms:_,otherUtms:b}},properties:function(){var u=window.innerHeight||document.documentElement.clientHeight||document.body&&document.body.clientHeight||0,c=window.innerWidth||document.documentElement.clientWidth||document.body&&document.body.clientWidth||0,p={$timezone_offset:new Date().getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$viewport_height:u,$viewport_width:c,$lib:"js",$lib_version:Vc};return p},currentProps:{},register:function(u){X(xt.currentProps,u)}},Qt={},cp=new f;Qt.spa=cp,Qt.sdk=new f,Qt.data=new f,Qt.initSystemEvent=function(){ph(function(u){cp.emit("switch",u)})},Qt.EVENT_LIST={spaSwitch:["spa","switch"],sdkBeforeInit:["sdk","beforeInit"],sdkInitPara:["sdk","initPara"],sdkAfterInitPara:["sdk","afterInitPara"],sdkInitAPI:["sdk","initAPI"],sdkAfterInitAPI:["sdk","afterInitAPI"],sdkAfterInit:["sdk","afterInit"],sdkReady:["sdk","ready"],dataSendSuccess:["data","sendSuccess"],dataSendFail:["data","sendFail"]};var dp=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data,this.origin_data=u.origin_data};dp.prototype.start=function(){var u=this,c=new Date;qs({url:this.server_url,type:"POST",data:u.data,credentials:!1,timeout:Ne.datasend_timeout,cors:!0,success:function(p,_){Qt.data.emit("sendSuccess",{status:String(_),resText:p,type:"ajax_single",timeout_config:Ne.datasend_timeout,request_timeout:new Date-c,data:u.origin_data}),u.end()},error:function(p,_){Qt.data.emit("sendFail",{status:String(_),resText:p,type:"ajax_single",timeout_config:Ne.datasend_timeout,request_timeout:new Date-c,data:u.origin_data}),u.end()}})},dp.prototype.end=function(){if(this.callback){if(_n("warning: sdk callback is deprecated."),!n(this.callback))return void _n("error: sdk callback must be function.");this.callback()}};var T0="sawebjssdk-",fp="tab-sawebjssdk-";cu.prototype={batchInterval:function(){this.serverUrl===""&&this.getServerUrl(),this.hasTabStorage||(this.generateTabStorage(),this.hasTabStorage=!0);var u=this;u.timer=setTimeout(function(){u.updateExpireTime(),u.recycle(),u.send(),clearTimeout(u.timer),u.batchInterval()},Ne.batch_send.send_interval)},getServerUrl:function(){return T(Ne.server_url)&&Ne.server_url!==""||$(Ne.server_url)&&Ne.server_url.length?void(this.serverUrl=$(Ne.server_url)?Ne.server_url[0]:Ne.server_url):ut("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01")},send:function(){if(this.sendTimeStamp&&i()-this.sendTimeStamp<Ne.batch_send.send_interval)return!1;var u=pt.get(this.tabKey);if(u){this.sendTimeStamp=i(),u=s(u)||this.generateTabStorageVal();var c=$s(u.data);if(c.length){for(var p=[],_=0;_<c.length;_++){var b=O.store.readObjectVal(c[_]);b&&(b._flush_time=new Date().getTime(),p.push(b))}p.length&&this.request(p,u.data)}}},updateExpireTime:function(){var u=pt.get(this.tabKey);u&&(u=s(u)||this.generateTabStorageVal(),u.expireTime=i()+2*Ne.batch_send.send_interval,u.serverUrl=this.serverUrl,pt.set(this.tabKey,JSON.stringify(u)))},request:function(u,c){var p=this,_=new Date;qs({url:this.serverUrl,type:"POST",data:"data_list="+encodeURIComponent(ue(JSON.stringify(u))),credentials:!1,timeout:Ne.batch_send.datasend_timeout,cors:!0,success:function(b,w){Qt.data.emit("sendSuccess",{status:String(w),resText:b,type:"ajax_batch",timeout_config:Ne.batch_send.datasend_timeout,request_timeout:new Date-_,data:u}),p.remove(c),p.sendTimeStamp=0},error:function(b,w){Qt.data.emit("sendFail",{status:String(w),resText:b,type:"ajax_batch",timeout_config:Ne.batch_send.datasend_timeout,request_timeout:new Date-_,data:u}),p.sendTimeStamp=0}})},remove:function(u){var c=pt.get(this.tabKey);if(c){for(var p=(s(c)||this.generateTabStorageVal()).data,_=0;_<u.length;_++){var b=ce(p,u[_]);b>-1&&p.splice(b,1),pt.remove(u[_])}p=$s(p),pt.set(this.tabKey,JSON.stringify(this.generateTabStorageVal(p)))}},add:function(u){var c=T0+String(a()),p=pt.get(this.tabKey);p===null?(this.tabKey=fp+String(a()),p=this.generateTabStorageVal()):p=s(p)||this.generateTabStorageVal(),p.data.push(c),p.expireTime=i()+2*Ne.batch_send.send_interval,pt.set(this.tabKey,JSON.stringify(p)),O.store.saveObjectVal(c,u),u.type!=="track_signup"&&u.event!=="$pageview"||this.sendImmediately()},generateTabStorage:function(){this.tabKey=fp+String(a()),pt.set(this.tabKey,JSON.stringify(this.generateTabStorageVal()))},generateTabStorageVal:function(u){return u=u||[],{data:u,expireTime:i()+2*Ne.batch_send.send_interval,serverUrl:this.serverUrl}},sendImmediately:function(){this.send()},recycle:function(){for(var u={},c=1e4,p="sajssdk-lock-get-",_=0;_<localStorage.length;_++){var b=localStorage.key(_),w=this;if(b.indexOf(fp)===0){for(var L=s(pt.get(b))||this.generateTabStorageVal(),z=0;z<L.data.length;z++)u[L.data[z]]=!0;if(b!==w.tabKey&&i()>L.expireTime&&this.serverUrl===L.serverUrl){var ae=new l(p);ae.get(b,c,1e3,function(at){if(at){pt.get(w.tabKey)===null&&w.generateTabStorage();var $t=s(at)||w.generateTabStorageVal(),br=s(pt.get(w.tabKey))||w.generateTabStorageVal();br.data=$s(br.data.concat($t.data)),pt.set(w.tabKey,JSON.stringify(br))}})}}else if(b.indexOf(p)===0){var pe=s(pt.get(b))||{expireTime:0};i()-pe.expireTime>c&&pt.remove(b)}}for(var Ae=0;Ae<localStorage.length;Ae++){var tt=localStorage.key(Ae);tt.indexOf(T0)!==0||u[tt]||pt.remove(tt)}}};var hp=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data};hp.prototype.start=function(){var u=this;typeof navigator=="object"&&typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){u.end()},40)},hp.prototype.end=function(){if(this.callback){if(_n("warning: sdk callback is deprecated."),!n(this.callback))return void _n("error: sdk callback must be function.");this.callback()}};var qc=function(u){this.callback=u.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,Ne.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.server_url=u.data};qc.prototype.start=function(){var u=this;Ne.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()}),this.img.src=this.server_url},qc.prototype.lastClear=function(){var u=F();u.ie!==void 0?this.img.src="about:blank":this.img.src=""},qc.prototype.end=function(){if(this.callback){if(_n("warning: sdk callback is deprecated."),!n(this.callback))return void _n("error: sdk callback must be function.");this.callback()}var u=this;setTimeout(function(){u.lastClear&&u.lastClear()},Ne.datasend_timeout-Ne.callback_timeout)};var pw={__proto__:null,addEvent:Si,EventEmitterSa:lp,cookie:cn,info:xt,getReferrer:ht,getCurrentDomain:Ti,isBaiduTraffic:zn,getReferrerEqid:Wa,getReferrerEqidType:yn,getBaiduKeyword:Iu,isReferralTraffic:Hs,getKeywordFromReferrer:Kn,getReferSearchEngine:Ga,getSourceFromReferrer:su,getWxAdIdFromUrl:Xn,parseSuperProperties:Ot,searchConfigData:za,strip_empty_properties:rr,getEleInfo:ou,getElementContent:Ka,ajax:qs,optimizeServerUrl:lu,encodeTrackData:Xa,AjaxSend:dp,BatchSend:cu,BeaconSend:hp,ImageSend:qc},S0=new lp,le={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{},identities:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getOriginDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getOriginUnionId:function(u){var c={};u=u||this._state;var p=u._first_id||u.first_id,_=u._distinct_id||u.distinct_id;return p&&_?(c.login_id=_,c.anonymous_id=p):c.anonymous_id=_,c},getIdentities:function(){var u=JSON.parse(JSON.stringify(this._state.identities));return u.$identity_anonymous_id=this.getAnonymousId(),u},getAnonymousId:function(){return le._state._first_id||le._state.first_id||le._state._distinct_id||le._state.distinct_id},getDistinctId:function(){var u=this.getUnionId();return u.login_id||u.anonymous_id},getUnionId:function(u){var c=this.getOriginUnionId(u);return c.login_id&&this._state.history_login_id&&this._state.history_login_id.name&&this._state.history_login_id.name!==Du.LOGIN&&(c.login_id=this._state.history_login_id.name+"+"+c.login_id),c},getFirstId:function(){return this._state._first_id||this._state.first_id},initSessionState:function(){var u=cn.get("sensorsdata2015session");u=O.kit.userDecryptIfNeeded(u);var c=null;u!==null&&typeof(c=s(u))=="object"&&(this._sessionState=c||{})},setOnce:function(u,c){u in this._state||this.set(u,c)},set:function(u,c){this._state=this._state||{};var p=this._state.distinct_id;this._state[u]=c,u==="first_id"?delete this._state._first_id:u==="distinct_id"&&delete this._state._distinct_id,this.save(),u==="distinct_id"&&p&&S0.tempAdd("changeDistinctId",c)},change:function(u,c){this._state["_"+u]=c},setSessionProps:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var c=this._sessionState;X(c,u),this.sessionSave(c)},setSessionPropsOnce:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var c=this._sessionState;Ue(c,u),this.sessionSave(c)},setProps:function(u,c){var p={};p=c?u:X(this._state.props||{},u);for(var _ in p)typeof p[_]=="string"&&(p[_]=p[_].slice(0,O.para.max_referrer_string_length));this.set("props",p)},setPropsOnce:function(u){var c=this._state.props||{};Ue(c,u),this.set("props",c)},clearAllProps:function(u){this._sessionState={};var c;if($(u)&&u.length>0)for(c=0;c<u.length;c++)T(u[c])&&u[c].indexOf("latest_")===-1&&t(this._state.props)&&u[c]in this._state.props&&delete this._state.props[u[c]];else if(t(this._state.props))for(c in this._state.props)c.indexOf("latest_")!==1&&delete this._state.props[c];this.sessionSave({}),this.save()},sessionSave:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE"),this._sessionState=u;var c=JSON.stringify(this._sessionState);O.para.encrypt_cookie&&(c=O.kit.userEncrypt(c)),cn.set("sensorsdata2015session",c,0)},save:function(){var u=JSON.parse(JSON.stringify(this._state));delete u._first_id,delete u._distinct_id,u.identities&&(u.identities=ue(JSON.stringify(u.identities)));var c=JSON.stringify(u);O.para.encrypt_cookie&&(c=O.kit.userEncrypt(c)),cn.set(this.getCookieName(),c,360,O.para.cross_subdomain)},getCookieName:function(){var u="";if(O.para.cross_subdomain===!1){try{var c=location.host;M(O.para.white_list[c])||(u=O.para.white_list[c])}catch(p){Xe(p)}u=typeof u=="string"&&u!==""?"sa_jssdk_2015_"+O.para.sdk_id+u.replace(/\./g,"_"):"sa_jssdk_2015_root"+O.para.sdk_id}else u="sensorsdata2015jssdkcross"+O.para.sdk_id;return u},init:function(){function u(w){var L;w.identities&&(w.identities.indexOf(`
/`)===0?w.identities=s(Wt(w.identities)):w.identities=s(Z(w.identities)));var z=le.getOriginUnionId(w);w.identities&&t(w.identities)&&!Oe(w.identities)||(w.identities={},w.identities.$identity_cookie_id=pa()),w.history_login_id=w.history_login_id||{};var ae=w.history_login_id,pe=ae.name;if(z.login_id)if(pe&&w.identities.hasOwnProperty(pe)){if(w.identities[pe]!==z.login_id){w.identities[pe]=z.login_id;for(L in w.identities)w.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==pe&&delete w.identities[L];w.history_login_id.value=z.login_id}}else{var Ae=pe||Du.LOGIN;w.identities[Ae]=z.login_id;for(L in w.identities)w.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==Ae&&delete w.identities[L];w.history_login_id={name:Ae,value:z.login_id}}else{if(w.identities.hasOwnProperty("$identity_login_id")||w.identities.hasOwnProperty(pe))for(L in w.identities)w.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!=="$identity_anonymous_id"&&delete w.identities[L];w.history_login_id={name:"",value:""}}return w}function c(w){le.set("distinct_id",w),le.set("identities",{$identity_cookie_id:w}),le.set("history_login_id",{name:"",value:""})}this.initSessionState();var p,_,b=pa();cn.isSupport()&&(p=cn.get(this.getCookieName()),p=O.kit.userDecryptIfNeeded(p),_=s(p)),cn.isSupport()&&p!==null&&it(p)&&t(_)&&(!t(_)||_.distinct_id)?(le._state=X(u(_)),le.save()):(O.is_first_visitor=!0,c(b)),Pu.setDeviceId(b,this),Pu.storeInitCheck()},saveObjectVal:function(u,c){T(c)||(c=JSON.stringify(c)),O.para.encrypt_cookie==1&&(c=O.kit.userEncrypt(c)),pt.set(u,c)},readObjectVal:function(u){var c=pt.get(u);return c?(c=O.kit.userDecryptIfNeeded(c),s(c)):null}},zt={string:function(u){Xe(u+" must be string")},emptyString:function(u){Xe(u+"'s is empty")},regexTest:function(u){Xe(u+" is invalid")},idLength:function(u){Xe(u+" length is longer than "+Ne.max_id_length)},keyLength:function(u){Xe(u+" length is longer than "+Ne.max_key_length)},stringLength:function(u){Xe(u+" length is longer than "+Ne.max_string_length)},voidZero:function(u){Xe(u+"'s is undefined")},reservedLoginId:function(u){Xe(u+" is invalid")},reservedBind:function(u){Xe(u+" is invalid")},reservedUnbind:function(u){Xe(u+" is invalid")}},x0={regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_tag.*|^user_group.*)[a-zA-Z_$][a-zA-Z\d_$]*)$/i,loginIDReservedNames:["$identity_anonymous_id","$identity_cookie_id"],bindReservedNames:["$identity_login_id","$identity_anonymous_id","$identity_cookie_id"],unbindReservedNames:["$identity_anonymous_id",Du.LOGIN],string:function(u){return!!T(u)},emptyString:function(u){return!(!T(u)||A(u).length===0)},regexTest:function(u){return!(!T(u)||!this.regName.test(u))},idLength:function(u){return!(!T(u)||u.length>Ne.max_id_length)},keyLength:function(u){return!(!T(u)||u.length>Ne.max_key_length)},stringLength:function(u){return!(!T(u)||u.length>Ne.max_string_length)},voidZero:function(u){return u!==void 0},reservedLoginId:function(u){return!(ce(this.loginIDReservedNames,u)>-1)},reservedUnbind:function(u){return!(ce(this.unbindReservedNames,u)>-1)},reservedBind:function(u){var c=le._state.history_login_id;return(!c||!c.name||c.name!==u)&&!(ce(this.bindReservedNames,u)>-1)}},gw={distinct_id:{rules:["string","emptyString","idLength"],onComplete:function(u,c,p){return!u&&(p==="emptyString"&&(c="Id"),n(zt[p])&&zt[p](c),p==="idLength")||u}},event:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,c,p){return u||(p==="emptyString"&&(c="eventName"),n(zt[p])&&zt[p](c)),!0}},propertyKey:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,c,p){return u||(p==="emptyString"&&(c="Property key"),n(zt[p])&&zt[p](c)),!0}},propertyValue:{rules:["voidZero"],onComplete:function(u,c,p){return u||(c="Property Value",n(zt[p])&&zt[p](c)),!0}},properties:function(u){return t(u)?V(u,function(c,p){yt({propertyKey:p});var _=function(b,w,L){return b||(w=p+"'s Value",n(zt[L])&&zt[L](w)),!0};yt({propertyValue:c},_)}):x0.voidZero(u)&&Xe("properties\u53EF\u4EE5\u6CA1\u6709\uFF0C\u4F46\u6709\u7684\u8BDD\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},propertiesMust:function(u){return u!==void 0&&t(u)&&!Oe(u)?this.properties.call(this,u):Xe("properties\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},item_type:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,c,p){return u||(p==="emptyString"&&(c="item_type"),n(zt[p])&&zt[p](c)),!0}},item_id:{rules:["string","emptyString","stringLength"],onComplete:function(u,c,p){return u||(p==="emptyString"&&(c="item_id"),n(zt[p])&&zt[p](c)),!0}},loginIdKey:{rules:["string","emptyString","keyLength","regexTest","reservedLoginId"],onComplete:function(u,c,p){return!u&&(p==="emptyString"&&(c="login_id_key"),n(zt[p])&&zt[p](c),p==="keyLength")||u}},bindKey:{rules:["string","emptyString","keyLength","regexTest","reservedBind"],onComplete:function(u,c,p){return!u&&(p==="emptyString"&&(c="Key"),n(zt[p])&&zt[p](c),p==="keyLength")||u}},unbindKey:{rules:["string","emptyString","keyLength","regexTest","reservedUnbind"],onComplete:function(u,c,p){return!u&&(p==="emptyString"&&(c="Key"),n(zt[p])&&zt[p](c),p==="keyLength")||u}},bindValue:{rules:["string","emptyString","idLength"],onComplete:function(u,c,p){return!u&&(p==="emptyString"&&(c="Value"),n(zt[p])&&zt[p](c),p==="idLength")||u}},check:function(u,c,p){var _=this[u];if(n(_))return _.call(this,c);if(!_)return!1;for(var b=0;b<_.rules.length;b++){var w=_.rules[b],L=x0[w](c),z=n(p)?p(L,c,w):_.onComplete(L,c,w);if(!L)return z}return!0}},Ct={};Ct.initUrl=function(){var u,c={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!Be(O.para.server_url))return ut("----vcollect---server_url\u5FC5\u987B\u4E3A\u6709\u6548 URL \u5B57\u7B26\u4E32"),!1;try{u=D(O.para.server_url),c.server_url.project=u.searchParams.get("project")||"default",c.server_url.host=u.host}catch(_){return ut("----vcollect---server_url\u89E3\u6790\u5F02\u5E38",_),!1}var p;try{p=D(location.href),c.page_url.host=p.hostname,c.page_url.pathname=p.pathname}catch(_){return ut("----vcollect---\u9875\u9762\u5730\u5740\u89E3\u6790\u5F02\u5E38",_),!1}return c},Ct.isDiv=function(u){if(u.element_path){var c=u.element_path.split(">"),p=A(c.pop());if(p.slice(0,3)!=="div")return!1}return!0},Ct.configIsMatchNew=function(u,c){if(T(u.$element_selector)&&T(c.element_selector)){if(c.element_field==="element_selector"&&c.function==="equal")return u.$element_selector===c.element_selector;if(c.element_field==="element_selector"&&c.function==="contain")return u.$element_selector.indexOf(c.element_selector)>-1}if(T(u.$element_path)&&T(c.element_path)){if(c.element_field==="element_path"&&c.function==="equal")return u.$element_path===c.element_path;if(c.element_field==="element_path"&&c.function==="contain")return u.$element_path.indexOf(c.element_path)>-1}return!1},Ct.configIsMatch=function(u,c){return(!c.limit_element_content||c.element_content===u.$element_content)&&(!c.limit_element_position||c.element_position===String(u.$element_position))&&(c.element_field&&c.function?Ct.configIsMatchNew(u,c):Ct.configIsMatchOldVersion(u,c))},Ct.configIsMatchOldVersion=function(u,c){if(!c.element_path)return!1;if(u.$element_position!==void 0){if(c.element_path!==u.$element_path)return!1}else if(Ct.isDiv({element_path:c.element_path})){if(u.$element_path.indexOf(c.element_path)<0)return!1}else if(c.element_path!==u.$element_path)return!1;return!0},Ct.filterConfig=function(u,c,p){var _=[];if(!p){var b=Ct.initUrl();if(!b)return[];p=b.page_url}return u.event==="$WebClick"&&V(c,function(w){t(w)&&(w.event_type==="webclick"||w.event_type==="appclick")&&t(w.event)&&w.event.url_host===p.host&&w.event.url_path===p.pathname&&Ct.configIsMatch(u.properties,w.event)&&_.push(w)}),_},Ct.getPropElInLi=function(u,c){if(!(u&&R(u)&&T(c))||u.tagName.toLowerCase()!=="li")return null;var p,_=O.heatmap.getDomSelector(u);if(_){p=_+c;var b=Ut(p);return b||null}return Xe("----custom---\u83B7\u53D6\u540C\u7EA7\u5C5E\u6027\u5143\u7D20\u5931\u8D25\uFF0Cselector\u4FE1\u606F\u5F02\u5E38",_,c),null},Ct.getProp=function(u,c){if(!t(u))return!1;if(!(T(u.name)&&u.name.length>0))return Xe("----vcustom----\u5C5E\u6027\u540D\u4E0D\u5408\u6CD5,\u5C5E\u6027\u629B\u5F03",u.name),!1;var p,_,b={};if(u.method==="content"){var w;if(T(u.element_selector)&&u.element_selector.length>0)w=Ut(u.element_selector);else{if(!c||!T(u.list_selector))return Xe("----vcustom----\u5C5E\u6027\u914D\u7F6E\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var L=Ut(c.properties.$element_selector);if(!L)return Xe("----vcustom----\u70B9\u51FB\u5143\u7D20\u83B7\u53D6\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var z=O.heatmap.getClosestLi(L);w=Ct.getPropElInLi(z,u.list_selector)}if(!w||!R(w))return Xe("----vcustom----\u5C5E\u6027\u5143\u7D20\u83B7\u53D6\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;if(w.tagName.toLowerCase()==="input")p=w.value||"";else if(w.tagName.toLowerCase()==="select"){var ae=w.selectedIndex;ot(ae)&&R(w[ae])&&(p=Ka(w[ae],"select"))}else p=Ka(w,w.tagName.toLowerCase());if(u.regular){try{_=new RegExp(u.regular).exec(p)}catch{return Xe("----vcustom----\u6B63\u5219\u5904\u7406\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1}if(_===null)return Xe("----vcustom----\u5C5E\u6027\u89C4\u5219\u5904\u7406\uFF0C\u672A\u5339\u914D\u5230\u7ED3\u679C,\u5C5E\u6027\u629B\u5F03",u.name),!1;if(!$(_)||!T(_[0]))return Xe("----vcustom----\u6B63\u5219\u5904\u7406\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,_),!1;p=_[0]}if(u.type==="STRING")b[u.name]=p;else if(u.type==="NUMBER"){if(p.length<1)return Xe("----vcustom----\u672A\u83B7\u53D6\u5230\u6570\u5B57\u5185\u5BB9\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,p),!1;if(isNaN(Number(p)))return Xe("----vcustom----\u6570\u5B57\u7C7B\u578B\u5C5E\u6027\u8F6C\u6362\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,p),!1;b[u.name]=Number(p)}return b}return ut("----vcustom----\u5C5E\u6027\u4E0D\u652F\u6301\u6B64\u83B7\u53D6\u65B9\u5F0F",u.name,u.method),!1},Ct.getAssignConfigs=function(u,c){var p=Ct.initUrl();if(!p||!p.page_url)return[];if(!t(c))return[];var _=[];return c.events=c.events||c.eventList,$(c.events)&&c.events.length>0?(V(c.events,function(b){t(b)&&t(b.event)&&b.event.url_host===p.page_url.host&&b.event.url_path===p.page_url.pathname&&u(b)&&_.push(b)}),_):[]};var mw={events:[],getAssignConfigs:Ct.getAssignConfigs,filterConfig:Ct.filterConfig,getProp:Ct.getProp,initUrl:Ct.initUrl,updateEvents:function(u){$(u)&&(this.events=u)},init:function(){this.initAppGetPropsBridge()},geth5Props:function(u){var c={},p=[],_=this;if(!this.events.length)return{};if(u.event==="$WebClick"){var b=this.filterConfig(u,this.events);if(!b.length)return{};V(b,function(w){t(w)&&($(w.properties)&&w.properties.length>0&&V(w.properties,function(L){if(t(L))if(L.h5===!1)$(c.sensorsdata_app_visual_properties)||(c.sensorsdata_app_visual_properties=[]),c.sensorsdata_app_visual_properties.push(L);else{var z=_.getProp(L,u);t(z)&&(c=X(c,z))}}),T(w.event_name)&&p.push(w.event_name))}),O.bridge.hasVisualModeBridge()&&(c.sensorsdata_web_visual_eventName=p)}return c.sensorsdata_app_visual_properties&&(c.sensorsdata_app_visual_properties=ue(JSON.stringify(c.sensorsdata_app_visual_properties))),c},initAppGetPropsBridge:function(){var u=this,c=new O.SDKJSBridge("getJSVisualProperties");return c.onAppNotify(function(p){var _={};try{p=JSON.parse(Z(p))}catch{ut("getJSVisualProperties data parse error!")}if(t(p)){var b=p.sensorsdata_js_visual_properties,w=u.initUrl();w&&(w=w.page_url,$(b)&&b.length>0&&V(b,function(z){if(t(z)&&z.url_host===w.host&&z.url_path===w.pathname&&z.h5){var ae=u.getProp(z);t(ae)&&(_=X(_,ae))}}))}var L=O.bridge.bridge_info.platform;return L==="android"&&c.notifyApp({data:_},p.message_id),_}),c}},pp={events:[],customProp:mw,getAssignConfigs:Ct.getAssignConfigs,initUrl:Ct.initUrl,init:function(){if(this.initUrl()){var u=this.getConfigFromApp();u&&this.updateConfigs(u),this.customProp.init(),this.initAppUpdateConfigBridge()}},initAppUpdateConfigBridge:function(){var u=this;return new O.SDKJSBridge("updateH5VisualConfig").onAppNotify(function(c){if(c){try{c=JSON.parse(Z(c))}catch{return void ut("updateH5VisualConfig result parse error\uFF01")}u.updateConfigs(c)}})},getConfigFromApp:function(){var u=new O.SDKJSBridge("sensorsdata_get_app_visual_config").notifyApp();if(u)try{u=JSON.parse(Z(u))}catch{u=null,ut("getAppVisualConfig result parse error\uFF01")}return u},updateConfigs:function(u){this.events=this.filterConfigs(u),this.customProp.updateEvents(this.events)},filterConfigs:function(u){return this.getAssignConfigs(function(c){return!(!t(c)||c.h5===!1)},u)}},Wc={events:[],init:function(u){this.filterWebClickEvents(u)},filterWebClickEvents:function(u){this.events=ma.getAssignConfigs(function(c){return!(!t(c)||c.event.unlimited_div!==!0||c.event_type!=="webclick")},u)},isTargetEle:function(u){var c=O.heatmap.getEleDetail(u);if(!t(c)||!T(c.$element_path))return!1;for(var p=0;p<this.events.length;p++)if(t(this.events[p])&&t(this.events[p].event)&&ma.configIsMatch(c,this.events[p].event))return!0;return!1}},E0={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config},updateEvents:function(u){this.events=ma.getAssignConfigs(function(c){return!!(t(c)&&$(c.properties)&&c.properties.length>0)},u),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(u){var c={};return this.collectAble()?(u.event==="$WebClick"&&(c=this.clickCustomPropMaker(u,this.events)),c):{}},clickCustomPropMaker:function(u,c,p){var _=this;p=p||this.filterConfig(u,c,ma.url_info.page_url);var b={};return p.length?(V(p,function(w){$(w.properties)&&w.properties.length>0&&V(w.properties,function(L){var z=_.getProp(L,u);t(z)&&X(b,z)})}),b):{}},getProp:Ct.getProp,getPropElInLi:Ct.getPropElInLi,filterConfig:Ct.filterConfig},ma={unlimitedDiv:Wc,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:E0,initUrl:function(){var u=Ct.initUrl();if(u){var c;try{c=new P(O.para.server_url),c._values.Path="/config/visualized/Web.conf",u.api_url=c.getUrl()}catch(p){return ut("----vtrackcollect---API\u5730\u5740\u89E3\u6790\u5F02\u5E38",p),!1}this.url_info=u}return u},init:function(){if(!t(O.para.heatmap)||!O.para.heatmap.get_vtrack_config)return!1;if(pt.isSupport()||(this.storageEnable=!1),!this.initUrl())return ut("----vtrackcustom----\u521D\u59CB\u5316\u5931\u8D25\uFF0Curl\u4FE1\u606F\u89E3\u6790\u5931\u8D25"),!1;if(this.storageEnable){var u=le.readObjectVal(this.storage_name);if(t(u)&&t(u.data))if(this.serverUrlIsSame(u.serverUrl)){this.config=u.data,this.update_time=u.updateTime,this.updateConfig(u.data);var c=new Date().getTime(),p=c-this.update_time;if(ot(p)&&p>0&&p<this.para.session_time){var _=this.para.update_interval-p;this.setNextFetch(_)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(u){return!!t(u)&&u.host===this.url_info.server_url.host&&u.project===this.url_info.server_url.project},getConfigFromServer:function(){var u=this,c=function(_,b){u.update_time=new Date().getTime();var w={};_===200?b&&t(b)&&b.os==="Web"&&(w=b,u.updateConfig(w)):_===205?u.updateConfig(w):_===304?w=u.config:(ut("----vtrackcustom----\u6570\u636E\u5F02\u5E38",_),u.updateConfig(w)),u.updateStorage(w),u.setNextFetch()},p=function(_){u.update_time=new Date().getTime(),ut("----vtrackcustom----\u914D\u7F6E\u62C9\u53D6\u5931\u8D25",_),u.setNextFetch()};this.sendRequest(c,p)},setNextFetch:function(u){var c=this;this.timer&&(clearTimeout(this.timer),this.timer=null),u=u||this.para.update_interval,this.timer=setTimeout(function(){c.getConfigFromServer()},u)},pageStateListenner:function(){var u=this;On({visible:function(){var c=new Date().getTime(),p=c-u.update_time;if(ot(p)&&p>0&&p<u.para.update_interval){var _=u.para.update_interval-p;u.setNextFetch(_)}else u.getConfigFromServer()},hidden:function(){u.timer&&(clearTimeout(u.timer),u.timer=null)}})},updateConfig:function(u){return!!t(u)&&(this.config=u,this.customProp.updateEvents(u),void this.unlimitedDiv.init(u))},updateStorage:function(u){if(!this.storageEnable||!t(u))return!1;var c;if(this.url_info.server_url)c=this.url_info.server_url;else{var p=ma.initUrl();if(!p)return!1;c=p.server_url}var _={updateTime:new Date().getTime(),data:u,serverUrl:c};le.saveObjectVal(this.storage_name,_)},sendRequest:function(u,c){var p=this,_={app_id:this.url_info.page_url.host};this.config.version&&(_.v=this.config.version),Ar({url:p.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:_,timeout:p.para.timeout,success:function(b,w){u(b,w)},error:function(b){c(b)}})},getAssignConfigs:Ct.getAssignConfigs,configIsMatch:Ct.configIsMatch},vw={basicProps:{priority:0,entry:Ln},formatData:{priority:0,entry:lc},finalAdjustData:{priority:0,entry:fu}},gp={stage:null,init:function(u){this.stage=u},interceptor:vw},Pr={};Pr.check=yt,Pr.sendItem=function(u){var c={lib:{$lib:"js",$lib_method:"code",$lib_version:String(O.lib_version)},time:1*new Date};X(c,u),zs(c),O.kit.sendData(c)},Pr.send=function(u,c){var p=O.kit.buildData(u);O.kit.sendData(p,c)};var mp={stage:null,init:function(u){this.stage=u}},vp={label:!1,li:!1,a:!0,button:!0},Tn={otherTags:[],initUnlimitedTags:function(){V(Tn.otherTags,function(u){u in vp&&(vp[u]=!0)})},isUnlimitedTag:function(u){if(!u||u.nodeType!==1)return!1;var c=u.nodeName.toLowerCase();return vp[c]||de(u,O.para.heatmap.track_attr)},getTargetElement:function(u,c){var p=this,_=u;if(typeof _!="object"||typeof _.tagName!="string")return null;var b=_.tagName.toLowerCase();if(b.toLowerCase()==="body"||b.toLowerCase()==="html"||!_||!_.parentNode||!_.parentNode.children)return null;var w=_.parentNode,L=p.otherTags;if(b==="a"||b==="button"||b==="input"||b==="textarea"||ce(L,b)>-1)return _;if(b==="area"&&w.tagName.toLowerCase()==="map"&&U(w).prev().tagName&&U(w).prev().tagName.toLowerCase()==="img")return U(w).prev();if(b==="div"&&O.para.heatmap.collect_tags.div&&p.isDivLevelValid(_)){var z=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1;if(z>1||p.isCollectableDiv(_))return _}if(p.isStyleTag(b)&&O.para.heatmap.collect_tags.div){var ae=p.getCollectableParent(_);if(ae&&p.isDivLevelValid(ae))return ae}var pe=p.hasElement({event:c&&c.originalEvent||c,element:u},function(Ae){return p.isUnlimitedTag(Ae)});return pe||null},getDivLevels:function(u,c){var p=Tn.getElementPath(u,!0,c),_=p.split(" > "),b=0;return V(_,function(w){w==="div"&&b++}),b},isDivLevelValid:function(u){for(var c=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1,p=u.getElementsByTagName("div"),_=p.length-1;_>=0;_--)if(Tn.getDivLevels(p[_],u)>c)return!1;return!0},getElementPath:function(u,c,p){for(var _=[];u.parentNode&&R(u);){if(!T(u.tagName))return"unknown";if(u.id&&!c&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.id)){_.unshift(u.tagName.toLowerCase()+"#"+u.id);break}if(p&&u===p){_.unshift(u.tagName.toLowerCase());break}if(u===document.body){_.unshift("body");break}_.unshift(u.tagName.toLowerCase()),u=u.parentNode}return _.join(" > ")},getClosestLi:function(u){var c=function(p,_){for(;p&&p!==document&&p.nodeType===1;p=p.parentNode)if(p.tagName&&T(p.tagName)&&p.tagName.toLowerCase()===_)return p;return null};return c(u,"li")},getElementPosition:function(u,c,p){function _(tt){var at=tt.parentNode;if(!at)return"";var $t=U(tt).getSameTypeSiblings(),br=$t.length;if(br===1)return 0;for(var nr=0,Di=tt;U(Di).previousElementSibling().ele;Di=U(Di).previousElementSibling().ele,nr++);return nr}var b=O.heatmap.getClosestLi(u);if(!b||!R(u)||!T(u.tagName))return null;var w=u.tagName.toLowerCase(),L=b.getElementsByTagName(w),z=L.length,ae=[];if(z>1){for(var pe=0;pe<z;pe++){var Ae=O.heatmap.getElementPath(L[pe],p);Ae===c&&ae.push(L[pe])}if(ae.length>1)return ce(ae,u)}return _(b)},setNotice:function(u){O.is_heatmap_render_mode=!0,O.para.heatmap||(O.errorMsg="\u60A8SDK\u6CA1\u6709\u914D\u7F6E\u5F00\u542F\u70B9\u51FB\u56FE\uFF0C\u53EF\u80FD\u6CA1\u6709\u6570\u636E\uFF01"),u&&u.slice(0,5)==="http:"&&location.protocol==="https:"&&(O.errorMsg="\u60A8\u7684\u5F53\u524D\u9875\u9762\u662Fhttps\u7684\u5730\u5740\uFF0C\u795E\u7B56\u5206\u6790\u73AF\u5883\u4E5F\u5FC5\u987B\u662Fhttps\uFF01"),O.para.heatmap_url||(O.para.heatmap_url=pu()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/heatmap.min.js")},getDomIndex:function(u){if(!u.parentNode)return-1;for(var c=0,p=u.tagName,_=u.parentNode.children,b=0;b<_.length;b++)if(_[b].tagName===p){if(u===_[b])return c;c++}return-1},selector:function(u,c){if(!u||!R(u)||!T(u.tagName))return"";var p=u.parentNode&&u.parentNode.nodeType==9?-1:this.getDomIndex(u);return u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&(!O.para.heatmap||O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id")&&!c?"#"+u.getAttribute("id"):u.tagName.toLowerCase()+(~p?":nth-of-type("+(p+1)+")":"")},getDomSelector:function(u,c,p){if(!(u&&u.parentNode&&u.parentNode.children&&T(u.tagName)))return"unknown";c=c&&c.join?c:[];var _=u.nodeName.toLowerCase();return u&&_!=="body"&&u.nodeType==1?(c.unshift(this.selector(u,p)),u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id"&&!p?c.join(" > "):this.getDomSelector(u.parentNode,c,p)):(c.unshift("body"),c.join(" > "))},na:function(){var u=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(u)?0:u,10)},i:function(){var u=0;try{u=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,u=isNaN(u)?0:u}catch{u=0}return parseInt(u,10)},getBrowserWidth:function(){var u=window.innerWidth||document.body.clientWidth;return isNaN(u)?0:parseInt(u,10)},getBrowserHeight:function(){var u=window.innerHeight||document.body.clientHeight;return isNaN(u)?0:parseInt(u,10)},getScrollWidth:function(){var u=parseInt(document.body.scrollWidth,10);return isNaN(u)?0:u},getEleDetail:function(u){var c=this.getDomSelector(u),p=ou({target:u});p.$element_selector=c||"",p.$element_path=O.heatmap.getElementPath(u,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");var _=O.heatmap.getElementPosition(u,p.$element_path,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");return ot(_)&&(p.$element_position=_),p},getPointerEventProp:function(u,c){function p(){var L=document.body.scrollLeft||document.documentElement.scrollLeft||0,z=document.body.scrollTop||document.documentElement.scrollTop||0;return{scrollLeft:L,scrollTop:z}}function _(L){if(document.documentElement.getBoundingClientRect){var z=L.getBoundingClientRect();return{targetEleX:z.left+p().scrollLeft||0,targetEleY:z.top+p().scrollTop||0}}}function b(L){return Number(Number(L).toFixed(3))}function w(L){var z=L.pageX||L.clientX+p().scrollLeft||L.offsetX+_(c).targetEleX||0,ae=L.pageY||L.clientY+p().scrollTop||L.offsetY+_(c).targetEleY||0;return{$page_x:b(z),$page_y:b(ae)}}return u?w(u):{}},start:function(u,c,p,_,b){if(t(O.para.heatmap)&&n(O.para.heatmap.collect_element)&&!O.para.heatmap.collect_element(c))return!1;var w=Tn.getBasicEleInfo(u,c,p,_,b);cc(w)},getBasicEleInfo:function(u,c,p,_,b){var w=t(_)?_:{},L=n(b)?b:n(_)?_:void 0,z=this.getEleDetail(c);if(O.para.heatmap&&O.para.heatmap.custom_property){var ae=O.para.heatmap.custom_property(c);t(ae)&&(z=X(z,ae))}return z=X(z,this.getPointerEventProp(u,c),w),{event:u,target:c,props:z,tagName:p,callback:L}},hasElement:function(u,c){var p;if(u.event){var _=u.event;p=_.path||_._getPath&&_._getPath()}else u.element&&(p=U(u.element).getParents());if(p&&$(p)&&p.length>0){for(var b=0;b<p.length;b++)if(typeof p[b]=="object"&&p[b].nodeType===1&&c(p[b]))return p[b]}},isStyleTag:function(u,c){var p=["a","div","input","button","textarea"],_=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];return!(ce(p,u)>-1)&&(!c||O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div?!!(t(O.para.heatmap)&&t(O.para.heatmap.collect_tags)&&t(O.para.heatmap.collect_tags.div)&&$(O.para.heatmap.collect_tags.div.ignore_tags)&&ce(O.para.heatmap.collect_tags.div.ignore_tags,u)>-1):ce(_,u)>-1)},isCollectableDiv:function(u,c){try{if(u.children.length===0)return!0;for(var p=0;p<u.children.length;p++)if(u.children[p].nodeType===1){var _=T(u.children[p].tagName)?u.children[p].tagName.toLowerCase():"unknown",b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(!(_==="div"&&b>1||this.isStyleTag(_,c))||!this.isCollectableDiv(u.children[p],c))return!1}return!0}catch(w){ut("isCollectableDiv:"+w)}return!1},getCollectableParent:function(u,c){try{var p=u.parentNode,_=p?p.tagName.toLowerCase():"";if(_==="body")return!1;var b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(_&&_==="div"&&(b>1||this.isCollectableDiv(p,c)))return p;if(p&&this.isStyleTag(_,c))return this.getCollectableParent(p,c)}catch(w){ut("getCollectableParent:"+w)}return!1},listenUrlChange:function(u){u(),O.ee.spa.on("switch",function(){u()})},initScrollmap:function(){if(!t(O.para.heatmap)||O.para.heatmap.scroll_notice_map!=="default")return!1;var u=!0;O.para.scrollmap&&n(O.para.scrollmap.collect_url)&&this.listenUrlChange(function(){u=!!O.para.scrollmap.collect_url()});var c=function(_){var b={};return b.timeout=_.timeout||1e3,b.func=_.func,b.hasInit=!1,b.inter=null,b.main=function(w,L){this.func(w,L),this.inter=null},b.go=function(w){var L={};this.inter||(L.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L.$viewport_position=Math.round(L.$viewport_position)||0,w?b.main(L,!0):this.inter=setTimeout(function(){b.main(L)},this.timeout))},b},p=c({timeout:1e3,func:function(_,b){var w=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L=new Date,z=L-this.current_time;(z>O.para.heatmap.scroll_delay_time&&w-_.$viewport_position!==0||b)&&(_.$url=W(),_.$title=document.title,_.$url_path=re(),_.event_duration=Math.min(O.para.heatmap.scroll_event_duration,parseInt(z)/1e3),_.event_duration=_.event_duration<0?0:_.event_duration,_h(_)),this.current_time=L}});p.current_time=new Date,Si(window,"scroll",function(){return!!u&&void p.go()}),Si(window,"beforeunload",function(){return!!u&&void p.go("notime")})},initHeatmap:function(){var u=this,c=!0;return!(!t(O.para.heatmap)||O.para.heatmap.clickmap!=="default")&&(n(O.para.heatmap.collect_url)&&this.listenUrlChange(function(){c=!!O.para.heatmap.collect_url()}),O.para.heatmap.collect_elements==="all"?O.para.heatmap.collect_elements="all":O.para.heatmap.collect_elements="interact",void(O.para.heatmap.collect_elements==="all"?Si(document,"click",function(p){if(!c)return!1;var _=p||window.event;if(!_)return!1;var b=_.target||_.srcElement;if(typeof b!="object"||typeof b.tagName!="string")return!1;var w=b.tagName.toLowerCase();if(w==="body"||w==="html"||!b||!b.parentNode||!b.parentNode.children)return!1;var L=T(b.parentNode.tagName)?b.parentNode.tagName.toLowerCase():"unknown";L==="a"||L==="button"?u.start(_,b.parentNode,L):u.start(_,b,w)}):Si(document,"click",function(p){if(!c)return!1;var _=p||window.event;if(!_)return!1;var b=_.target||_.srcElement,w=O.heatmap.getTargetElement(b,p);return!(!R(w)&&!T(b.tagName))&&void(R(w)&&T(w.tagName)?u.start(_,w,w.tagName.toLowerCase()):R(b)&&b.tagName.toLowerCase()==="div"&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config&&Wc.events.length>0&&Wc.isTargetEle(b)&&u.start(_,b,b.tagName.toLowerCase(),{$lib_method:"vtrack"}))})))}},Gc={autoTrackIsUsed:!1,isReady:function(u){return n(u)?void u():void O.log("error: isReady callback must be function")},getUtm:function(){return xt.campaignParams()},getStayTime:function(){return(new Date-O._t)/1e3},setProfileLocal:function(u){if(!pt.isSupport())return O.setProfile(u),!1;if(!t(u)||Oe(u))return!1;var c=le.readObjectVal("sensorsdata_2015_jssdk_profile"),p=!1;if(t(c)&&!Oe(c)){for(var _ in u)!(_ in c&&c[_]!==u[_])&&_ in c||(c[_]=u[_],p=!0);p&&(le.saveObjectVal("sensorsdata_2015_jssdk_profile",c),O.setProfile(u))}else le.saveObjectVal("sensorsdata_2015_jssdk_profile",u),O.setProfile(u)},setInitReferrer:function(){var u=ht();O.setOnceProfile({_init_referrer:u,_init_referrer_host:xt.pageProp.referrer_host})},setSessionReferrer:function(){var u=ht();le.setSessionPropsOnce({_session_referrer:u,_session_referrer_host:xt.pageProp.referrer_host})},setDefaultAttr:function(){xt.register({_current_url:location.href,_referrer:ht(),_referring_host:xt.pageProp.referrer_host})},trackHeatMap:function(u,c,p){if(typeof u=="object"&&u.tagName&&R(u.parentNode)){var _=u.tagName.toLowerCase(),b=u.parentNode.tagName.toLowerCase(),w=O.para.heatmap&&O.para.heatmap.track_attr?O.para.heatmap.track_attr:["data-sensors-click"];_==="button"||_==="a"||b==="a"||b==="button"||_==="input"||_==="textarea"||de(u,w)||Tn.start(null,u,_,c,p)}},trackAllHeatMap:function(u,c,p){if(typeof u=="object"&&u.tagName){var _=u.tagName.toLowerCase();Tn.start(null,u,_,c,p)}},autoTrackSinglePage:function(u,c){function p(w,L){O.track("$pageview",X({$referrer:_,$url:W(),$url_path:re(),$title:document.title},w,ca()),L),_=W()}var _;_=this.autoTrackIsUsed?xt.pageProp.url:xt.pageProp.referrer,u=t(u)?u:{};var b=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile,p(u,c),this.autoTrackSinglePage=p,da(O.setOnceProfile,!1,b)},autoTrackWithoutProfile:function(u,c){u=t(u)?u:{},this.autoTrack(X(u,{not_set_profile:!0}),c)},autoTrack:function(u,c){u=t(u)?u:{};var p=ca(),_=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile;var b=location.href;O.para.is_single_page&&te(function(){var w=ht(b,!0);O.track("$pageview",X({$referrer:w,$url:W(),$url_path:re(),$title:document.title},p,u),c),b=W()}),O.track("$pageview",X({$referrer:ht(null,!0),$url:W(),$url_path:re(),$title:document.title},p,u),c),da(O.setOnceProfile,!0,_),this.autoTrackIsUsed=!0},getAnonymousID:function(){return Oe(le._state)?"SDK is not initialized.":le.getAnonymousId()},setPlugin:function(u){return!!t(u)&&void V(u,function(c,p){n(c)&&(t(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[p]||t(O.modules)&&O.modules[p]?c(window.SensorsDataWebJSSDKPlugin[p]):Xe(p+"is not found,please check sensorsdata documents."))})},useModulePlugin:function(){O.use.apply(O,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}},_w={state:0,historyState:[],stateType:{1:"1-init\u672A\u5F00\u59CB",2:"2-init\u5F00\u59CB",3:"3-store\u5B8C\u6210"},getState:function(){return this.historyState.join(`
`)},setState:function(u){String(u)in this.stateType&&(this.state=u),this.historyState.push(this.stateType[u])}},yw=1,bw={__proto__:null,setInitVar:fc,initPara:bh,quick:Th,use:mu,track:Sh,bind:xh,unbind:Eh,trackLink:wh,trackLinks:Ch,setItem:Ah,deleteItem:Ks,setProfile:Xs,setOnceProfile:kh,appendProfile:Dh,incrementProfile:vu,deleteProfile:Ph,unsetProfile:_u,identify:Ih,resetAnonymousIdentity:Oh,trackSignup:Ya,registerPage:fa,clearAllRegister:Js,clearPageRegister:xi,register:hc,registerOnce:pc,registerSession:gc,registerSessionOnce:bu,login:mc,loginWithKey:Lh,logout:Rh,getPresetProperties:Ys,readyState:_w,debug:ga,on:Ja,log:_n};cr.setup(_n);var w0=X({},hw,pw),Tw={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:"",support_two_way_call:!1},is_verify_success:!1,initPara:function(){var u={is_send:O.para.use_app_track_is_send!==!1&&O.para.use_app_track!=="only",white_list:[],is_mui:O.para.use_app_track==="mui"};typeof O.para.app_js_bridge=="object"?O.para.app_js_bridge=X({},u,O.para.app_js_bridge):O.para.use_app_track!==!0&&O.para.app_js_bridge!==!0&&O.para.use_app_track!=="only"&&O.para.use_app_track!=="mui"||(O.para.app_js_bridge=X({},u)),O.para.app_js_bridge.is_send===!1&&Xe("\u8BBE\u7F6E\u4E86 is_send:false,\u5982\u679C\u6253\u901A\u5931\u8D25\uFF0C\u6570\u636E\u5C06\u88AB\u4E22\u5F03!")},app_js_bridge_v1:function(){function u(w){_=w,it(_)&&(_=JSON.parse(_)),b&&(b(_),b=null,_=null)}function c(){typeof window.SensorsData_APP_JS_Bridge=="object"&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(_=window.SensorsData_APP_JS_Bridge.sensorsdata_call_app(),it(_)&&(_=JSON.parse(_)))}function p(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var w=document.createElement("iframe");w.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(w),w.parentNode.removeChild(w),w=null}}var _=null,b=null;window.sensorsdata_app_js_bridge_call_js=function(w){u(w)},O.getAppStatus=function(w){return p(),c(),w?void(_===null?b=w:(w(_),_=null)):_}},hasVisualModeBridge:function(){var u=window.SensorsData_App_Visual_Bridge,c="sensorsdata_visualized_mode";return t(u)&&u[c]&&(u[c]===!0||u[c]())},validateAppUrl:Fh};un.prototype.call=function(u,c){var p=this,_=new Date().getTime().toString(16)+String(a()).replace(".","").slice(1,8);this.resultCbs[_]=p.resultCbs[_]||{result:null,callbacks:[]},this.timeoutCbs[_]=p.timeoutCbs[_]||{isTimeout:!1,callbacks:[]},u=u.data?u:{data:u},u.data.message_id=_;var b=X({callType:this.type},u);return c&&(this.timerId=setTimeout(function(){p.timeoutCbs[_].isTimeout=!0;for(var w in p.timeoutCbs[_].callbacks)p.timeoutCbs[_].callbacks[w].call(null),p.timeoutCbs[_].callbacks.splice(w,1)},c)),vc(b),{onResult:function(w){return p.resultCbs[_].result?(w(p.resultCbs[_].result),this):(!p.timeoutCbs[_].isTimeout&&p.resultCbs[_].callbacks.push(w),this)},onTimeout:function(w){return p.timeoutCbs[_].isTimeout?(w(),this):(!p.resultCbs[_].result&&p.timeoutCbs[_].callbacks.push(w),this)}}},un.prototype.onAppNotify=function(u){this.appCallJsCallback=u},un.prototype.notifyApp=function(u,c){var p=X({callType:this.type},u);return c&&(p.message_id=c),vc(p)},wt.prototype={double:function(){},getAppData:function(){},hasAppBridge:function(){return O.bridge.bridge_info.support_two_way_call},init:function(){},jsCallApp:function(){},requestToApp:function(u){this.bridge.call(u,u.timeout.time).onResult(function(c){n(u.callback)&&u.callback(c)}).onTimeout(function(){n(u.timeout.callback)&&u.timeout.callback()})}};var va={isSeachHasKeyword:function(){return Fe(location.href,"sa-request-id")!==""&&(typeof sessionStorage.getItem("sensors-visual-mode")=="string"&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var u=location.href,c=Fe(u,"sa-request-id")||null,p=Fe(u,"sa-request-type")||null,_=Fe(u,"sa-request-url")||null;if(Tn.setNotice(_),to.isSupport())if(_!==null&&sessionStorage.setItem("sensors_heatmap_url",_),sessionStorage.setItem("sensors_heatmap_id",c),p!==null)p==="1"||p==="2"||p==="3"?sessionStorage.setItem("sensors_heatmap_type",p):p=null;else{var b=sessionStorage.getItem("sensors_heatmap_type");p=b!==null?b:null}this.isReady(c,p)},isReady:function(u,c,p){O.para.heatmap_url?_i({success:function(){setTimeout(function(){typeof sa_jssdk_heatmap_render<"u"&&(sa_jssdk_heatmap_render(O,u,c,p),typeof console=="object"&&typeof console.log=="function"&&(O.heatmap_version&&O.heatmap_version===O.lib_version||Xe("heatmap.js\u4E0Esensorsdata.js\u7248\u672C\u53F7\u4E0D\u4E00\u81F4\uFF0C\u53EF\u80FD\u5B58\u5728\u98CE\u9669!")))},0)},error:function(){},type:"js",url:O.para.heatmap_url}):ut("\u6CA1\u6709\u6307\u5B9Aheatmap_url\u7684\u8DEF\u5F84")},isStorageHasKeyword:function(){return to.isSupport()&&typeof sessionStorage.getItem("sensors_heatmap_id")=="string"},storageHasKeywordHandle:function(){Tn.setNotice(),va.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)},isWindowNameHasKeyword:function(){try{var u=JSON.parse(window.name),c=T(u["sa-request-page-url"])?h(u["sa-request-page-url"]):null;return u["sa-request-id"]&&T(u["sa-request-id"])&&c===location.href}catch{return!1}},windowNameHasKeywordHandle:function(){function u(w){var L=c[w];return T(L)?h(L):null}var c=JSON.parse(window.name),p=u("sa-request-id"),_=u("sa-request-type"),b=u("sa-request-url");Tn.setNotice(b),to.isSupport()&&(b!==null&&sessionStorage.setItem("sensors_heatmap_url",b),sessionStorage.setItem("sensors_heatmap_id",p),_!==null?_==="1"||_==="2"||_==="3"?sessionStorage.setItem("sensors_heatmap_type",_):_=null:_=sessionStorage.getItem("sensors_heatmap_type")!==null?sessionStorage.getItem("sensors_heatmap_type"):null),va.isReady(p,_)}},Rn={isStorageHasKeyword:function(){return to.isSupport()&&typeof sessionStorage.getItem("sensors-visual-mode")=="string"},isSearchHasKeyword:function(){return(_c("sa-visual-mode")===!0||_c("sa-visual-mode")==="true")&&(typeof sessionStorage.getItem("sensors_heatmap_id")=="string"&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){_i({success:function(){},error:function(){},type:"js",url:O.para.vtrack_url?O.para.vtrack_url:pu()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vtrack.min.js"})},messageListener:function(u){if(!u||!u.data||u.data.source!=="sa-fe")return!1;if(u.data.type==="v-track-mode"){if(u.data.data&&u.data.data.isVtrack)if(to.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),u.data.data.userURL&&location.href.match(/sa-visual-mode=true/)){var c=u.data.data.userURL;T(c)&&(au(c,"http://")||au(c,"https://"))&&(window.location.href=encodeURI(c))}else Rn.loadVtrack();window.removeEventListener("message",Rn.messageListener,!1)}},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",Rn.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",Rn.messageListener,!1),Rn.postMessage()},postMessage:function(){try{window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:Vc}},"*")}catch{ut("\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u4E0D\u652F\u6301 postMessage API")}},notifyUser:function(){var u=function(c){return!(!c||!c.data||c.data.source!=="sa-fe")&&void(c.data.type==="v-track-mode"&&(c.data.data&&c.data.data.isVtrack&&alert("\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\uFF0C\u8BF7\u5347\u7EA7\u90E8\u7F72\u795E\u7B56\u6570\u636E\u6CBB\u7406"),window.removeEventListener("message",u,!1)))};window.addEventListener&&window.addEventListener("message",u,!1),Rn.postMessage()}},Sw=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","resetAnonymousIdentity","login","logout","trackLink","clearAllRegister","clearPageRegister","bind","unbind","loginWithKey"],xw={track:function(u,c,p){},quick:function(u,c,p,_){},register:function(u){},registerPage:function(u){},registerOnce:function(u){},clearAllRegister:function(u){},trackSignup:function(u,c,p,_){},setProfile:function(u,c){},setOnceProfile:function(u,c){},appendProfile:function(u,c){},incrementProfile:function(u,c){},deleteProfile:function(u){},unsetProfile:function(u,c){},identify:function(u,c){},resetAnonymousIdentity:function(u){},login:function(u,c){},logout:function(u){},trackLink:function(u,c,p){},deleteItem:function(u,c){},setItem:function(u,c,p){},getAppStatus:function(u){},clearPageRegister:function(u){}};ln.prototype.process=function(u,c){if(!(u&&u in this.processDef))return void ut("process ["+u+"] is not supported");var p=this.registeredInterceptors[u];if(p&&$(p)&&p.length>0)for(var _={current:0,total:p.length},b=new wc(c,_,O),w=0;w<p.length;w++)try{if(_.current=w+1,c=p[w].call(null,c,b)||c,b.cancellationToken.getCanceled())break;if(b.cancellationToken.getStopped())return}catch(L){ut("interceptor error:"+L)}return this.processDef[u]&&this.processDef[u]in this.processDef&&(c=this.process(this.processDef[u],c)),c},ln.prototype.registerStageImplementation=function(u){u&&u.init&&n(u.init)&&(u.init(this),u.interceptor&&this.registerInterceptor(u.interceptor))},ln.prototype.registerInterceptor=function(u){if(u)for(var c in u){var p=u[c];if(p&&t(p)&&n(p.entry)){ot(p.priority)||(p.priority=Number.MAX_VALUE),this.registeredInterceptors[c]||(this.registeredInterceptors[c]=[]);var _=this.registeredInterceptors[c];p.entry.priority=p.priority,_.push(p.entry),_.sort(function(b,w){return b.priority-w.priority})}}};var Ew={basicProps:"extendProps",extendProps:"formatData",formatData:"finalAdjustData",finalAdjustData:null},C0=new ln(Ew),ww={send:null},A0=new ln(ww),Cw={getUtmData:null,callSchema:null},k0=new ln(Cw),Aw={webClickEvent:null,webStayEvent:null},D0=new ln(Aw),P0={buildDataStage:function(u){u&&C0.registerInterceptor(u)},businessStage:function(u){u&&k0.registerInterceptor(u)},sendDataStage:function(u){u&&A0.registerInterceptor(u)},viewStage:function(u){u&&D0.registerInterceptor(u)}},_p={stage:null,init:function(u){this.stage=u}},I0={stage:null,init:function(u){this.stage=u},interceptor:{send:{entry:function(u){return u}}}},Ou={};Ou.buildData=function(u){return vh(u)},Ou.sendData=function(u,c){var p=za(u.properties),_={origin_data:u,server_url:O.para.server_url,data:u,config:p||{},callback:c};$h(_),O.log(u)},Ou.encodeTrackData=function(u){return Xa(u)},Ou.getUtmData=function(){return jh()};var kw={webClickEvent:{entry:function(u,c){var p=c.sensors;u.tagName==="a"&&p.para.heatmap&&p.para.heatmap.isTrackLink===!0?p.trackLink({event:u.event,target:u.target},"$WebClick",u.props):p.track("$WebClick",u.props,u.callback)}},webStayEvent:{entry:function(u,c){var p=c.sensors;p.track("$WebStay",u)}}},O0=window.sensors_data_pre_config,L0=!!w0.isObject(O0)&&O0.is_compliance_enabled;O.init=function(u){return Qt.sdk.emit("beforeInit"),!(O.readyState&&O.readyState.state&&O.readyState.state>=2)&&(L0&&(Su(!0),xc()),Qt.initSystemEvent(),O.setInitVar(),O.readyState.setState(2),O.initPara(u),Qt.sdk.emit("initPara"),Qt.sdk.emit("afterInitPara"),Qt.sdk.emit("initAPI"),Qt.sdk.emit("afterInitAPI"),O.detectMode(),Nh(),Qt.sdk.emit("afterInit"),void Qt.sdk.emit("ready"))},L0?Su(!1):(Su(!0),xc());var Nn,zc,Lu,Lt,Ru,ts,Jr,ro,rs,Nu,or,ns,Sn,Yr,Qr,yp,bp,Fu,Dw="1.26.12",Pw={init:function(u){var c=u._.isString,p=u._.rot13defs,_=u._.dfmapping,b="data:enc;",w="dfm-enc-";u.ee.sdk.on("afterInitPara",function(){u.kit.userEncrypt=function(L){return w+_(L)},u.kit.userDecrypt=function(L){return L.indexOf(b)===0?(L=L.substring(b.length),L=p(L)):L.indexOf(w)===0&&(L=L.substring(w.length),L=_(L)),L},u.kit.userDecryptIfNeeded=function(L){return!c(L)||L.indexOf(b)!==0&&L.indexOf(w)!==0||(L=u.kit.userDecrypt(L)),L}})},plugin_name:"UserEncryptDefault"},Iw=Qs(Pw),Ow="1.26.12",Lw={sd:null,init:function(u){if(this.sd||(this.sd=u,!this.sd||!this.sd._))return!1;var c=this.sd._.cookie.get("sensors_amp_id"),p=this.sd.store._state.distinct_id;if(c&&c.length>0){var _=c.slice(0,4)==="amp-";if(c!==p){if(!_)return!1;this.sd.store._state.first_id?(this.sd.identify(c,!0),this.sd.saEvent.send({original_id:c,distinct_id:p,type:"track_signup",event:"$SignUp",properties:{}},null),this.setAmpId(p)):this.sd.identify(c,!0)}}else this.setAmpId(p);this.addListener()},addListener:function(){var u=this;this.sd.events.on("changeDistinctId",function(c){u.setAmpId(c)}),this.sd.events.isReady()},setAmpId:function(u){this.sd._.cookie.set("sensors_amp_id",u)}},Rw=Cc(Lw,"Amp","sdkReady"),Jn=window.SensorsData_App_Visual_Bridge,Kc=Jn&&Jn.sensorsdata_visualized_mode,R0=Jn&&Jn.sensorsdata_visualized_alert_info,N0=Jn&&Jn.sensorsdata_hover_web_nodes,F0={isVerify:function(){return Kc&&(Kc===!0||Kc.call(Jn))},commands:{app_alert:Ac,visualized_track:xu,page_info:xu,sensorsdata_get_app_visual_config:kc}},Nw="1.26.12",M0={init:function(u){Lt=u,Ru=Lt&&Lt._,ts=Lt&&Lt.log||console&&console.log||function(){},Ic()},handleCommand:eo},B0=Pc(M0,"AndroidBridge","sdkAfterInitPara"),Yn=window.SensorsData_App_Visual_Bridge,Xc=Yn&&Yn.sensorsdata_visualized_mode,U0=Yn&&Yn.sensorsdata_visualized_alert_info,j0=Yn&&Yn.sensorsdata_hover_web_nodes,Tp={isVerify:function(){return Xc&&(Xc===!0||Xc.call(Yn))},commands:{app_alert:Kh,visualized_track:Oc,page_info:Oc,sensorsdata_get_app_visual_config:Xh}},Fw="1.26.12",$0={init:function(u){or=u,ns=or&&or._,Sn=or&&or.log||console&&console.log||function(){},Qh()},handleCommand:ha},V0=wu($0,"AndroidObsoleteBridge","sdkAfterInitPara"),Mw="1.26.12",dn={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(u,c){function p(){return Yr=Qr._,yp=Qr.store,!!Yr.localStorage.isSupport()&&(Qr.para.max_string_length=1024,_.eventList.init(),_.addLatestChannelUrl(),void _.addIsChannelCallbackEvent())}if(Qr||!u)return!1;c=c||{},bp=c.cookie_name||"sensorsdata2015jssdkchannel",Qr=u;var _=this;p()},addIsChannelCallbackEvent:function(){Qr.registerPage({$is_channel_callback_event:function(u){if(Yr.isObject(u)&&u.event&&u.event!=="$WebClick"&&u.event!=="$pageview"&&u.event!=="$WebStay"&&u.event!=="$SignUp")return!dn.eventList.hasEvent(u.event)&&(dn.eventList.add(u.event),!0)}})},addLatestChannelUrl:function(){var u=this.getUrlDomain(),c=this.cookie.getChannel();if(u==="url\u89E3\u6790\u5931\u8D25")this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url\u7684domain\u89E3\u6790\u5931\u8D25"});else if(Yr.isReferralTraffic(document.referrer)){var p=Yr.getQueryParam(location.href,"sat_cf");Yr.isString(p)&&p.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),dn.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else c?Qr.registerPage(c):Qr.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"\u53D6\u503C\u5F02\u5E38"})},registerAndSave:function(u){Qr.registerPage(u),this.cookie.saveChannel(u)},cookie:{getChannel:function(){var u=Qr.kit.userDecryptIfNeeded(Yr.cookie.get(bp));return u=Yr.safeJSONParse(u),!(!Yr.isObject(u)||!u.prop)&&u.prop},saveChannel:function(u){var c={prop:u},p=JSON.stringify(c);Qr.para.encrypt_cookie&&(p=Qr.kit.userEncrypt(p)),Yr.cookie.set(bp,p)}},channelLinkHandler:function(){this.eventList.reset(),Qr.track("$ChannelLinkReaching")},getUrlDomain:function(){var u=Yr.info.pageProp.url_domain;return u===""&&(u="url\u89E3\u6790\u5931\u8D25"),u},eventList:{init:function(){var u=this.get(),c=new Date().getTime();if(u&&Yr.isNumber(u.latest_event_initial_time)&&Yr.isArray(u.eventList)){var p=c-u.latest_event_initial_time;p>0&&p<dn.max_save_time?(dn.event_list=u.eventList,dn.latest_event_initial_time=u.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var u={};try{u=yp.readObjectVal("sawebjssdkchannel")}catch(c){Qr.log(c)}return u},add:function(u){dn.event_list.push(u),this.save()},save:function(){var u={latest_event_initial_time:dn.latest_event_initial_time,eventList:dn.event_list};yp.saveObjectVal("sawebjssdkchannel",u)},reset:function(){dn.event_list=[],dn.latest_event_initial_time=new Date().getTime(),this.save()},hasEvent:function(u){var c=!1;return Yr.each(dn.event_list,function(p){p===u&&(c=!0)}),c}}},Bw=_r(dn,"SensorsChannel","sdkAfterInitAPI"),Uw="1.26.12",H0=(/micromessenger\/([\d.]+)/i.test(navigator.userAgent||""),function(){var u={};return typeof document.hidden<"u"?(u.hidden="hidden",u.visibilityChange="visibilitychange"):typeof document.msHidden<"u"?(u.hidden="msHidden",u.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u});Fu=H0().hidden;var Sp,is,Kt,Mu,xp,ur,no,Ep,wp={android:/Android/i,iOS:/iPhone|iPad|iPod/i},jw=function(){for(var u in wp)if(navigator.userAgent.match(wp[u]))return u;return""},q0=jw(),$w=function(){return wp.hasOwnProperty(q0)},Cp=function(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"},Vw=function(u){var c=/\/sd\/(\w+)\/(\w+)$/;return u.match(c)},Hw=function(u){var c=u._.URL(u.para.server_url);return{origin:c.origin,project:c.searchParams.get("project")||"default"}},qw=function(u,c,p){u.log("\u5C1D\u8BD5\u5524\u8D77 android app");var _=c;u.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+_),window.location=_,u.timer=setTimeout(function(){var b=Rc();return u.log("hide:"+Fu+":"+document[Fu]),b?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location=p))},u.timeout)},Ww=function(u,c,p){u.log("\u5C1D\u8BD5\u5524\u8D77 iOS app:"+c),window.location.href=c,u.timer=setTimeout(function(){var _=Rc();return _?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location.href=p))},u.timeout),u.log("new timer:"+u.timer)},Bu={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(u){if(this.sd)return this.log("deeplink\u5DF2\u7ECF\u521D\u59CB\u5316"),!1;if(this.sd=u,this.log("deeplink init called"),this.sd===null)return this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165"),!1;var c={};if(arguments.length>0&&(arguments.length===1&&Cp(arguments[0])?c=arguments[0]:arguments.length>=2&&Cp(arguments[1])&&(c=arguments[1])),!$w())return this.log("\u4E0D\u652F\u6301\u5F53\u524D\u7CFB\u7EDF\uFF0C\u76EE\u524D\u53EA\u652F\u6301Android\u548CiOS"),!1;if(Cp(c)&&this.sd._.isNumber(c.timeout)&&c.timeout>=2500&&(this.timeout=c.timeout),!this.sd.para.server_url)return this.log("\u795E\u7B56JS SDK\u914D\u7F6E\u9879server_url\u672A\u6B63\u786E\u914D\u7F6E"),!1;var p=Hw(this.sd);this.apiURL=this.apiURL.replace("{origin}",p.origin).replace("{project}",p.project);var _=this.sd._.getQueryParam(window.location.href,"deeplink");if(!_)return this.log("\u5F53\u524D\u9875\u9762\u7F3A\u5C11deeplink\u53C2\u6570"),!1;_=window.decodeURIComponent(_);var b=Vw(_);return b?(this.key=b[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(b[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:function(w){return w.errorMsg?(Bu.log("API\u62A5\u9519\uFF1A"+w.errorMsg),!1):(Bu.data=w,Bu.log("API\u67E5\u8BE2\u6210\u529F\uFF0C\u6570\u636E\uFF1A"+JSON.stringify(w,null,"  ")),void(this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))))}.bind(this),error:function(){Bu.log("API\u67E5\u8BE2\u51FA\u9519")}}),void this.addListeners()):(this.log("\u5F53\u524D\u9875\u9762\u7684deeplink\u53C2\u6570\u65E0\u6548"),!1)},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("\u6CA1\u6709Deep link\u6570\u636E!"),!1;if(q0==="iOS"){this.log("\u5F53\u524D\u7CFB\u7EDF\u662FiOS");var u=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+u),Ww(this,u,this.data.ios_info.download_url)}else this.log("\u5F53\u524D\u7CFB\u7EDF\u662F android"),qw(this,this.data.android_info.url_schemes,this.data.android_info.download_url)},log:function(u){this.sd&&this.sd.log(u)},addListeners:function(){var u=H0().visibilityChange,c=this;u&&document.addEventListener(u,function(){clearTimeout(c.timer),c.log("visibilitychange, clear timeout:"+c.timer)},!1),window.addEventListener("pagehide",function(){c.log("page hide, clear timeout:"+c.timer),clearTimeout(c.timer)},!1)}},Gw=Lc(Bu,"Deeplink","sdkReady"),zw="1.26.12",W0={init:function(u){Kt=u,Mu=Kt&&Kt._,xp=Kt&&Kt.log||console&&console.log||function(){},ip()},handleCommand:sp},G0=np(W0,"IOSBridge","sdkAfterInitPara"),Kw="1.26.12",z0={init:function(u){ur=u,no=ur&&ur._,Ep=ur&&ur.log||console&&console.log||function(){},x()}},K0=y(z0,"IOSObsoleteBridge","sdkAfterInitPara"),Xw="1.26.12",Jw=5e3,Yw=432e3;q.prototype.init=function(u,c){if(u){if(this.sd=u,this._=this.sd._,c){this.option=c;var p=c.heartbeat_interval_time;p&&(this._.isNumber(p)||this._.isNumber(1*p))&&1*p>0&&(this.heartbeat_interval_time=1e3*p);var _=c.max_duration;_&&(this._.isNumber(_)||this._.isNumber(1*_))&&1*_>0&&(this.max_duration=_)}this.page_id=Number(String(this._.getRandom()).slice(2,5)+String(this._.getRandom()).slice(2,4)+String(new Date().getTime()).slice(-4)),this.addEventListener(),document.hidden===!0?this.page_show_status=!1:this.addHeartBeatInterval(),this.log("PageLeave\u521D\u59CB\u5316\u5B8C\u6BD5")}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},q.prototype.log=function(u){this.sd&&this.sd.log(u)},q.prototype.refreshPageEndTimer=function(){var u=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){u.page_hidden_status=!1},Jw)},q.prototype.hiddenStatusHandler=function(){clearTimeout(this.timer),this.timer=null,this.page_hidden_status=!1},q.prototype.pageStartHandler=function(){this.start_time=+new Date,document.hidden?this.page_show_status=!1:this.page_show_status=!0,this.url=location.href,this.title=document.title},q.prototype.pageEndHandler=function(){if(this.page_hidden_status!==!0){var u=this.getPageLeaveProperties();this.page_show_status===!1&&delete u.event_duration,this.page_show_status=!1,this.page_hidden_status=!0,this.isCollectUrl(this.url)&&this.sd.track("$WebPageLeave",u),this.refreshPageEndTimer(),this.delHeartBeatData()}},q.prototype.addEventListener=function(){this.addPageStartListener(),this.addPageSwitchListener(),this.addSinglePageListener(),this.addPageEndListener()},q.prototype.addPageStartListener=function(){var u=this;"onpageshow"in window&&this._.addEvent(window,"pageshow",function(){u.pageStartHandler(),u.hiddenStatusHandler()})},q.prototype.isCollectUrl=function(u){return typeof this.option.isCollectUrl!="function"||typeof u!="string"||u===""||this.option.isCollectUrl(u)},q.prototype.addSinglePageListener=function(){var u=this;this.sd.ee&&this.sd.ee.spa.prepend("switch",function(c){c!==location.href&&(u.url=c,u.pageEndHandler(),u.stopHeartBeatInterval(),u.current_page_url=u.url,u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval())})},q.prototype.addPageEndListener=function(){var u=this;this._.each(["pagehide","beforeunload","unload"],function(c){"on"+c in window&&u._.addEvent(window,c,function(){u.pageEndHandler(),u.stopHeartBeatInterval()})})},q.prototype.addPageSwitchListener=function(){var u=this;this._.listenPageState({visible:function(){u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval()},hidden:function(){u.url=location.href,u.title=document.title,u.pageEndHandler(),u.stopHeartBeatInterval()}})},q.prototype.addHeartBeatInterval=function(){this._.localStorage.isSupport()&&this.startHeartBeatInterval()},q.prototype.startHeartBeatInterval=function(){var u=this;this.heartbeat_interval_timer&&this.stopHeartBeatInterval();var c=!0;this.isCollectUrl(this.url)||(c=!1),this.heartbeat_interval_timer=setInterval(function(){c&&u.saveHeartBeatData()},this.heartbeat_interval_time),c&&this.saveHeartBeatData("is_first_heartbeat"),this.reissueHeartBeatData()},q.prototype.stopHeartBeatInterval=function(){clearInterval(this.heartbeat_interval_timer),this.heartbeat_interval_timer=null},q.prototype.saveHeartBeatData=function(u){var c=this.getPageLeaveProperties(),p=new Date;c.$time=p,u==="is_first_heartbeat"&&(c.event_duration=3.14);var _=this.sd.kit.buildData({type:"track",event:"$WebPageLeave",properties:c});_.heartbeat_interval_time=this.heartbeat_interval_time,this.sd.store.saveObjectVal(this.storage_name+"-"+this.page_id,_)},q.prototype.delHeartBeatData=function(u){this._.localStorage.isSupport()&&this._.localStorage.remove(u||this.storage_name+"-"+this.page_id)},q.prototype.reissueHeartBeatData=function(){for(var u=window.localStorage.length,c=u-1;c>=0;c--){var p=window.localStorage.key(c);if(p&&p!==this.storage_name+"-"+this.page_id&&p.indexOf(this.storage_name+"-")===0){var _=this.sd.store.readObjectVal(p);this._.isObject(_)&&1*new Date-_.time>_.heartbeat_interval_time+5e3&&(delete _.heartbeat_interval_time,_._flush_time=new Date().getTime(),this.sd.kit.sendData(_),this.delHeartBeatData(p))}}},q.prototype.getPageLeaveProperties=function(){var u=(+new Date-this.start_time)/1e3;(isNaN(u)||u<0||u>this.max_duration)&&(u=0),u=Number(u.toFixed(3));var c=this._.getReferrer(this.current_page_url),p=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body&&document.body.scrollTop||0;p=Math.round(p)||0;var _={$title:this.title,$url:this._.getURL(this.url),$url_path:this._.getURLPath(this._.URL(this.url).pathname),$referrer_host:c?this._.getHostname(c):"",$referrer:c,$viewport_position:p};return u!==0&&(_.event_duration=u),_=this._.extend(_,this.option.custom_props)};var Qw=new q,Zw=B(Qw,"PageLeave","sdkReady"),eC="1.26.12",X0=!1,tC={init:function(u,c){function p(L,z){if(L.getEntries&&typeof L.getEntries=="function"){for(var ae=L.getEntries(),pe=null,Ae=0;Ae<ae.length;Ae++)"transferSize"in ae[Ae]&&(pe+=ae[Ae].transferSize);u._.isNumber(pe)&&pe>=0&&pe<10737418240&&(z.$page_resource_size=Number((pe/1024).toFixed(3)))}}function _(L){var z=0;if(L.timing){var ae=L.timing;ae.fetchStart!==0&&u._.isNumber(ae.fetchStart)&&ae.domContentLoadedEventEnd!==0&&u._.isNumber(ae.domContentLoadedEventEnd)?z=ae.domContentLoadedEventEnd-ae.fetchStart:u.log("performance \u6570\u636E\u83B7\u53D6\u5F02\u5E38")}return z}function b(L){var z=0;if(u._.isFunction(L.getEntriesByType)){var ae=L.getEntriesByType("navigation")||[{}];z=(ae[0]||{}).domContentLoadedEventEnd||0}return z}function w(){var L=0,z=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,ae={$url:u._.getURL(),$title:document.title,$url_path:u._.getURLPath(),$referrer:u._.getReferrer(null,!0)};if(z?(L=b(z)||_(z),p(z,ae)):u.log("\u6D4F\u89C8\u5668\u672A\u652F\u6301 performance API."),L>0){var pe=u._.isObject(c)&&c.max_duration||1800;L=Number((L/1e3).toFixed(3)),(!u._.isNumber(pe)||pe<=0||L<=pe)&&(ae.event_duration=L)}X0||(u.track("$WebPageLoad",ae),X0=!0),window.removeEventListener?window.removeEventListener("load",w):window.detachEvent&&window.detachEvent("onload",w)}document.readyState=="complete"?w():window.addEventListener?window.addEventListener("load",w):window.attachEvent&&window.attachEvent("onload",w)}},rC=se(tC,"PageLoad","sdkReady");Ie.prototype.init=function(u){if(u){this.sd=u,this._=u._,this.log=u.log;var c=this;u.registerInterceptor("buildDataStage",{extendProps:{priority:0,entry:function(p){return xe(p,c)}}})}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},Ie.prototype.register=function(u){return this.sd?void(this._.isObject(u)&&this._.isArray(u.events)&&u.events.length>0&&this._.isObject(u.properties)&&!this._.isEmptyObject(u.properties)?this.customRegister.push(u):this.log("RegisterProperties: register \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},Ie.prototype.hookRegister=function(u){return this.sd?void(this._.isFunction(u)?this.customRegister.push(u):this.log("RegisterProperties: hookRegister \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")};var nC="1.26.12";Ie.prototype.plugin_name="RegisterProperties";var as,J0,iC=new Ie,aC=Yt(iC),sC="1.26.12",Uu=window.console&&window.console.log||function(){},oC={init:function(u){return as=u,Uu=as&&as.log||Uu,u&&u.kit&&u.kit.buildData?(J0=as.kit.buildData,as.kit.buildData=Fc,void Uu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5B8C\u6210")):void Uu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25,\u5F53\u524D\u4E3Bsdk\u4E0D\u652F\u6301 RegisterPropertyPageHeight \u63D2\u4EF6\uFF0C\u8BF7\u5347\u7EA7\u4E3Bsdk")}},uC=Cu(oC,"RegisterPropertyPageHeight","sdkReady"),lC="1.26.12",ki={};ki.getPart=function(u){var c=!1,p=this.option.length;if(p){for(var _=0;_<p;_++)if(u.indexOf(this.option[_].part_url)>-1)return!0}return c},ki.getPartHash=function(u){var c=this.option.length,p=!1;if(c){for(var _=0;_<c;_++)if(u.indexOf(this.option[_].part_url)>-1)return this.option[_].after_hash}return!!p},ki.getCurrenId=function(){var u=this.store.getDistinctId()||"",c=this.store.getFirstId()||"";this._.urlSafeBase64&&this._.urlSafeBase64.encode?u=u?this._.urlSafeBase64.trim(this._.urlSafeBase64.encode(this._.base64Encode(u))):"":this._.rot13obfs&&(u=u?this._.rot13obfs(u):"");var p=c?"f"+u:"d"+u;return encodeURIComponent(p)},ki.rewriteUrl=function(u,c){var p=this,_=/([^?#]+)(\?[^#]*)?(#.*)?/,b=_.exec(u),w="";if(b){var L,z=b[1]||"",ae=b[2]||"",pe=b[3]||"",Ae="_sasdk="+this.getCurrenId(),tt=function(br){var nr=br.split("&"),Di=[];return p._.each(nr,function(Qc){Qc.indexOf("_sasdk=")>-1?Di.push(Ae):Di.push(Qc)}),Di.join("&")};if(this.getPartHash(u)){L=pe.indexOf("_sasdk");var at=pe.indexOf("?");w=at>-1?L>-1?z+ae+"#"+pe.substring(1,L)+tt(pe.substring(L,pe.length)):z+ae+pe+"&"+Ae:z+ae+"#"+pe.substring(1)+"?"+Ae}else{L=ae.indexOf("_sasdk");var $t=/^\?(\w)+/.test(ae);w=$t?L>-1?z+"?"+tt(ae.substring(1))+pe:z+ae+"&"+Ae+pe:z+"?"+Ae+pe}return c&&(c.href=w),w}},ki.getUrlId=function(){var u=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(u)&&u[1]){var c=decodeURIComponent(u[1]);return!c||c.substring(0,1)!=="f"&&c.substring(0,1)!=="d"||(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(c)?c=c.substring(0,1)+this._.base64Decode(this._.urlSafeBase64.decode(c.substring(1))):this._.rot13defs&&(c=c.substring(0,1)+this._.rot13defs(c.substring(1)))),c}return""},ki.setRefferId=function(u){var c=this.store.getDistinctId(),p=this.getUrlId();if(p&&p!==""){var _=p.substring(0,1)==="a"||p.substring(0,1)==="d";p=p.substring(1),p!==c&&(_?(this.sd.identify(p,!0),this.store.getFirstId()&&this.sd.saEvent.send({original_id:p,distinct_id:c,type:"track_signup",event:"$SignUp",properties:{}},null)):this.store.getFirstId()&&!u.re_login||this.sd.login(p))}},ki.addListen=function(){var u=this,c=function(p){var _,b,w=p.target,L=w.tagName.toLowerCase(),z=w.parentNode;if(L==="a"&&w.href||z&&z.tagName&&z.tagName.toLowerCase()==="a"&&z.href){L==="a"&&w.href?(_=w.href,b=w):(_=z.href,b=z);var ae=u._.URL(_),pe=ae.protocol;pe!=="http:"&&pe!=="https:"||u.getPart(_)&&u.rewriteUrl(_,b)}};u._.addEvent(document,"mousedown",c),window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>=0&&u._.addEvent(document,"pointerdown",c)},ki.init=function(u,c){function p(_){for(var b=_.length,w=[],L=0;L<b;L++)/[A-Za-z0-9]+\./.test(_[L].part_url)&&Object.prototype.toString.call(_[L].after_hash)=="[object Boolean]"?w.push(_[L]):u.log("linker \u914D\u7F6E\u7684\u7B2C "+(L+1)+" \u9879\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570\u683C\u5F0F\uFF01");return w}return this.sd=u,this._=u._,this.store=u.store,this.para=u.para,this._.isObject(c)&&this._.isArray(c.linker)&&c.linker.length>0?(this.setRefferId(c),this.addListen(),this.option=c.linker,void(this.option=p(this.option))):void u.log("\u8BF7\u914D\u7F6E\u6253\u901A\u57DF\u540D\u53C2\u6570\uFF01")};var Qn,jt,ss,Ir,os,Or,_a,Zn,ya,ei,ba,xn,io,cC=Au(ki,"SiteLinker","sdkReady"),dC="utm_source utm_medium utm_campaign utm_content utm_term",fC="1.26.12",hC={init:function(u){function c(){var p=dC.split(" "),_="",b={};return Qn._.isArray(Qn.para.source_channel)&&Qn.para.source_channel.length>0&&(p=p.concat(Qn.para.source_channel),p=Qn._.unique(p)),Qn._.each(p,function(w){_=Qn._.getQueryParam(location.href,w),_.length&&(b[w]=_)}),b}u&&!Qn&&(Qn=u,Qn.registerInterceptor("businessStage",{getUtmData:{priority:0,entry:function(){return c()}}}))}},Y0=jc(hC,"Utm","sdkAfterInitPara"),pC="1.26.12",Ap=!1,Jc=null,gC={init:function(u){Jc=u,Jc.disableSDK=f1,Jc.enableSDK=h1,Jc.getDisabled=p1}},Q0=d1(gC,"DisableSDK","sdkInitAPI"),mC="1.26.12",vC={plugin_name:"DebugSender",init:function(u){jt=u,ss=jt._,T1()}},Z0=v1(vC),_C="1.26.12",yC={plugin_name:"JsappSender",init:function(u){Ir=u,os=Ir._,C1()}},e_=E1(yC),bC="1.26.12",Yc=null,TC={plugin_name:"BatchSender",init:function(u){Or=u,_a=Or._,L1()}},t_=P1(TC),SC="1.26.12",xC={plugin_name:"BeaconSender",init:function(u){Zn=u,ya=Zn._,U1()}},r_=F1(xC),EC="1.26.12",wC={plugin_name:"AjaxSender",init:function(u){ei=u,ba=ei._,W1()}},n_=V1(wC),CC="1.26.12",AC={plugin_name:"ImageSender",init:function(u){xn=u,io=xn._,Y1()}},i_=K1(AC),dr=null,Zr=null,ju=[],kC={init:function(u){u&&(dr=u,Zr=dr._,dr.logger&&dr.logger.appendWriter(tw),dr.on&&dr.on("sdkAfterInitPara",function(){for(var c=0;c<ju.length;c++)f0(ju[c]);ju=null}),dr.on&&dr.on("sdkInitAPI",function(){dr.enableLocalLog=aw,dr.disableLocalLog=sw}))}},a_=ew(kC,"ConsoleLogger"),kp="sensorsdata_jssdk_debug";O.modules=O.modules||{};for(var s_=[a_,Rw,B0,V0,Bw,Gw,G0,K0,Zw,rC,aC,uC,cC,Y0,Q0,Z0,e_,t_,r_,n_,i_],o_=[a_,Iw,Y0,Q0,e_,Z0,B0,G0,V0,K0,t_,r_,n_,i_],us=0;us<s_.length;us++){var ao=s_[us];O._.isString(ao.plugin_name)?O.modules[ao.plugin_name]=ao:O._.isArray(ao.plugin_name)&&O._.each(ao.plugin_name,function(u){O.modules[u]=ao})}for(us=0;us<o_.length;us++)O.use(o_[us]);var u_=O;try{typeof window.sensorsDataAnalytic201505=="string"?(O.para=window[sensorsDataAnalytic201505].para,O._q=window[sensorsDataAnalytic201505]._q,window[sensorsDataAnalytic201505]=O,window.sensorsDataAnalytic201505=O,O.init()):typeof window.sensorsDataAnalytic201505>"u"?window.sensorsDataAnalytic201505=O:u_=window.sensorsDataAnalytic201505}catch(u){ut(u)}var DC=u_;return DC})})(nx);const Mo=nx.exports,{VITE_SENSORS:ix}={VITE_USER_NODE_ENV:"test",VITE_API_URL:"https://test-api-mate.flyai.com",VITE_URL_URL:"https://test-mate.flyai.com/",VITE_GOOGLE_ID:"742137325913-j6tn2dk96v128bl7ocuf1j633nmkih8r.apps.googleusercontent.com",VITE_SENSORS:"MateLink_test",BASE_URL:"./",MODE:"test",DEV:!0,PROD:!1};Mo.init({sdk_url:"lib/sensorsdata.min.js",heatmap_url:"lib/heatmap.min.js",name:"sensors",server_url:"https://log.cece.com/sa?project="+ix,is_track_single_page:!0,use_client_time:!0,send_type:"beacon",preset_properties:{url:!0,title:!0,latest_wx_ad_click_id:!0},app_js_bridge:!0,is_track_device_id:!0,heatmap:{clickmap:"default",scroll_notice_map:"default"},show_log:!0});Mo.quick("autoTrack",{platform:"web"});Mo.registerPage({$url:window.location.href,$referrer:document.referrer,systemName:ix});let Iy;Mo.quick("isReady",function(){Iy=Mo.quick("getAnonymousID"),localStorage.setItem("anonymousID",Iy)});function QI(){return Mo}const ZI=()=>{(function(r,e,n){let i;const t=r.getElementsByTagName(e)[0];r.getElementById(n)||(i=r.createElement(e),i.id=n,i.src="https://connect.facebook.net/zh_CN/sdk.js",t.parentNode.insertBefore(i,t))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"173769148980844",autoLogAppEvents:!0,xfbml:!0,version:"v16.0"})}};ZI();var nl;typeof window<"u"?nl=window:typeof Dl<"u"?nl=Dl:typeof self<"u"?nl=self:nl={};var j=nl;const eO=new Proxy({},{get(r,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.`)}}),tO=Object.freeze(Object.defineProperty({__proto__:null,default:eO},Symbol.toStringTag,{value:"Module"})),rO=rx(tO);var Oy=typeof Dl<"u"?Dl:typeof window<"u"?window:{},nO=rO,il;typeof document<"u"?il=document:(il=Oy["__GLOBAL_DOCUMENT_CACHE@4"],il||(il=Oy["__GLOBAL_DOCUMENT_CACHE@4"]=nO));var be=il;function Pn(){return Pn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Pn.apply(null,arguments)}const iO=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Pn}},Symbol.toStringTag,{value:"Module"}));var Jg={exports:{}};(function(r,e){function n(d){if(d&&typeof d=="object"){var f=d.which||d.keyCode||d.charCode;f&&(d=f)}if(typeof d=="number")return s[d];var h=String(d),g=i[h.toLowerCase()];if(g)return g;var g=t[h.toLowerCase()];if(g)return g;if(h.length===1)return h.charCodeAt(0)}n.isEventKey=function(f,h){if(f&&typeof f=="object"){var g=f.which||f.keyCode||f.charCode;if(g==null)return!1;if(typeof h=="string"){var v=i[h.toLowerCase()];if(v)return v===g;var v=t[h.toLowerCase()];if(v)return v===g}else if(typeof h=="number")return h===g;return!1}},e=r.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var l in t)i[l]=t[l]})(Jg,Jg.exports);const st=Jg.exports;function et(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Bo(r,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bo(r,e)}function Ce(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Bo(r,e)}var aO=sO;function sO(r,e){var n,i=null;try{n=JSON.parse(r,e)}catch(t){i=t}return[i,n]}var Hf={exports:{}};const oO=rx(iO);var uO=cO,lO=Object.prototype.toString;function cO(r){if(!r)return!1;var e=lO.call(r);return e==="[object Function]"||typeof r=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}var dO=j,fO=function(e,n){return n===void 0&&(n=!1),function(i,t,a){if(i){e(i);return}if(t.statusCode>=400&&t.statusCode<=599){var s=a;if(n)if(dO.TextDecoder){var l=hO(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(l).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function hO(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),t=i[0],a=i[1];return t.trim()==="charset"?a.trim():e},"utf-8")}var pO=fO,ax=j,gO=oO,mO=uO;fi.httpHandler=pO;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var vO=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var t=i.indexOf(":"),a=i.slice(0,t).trim().toLowerCase(),s=i.slice(t+1).trim();typeof n[a]>"u"?n[a]=s:Array.isArray(n[a])?n[a].push(s):n[a]=[n[a],s]}),n};Hf.exports=fi;Hf.exports.default=fi;fi.XMLHttpRequest=ax.XMLHttpRequest||TO;fi.XDomainRequest="withCredentials"in new fi.XMLHttpRequest?fi.XMLHttpRequest:ax.XDomainRequest;_O(["get","put","post","patch","head","delete"],function(r){fi[r==="delete"?"del":r]=function(e,n,i){return n=sx(e,n,i),n.method=r.toUpperCase(),ox(n)}});function _O(r,e){for(var n=0;n<r.length;n++)e(r[n])}function yO(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0}function sx(r,e,n){var i=r;return mO(e)?(n=e,typeof r=="string"&&(i={uri:r})):i=gO({},e,{uri:r}),i.callback=n,i}function fi(r,e,n){return e=sx(r,e,n),ox(e)}function ox(r){if(typeof r.callback>"u")throw new Error("callback argument missing");var e=!1,n=function($,U,J){e||(e=!0,r.callback($,U,J))};function i(){l.readyState===4&&setTimeout(s,0)}function t(){var M=void 0;if(l.response?M=l.response:M=l.responseText||bO(l),P)try{M=JSON.parse(M)}catch{}return M}function a(M){return clearTimeout(D),M instanceof Error||(M=new Error(""+(M||"Unknown XMLHttpRequest Error"))),M.statusCode=0,n(M,R)}function s(){if(!f){var M;clearTimeout(D),r.useXDR&&l.status===void 0?M=200:M=l.status===1223?204:l.status;var $=R,U=null;return M!==0?($={body:t(),statusCode:M,method:g,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&($.headers=vO(l.getAllResponseHeaders()))):U=new Error("Internal XMLHttpRequest Error"),n(U,$,$.body)}}var l=r.xhr||null;l||(r.cors||r.useXDR?l=new fi.XDomainRequest:l=new fi.XMLHttpRequest);var d,f,h=l.url=r.uri||r.url,g=l.method=r.method||"GET",v=r.body||r.data,T=l.headers=r.headers||{},A=!!r.sync,P=!1,D,R={body:void 0,headers:{},statusCode:0,method:g,url:h,rawRequest:l};if("json"in r&&r.json!==!1&&(P=!0,T.accept||T.Accept||(T.Accept="application/json"),g!=="GET"&&g!=="HEAD"&&(T["content-type"]||T["Content-Type"]||(T["Content-Type"]="application/json"),v=JSON.stringify(r.json===!0?v:r.json))),l.onreadystatechange=i,l.onload=s,l.onerror=a,l.onprogress=function(){},l.onabort=function(){f=!0},l.ontimeout=a,l.open(g,h,!A,r.username,r.password),A||(l.withCredentials=!!r.withCredentials),!A&&r.timeout>0&&(D=setTimeout(function(){if(!f){f=!0,l.abort("timeout");var M=new Error("XMLHttpRequest timeout");M.code="ETIMEDOUT",a(M)}},r.timeout)),l.setRequestHeader)for(d in T)T.hasOwnProperty(d)&&l.setRequestHeader(d,T[d]);else if(r.headers&&!yO(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(l.responseType=r.responseType),"beforeSend"in r&&typeof r.beforeSend=="function"&&r.beforeSend(l),l.send(v||null),l}function bO(r){try{if(r.responseType==="document")return r.responseXML;var e=r.responseXML&&r.responseXML.documentElement.nodeName==="parsererror";if(r.responseType===""&&!e)return r.responseXML}catch{}return null}function TO(){}var Yg={exports:{}},Ly=be,ev=Object.create||function(){function r(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return r.prototype=e,new r}}();function gn(r,e){this.name="ParsingError",this.code=r.code,this.message=e||r.message}gn.prototype=ev(Error.prototype);gn.prototype.constructor=gn;gn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function tv(r){function e(i,t,a,s){return(i|0)*3600+(t|0)*60+(a|0)+(s|0)/1e3}var n=r.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ml(){this.values=ev(null)}ml.prototype={set:function(r,e){!this.get(r)&&e!==""&&(this.values[r]=e)},get:function(r,e,n){return n?this.has(r)?this.values[r]:e[n]:this.has(r)?this.values[r]:e},has:function(r){return r in this.values},alt:function(r,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(r,e);break}},integer:function(r,e){/^-?\d+$/.test(e)&&this.set(r,parseInt(e,10))},percent:function(r,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(r,e),!0):!1}};function al(r,e,n,i){var t=i?r.split(i):[r];for(var a in t)if(typeof t[a]=="string"){var s=t[a].split(n);if(s.length===2){var l=s[0].trim(),d=s[1].trim();e(l,d)}}}function SO(r,e,n){var i=r;function t(){var l=tv(r);if(l===null)throw new gn(gn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),l}function a(l,d){var f=new ml;al(l,function(h,g){switch(h){case"region":for(var v=n.length-1;v>=0;v--)if(n[v].id===g){f.set(h,n[v].region);break}break;case"vertical":f.alt(h,g,["rl","lr"]);break;case"line":var T=g.split(","),A=T[0];f.integer(h,A),f.percent(h,A)&&f.set("snapToLines",!1),f.alt(h,A,["auto"]),T.length===2&&f.alt("lineAlign",T[1],["start","center","end"]);break;case"position":T=g.split(","),f.percent(h,T[0]),T.length===2&&f.alt("positionAlign",T[1],["start","center","end"]);break;case"size":f.percent(h,g);break;case"align":f.alt(h,g,["start","center","end","left","right"]);break}},/:/,/\s/),d.region=f.get("region",null),d.vertical=f.get("vertical","");try{d.line=f.get("line","auto")}catch{}d.lineAlign=f.get("lineAlign","start"),d.snapToLines=f.get("snapToLines",!0),d.size=f.get("size",100);try{d.align=f.get("align","center")}catch{d.align=f.get("align","middle")}try{d.position=f.get("position","auto")}catch{d.position=f.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},d.align)}d.positionAlign=f.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},d.align)}function s(){r=r.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),r.substr(0,3)!=="-->")throw new gn(gn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);r=r.substr(3),s(),e.endTime=t(),s(),a(r,e)}var Qp=Ly.createElement&&Ly.createElement("textarea"),xO={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Ry={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},EO={v:"title",lang:"lang"},Ny={rt:"ruby"};function ux(r,e){function n(){if(!e)return null;function A(D){return e=e.substr(D.length),D}var P=e.match(/^([^<]*)(<[^>]*>?)?/);return A(P[1]?P[1]:P[2])}function i(A){return Qp.innerHTML=A,A=Qp.textContent,Qp.textContent="",A}function t(A,P){return!Ny[P.localName]||Ny[P.localName]===A.localName}function a(A,P){var D=xO[A];if(!D)return null;var R=r.document.createElement(D),M=EO[A];return M&&P&&(R[M]=P.trim()),R}for(var s=r.document.createElement("div"),l=s,d,f=[];(d=n())!==null;){if(d[0]==="<"){if(d[1]==="/"){f.length&&f[f.length-1]===d.substr(2).replace(">","")&&(f.pop(),l=l.parentNode);continue}var h=tv(d.substr(1,d.length-2)),g;if(h){g=r.document.createProcessingInstruction("timestamp",h),l.appendChild(g);continue}var v=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v||(g=a(v[1],v[3]),!g)||!t(l,g))continue;if(v[2]){var T=v[2].split(".");T.forEach(function(A){var P=/^bg_/.test(A),D=P?A.slice(3):A;if(Ry.hasOwnProperty(D)){var R=P?"background-color":"color",M=Ry[D];g.style[R]=M}}),g.className=T.join(" ")}f.push(v[1]),l.appendChild(g),l=g;continue}l.appendChild(r.document.createTextNode(i(d)))}return s}var Fy=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function wO(r){for(var e=0;e<Fy.length;e++){var n=Fy[e];if(r>=n[0]&&r<=n[1])return!0}return!1}function CO(r){var e=[],n="",i;if(!r||!r.childNodes)return"ltr";function t(l,d){for(var f=d.childNodes.length-1;f>=0;f--)l.push(d.childNodes[f])}function a(l){if(!l||!l.length)return null;var d=l.pop(),f=d.textContent||d.innerText;if(f){var h=f.match(/^.*(\n|\r)/);return h?(l.length=0,h[0]):f}if(d.tagName==="ruby")return a(l);if(d.childNodes)return t(l,d),a(l)}for(t(e,r);n=a(e);)for(var s=0;s<n.length;s++)if(i=n.charCodeAt(s),wO(i))return"rtl";return"ltr"}function AO(r){if(typeof r.line=="number"&&(r.snapToLines||r.line>=0&&r.line<=100))return r.line;if(!r.track||!r.track.textTrackList||!r.track.textTrackList.mediaElement)return-1;for(var e=r.track,n=e.textTrackList,i=0,t=0;t<n.length&&n[t]!==e;t++)n[t].mode==="showing"&&i++;return++i*-1}function qf(){}qf.prototype.applyStyles=function(r,e){e=e||this.div;for(var n in r)r.hasOwnProperty(n)&&(e.style[n]=r[n])};qf.prototype.formatStyle=function(r,e){return r===0?0:r+e};function ef(r,e,n){qf.call(this),this.cue=e,this.cueDiv=ux(r,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=r.document.createElement("div"),i={direction:CO(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":case"line-left":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":case"line-right":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}ef.prototype=ev(qf.prototype);ef.prototype.constructor=ef;function qr(r){var e,n,i,t;if(r.div){n=r.div.offsetHeight,i=r.div.offsetWidth,t=r.div.offsetTop;var a=(a=r.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();r=r.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,r.height/a.length):0}this.left=r.left,this.right=r.right,this.top=r.top||t,this.height=r.height||n,this.bottom=r.bottom||t+(r.height||n),this.width=r.width||i,this.lineHeight=e!==void 0?e:r.lineHeight}qr.prototype.move=function(r,e){switch(e=e!==void 0?e:this.lineHeight,r){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};qr.prototype.overlaps=function(r){return this.left<r.right&&this.right>r.left&&this.top<r.bottom&&this.bottom>r.top};qr.prototype.overlapsAny=function(r){for(var e=0;e<r.length;e++)if(this.overlaps(r[e]))return!0;return!1};qr.prototype.within=function(r){return this.top>=r.top&&this.bottom<=r.bottom&&this.left>=r.left&&this.right<=r.right};qr.prototype.overlapsOppositeAxis=function(r,e){switch(e){case"+x":return this.left<r.left;case"-x":return this.right>r.right;case"+y":return this.top<r.top;case"-y":return this.bottom>r.bottom}};qr.prototype.intersectPercentage=function(r){var e=Math.max(0,Math.min(this.right,r.right)-Math.max(this.left,r.left)),n=Math.max(0,Math.min(this.bottom,r.bottom)-Math.max(this.top,r.top)),i=e*n;return i/(this.height*this.width)};qr.prototype.toCSSCompatValues=function(r){return{top:this.top-r.top,bottom:r.bottom-this.bottom,left:this.left-r.left,right:r.right-this.right,height:this.height,width:this.width}};qr.getSimpleBoxPosition=function(r){var e=r.div?r.div.offsetHeight:r.tagName?r.offsetHeight:0,n=r.div?r.div.offsetWidth:r.tagName?r.offsetWidth:0,i=r.div?r.div.offsetTop:r.tagName?r.offsetTop:0;r=r.div?r.div.getBoundingClientRect():r.tagName?r.getBoundingClientRect():r;var t={left:r.left,right:r.right,top:r.top||i,height:r.height||e,bottom:r.bottom||i+(r.height||e),width:r.width||n};return t};function kO(r,e,n,i){function t(D,R){for(var M,$=new qr(D),U=1,J=0;J<R.length;J++){for(;D.overlapsOppositeAxis(n,R[J])||D.within(n)&&D.overlapsAny(i);)D.move(R[J]);if(D.within(n))return D;var te=D.intersectPercentage(n);U>te&&(M=new qr(D),U=te),D=new qr($)}return M||$}var a=new qr(e),s=e.cue,l=AO(s),d=[];if(s.snapToLines){var f;switch(s.vertical){case"":d=["+y","-y"],f="height";break;case"rl":d=["+x","-x"],f="width";break;case"lr":d=["-x","+x"],f="width";break}var h=a.lineHeight,g=h*Math.round(l),v=n[f]+h,T=d[0];Math.abs(g)>v&&(g=g<0?-1:1,g*=Math.ceil(v/h)*h),l<0&&(g+=s.vertical===""?n.height:n.width,d=d.reverse()),a.move(T,g)}else{var A=a.lineHeight/n.height*100;switch(s.lineAlign){case"center":l-=A/2;break;case"end":l-=A;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(l,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(l,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(l,"%")});break}d=["+y","-x","+x","-y"],a=new qr(e)}var P=t(a,d);e.move(P.toCSSCompatValues(n))}function Jo(){}Jo.StringDecoder=function(){return{decode:function(r){if(!r)return"";if(typeof r!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}};Jo.convertCueToDOMTree=function(r,e){return!r||!e?null:ux(r,e)};var DO=.05,PO="sans-serif",IO="1.5%";Jo.processCues=function(r,e,n){if(!r||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=r.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=IO,n.appendChild(i);function t(h){for(var g=0;g<h.length;g++)if(h[g].hasBeenReset||!h[g].displayState)return!0;return!1}if(!t(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],l=qr.getSimpleBoxPosition(i),d=Math.round(l.height*DO*100)/100,f={font:d+"px "+PO};(function(){for(var h,g,v=0;v<e.length;v++)g=e[v],h=new ef(r,g,f),i.appendChild(h.div),kO(r,h,l,s),g.displayState=h.div,s.push(qr.getSimpleBoxPosition(h))})()};Jo.Parser=function(r,e,n){n||(n=e,e={}),e||(e={}),this.window=r,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Jo.Parser.prototype={reportOrThrowError:function(r){if(r instanceof gn)this.onparsingerror&&this.onparsingerror(r);else throw r},parse:function(r){var e=this;r&&(e.buffer+=e.decoder.decode(r,{stream:!0}));function n(){for(var h=e.buffer,g=0;g<h.length&&h[g]!=="\r"&&h[g]!==`
`;)++g;var v=h.substr(0,g);return h[g]==="\r"&&++g,h[g]===`
`&&++g,e.buffer=h.substr(g),v}function i(h){var g=new ml;if(al(h,function(T,A){switch(T){case"id":g.set(T,A);break;case"width":g.percent(T,A);break;case"lines":g.integer(T,A);break;case"regionanchor":case"viewportanchor":var P=A.split(",");if(P.length!==2)break;var D=new ml;if(D.percent("x",P[0]),D.percent("y",P[1]),!D.has("x")||!D.has("y"))break;g.set(T+"X",D.get("x")),g.set(T+"Y",D.get("y"));break;case"scroll":g.alt(T,A,["up"]);break}},/=/,/\s/),g.has("id")){var v=new(e.vttjs.VTTRegion||e.window.VTTRegion);v.width=g.get("width",100),v.lines=g.get("lines",3),v.regionAnchorX=g.get("regionanchorX",0),v.regionAnchorY=g.get("regionanchorY",100),v.viewportAnchorX=g.get("viewportanchorX",0),v.viewportAnchorY=g.get("viewportanchorY",100),v.scroll=g.get("scroll",""),e.onregion&&e.onregion(v),e.regionList.push({id:g.get("id"),region:v})}}function t(h){var g=new ml;al(h,function(v,T){switch(v){case"MPEGT":g.integer(v+"S",T);break;case"LOCA":g.set(v+"L",tv(T));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:g.get("MPEGTS"),LOCAL:g.get("LOCAL")})}function a(h){h.match(/X-TIMESTAMP-MAP/)?al(h,function(g,v){switch(g){case"X-TIMESTAMP-MAP":t(v);break}},/=/):al(h,function(g,v){switch(g){case"Region":i(v);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=n();var l=s.match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new gn(gn.Errors.BadSignature);e.state="HEADER"}for(var d=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(d?d=!1:s=n(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{SO(s,e.cue,e.regionList)}catch(h){e.reportOrThrowError(h),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=s.indexOf("-->")!==-1;if(!s||f&&(d=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(h){e.reportOrThrowError(h),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var r=this;try{if(r.buffer+=r.decoder.decode(),(r.cue||r.state==="HEADER")&&(r.buffer+=`

`,r.parse()),r.state==="INITIAL")throw new gn(gn.Errors.BadSignature)}catch(e){r.reportOrThrowError(e)}return r.onflush&&r.onflush(),this}};var OO=Jo,LO="auto",RO={"":1,lr:1,rl:1},NO={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function FO(r){if(typeof r!="string")return!1;var e=RO[r.toLowerCase()];return e?r.toLowerCase():!1}function Zp(r){if(typeof r!="string")return!1;var e=NO[r.toLowerCase()];return e?r.toLowerCase():!1}function lx(r,e,n){this.hasBeenReset=!1;var i="",t=!1,a=r,s=e,l=n,d=null,f="",h=!0,g="auto",v="start",T="auto",A="auto",P=100,D="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(R){i=""+R}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(R){t=!!R}},startTime:{enumerable:!0,get:function(){return a},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");a=R,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");s=R,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(R){l=""+R,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(R){d=R,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(R){var M=FO(R);if(M===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");f=M,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(R){h=!!R,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return g},set:function(R){if(typeof R!="number"&&R!==LO)throw new SyntaxError("Line: an invalid number or illegal string was specified.");g=R,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return v},set:function(R){var M=Zp(R);M?(v=M,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return T},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");T=R,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return A},set:function(R){var M=Zp(R);M?(A=M,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return P},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");P=R,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return D},set:function(R){var M=Zp(R);if(!M)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");D=M,this.hasBeenReset=!0}}}),this.displayState=void 0}lx.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var MO=lx,BO={"":!0,up:!0};function UO(r){if(typeof r!="string")return!1;var e=BO[r.toLowerCase()];return e?r.toLowerCase():!1}function Gu(r){return typeof r=="number"&&r>=0&&r<=100}function jO(){var r=100,e=3,n=0,i=100,t=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return r},set:function(l){if(!Gu(l))throw new Error("Width must be between 0 and 100.");r=l}},lines:{enumerable:!0,get:function(){return e},set:function(l){if(typeof l!="number")throw new TypeError("Lines must be set to a number.");e=l}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(l){if(!Gu(l))throw new Error("RegionAnchorX must be between 0 and 100.");i=l}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(l){if(!Gu(l))throw new Error("RegionAnchorY must be between 0 and 100.");n=l}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(l){if(!Gu(l))throw new Error("ViewportAnchorY must be between 0 and 100.");a=l}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(l){if(!Gu(l))throw new Error("ViewportAnchorX must be between 0 and 100.");t=l}},scroll:{enumerable:!0,get:function(){return s},set:function(l){var d=UO(l);d===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=d}}})}var $O=jO,Xi=j,Bs=Yg.exports={WebVTT:OO,VTTCue:MO,VTTRegion:$O};Xi.vttjs=Bs;Xi.WebVTT=Bs.WebVTT;var VO=Bs.VTTCue,HO=Bs.VTTRegion,qO=Xi.VTTCue,WO=Xi.VTTRegion;Bs.shim=function(){Xi.VTTCue=VO,Xi.VTTRegion=HO};Bs.restore=function(){Xi.VTTCue=qO,Xi.VTTRegion=WO};Xi.VTTCue||Bs.shim();function cx(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cx=function(){return!!r})()}function dx(r,e,n){if(cx())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var t=new(r.bind.apply(r,i));return n&&Bo(t,n.prototype),t}function GO(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Bo(r,e)}var fx={exports:{}};(function(r,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(d,f,h){if(h=h||{},d=d.trim(),f=f.trim(),!f){if(!h.alwaysNormalize)return d;var g=l.parseURL(d);if(!g)throw new Error("Error trying to parse base URL.");return g.path=l.normalizePath(g.path),l.buildURLFromParts(g)}var v=l.parseURL(f);if(!v)throw new Error("Error trying to parse relative URL.");if(v.scheme)return h.alwaysNormalize?(v.path=l.normalizePath(v.path),l.buildURLFromParts(v)):f;var T=l.parseURL(d);if(!T)throw new Error("Error trying to parse base URL.");if(!T.netLoc&&T.path&&T.path[0]!=="/"){var A=t.exec(T.path);T.netLoc=A[1],T.path=A[2]}T.netLoc&&!T.path&&(T.path="/");var P={scheme:T.scheme,netLoc:v.netLoc,path:null,params:v.params,query:v.query,fragment:v.fragment};if(!v.netLoc&&(P.netLoc=T.netLoc,v.path[0]!=="/"))if(!v.path)P.path=T.path,v.params||(P.params=T.params,v.query||(P.query=T.query));else{var D=T.path,R=D.substring(0,D.lastIndexOf("/")+1)+v.path;P.path=l.normalizePath(R)}return P.path===null&&(P.path=h.alwaysNormalize?l.normalizePath(v.path):v.path),l.buildURLFromParts(P)},parseURL:function(d){var f=i.exec(d);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(d){for(d=d.split("").reverse().join("").replace(a,"");d.length!==(d=d.replace(s,"")).length;);return d.split("").reverse().join("")},buildURLFromParts:function(d){return d.scheme+d.netLoc+d.path+d.params+d.query+d.fragment}};r.exports=l})()})(fx);const My=fx.exports;var By="http://example.com",Wf=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=j.location&&j.location.href||"");var i=typeof j.URL=="function",t=/^\/\//.test(e),a=!j.location&&!/\/\//i.test(e);if(i?e=new j.URL(e,j.location||By):/\/\//i.test(e)||(e=My.buildAbsoluteURL(j.location&&j.location.href||"",e)),i){var s=new URL(n,e);return a?s.href.slice(By.length):t?s.href.slice(s.protocol.length):s.href}return My.buildAbsoluteURL(e,n)},rv=function(){function r(){this.listeners={}}var e=r.prototype;return e.on=function(i,t){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(t)},e.off=function(i,t){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(t);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var t=this.listeners[i];if(!!t)if(arguments.length===2)for(var a=t.length,s=0;s<a;++s)t[s].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),d=t.length,f=0;f<d;++f)t[f].apply(this,l)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(t){i.push(t)})},r}(),zO=function(e){return j.atob?j.atob(e):Buffer.from(e,"base64").toString("binary")};function hx(r){for(var e=zO(r),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var KO=function(r){Ce(e,r);function e(){var i;return i=r.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(t){var a;for(this.buffer+=t,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(rv),XO=String.fromCharCode(9),eg=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},JO=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},Mn=function(e){for(var n=e.split(JO()),i={},t=n.length,a;t--;)n[t]!==""&&(a=/([^=]*)=(.*)/.exec(n[t]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},YO=function(r){Ce(e,r);function e(){var i;return i=r.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(t){var a=this,s,l;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var d=this.tagMappers.reduce(function(f,h){var g=h(t);return g===t?f:f.concat([g])},[t]);d.forEach(function(f){for(var h=0;h<a.customParsers.length;h++)if(a.customParsers[h].call(a,f))return;if(f.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:f.slice(1)});return}if(f=f.replace("\r",""),s=/^#EXTM3U/.exec(f),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(f),s){l={type:"tag",tagType:"inf"},s[1]&&(l.duration=parseFloat(s[1])),s[2]&&(l.title=s[2]),a.trigger("data",l);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"targetduration"},s[1]&&(l.duration=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"version"},s[1]&&(l.version=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"media-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"playlist-type"},s[1]&&(l.playlistType=s[1]),a.trigger("data",l);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(f),s){l=Pn(eg(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",l);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(f),s){l={type:"tag",tagType:"allow-cache"},s[1]&&(l.allowed=!/NO/.test(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"map"},s[1]){var g=Mn(s[1]);g.URI&&(l.uri=g.URI),g.BYTERANGE&&(l.byterange=eg(g.BYTERANGE))}a.trigger("data",l);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"stream-inf"},s[1]){if(l.attributes=Mn(s[1]),l.attributes.RESOLUTION){var v=l.attributes.RESOLUTION.split("x"),T={};v[0]&&(T.width=parseInt(v[0],10)),v[1]&&(T.height=parseInt(v[1],10)),l.attributes.RESOLUTION=T}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["FRAME-RATE"]&&(l.attributes["FRAME-RATE"]=parseFloat(l.attributes["FRAME-RATE"])),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(f),s){l={type:"tag",tagType:"media"},s[1]&&(l.attributes=Mn(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-ENDLIST/.exec(f),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(f),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(f),s){l={type:"tag",tagType:"program-date-time"},s[1]&&(l.dateTimeString=s[1],l.dateTimeObject=new Date(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(f),s){l={type:"tag",tagType:"key"},s[1]&&(l.attributes=Mn(s[1]),l.attributes.IV&&(l.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),a.trigger("data",l);return}if(s=/^#EXT-X-START:?(.*)$/.exec(f),s){l={type:"tag",tagType:"start"},s[1]&&(l.attributes=Mn(s[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out-cont"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-in"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"skip"},l.attributes=Mn(s[1]),l.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(l.attributes["SKIPPED-SEGMENTS"]=parseInt(l.attributes["SKIPPED-SEGMENTS"],10)),l.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(l.attributes["RECENTLY-REMOVED-DATERANGES"]=l.attributes["RECENTLY-REMOVED-DATERANGES"].split(XO)),a.trigger("data",l);return}if(s=/^#EXT-X-PART:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part"},l.attributes=Mn(s[1]),["DURATION"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseFloat(l.attributes[A]))}),["INDEPENDENT","GAP"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=/YES/.test(l.attributes[A]))}),l.attributes.hasOwnProperty("BYTERANGE")&&(l.attributes.byterange=eg(l.attributes.BYTERANGE)),a.trigger("data",l);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"server-control"},l.attributes=Mn(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseFloat(l.attributes[A]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=/YES/.test(l.attributes[A]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part-inf"},l.attributes=Mn(s[1]),["PART-TARGET"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseFloat(l.attributes[A]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"preload-hint"},l.attributes=Mn(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(A){if(l.attributes.hasOwnProperty(A)){l.attributes[A]=parseInt(l.attributes[A],10);var P=A==="BYTERANGE-LENGTH"?"length":"offset";l.attributes.byterange=l.attributes.byterange||{},l.attributes.byterange[P]=l.attributes[A],delete l.attributes[A]}}),a.trigger("data",l);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"rendition-report"},l.attributes=Mn(s[1]),["LAST-MSN","LAST-PART"].forEach(function(A){l.attributes.hasOwnProperty(A)&&(l.attributes[A]=parseInt(l.attributes[A],10))}),a.trigger("data",l);return}a.trigger("data",{type:"tag",data:f.slice(4)})})}},n.addParser=function(t){var a=this,s=t.expression,l=t.customType,d=t.dataParser,f=t.segment;typeof d!="function"&&(d=function(g){return g}),this.customParsers.push(function(h){var g=s.exec(h);if(g)return a.trigger("data",{type:"custom",data:d(h),customType:l,segment:f}),!0})},n.addTagMapper=function(t){var a=t.expression,s=t.map,l=function(f){return a.test(f)?s(f):f};this.tagMappers.push(l)},e}(rv),QO=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},lo=function(e){var n={};return Object.keys(e).forEach(function(i){n[QO(i)]=e[i]}),n},tg=function(e){var n=e.serverControl,i=e.targetDuration,t=e.partTargetDuration;if(!!n){var a="#EXT-X-SERVER-CONTROL",s="holdBack",l="partHoldBack",d=i&&i*3,f=t&&t*2;i&&!n.hasOwnProperty(s)&&(n[s]=d,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+d+")."})),d&&n[s]<d&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+n[s]+") to targetDuration * 3 ("+d+")"}),n[s]=d),t&&!n.hasOwnProperty(l)&&(n[l]=t*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[l]+")."})),t&&n[l]<f&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+n[l]+") to partTargetDuration * 2 ("+f+")."}),n[l]=f)}},ZO=function(r){Ce(e,r);function e(){var i;i=r.call(this)||this,i.lineStream=new KO,i.parseStream=new YO,i.lineStream.pipe(i.parseStream);var t=et(i),a=[],s={},l,d,f=!1,h=function(){},g={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},v="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",T=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var A=0,P=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&l&&(s.map=l),!s.key&&d&&(s.key=d),!s.timeline&&typeof T=="number"&&(s.timeline=T),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(D){var R,M;({tag:function(){({version:function(){D.version&&(this.manifest.version=D.version)},"allow-cache":function(){this.manifest.allowCache=D.allowed,"allowed"in D||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var J={};"length"in D&&(s.byterange=J,J.length=D.length,"offset"in D||(D.offset=A)),"offset"in D&&(s.byterange=J,J.offset=D.offset),A=J.offset+J.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),D.duration>0&&(s.duration=D.duration),D.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!D.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(D.attributes.METHOD==="NONE"){d=null;return}if(!D.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(D.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:D.attributes};return}if(D.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:D.attributes.URI};return}if(D.attributes.KEYFORMAT===v){var J=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(J.indexOf(D.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(D.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),D.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(D.attributes.KEYID&&D.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:D.attributes.KEYFORMAT,keyId:D.attributes.KEYID.substring(2)},pssh:hx(D.attributes.URI.split(",")[1])};return}D.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),d={method:D.attributes.METHOD||"AES-128",uri:D.attributes.URI},typeof D.attributes.IV<"u"&&(d.iv=D.attributes.IV)},"media-sequence":function(){if(!isFinite(D.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+D.number});return}this.manifest.mediaSequence=D.number},"discontinuity-sequence":function(){if(!isFinite(D.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+D.number});return}this.manifest.discontinuitySequence=D.number,T=D.number},"playlist-type":function(){if(!/VOD|EVENT/.test(D.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+D.playlist});return}this.manifest.playlistType=D.playlistType},map:function(){l={},D.uri&&(l.uri=D.uri),D.byterange&&(l.byterange=D.byterange),d&&(l.key=d)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||g,!D.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Pn(s.attributes,D.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||g,!(D.attributes&&D.attributes.TYPE&&D.attributes["GROUP-ID"]&&D.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var J=this.manifest.mediaGroups[D.attributes.TYPE];J[D.attributes["GROUP-ID"]]=J[D.attributes["GROUP-ID"]]||{},R=J[D.attributes["GROUP-ID"]],M={default:/yes/i.test(D.attributes.DEFAULT)},M.default?M.autoselect=!0:M.autoselect=/yes/i.test(D.attributes.AUTOSELECT),D.attributes.LANGUAGE&&(M.language=D.attributes.LANGUAGE),D.attributes.URI&&(M.uri=D.attributes.URI),D.attributes["INSTREAM-ID"]&&(M.instreamId=D.attributes["INSTREAM-ID"]),D.attributes.CHARACTERISTICS&&(M.characteristics=D.attributes.CHARACTERISTICS),D.attributes.FORCED&&(M.forced=/yes/i.test(D.attributes.FORCED)),R[D.attributes.NAME]=M},discontinuity:function(){T+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=D.dateTimeString,this.manifest.dateTimeObject=D.dateTimeObject),s.dateTimeString=D.dateTimeString,s.dateTimeObject=D.dateTimeObject},targetduration:function(){if(!isFinite(D.duration)||D.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+D.duration});return}this.manifest.targetDuration=D.duration,tg.call(this,this.manifest)},start:function(){if(!D.attributes||isNaN(D.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:D.attributes["TIME-OFFSET"],precise:D.attributes.PRECISE}},"cue-out":function(){s.cueOut=D.data},"cue-out-cont":function(){s.cueOutCont=D.data},"cue-in":function(){s.cueIn=D.data},skip:function(){this.manifest.skip=lo(D.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",D.attributes,["SKIPPED-SEGMENTS"])},part:function(){var J=this;f=!0;var te=this.manifest.segments.length,H=lo(D.attributes);s.parts=s.parts||[],s.parts.push(H),H.byterange&&(H.byterange.hasOwnProperty("offset")||(H.byterange.offset=P),P=H.byterange.offset+H.byterange.length);var V=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+V+" for segment #"+te,D.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(X,K){X.hasOwnProperty("lastPart")||J.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+K+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var J=this.manifest.serverControl=lo(D.attributes);J.hasOwnProperty("canBlockReload")||(J.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),tg.call(this,this.manifest),J.canSkipDateranges&&!J.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var J=this.manifest.segments.length,te=lo(D.attributes),H=te.type&&te.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(te),te.byterange&&(te.byterange.hasOwnProperty("offset")||(te.byterange.offset=H?P:0,H&&(P=te.byterange.offset+te.byterange.length)));var V=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+V+" for segment #"+J,D.attributes,["TYPE","URI"]),!!te.type)for(var X=0;X<s.preloadHints.length-1;X++){var K=s.preloadHints[X];!K.type||K.type===te.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+V+" for segment #"+J+" has the same TYPE "+te.type+" as preload hint #"+X})}},"rendition-report":function(){var J=lo(D.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(J);var te=this.manifest.renditionReports.length-1,H=["LAST-MSN","URI"];f&&H.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+te,D.attributes,H)},"part-inf":function(){this.manifest.partInf=lo(D.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",D.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),tg.call(this,this.manifest)}}[D.tagType]||h).call(t)},uri:function(){s.uri=D.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),d&&(s.key=d),s.timeline=T,l&&(s.map=l),P=0,s={}},comment:function(){},custom:function(){D.segment?(s.custom=s.custom||{},s.custom[D.customType]=D.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[D.customType]=D.data)}})[D.type].call(t)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(t,a,s){var l=[];s.forEach(function(d){a.hasOwnProperty(d)||l.push(d)}),l.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+l.join(", ")})},n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(rv),Cs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},eL=["video","audio","text"],Uy=["Video","Audio","Text"],px=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,t){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+a+"00"+s})},ni=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(t){t=t.trim();var a;eL.forEach(function(s){var l=Cs[s].exec(t.toLowerCase());if(!(!l||l.length<=1)){a=s;var d=t.substring(0,l[1].length),f=t.replace(d,"");i.push({type:d,details:f,mediaType:s})}}),a||i.push({type:t,details:"",mediaType:"unknown"})}),i},tL=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var t in i){var a=i[t];if(a.default&&a.playlists)return ni(a.playlists[0].attributes.CODECS)}return null},gx=function(e){return e===void 0&&(e=""),Cs.audio.test(e.trim().toLowerCase())},rL=function(e){return e===void 0&&(e=""),Cs.text.test(e.trim().toLowerCase())},Pl=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return px(a.trim())}),i="video";n.length===1&&gx(n[0])?i="audio":n.length===1&&rL(n[0])&&(i="application");var t="mp4";return n.every(function(a){return Cs.mp4.test(a)})?t="mp4":n.every(function(a){return Cs.webm.test(a)})?t="webm":n.every(function(a){return Cs.ogg.test(a)})&&(t="ogg"),i+"/"+t+';codecs="'+e+'"'}},Rd=function(e){return e===void 0&&(e=""),j.MediaSource&&j.MediaSource.isTypeSupported&&j.MediaSource.isTypeSupported(Pl(e))||!1},rg=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<Uy.length;i++){var t=Uy[i];if(Cs["muxer"+t].test(n))return!0}return!1})},jy="mp4a.40.2",nL="avc1.4d400d",iL=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,aL=/^application\/dash\+xml/i,mx=function(e){return iL.test(e)?"hls":aL.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},sL=function(e){return e.toString(2).length},oL=function(e){return Math.ceil(sL(e)/8)},vx=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},uL=function(e){return vx(e)},qe=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!uL(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Sr=j.BigInt||Number,Qg=[Sr("0x1"),Sr("0x100"),Sr("0x10000"),Sr("0x1000000"),Sr("0x100000000"),Sr("0x10000000000"),Sr("0x1000000000000"),Sr("0x100000000000000"),Sr("0x10000000000000000")];(function(){var r=new Uint16Array([65484]),e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var lL=function(e,n){var i=n===void 0?{}:n,t=i.signed,a=t===void 0?!1:t,s=i.le,l=s===void 0?!1:s;e=qe(e);var d=l?"reduce":"reduceRight",f=e[d]?e[d]:Array.prototype[d],h=f.call(e,function(v,T,A){var P=l?A:Math.abs(A+1-e.length);return v+Sr(T)*Qg[P]},Sr(0));if(a){var g=Qg[e.length]/Sr(2)-Sr(1);h=Sr(h),h>g&&(h-=g,h-=g,h-=Sr(2))}return Number(h)},cL=function(e,n){var i=n===void 0?{}:n,t=i.le,a=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Sr(e);for(var s=oL(e),l=new Uint8Array(new ArrayBuffer(s)),d=0;d<s;d++){var f=a?d:Math.abs(d+1-l.length);l[f]=Number(e/Qg[d]&Sr(255)),e<0&&(l[f]=Math.abs(~l[f]),l[f]-=d===0?1:2)}return l},_x=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i},dL=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(l){return l&&(l.byteLength||l.length)&&typeof l!="string"}),n.length<=1)return qe(n[0]);var t=n.reduce(function(l,d,f){return l+(d.byteLength||d.length)},0),a=new Uint8Array(t),s=0;return n.forEach(function(l){l=qe(l),a.set(l,s),s+=l.byteLength}),a},Ht=function(e,n,i){var t=i===void 0?{}:i,a=t.offset,s=a===void 0?0:a,l=t.mask,d=l===void 0?[]:l;e=qe(e),n=qe(n);var f=n.every?n.every:Array.prototype.every;return n.length&&e.length-s>=n.length&&f.call(n,function(h,g){var v=d[g]?d[g]&e[s+g]:e[s+g];return h===v})},fL=function(e,n,i){n.forEach(function(t){for(var a in e.mediaGroups[t])for(var s in e.mediaGroups[t][a]){var l=e.mediaGroups[t][a][s];i(l,t,a,s)}})},Ha={},ia={};function hL(r,e,n){if(n===void 0&&(n=Array.prototype),r&&typeof n.find=="function")return n.find.call(r,e);for(var i=0;i<r.length;i++)if(Object.prototype.hasOwnProperty.call(r,i)){var t=r[i];if(e.call(void 0,t,i,r))return t}}function nv(r,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(r):r}function pL(r,e){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var yx=nv({HTML:"text/html",isHTML:function(r){return r===yx.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),bx=nv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===bx.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ia.assign=pL;ia.find=hL;ia.freeze=nv;ia.MIME_TYPE=yx;ia.NAMESPACE=bx;var Tx=ia,hi=Tx.find,Il=Tx.NAMESPACE;function gL(r){return r!==""}function mL(r){return r?r.split(/[\t\n\f\r ]+/).filter(gL):[]}function vL(r,e){return r.hasOwnProperty(e)||(r[e]=!0),r}function $y(r){if(!r)return[];var e=mL(r);return Object.keys(e.reduce(vL,{}))}function _L(r){return function(e){return r&&r.indexOf(e)!==-1}}function Yl(r,e){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}function sn(r,e){var n=r.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Yl(n,i),r.prototype=n=i}n.constructor!=r&&(typeof r!="function"&&console.error("unknown Class:"+r),n.constructor=r)}var on={},Vn=on.ELEMENT_NODE=1,Uo=on.ATTRIBUTE_NODE=2,tf=on.TEXT_NODE=3,Sx=on.CDATA_SECTION_NODE=4,xx=on.ENTITY_REFERENCE_NODE=5,yL=on.ENTITY_NODE=6,Ex=on.PROCESSING_INSTRUCTION_NODE=7,wx=on.COMMENT_NODE=8,Cx=on.DOCUMENT_NODE=9,Ax=on.DOCUMENT_TYPE_NODE=10,Ji=on.DOCUMENT_FRAGMENT_NODE=11,bL=on.NOTATION_NODE=12,jr={},mr={};jr.INDEX_SIZE_ERR=(mr[1]="Index size error",1);jr.DOMSTRING_SIZE_ERR=(mr[2]="DOMString size error",2);var rn=jr.HIERARCHY_REQUEST_ERR=(mr[3]="Hierarchy request error",3);jr.WRONG_DOCUMENT_ERR=(mr[4]="Wrong document",4);jr.INVALID_CHARACTER_ERR=(mr[5]="Invalid character",5);jr.NO_DATA_ALLOWED_ERR=(mr[6]="No data allowed",6);jr.NO_MODIFICATION_ALLOWED_ERR=(mr[7]="No modification allowed",7);var kx=jr.NOT_FOUND_ERR=(mr[8]="Not found",8);jr.NOT_SUPPORTED_ERR=(mr[9]="Not supported",9);var Vy=jr.INUSE_ATTRIBUTE_ERR=(mr[10]="Attribute in use",10);jr.INVALID_STATE_ERR=(mr[11]="Invalid state",11);jr.SYNTAX_ERR=(mr[12]="Syntax error",12);jr.INVALID_MODIFICATION_ERR=(mr[13]="Invalid modification",13);jr.NAMESPACE_ERR=(mr[14]="Invalid namespace",14);jr.INVALID_ACCESS_ERR=(mr[15]="Invalid access",15);function tr(r,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,mr[r]),this.message=mr[r],Error.captureStackTrace&&Error.captureStackTrace(this,tr);return n.code=r,e&&(this.message=this.message+": "+e),n}tr.prototype=Error.prototype;Yl(jr,tr);function Gi(){}Gi.prototype={length:0,item:function(r){return r>=0&&r<this.length?this[r]:null},toString:function(r,e){for(var n=[],i=0;i<this.length;i++)yo(this[i],n,r,e);return n.join("")},filter:function(r){return Array.prototype.filter.call(this,r)},indexOf:function(r){return Array.prototype.indexOf.call(this,r)}};function jo(r,e){this._node=r,this._refresh=e,iv(this)}function iv(r){var e=r._node._inc||r._node.ownerDocument._inc;if(r._inc!==e){var n=r._refresh(r._node);if(jx(r,"length",n.length),!r.$$length||n.length<r.$$length)for(var i=n.length;i in r;i++)Object.prototype.hasOwnProperty.call(r,i)&&delete r[i];Yl(n,r),r._inc=e}}jo.prototype.item=function(r){return iv(this),this[r]||null};sn(jo,Gi);function rf(){}function Dx(r,e){for(var n=r.length;n--;)if(r[n]===e)return n}function Hy(r,e,n,i){if(i?e[Dx(e,i)]=n:e[e.length++]=n,r){n.ownerElement=r;var t=r.ownerDocument;t&&(i&&Ox(t,r,i),TL(t,r,n))}}function qy(r,e,n){var i=Dx(e,n);if(i>=0){for(var t=e.length-1;i<t;)e[i]=e[++i];if(e.length=t,r){var a=r.ownerDocument;a&&(Ox(a,r,n),n.ownerElement=null)}}else throw new tr(kx,new Error(r.tagName+"@"+n))}rf.prototype={length:0,item:Gi.prototype.item,getNamedItem:function(r){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==r)return n}},setNamedItem:function(r){var e=r.ownerElement;if(e&&e!=this._ownerElement)throw new tr(Vy);var n=this.getNamedItem(r.nodeName);return Hy(this._ownerElement,this,r,n),n},setNamedItemNS:function(r){var e=r.ownerElement,n;if(e&&e!=this._ownerElement)throw new tr(Vy);return n=this.getNamedItemNS(r.namespaceURI,r.localName),Hy(this._ownerElement,this,r,n),n},removeNamedItem:function(r){var e=this.getNamedItem(r);return qy(this._ownerElement,this,e),e},removeNamedItemNS:function(r,e){var n=this.getNamedItemNS(r,e);return qy(this._ownerElement,this,n),n},getNamedItemNS:function(r,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==r)return i}return null}};function Px(){}Px.prototype={hasFeature:function(r,e){return!0},createDocument:function(r,e,n){var i=new Ql;if(i.implementation=this,i.childNodes=new Gi,i.doctype=n||null,n&&i.appendChild(n),e){var t=i.createElementNS(r,e);i.appendChild(t)}return i},createDocumentType:function(r,e,n){var i=new Gf;return i.name=r,i.nodeName=r,i.publicId=e||"",i.systemId=n||"",i}};function Et(){}Et.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,e){return nf(this,r,e)},replaceChild:function(r,e){nf(this,r,e,Rx),e&&this.removeChild(e)},removeChild:function(r){return Lx(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return Zg(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var e=r.nextSibling;e&&e.nodeType==tf&&r.nodeType==tf?(this.removeChild(e),r.appendData(e.data)):(r.normalize(),r=e)}},isSupported:function(r,e){return this.ownerDocument.implementation.hasFeature(r,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===r)return i}e=e.nodeType==Uo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(r){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r];e=e.nodeType==Uo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(r){var e=this.lookupPrefix(r);return e==null}};function Ix(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}Yl(on,Et);Yl(on,Et.prototype);function Ol(r,e){if(e(r))return!0;if(r=r.firstChild)do if(Ol(r,e))return!0;while(r=r.nextSibling)}function Ql(){this.ownerDocument=this}function TL(r,e,n){r&&r._inc++;var i=n.namespaceURI;i===Il.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function Ox(r,e,n,i){r&&r._inc++;var t=n.namespaceURI;t===Il.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function av(r,e,n){if(r&&r._inc){r._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var t=e.firstChild,a=0;t;)i[a++]=t,t=t.nextSibling;i.length=a,delete i[i.length]}}}function Lx(r,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:r.firstChild=i,i?i.previousSibling=n:r.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,av(r.ownerDocument,r),e}function SL(r){return r&&(r.nodeType===Et.DOCUMENT_NODE||r.nodeType===Et.DOCUMENT_FRAGMENT_NODE||r.nodeType===Et.ELEMENT_NODE)}function xL(r){return r&&(pi(r)||sv(r)||Yi(r)||r.nodeType===Et.DOCUMENT_FRAGMENT_NODE||r.nodeType===Et.COMMENT_NODE||r.nodeType===Et.PROCESSING_INSTRUCTION_NODE)}function Yi(r){return r&&r.nodeType===Et.DOCUMENT_TYPE_NODE}function pi(r){return r&&r.nodeType===Et.ELEMENT_NODE}function sv(r){return r&&r.nodeType===Et.TEXT_NODE}function Wy(r,e){var n=r.childNodes||[];if(hi(n,pi)||Yi(e))return!1;var i=hi(n,Yi);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function Gy(r,e){var n=r.childNodes||[];function i(a){return pi(a)&&a!==e}if(hi(n,i))return!1;var t=hi(n,Yi);return!(e&&t&&n.indexOf(t)>n.indexOf(e))}function EL(r,e,n){if(!SL(r))throw new tr(rn,"Unexpected parent node type "+r.nodeType);if(n&&n.parentNode!==r)throw new tr(kx,"child not in parent");if(!xL(e)||Yi(e)&&r.nodeType!==Et.DOCUMENT_NODE)throw new tr(rn,"Unexpected node type "+e.nodeType+" for parent node type "+r.nodeType)}function wL(r,e,n){var i=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===Et.DOCUMENT_FRAGMENT_NODE){var a=t.filter(pi);if(a.length>1||hi(t,sv))throw new tr(rn,"More than one element or text in fragment");if(a.length===1&&!Wy(r,n))throw new tr(rn,"Element in fragment can not be inserted before doctype")}if(pi(e)&&!Wy(r,n))throw new tr(rn,"Only one element can be added and only after doctype");if(Yi(e)){if(hi(i,Yi))throw new tr(rn,"Only one doctype is allowed");var s=hi(i,pi);if(n&&i.indexOf(s)<i.indexOf(n))throw new tr(rn,"Doctype can only be inserted before an element");if(!n&&s)throw new tr(rn,"Doctype can not be appended since element is present")}}function Rx(r,e,n){var i=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===Et.DOCUMENT_FRAGMENT_NODE){var a=t.filter(pi);if(a.length>1||hi(t,sv))throw new tr(rn,"More than one element or text in fragment");if(a.length===1&&!Gy(r,n))throw new tr(rn,"Element in fragment can not be inserted before doctype")}if(pi(e)&&!Gy(r,n))throw new tr(rn,"Only one element can be added and only after doctype");if(Yi(e)){if(hi(i,function(d){return Yi(d)&&d!==n}))throw new tr(rn,"Only one doctype is allowed");var s=hi(i,pi);if(n&&i.indexOf(s)<i.indexOf(n))throw new tr(rn,"Doctype can only be inserted before an element")}}function nf(r,e,n,i){EL(r,e,n),r.nodeType===Et.DOCUMENT_NODE&&(i||wL)(r,e,n);var t=e.parentNode;if(t&&t.removeChild(e),e.nodeType===Ji){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var l=n?n.previousSibling:r.lastChild;a.previousSibling=l,s.nextSibling=n,l?l.nextSibling=a:r.firstChild=a,n==null?r.lastChild=s:n.previousSibling=s;do a.parentNode=r;while(a!==s&&(a=a.nextSibling));return av(r.ownerDocument||r,r),e.nodeType==Ji&&(e.firstChild=e.lastChild=null),e}function CL(r,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=r,e.previousSibling=r.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:r.firstChild=e,r.lastChild=e,av(r.ownerDocument,r,e),e}Ql.prototype={nodeName:"#document",nodeType:Cx,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,e){if(r.nodeType==Ji){for(var n=r.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return r}return nf(this,r,e),r.ownerDocument=this,this.documentElement===null&&r.nodeType===Vn&&(this.documentElement=r),r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),Lx(this,r)},replaceChild:function(r,e){nf(this,r,e,Rx),r.ownerDocument=this,e&&this.removeChild(e),pi(r)&&(this.documentElement=r)},importNode:function(r,e){return Ux(this,r,e)},getElementById:function(r){var e=null;return Ol(this.documentElement,function(n){if(n.nodeType==Vn&&n.getAttribute("id")==r)return e=n,!0}),e},getElementsByClassName:function(r){var e=$y(r);return new jo(this,function(n){var i=[];return e.length>0&&Ol(n.documentElement,function(t){if(t!==n&&t.nodeType===Vn){var a=t.getAttribute("class");if(a){var s=r===a;if(!s){var l=$y(a);s=e.every(_L(l))}s&&i.push(t)}}}),i})},createElement:function(r){var e=new Ns;e.ownerDocument=this,e.nodeName=r,e.tagName=r,e.localName=r,e.childNodes=new Gi;var n=e.attributes=new rf;return n._ownerElement=e,e},createDocumentFragment:function(){var r=new zf;return r.ownerDocument=this,r.childNodes=new Gi,r},createTextNode:function(r){var e=new ov;return e.ownerDocument=this,e.appendData(r),e},createComment:function(r){var e=new uv;return e.ownerDocument=this,e.appendData(r),e},createCDATASection:function(r){var e=new lv;return e.ownerDocument=this,e.appendData(r),e},createProcessingInstruction:function(r,e){var n=new dv;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=r,n.nodeValue=n.data=e,n},createAttribute:function(r){var e=new af;return e.ownerDocument=this,e.name=r,e.nodeName=r,e.localName=r,e.specified=!0,e},createEntityReference:function(r){var e=new cv;return e.ownerDocument=this,e.nodeName=r,e},createElementNS:function(r,e){var n=new Ns,i=e.split(":"),t=n.attributes=new rf;return n.childNodes=new Gi,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=r,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,t._ownerElement=n,n},createAttributeNS:function(r,e){var n=new af,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=r,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};sn(Ql,Et);function Ns(){this._nsMap={}}Ns.prototype={nodeType:Vn,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var e=this.getAttributeNode(r);return e&&e.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,e){var n=this.ownerDocument.createAttribute(r);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(r){var e=this.getAttributeNode(r);e&&this.removeAttributeNode(e)},appendChild:function(r){return r.nodeType===Ji?this.insertBefore(r,null):CL(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,e){var n=this.getAttributeNodeNS(r,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(r,e){return this.getAttributeNodeNS(r,e)!=null},getAttributeNS:function(r,e){var n=this.getAttributeNodeNS(r,e);return n&&n.value||""},setAttributeNS:function(r,e,n){var i=this.ownerDocument.createAttributeNS(r,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(r,e){return this.attributes.getNamedItemNS(r,e)},getElementsByTagName:function(r){return new jo(this,function(e){var n=[];return Ol(e,function(i){i!==e&&i.nodeType==Vn&&(r==="*"||i.tagName==r)&&n.push(i)}),n})},getElementsByTagNameNS:function(r,e){return new jo(this,function(n){var i=[];return Ol(n,function(t){t!==n&&t.nodeType===Vn&&(r==="*"||t.namespaceURI===r)&&(e==="*"||t.localName==e)&&i.push(t)}),i})}};Ql.prototype.getElementsByTagName=Ns.prototype.getElementsByTagName;Ql.prototype.getElementsByTagNameNS=Ns.prototype.getElementsByTagNameNS;sn(Ns,Et);function af(){}af.prototype.nodeType=Uo;sn(af,Et);function Zl(){}Zl.prototype={data:"",substringData:function(r,e){return this.data.substring(r,r+e)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,e){this.replaceData(r,0,e)},appendChild:function(r){throw new Error(mr[rn])},deleteData:function(r,e){this.replaceData(r,e,"")},replaceData:function(r,e,n){var i=this.data.substring(0,r),t=this.data.substring(r+e);n=i+n+t,this.nodeValue=this.data=n,this.length=n.length}};sn(Zl,Et);function ov(){}ov.prototype={nodeName:"#text",nodeType:tf,splitText:function(r){var e=this.data,n=e.substring(r);e=e.substring(0,r),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};sn(ov,Zl);function uv(){}uv.prototype={nodeName:"#comment",nodeType:wx};sn(uv,Zl);function lv(){}lv.prototype={nodeName:"#cdata-section",nodeType:Sx};sn(lv,Zl);function Gf(){}Gf.prototype.nodeType=Ax;sn(Gf,Et);function Nx(){}Nx.prototype.nodeType=bL;sn(Nx,Et);function Fx(){}Fx.prototype.nodeType=yL;sn(Fx,Et);function cv(){}cv.prototype.nodeType=xx;sn(cv,Et);function zf(){}zf.prototype.nodeName="#document-fragment";zf.prototype.nodeType=Ji;sn(zf,Et);function dv(){}dv.prototype.nodeType=Ex;sn(dv,Et);function Mx(){}Mx.prototype.serializeToString=function(r,e,n){return Bx.call(r,e,n)};Et.prototype.toString=Bx;function Bx(r,e){var n=[],i=this.nodeType==9&&this.documentElement||this,t=i.prefix,a=i.namespaceURI;if(a&&t==null){var t=i.lookupPrefix(a);if(t==null)var s=[{namespace:a,prefix:null}]}return yo(this,n,r,e,s),n.join("")}function zy(r,e,n){var i=r.prefix||"",t=r.namespaceURI;if(!t||i==="xml"&&t===Il.XML||t===Il.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==t}return!0}function ng(r,e,n){r.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,Ix),'"')}function yo(r,e,n,i,t){if(t||(t=[]),i)if(r=i(r),r){if(typeof r=="string"){e.push(r);return}}else return;switch(r.nodeType){case Vn:var a=r.attributes,s=a.length,R=r.firstChild,l=r.tagName;n=Il.isHTML(r.namespaceURI)||n;var d=l;if(!n&&!r.prefix&&r.namespaceURI){for(var f,h=0;h<a.length;h++)if(a.item(h).name==="xmlns"){f=a.item(h).value;break}if(!f)for(var g=t.length-1;g>=0;g--){var v=t[g];if(v.prefix===""&&v.namespace===r.namespaceURI){f=v.namespace;break}}if(f!==r.namespaceURI)for(var g=t.length-1;g>=0;g--){var v=t[g];if(v.namespace===r.namespaceURI){v.prefix&&(d=v.prefix+":"+l);break}}}e.push("<",d);for(var T=0;T<s;T++){var A=a.item(T);A.prefix=="xmlns"?t.push({prefix:A.localName,namespace:A.value}):A.nodeName=="xmlns"&&t.push({prefix:"",namespace:A.value})}for(var T=0;T<s;T++){var A=a.item(T);if(zy(A,n,t)){var P=A.prefix||"",D=A.namespaceURI;ng(e,P?"xmlns:"+P:"xmlns",D),t.push({prefix:P,namespace:D})}yo(A,e,n,i,t)}if(l===d&&zy(r,n,t)){var P=r.prefix||"",D=r.namespaceURI;ng(e,P?"xmlns:"+P:"xmlns",D),t.push({prefix:P,namespace:D})}if(R||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;R;)R.data?e.push(R.data):yo(R,e,n,i,t.slice()),R=R.nextSibling;else for(;R;)yo(R,e,n,i,t.slice()),R=R.nextSibling;e.push("</",d,">")}else e.push("/>");return;case Cx:case Ji:for(var R=r.firstChild;R;)yo(R,e,n,i,t.slice()),R=R.nextSibling;return;case Uo:return ng(e,r.name,r.value);case tf:return e.push(r.data.replace(/[<&>]/g,Ix));case Sx:return e.push("<![CDATA[",r.data,"]]>");case wx:return e.push("<!--",r.data,"-->");case Ax:var M=r.publicId,$=r.systemId;if(e.push("<!DOCTYPE ",r.name),M)e.push(" PUBLIC ",M),$&&$!="."&&e.push(" ",$),e.push(">");else if($&&$!=".")e.push(" SYSTEM ",$,">");else{var U=r.internalSubset;U&&e.push(" [",U,"]"),e.push(">")}return;case Ex:return e.push("<?",r.target," ",r.data,"?>");case xx:return e.push("&",r.nodeName,";");default:e.push("??",r.nodeName)}}function Ux(r,e,n){var i;switch(e.nodeType){case Vn:i=e.cloneNode(!1),i.ownerDocument=r;case Ji:break;case Uo:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=r,i.parentNode=null,n)for(var t=e.firstChild;t;)i.appendChild(Ux(r,t,n)),t=t.nextSibling;return i}function Zg(r,e,n){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];typeof a!="object"&&a!=i[t]&&(i[t]=a)}switch(e.childNodes&&(i.childNodes=new Gi),i.ownerDocument=r,i.nodeType){case Vn:var s=e.attributes,l=i.attributes=new rf,d=s.length;l._ownerElement=i;for(var f=0;f<d;f++)i.setAttributeNode(Zg(r,s.item(f),!0));break;case Uo:n=!0}if(n)for(var h=e.firstChild;h;)i.appendChild(Zg(r,h,n)),h=h.nextSibling;return i}function jx(r,e,n){r[e]=n}try{if(Object.defineProperty){let r=function(e){switch(e.nodeType){case Vn:case Ji:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(r(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(jo.prototype,"length",{get:function(){return iv(this),this.$$length}}),Object.defineProperty(Et.prototype,"textContent",{get:function(){return r(this)},set:function(e){switch(this.nodeType){case Vn:case Ji:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),jx=function(e,n,i){e["$$"+n]=i}}}catch{}Ha.DocumentType=Gf;Ha.DOMException=tr;Ha.DOMImplementation=Px;Ha.Element=Ns;Ha.Node=Et;Ha.NodeList=Gi;Ha.XMLSerializer=Mx;var Kf={},$x={};(function(r){var e=ia.freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}),r.entityMap=r.HTML_ENTITIES})($x);var fv={},Ll=ia.NAMESPACE,em=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ky=new RegExp("[\\-\\.0-9"+em.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Xy=new RegExp("^"+em.source+Ky.source+"*(?::"+em.source+Ky.source+"*)?$"),zu=0,Ca=1,co=2,Ku=3,fo=4,ho=5,Xu=6,gd=7;function $o(r,e){this.message=r,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,$o)}$o.prototype=new Error;$o.prototype.name=$o.name;function Vx(){}Vx.prototype={parse:function(r,e,n){var i=this.domBuilder;i.startDocument(),Hx(e,e={}),AL(r,e,n,i,this.errorHandler),i.endDocument()}};function AL(r,e,n,i,t){function a(ke){if(ke>65535){ke-=65536;var ge=55296+(ke>>10),Ee=56320+(ke&1023);return String.fromCharCode(ge,Ee)}else return String.fromCharCode(ke)}function s(ke){var ge=ke.slice(1,-1);return Object.hasOwnProperty.call(n,ge)?n[ge]:ge.charAt(0)==="#"?a(parseInt(ge.substr(1).replace("x","0x"))):(t.error("entity not found:"+ke),ke)}function l(ke){if(ke>P){var ge=r.substring(P,ke).replace(/&#?\w+;/g,s);v&&d(P),i.characters(ge,0,ke-P),P=ke}}function d(ke,ge){for(;ke>=h&&(ge=g.exec(r));)f=ge.index,h=f+ge[0].length,v.lineNumber++;v.columnNumber=ke-f+1}for(var f=0,h=0,g=/.*(?:\r\n?|\n)|.*$/g,v=i.locator,T=[{currentNSMap:e}],A={},P=0;;){try{var D=r.indexOf("<",P);if(D<0){if(!r.substr(P).match(/^\s*$/)){var R=i.doc,M=R.createTextNode(r.substr(P));R.appendChild(M),i.currentElement=M}return}switch(D>P&&l(D),r.charAt(D+1)){case"/":var ee=r.indexOf(">",D+3),$=r.substring(D+2,ee).replace(/[ \t\n\r]+$/g,""),U=T.pop();ee<0?($=r.substring(D+2).replace(/[\s<].*/,""),t.error("end tag name: "+$+" is not complete:"+U.tagName),ee=D+1+$.length):$.match(/\s</)&&($=$.replace(/[\s<].*/,""),t.error("end tag name: "+$+" maybe not complete"),ee=D+1+$.length);var J=U.localNSMap,te=U.tagName==$,H=te||U.tagName&&U.tagName.toLowerCase()==$.toLowerCase();if(H){if(i.endElement(U.uri,U.localName,$),J)for(var V in J)Object.prototype.hasOwnProperty.call(J,V)&&i.endPrefixMapping(V);te||t.fatalError("end tag name: "+$+" is not match the current start tagName:"+U.tagName)}else T.push(U);ee++;break;case"?":v&&d(D),ee=OL(r,D,i);break;case"!":v&&d(D),ee=IL(r,D,i,t);break;default:v&&d(D);var X=new qx,K=T[T.length-1].currentNSMap,ee=kL(r,D,X,K,s,t),Z=X.length;if(!X.closed&&PL(r,ee,X.tagName,A)&&(X.closed=!0,n.nbsp||t.warning("unclosed xml attribute")),v&&Z){for(var ue=Jy(v,{}),Me=0;Me<Z;Me++){var Ue=X[Me];d(Ue.offset),Ue.locator=Jy(v,{})}i.locator=ue,Yy(X,i,K)&&T.push(X),i.locator=v}else Yy(X,i,K)&&T.push(X);Ll.isHTML(X.uri)&&!X.closed?ee=DL(r,ee,X.tagName,s,i):ee++}}catch(ke){if(ke instanceof $o)throw ke;t.error("element parse error: "+ke),ee=-1}ee>P?P=ee:l(Math.max(D,P)+1)}}function Jy(r,e){return e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber,e}function kL(r,e,n,i,t,a){function s(v,T,A){n.attributeNames.hasOwnProperty(v)&&a.fatalError("Attribute "+v+" redefined"),n.addValue(v,T.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,t),A)}for(var l,d,f=++e,h=zu;;){var g=r.charAt(f);switch(g){case"=":if(h===Ca)l=r.slice(e,f),h=Ku;else if(h===co)h=Ku;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===Ku||h===Ca)if(h===Ca&&(a.warning('attribute value must after "="'),l=r.slice(e,f)),e=f+1,f=r.indexOf(g,e),f>0)d=r.slice(e,f),s(l,d,e-1),h=ho;else throw new Error("attribute value no end '"+g+"' match");else if(h==fo)d=r.slice(e,f),s(l,d,e),a.warning('attribute "'+l+'" missed start quot('+g+")!!"),e=f+1,h=ho;else throw new Error('attribute value must after "="');break;case"/":switch(h){case zu:n.setTagName(r.slice(e,f));case ho:case Xu:case gd:h=gd,n.closed=!0;case fo:case Ca:break;case co:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),h==zu&&n.setTagName(r.slice(e,f)),f;case">":switch(h){case zu:n.setTagName(r.slice(e,f));case ho:case Xu:case gd:break;case fo:case Ca:d=r.slice(e,f),d.slice(-1)==="/"&&(n.closed=!0,d=d.slice(0,-1));case co:h===co&&(d=l),h==fo?(a.warning('attribute "'+d+'" missed quot(")!'),s(l,d,e)):((!Ll.isHTML(i[""])||!d.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,e));break;case Ku:throw new Error("attribute value missed!!")}return f;case"\x80":g=" ";default:if(g<=" ")switch(h){case zu:n.setTagName(r.slice(e,f)),h=Xu;break;case Ca:l=r.slice(e,f),h=co;break;case fo:var d=r.slice(e,f);a.warning('attribute "'+d+'" missed quot(")!!'),s(l,d,e);case ho:h=Xu;break}else switch(h){case co:n.tagName,(!Ll.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,e),e=f,h=Ca;break;case ho:a.warning('attribute space is required"'+l+'"!!');case Xu:h=Ca,e=f;break;case Ku:h=fo,e=f;break;case gd:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function Yy(r,e,n){for(var i=r.tagName,t=null,g=r.length;g--;){var a=r[g],s=a.qName,l=a.value,v=s.indexOf(":");if(v>0)var d=a.prefix=s.slice(0,v),f=s.slice(v+1),h=d==="xmlns"&&f;else f=s,d=null,h=s==="xmlns"&&"";a.localName=f,h!==!1&&(t==null&&(t={},Hx(n,n={})),n[h]=t[h]=l,a.uri=Ll.XMLNS,e.startPrefixMapping(h,l))}for(var g=r.length;g--;){a=r[g];var d=a.prefix;d&&(d==="xml"&&(a.uri=Ll.XML),d!=="xmlns"&&(a.uri=n[d||""]))}var v=i.indexOf(":");v>0?(d=r.prefix=i.slice(0,v),f=r.localName=i.slice(v+1)):(d=null,f=r.localName=i);var T=r.uri=n[d||""];if(e.startElement(T,f,i,r),r.closed){if(e.endElement(T,f,i),t)for(d in t)Object.prototype.hasOwnProperty.call(t,d)&&e.endPrefixMapping(d)}else return r.currentNSMap=n,r.localNSMap=t,!0}function DL(r,e,n,i,t){if(/^(?:script|textarea)$/i.test(n)){var a=r.indexOf("</"+n+">",e),s=r.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(t.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),t.characters(s,0,s.length),a)}return e+1}function PL(r,e,n,i){var t=i[n];return t==null&&(t=r.lastIndexOf("</"+n+">"),t<e&&(t=r.lastIndexOf("</"+n)),i[n]=t),t<e}function Hx(r,e){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}function IL(r,e,n,i){var t=r.charAt(e+2);switch(t){case"-":if(r.charAt(e+3)==="-"){var a=r.indexOf("-->",e+4);return a>e?(n.comment(r,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(r.substr(e+3,6)=="CDATA["){var a=r.indexOf("]]>",e+9);return n.startCDATA(),n.characters(r,e+9,a-e-9),n.endCDATA(),a+3}var s=LL(r,e),l=s.length;if(l>1&&/!doctype/i.test(s[0][0])){var d=s[1][0],f=!1,h=!1;l>3&&(/^public$/i.test(s[2][0])?(f=s[3][0],h=l>4&&s[4][0]):/^system$/i.test(s[2][0])&&(h=s[3][0]));var g=s[l-1];return n.startDTD(d,f,h),n.endDTD(),g.index+g[0].length}}return-1}function OL(r,e,n){var i=r.indexOf("?>",e);if(i){var t=r.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,n.processingInstruction(t[1],t[2]),i+2):-1}return-1}function qx(){this.attributeNames={}}qx.prototype={setTagName:function(r){if(!Xy.test(r))throw new Error("invalid tagName:"+r);this.tagName=r},addValue:function(r,e,n){if(!Xy.test(r))throw new Error("invalid attribute:"+r);this.attributeNames[r]=this.length,this[this.length++]={qName:r,value:e,offset:n}},length:0,getLocalName:function(r){return this[r].localName},getLocator:function(r){return this[r].locator},getQName:function(r){return this[r].qName},getURI:function(r){return this[r].uri},getValue:function(r){return this[r].value}};function LL(r,e){var n,i=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(r);n=t.exec(r);)if(i.push(n),n[1])return i}fv.XMLReader=Vx;fv.ParseError=$o;var RL=ia,NL=Ha,Qy=$x,Wx=fv,FL=NL.DOMImplementation,Zy=RL.NAMESPACE,ML=Wx.ParseError,BL=Wx.XMLReader;function Gx(r){return r.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function zx(r){this.options=r||{locator:{}}}zx.prototype.parseFromString=function(r,e){var n=this.options,i=new BL,t=n.domBuilder||new ec,a=n.errorHandler,s=n.locator,l=n.xmlns||{},d=/\/x?html?$/.test(e),f=d?Qy.HTML_ENTITIES:Qy.XML_ENTITIES;s&&t.setDocumentLocator(s),i.errorHandler=UL(a,t,s),i.domBuilder=n.domBuilder||t,d&&(l[""]=Zy.HTML),l.xml=l.xml||Zy.XML;var h=n.normalizeLineEndings||Gx;return r&&typeof r=="string"?i.parse(h(r),l,f):i.errorHandler.error("invalid doc source"),t.doc};function UL(r,e,n){if(!r){if(e instanceof ec)return e;r=e}var i={},t=r instanceof Function;n=n||{};function a(s){var l=r[s];!l&&t&&(l=r.length==2?function(d){r(s,d)}:r),i[s]=l&&function(d){l("[xmldom "+s+"]	"+d+tm(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function ec(){this.cdata=!1}function po(r,e){e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber}ec.prototype={startDocument:function(){this.doc=new FL().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(r,e,n,i){var t=this.doc,a=t.createElementNS(r,n||e),s=i.length;md(this,a),this.currentElement=a,this.locator&&po(this.locator,a);for(var l=0;l<s;l++){var r=i.getURI(l),d=i.getValue(l),n=i.getQName(l),f=t.createAttributeNS(r,n);this.locator&&po(i.getLocator(l),f),f.value=f.nodeValue=d,a.setAttributeNode(f)}},endElement:function(r,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(r,e){},endPrefixMapping:function(r){},processingInstruction:function(r,e){var n=this.doc.createProcessingInstruction(r,e);this.locator&&po(this.locator,n),md(this,n)},ignorableWhitespace:function(r,e,n){},characters:function(r,e,n){if(r=eb.apply(this,arguments),r){if(this.cdata)var i=this.doc.createCDATASection(r);else var i=this.doc.createTextNode(r);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(r)&&this.doc.appendChild(i),this.locator&&po(this.locator,i)}},skippedEntity:function(r){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(r){(this.locator=r)&&(r.lineNumber=0)},comment:function(r,e,n){r=eb.apply(this,arguments);var i=this.doc.createComment(r);this.locator&&po(this.locator,i),md(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(r,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var t=i.createDocumentType(r,e,n);this.locator&&po(this.locator,t),md(this,t),this.doc.doctype=t}},warning:function(r){console.warn("[xmldom warning]	"+r,tm(this.locator))},error:function(r){console.error("[xmldom error]	"+r,tm(this.locator))},fatalError:function(r){throw new ML(r,this.locator)}};function tm(r){if(r)return`
@`+(r.systemId||"")+"#[line:"+r.lineNumber+",col:"+r.columnNumber+"]"}function eb(r,e,n){return typeof r=="string"?r.substr(e,n):r.length>=e+n||e?new java.lang.String(r,e,n)+"":r}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(r){ec.prototype[r]=function(){return null}});function md(r,e){r.currentElement?r.currentElement.appendChild(e):r.doc.appendChild(e)}Kf.__DOMHandler=ec;Kf.normalizeLineEndings=Gx;Kf.DOMParser=zx;var jL=Kf.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var tb=function(e){return!!e&&typeof e=="object"},Wr=function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(t,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(t[s])&&Array.isArray(a[s])?t[s]=t[s].concat(a[s]):tb(t[s])&&tb(a[s])?t[s]=r(t[s],a[s]):t[s]=a[s]}),t},{})},Kx=function(e){return Object.keys(e).map(function(n){return e[n]})},$L=function(e,n){for(var i=[],t=e;t<n;t++)i.push(t);return i},Xf=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},Xx=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},VL=function(e,n){return e.reduce(function(i,t,a){return t[n]&&i.push(a),i},[])},rm=function(e,n){for(var i=0;i<e.length;i++)if(n(e[i]))return i;return-1},HL=function(e,n){return Kx(e.reduce(function(i,t){return t.forEach(function(a){i[n(a)]=a}),i},{}))},Vo={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Rl=function(e){var n=e.baseUrl,i=n===void 0?"":n,t=e.source,a=t===void 0?"":t,s=e.range,l=s===void 0?"":s,d=e.indexRange,f=d===void 0?"":d,h={uri:a,resolvedUri:Wf(i||"",a)};if(l||f){var g=l||f,v=g.split("-"),T=j.BigInt?j.BigInt(v[0]):parseInt(v[0],10),A=j.BigInt?j.BigInt(v[1]):parseInt(v[1],10);T<Number.MAX_SAFE_INTEGER&&typeof T=="bigint"&&(T=Number(T)),A<Number.MAX_SAFE_INTEGER&&typeof A=="bigint"&&(A=Number(A));var P;typeof A=="bigint"||typeof T=="bigint"?P=j.BigInt(A)-j.BigInt(T)+j.BigInt(1):P=A-T+1,typeof P=="bigint"&&P<Number.MAX_SAFE_INTEGER&&(P=Number(P)),h.byterange={length:P,offset:T}}return h},qL=function(e){var n;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=j.BigInt(e.offset)+j.BigInt(e.length)-j.BigInt(1):n=e.offset+e.length-1,e.offset+"-"+n},rb=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},WL={static:function(e){var n=e.duration,i=e.timescale,t=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,l=rb(e.endNumber),d=n/t;return typeof l=="number"?{start:0,end:l}:typeof s=="number"?{start:0,end:s/d}:{start:0,end:a/d}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,t=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,l=e.duration,d=e.periodStart,f=d===void 0?0:d,h=e.minimumUpdatePeriod,g=h===void 0?0:h,v=e.timeShiftBufferDepth,T=v===void 0?1/0:v,A=rb(e.endNumber),P=(n+i)/1e3,D=t+f,R=P+g,M=R-D,$=Math.ceil(M*s/l),U=Math.floor((P-D-T)*s/l),J=Math.floor((P-D)*s/l);return{start:Math.max(0,U),end:typeof A=="number"?A:Math.min($,J)}}},GL=function(e){return function(n){var i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodStart,l=e.startNumber,d=l===void 0?1:l;return{number:d+n,duration:i/a,timeline:s,time:n*i}}},hv=function(e){var n=e.type,i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodDuration,l=e.sourceDuration,d=WL[n](e),f=d.start,h=d.end,g=$L(f,h).map(GL(e));if(n==="static"){var v=g.length-1,T=typeof s=="number"?s:l;g[v].duration=T-i/a*v}return g},Jx=function(e){var n=e.baseUrl,i=e.initialization,t=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,l=s===void 0?"":s,d=e.periodStart,f=e.presentationTime,h=e.number,g=h===void 0?0:h,v=e.duration;if(!n)throw new Error(Vo.NO_BASE_URL);var T=Rl({baseUrl:n,source:t.sourceURL,range:t.range}),A=Rl({baseUrl:n,source:n,indexRange:l});if(A.map=T,v){var P=hv(e);P.length&&(A.duration=P[0].duration,A.timeline=P[0].timeline)}else a&&(A.duration=a,A.timeline=d);return A.presentationTime=f||d,A.number=g,[A]},pv=function(e,n,i){var t=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,l=e.sidx.byterange,d=l.offset+l.length,f=n.timescale,h=n.references.filter(function(X){return X.referenceType!==1}),g=[],v=e.endList?"static":"dynamic",T=e.sidx.timeline,A=T,P=e.mediaSequence||0,D;typeof n.firstOffset=="bigint"?D=j.BigInt(d)+n.firstOffset:D=d+n.firstOffset;for(var R=0;R<h.length;R++){var M=n.references[R],$=M.referencedSize,U=M.subsegmentDuration,J=void 0;typeof D=="bigint"?J=D+j.BigInt($)-j.BigInt(1):J=D+$-1;var te=D+"-"+J,H={baseUrl:i,timescale:f,timeline:s,periodStart:T,presentationTime:A,number:P,duration:U,sourceDuration:a,indexRange:te,type:v},V=Jx(H)[0];t&&(V.map=t),g.push(V),typeof D=="bigint"?D+=j.BigInt($):D+=$,A+=U/f,P++}return e.segments=g,e},zL=["AUDIO","SUBTITLES"],KL=1/60,Yx=function(e){return HL(e,function(n){var i=n.timeline;return i}).sort(function(n,i){return n.timeline>i.timeline?1:-1})},XL=function(e,n){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===n)return e[i];return null},nb=function(e){var n=[];return fL(e,zL,function(i,t,a,s){n=n.concat(i.playlists||[])}),n},ib=function(e){var n=e.playlist,i=e.mediaSequence;n.mediaSequence=i,n.segments.forEach(function(t,a){t.number=n.mediaSequence+a})},JL=function(e){var n=e.oldPlaylists,i=e.newPlaylists,t=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=rm(t,function(h){var g=h.timeline;return g===a.timeline});var s=XL(n,a.attributes.NAME);if(!!s&&!a.sidx){var l=a.segments[0],d=rm(s.segments,function(h){return Math.abs(h.presentationTime-l.presentationTime)<KL});if(d===-1){ib({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var f=s.segments[d];f.discontinuity&&!l.discontinuity&&(l.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),ib({playlist:a,mediaSequence:s.segments[d].number})}})},YL=function(e){var n=e.oldManifest,i=e.newManifest,t=n.playlists.concat(nb(n)),a=i.playlists.concat(nb(i));return i.timelineStarts=Yx([n.timelineStarts,i.timelineStarts]),JL({oldPlaylists:t,newPlaylists:a,timelineStarts:i.timelineStarts}),i},Jf=function(e){return e&&e.uri+"-"+qL(e.byterange)},ig=function(e){var n=Kx(e.reduce(function(i,t){var a=t.attributes.id+(t.attributes.lang||"");if(!i[a])i[a]=t,i[a].attributes.timelineStarts=[];else{if(t.segments){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,t.segments)}t.attributes.contentProtection&&(i[a].attributes.contentProtection=t.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),i},{}));return n.map(function(i){return i.discontinuityStarts=VL(i.segments||[],"discontinuity"),i})},gv=function(e,n){var i=Jf(e.sidx),t=i&&n[i]&&n[i].sidx;return t&&pv(e,t,e.sidx.resolvedUri),e},QL=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=gv(e[i],n);return e},ZL=function(e,n){var i,t=e.attributes,a=e.segments,s=e.sidx,l=e.mediaSequence,d=e.discontinuitySequence,f=e.discontinuityStarts,h={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:d,discontinuityStarts:f,timelineStarts:t.timelineStarts,mediaSequence:l,segments:a};return t.contentProtection&&(h.contentProtection=t.contentProtection),s&&(h.sidx=s),n&&(h.attributes.AUDIO="audio",h.attributes.SUBTITLES="subs"),h},eR=function(e){var n,i=e.attributes,t=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,l=e.discontinuitySequence;typeof t>"u"&&(t=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var d=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(d.CODECS=i.codecs),{attributes:d,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:l,mediaSequence:a,segments:t}},tR=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var t,a=e.reduce(function(l,d){var f=d.attributes.role&&d.attributes.role.value||"",h=d.attributes.lang||"",g=d.attributes.label||"main";if(h&&!d.attributes.label){var v=f?" ("+f+")":"";g=""+d.attributes.lang+v}l[g]||(l[g]={language:h,autoselect:!0,default:f==="main",playlists:[],uri:""});var T=gv(ZL(d,i),n);return l[g].playlists.push(T),typeof t>"u"&&f==="main"&&(t=d,t.default=!0),l},{});if(!t){var s=Object.keys(a)[0];a[s].default=!0}return a},rR=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,t){var a=t.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(gv(eR(t),n)),i},{})},nR=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(t){var a=t.channel,s=t.language;n[s]={autoselect:!1,default:!1,instreamId:a,language:s},t.hasOwnProperty("aspectRatio")&&(n[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(n[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(n[s]["3D"]=t["3D"])}),n},{})},iR=function(e){var n,i=e.attributes,t=e.segments,a=e.sidx,s=e.discontinuityStarts,l={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:t};return i.frameRate&&(l.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(l.contentProtection=i.contentProtection),a&&(l.sidx=a),l},aR=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},sR=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},oR=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},uR=function(e,n){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=rm(n,function(t){var a=t.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(t,a){t.number=a})})},ab=function(e){return e?Object.keys(e).reduce(function(n,i){var t=e[i];return n.concat(t.playlists)},[]):[]},lR=function(e){var n,i=e.dashPlaylists,t=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,l=e.previousManifest;if(!i.length)return{};var d=i[0].attributes,f=d.sourceDuration,h=d.type,g=d.suggestedPresentationDelay,v=d.minimumUpdatePeriod,T=ig(i.filter(aR)).map(iR),A=ig(i.filter(sR)),P=ig(i.filter(oR)),D=i.map(function(H){return H.attributes.captionServices}).filter(Boolean),R={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:f,playlists:QL(T,s)};v>=0&&(R.minimumUpdatePeriod=v*1e3),t&&(R.locations=t),h==="dynamic"&&(R.suggestedPresentationDelay=g);var M=R.playlists.length===0,$=A.length?tR(A,s,M):null,U=P.length?rR(P,s):null,J=T.concat(ab($),ab(U)),te=J.map(function(H){var V=H.timelineStarts;return V});return R.timelineStarts=Yx(te),uR(J,R.timelineStarts),$&&(R.mediaGroups.AUDIO.audio=$),U&&(R.mediaGroups.SUBTITLES.subs=U),D.length&&(R.mediaGroups["CLOSED-CAPTIONS"].cc=nR(D)),l?YL({oldManifest:l,newManifest:R}):R},cR=function(e,n,i){var t=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,l=e.timescale,d=l===void 0?1:l,f=e.periodStart,h=f===void 0?0:f,g=e.minimumUpdatePeriod,v=g===void 0?0:g,T=(t+a)/1e3,A=s+h,P=T+v,D=P-A;return Math.ceil((D*d-n)/i)},Qx=function(e,n){for(var i=e.type,t=e.minimumUpdatePeriod,a=t===void 0?0:t,s=e.media,l=s===void 0?"":s,d=e.sourceDuration,f=e.timescale,h=f===void 0?1:f,g=e.startNumber,v=g===void 0?1:g,T=e.periodStart,A=[],P=-1,D=0;D<n.length;D++){var R=n[D],M=R.d,$=R.r||0,U=R.t||0;P<0&&(P=U),U&&U>P&&(P=U);var J=void 0;if($<0){var te=D+1;te===n.length?i==="dynamic"&&a>0&&l.indexOf("$Number$")>0?J=cR(e,P,M):J=(d*h-P)/M:J=(n[te].t-P)/M}else J=$+1;for(var H=v+A.length+J,V=v+A.length;V<H;)A.push({number:V,duration:M/h,time:P,timeline:T}),P+=M,V++}return A},dR=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,fR=function(e){return function(n,i,t,a){if(n==="$$")return"$";if(typeof e[i]>"u")return n;var s=""+e[i];return i==="RepresentationID"||(t?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},sb=function(e,n){return e.replace(dR,fR(n))},hR=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?hv(e):Qx(e,n)},pR=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,a=t===void 0?{sourceURL:"",range:""}:t,s=Rl({baseUrl:e.baseUrl,source:sb(a.sourceURL,i),range:a.range}),l=hR(e,n);return l.map(function(d){i.Number=d.number,i.Time=d.time;var f=sb(e.media||"",i),h=e.timescale||1,g=e.presentationTimeOffset||0,v=e.periodStart+(d.time-g)/h,T={uri:f,timeline:d.timeline,duration:d.duration,resolvedUri:Wf(e.baseUrl||"",f),map:s,number:d.number,presentationTime:v};return T})},gR=function(e,n){var i=e.baseUrl,t=e.initialization,a=t===void 0?{}:t,s=Rl({baseUrl:i,source:a.sourceURL,range:a.range}),l=Rl({baseUrl:i,source:n.media,range:n.mediaRange});return l.map=s,l},mR=function(e,n){var i=e.duration,t=e.segmentUrls,a=t===void 0?[]:t,s=e.periodStart;if(!i&&!n||i&&n)throw new Error(Vo.SEGMENT_TIME_UNSPECIFIED);var l=a.map(function(h){return gR(e,h)}),d;i&&(d=hv(e)),n&&(d=Qx(e,n));var f=d.map(function(h,g){if(l[g]){var v=l[g],T=e.timescale||1,A=e.presentationTimeOffset||0;return v.timeline=h.timeline,v.duration=h.duration,v.number=h.number,v.presentationTime=s+(h.time-A)/T,v}}).filter(function(h){return h});return f},vR=function(e){var n=e.attributes,i=e.segmentInfo,t,a;i.template?(a=pR,t=Wr(n,i.template)):i.base?(a=Jx,t=Wr(n,i.base)):i.list&&(a=mR,t=Wr(n,i.list));var s={attributes:n};if(!a)return s;var l=a(t,i.segmentTimeline);if(t.duration){var d=t,f=d.duration,h=d.timescale,g=h===void 0?1:h;t.duration=f/g}else l.length?t.duration=l.reduce(function(v,T){return Math.max(v,Math.ceil(T.duration))},0):t.duration=0;return s.attributes=t,s.segments=l,i.base&&t.indexRange&&(s.sidx=l[0],s.segments=[]),s},_R=function(e){return e.map(vR)},Zt=function(e,n){return Xx(e.childNodes).filter(function(i){var t=i.tagName;return t===n})},mv=function(e){return e.textContent.trim()},yR=function(e){return parseFloat(e.split("/").reduce(function(n,i){return n/i}))},go=function(e){var n=31536e3,i=30*24*60*60,t=24*60*60,a=60*60,s=60,l=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,d=l.exec(e);if(!d)return 0;var f=d.slice(1),h=f[0],g=f[1],v=f[2],T=f[3],A=f[4],P=f[5];return parseFloat(h||0)*n+parseFloat(g||0)*i+parseFloat(v||0)*t+parseFloat(T||0)*a+parseFloat(A||0)*s+parseFloat(P||0)},bR=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},ob={mediaPresentationDuration:function(e){return go(e)},availabilityStartTime:function(e){return bR(e)/1e3},minimumUpdatePeriod:function(e){return go(e)},suggestedPresentationDelay:function(e){return go(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return go(e)},start:function(e){return go(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return yR(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?go(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Rr=function(e){return e&&e.attributes?Xx(e.attributes).reduce(function(n,i){var t=ob[i.name]||ob.DEFAULT;return n[i.name]=t(i.value),n},{}):{}},TR={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Yf=function(e,n){return n.length?Xf(e.map(function(i){return n.map(function(t){return Wf(i,mv(t))})})):e},vv=function(e){var n=Zt(e,"SegmentTemplate")[0],i=Zt(e,"SegmentList")[0],t=i&&Zt(i,"SegmentURL").map(function(v){return Wr({tag:"SegmentURL"},Rr(v))}),a=Zt(e,"SegmentBase")[0],s=i||n,l=s&&Zt(s,"SegmentTimeline")[0],d=i||a||n,f=d&&Zt(d,"Initialization")[0],h=n&&Rr(n);h&&f?h.initialization=f&&Rr(f):h&&h.initialization&&(h.initialization={sourceURL:h.initialization});var g={template:h,segmentTimeline:l&&Zt(l,"S").map(function(v){return Rr(v)}),list:i&&Wr(Rr(i),{segmentUrls:t,initialization:Rr(f)}),base:a&&Wr(Rr(a),{initialization:Rr(f)})};return Object.keys(g).forEach(function(v){g[v]||delete g[v]}),g},SR=function(e,n,i){return function(t){var a=Zt(t,"BaseURL"),s=Yf(n,a),l=Wr(e,Rr(t)),d=vv(t);return s.map(function(f){return{segmentInfo:Wr(i,d),attributes:Wr(l,{baseUrl:f})}})}},xR=function(e){return e.reduce(function(n,i){var t=Rr(i);t.schemeIdUri&&(t.schemeIdUri=t.schemeIdUri.toLowerCase());var a=TR[t.schemeIdUri];if(a){n[a]={attributes:t};var s=Zt(i,"cenc:pssh")[0];if(s){var l=mv(s);n[a].pssh=l&&hx(l)}}return n},{})},ER=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(t){var a,s;if(s=t,/^CC\d=/.test(t)){var l=t.split("=");a=l[0],s=l[1]}else/^CC\d$/.test(t)&&(a=t);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(t){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),l=s[0],d=s[1],f=d===void 0?"":d;a.channel=l,a.language=t,f.split(",").forEach(function(h){var g=h.split(":"),v=g[0],T=g[1];v==="lang"?a.language=T:v==="er"?a.easyReader=Number(T):v==="war"?a.aspectRatio=Number(T):v==="3D"&&(a["3D"]=Number(T))})}else a.language=t;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},wR=function(e,n,i){return function(t){var a=Rr(t),s=Yf(n,Zt(t,"BaseURL")),l=Zt(t,"Role")[0],d={role:Rr(l)},f=Wr(e,a,d),h=Zt(t,"Accessibility")[0],g=ER(Rr(h));g&&(f=Wr(f,{captionServices:g}));var v=Zt(t,"Label")[0];if(v&&v.childNodes.length){var T=v.childNodes[0].nodeValue.trim();f=Wr(f,{label:T})}var A=xR(Zt(t,"ContentProtection"));Object.keys(A).length&&(f=Wr(f,{contentProtection:A}));var P=vv(t),D=Zt(t,"Representation"),R=Wr(i,P);return Xf(D.map(SR(f,s,R)))}},CR=function(e,n){return function(i,t){var a=Yf(n,Zt(i.node,"BaseURL")),s=Wr(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var l=Zt(i.node,"AdaptationSet"),d=vv(i.node);return Xf(l.map(wR(s,a,d)))}},AR=function(e){var n=e.attributes,i=e.priorPeriodAttributes,t=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&t==="static"?0:null},kR=function(e,n){n===void 0&&(n={});var i=n,t=i.manifestUri,a=t===void 0?"":t,s=i.NOW,l=s===void 0?Date.now():s,d=i.clientOffset,f=d===void 0?0:d,h=Zt(e,"Period");if(!h.length)throw new Error(Vo.INVALID_NUMBER_OF_PERIOD);var g=Zt(e,"Location"),v=Rr(e),T=Yf([a],Zt(e,"BaseURL"));v.type=v.type||"static",v.sourceDuration=v.mediaPresentationDuration||0,v.NOW=l,v.clientOffset=f,g.length&&(v.locations=g.map(mv));var A=[];return h.forEach(function(P,D){var R=Rr(P),M=A[D-1];R.start=AR({attributes:R,priorPeriodAttributes:M?M.attributes:null,mpdType:v.type}),A.push({node:P,attributes:R})}),{locations:v.locations,representationInfo:Xf(A.map(CR(v,T)))}},Zx=function(e){if(e==="")throw new Error(Vo.DASH_EMPTY_MANIFEST);var n=new jL,i,t;try{i=n.parseFromString(e,"application/xml"),t=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(Vo.DASH_INVALID_XML);return t},DR=function(e){var n=Zt(e,"UTCTiming")[0];if(!n)return null;var i=Rr(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Vo.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},PR=function(e,n){n===void 0&&(n={});var i=kR(Zx(e),n),t=_R(i.representationInfo);return lR({dashPlaylists:t,locations:i.locations,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest})},IR=function(e){return DR(Zx(e))},e2=Math.pow(2,32),OR=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*e2+e.getUint32(4)},LR={getUint64:OR,MAX_UINT32:e2},ub=LR.getUint64,RR=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),n={version:r[0],flags:new Uint8Array(r.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=ub(r.subarray(i)),n.firstOffset=ub(r.subarray(i+8)),i+=16),i+=2;var t=e.getUint16(i);for(i+=2;t>0;i+=12,t--)n.references.push({referenceType:(r[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(r[i+8]&128),sapType:(r[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},NR=RR,FR=qe([73,68,51]),MR=function(e,n){n===void 0&&(n=0),e=qe(e);var i=e[n+5],t=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(i&16)>>4;return a?t+20:t+10},sl=function r(e,n){return n===void 0&&(n=0),e=qe(e),e.length-n<10||!Ht(e,FR,{offset:n})?n:(n+=MR(e,n),r(e,n))},lb=function(e){return typeof e=="string"?_x(e):e},BR=function(e){return Array.isArray(e)?e.map(function(n){return lb(n)}):[lb(e)]},UR=function r(e,n,i){i===void 0&&(i=!1),n=BR(n),e=qe(e);var t=[];if(!n.length)return t;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,l=e.subarray(a+4,a+8);if(s===0)break;var d=a+s;if(d>e.length){if(i)break;d=e.length}var f=e.subarray(a+8,d);Ht(l,n[0])&&(n.length===1?t.push(f):t.push.apply(t,r(f,n.slice(1),i))),a=d}return t},vd={EBML:qe([26,69,223,163]),DocType:qe([66,130]),Segment:qe([24,83,128,103]),SegmentInfo:qe([21,73,169,102]),Tracks:qe([22,84,174,107]),Track:qe([174]),TrackNumber:qe([215]),DefaultDuration:qe([35,227,131]),TrackEntry:qe([174]),TrackType:qe([131]),FlagDefault:qe([136]),CodecID:qe([134]),CodecPrivate:qe([99,162]),VideoTrack:qe([224]),AudioTrack:qe([225]),Cluster:qe([31,67,182,117]),Timestamp:qe([231]),TimestampScale:qe([42,215,177]),BlockGroup:qe([160]),BlockDuration:qe([155]),Block:qe([161]),SimpleBlock:qe([163])},nm=[128,64,32,16,8,4,2,1],jR=function(e){for(var n=1,i=0;i<nm.length&&!(e&nm[i]);i++)n++;return n},sf=function(e,n,i,t){i===void 0&&(i=!0),t===void 0&&(t=!1);var a=jR(e[n]),s=e.subarray(n,n+a);return i&&(s=Array.prototype.slice.call(e,n,n+a),s[0]^=nm[a-1]),{length:a,value:lL(s,{signed:t}),bytes:s}},cb=function r(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return r(n)}):typeof e=="number"?cL(e):e},$R=function(e){return Array.isArray(e)?e.map(function(n){return cb(n)}):[cb(e)]},VR=function r(e,n,i){if(i>=n.length)return n.length;var t=sf(n,i,!1);if(Ht(e.bytes,t.bytes))return i;var a=sf(n,i+t.length);return r(e,n,i+a.length+a.value+t.length)},db=function r(e,n){n=$R(n),e=qe(e);var i=[];if(!n.length)return i;for(var t=0;t<e.length;){var a=sf(e,t,!1),s=sf(e,t+a.length),l=t+a.length+s.length;s.value===127&&(s.value=VR(a,e,l),s.value!==e.length&&(s.value-=l));var d=l+s.value>e.length?e.length:l+s.value,f=e.subarray(l,d);Ht(n[0],a.bytes)&&(n.length===1?i.push(f):i=i.concat(r(f,n.slice(1))));var h=a.length+s.length+f.length;t+=h}return i},HR=qe([0,0,0,1]),qR=qe([0,0,1]),WR=qe([0,0,3]),GR=function(e){for(var n=[],i=1;i<e.length-2;)Ht(e.subarray(i,i+3),WR)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var t=e.length-n.length,a=new Uint8Array(t),s=0;for(i=0;i<t;s++,i++)s===n[0]&&(s++,n.shift()),a[i]=e[s];return a},t2=function(e,n,i,t){t===void 0&&(t=1/0),e=qe(e),i=[].concat(i);for(var a=0,s,l=0;a<e.length&&(l<t||s);){var d=void 0;if(Ht(e.subarray(a),HR)?d=4:Ht(e.subarray(a),qR)&&(d=3),!d){a++;continue}if(l++,s)return GR(e.subarray(s,a));var f=void 0;n==="h264"?f=e[a+d]&31:n==="h265"&&(f=e[a+d]>>1&63),i.indexOf(f)!==-1&&(s=a+d),a+=d+(n==="h264"?1:2)}return e.subarray(0,0)},zR=function(e,n,i){return t2(e,"h264",n,i)},KR=function(e,n,i){return t2(e,"h265",n,i)},$r={webm:qe([119,101,98,109]),matroska:qe([109,97,116,114,111,115,107,97]),flac:qe([102,76,97,67]),ogg:qe([79,103,103,83]),ac3:qe([11,119]),riff:qe([82,73,70,70]),avi:qe([65,86,73]),wav:qe([87,65,86,69]),"3gp":qe([102,116,121,112,51,103]),mp4:qe([102,116,121,112]),fmp4:qe([115,116,121,112]),mov:qe([102,116,121,112,113,116]),moov:qe([109,111,111,118]),moof:qe([109,111,111,102])},Ho={aac:function(e){var n=sl(e);return Ht(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=sl(e);return Ht(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=db(e,[vd.EBML,vd.DocType])[0];return Ht(n,$r.webm)},mkv:function(e){var n=db(e,[vd.EBML,vd.DocType])[0];return Ht(n,$r.matroska)},mp4:function(e){if(Ho["3gp"](e)||Ho.mov(e))return!1;if(Ht(e,$r.mp4,{offset:4})||Ht(e,$r.fmp4,{offset:4})||Ht(e,$r.moof,{offset:4})||Ht(e,$r.moov,{offset:4}))return!0},mov:function(e){return Ht(e,$r.mov,{offset:4})},"3gp":function(e){return Ht(e,$r["3gp"],{offset:4})},ac3:function(e){var n=sl(e);return Ht(e,$r.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=sl(e);return Ht(e,$r.flac,{offset:n})},ogg:function(e){return Ht(e,$r.ogg)},avi:function(e){return Ht(e,$r.riff)&&Ht(e,$r.avi,{offset:8})},wav:function(e){return Ht(e,$r.riff)&&Ht(e,$r.wav,{offset:8})},h264:function(e){return zR(e,7,3).length},h265:function(e){return KR(e,[32,33],3).length}},im=Object.keys(Ho).filter(function(r){return r!=="ts"&&r!=="h264"&&r!=="h265"}).concat(["ts","h264","h265"]);im.forEach(function(r){var e=Ho[r];Ho[r]=function(n){return e(qe(n))}});var XR=Ho,_v=function(e){e=qe(e);for(var n=0;n<im.length;n++){var i=im[n];if(XR[i](e))return i}return""},JR=function(e){return UR(e,["moof"]).length>0},yv=9e4,bv,Tv,Qf,Sv,r2,n2,i2;bv=function(r){return r*yv};Tv=function(r,e){return r*e};Qf=function(r){return r/yv};Sv=function(r,e){return r/e};r2=function(r,e){return bv(Sv(r,e))};n2=function(r,e){return Tv(Qf(r),e)};i2=function(r,e,n){return Qf(n?r:r-e)};var of={ONE_SECOND_IN_TS:yv,secondsToVideoTs:bv,secondsToAudioTs:Tv,videoTsToSeconds:Qf,audioTsToSeconds:Sv,audioTsToVideoTs:r2,videoTsToAudioTs:n2,metadataTsToSeconds:i2};function am(r){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},am(r)}function YR(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}function sm(r){var e=typeof Map=="function"?new Map:void 0;return sm=function(i){if(i===null||!YR(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,t)}function t(){return dx(i,arguments,am(this).constructor)}return t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Bo(t,i)},sm(r)}/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var a2="7.21.6",$i={},ja=function(e,n){return $i[e]=$i[e]||[],n&&($i[e]=$i[e].concat(n)),$i[e]},QR=function(e,n){ja(e,n)},s2=function(e,n){var i=ja(e).indexOf(n);return i<=-1?!1:($i[e]=$i[e].slice(),$i[e].splice(i,1),!0)},ZR=function(e,n){ja(e,[].concat(n).map(function(i){var t=function a(){return s2(e,a),i.apply(void 0,arguments)};return t}))},uf={prefixed:!0},Nd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],fb=Nd[0],ol;for(var _d=0;_d<Nd.length;_d++)if(Nd[_d][1]in be){ol=Nd[_d];break}if(ol){for(var yd=0;yd<ol.length;yd++)uf[fb[yd]]=ol[yd];uf.prefixed=ol[0]!==fb[0]}var en=[],e5=function(e,n){return function(i,t,a){var s=n.levels[t],l=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),en){en.push([].concat(a));var d=en.length-1e3;en.splice(0,d>0?d:0)}if(!!j.console){var f=j.console[i];!f&&i==="debug"&&(f=j.console.info||j.console.log),!(!f||!s||!l.test(i))&&f[Array.isArray(a)?"apply":"call"](j.console,a)}}};function o2(r){var e="info",n,i=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n("log",e,s)};return n=e5(r,i),i.createLogger=function(t){return o2(r+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(t){if(typeof t=="string"){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},i.history=function(){return en?[].concat(en):[]},i.history.filter=function(t){return(en||[]).filter(function(a){return new RegExp(".*"+t+".*").test(a[0])})},i.history.clear=function(){en&&(en.length=0)},i.history.disable=function(){en!==null&&(en.length=0,en=null)},i.history.enable=function(){en===null&&(en=[])},i.error=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("error",e,a)},i.warn=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("warn",e,a)},i.debug=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("debug",e,a)},i}var ct=o2("VIDEOJS"),u2=ct.createLogger,t5=Object.prototype.toString,l2=function(e){return Qi(e)?Object.keys(e):[]};function Do(r,e){l2(r).forEach(function(n){return e(r[n],n)})}function r5(r,e,n){return n===void 0&&(n=0),l2(r).reduce(function(i,t){return e(i,r[t],t)},n)}function Xt(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Pn.apply(void 0,[r].concat(n)):(n.forEach(function(t){!t||Do(t,function(a,s){r[s]=a})}),r)}function Qi(r){return!!r&&typeof r=="object"}function Nl(r){return Qi(r)&&t5.call(r)==="[object Object]"&&r.constructor===Object}function Fl(r,e){if(!r||!e)return"";if(typeof j.getComputedStyle=="function"){var n;try{n=j.getComputedStyle(r)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var gr=j.navigator&&j.navigator.userAgent||"",hb=/AppleWebKit\/([\d.]+)/i.exec(gr),n5=hb?parseFloat(hb.pop()):null,c2=/iPod/i.test(gr),i5=function(){var r=gr.match(/OS (\d+)_/i);return r&&r[1]?r[1]:null}(),aa=/Android/i.test(gr),xv=function(){var r=gr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var e=r[1]&&parseFloat(r[1]),n=r[2]&&parseFloat(r[2]);return e&&n?parseFloat(r[1]+"."+r[2]):e||null}(),d2=aa&&xv<5&&n5<537,f2=/Firefox/i.test(gr),tc=/Edg/i.test(gr),sa=!tc&&(/Chrome/i.test(gr)||/CriOS/i.test(gr)),h2=function(){var r=gr.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null}(),rc=function(){var r=/MSIE\s(\d+)\.\d/.exec(gr),e=r&&parseFloat(r[1]);return!e&&/Trident\/7.0/i.test(gr)&&/rv:11.0/.test(gr)&&(e=11),e}(),Ev=/Safari/i.test(gr)&&!sa&&!aa&&!tc,p2=/Windows/i.test(gr),qo=Boolean(Yo()&&("ontouchstart"in j||j.navigator.maxTouchPoints||j.DocumentTouch&&j.document instanceof j.DocumentTouch)),wv=/iPad/i.test(gr)||Ev&&qo&&!/iPhone/i.test(gr),Cv=/iPhone/i.test(gr)&&!wv,Kr=Cv||wv||c2,Zf=(Ev||Kr)&&!sa,a5=Object.freeze({__proto__:null,IS_IPOD:c2,IOS_VERSION:i5,IS_ANDROID:aa,ANDROID_VERSION:xv,IS_NATIVE_ANDROID:d2,IS_FIREFOX:f2,IS_EDGE:tc,IS_CHROME:sa,CHROME_VERSION:h2,IE_VERSION:rc,IS_SAFARI:Ev,IS_WINDOWS:p2,TOUCH_ENABLED:qo,IS_IPAD:wv,IS_IPHONE:Cv,IS_IOS:Kr,IS_ANY_SAFARI:Zf});function pb(r){return typeof r=="string"&&Boolean(r.trim())}function g2(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function s5(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}function Yo(){return be===j.document}function Qo(r){return Qi(r)&&r.nodeType===1}function m2(){try{return j.parent!==j.self}catch{return!0}}function v2(r){return function(e,n){if(!pb(e))return be[r](null);pb(n)&&(n=be.querySelector(n));var i=Qo(n)?n:be;return i[r]&&i[r](e)}}function gt(r,e,n,i){r===void 0&&(r="div"),e===void 0&&(e={}),n===void 0&&(n={});var t=be.createElement(r);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(ct.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),t.setAttribute(a,s)):a==="textContent"?Us(t,s):(t[a]!==s||a==="tabIndex")&&(t[a]=s)}),Object.getOwnPropertyNames(n).forEach(function(a){t.setAttribute(a,n[a])}),i&&kv(t,i),t}function Us(r,e){return typeof r.textContent>"u"?r.innerText=e:r.textContent=e,r}function om(r,e){e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}function As(r,e){return g2(e),r.classList?r.classList.contains(e):s5(e).test(r.className)}function zi(r,e){return r.classList?r.classList.add(e):As(r,e)||(r.className=(r.className+" "+e).trim()),r}function nc(r,e){return r?(r.classList?r.classList.remove(e):(g2(e),r.className=r.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),r):(ct.warn("removeClass was called with an element that doesn't exist"),null)}function _2(r,e,n){var i=As(r,e);if(typeof n=="function"&&(n=n(r,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?zi(r,e):nc(r,e),r}function y2(r,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i>"u"||i===!1?r.removeAttribute(n):r.setAttribute(n,i===!0?"":i)})}function Ui(r){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(r&&r.attributes&&r.attributes.length>0)for(var i=r.attributes,t=i.length-1;t>=0;t--){var a=i[t].name,s=i[t].value;(typeof r[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function b2(r,e){return r.getAttribute(e)}function Wo(r,e,n){r.setAttribute(e,n)}function eh(r,e){r.removeAttribute(e)}function T2(){be.body.focus(),be.onselectstart=function(){return!1}}function S2(){be.onselectstart=function(){return!0}}function Go(r){if(r&&r.getBoundingClientRect&&r.parentNode){var e=r.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Fl(r,"height"))),n.width||(n.width=parseFloat(Fl(r,"width"))),n}}function Ml(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=r.offsetWidth,n=r.offsetHeight,i=0,t=0;r.offsetParent&&r!==be[uf.fullscreenElement];)i+=r.offsetLeft,t+=r.offsetTop,r=r.offsetParent;return{left:i,top:t,width:e,height:n}}function th(r,e){var n={x:0,y:0};if(Kr)for(var i=r;i&&i.nodeName.toLowerCase()!=="html";){var t=Fl(i,"transform");if(/^matrix/.test(t)){var a=t.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var l={},d=Ml(e.target),f=Ml(r),h=f.width,g=f.height,v=e.offsetY-(f.top-d.top),T=e.offsetX-(f.left-d.left);return e.changedTouches&&(T=e.changedTouches[0].pageX-f.left,v=e.changedTouches[0].pageY+f.top,Kr&&(T-=n.x,v-=n.y)),l.y=1-Math.max(0,Math.min(1,v/g)),l.x=Math.max(0,Math.min(1,T/h)),l}function x2(r){return Qi(r)&&r.nodeType===3}function Av(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function E2(r){return typeof r=="function"&&(r=r()),(Array.isArray(r)?r:[r]).map(function(e){if(typeof e=="function"&&(e=e()),Qo(e)||x2(e))return e;if(typeof e=="string"&&/\S/.test(e))return be.createTextNode(e)}).filter(function(e){return e})}function kv(r,e){return E2(e).forEach(function(n){return r.appendChild(n)}),r}function w2(r,e){return kv(Av(r),e)}function Bl(r){return r.button===void 0&&r.buttons===void 0||r.button===0&&r.buttons===void 0||r.type==="mouseup"&&r.button===0&&r.buttons===0?!0:!(r.button!==0||r.buttons!==1)}var $a=v2("querySelector"),C2=v2("querySelectorAll"),A2=Object.freeze({__proto__:null,isReal:Yo,isEl:Qo,isInFrame:m2,createEl:gt,textContent:Us,prependTo:om,hasClass:As,addClass:zi,removeClass:nc,toggleClass:_2,setAttributes:y2,getAttributes:Ui,getAttribute:b2,setAttribute:Wo,removeAttribute:eh,blockTextSelection:T2,unblockTextSelection:S2,getBoundingClientRect:Go,findPosition:Ml,getPointerPosition:th,isTextNode:x2,emptyEl:Av,normalizeContent:E2,appendContent:kv,insertContent:w2,isSingleLeftClick:Bl,$:$a,$$:C2}),k2=!1,um,o5=function(){if(um.options.autoSetup!==!1){var e=Array.prototype.slice.call(be.getElementsByTagName("video")),n=Array.prototype.slice.call(be.getElementsByTagName("audio")),i=Array.prototype.slice.call(be.getElementsByTagName("video-js")),t=e.concat(n,i);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++){var l=t[a];if(l&&l.getAttribute){if(l.player===void 0){var d=l.getAttribute("data-setup");d!==null&&um(l)}}else{lm(1);break}}else k2||lm(1)}};function lm(r,e){!Yo()||(e&&(um=e),j.setTimeout(o5,r))}function cm(){k2=!0,j.removeEventListener("load",cm)}Yo()&&(be.readyState==="complete"?cm():j.addEventListener("load",cm));var D2=function(e){var n=be.createElement("style");return n.className=e,n},P2=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},u5=3,l5=u5;function oa(){return l5++}var I2;j.WeakMap||(I2=function(){function r(){this.vdata="vdata"+Math.floor(j.performance&&j.performance.now()||Date.now()),this.data={}}var e=r.prototype;return e.set=function(i,t){var a=i[this.vdata]||oa();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=t,this},e.get=function(i){var t=i[this.vdata];if(t)return this.data[t];ct("We have no data for this element",i)},e.has=function(i){var t=i[this.vdata];return t in this.data},e.delete=function(i){var t=i[this.vdata];t&&(delete this.data[t],delete i[this.vdata])},r}());var Gr=j.WeakMap?new WeakMap:new I2;function gb(r,e){if(!!Gr.has(r)){var n=Gr.get(r);n.handlers[e].length===0&&(delete n.handlers[e],r.removeEventListener?r.removeEventListener(e,n.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Gr.delete(r)}}function Dv(r,e,n,i){n.forEach(function(t){r(e,t,i)})}function rh(r){if(r.fixed_)return r;function e(){return!0}function n(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var i=r||j.event;r={};for(var t in i)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&t!=="path"&&(t==="returnValue"&&i.preventDefault||(r[t]=i[t]));if(r.target||(r.target=r.srcElement||be),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){i.preventDefault&&i.preventDefault(),r.returnValue=!1,i.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),r.cancelBubble=!0,i.cancelBubble=!0,r.isPropagationStopped=e},r.isPropagationStopped=n,r.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),r.isImmediatePropagationStopped=e,r.stopPropagation()},r.isImmediatePropagationStopped=n,r.clientX!==null&&r.clientX!==void 0){var a=be.documentElement,s=be.body;r.pageX=r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}r.which=r.charCode||r.keyCode,r.button!==null&&r.button!==void 0&&(r.button=r.button&1?0:r.button&4?1:r.button&2?2:0)}return r.fixed_=!0,r}var bd,c5=function(){if(typeof bd!="boolean"){bd=!1;try{var e=Object.defineProperty({},"passive",{get:function(){bd=!0}});j.addEventListener("test",null,e),j.removeEventListener("test",null,e)}catch{}}return bd},d5=["touchstart","touchmove"];function vn(r,e,n){if(Array.isArray(e))return Dv(vn,r,e,n);Gr.has(r)||Gr.set(r,{});var i=Gr.get(r);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=oa()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=rh(a);var l=i.handlers[a.type];if(l)for(var d=l.slice(0),f=0,h=d.length;f<h&&!a.isImmediatePropagationStopped();f++)try{d[f].call(r,a,s)}catch(g){ct.error(g)}}}),i.handlers[e].length===1)if(r.addEventListener){var t=!1;c5()&&d5.indexOf(e)>-1&&(t={passive:!0}),r.addEventListener(e,i.dispatcher,t)}else r.attachEvent&&r.attachEvent("on"+e,i.dispatcher)}function Br(r,e,n){if(!!Gr.has(r)){var i=Gr.get(r);if(!!i.handlers){if(Array.isArray(e))return Dv(Br,r,e,n);var t=function(f,h){i.handlers[h]=[],gb(f,h)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&t(r,a);return}var s=i.handlers[e];if(!!s){if(!n){t(r,e);return}if(n.guid)for(var l=0;l<s.length;l++)s[l].guid===n.guid&&s.splice(l--,1);gb(r,e)}}}}function Zo(r,e,n){var i=Gr.has(r)?Gr.get(r):{},t=r.parentNode||r.ownerDocument;if(typeof e=="string"?e={type:e,target:r}:e.target||(e.target=r),e=rh(e),i.dispatcher&&i.dispatcher.call(r,e,n),t&&!e.isPropagationStopped()&&e.bubbles===!0)Zo.call(null,t,e,n);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){Gr.has(e.target)||Gr.set(e.target,{});var a=Gr.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function nh(r,e,n){if(Array.isArray(e))return Dv(nh,r,e,n);var i=function t(){Br(r,e,t),n.apply(this,arguments)};i.guid=n.guid=n.guid||oa(),vn(r,e,i)}function O2(r,e,n){var i=function t(){Br(r,e,t),n.apply(this,arguments)};i.guid=n.guid=n.guid||oa(),vn(r,e,i)}var f5=Object.freeze({__proto__:null,fixEvent:rh,on:vn,off:Br,trigger:Zo,one:nh,any:O2}),Wn=30,Mt=function(e,n,i){n.guid||(n.guid=oa());var t=n.bind(e);return t.guid=i?i+"_"+n.guid:n.guid,t},Zi=function(e,n){var i=j.performance.now(),t=function(){var s=j.performance.now();s-i>=n&&(e.apply(void 0,arguments),i=s)};return t},h5=function(e,n,i,t){t===void 0&&(t=j);var a,s=function(){t.clearTimeout(a),a=null},l=function(){var f=this,h=arguments,g=function(){a=null,g=null,i||e.apply(f,h)};!a&&i&&e.apply(f,h),t.clearTimeout(a),a=t.setTimeout(g,n)};return l.cancel=s,l},vr=function(){};vr.prototype.allowedEvents_={};vr.prototype.on=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},vn(this,r,e),this.addEventListener=n};vr.prototype.addEventListener=vr.prototype.on;vr.prototype.off=function(r,e){Br(this,r,e)};vr.prototype.removeEventListener=vr.prototype.off;vr.prototype.one=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},nh(this,r,e),this.addEventListener=n};vr.prototype.any=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},O2(this,r,e),this.addEventListener=n};vr.prototype.trigger=function(r){var e=r.type||r;typeof r=="string"&&(r={type:e}),r=rh(r),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](r),Zo(this,r)};vr.prototype.dispatchEvent=vr.prototype.trigger;var Ju;vr.prototype.queueTrigger=function(r){var e=this;Ju||(Ju=new Map);var n=r.type||r,i=Ju.get(this);i||(i=new Map,Ju.set(this,i));var t=i.get(n);i.delete(n),j.clearTimeout(t);var a=j.setTimeout(function(){i.delete(n),i.size===0&&(i=null,Ju.delete(e)),e.trigger(r)},0);i.set(n,a)};var ih=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Ki=function(e){return e instanceof vr||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},p5=function(e,n){Ki(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},dm=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},lf=function(e,n,i){if(!e||!e.nodeName&&!Ki(e))throw new Error("Invalid target for "+ih(n)+"#"+i+"; must be a DOM node or evented object.")},L2=function(e,n,i){if(!dm(e))throw new Error("Invalid event type for "+ih(n)+"#"+i+"; must be a non-empty string or array.")},R2=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+ih(n)+"#"+i+"; must be a function.")},ag=function(e,n,i){var t=n.length<3||n[0]===e||n[0]===e.eventBusEl_,a,s,l;return t?(a=e.eventBusEl_,n.length>=3&&n.shift(),s=n[0],l=n[1]):(a=n[0],s=n[1],l=n[2]),lf(a,e,i),L2(s,e,i),R2(l,e,i),l=Mt(e,l),{isTargetingSelf:t,target:a,type:s,listener:l}},fs=function(e,n,i,t){lf(e,e,n),e.nodeName?f5[n](e,i,t):e[n](i,t)},g5={on:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=ag(this,i,"on"),s=a.isTargetingSelf,l=a.target,d=a.type,f=a.listener;if(fs(l,"on",d,f),!s){var h=function(){return e.off(l,d,f)};h.guid=f.guid;var g=function(){return e.off("dispose",h)};g.guid=f.guid,fs(this,"on","dispose",h),fs(l,"on","dispose",g)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=ag(this,i,"one"),s=a.isTargetingSelf,l=a.target,d=a.type,f=a.listener;if(s)fs(l,"one",d,f);else{var h=function g(){e.off(l,d,g);for(var v=arguments.length,T=new Array(v),A=0;A<v;A++)T[A]=arguments[A];f.apply(null,T)};h.guid=f.guid,fs(l,"one",d,h)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=ag(this,i,"any"),s=a.isTargetingSelf,l=a.target,d=a.type,f=a.listener;if(s)fs(l,"any",d,f);else{var h=function g(){e.off(l,d,g);for(var v=arguments.length,T=new Array(v),A=0;A<v;A++)T[A]=arguments[A];f.apply(null,T)};h.guid=f.guid,fs(l,"any",d,h)}},off:function(e,n,i){if(!e||dm(e))Br(this.eventBusEl_,e,n);else{var t=e,a=n;lf(t,this,"off"),L2(a,this,"off"),R2(i,this,"off"),i=Mt(this,i),this.off("dispose",i),t.nodeName?(Br(t,a,i),Br(t,"dispose",i)):Ki(t)&&(t.off(a,i),t.off("dispose",i))}},trigger:function(e,n){lf(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!dm(i)){var t="Invalid event type for "+ih(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||ct).error(t);else throw new Error(t)}return Zo(this.eventBusEl_,e,n)}};function Pv(r,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!r[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');r.eventBusEl_=r[i]}else r.eventBusEl_=gt("span",{className:"vjs-event-bus"});return Xt(r,g5),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(t){t()}),r.on("dispose",function(){r.off(),[r,r.el_,r.eventBusEl_].forEach(function(t){t&&Gr.has(t)&&Gr.delete(t)}),j.setTimeout(function(){r.eventBusEl_=null},0)}),r}var m5={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return Do(e,function(t,a){n.state[a]!==t&&(i=i||{},i[a]={from:n.state[a],to:t}),n.state[a]=t}),i&&Ki(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function N2(r,e){return Xt(r,m5),r.state=Xt({},r.state,e),typeof r.handleStateChanged=="function"&&Ki(r)&&r.on("statechanged",r.handleStateChanged),r}var Fd=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},er=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},v5=function(e,n){return er(e)===er(n)};function Ft(){for(var r={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(t){!t||Do(t,function(a,s){if(!Nl(a)){r[s]=a;return}Nl(r[s])||(r[s]={}),r[s]=Ft(r[s],a)})}),r}var _5=function(){function r(){this.map_={}}var e=r.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var t=this.has(i);return delete this.map_[i],t},e.set=function(i,t){return this.map_[i]=t,this},e.forEach=function(i,t){for(var a in this.map_)i.call(t,this.map_[a],a,this)},r}(),y5=j.Map?j.Map:_5,b5=function(){function r(){this.set_={}}var e=r.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var t=this.has(i);return delete this.set_[i],t},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,t){for(var a in this.set_)i.call(t,a,a,this)},r}(),sg=j.Set?j.Set:b5,he=function(){function r(n,i,t){var a=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ft({},this.options_),i=this.options_=Ft(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=n&&n.id&&n.id()||"no_player";this.id_=s+"_component_"+oa()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(l){return a.addClass(l)}),i.evented!==!1&&(Pv(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),N2(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new sg,this.setIntervalIds_=new sg,this.rafIds_=new sg,this.namedRafs_=new y5,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(t),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=r.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Ft(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,t,a){return gt(i,t,a)},e.localize=function(i,t,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),l=this.player_.languages&&this.player_.languages(),d=l&&l[s],f=s&&s.split("-")[0],h=l&&l[f],g=a;return d&&d[i]?g=d[i]:h&&h[i]&&(g=h[i]),t&&(g=g.replace(/\{(\d+)\}/g,function(v,T){var A=t[T-1],P=A;return typeof A>"u"&&(P=v),P})),g},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];t=t.reduce(function(d,f){return d.concat(f)},[]);for(var s=this,l=0;l<t.length;l++)if(s=s.getChild(t[l]),!s||!s.getChild)return;return s},e.addChild=function(i,t,a){t===void 0&&(t={}),a===void 0&&(a=this.children_.length);var s,l;if(typeof i=="string"){l=er(i);var d=t.componentClass||l;t.name=l;var f=r.getComponent(d);if(!f)throw new Error("Component "+d+" does not exist");if(typeof f!="function")return null;s=new f(this.player_||this,t)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),l=l||s.name&&er(s.name()),l&&(this.childNameIndex_[l]=s,this.childNameIndex_[Fd(l)]=s),typeof s.el=="function"&&s.el()){var h=null;this.children_[a+1]&&(this.children_[a+1].el_?h=this.children_[a+1].el_:Qo(this.children_[a+1])&&(h=this.children_[a+1])),this.contentEl().insertBefore(s.el(),h)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var t=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){t=!0,this.children_.splice(a,1);break}if(!!t){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[er(i.name())]=null,this.childNameIndex_[Fd(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,t=this.options_.children;if(t){var a=this.options_,s=function(h){var g=h.name,v=h.opts;if(a[g]!==void 0&&(v=a[g]),v!==!1){v===!0&&(v={}),v.playerOptions=i.options_.playerOptions;var T=i.addChild(g,v);T&&(i[g]=T)}},l,d=r.getComponent("Tech");Array.isArray(t)?l=t:l=Object.keys(t),l.concat(Object.keys(this.options_).filter(function(f){return!l.some(function(h){return typeof h=="string"?f===h:f===h.name})})).map(function(f){var h,g;return typeof f=="string"?(h=f,g=t[h]||i.options_[h]||{}):(h=f.name,g=f),{name:h,opts:g}}).filter(function(f){var h=r.getComponent(f.opts.componentClass||er(f.name));return h&&!d.isTech(h)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,t){if(t===void 0&&(t=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}t?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(i,t){return $a(i,t||this.contentEl())},e.$$=function(i,t){return C2(i,t||this.contentEl())},e.hasClass=function(i){return As(this.el_,i)},e.addClass=function(i){zi(this.el_,i)},e.removeClass=function(i){nc(this.el_,i)},e.toggleClass=function(i,t){_2(this.el_,i,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return b2(this.el_,i)},e.setAttribute=function(i,t){Wo(this.el_,i,t)},e.removeAttribute=function(i){eh(this.el_,i)},e.width=function(i,t){return this.dimension("width",i,t)},e.height=function(i,t){return this.dimension("height",i,t)},e.dimensions=function(i,t){this.width(i,!0),this.height(t)},e.dimension=function(i,t,a){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[i]=t:t==="auto"?this.el_.style[i]="":this.el_.style[i]=t+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],l=s.indexOf("px");return parseInt(l!==-1?s.slice(0,l):this.el_["offset"+er(i)],10)},e.currentDimension=function(i){var t=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(t=Fl(this.el_,i),t=parseFloat(t),t===0||isNaN(t)){var a="offset"+er(i);t=this.el_[a]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(st.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,t=null,a=10,s=200,l;this.on("touchstart",function(f){f.touches.length===1&&(t={pageX:f.touches[0].pageX,pageY:f.touches[0].pageY},i=j.performance.now(),l=!0)}),this.on("touchmove",function(f){if(f.touches.length>1)l=!1;else if(t){var h=f.touches[0].pageX-t.pageX,g=f.touches[0].pageY-t.pageY,v=Math.sqrt(h*h+g*g);v>a&&(l=!1)}});var d=function(){l=!1};this.on("touchleave",d),this.on("touchcancel",d),this.on("touchend",function(f){if(t=null,l===!0){var h=j.performance.now()-i;h<s&&(f.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=Mt(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var a=function(l){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,t){var a=this,s;return i=Mt(this,i),this.clearTimersOnDispose_(),s=j.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),j.clearTimeout(i)),i},e.setInterval=function(i,t){i=Mt(this,i),this.clearTimersOnDispose_();var a=j.setInterval(i,t);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),j.clearInterval(i)),i},e.requestAnimationFrame=function(i){var t=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=Mt(this,i),a=j.requestAnimationFrame(function(){t.rafIds_.has(a)&&t.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,t){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),t=Mt(this,t);var s=this.requestAnimationFrame(function(){t(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),j.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var a=t[0],s=t[1];i[a].forEach(function(l,d){return i[s](d)})}),i.clearingTimersOnDispose_=!1}))},r.registerComponent=function(i,t){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=r.getComponent("Tech"),s=a&&a.isTech(t),l=r===t||r.prototype.isPrototypeOf(t.prototype);if(s||!l){var d;throw s?d="techs must be registered using Tech.registerTech()":d="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+d+".")}i=er(i),r.components_||(r.components_={});var f=r.getComponent("Player");if(i==="Player"&&f&&f.players){var h=f.players,g=Object.keys(h);if(h&&g.length>0&&g.map(function(v){return h[v]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[i]=t,r.components_[Fd(i)]=t,t},r.getComponent=function(i){if(!(!i||!r.components_))return r.components_[i]},r}();he.prototype.supportsRaf_=typeof j.requestAnimationFrame=="function"&&typeof j.cancelAnimationFrame=="function";he.registerComponent("Component",he);function T5(r,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function mb(r,e,n,i){return T5(r,i,n.length-1),n[i][e]}function og(r){var e;return r===void 0||r.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:r.length,start:mb.bind(null,"start",0,r),end:mb.bind(null,"end",1,r)},j.Symbol&&j.Symbol.iterator&&(e[j.Symbol.iterator]=function(){return(r||[]).values()}),e}function ks(r,e){return Array.isArray(r)?og(r):r===void 0||e===void 0?og():og([[r,e]])}function F2(r,e){var n=0,i,t;if(!e)return 0;(!r||!r.length)&&(r=ks(0,0));for(var a=0;a<r.length;a++)i=r.start(a),t=r.end(a),t>e&&(t=e),n+=t-i;return n/e}function zr(r){if(r instanceof zr)return r;typeof r=="number"?this.code=r:typeof r=="string"?this.message=r:Qi(r)&&(typeof r.code=="number"&&(this.code=r.code),Xt(this,r)),this.message||(this.message=zr.defaultMessages[this.code]||"")}zr.prototype.code=0;zr.prototype.message="";zr.prototype.status=null;zr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];zr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var mo=0;mo<zr.errorTypes.length;mo++)zr[zr.errorTypes[mo]]=mo,zr.prototype[zr.errorTypes[mo]]=mo;function vl(r){return r!=null&&typeof r.then=="function"}function ui(r){vl(r)&&r.then(null,function(e){})}var fm=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,t,a){return e[t]&&(i[t]=e[t]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},S5=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(a){return a.track}),t=Array.prototype.map.call(n,function(a){var s=fm(a.track);return a.src&&(s.src=a.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(fm))},x5=function(e,n){return e.forEach(function(i){var t=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return t.addCue(a)})}),n.textTracks()},vb={textTracksToJson:S5,jsonToTextTracks:x5,trackToJson_:fm},ug="vjs-modal-dialog",eu=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=gt("div",{className:ug+"-content"},{role:"document"}),a.descEl_=gt("p",{className:ug+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),Us(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},n.buildCSSClass=function(){return ug+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},n.close=function(){if(!!this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if(typeof t=="boolean"){var a=this.closeable_=!!t,s=this.getChild("closeButton");if(a&&!s){var l=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=l,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var a=this.contentEl(),s=a.parentNode,l=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),w2(a,t),this.trigger("modalfill"),l?s.insertBefore(a,l):s.appendChild(a);var d=this.getChild("closeButton");d&&s.appendChild(d.el_)},n.empty=function(){this.trigger("beforemodalempty"),Av(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return typeof t<"u"&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=be.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(t)||a===t)&&(this.previouslyActiveEl_=t,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(t){if(t.stopPropagation(),st.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(!!st.isEventKey(t,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),l,d=0;d<a.length;d++)if(s===a[d]){l=d;break}be.activeElement===this.el_&&(l=0),t.shiftKey&&l===0?(a[a.length-1].focus(),t.preventDefault()):!t.shiftKey&&l===a.length-1&&(a[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(a){return(a instanceof j.HTMLAnchorElement||a instanceof j.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof j.HTMLInputElement||a instanceof j.HTMLSelectElement||a instanceof j.HTMLTextAreaElement||a instanceof j.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof j.HTMLIFrameElement||a instanceof j.HTMLObjectElement||a instanceof j.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(he);eu.prototype.options_={pauseOnOpen:!0,temporary:!0};he.registerComponent("ModalDialog",eu);var zo=function(r){Ce(e,r);function e(i){var t;i===void 0&&(i=[]),t=r.call(this)||this,t.tracks_=[],Object.defineProperty(et(t),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)t.addTrack(i[a]);return t}var n=e.prototype;return n.addTrack=function(t){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){a.trigger({track:t,type:"labelchange",target:a})},Ki(t)&&t.addEventListener("labelchange",t.labelchange_)},n.removeTrack=function(t){for(var a,s=0,l=this.length;s<l;s++)if(this[s]===t){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(t){for(var a=null,s=0,l=this.length;s<l;s++){var d=this[s];if(d.id===t){a=d;break}}return a},e}(vr);zo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var E5 in zo.prototype.allowedEvents_)zo.prototype["on"+E5]=null;var lg=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},w5=function(r){Ce(e,r);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){lg(i,i[a]);break}return t=r.call(this,i)||this,t.changing_=!1,t}var n=e.prototype;return n.addTrack=function(t){var a=this;t.enabled&&lg(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){a.changing_||(a.changing_=!0,lg(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(zo),cg=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},C5=function(r){Ce(e,r);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){cg(i,i[a]);break}return t=r.call(this,i)||this,t.changing_=!1,Object.defineProperty(et(t),"selectedIndex",{get:function(){for(var l=0;l<this.length;l++)if(this[l].selected)return l;return-1},set:function(){}}),t}var n=e.prototype;return n.addTrack=function(t){var a=this;t.selected&&cg(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){a.changing_||(a.changing_=!0,cg(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(zo),M2=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(t){var a=this;r.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(zo),A5=function(){function r(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,t=n.length;i<t;i++)this.addTrackElement_(n[i])}var e=r.prototype;return e.addTrackElement_=function(i){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var t,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){t=this.trackElements_[a];break}return t},e.removeTrackElement_=function(i){for(var t=0,a=this.trackElements_.length;t<a;t++)if(i===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},r}(),_b=function(){function r(n){r.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=r.prototype;return e.setCues_=function(i){var t=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var l=function(f){""+f in this||Object.defineProperty(this,""+f,{get:function(){return this.cues_[f]}})};if(t<s)for(a=t;a<s;a++)l.call(this,a)},e.getCueById=function(i){for(var t=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===i){t=l;break}}return t},r}(),k5={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},D5={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},P5={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},yb={disabled:"disabled",hidden:"hidden",showing:"showing"},Iv=function(r){Ce(e,r);function e(n){var i;n===void 0&&(n={}),i=r.call(this)||this;var t={id:n.id||"vjs_track_"+oa(),kind:n.kind||"",language:n.language||""},a=n.label||"",s=function(f){Object.defineProperty(et(i),f,{get:function(){return t[f]},set:function(){}})};for(var l in t)s(l);return Object.defineProperty(et(i),"label",{get:function(){return a},set:function(f){f!==a&&(a=f,this.trigger("labelchange"))}}),i}return e}(vr),Ov=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=be.createElement("a");i.href=e;for(var t={},a=0;a<n.length;a++)t[n[a]]=i[n[a]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=j.location.protocol),t.host||(t.host=j.location.host),t},B2=function(e){if(!e.match(/^https?:\/\//)){var n=be.createElement("a");n.href=e,e=n.href}return e},Lv=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},ah=function(e,n){n===void 0&&(n=j.location);var i=Ov(e),t=i.protocol===":"?n.protocol:i.protocol,a=t+i.host!==n.protocol+n.host;return a},I5=Object.freeze({__proto__:null,parseUrl:Ov,getAbsoluteURL:B2,getFileExtension:Lv,isCrossOrigin:ah}),bb=function(e,n){var i=new j.WebVTT.Parser(j,j.vttjs,j.WebVTT.StringDecoder()),t=[];i.oncue=function(a){n.addCue(a)},i.onparsingerror=function(a){t.push(a)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),t.length>0&&(j.console&&j.console.groupCollapsed&&j.console.groupCollapsed("Text Track parsing errors for "+n.src),t.forEach(function(a){return ct.error(a)}),j.console&&j.console.groupEnd&&j.console.groupEnd()),i.flush()},Tb=function(e,n){var i={uri:e},t=ah(e);t&&(i.cors=t);var a=n.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),Hf.exports(i,Mt(this,function(s,l,d){if(s)return ct.error(s,l);n.loaded_=!0,typeof j.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(f){if(f.type==="vttjserror"){ct.error("vttjs failed to load, stopping trying to process "+n.src);return}return bb(d,n)}):bb(d,n)}))},ic=function(r){Ce(e,r);function e(i){var t;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Ft(i,{kind:P5[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=yb[a.mode]||"disabled",l=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),t=r.call(this,a)||this,t.tech_=a.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var d=new _b(t.cues_),f=new _b(t.activeCues_),h=!1;t.timeupdateHandler=Mt(et(t),function(v){if(v===void 0&&(v={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){v.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1),v.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var g=function(){t.stopTracking()};return t.tech_.one("dispose",g),s!=="disabled"&&t.startTracking(),Object.defineProperties(et(t),{default:{get:function(){return l},set:function(){}},mode:{get:function(){return s},set:function(T){!yb[T]||s!==T&&(s=T,!this.preload_&&s!=="disabled"&&this.cues.length===0&&Tb(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?d:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return f;for(var T=this.tech_.currentTime(),A=[],P=0,D=this.cues.length;P<D;P++){var R=this.cues[P];(R.startTime<=T&&R.endTime>=T||R.startTime===R.endTime&&R.startTime<=T&&R.startTime+.5>=T)&&A.push(R)}if(h=!1,A.length!==this.activeCues_.length)h=!0;else for(var M=0;M<A.length;M++)this.activeCues_.indexOf(A[M])===-1&&(h=!0);return this.activeCues_=A,f.setCues_(this.activeCues_),f},set:function(){}}}),a.src?(t.src=a.src,t.preload_||(t.loaded_=!0),(t.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&Tb(t.src,et(t))):t.loaded_=!0,t}var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(t){var a=t;if(a.constructor&&a.constructor.name!=="VTTCue"){a=new j.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in a||(a[s]=t[s]);a.id=t.id,a.originalCue_=t}for(var l=this.tech_.textTracks(),d=0;d<l.length;d++)l[d]!==this&&l[d].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(Iv);ic.prototype.allowedEvents_={cuechange:"cuechange"};var U2=function(r){Ce(e,r);function e(n){var i;n===void 0&&(n={});var t=Ft(n,{kind:D5[n.kind]||""});i=r.call(this,t)||this;var a=!1;return Object.defineProperty(et(i),"enabled",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("enabledchange"))}}),t.enabled&&(i.enabled=t.enabled),i.loaded_=!0,i}return e}(Iv),j2=function(r){Ce(e,r);function e(n){var i;n===void 0&&(n={});var t=Ft(n,{kind:k5[n.kind]||""});i=r.call(this,t)||this;var a=!1;return Object.defineProperty(et(i),"selected",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("selectedchange"))}}),t.selected&&(i.selected=t.selected),i}return e}(Iv),$2=0,O5=1,V2=2,L5=3,tu=function(r){Ce(e,r);function e(n){var i;n===void 0&&(n={}),i=r.call(this)||this;var t,a=new ic(n);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(et(i),{readyState:{get:function(){return t}},track:{get:function(){return a}}}),t=$2,a.addEventListener("loadeddata",function(){t=V2,i.trigger({type:"load",target:et(i)})}),i}return e}(vr);tu.prototype.allowedEvents_={load:"load"};tu.NONE=$2;tu.LOADING=O5;tu.LOADED=V2;tu.ERROR=L5;var Dn={audio:{ListClass:w5,TrackClass:U2,capitalName:"Audio"},video:{ListClass:C5,TrackClass:j2,capitalName:"Video"},text:{ListClass:M2,TrackClass:ic,capitalName:"Text"}};Object.keys(Dn).forEach(function(r){Dn[r].getterName=r+"Tracks",Dn[r].privateName=r+"Tracks_"});var Ko={remoteText:{ListClass:M2,TrackClass:ic,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:A5,TrackClass:tu,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Hr=Pn({},Dn,Ko);Ko.names=Object.keys(Ko);Dn.names=Object.keys(Dn);Hr.names=[].concat(Ko.names).concat(Dn.names);function R5(r,e,n,i,t){t===void 0&&(t={});var a=r.textTracks();t.kind=e,n&&(t.label=n),i&&(t.language=i),t.tech=r;var s=new Hr.text.TrackClass(t);return a.addTrack(s),s}var Pt=function(r){Ce(e,r);function e(i,t){var a;return i===void 0&&(i={}),t===void 0&&(t=function(){}),i.reportTouchActivity=!1,a=r.call(this,null,i,t)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Hr.names.forEach(function(s){var l=Hr[s];i&&i[l.getterName]&&(a[l.privateName]=i[l.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new Hr.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=e.prototype;return n.triggerSourceset=function(t){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Mt(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return ks(0,0)},n.bufferedPercent=function(){return F2(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Dn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},n.clearTracks=function(t){var a=this;t=[].concat(t),t.forEach(function(s){for(var l=a[s+"Tracks"]()||[],d=l.length;d--;){var f=l[d];s==="text"&&a.removeRemoteTextTrack(f),l.removeTrack(f)}})},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],a=t.length;a--;){var s=t[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(t){return t!==void 0&&(this.error_=new zr(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?ks(0,0):ks()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;Dn.names.forEach(function(a){var s=Dn[a],l=function(){t.trigger(a+"trackchange")},d=t[s.getterName]();d.addEventListener("removetrack",l),d.addEventListener("addtrack",l),t.on("dispose",function(){d.removeEventListener("removetrack",l),d.removeEventListener("addtrack",l)})})},n.addWebVttScript_=function(){var t=this;if(!j.WebVTT)if(be.body.contains(this.el())){if(!this.options_["vtt.js"]&&Nl(Yg.exports)&&Object.keys(Yg.exports).length>0){this.trigger("vttjsloaded");return}var a=be.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){t.trigger("vttjsloaded")},a.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),j.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,a=this.textTracks(),s=this.remoteTextTracks(),l=function(v){return a.addTrack(v.track)},d=function(v){return a.removeTrack(v.track)};s.on("addtrack",l),s.on("removetrack",d),this.addWebVttScript_();var f=function(){return t.trigger("texttrackchange")},h=function(){f();for(var v=0;v<a.length;v++){var T=a[v];T.removeEventListener("cuechange",f),T.mode==="showing"&&T.addEventListener("cuechange",f)}};h(),a.addEventListener("change",h),a.addEventListener("addtrack",h),a.addEventListener("removetrack",h),this.on("dispose",function(){s.off("addtrack",l),s.off("removetrack",d),a.removeEventListener("change",h),a.removeEventListener("addtrack",h),a.removeEventListener("removetrack",h);for(var g=0;g<a.length;g++){var v=a[g];v.removeEventListener("cuechange",f)}})},n.addTextTrack=function(t,a,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return R5(this,t,a,s)},n.createRemoteTextTrack=function(t){var a=Ft(t,{tech:this});return new Ko.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(t,a){var s=this;t===void 0&&(t={});var l=this.createRemoteTextTrack(t);return a!==!0&&a!==!1&&(ct.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(l.track)}),l},n.removeRemoteTextTrack=function(t){var a=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var t=this.options_.Promise||j.Promise;if(t)return t.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(t){var a=this,s=oa();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),t())})):this.requestNamedAnimationFrame(s,t),s},n.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,a){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=er(t),e.techs_[t]=a,e.techs_[Fd(t)]=a,t!=="Tech"&&e.defaultTechOrder_.push(t),a},e.getTech=function(t){if(!!t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=er(t),j&&j.videojs&&j.videojs[t])return ct.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),j.videojs[t]}},e}(he);Hr.names.forEach(function(r){var e=Hr[r];Pt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Pt.prototype.featuresVolumeControl=!0;Pt.prototype.featuresMuteControl=!0;Pt.prototype.featuresFullscreenResize=!1;Pt.prototype.featuresPlaybackRate=!1;Pt.prototype.featuresProgressEvents=!1;Pt.prototype.featuresSourceset=!1;Pt.prototype.featuresTimeupdateEvents=!1;Pt.prototype.featuresNativeTextTracks=!1;Pt.prototype.featuresVideoFrameCallback=!1;Pt.withSourceHandlers=function(r){r.registerSourceHandler=function(n,i){var t=r.sourceHandlers;t||(t=r.sourceHandlers=[]),i===void 0&&(i=t.length),t.splice(i,0,n)},r.canPlayType=function(n){for(var i=r.sourceHandlers||[],t,a=0;a<i.length;a++)if(t=i[a].canPlayType(n),t)return t;return""},r.selectSourceHandler=function(n,i){for(var t=r.sourceHandlers||[],a,s=0;s<t.length;s++)if(a=t[s].canHandleSource(n,i),a)return t[s];return null},r.canPlaySource=function(n,i){var t=r.selectSourceHandler(n,i);return t?t.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(n){var i=r.selectSourceHandler(n,this.options_);i||(r.nativeSourceHandler?i=r.nativeSourceHandler:ct.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==r.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};he.registerComponent("Tech",Pt);Pt.registerTech("Tech",Pt);Pt.defaultTechOrder_=[];var Ds={},hm={},cf={};function N5(r,e){Ds[r]=Ds[r]||[],Ds[r].push(e)}function F5(r,e,n){r.setTimeout(function(){return ps(e,Ds[e.type],n,r)},1)}function M5(r,e){r.forEach(function(n){return n.setTech&&n.setTech(e)})}function B5(r,e,n){return r.reduceRight(Rv(n),e[n]())}function U5(r,e,n,i){return e[n](r.reduce(Rv(n),i))}function Sb(r,e,n,i){i===void 0&&(i=null);var t="call"+er(n),a=r.reduce(Rv(t),i),s=a===cf,l=s?null:e[n](a);return V5(r,n,l,s),l}var j5={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},$5={setCurrentTime:1,setMuted:1,setVolume:1},xb={play:1,pause:1};function Rv(r){return function(e,n){return e===cf?cf:n[r]?n[r](e):e}}function V5(r,e,n,i){for(var t=r.length-1;t>=0;t--){var a=r[t];a[e]&&a[e](i,n)}}function H5(r){hm[r.id()]=null}function q5(r,e){var n=hm[r.id()],i=null;if(n==null)return i=e(r),hm[r.id()]=[[e,i]],i;for(var t=0;t<n.length;t++){var a=n[t],s=a[0],l=a[1];s===e&&(i=l)}return i===null&&(i=e(r),n.push([e,i])),i}function ps(r,e,n,i,t,a){r===void 0&&(r={}),e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a=!1);var s=e,l=s[0],d=s.slice(1);if(typeof l=="string")ps(r,Ds[l],n,i,t,a);else if(l){var f=q5(i,l);if(!f.setSource)return t.push(f),ps(r,d,n,i,t,a);f.setSource(Xt({},r),function(h,g){if(h)return ps(r,d,n,i,t,a);t.push(f),ps(g,r.type===g.type?d:Ds[g.type],n,i,t,a)})}else d.length?ps(r,d,n,i,t,a):a?n(r,t):ps(r,Ds["*"],n,i,t,!0)}var W5={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},df=function(e){e===void 0&&(e="");var n=Lv(e),i=W5[n.toLowerCase()];return i||""},G5=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(l){return l.src===n});if(i.length)return i[0].type;for(var t=e.$$("source"),a=0;a<t.length;a++){var s=t[a];if(s.type&&s.src&&s.src===n)return s.type}return df(n)},z5=function r(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=r(i),Array.isArray(i)?n=n.concat(i):Qi(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[Eb({src:e})]:Qi(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Eb(e)]:e=[];return e};function Eb(r){if(!r.type){var e=df(r.src);e&&(r.type=e)}return r}var K5=function(r){Ce(e,r);function e(n,i,t){var a,s=Ft({createEl:!1},i);if(a=r.call(this,n,s,t)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var l=0,d=i.playerOptions.techOrder;l<d.length;l++){var f=er(d[l]),h=Pt.getTech(f);if(f||(h=he.getComponent(f)),h&&h.isSupported()){n.loadTech_(f);break}}else n.src(i.playerOptions.sources);return a}return e}(he);he.registerComponent("MediaLoader",K5);var sh=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var n=e.prototype;return n.createEl=function(t,a,s){t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Xt({className:this.buildCSSClass(),tabIndex:0},a),t==="button"&&ct.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=Xt({role:"button"},s),this.tabIndex_=a.tabIndex;var l=gt(t,a,s);return l.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},n.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=gt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,a){if(a===void 0&&(a=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,Us(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){st.isEventKey(t,"Space")||st.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(he);he.registerComponent("ClickableComponent",sh);var X5=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},n.createEl=function(){var t=gt("div",{className:"vjs-poster",tabIndex:-1});return t},n.update=function(t){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(t){var a="";t&&(a='url("'+t+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(t){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((rc||tc)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?ui(this.player_.play()):this.player_.pause()}},e}(sh);he.registerComponent("PosterImage",X5);var Cn="#222",wb="#ccc",J5={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function dg(r,e){var n;if(r.length===4)n=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else if(r.length===7)n=r.slice(1);else throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function fg(r,e,n){try{r.style[e]=n}catch{return}}var Y5=function(r){Ce(e,r);function e(i,t,a){var s;s=r.call(this,i,t,a)||this;var l=function(f){return s.updateDisplay(f)};return i.on("loadstart",function(d){return s.toggleDisplay(d)}),i.on("texttrackchange",l),i.on("loadedmetadata",function(d){return s.preselectTrack(d)}),i.ready(Mt(et(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",l),i.on("playerresize",l),j.addEventListener("orientationchange",l),i.on("dispose",function(){return j.removeEventListener("orientationchange",l)});for(var d=this.options_.playerOptions.tracks||[],f=0;f<d.length;f++)this.player_.addRemoteTextTrack(d[f],!0);this.preselectTrack()})),s}var n=e.prototype;return n.preselectTrack=function(){for(var t={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,l,d,f,h=0;h<a.length;h++){var g=a[h];s&&s.enabled&&s.language&&s.language===g.language&&g.kind in t?g.kind===s.kind?f=g:f||(f=g):s&&!s.enabled?(f=null,l=null,d=null):g.default&&(g.kind==="descriptions"&&!l?l=g:g.kind in t&&!d&&(d=g))}f?f.mode="showing":d?d.mode="showing":l&&(l.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof j.WebVTT=="function"&&j.WebVTT.processCues(j,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],l=0;l<t.length;++l){var d=t[l];d.mode==="showing"&&s.push(d)}this.updateForTrack(s);return}for(var f=null,h=null,g=t.length;g--;){var v=t[g];v.mode==="showing"&&(v.kind==="descriptions"?f=v:h=v)}h?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(h)):f&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))},n.updateDisplayState=function(t){for(var a=this.player_.textTrackSettings.getValues(),s=t.activeCues,l=s.length;l--;){var d=s[l];if(!!d){var f=d.displayState;if(a.color&&(f.firstChild.style.color=a.color),a.textOpacity&&fg(f.firstChild,"color",dg(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(f.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&fg(f.firstChild,"backgroundColor",dg(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?fg(f,"backgroundColor",dg(a.windowColor,a.windowOpacity)):f.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?f.firstChild.style.textShadow="2px 2px 3px "+Cn+", 2px 2px 4px "+Cn+", 2px 2px 5px "+Cn:a.edgeStyle==="raised"?f.firstChild.style.textShadow="1px 1px "+Cn+", 2px 2px "+Cn+", 3px 3px "+Cn:a.edgeStyle==="depressed"?f.firstChild.style.textShadow="1px 1px "+wb+", 0 1px "+wb+", -1px -1px "+Cn+", 0 -1px "+Cn:a.edgeStyle==="uniform"&&(f.firstChild.style.textShadow="0 0 4px "+Cn+", 0 0 4px "+Cn+", 0 0 4px "+Cn+", 0 0 4px "+Cn)),a.fontPercent&&a.fontPercent!==1){var h=j.parseFloat(f.style.fontSize);f.style.fontSize=h*a.fontPercent+"px",f.style.height="auto",f.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?f.firstChild.style.fontVariant="small-caps":f.firstChild.style.fontFamily=J5[a.fontFamily])}}},n.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof j.WebVTT!="function"||t.every(function(T){return!T.activeCues}))){for(var a=[],s=0;s<t.length;++s)for(var l=t[s],d=0;d<l.activeCues.length;++d)a.push(l.activeCues[d]);j.WebVTT.processCues(j,a,this.el_);for(var f=0;f<t.length;++f){for(var h=t[f],g=0;g<h.activeCues.length;++g){var v=h.activeCues[g].displayState;zi(v,"vjs-text-track-cue"),zi(v,"vjs-text-track-cue-"+(h.language?h.language:f)),h.language&&Wo(v,"lang",h.language)}this.player_.textTrackSettings&&this.updateDisplayState(h)}}},e}(he);he.registerComponent("TextTrackDisplay",Y5);var Q5=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=this.player_.isAudio(),a=this.localize(t?"Audio Player":"Video Player"),s=gt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),l=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return l.appendChild(s),l},e}(he);he.registerComponent("LoadingSpinner",Q5);var Hn=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(t,a,s){a===void 0&&(a={}),s===void 0&&(s={}),t="button",a=Xt({className:this.buildCSSClass()},a),s=Xt({type:"button"},s);var l=gt(t,a,s);return l.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},n.addChild=function(t,a){a===void 0&&(a={});var s=this.constructor.name;return ct.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),he.prototype.addChild.call(this,t,a)},n.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){if(st.isEventKey(t,"Space")||st.isEventKey(t,"Enter")){t.stopPropagation();return}r.prototype.handleKeyDown.call(this,t)},e}(sh);he.registerComponent("Button",Hn);var H2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var a=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;ui(a),this.player_.tech(!0)&&!((rc||tc)&&s)&&this.player_.tech(!0).focus();return}var l=this.player_.getChild("controlBar"),d=l&&l.getChild("playToggle");if(!d){this.player_.tech(!0).focus();return}var f=function(){return d.focus()};vl(a)?a.then(f,function(){}):this.setTimeout(f,1)},n.handleKeyDown=function(t){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(Hn);H2.prototype.controlText_="Play Video";he.registerComponent("BigPlayButton",H2);var Z5=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.controlText(t&&t.controlText||a.localize("Close")),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){st.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(Hn);he.registerComponent("CloseButton",Z5);var q2=function(r){Ce(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,t.replay=t.replay===void 0||t.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),t.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?ui(this.player_.play()):this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(Hn);q2.prototype.controlText_="Play";he.registerComponent("PlayToggle",q2);var W2=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),t=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(n/60%60),l=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(a=t=i="-"),a=a>0||l>0?a+":":"",t=((a||s>=10)&&t<10?"0"+t:t)+":",i=i<10?"0"+i:i,a+t+i},Nv=W2;function e3(r){Nv=r}function t3(){Nv=W2}function Xo(r,e){return e===void 0&&(e=r),Nv(r,e)}var ru=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var n=e.prototype;return n.createEl=function(){var t=this.buildCSSClass(),a=r.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=gt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=gt("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},n.updateTextNode_=function(t){var a=this;t===void 0&&(t=0),t=Xo(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,ct.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=be.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},n.updateContent=function(t){},e}(he);ru.prototype.labelText_="Time";ru.prototype.controlText_="Time";he.registerComponent("TimeDisplay",ru);var Fv=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(ru);Fv.prototype.labelText_="Current Time";Fv.prototype.controlText_="Current Time";he.registerComponent("CurrentTimeDisplay",Fv);var Mv=function(r){Ce(e,r);function e(i,t){var a;a=r.call(this,i,t)||this;var s=function(d){return a.updateContent(d)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var a=this.player_.duration();this.updateTextNode_(a)},e}(ru);Mv.prototype.labelText_="Duration";Mv.prototype.controlText_="Duration";he.registerComponent("DurationDisplay",Mv);var r3=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=r.prototype.createEl.call(this,"div"),s=r.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),t.appendChild(a),t},e}(he);he.registerComponent("TimeDivider",r3);var Bv=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=r.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&t.insertBefore(gt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(t){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(ru);Bv.prototype.labelText_="Remaining Time";Bv.prototype.controlText_="Remaining Time";he.registerComponent("RemainingTimeDisplay",Bv);var n3=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=gt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(gt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(be.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(he);he.registerComponent("LiveDisplay",n3);var G2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=gt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},e}(Hn);G2.prototype.controlText_="Seek to live, currently playing live";he.registerComponent("SeekToLive",G2);var oh=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},Uv=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(!!this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Xt({tabIndex:0},a),s=Xt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),r.prototype.createEl.call(this,t,a,s)},n.handleMouseDown=function(t){var a=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!sa&&t.preventDefault(),T2(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;S2(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var t=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},n.getProgress=function(){return Number(oh(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var a=th(this.el_,t);return this.vertical()?a.y:a.x},n.handleKeyDown=function(t){st.isEventKey(t,"Left")||st.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):st.isEventKey(t,"Right")||st.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,t)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(he);he.registerComponent("Slider",Uv);var hg=function(e,n){return oh(e/n*100,0,100).toFixed(2)+"%"},i3=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=gt("span",{className:"vjs-control-text"}),s=gt("span",{textContent:this.localize("Loaded")}),l=be.createTextNode(": ");return this.percentageEl_=gt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(a),a.appendChild(s),a.appendChild(l),a.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},n.update=function(t){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,l=a.player_.buffered(),d=s&&s.isLive()?s.seekableEnd():a.player_.duration(),f=a.player_.bufferedEnd(),h=a.partEls_,g=hg(f,d);a.percent_!==g&&(a.el_.style.width=g,Us(a.percentageEl_,g),a.percent_=g);for(var v=0;v<l.length;v++){var T=l.start(v),A=l.end(v),P=h[v];P||(P=a.el_.appendChild(gt()),h[v]=P),!(P.dataset.start===T&&P.dataset.end===A)&&(P.dataset.start=T,P.dataset.end=A,P.style.left=hg(T,f),P.style.width=hg(A-T,f))}for(var D=h.length;D>l.length;D--)a.el_.removeChild(h[D-1]);h.length=l.length})},e}(he);he.registerComponent("LoadProgressBar",i3);var a3=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Zi(Mt(et(a),a.update),Wn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,a,s){var l=Ml(this.el_),d=Go(this.player_.el()),f=t.width*a;if(!(!d||!l)){var h=t.left-d.left+f,g=t.width-f+(d.right-t.right),v=l.width/2;h<v?v+=v-h:g<v&&(v=g),v<0?v=0:v>l.width&&(v=l.width),v=Math.round(v),this.el_.style.right="-"+v+"px",this.write(s)}},n.write=function(t){Us(this.el_,t)},n.updateTime=function(t,a,s,l){var d=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var f,h=d.player_.duration();if(d.player_.liveTracker&&d.player_.liveTracker.isLive()){var g=d.player_.liveTracker.liveWindow(),v=g-a*g;f=(v<1?"":"-")+Xo(v,g)}else f=Xo(s,h);d.update(t,a,f),l&&l()})},e}(he);he.registerComponent("TimeTooltip",a3);var jv=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Zi(Mt(et(a),a.update),Wn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,a){var s=this.getChild("timeTooltip");if(!!s){var l=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,a,l)}},e}(he);jv.prototype.options_={children:[]};!Kr&&!aa&&jv.prototype.options_.children.push("timeTooltip");he.registerComponent("PlayProgressBar",jv);var z2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Zi(Mt(et(a),a.update),Wn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,a){var s=this,l=a*this.player_.duration();this.getChild("timeTooltip").updateTime(t,a,l,function(){s.el_.style.left=t.width*a+"px"})},e}(he);z2.prototype.options_={children:["timeTooltip"]};he.registerComponent("MouseTimeDisplay",z2);var Td=5,Cb=12,$v=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.setEventHandlers_(),a}var n=e.prototype;return n.setEventHandlers_=function(){var t=this;this.update_=Mt(this,this.update),this.update=Zi(this.update_,Wn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return t.enableInterval_(a)},this.disableIntervalHandler_=function(a){return t.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in be&&"visibilityState"in be&&this.on(be,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){be.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Wn))},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var a=this;if(be.visibilityState!=="hidden"){var s=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var l=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),d=a.player_.liveTracker,f=a.player_.duration();d&&d.isLive()&&(f=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==l||a.duration_!==f)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[Xo(l,f),Xo(f,f)],"{1} of {2}")),a.currentTime_=l,a.duration_=f),a.bar&&a.bar.update(Go(a.el()),a.getProgress())}),s}},n.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var t=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=t/this.player_.duration(),a},n.handleMouseDown=function(t){!Bl(t)||(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(t,a){if(a===void 0&&(a=!1),!!Bl(t)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,l=this.calculateDistance(t),d=this.player_.liveTracker;if(!d||!d.isLive())s=l*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(l>=.99){d.seekToLiveEdge();return}var f=d.seekableStart(),h=d.liveCurrentTime();if(s=f+l*d.liveWindow(),s>=h&&(s=h),s<=f&&(s=f+.1),s===1/0)return}this.userSeek_(s)}},n.enable=function(){r.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.show()},n.disable=function(){r.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.hide()},n.handleMouseUp=function(t){r.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ui(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+Td)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-Td)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var a=this.player_.liveTracker;if(st.isEventKey(t,"Space")||st.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(st.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(st.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(st(t))){t.preventDefault(),t.stopPropagation();var s=(st.codes[st(t)]-st.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else st.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-Td*Cb)):st.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+Td*Cb)):r.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in be&&"visibilityState"in be&&this.off(be,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},e}(Uv);$v.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Kr&&!aa&&$v.prototype.options_.children.splice(1,0,"mouseTimeDisplay");he.registerComponent("SeekBar",$v);var K2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleMouseMove=Zi(Mt(et(a),a.handleMouseMove),Wn),a.throttledHandleMouseSeek=Zi(Mt(et(a),a.handleMouseSeek),Wn),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),l=a.getChild("mouseTimeDisplay");if(!(!s&&!l)){var d=a.el(),f=Ml(d),h=th(d,t).x;h=oh(h,0,1),l&&l.update(f,h),s&&s.update(f,a.getProgress())}}},n.handleMouseSeek=function(t){var a=this.getChild("seekBar");a&&a.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&ui(this.player_.play())}},n.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(t){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(he);K2.prototype.options_={children:["seekBar"]};he.registerComponent("ProgressControl",K2);var X2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){be.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Hn);X2.prototype.controlText_="Picture-in-Picture";he.registerComponent("PictureInPictureToggle",X2);var J2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),be[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Hn);J2.prototype.controlText_="Fullscreen";he.registerComponent("FullscreenToggle",J2);var s3=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},o3=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(r.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(he);he.registerComponent("VolumeLevel",o3);var u3=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Zi(Mt(et(a),a.update),Wn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(t,a,s,l){if(!s){var d=Go(this.el_),f=Go(this.player_.el()),h=t.width*a;if(!f||!d)return;var g=t.left-f.left+h,v=t.width-h+(f.right-t.right),T=d.width/2;g<T?T+=T-g:v<T&&(T=v),T<0?T=0:T>d.width&&(T=d.width),this.el_.style.right="-"+T+"px"}this.write(l+"%")},n.write=function(t){Us(this.el_,t)},n.updateVolume=function(t,a,s,l,d){var f=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){f.update(t,a,s,l.toFixed(0)),d&&d()})},e}(he);he.registerComponent("VolumeLevelTooltip",u3);var Y2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Zi(Mt(et(a),a.update),Wn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,a,s){var l=this,d=100*a;this.getChild("volumeLevelTooltip").updateVolume(t,a,s,d,function(){s?l.el_.style.bottom=t.height*a+"px":l.el_.style.left=t.width*a+"px"})},e}(he);Y2.prototype.options_={children:["volumeLevelTooltip"]};he.registerComponent("MouseVolumeLevelDisplay",Y2);var uh=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){!Bl(t)||r.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(t){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),l=Go(s),d=this.vertical(),f=th(s,t);f=d?f.y:f.x,f=oh(f,0,1),a.update(l,f,d)}!Bl(t)||(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var t=this,a=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(a)})},e}(Uv);uh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Kr&&!aa&&uh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");uh.prototype.playerEvent="volumechange";he.registerComponent("VolumeBar",uh);var Q2=function(r){Ce(e,r);function e(i,t){var a;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||Nl(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),a=r.call(this,i,t)||this,s3(et(a),i),a.throttledHandleMouseMove=Zi(Mt(et(a),a.handleMouseMove),Wn),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=e.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(t){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(he);Q2.prototype.options_={children:["volumeBar"]};he.registerComponent("VolumeControl",Q2);var l3=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Z2=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,l3(et(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var l=s<.1?.1:s;this.player_.volume(l),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),a=3;Kr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?a=0:t<.33?a=1:t<.67&&(a=2);for(var s=0;s<4;s++)nc(this.el_,"vjs-vol-"+s);zi(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,a=t?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(Hn);Z2.prototype.controlText_="Mute";he.registerComponent("MuteToggle",Z2);var eE=function(r){Ce(e,r);function e(i,t){var a;return t===void 0&&(t={}),typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||Nl(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),a=r.call(this,i,t)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(t){st.isEventKey(t,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(t){this.addClass("vjs-hover"),vn(be,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(t){this.removeClass("vjs-hover"),Br(be,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(t){st.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(he);eE.prototype.options_={children:["muteToggle","volumeControl"]};he.registerComponent("VolumePanel",eE);var tE=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,t&&(a.menuButton_=t.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof he&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof he&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),r.prototype.removeChild.call(this,t)},n.addItem=function(t){var a=this.addChild(t);a&&this.addEventListenerForItem(a)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=gt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),vn(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},n.handleBlur=function(t){var a=t.relatedTarget||be.activeElement;if(!this.children().some(function(l){return l.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(l){return l.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(t){st.isEventKey(t,"Left")||st.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(st.isEventKey(t,"Right")||st.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){t===void 0&&(t=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(t<0?t=0:t>=a.length&&(t=a.length-1),this.focusedChild_=t,a[t].el_.focus())},e}(he);he.registerComponent("Menu",tE);var Vv=function(r){Ce(e,r);function e(i,t){var a;t===void 0&&(t={}),a=r.call(this,i,t)||this,a.menuButton_=new Hn(i,t),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Hn.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var l=function(f){return a.handleClick(f)};return a.handleMenuKeyUp_=function(d){return a.handleMenuKeyUp(d)},a.on(a.menuButton_,"tap",l),a.on(a.menuButton_,"click",l),a.on(a.menuButton_,"keydown",function(d){return a.handleKeyDown(d)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),vn(be,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(d){return a.handleMouseLeave(d)}),a.on("keydown",function(d){return a.handleSubmenuKeyDown(d)}),a}var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var t=new tE(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=gt("li",{className:"vjs-menu-title",textContent:er(this.options_.title),tabIndex:-1}),s=new he(this.player_,{el:a});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var l=0;l<this.items.length;l++)t.addItem(this.items[l]);return t},n.createItems=function(){},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var a=Hn.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+a+" "+r.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+r.prototype.buildCSSClass.call(this)},n.controlText=function(t,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(t,a)},n.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Br(be,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){st.isEventKey(t,"Esc")||st.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),st.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(st.isEventKey(t,"Up")||st.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(t){(st.isEventKey(t,"Esc")||st.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(st.isEventKey(t,"Esc")||st.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),st.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Kr&&m2())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(he);he.registerComponent("MenuButton",Vv);var Hv=function(r){Ce(e,r);function e(n,i){var t,a=i.tracks;if(t=r.call(this,n,i)||this,t.items.length<=1&&t.hide(),!a)return et(t);var s=Mt(et(t),t.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),t}return e}(Vv);he.registerComponent("TrackButton",Hv);var c3=["Tab","Esc","Up","Down","Right","Left"],ac=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.selectable=t.selectable,a.isSelected_=t.selected||!1,a.multiSelectable=t.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=e.prototype;return n.createEl=function(t,a,s){this.nonIconControl=!0;var l=r.prototype.createEl.call(this,"li",Xt({className:"vjs-menu-item",tabIndex:-1},a),s);return l.replaceChild(gt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),l.querySelector(".vjs-icon-placeholder")),l},n.handleKeyDown=function(t){c3.some(function(a){return st.isEventKey(t,a)})||r.prototype.handleKeyDown.call(this,t)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(sh);he.registerComponent("MenuItem",ac);var sc=function(r){Ce(e,r);function e(i,t){var a,s=t.track,l=i.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",a=r.call(this,i,t)||this,a.track=s,a.kinds=(t.kinds||[t.kind||a.track.kind]).filter(Boolean);var d=function(){for(var v=arguments.length,T=new Array(v),A=0;A<v;A++)T[A]=arguments[A];a.handleTracksChange.apply(et(a),T)},f=function(){for(var v=arguments.length,T=new Array(v),A=0;A<v;A++)T[A]=arguments[A];a.handleSelectedLanguageChange.apply(et(a),T)};if(i.on(["loadstart","texttrackchange"],d),l.addEventListener("change",d),l.addEventListener("selectedlanguagechange",f),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],d),l.removeEventListener("change",d),l.removeEventListener("selectedlanguagechange",f)}),l.onchange===void 0){var h;a.on(["tap","click"],function(){if(typeof j.Event!="object")try{h=new j.Event("change")}catch{}h||(h=be.createEvent("Event"),h.initEvent("change",!0,!0)),l.dispatchEvent(h)})}return a.handleTracksChange(),a}var n=e.prototype;return n.handleClick=function(t){var a=this.track,s=this.player_.textTracks();if(r.prototype.handleClick.call(this,t),!!s)for(var l=0;l<s.length;l++){var d=s[l];this.kinds.indexOf(d.kind)!==-1&&(d===a?d.mode!=="showing"&&(d.mode="showing"):d.mode!=="disabled"&&(d.mode="disabled"))}},n.handleTracksChange=function(t){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,r.prototype.dispose.call(this)},e}(ac);he.registerComponent("TextTrackMenuItem",sc);var rE=function(r){Ce(e,r);function e(i,t){return t.track={player:i,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,r.call(this,i,t)||this}var n=e.prototype;return n.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,d=a.length;l<d;l++){var f=a[l];if(this.options_.kinds.indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,d=a.length;l<d;l++){var f=a[l];if(["captions","descriptions","subtitles"].indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(sc);he.registerComponent("OffTextTrackMenuItem",rE);var nu=function(r){Ce(e,r);function e(i,t){return t===void 0&&(t={}),t.tracks=i.textTracks(),r.call(this,i,t)||this}var n=e.prototype;return n.createItems=function(t,a){t===void 0&&(t=[]),a===void 0&&(a=sc);var s;this.label_&&(s=this.label_+" off"),t.push(new rE(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var l=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var d=0;d<l.length;d++){var f=l[d];if(this.kinds_.indexOf(f.kind)>-1){var h=new a(this.player_,{track:f,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});h.addClass("vjs-"+f.kind+"-menu-item"),t.push(h)}}return t},e}(Hv);he.registerComponent("TextTrackButton",nu);var nE=function(r){Ce(e,r);function e(i,t){var a,s=t.track,l=t.cue,d=i.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=l.text,t.selected=l.startTime<=d&&d<l.endTime,a=r.call(this,i,t)||this,a.track=s,a.cue=l,a}var n=e.prototype;return n.handleClick=function(t){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(ac);he.registerComponent("ChaptersTrackMenuItem",nE);var qv=function(r){Ce(e,r);function e(i,t,a){var s;return s=r.call(this,i,t,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(l){l.selected(s.track_.activeCues[0]===l.cue)})},s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!(t&&t.track&&t.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),r.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&r.prototype.update.call(this)}},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],a=t.length-1;a>=0;a--){var s=t[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(er(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var a=this.track_.cues;if(!a)return t;for(var s=0,l=a.length;s<l;s++){var d=a[s],f=new nE(this.player_,{track:this.track_,cue:d});t.push(f)}return t},e}(nu);qv.prototype.kind_="chapters";qv.prototype.controlText_="Chapters";he.registerComponent("ChaptersButton",qv);var Wv=function(r){Ce(e,r);function e(i,t,a){var s;s=r.call(this,i,t,a)||this;var l=i.textTracks(),d=Mt(et(s),s.handleTracksChange);return l.addEventListener("change",d),s.on("dispose",function(){l.removeEventListener("change",d)}),s}var n=e.prototype;return n.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!1,l=0,d=a.length;l<d;l++){var f=a[l];if(f.kind!==this.kind_&&f.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(nu);Wv.prototype.kind_="descriptions";Wv.prototype.controlText_="Descriptions";he.registerComponent("DescriptionsButton",Wv);var Gv=function(r){Ce(e,r);function e(i,t,a){return r.call(this,i,t,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(nu);Gv.prototype.kind_="subtitles";Gv.prototype.controlText_="Subtitles";he.registerComponent("SubtitlesButton",Gv);var zv=function(r){Ce(e,r);function e(i,t){var a;return t.track={player:i,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",a=r.call(this,i,t)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+t.kind+" settings dialog"),a}var n=e.prototype;return n.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(sc);he.registerComponent("CaptionSettingsMenuItem",zv);var Kv=function(r){Ce(e,r);function e(i,t,a){return r.call(this,i,t,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new zv(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,t)},e}(nu);Kv.prototype.kind_="captions";Kv.prototype.controlText_="Captions";he.registerComponent("CaptionsButton",Kv);var iE=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),d=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(d.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),d.appendChild(gt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),l},e}(sc);he.registerComponent("SubsCapsMenuItem",iE);var Xv=function(r){Ce(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(er(a.label_)),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new zv(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=r.prototype.createItems.call(this,t,iE),t},e}(nu);Xv.prototype.kinds_=["captions","subtitles"];Xv.prototype.controlText_="Subtitles";he.registerComponent("SubsCapsButton",Xv);var aE=function(r){Ce(e,r);function e(i,t){var a,s=t.track,l=i.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,a=r.call(this,i,t)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var d=function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];a.handleTracksChange.apply(et(a),g)};return l.addEventListener("change",d),a.on("dispose",function(){l.removeEventListener("change",d)}),a}var n=e.prototype;return n.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),d=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(d.appendChild(gt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),d.appendChild(gt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),l},n.handleClick=function(t){if(r.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];l!==this.track&&(l.enabled=l===this.track)}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(ac);he.registerComponent("AudioTrackMenuItem",aE);var sE=function(r){Ce(e,r);function e(i,t){return t===void 0&&(t={}),t.tracks=i.audioTracks(),r.call(this,i,t)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];t.push(new aE(this.player_,{track:l,selectable:!0,multiSelectable:!1}))}return t},e}(Hv);sE.prototype.controlText_="Audio Track";he.registerComponent("AudioTrackButton",sE);var Jv=function(r){Ce(e,r);function e(i,t){var a,s=t.rate,l=parseFloat(s,10);return t.label=s,t.selected=l===i.playbackRate(),t.selectable=!0,t.multiSelectable=!1,a=r.call(this,i,t)||this,a.label=s,a.rate=l,a.on(i,"ratechange",function(d){return a.update(d)}),a}var n=e.prototype;return n.handleClick=function(t){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(ac);Jv.prototype.contentElType="button";he.registerComponent("PlaybackRateMenuItem",Jv);var oE=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=gt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var t=this.playbackRates(),a=[],s=t.length-1;s>=0;s--)a.push(new Jv(this.player(),{rate:t[s]+"x"}));return a},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){var a=this.player().playbackRate(),s=this.playbackRates(),l=s.indexOf(a),d=(l+1)%s.length;this.player().playbackRate(s[d])},n.handlePlaybackRateschange=function(t){this.update()},n.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Vv);oE.prototype.controlText_="Playback Rate";he.registerComponent("PlaybackRateMenuButton",oE);var uE=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},n.createEl=function(t,a,s){return t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),r.prototype.createEl.call(this,t,a,s)},e}(he);he.registerComponent("Spacer",uE);var d3=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(uE);he.registerComponent("CustomControlSpacer",d3);var ff=function(r){Ce(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(he);ff.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in be&&ff.prototype.options_.children.splice(ff.prototype.options_.children.length-1,0,"pictureInPictureToggle");he.registerComponent("ControlBar",ff);var lE=function(r){Ce(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"error",function(s){return a.open(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(eu);lE.prototype.options_=Pn({},eu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});he.registerComponent("ErrorDisplay",lE);var pg="vjs-text-track-settings",Ab=["#000","Black"],kb=["#00F","Blue"],Db=["#0FF","Cyan"],Pb=["#0F0","Green"],Ib=["#F0F","Magenta"],Ob=["#F00","Red"],Lb=["#FFF","White"],Rb=["#FF0","Yellow"],gg=["1","Opaque"],mg=["0.5","Semi-Transparent"],Nb=["0","Transparent"],ms={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ab,Lb,Ob,Pb,kb,Rb,Ib,Db]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[gg,mg,Nb]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Lb,Ab,Ob,Pb,kb,Rb,Ib,Db]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[gg,mg]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Nb,mg,gg]}};ms.windowColor.options=ms.backgroundColor.options;function cE(r,e){if(e&&(r=e(r)),r&&r!=="none")return r}function f3(r,e){var n=r.options[r.options.selectedIndex].value;return cE(n,e)}function h3(r,e,n){if(!!e){for(var i=0;i<r.options.length;i++)if(cE(r.options[i].value,n)===e){r.selectedIndex=i;break}}}var p3=function(r){Ce(e,r);function e(i,t){var a;return t.temporary=!1,a=r.call(this,i,t)||this,a.updateDisplay=a.updateDisplay.bind(et(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=gt("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),t.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Do(ms,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=e.prototype;return n.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},n.createElSelect_=function(t,a,s){var l=this;a===void 0&&(a=""),s===void 0&&(s="label");var d=ms[t],f=d.id.replace("%s",this.id_),h=[a,f].join(" ").trim();return["<"+s+' id="'+f+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(d.label),"</"+s+">",'<select aria-labelledby="'+h+'">'].concat(d.options.map(function(g){var v=f+"-"+g[1].replace(/\W+/g,"");return['<option id="'+v+'" value="'+g[0]+'" ','aria-labelledby="'+h+" "+v+'">',l.localize(g[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return gt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return gt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return gt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t=this;return r5(ms,function(a,s,l){var d=f3(t.$(s.selector),s.parser);return d!==void 0&&(a[l]=d),a},{})},n.setValues=function(t){var a=this;Do(ms,function(s,l){h3(a.$(s.selector),t[l],s.parser)})},n.setDefaults=function(){var t=this;Do(ms,function(a){var s=a.hasOwnProperty("default")?a.default:0;t.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var t;try{t=JSON.parse(j.localStorage.getItem(pg))}catch(a){ct.warn(a)}t&&this.setValues(t)},n.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?j.localStorage.setItem(pg,JSON.stringify(t)):j.localStorage.removeItem(pg)}catch(a){ct.warn(a)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,a=t&&t.subsCapsButton,s=t&&t.captionsButton;a?a.focus():s&&s.focus()},e}(eu);he.registerComponent("TextTrackSettings",p3);var g3=function(r){Ce(e,r);function e(i,t){var a,s=t.ResizeObserver||j.ResizeObserver;t.ResizeObserver===null&&(s=!1);var l=Ft({createEl:!s,reportTouchActivity:!1},t);return a=r.call(this,i,l)||this,a.ResizeObserver=t.ResizeObserver||j.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=h5(function(){a.resizeHandler()},100,!1,et(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var d=a.debouncedHandler_,f=a.unloadListener_=function(){Br(this,"resize",d),Br(this,"unload",f),f=null};vn(a.el_.contentWindow,"unload",f),vn(a.el_.contentWindow,"resize",d)}},a.one("load",a.loadListener_)),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},e}(he);he.registerComponent("ResizeManager",g3);var m3={trackingThreshold:20,liveTolerance:15},v3=function(r){Ce(e,r);function e(i,t){var a,s=Ft(m3,t,{createEl:!1});return a=r.call(this,i,s)||this,a.handleVisibilityChange_=function(l){return a.handleVisibilityChange(l)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(l){return a.handlePlay(l)},a.handleFirstTimeupdate_=function(l){return a.handleFirstTimeupdate(l)},a.handleSeeked_=function(l){return a.handleSeeked(l)},a.seekToLiveEdge_=function(l){return a.seekToLiveEdge(l)},a.reset_(),a.on(a.player_,"durationchange",function(l){return a.handleDurationchange(l)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),rc&&"hidden"in be&&"visibilityState"in be&&a.on(be,"visibilitychange",a.handleVisibilityChange_),a}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(be.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var a=Number(j.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var l=this.liveCurrentTime(),d=this.player_.currentTime(),f=this.player_.paused()||this.seekedBehindLive_||Math.abs(l-d)>this.options_.liveTolerance;(!this.timeupdateSeen_||l===1/0)&&(f=!1),f!==this.behindLiveEdge_&&(this.behindLiveEdge_=f,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Wn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(be,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},e}(he);he.registerComponent("LiveTracker",v3);var pm=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),t=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var l=i[s].src;l&&t.indexOf(l)===-1&&t.push(l)}return t.length?(t.length===1&&(a=t[0]),e.triggerSourceset(a),!0):!1},_3=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=be.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=be.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",j.Element.prototype.appendChild.call(this,i),this.innerHTML}}),dE=function(e,n){for(var i={},t=0;t<e.length&&(i=Object.getOwnPropertyDescriptor(e[t],n),!(i&&i.set&&i.get));t++);return i.enumerable=!0,i.configurable=!0,i},y3=function(e){return dE([e.el(),j.HTMLMediaElement.prototype,j.Element.prototype,_3],"innerHTML")},Fb=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},t=y3(e),a=function(l){return function(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];var g=l.apply(n,f);return pm(e),g}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!n[s]||(i[s]=n[s],n[s]=a(i[s]))}),Object.defineProperty(n,"innerHTML",Ft(t,{set:a(t.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(s){n[s]=i[s]}),Object.defineProperty(n,"innerHTML",t)},e.one("sourceset",n.resetSourceWatch_)}},b3=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?B2(j.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return j.Element.prototype.setAttribute.call(this,"src",e),e}}),T3=function(e){return dE([e.el(),j.HTMLMediaElement.prototype,b3],"src")},S3=function(e){if(!!e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=T3(e),t=n.setAttribute,a=n.load;Object.defineProperty(n,"src",Ft(i,{set:function(l){var d=i.set.call(n,l);return e.triggerSourceset(n.src),d}})),n.setAttribute=function(s,l){var d=t.call(n,s,l);return/src/i.test(s)&&e.triggerSourceset(n.src),d},n.load=function(){var s=a.call(n);return pm(e)||(e.triggerSourceset(""),Fb(e)),s},n.currentSrc?e.triggerSourceset(n.currentSrc):pm(e)||Fb(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=t,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},Yv=function(e,n,i,t){t===void 0&&(t=!0);var a=function(d){return Object.defineProperty(e,n,{value:d,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var d=i();return a(d),d}};return t&&(s.set=a),Object.defineProperty(e,n,s)},Le=function(r){Ce(e,r);function e(i,t){var a;a=r.call(this,i,t)||this;var s=i.source,l=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var d=a.el_.childNodes,f=d.length,h=[];f--;){var g=d[f],v=g.nodeName.toLowerCase();v==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(g),a.remoteTextTracks().addTrack(g.track),a.textTracks().addTrack(g.track),!l&&!a.el_.hasAttribute("crossorigin")&&ah(g.src)&&(l=!0)):h.push(g))}for(var T=0;T<h.length;T++)a.el_.removeChild(h[T])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&l&&ct.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(qo||Cv||d2)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){S3(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),a,s=function(){a=[];for(var f=0;f<t.length;f++){var h=t[f];h.kind==="metadata"&&a.push({track:h,storedMode:h.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var l=function d(){for(var f=0;f<a.length;f++){var h=a[f];h.track.mode==="disabled"&&h.track.mode!==h.storedMode&&(h.track.mode=h.storedMode)}t.removeEventListener("change",d)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",l),t.addEventListener("change",l)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",l)})},n.overrideNative_=function(t,a){var s=this;if(a===this["featuresNative"+t+"Tracks"]){var l=t.toLowerCase();this[l+"TracksListeners_"]&&Object.keys(this[l+"TracksListeners_"]).forEach(function(d){var f=s.el()[l+"Tracks"];f.removeEventListener(d,s[l+"TracksListeners_"][d])}),this["featuresNative"+t+"Tracks"]=!a,this[l+"TracksListeners_"]=null,this.proxyNativeTracksForType_(l)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var a=this,s=Dn[t],l=this.el()[s.getterName],d=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!l||!l.addEventListener)){var f={change:function(v){var T={type:"change",target:d,currentTarget:d,srcElement:d};d.trigger(T),t==="text"&&a[Ko.remoteText.getterName]().trigger(T)},addtrack:function(v){d.addTrack(v.track)},removetrack:function(v){d.removeTrack(v.track)}},h=function(){for(var v=[],T=0;T<d.length;T++){for(var A=!1,P=0;P<l.length;P++)if(l[P]===d[T]){A=!0;break}A||v.push(d[T])}for(;v.length;)d.removeTrack(v.shift())};this[s.getterName+"Listeners_"]=f,Object.keys(f).forEach(function(g){var v=f[g];l.addEventListener(g,v),a.on("dispose",function(T){return l.removeEventListener(g,v)})}),this.on("loadstart",h),this.on("dispose",function(g){return a.off("loadstart",h)})}},n.proxyNativeTracks_=function(){var t=this;Dn.names.forEach(function(a){t.proxyNativeTracksForType_(a)})},n.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var a=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(a,t),e.disposeMediaElement(t),t=a}else{t=be.createElement("video");var s=this.options_.tag&&Ui(this.options_.tag),l=Ft({},s);(!qo||this.options_.nativeControlsForTouch!==!0)&&delete l.controls,y2(t,Xt(l,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Wo(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var d=["loop","muted","playsinline","autoplay"],f=0;f<d.length;f++){var h=d[f],g=this.options_[h];typeof g<"u"&&(g?Wo(t,h,h):eh(t,h),t[h]=g)}return t},n.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var l=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",l),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",l),a||this.trigger("loadstart")});return}var d=["loadstart"];d.push("loadedmetadata"),t.readyState>=2&&d.push("loadeddata"),t.readyState>=3&&d.push("canplay"),t.readyState>=4&&d.push("canplaythrough"),this.ready(function(){d.forEach(function(f){this.trigger(f)},this)})}},n.setScrubbing=function(t){this.isScrubbing_=t},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&Zf?this.el_.fastSeek(t):this.el_.currentTime=t}catch(a){ct(a,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&aa&&sa&&this.el_.currentTime===0){var a=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=j.navigator&&j.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)ui(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):r.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):r.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(t,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,a,s):r.prototype.addTextTrack.call(this,t,a,s)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,t);var a=be.createElement("track");return t.kind&&(a.kind=t.kind),t.label&&(a.label=t.label),(t.language||t.srclang)&&(a.srclang=t.language||t.srclang),t.default&&(a.default=t.default),t.id&&(a.id=t.id),t.src&&(a.src=t.src),a},n.addRemoteTextTrack=function(t,a){var s=r.prototype.addRemoteTextTrack.call(this,t,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(t){if(r.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(t===a[s]||t===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),j.performance&&typeof j.performance.now=="function"?t.creationTime=j.performance.now():j.performance&&j.performance.timing&&typeof j.performance.timing.navigationStart=="number"&&(t.creationTime=j.Date.now()-j.performance.timing.navigationStart),t},e}(Pt);Yv(Le,"TEST_VID",function(){if(!!Yo()){var r=be.createElement("video"),e=be.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",r.appendChild(e),r}});Le.isSupported=function(){try{Le.TEST_VID.volume=.5}catch{return!1}return!!(Le.TEST_VID&&Le.TEST_VID.canPlayType)};Le.canPlayType=function(r){return Le.TEST_VID.canPlayType(r)};Le.canPlaySource=function(r,e){return Le.canPlayType(r.type)};Le.canControlVolume=function(){try{var r=Le.TEST_VID.volume;Le.TEST_VID.volume=r/2+.1;var e=r!==Le.TEST_VID.volume;return e&&Kr?(j.setTimeout(function(){Le&&Le.prototype&&(Le.prototype.featuresVolumeControl=r!==Le.TEST_VID.volume)}),!1):e}catch{return!1}};Le.canMuteVolume=function(){try{var r=Le.TEST_VID.muted;return Le.TEST_VID.muted=!r,Le.TEST_VID.muted?Wo(Le.TEST_VID,"muted","muted"):eh(Le.TEST_VID,"muted","muted"),r!==Le.TEST_VID.muted}catch{return!1}};Le.canControlPlaybackRate=function(){if(aa&&sa&&h2<58)return!1;try{var r=Le.TEST_VID.playbackRate;return Le.TEST_VID.playbackRate=r/2+.1,r!==Le.TEST_VID.playbackRate}catch{return!1}};Le.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(be.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(be.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(be.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(be.createElement("audio"),"innerHTML",{get:r,set:r})}catch{return!1}return!0};Le.supportsNativeTextTracks=function(){return Zf||Kr&&sa};Le.supportsNativeVideoTracks=function(){return!!(Le.TEST_VID&&Le.TEST_VID.videoTracks)};Le.supportsNativeAudioTracks=function(){return!!(Le.TEST_VID&&Le.TEST_VID.audioTracks)};Le.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var e=r[0],n=r[1];Yv(Le.prototype,e,function(){return Le[n]()},!0)});Le.prototype.featuresVolumeControl=Le.canControlVolume();Le.prototype.movingMediaElementInDOM=!Kr;Le.prototype.featuresFullscreenResize=!0;Le.prototype.featuresProgressEvents=!0;Le.prototype.featuresTimeupdateEvents=!0;Le.prototype.featuresVideoFrameCallback=!!(Le.TEST_VID&&Le.TEST_VID.requestVideoFrameCallback);var hf;Le.patchCanPlayType=function(){xv>=4&&!f2&&!sa&&(hf=Le.TEST_VID&&Le.TEST_VID.constructor.prototype.canPlayType,Le.TEST_VID.constructor.prototype.canPlayType=function(r){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return r&&e.test(r)?"maybe":hf.call(this,r)})};Le.unpatchCanPlayType=function(){var r=Le.TEST_VID.constructor.prototype.canPlayType;return hf&&(Le.TEST_VID.constructor.prototype.canPlayType=hf),r};Le.patchCanPlayType();Le.disposeMediaElement=function(r){if(!!r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};Le.resetMediaElement=function(r){if(!!r){for(var e=r.querySelectorAll("source"),n=e.length;n--;)r.removeChild(e[n]);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){Le.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){Le.prototype["set"+er(r)]=function(e){this.el_[r]=e,e?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){Le.prototype[r]=function(){return this.el_[r]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){Le.prototype["set"+er(r)]=function(e){this.el_[r]=e}});["pause","load","play"].forEach(function(r){Le.prototype[r]=function(){return this.el_[r]()}});Pt.withSourceHandlers(Le);Le.nativeSourceHandler={};Le.nativeSourceHandler.canPlayType=function(r){try{return Le.TEST_VID.canPlayType(r)}catch{return""}};Le.nativeSourceHandler.canHandleSource=function(r,e){if(r.type)return Le.nativeSourceHandler.canPlayType(r.type);if(r.src){var n=Lv(r.src);return Le.nativeSourceHandler.canPlayType("video/"+n)}return""};Le.nativeSourceHandler.handleSource=function(r,e,n){e.setSrc(r.src)};Le.nativeSourceHandler.dispose=function(){};Le.registerSourceHandler(Le.nativeSourceHandler);Pt.registerTech("Html5",Le);var fE=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],vg={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},gm=["tiny","xsmall","small","medium","large","xlarge","huge"],Md={};gm.forEach(function(r){var e=r.charAt(0)==="x"?"x-"+r.substring(1):r;Md[r]="vjs-layout-"+e});var x3={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ar=function(r){Ce(e,r);function e(i,t,a){var s;if(i.id=i.id||t.id||"vjs_video_"+oa(),t=Xt(e.getTagSettings(i),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof i.closest=="function"){var l=i.closest("[lang]");l&&l.getAttribute&&(t.language=l.getAttribute("lang"))}else for(var d=i;d&&d.nodeType===1;){if(Ui(d).hasOwnProperty("lang")){t.language=d.getAttribute("lang");break}d=d.parentNode}if(s=r.call(this,null,t,a)||this,s.boundDocumentFullscreenChange_=function(v){return s.documentFullscreenChange_(v)},s.boundFullWindowOnEscKey_=function(v){return s.fullWindowOnEscKey(v)},s.boundUpdateStyleEl_=function(v){return s.updateStyleEl_(v)},s.boundApplyInitTime_=function(v){return s.applyInitTime_(v)},s.boundUpdateCurrentBreakpoint_=function(v){return s.updateCurrentBreakpoint_(v)},s.boundHandleTechClick_=function(v){return s.handleTechClick_(v)},s.boundHandleTechDoubleClick_=function(v){return s.handleTechDoubleClick_(v)},s.boundHandleTechTouchStart_=function(v){return s.handleTechTouchStart_(v)},s.boundHandleTechTouchMove_=function(v){return s.handleTechTouchMove_(v)},s.boundHandleTechTouchEnd_=function(v){return s.handleTechTouchEnd_(v)},s.boundHandleTechTap_=function(v){return s.handleTechTap_(v)},s.isFullscreen_=!1,s.log=u2(s.id_),s.fsApi_=uf,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Ui(i),s.language(s.options_.language),t.languages){var f={};Object.getOwnPropertyNames(t.languages).forEach(function(v){f[v.toLowerCase()]=t.languages[v]}),s.languages_=f}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(v){if(typeof s[v]!="function")throw new Error('plugin "'+v+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Pv(et(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(vn(be,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var h=Ft(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(v){s[v](t.plugins[v])}),t.debug&&s.debug(!0),s.options_.playerOptions=h,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),qo&&s.addClass("vjs-touch-enabled"),Kr||s.addClass("vjs-workinghover"),e.players[s.id_]=et(s);var g=a2.split(".")[0];return s.addClass("vjs-v"+g),s.userActive(!0),s.reportUserActivity(),s.one("play",function(v){return s.listenForUserActivity_(v)}),s.on("stageclick",function(v){return s.handleStageClick_(v)}),s.on("keydown",function(v){return s.handleKeyDown(v)}),s.on("languagechange",function(v){return s.handleLanguagechange(v)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var n=e.prototype;return n.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),Br(be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Br(be,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),H5(this),Hr.names.forEach(function(a){var s=Hr[a],l=t[s.getterName]();l&&l.off&&l.off()}),r.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t=this.tag,a,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),l=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=t.parentNode:l||(a=this.el_=r.prototype.createEl.call(this,"div"));var d=Ui(t);if(l){for(a=this.el_=t,t=this.tag=be.createElement("video");a.children.length;)t.appendChild(a.firstChild);As(a,"video-js")||zi(a,"video-js"),a.appendChild(t),s=this.playerElIngest_=a,Object.keys(a).forEach(function(A){try{t[A]=a[A]}catch{}})}if(t.setAttribute("tabindex","-1"),d.tabindex="-1",(rc||sa&&p2)&&(t.setAttribute("role","application"),d.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in d&&delete d.width,"height"in d&&delete d.height,Object.getOwnPropertyNames(d).forEach(function(A){l&&A==="class"||a.setAttribute(A,d[A]),l&&t.setAttribute(A,d[A])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=a.player=this,this.addClass("vjs-paused"),j.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=D2("vjs-styles-dimensions");var f=$a(".vjs-styles-defaults"),h=$a("head");h.insertBefore(this.styleEl_,f?f.nextSibling:h.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var g=t.getElementsByTagName("a"),v=0;v<g.length;v++){var T=g.item(v);zi(T,"vjs-hidden"),T.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(a,t),om(t,a),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},n.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){ct.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,a){var s=t+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var l=parseFloat(a);if(isNaN(l)){ct.error('Improper value "'+a+'" supplied for for '+t);return}this[s]=l,this.updateStyleEl_()},n.fluid=function(t){var a=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,Ki(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),p5(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(j.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),a>=0&&(s.height=a));return}var l,d,f,h;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?f=this.aspectRatio_:this.videoWidth()>0?f=this.videoWidth()+":"+this.videoHeight():f="16:9";var g=f.split(":"),v=g[1]/g[0];this.width_!==void 0?l=this.width_:this.height_!==void 0?l=this.height_/v:l=this.videoWidth()||300,this.height_!==void 0?d=this.height_:d=l*v,/^[^a-zA-Z]/.test(this.id())?h="dimensions-"+this.id():h=this.id()+"-dimensions",this.addClass(h),P2(this.styleEl_,`
      .`+h+` {
        width: `+l+`px;
        height: `+d+`px;
      }

      .`+h+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+v*100+`%;
      }
    `)},n.loadTech_=function(t,a){var s=this;this.tech_&&this.unloadTech_();var l=er(t),d=t.charAt(0).toLowerCase()+t.slice(1);l!=="Html5"&&this.tag&&(Pt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=l,this.isReady_=!1;var f=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(f=!1);var h={source:a,autoplay:f,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+d+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Hr.names.forEach(function(v){var T=Hr[v];h[T.getterName]=s[T.privateName]}),Xt(h,this.options_[l]),Xt(h,this.options_[d]),Xt(h,this.options_[t.toLowerCase()]),this.tag&&(h.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(h.startTime=this.cache_.currentTime);var g=Pt.getTech(t);if(!g)throw new Error("No Tech named '"+l+"' exists! '"+l+"' should be registered using videojs.registerTech()'");this.tech_=new g(h),this.tech_.ready(Mt(this,this.handleTechReady_),!0),vb.jsonToTextTracks(this.textTracksJson_||[],this.tech_),fE.forEach(function(v){s.on(s.tech_,v,function(T){return s["handleTech"+er(v)+"_"](T)})}),Object.keys(vg).forEach(function(v){s.on(s.tech_,v,function(T){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+vg[v]+"_"].bind(s),event:T});return}s["handleTech"+vg[v]+"_"](T)})}),this.on(this.tech_,"loadstart",function(v){return s.handleTechLoadStart_(v)}),this.on(this.tech_,"sourceset",function(v){return s.handleTechSourceset_(v)}),this.on(this.tech_,"waiting",function(v){return s.handleTechWaiting_(v)}),this.on(this.tech_,"ended",function(v){return s.handleTechEnded_(v)}),this.on(this.tech_,"seeking",function(v){return s.handleTechSeeking_(v)}),this.on(this.tech_,"play",function(v){return s.handleTechPlay_(v)}),this.on(this.tech_,"firstplay",function(v){return s.handleTechFirstPlay_(v)}),this.on(this.tech_,"pause",function(v){return s.handleTechPause_(v)}),this.on(this.tech_,"durationchange",function(v){return s.handleTechDurationChange_(v)}),this.on(this.tech_,"fullscreenchange",function(v,T){return s.handleTechFullscreenChange_(v,T)}),this.on(this.tech_,"fullscreenerror",function(v,T){return s.handleTechFullscreenError_(v,T)}),this.on(this.tech_,"enterpictureinpicture",function(v){return s.handleTechEnterPictureInPicture_(v)}),this.on(this.tech_,"leavepictureinpicture",function(v){return s.handleTechLeavePictureInPicture_(v)}),this.on(this.tech_,"error",function(v){return s.handleTechError_(v)}),this.on(this.tech_,"posterchange",function(v){return s.handleTechPosterChange_(v)}),this.on(this.tech_,"textdata",function(v){return s.handleTechTextData_(v)}),this.on(this.tech_,"ratechange",function(v){return s.handleTechRateChange_(v)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(l!=="Html5"||!this.tag)&&om(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;Hr.names.forEach(function(a){var s=Hr[a];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=vb.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return t===void 0&&ct.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(t){var a=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var f=a.muted();a.muted(!0);var h=function(){a.muted(f)};a.playTerminatedQueue_.push(h);var g=a.play();if(!!vl(g))return g.catch(function(v){throw h(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(v||""))})},l;if(t==="any"&&!this.muted()?(l=this.play(),vl(l)&&(l=l.catch(s))):t==="muted"&&!this.muted()?l=s():l=this.play(),!!vl(l))return l.then(function(){a.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:t})})}},n.updateSourceCaches_=function(t){t===void 0&&(t="");var a=t,s="";typeof a!="string"&&(a=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=G5(this,a)),this.cache_.source=Ft({},t,{src:a,type:s});for(var l=this.cache_.sources.filter(function(T){return T.src&&T.src===a}),d=[],f=this.$$("source"),h=[],g=0;g<f.length;g++){var v=Ui(f[g]);d.push(v),v.src&&v.src===a&&h.push(v.src)}h.length&&!l.length?this.cache_.sources=d:l.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(t){var a=this;if(!this.changingSrc_){var s=function(h){return a.updateSourceCaches_(h)},l=this.currentSource().src,d=t.src;l&&!/^blob:/.test(l)&&/^blob:/.test(d)&&(!this.lastSource_||this.lastSource_.tech!==d&&this.lastSource_.player!==l)&&(s=function(){}),s(d),t.src||this.tech_.any(["sourceset","loadstart"],function(f){if(f.type!=="sourceset"){var h=a.techGet("currentSrc");a.lastSource_.tech=h,a.updateSourceCaches_(h)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function l(){a!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",l))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(ct.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?ui(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(t){var a=t.target.player;if(!(a&&a!==this)){var s=this.el(),l=be[this.fsApi_.fullscreenElement]===s;!l&&s.matches?l=s.matches(":"+this.fsApi_.fullscreen):!l&&s.msMatchesSelector&&(l=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(l)}},n.handleTechFullscreenChange_=function(t,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},n.handleTechFullscreenError_=function(t,a){this.trigger("fullscreenerror",a)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(t,a){this.ready(function(){if(t in $5)return U5(this.middleware_,this.tech_,t,a);if(t in xb)return Sb(this.middleware_,this.tech_,t,a);try{this.tech_&&this.tech_[t](a)}catch(s){throw ct(s),s}},!0)},n.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in j5)return B5(this.middleware_,this.tech_,t);if(t in xb)return Sb(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(a){throw this.tech_[t]===void 0?(ct("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(ct("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(ct(a),a)}}},n.play=function(){var t=this,a=this.options_.Promise||j.Promise;return a?new a(function(s){t.play_(s)}):this.play_()},n.play_=function(t){var a=this;t===void 0&&(t=ui),this.playCallbacks_.push(t);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),l=Boolean(Zf||Kr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(h){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&l&&this.load();return}var d=this.techGet_("play"),f=l&&this.hasClass("vjs-ended");f&&this.resetProgressBar_(),d===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},n.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(a){a()})},n.runPlayCallbacks_=function(t){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(t)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||ks(0,0)},n.scrubbing=function(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){if(typeof t<"u"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=ks(0,0)),t},n.bufferedPercent=function(){return F2(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),a=this.duration(),s=t.end(t.length-1);return s>a&&(s=a),s},n.volume=function(t){var a;if(t!==void 0){a=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},n.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){if(t!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(t){var a=this.options_.Promise||j.Promise;if(a){var s=this;return new a(function(l,d){function f(){s.off("fullscreenerror",g),s.off("fullscreenchange",h)}function h(){f(),l()}function g(T,A){f(),d(A)}s.one("fullscreenchange",h),s.one("fullscreenerror",g);var v=s.requestFullscreenHelper_(t);v&&(v.then(f,f),v.then(l,d))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(t){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var l=this.el_[this.fsApi_.requestFullscreen](s);return l&&l.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),l}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var t=this.options_.Promise||j.Promise;if(t){var a=this;return new t(function(s,l){function d(){a.off("fullscreenerror",h),a.off("fullscreenchange",f)}function f(){d(),s()}function h(v,T){d(),l(T)}a.one("fullscreenchange",f),a.one("fullscreenerror",h);var g=a.exitFullscreenHelper_();g&&(g.then(d,d),g.then(s,l))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var a=be[this.fsApi_.exitFullscreen]();return a&&ui(a.then(function(){return t.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=be.documentElement.style.overflow,vn(be,"keydown",this.boundFullWindowOnEscKey_),be.documentElement.style.overflow="hidden",zi(be.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){st.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Br(be,"keydown",this.boundFullWindowOnEscKey_),be.documentElement.style.overflow=this.docOrigOverflow,nc(be.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in be&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in be)return be.exitPictureInPicture()},n.handleKeyDown=function(t){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(d){var f=d.tagName.toLowerCase();if(d.isContentEditable)return!0;var h=["button","checkbox","hidden","radio","reset","submit"];if(f==="input")return h.indexOf(d.type)===-1;var g=["textarea"];return g.indexOf(f)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,t):this.handleHotkeys(t))}},n.handleHotkeys=function(t){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,l=s===void 0?function(P){return st.isEventKey(P,"f")}:s,d=a.muteKey,f=d===void 0?function(P){return st.isEventKey(P,"m")}:d,h=a.playPauseKey,g=h===void 0?function(P){return st.isEventKey(P,"k")||st.isEventKey(P,"Space")}:h;if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var v=he.getComponent("FullscreenToggle");be[this.fsApi_.fullscreenEnabled]!==!1&&v.prototype.handleClick.call(this,t)}else if(f.call(this,t)){t.preventDefault(),t.stopPropagation();var T=he.getComponent("MuteToggle");T.prototype.handleClick.call(this,t)}else if(g.call(this,t)){t.preventDefault(),t.stopPropagation();var A=he.getComponent("PlayToggle");A.prototype.handleClick.call(this,t)}},n.canPlayType=function(t){for(var a,s=0,l=this.options_.techOrder;s<l.length;s++){var d=l[s],f=Pt.getTech(d);if(f||(f=he.getComponent(d)),!f){ct.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.');continue}if(f.isSupported()&&(a=f.canPlayType(t),a))return a}return""},n.selectSource=function(t){var a=this,s=this.options_.techOrder.map(function(g){return[g,Pt.getTech(g)]}).filter(function(g){var v=g[0],T=g[1];return T?T.isSupported():(ct.error('The "'+v+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),l=function(v,T,A){var P;return v.some(function(D){return T.some(function(R){if(P=A(D,R),P)return!0})}),P},d,f=function(v){return function(T,A){return v(A,T)}},h=function(v,T){var A=v[0],P=v[1];if(P.canPlaySource(T,a.options_[A.toLowerCase()]))return{source:T,tech:A}};return this.options_.sourceOrder?d=l(t,s,f(h)):d=l(s,t,h),d||!1},n.handleSrc_=function(t,a){var s=this;if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var l=z5(t);if(!l.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=l),this.updateSourceCaches_(l[0]),F5(this,l[0],function(h,g){s.middleware_=g,a||(s.cache_.sources=l),s.updateSourceCaches_(h);var v=s.src_(h);if(v){if(l.length>1)return s.handleSrc_(l.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}M5(g,s.tech_)}),this.options_.retryOnError&&l.length>1){var d=function(){s.error(null),s.handleSrc_(l.slice(1),!0)},f=function(){s.off("error",d)};this.one("error",d),this.one("playing",f),this.resetRetryOnError_=function(){s.off("error",d),s.off("playing",f)}}},n.src=function(t){return this.handleSrc_(t,!1)},n.src_=function(t){var a=this,s=this.selectSource([t]);return s?v5(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var t=this,a=this.options_.Promise||j.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();ui(s.then(function(){return t.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ki(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},a=t.durationDisplay,s=t.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var t=this.currentSource(),a=[];return Object.keys(t).length!==0&&a.push(t),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},n.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var a;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),a=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},n.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){var a=this;if(t===void 0)return this.error_||null;if(ja("beforeerror").forEach(function(l){var d=l(a,t);if(!(Qi(d)&&!Array.isArray(d)||typeof d=="string"||typeof d=="number"||d===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=d}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new zr(t),this.addClass("vjs-error"),ct.error("(CODE:"+this.error_.code+" "+zr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ja("error").forEach(function(l){return l(a,a.error_)})},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,a,s,l=Mt(this,this.reportUserActivity),d=function(A){(A.screenX!==a||A.screenY!==s)&&(a=A.screenX,s=A.screenY,l())},f=function(){l(),this.clearInterval(t),t=this.setInterval(l,250)},h=function(A){l(),this.clearInterval(t)};this.on("mousedown",f),this.on("mousemove",d),this.on("mouseup",h),this.on("mouseleave",h);var g=this.getChild("controlBar");g&&!Kr&&!aa&&(g.on("mouseenter",function(T){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),g.on("mouseleave",function(T){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",l),this.on("keyup",l);var v;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(v);var T=this.options_.inactivityTimeout;T<=0||(v=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},T))}},250)},n.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),l=s&&s.currentHeight();a.forEach(function(d){d!==s&&d.el_&&!d.hasClass("vjs-hidden")&&(d.hide(),t.audioOnlyCache_.hiddenChildren.push(d))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(l),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var s=this.options_.Promise||j.Promise;if(s){if(t){var l=[];return this.isInPictureInPicture()&&l.push(this.exitPictureInPicture()),this.isFullscreen()&&l.push(this.exitFullscreen()),this.audioPosterMode()&&l.push(this.audioPosterMode(!1)),s.all(l).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var s=this.options_.Promise||j.Promise;if(s){if(t){if(this.audioOnlyMode()){var l=this.audioOnlyMode(!1);return l.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(t){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(t,a,s){if(this.tech_)return this.tech_.addTextTrack(t,a,s)},n.addRemoteTextTrack=function(t,a){if(this.tech_)return this.tech_.addRemoteTextTrack(t,a)},n.removeRemoteTextTrack=function(t){t===void 0&&(t={});var a=t,s=a.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),Ki(this)&&this.trigger("languagechange"))},n.languages=function(){return Ft(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=Ft(this.options_),a=t.tracks;t.tracks=[];for(var s=0;s<a.length;s++){var l=a[s];l=Ft(l),l.player=void 0,t.tracks[s]=l}return t},n.createModal=function(t,a){var s=this;a=a||{},a.content=t||"";var l=new eu(this,a);return this.addChild(l),l.on("dispose",function(){s.removeChild(l)}),l.open(),l},n.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var t=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<gm.length;s++){var l=gm[s],d=this.breakpoints_[l];if(a<=d){if(t===l)return;t&&this.removeClass(Md[t]),this.addClass(Md[l]),this.breakpoint_=l;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return t===void 0?Xt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Xt({},x3,t),this.updateCurrentBreakpoint_(),Xt(this.breakpoints_))},n.responsive=function(t){if(t===void 0)return this.responsive_;t=Boolean(t);var a=this.responsive_;if(t!==a)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Md[this.breakpoint_]||""},n.loadMedia=function(t,a){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=Ft(t);var l=this.cache_.media,d=l.artwork,f=l.poster,h=l.src,g=l.textTracks;!d&&f&&(this.cache_.media.artwork=[{src:f,type:df(f)}]),h&&this.src(h),f&&this.poster(f),Array.isArray(g)&&g.forEach(function(v){return s.addRemoteTextTrack(v,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var t=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(d){return{kind:d.kind,label:d.label,language:d.language,src:d.src}}),l={src:a,textTracks:s};return t&&(l.poster=t,l.artwork=[{src:l.poster,type:df(l.poster)}]),l}return Ft(this.cache_.media)},e.getTagSettings=function(t){var a={sources:[],tracks:[]},s=Ui(t),l=s["data-setup"];if(As(t,"vjs-fill")&&(s.fill=!0),As(t,"vjs-fluid")&&(s.fluid=!0),l!==null){var d=aO(l||"{}"),f=d[0],h=d[1];f&&ct.error(f),Xt(s,h)}if(Xt(a,s),t.hasChildNodes())for(var g=t.childNodes,v=0,T=g.length;v<T;v++){var A=g[v],P=A.nodeName.toLowerCase();P==="source"?a.sources.push(Ui(A)):P==="track"&&a.tracks.push(Ui(A))}return a},n.flexNotSupported_=function(){var t=be.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;!Array.isArray(t)||!t.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(he);Hr.names.forEach(function(r){var e=Hr[r];ar.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ar.prototype.crossorigin=ar.prototype.crossOrigin;ar.players={};var Yu=j.navigator;ar.prototype.options_={techOrder:Pt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Yu&&(Yu.languages&&Yu.languages[0]||Yu.userLanguage||Yu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(r){ar.prototype[r]=function(){return this.techGet_(r)}});fE.forEach(function(r){ar.prototype["handleTech"+er(r)+"_"]=function(){return this.trigger(r)}});he.registerComponent("Player",ar);var pf="plugin",Po="activePlugins_",bo={},gf=function(e){return bo.hasOwnProperty(e)},Bd=function(e){return gf(e)?bo[e]:void 0},hE=function(e,n){e[Po]=e[Po]||{},e[Po][n]=!0},mf=function(e,n,i){var t=(i?"before":"")+"pluginsetup";e.trigger(t,n),e.trigger(t+":"+n.name,n)},E3=function(e,n){var i=function(){mf(this,{name:e,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return hE(this,e),mf(this,{name:e,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(t){i[t]=n[t]}),i},Mb=function(e,n){return n.prototype.name=e,function(){mf(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];var s=dx(n,[this].concat(t));return this[e]=function(){return s},mf(this,s.getEventHash()),s}},vi=function(){function r(n){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),Pv(this),delete this.trigger,N2(this,this.constructor.defaultState),hE(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=r.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,t){return t===void 0&&(t={}),Zo(this.eventBusEl_,i,this.getEventHash(t))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Po][i]=!1,this.player=this.state=null,t[i]=Mb(i,bo[i])},r.isBasic=function(i){var t=typeof i=="string"?Bd(i):i;return typeof t=="function"&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(i,t){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(gf(i))ct.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(ar.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof t+".");return bo[i]=t,i!==pf&&(r.isBasic(t)?ar.prototype[i]=E3(i,t):ar.prototype[i]=Mb(i,t)),t},r.deregisterPlugin=function(i){if(i===pf)throw new Error("Cannot de-register base plugin.");gf(i)&&(delete bo[i],delete ar.prototype[i])},r.getPlugins=function(i){i===void 0&&(i=Object.keys(bo));var t;return i.forEach(function(a){var s=Bd(a);s&&(t=t||{},t[a]=s)}),t},r.getPluginVersion=function(i){var t=Bd(i);return t&&t.VERSION||""},r}();vi.getPlugin=Bd;vi.BASE_PLUGIN_NAME=pf;vi.registerPlugin(pf,vi);ar.prototype.usingPlugin=function(r){return!!this[Po]&&this[Po][r]===!0};ar.prototype.hasPlugin=function(r){return!!gf(r)};var Bb=!1,w3=function(e,n){n===void 0&&(n={}),Bb||(ct.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Bb=!0);var i=function(){e.apply(this,arguments)},t={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),t=n):typeof n=="function"&&(i=n),GO(i,e),e&&(i.super_=e);for(var a in t)t.hasOwnProperty(a)&&(i.prototype[a]=t[a]);return i},pE=function(e){return e.indexOf("#")===0?e.slice(1):e};function Q(r,e,n){var i=Q.getPlayer(r);if(i)return e&&ct.warn('Player "'+r+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var t=typeof r=="string"?$a("#"+pE(r)):r;if(!Qo(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&ct.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(t.parentNode&&t.parentNode.hasAttribute("data-vjs-player")?t.parentNode:t).cloneNode(!0)),ja("beforesetup").forEach(function(s){var l=s(t,Ft(e));if(!Qi(l)||Array.isArray(l)){ct.error("please return an object in beforesetup hooks");return}e=Ft(e,l)});var a=he.getComponent("Player");return i=new a(t,e,n),ja("setup").forEach(function(s){return s(i)}),i}Q.hooks_=$i;Q.hooks=ja;Q.hook=QR;Q.hookOnce=ZR;Q.removeHook=s2;if(j.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Yo()){var Sd=$a(".vjs-styles-defaults");if(!Sd){Sd=D2("vjs-styles-defaults");var _g=$a("head");_g&&_g.insertBefore(Sd,_g.firstChild),P2(Sd,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}lm(1,Q);Q.VERSION=a2;Q.options=ar.prototype.options_;Q.getPlayers=function(){return ar.players};Q.getPlayer=function(r){var e=ar.players,n;if(typeof r=="string"){var i=pE(r),t=e[i];if(t)return t;n=$a("#"+i)}else n=r;if(Qo(n)){var a=n,s=a.player,l=a.playerId;if(s||e[l])return s||e[l]}};Q.getAllPlayers=function(){return Object.keys(ar.players).map(function(r){return ar.players[r]}).filter(Boolean)};Q.players=ar.players;Q.getComponent=he.getComponent;Q.registerComponent=function(r,e){Pt.isTech(e)&&ct.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),he.registerComponent.call(he,r,e)};Q.getTech=Pt.getTech;Q.registerTech=Pt.registerTech;Q.use=N5;Object.defineProperty(Q,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Q.middleware,"TERMINATOR",{value:cf,writeable:!1,enumerable:!0});Q.browser=a5;Q.TOUCH_ENABLED=qo;Q.extend=w3;Q.mergeOptions=Ft;Q.bind=Mt;Q.registerPlugin=vi.registerPlugin;Q.deregisterPlugin=vi.deregisterPlugin;Q.plugin=function(r,e){return ct.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),vi.registerPlugin(r,e)};Q.getPlugins=vi.getPlugins;Q.getPlugin=vi.getPlugin;Q.getPluginVersion=vi.getPluginVersion;Q.addLanguage=function(r,e){var n;return r=(""+r).toLowerCase(),Q.options.languages=Ft(Q.options.languages,(n={},n[r]=e,n)),Q.options.languages[r]};Q.log=ct;Q.createLogger=u2;Q.createTimeRange=Q.createTimeRanges=ks;Q.formatTime=Xo;Q.setFormatTime=e3;Q.resetFormatTime=t3;Q.parseUrl=Ov;Q.isCrossOrigin=ah;Q.EventTarget=vr;Q.on=vn;Q.one=nh;Q.off=Br;Q.trigger=Zo;Q.xhr=Hf.exports;Q.TextTrack=ic;Q.AudioTrack=U2;Q.VideoTrack=j2;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){Q[r]=function(){return ct.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),A2[r].apply(null,arguments)}});Q.computedStyle=Fl;Q.dom=A2;Q.url=I5;Q.defineLazyProperty=Yv;Q.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var Un=Wf,vf=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},Gn=function(e){return Q.log.debug?Q.log.debug.bind(Q,"VHS:",e+" >"):function(){}},Va=1/30,li=Va*3,gE=function(e,n){var i=[],t;if(e&&e.length)for(t=0;t<e.length;t++)n(e.start(t),e.end(t))&&i.push([e.start(t),e.end(t)]);return Q.createTimeRanges(i)},To=function(e,n){return gE(e,function(i,t){return i-li<=n&&t+li>=n})},xd=function(e,n){return gE(e,function(i){return i-Va>=n})},C3=function(e){if(e.length<2)return Q.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var t=e.end(i-1),a=e.start(i);n.push([t,a])}return Q.createTimeRanges(n)},A3=function(e,n){var i=null,t=null,a=0,s=[],l=[];if(!e||!e.length||!n||!n.length)return Q.createTimeRange();for(var d=e.length;d--;)s.push({time:e.start(d),type:"start"}),s.push({time:e.end(d),type:"end"});for(d=n.length;d--;)s.push({time:n.start(d),type:"start"}),s.push({time:n.end(d),type:"end"});for(s.sort(function(f,h){return f.time-h.time}),d=0;d<s.length;d++)s[d].type==="start"?(a++,a===2&&(i=s[d].time)):s[d].type==="end"&&(a--,a===1&&(t=s[d].time)),i!==null&&t!==null&&(l.push([i,t]),i=null,t=null);return Q.createTimeRanges(l)},mE=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},k3=function(e,n,i){i===void 0&&(i=1);var t=e.length?e.end(e.length-1):0;return(t-n)/i},ys=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},D3=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},Ub=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Qv=function(e,n){var i=0;if(!e||!e.length)return i;for(var t=0;t<e.length;t++){var a=e.start(t),s=e.end(t);if(!(n>s)){if(n>a&&n<=s){i+=s-n;continue}i+=s-a}}return i},jb=Q.createTimeRange,Zv=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(t){i+=t.duration}),(n.preloadHints||[]).forEach(function(t){t.type==="PART"&&(i+=e.partTargetDuration)}),i},mm=function(e){return(e.segments||[]).reduce(function(n,i,t){return i.parts?i.parts.forEach(function(a,s){n.push({duration:a.duration,segmentIndex:t,partIndex:s,part:a,segment:i})}):n.push({duration:i.duration,segmentIndex:t,partIndex:null,segment:i,part:null}),n},[])},vE=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},_E=function(e){var n=e.preloadSegment;if(!!n){var i=n.parts,t=n.preloadHints,a=(t||[]).reduce(function(s,l){return s+(l.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},yE=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=vE(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},P3=function(e,n){var i=0,t=n-e.mediaSequence,a=e.segments[t];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;t--;){if(a=e.segments[t],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=Zv(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},I3=function(e,n){for(var i=0,t,a=n-e.mediaSequence;a<e.segments.length;a++){if(t=e.segments[a],typeof t.start<"u")return{result:t.start-i,precise:!0};if(i+=Zv(e,t),typeof t.end<"u")return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}},bE=function(e,n,i){if(typeof n>"u"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var t=P3(e,n);if(t.precise)return t.result;var a=I3(e,n);return a.precise?a.result:t.result+i},TE=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return j.Infinity}return bE(e,n,i)},_l=function(e){var n=e.defaultDuration,i=e.durationList,t=e.startIndex,a=e.endIndex,s=0;if(t>a){var l=[a,t];t=l[0],a=l[1]}if(t<0){for(var d=t;d<Math.min(0,a);d++)s+=n;t=0}for(var f=t;f<a;f++)s+=i[f].duration;return s},SE=function(e,n,i,t){if(!e||!e.segments)return null;if(e.endList)return TE(e);if(n===null)return null;n=n||0;var a=bE(e,e.mediaSequence+e.segments.length,n);return i&&(t=typeof t=="number"?t:yE(null,e),a-=t),Math.max(0,a)},O3=function(e,n,i){var t=!0,a=n||0,s=SE(e,n,t,i);return s===null?jb():jb(a,s)},L3=function(e){for(var n=e.playlist,i=e.currentTime,t=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,l=e.experimentalExactManifestTimings,d=i-s,f=mm(n),h=0,g=0;g<f.length;g++){var v=f[g];if(t===v.segmentIndex&&!(typeof a=="number"&&typeof v.partIndex=="number"&&a!==v.partIndex)){h=g;break}}if(d<0){if(h>0)for(var T=h-1;T>=0;T--){var A=f[T];if(d+=A.duration,l){if(d<0)continue}else if(d+Va<=0)continue;return{partIndex:A.partIndex,segmentIndex:A.segmentIndex,startTime:s-_l({defaultDuration:n.targetDuration,durationList:f,startIndex:h,endIndex:T})}}return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:i}}if(h<0){for(var P=h;P<0;P++)if(d-=n.targetDuration,d<0)return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:i};h=0}for(var D=h;D<f.length;D++){var R=f[D];if(d-=R.duration,l){if(d>0)continue}else if(d-Va>=0)continue;return{partIndex:R.partIndex,segmentIndex:R.segmentIndex,startTime:s+_l({defaultDuration:n.targetDuration,durationList:f,startIndex:h,endIndex:D})}}return{segmentIndex:f[f.length-1].segmentIndex,partIndex:f[f.length-1].partIndex,startTime:i}},xE=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},e0=function(e){return e.excludeUntil&&e.excludeUntil===1/0},lh=function(e){var n=xE(e);return!e.disabled&&!n},R3=function(e){return e.disabled},N3=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},EE=function(e,n){return n.attributes&&n.attributes[e]},F3=function(e,n,i,t){if(t===void 0&&(t=0),!EE("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-t*8)/n},vm=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return lh(t)?(t.attributes.BANDWIDTH||0)<i:!1}).length===0},t0=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},$b=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var a in i){for(var s in i[a])if(t=n(i[a][s]),t)break;if(t)break}return!!t},oc=function(e){if(!e||!e.playlists||!e.playlists.length){var n=$b(e,function(s){return s.playlists&&s.playlists.length||s.uri});return n}for(var i=function(l){var d=e.playlists[l],f=d.attributes&&d.attributes.CODECS;if(f&&f.split(",").every(function(g){return gx(g)}))return"continue";var h=$b(e,function(g){return t0(d,g)});return h?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var a=i(t);if(a!=="continue"&&typeof a=="object")return a.v}return!0},nn={liveEdgeDelay:yE,duration:TE,seekable:O3,getMediaInfoForTime:L3,isEnabled:lh,isDisabled:R3,isBlacklisted:xE,isIncompatible:e0,playlistEnd:SE,isAes:N3,hasAttribute:EE,estimateSegmentRequestTime:F3,isLowestEnabledRendition:vm,isAudioOnly:oc,playlistMatch:t0,segmentDurationWithParts:Zv},wE=Q.log,r0=function(e,n){return e+"-"+n},M3=function(e,n,i){return"placeholder-uri-"+e+"-"+n+"-"+i},B3=function(e){var n=e.onwarn,i=e.oninfo,t=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,l=e.customTagMappers,d=l===void 0?[]:l,f=e.experimentalLLHLS,h=new ZO;n&&h.on("warn",n),i&&h.on("info",i),s.forEach(function(P){return h.addParser(P)}),d.forEach(function(P){return h.addTagMapper(P)}),h.push(t),h.end();var g=h.manifest;if(f||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(P){g.hasOwnProperty(P)&&delete g[P]}),g.segments&&g.segments.forEach(function(P){["parts","preloadHints"].forEach(function(D){P.hasOwnProperty(D)&&delete P[D]})})),!g.targetDuration){var v=10;g.segments&&g.segments.length&&(v=g.segments.reduce(function(P,D){return Math.max(P,D.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+v),g.targetDuration=v}var T=vE(g);if(T.length&&!g.partTargetDuration){var A=T.reduce(function(P,D){return Math.max(P,D.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+A),wE.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),g.partTargetDuration=A}return g},iu=function(e,n){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var t in e.mediaGroups[i])for(var a in e.mediaGroups[i][t]){var s=e.mediaGroups[i][t][a];n(s,i,t,a)}})},CE=function(e){var n=e.playlist,i=e.uri,t=e.id;n.id=t,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},U3=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];CE({playlist:i,id:r0(n,i.uri)}),i.resolvedUri=Un(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||wE.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},j3=function(e){iu(e,function(n){n.uri&&(n.resolvedUri=Un(e.uri,n.uri))})},$3=function(e,n){var i=r0(0,n),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:j.location.href,resolvedUri:j.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return t.playlists[i]=t.playlists[0],t.playlists[n]=t.playlists[0],t},AE=function(e,n,i){i===void 0&&(i=M3),e.uri=n;for(var t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){var a="placeholder-uri-"+t;e.playlists[t].uri=a}var s=oc(e);iu(e,function(l,d,f,h){if(!l.playlists||!l.playlists.length){if(s&&d==="AUDIO"&&!l.uri)for(var g=0;g<e.playlists.length;g++){var v=e.playlists[g];if(v.attributes&&v.attributes.AUDIO&&v.attributes.AUDIO===f)return}l.playlists=[Pn({},l)]}l.playlists.forEach(function(T,A){var P=i(d,f,h,T),D=r0(A,P);T.uri?T.resolvedUri=T.resolvedUri||Un(e.uri,T.uri):(T.uri=A===0?P:D,T.resolvedUri=T.uri),T.id=T.id||D,T.attributes=T.attributes||{},e.playlists[T.id]=T,e.playlists[T.uri]=T})}),U3(e),j3(e)},_f=Q.mergeOptions,V3=Q.EventTarget,H3=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var t=n.preloadSegment,a=n.mediaSequence+n.segments.length;if(t){var s=t.parts||[],l=_E(n)-1;l>-1&&l!==s.length-1&&(i._HLS_part=l),(l>-1||s.length)&&a--}i._HLS_msn=a}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var d=new j.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(f){!i.hasOwnProperty(f)||d.searchParams.set(f,i[f])}),e=d.toString()}return e},q3=function(e,n){if(!e)return n;var i=_f(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var t=0;t<n.parts.length;t++)e.parts&&e.parts[t]&&(i.parts[t]=_f(e.parts[t],n.parts[t]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},W3=function(e,n,i){var t=e.slice(),a=n.slice();i=i||0;for(var s=[],l,d=0;d<a.length;d++){var f=t[d+i],h=a[d];f?(l=f.map||l,s.push(q3(f,h))):(l&&!h.map&&(h.map=l),s.push(h))}return s},kE=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=Un(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Un(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Un(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Un(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Un(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Un(n,i.uri))})},DE=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var t=0;t<i.preloadHints.length;t++)if(i.preloadHints[t].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},PE=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},_m=function(e,n,i){i===void 0&&(i=PE);var t=_f(e,{}),a=t.playlists[n.id];if(!a||i(a,n))return null;n.segments=DE(n);var s=_f(a,n);if(s.preloadSegment&&!n.preloadSegment&&delete s.preloadSegment,a.segments){if(n.skip){n.segments=n.segments||[];for(var l=0;l<n.skip.skippedSegments;l++)n.segments.unshift({skipped:!0})}s.segments=W3(a.segments,n.segments,n.mediaSequence-a.mediaSequence)}s.segments.forEach(function(f){kE(f,s.resolvedUri)});for(var d=0;d<t.playlists.length;d++)t.playlists[d].id===n.id&&(t.playlists[d]=s);return t.playlists[n.id]=s,t.playlists[n.uri]=s,iu(e,function(f,h,g,v){if(!!f.playlists)for(var T=0;T<f.playlists.length;T++)n.id===f.playlists[T].id&&(f.playlists[T]=s)}),t},ym=function(e,n){var i=e.segments||[],t=i[i.length-1],a=t&&t.parts&&t.parts[t.parts.length-1],s=a&&a.duration||t&&t.duration;return n&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},So=function(r){Ce(e,r);function e(i,t,a){var s;if(a===void 0&&(a={}),s=r.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=Gn("PlaylistLoader");var l=a,d=l.withCredentials,f=d===void 0?!1:d,h=l.handleManifestRedirects,g=h===void 0?!1:h;s.src=i,s.vhs_=t,s.withCredentials=f,s.handleManifestRedirects=g;var v=t.options_;return s.customTagParsers=v&&v.customTagParsers||[],s.customTagMappers=v&&v.customTagMappers||[],s.experimentalLLHLS=v&&v.experimentalLLHLS||!1,Q.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(et(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=Un(this.master.uri,a.uri);this.experimentalLLHLS&&(s=H3(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(l,d){if(!!t.request){if(l)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},n.playlistRequestError=function(t,a,s){var l=a.uri,d=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[d],status:t.status,message:"HLS playlist request error at URL: "+l+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(t){var a=this,s=t.url,l=t.manifestString;return B3({onwarn:function(f){var h=f.message;return a.logger_("m3u8-parser warn for "+s+": "+h)},oninfo:function(f){var h=f.message;return a.logger_("m3u8-parser info for "+s+": "+h)},manifestString:l,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(t){var a=t.playlistString,s=t.playlistObject,l=t.url,d=t.id;this.request=null,this.state="HAVE_METADATA";var f=s||this.parseManifest_({url:l,manifestString:a});f.lastRequest=Date.now(),CE({playlist:f,uri:l,id:d});var h=_m(this.master,f);this.targetDuration=f.partTargetDuration||f.targetDuration,this.pendingMedia_=null,h?(this.master=h,this.media_=this.master.playlists[d]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ym(this.media(),!!h)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),j.clearTimeout(this.mediaUpdateTimeout),j.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(t,a){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(j.clearTimeout(this.finalRenditionTimeout),a){var l=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=j.setTimeout(this.media.bind(this,t,!1),l);return}var d=this.state,f=!this.media_||t.id!==this.media_.id,h=this.master.playlists[t.id];if(h&&h.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,f&&(this.trigger("mediachanging"),d==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(ym(t,!0)),!!f){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(g,v){if(!!s.request){if(t.lastRequest=Date.now(),t.resolvedUri=vf(s.handleManifestRedirects,t.resolvedUri,v),g)return s.playlistRequestError(s.request,t,d);s.haveMetadata({playlistString:v.responseText,url:t.uri,id:t.id}),d==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(t){var a=this;this.mediaUpdateTimeout&&(j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var l=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=j.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(t){var a=this;this.mediaUpdateTimeout&&(j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=j.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(t)},t))},n.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=j.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!t.request){if(t.request=null,a)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=vf(t.handleManifestRedirects,t.src,s);var l=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(l)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,AE(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=DE(s),s.segments.forEach(function(l){kE(l,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||j.location.href;this.master=$3(t,a),this.haveMetadata({playlistObject:t,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(V3),G3=Q.xhr,z3=Q.mergeOptions,bm=function(e,n,i,t){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),t(n,e)},IE=function(){var e=function n(i,t){i=z3({timeout:45e3},i);var a=n.beforeRequest||Q.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var l=Q.Vhs.xhr.original===!0?G3:Q.Vhs.xhr,d=l(i,function(h,g){return bm(d,h,g,t)}),f=d.abort;return d.abort=function(){return d.aborted=!0,f.apply(d,arguments)},d.uri=i.uri,d.requestTime=Date.now(),d};return e.original=!0,e},K3=function(e){var n,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=j.BigInt(e.offset)+j.BigInt(e.length)-j.BigInt(1):n=e.offset+e.length-1,"bytes="+i+"-"+n},Tm=function(e){var n={};return e.byterange&&(n.Range=K3(e.byterange)),n},X3=function(e,n){return e.start(n)+"-"+e.end(n)},J3=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},Y3=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},OE=function(e){var n={};return Object.keys(e).forEach(function(i){var t=e[i];vx(t)?n[i]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[i]=t}),n},yf=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},LE=function(e){return e.resolvedUri},RE=function(e){for(var n=Array.prototype.slice.call(e),i=16,t="",a,s,l=0;l<n.length/i;l++)a=n.slice(l*i,l*i+i).map(J3).join(""),s=n.slice(l*i,l*i+i).map(Y3).join(""),t+=a+" "+s+`
`;return t},Q3=function(e){var n=e.bytes;return RE(n)},Z3=function(e){var n="",i;for(i=0;i<e.length;i++)n+=X3(e,i)+" ";return n},eN=Object.freeze({__proto__:null,createTransferableMessage:OE,initSegmentId:yf,segmentKeyId:LE,hexDump:RE,tagDump:Q3,textRanges:Z3}),NE=.25,tN=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,t=n.videoTimingInfo.transmuxedPresentationStart,a=t+i,s=e-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},rN=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},nN=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var t=n.segments[0];if(i<t.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){t=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(i<s)break}var l=n.segments[n.segments.length-1],d=l.dateTimeObject,f=l.videoTimingInfo?rN(l.videoTimingInfo):l.duration+l.duration*NE,h=new Date(d.getTime()+f*1e3);return i>h?null:(i>d&&(t=l),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:nn.duration(n,n.mediaSequence+n.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},iN=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,t,a=0;a<n.segments.length&&(t=n.segments[a],i=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:i+t.duration,!(e<=i));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*NE)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:i-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},aN=function(e,n){var i,t;try{i=new Date(e),t=new Date(n)}catch{}var a=i.getTime(),s=t.getTime();return(s-a)/1e3},sN=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},oN=function(e){var n=e.playlist,i=e.time,t=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||t===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=iN(t,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var l={mediaSeconds:t},d=tN(t,s.segment);return d&&(l.programDateTime=d.toISOString()),a(null,l)},uN=function r(e){var n=e.programTime,i=e.playlist,t=e.retryCount,a=t===void 0?2:t,s=e.seekTo,l=e.pauseAfterSeek,d=l===void 0?!0:l,f=e.tech,h=e.callback;if(!h)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!i||!s)return h({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!f.hasStarted_)return h({message:"player must be playing a live stream to start buffering"});if(!sN(i))return h({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var g=nN(n,i);if(!g)return h({message:n+" was not found in the stream"});var v=g.segment,T=aN(v.dateTimeObject,n);if(g.type==="estimate"){if(a===0)return h({message:n+" is not buffered yet. Try again"});s(g.estimatedStart+T),f.one("seeked",function(){r({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:d,tech:f,callback:h})});return}var A=v.start+T,P=function(){return h(null,f.currentTime())};f.one("seeked",P),d&&f.pause(),s(A)},yg=function(e,n){if(e.readyState===4)return n()},lN=function(e,n,i){var t=[],a,s=!1,l=function(v,T,A,P){return T.abort(),s=!0,i(v,T,A,P)},d=function(v,T){if(!s){if(v)return l(v,T,"",t);var A=T.responseText.substring(t&&t.byteLength||0,T.responseText.length);if(t=dL(t,_x(A,!0)),a=a||sl(t),t.length<10||a&&t.length<a+2)return yg(T,function(){return l(v,T,"",t)});var P=_v(t);return P==="ts"&&t.length<188?yg(T,function(){return l(v,T,"",t)}):!P&&t.length<376?yg(T,function(){return l(v,T,"",t)}):l(null,T,P,t)}},f={uri:e,beforeSend:function(v){v.overrideMimeType("text/plain; charset=x-user-defined"),v.addEventListener("progress",function(T){return T.total,T.loaded,bm(v,null,{statusCode:v.status},d)})}},h=n(f,function(g,v){return bm(h,g,v,d)});return h},cN=Q.EventTarget,FE=Q.mergeOptions,Vb=function(e,n){if(!PE(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var t=e.segments[i],a=n.segments[i];if(t.uri!==a.uri)return!1;if(!(!t.byterange&&!a.byterange)){var s=t.byterange,l=a.byterange;if(s&&!l||!s&&l||s.offset!==l.offset||s.length!==l.length)return!1}}return!0},dN=function(e,n,i,t){var a=t.attributes.NAME||i;return"placeholder-uri-"+e+"-"+n+"-"+a},fN=function(e){var n=e.masterXml,i=e.srcUrl,t=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,l=PR(n,{manifestUri:i,clientOffset:t,sidxMapping:a,previousManifest:s});return AE(l,i,dN),l},hN=function(e,n){iu(e,function(i,t,a,s){s in n.mediaGroups[t][a]||delete e.mediaGroups[t][a][s]})},pN=function(e,n,i){for(var t=!0,a=FE(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod,timelineStarts:n.timelineStarts}),s=0;s<n.playlists.length;s++){var l=n.playlists[s];if(l.sidx){var d=Jf(l.sidx);i&&i[d]&&i[d].sidx&&pv(l,i[d].sidx,l.sidx.resolvedUri)}var f=_m(a,l,Vb);f&&(a=f,t=!1)}return iu(n,function(h,g,v,T){if(h.playlists&&h.playlists.length){var A=h.playlists[0].id,P=_m(a,h.playlists[0],Vb);P&&(a=P,T in a.mediaGroups[g][v]||(a.mediaGroups[g][v][T]=h),a.mediaGroups[g][v][T].playlists[0]=a.playlists[A],t=!1)}}),hN(a,n),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:a},gN=function(e,n){var i=Boolean(!e.map&&!n.map),t=i||Boolean(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return t&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},Hb=function(e,n){var i={};for(var t in e){var a=e[t],s=a.sidx;if(s){var l=Jf(s);if(!n[l])break;var d=n[l].sidxInfo;gN(d,s)&&(i[l]=n[l])}}return i},mN=function(e,n){var i=Hb(e.playlists,n),t=i;return iu(e,function(a,s,l,d){if(a.playlists&&a.playlists.length){var f=a.playlists;t=FE(t,Hb(f,n))}}),t},Sm=function(r){Ce(e,r);function e(i,t,a,s){var l;a===void 0&&(a={}),l=r.call(this)||this,l.masterPlaylistLoader_=s||et(l),s||(l.isMaster_=!0);var d=a,f=d.withCredentials,h=f===void 0?!1:f,g=d.handleManifestRedirects,v=g===void 0?!1:g;if(l.vhs_=t,l.withCredentials=h,l.handleManifestRedirects=v,!i)throw new Error("A non-empty playlist URL or object is required");return l.on("minimumUpdatePeriod",function(){l.refreshXml_()}),l.on("mediaupdatetimeout",function(){l.refreshMedia_(l.media().id)}),l.state="HAVE_NOTHING",l.loadedPlaylists_={},l.logger_=Gn("DashPlaylistLoader"),l.isMaster_?(l.masterPlaylistLoader_.srcUrl=i,l.masterPlaylistLoader_.sidxMapping_={}):l.childPlaylist_=i,l}var n=e.prototype;return n.requestErrored_=function(t,a,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},n.addSidxSegments_=function(t,a,s){var l=this,d=t.sidx&&Jf(t.sidx);if(!t.sidx||!d||this.masterPlaylistLoader_.sidxMapping_[d]){this.mediaRequest_=j.setTimeout(function(){return s(!1)},0);return}var f=vf(this.handleManifestRedirects,t.sidx.resolvedUri),h=function(v,T){if(!l.requestErrored_(v,T,a)){var A=l.masterPlaylistLoader_.sidxMapping_,P;try{P=NR(qe(T.response).subarray(8))}catch(D){l.requestErrored_(D,T,a);return}return A[d]={sidxInfo:t.sidx,sidx:P},pv(t,P,t.sidx.resolvedUri),s(!0)}};this.request=lN(f,this.vhs_.xhr,function(g,v,T,A){if(g)return h(g,v);if(!T||T!=="mp4")return h({status:v.status,message:"Unsupported "+(T||"unknown")+" container type for sidx segment at URL: "+f,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},v);var P=t.sidx.byterange,D=P.offset,R=P.length;if(A.length>=R+D)return h(g,{response:A.subarray(D,D+R),status:v.status,uri:v.uri});l.request=l.vhs_.xhr({uri:f,responseType:"arraybuffer",headers:Tm({byterange:t.sidx.byterange})},h)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},j.clearTimeout(this.minimumUpdatePeriodTimeout_),j.clearTimeout(this.mediaRequest_),j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(t){var a=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var l=!this.media_||t.id!==this.media_.id;if(l&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,l&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!l||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(d){a.haveMetadata({startingState:s,playlist:t})}))},n.haveMetadata=function(t){var a=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(j.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(t){var a=this;j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var l=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=j.setTimeout(function(){return a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=j.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(a,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(t){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,l){if(a.requestErrored_(s,l)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var d=l.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=l.responseText,l.responseHeaders&&l.responseHeaders.date?a.masterLoaded_=Date.parse(l.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=vf(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,l),d){a.handleMaster_(),a.syncClientServerClock_(function(){return t(l,d)});return}return t(l,d)})},n.syncClientServerClock_=function(t){var a=this,s=IR(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:Un(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(l,d){if(!!a.request){if(l)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),t();var f;s.method==="HEAD"?!d.responseHeaders||!d.responseHeaders.date?f=a.masterLoaded_:f=Date.parse(d.responseHeaders.date):f=Date.parse(d.responseText),a.masterPlaylistLoader_.clientOffset_=f-Date.now(),t()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,a=fN({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(a=pN(t,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||t;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!t||a&&a.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},n.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(j.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var a=t.master&&t.master.minimumUpdatePeriod;if(a===0&&(t.media()?a=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},n.createMUPTimeout_=function(t){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=j.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(t)},t)},n.refreshXml_=function(){var t=this;this.requestMaster_(function(a,s){!s||(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=mN(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(l){t.refreshMedia_(t.media().id)}))})},n.refreshMedia_=function(t){var a=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,l=!this.media_||this.media_!==s[t];if(l?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var d=function f(){a.media().endList||(a.mediaUpdateTimeout=j.setTimeout(function(){a.trigger("mediaupdatetimeout"),f()},ym(a.media(),Boolean(l))))};d()}this.trigger("loadedplaylist")},e}(cN),pr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},vN=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},ME=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},_N=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},BE=function(e){return function(){var n=_N(e),i=ME(new Worker(n));i.objURL=n;var t=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),t.call(this)},i}},UE=function(e){return"var browserWorkerPolyFill = "+ME.toString()+`;
browserWorkerPolyFill(self);
`+e},jE=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},yN=UE(jE(function(){var r=function(){this.init=function(){var y={};this.on=function(x,S){y[x]||(y[x]=[]),y[x]=y[x].concat(S)},this.off=function(x,S){var E;return y[x]?(E=y[x].indexOf(S),y[x]=y[x].slice(),y[x].splice(E,1),E>-1):!1},this.trigger=function(x){var S,E,C,k;if(S=y[x],!!S)if(arguments.length===2)for(C=S.length,E=0;E<C;++E)S[E].call(this,arguments[1]);else{for(k=[],E=arguments.length,E=1;E<arguments.length;++E)k.push(arguments[E]);for(C=S.length,E=0;E<C;++E)S[E].apply(this,k)}},this.dispose=function(){y={}}}};r.prototype.pipe=function(I){return this.on("data",function(y){I.push(y)}),this.on("done",function(y){I.flush(y)}),this.on("partialdone",function(y){I.partialFlush(y)}),this.on("endedtimeline",function(y){I.endTimeline(y)}),this.on("reset",function(y){I.reset(y)}),I},r.prototype.push=function(I){this.trigger("data",I)},r.prototype.flush=function(I){this.trigger("done",I)},r.prototype.partialFlush=function(I){this.trigger("partialdone",I)},r.prototype.endTimeline=function(I){this.trigger("endedtimeline",I)},r.prototype.reset=function(I){this.trigger("reset",I)};var e=r,n=Math.pow(2,32),i=function(y){var x=new DataView(y.buffer,y.byteOffset,y.byteLength),S;return x.getBigUint64?(S=x.getBigUint64(0),S<Number.MAX_SAFE_INTEGER?Number(S):S):x.getUint32(0)*n+x.getUint32(4)},t={getUint64:i,MAX_UINT32:n},a=t.MAX_UINT32,s,l,d,f,h,g,v,T,A,P,D,R,M,$,U,J,te,H,V,X,K,ee,Z,ue,Me,Ue,ke,ge,Ee,mt,lt,wr,It,Bt,sr,Cr;(function(){var I;if(Z={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(I in Z)Z.hasOwnProperty(I)&&(Z[I]=[I.charCodeAt(0),I.charCodeAt(1),I.charCodeAt(2),I.charCodeAt(3)]);ue=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ue=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Me=new Uint8Array([0,0,0,1]),ke=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ge=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Ee={video:ke,audio:ge},wr=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),lt=new Uint8Array([0,0,0,0,0,0,0,0]),It=new Uint8Array([0,0,0,0,0,0,0,0]),Bt=It,sr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Cr=It,mt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(y){var x=[],S=0,E,C,k;for(E=1;E<arguments.length;E++)x.push(arguments[E]);for(E=x.length;E--;)S+=x[E].byteLength;for(C=new Uint8Array(S+8),k=new DataView(C.buffer,C.byteOffset,C.byteLength),k.setUint32(0,C.byteLength),C.set(y,4),E=0,S=8;E<x.length;E++)C.set(x[E],S),S+=x[E].byteLength;return C},l=function(){return s(Z.dinf,s(Z.dref,wr))},d=function(y){return s(Z.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,y.audioobjecttype<<3|y.samplingfrequencyindex>>>1,y.samplingfrequencyindex<<7|y.channelcount<<3,6,1,2]))},f=function(){return s(Z.ftyp,ue,Me,ue,Ue)},J=function(y){return s(Z.hdlr,Ee[y])},h=function(y){return s(Z.mdat,y)},U=function(y){var x=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,y.duration>>>24&255,y.duration>>>16&255,y.duration>>>8&255,y.duration&255,85,196,0,0]);return y.samplerate&&(x[12]=y.samplerate>>>24&255,x[13]=y.samplerate>>>16&255,x[14]=y.samplerate>>>8&255,x[15]=y.samplerate&255),s(Z.mdhd,x)},$=function(y){return s(Z.mdia,U(y),J(y.type),v(y))},g=function(y){return s(Z.mfhd,new Uint8Array([0,0,0,0,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255]))},v=function(y){return s(Z.minf,y.type==="video"?s(Z.vmhd,mt):s(Z.smhd,lt),l(),H(y))},T=function(y,x){for(var S=[],E=x.length;E--;)S[E]=X(x[E]);return s.apply(null,[Z.moof,g(y)].concat(S))},A=function(y){for(var x=y.length,S=[];x--;)S[x]=R(y[x]);return s.apply(null,[Z.moov,D(4294967295)].concat(S).concat(P(y)))},P=function(y){for(var x=y.length,S=[];x--;)S[x]=K(y[x]);return s.apply(null,[Z.mvex].concat(S))},D=function(y){var x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(Z.mvhd,x)},te=function(y){var x=y.samples||[],S=new Uint8Array(4+x.length),E,C;for(C=0;C<x.length;C++)E=x[C].flags,S[C+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return s(Z.sdtp,S)},H=function(y){return s(Z.stbl,V(y),s(Z.stts,Cr),s(Z.stsc,Bt),s(Z.stsz,sr),s(Z.stco,It))},function(){var I,y;V=function(S){return s(Z.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),S.type==="video"?I(S):y(S))},I=function(S){var E=S.sps||[],C=S.pps||[],k=[],N=[],B,q;for(B=0;B<E.length;B++)k.push((E[B].byteLength&65280)>>>8),k.push(E[B].byteLength&255),k=k.concat(Array.prototype.slice.call(E[B]));for(B=0;B<C.length;B++)N.push((C[B].byteLength&65280)>>>8),N.push(C[B].byteLength&255),N=N.concat(Array.prototype.slice.call(C[B]));if(q=[Z.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(S.width&65280)>>8,S.width&255,(S.height&65280)>>8,S.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(Z.avcC,new Uint8Array([1,S.profileIdc,S.profileCompatibility,S.levelIdc,255].concat([E.length],k,[C.length],N))),s(Z.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],S.sarRatio){var G=S.sarRatio[0],Y=S.sarRatio[1];q.push(s(Z.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(Y&4278190080)>>24,(Y&16711680)>>16,(Y&65280)>>8,Y&255])))}return s.apply(null,q)},y=function(S){return s(Z.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(S.channelcount&65280)>>8,S.channelcount&255,(S.samplesize&65280)>>8,S.samplesize&255,0,0,0,0,(S.samplerate&65280)>>8,S.samplerate&255,0,0]),d(S))}}(),M=function(y){var x=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,0,(y.duration&4278190080)>>24,(y.duration&16711680)>>16,(y.duration&65280)>>8,y.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(y.width&65280)>>8,y.width&255,0,0,(y.height&65280)>>8,y.height&255,0,0]);return s(Z.tkhd,x)},X=function(y){var x,S,E,C,k,N,B;return x=s(Z.tfhd,new Uint8Array([0,0,0,58,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),N=Math.floor(y.baseMediaDecodeTime/a),B=Math.floor(y.baseMediaDecodeTime%a),S=s(Z.tfdt,new Uint8Array([1,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,N&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255])),k=32+20+8+16+8+8,y.type==="audio"?(E=ee(y,k),s(Z.traf,x,S,E)):(C=te(y),E=ee(y,C.length+k),s(Z.traf,x,S,E,C))},R=function(y){return y.duration=y.duration||4294967295,s(Z.trak,M(y),$(y))},K=function(y){var x=new Uint8Array([0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return y.type!=="video"&&(x[x.length-1]=0),s(Z.trex,x)},function(){var I,y,x;x=function(E,C){var k=0,N=0,B=0,q=0;return E.length&&(E[0].duration!==void 0&&(k=1),E[0].size!==void 0&&(N=2),E[0].flags!==void 0&&(B=4),E[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,k|N|B|q,1,(E.length&4278190080)>>>24,(E.length&16711680)>>>16,(E.length&65280)>>>8,E.length&255,(C&4278190080)>>>24,(C&16711680)>>>16,(C&65280)>>>8,C&255]},y=function(E,C){var k,N,B,q,G,Y;for(q=E.samples||[],C+=8+12+16*q.length,B=x(q,C),N=new Uint8Array(B.length+q.length*16),N.set(B),k=B.length,Y=0;Y<q.length;Y++)G=q[Y],N[k++]=(G.duration&4278190080)>>>24,N[k++]=(G.duration&16711680)>>>16,N[k++]=(G.duration&65280)>>>8,N[k++]=G.duration&255,N[k++]=(G.size&4278190080)>>>24,N[k++]=(G.size&16711680)>>>16,N[k++]=(G.size&65280)>>>8,N[k++]=G.size&255,N[k++]=G.flags.isLeading<<2|G.flags.dependsOn,N[k++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,N[k++]=G.flags.degradationPriority&240<<8,N[k++]=G.flags.degradationPriority&15,N[k++]=(G.compositionTimeOffset&4278190080)>>>24,N[k++]=(G.compositionTimeOffset&16711680)>>>16,N[k++]=(G.compositionTimeOffset&65280)>>>8,N[k++]=G.compositionTimeOffset&255;return s(Z.trun,N)},I=function(E,C){var k,N,B,q,G,Y;for(q=E.samples||[],C+=8+12+8*q.length,B=x(q,C),k=new Uint8Array(B.length+q.length*8),k.set(B),N=B.length,Y=0;Y<q.length;Y++)G=q[Y],k[N++]=(G.duration&4278190080)>>>24,k[N++]=(G.duration&16711680)>>>16,k[N++]=(G.duration&65280)>>>8,k[N++]=G.duration&255,k[N++]=(G.size&4278190080)>>>24,k[N++]=(G.size&16711680)>>>16,k[N++]=(G.size&65280)>>>8,k[N++]=G.size&255;return s(Z.trun,k)},ee=function(E,C){return E.type==="audio"?I(E,C):y(E,C)}}();var Ut={ftyp:f,mdat:h,moof:T,moov:A,initSegment:function(y){var x=f(),S=A(y),E;return E=new Uint8Array(x.byteLength+S.byteLength),E.set(x),E.set(S,x.byteLength),E}},ne=function(y){var x,S,E=[],C=[];for(C.byteLength=0,C.nalCount=0,C.duration=0,E.byteLength=0,x=0;x<y.length;x++)S=y[x],S.nalUnitType==="access_unit_delimiter_rbsp"?(E.length&&(E.duration=S.dts-E.dts,C.byteLength+=E.byteLength,C.nalCount+=E.length,C.duration+=E.duration,C.push(E)),E=[S],E.byteLength=S.data.byteLength,E.pts=S.pts,E.dts=S.dts):(S.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(E.keyFrame=!0),E.duration=S.dts-E.dts,E.byteLength+=S.data.byteLength,E.push(S));return C.length&&(!E.duration||E.duration<=0)&&(E.duration=C[C.length-1].duration),C.byteLength+=E.byteLength,C.nalCount+=E.length,C.duration+=E.duration,C.push(E),C},ye=function(y){var x,S,E=[],C=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=y[0].pts,E.dts=y[0].dts,C.byteLength=0,C.nalCount=0,C.duration=0,C.pts=y[0].pts,C.dts=y[0].dts,x=0;x<y.length;x++)S=y[x],S.keyFrame?(E.length&&(C.push(E),C.byteLength+=E.byteLength,C.nalCount+=E.nalCount,C.duration+=E.duration),E=[S],E.nalCount=S.length,E.byteLength=S.byteLength,E.pts=S.pts,E.dts=S.dts,E.duration=S.duration):(E.duration+=S.duration,E.nalCount+=S.length,E.byteLength+=S.byteLength,E.push(S));return C.length&&E.duration<=0&&(E.duration=C[C.length-1].duration),C.byteLength+=E.byteLength,C.nalCount+=E.nalCount,C.duration+=E.duration,C.push(E),C},Se=function(y){var x;return!y[0][0].keyFrame&&y.length>1&&(x=y.shift(),y.byteLength-=x.byteLength,y.nalCount-=x.nalCount,y[0][0].dts=x.dts,y[0][0].pts=x.pts,y[0][0].duration+=x.duration),y},Fe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Ze=function(y,x){var S=Fe();return S.dataOffset=x,S.compositionTimeOffset=y.pts-y.dts,S.duration=y.duration,S.size=4*y.length,S.size+=y.byteLength,y.keyFrame&&(S.flags.dependsOn=2,S.flags.isNonSyncSample=0),S},Tt=function(y,x){var S,E,C,k,N,B=x||0,q=[];for(S=0;S<y.length;S++)for(k=y[S],E=0;E<k.length;E++)N=k[E],C=Ze(N,B),B+=C.size,q.push(C);return q},nt=function(y){var x,S,E,C,k,N,B=0,q=y.byteLength,G=y.nalCount,Y=q+4*G,se=new Uint8Array(Y),xe=new DataView(se.buffer);for(x=0;x<y.length;x++)for(C=y[x],S=0;S<C.length;S++)for(k=C[S],E=0;E<k.length;E++)N=k[E],xe.setUint32(B,N.data.byteLength),B+=4,se.set(N.data,B),B+=N.data.byteLength;return se},F=function(y,x){var S,E=x||0,C=[];return S=Ze(y,E),C.push(S),C},W=function(y){var x,S,E=0,C=y.byteLength,k=y.length,N=C+4*k,B=new Uint8Array(N),q=new DataView(B.buffer);for(x=0;x<y.length;x++)S=y[x],q.setUint32(E,S.data.byteLength),E+=4,B.set(S.data,E),E+=S.data.byteLength;return B},re={groupNalsIntoFrames:ne,groupFramesIntoGops:ye,extendFirstKeyFrame:Se,generateSampleTable:Tt,concatenateNalData:nt,generateSampleTableForFrame:F,concatenateNalDataForFrame:W},ie=[33,16,5,32,164,27],de=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],oe=function(y){for(var x=[];y--;)x.push(0);return x},we=function(y){return Object.keys(y).reduce(function(x,S){return x[S]=new Uint8Array(y[S].reduce(function(E,C){return E.concat(C)},[])),x},{})},ce,Te=function(){if(!ce){var y={96e3:[ie,[227,64],oe(154),[56]],88200:[ie,[231],oe(170),[56]],64e3:[ie,[248,192],oe(240),[56]],48e3:[ie,[255,192],oe(268),[55,148,128],oe(54),[112]],44100:[ie,[255,192],oe(268),[55,163,128],oe(84),[112]],32e3:[ie,[255,192],oe(268),[55,234],oe(226),[112]],24e3:[ie,[255,192],oe(268),[55,255,128],oe(268),[111,112],oe(126),[224]],16e3:[ie,[255,192],oe(268),[55,255,128],oe(268),[111,255],oe(269),[223,108],oe(195),[1,192]],12e3:[de,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,253,128],oe(259),[56]],11025:[de,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,255,192],oe(268),[55,175,128],oe(108),[112]],8e3:[de,oe(268),[3,121,16],oe(47),[7]]};ce=we(y)}return ce},fe=9e4,Pe,Oe,Be,Ke,it,ot,St;Pe=function(y){return y*fe},Oe=function(y,x){return y*x},Be=function(y){return y/fe},Ke=function(y,x){return y/x},it=function(y,x){return Pe(Ke(y,x))},ot=function(y,x){return Oe(Be(y),x)},St=function(y,x,S){return Be(S?y:y-x)};var We={ONE_SECOND_IN_TS:fe,secondsToVideoTs:Pe,secondsToAudioTs:Oe,videoTsToSeconds:Be,audioTsToSeconds:Ke,audioTsToVideoTs:it,videoTsToAudioTs:ot,metadataTsToSeconds:St},Ar=function(y){var x,S,E=0;for(x=0;x<y.length;x++)S=y[x],E+=S.data.byteLength;return E},On=function(y,x,S,E){var C,k=0,N=0,B=0,q=0,G,Y,se;if(!!x.length&&(C=We.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),k=Math.ceil(We.ONE_SECOND_IN_TS/(y.samplerate/1024)),S&&E&&(N=C-Math.max(S,E),B=Math.floor(N/k),q=B*k),!(B<1||q>We.ONE_SECOND_IN_TS/2))){for(G=Te()[y.samplerate],G||(G=x[0].data),Y=0;Y<B;Y++)se=x[0],x.splice(0,0,{data:G,dts:se.dts-k,pts:se.pts-k});return y.baseMediaDecodeTime-=Math.floor(We.videoTsToAudioTs(q,y.samplerate)),q}},_i=function(y,x,S){return x.minSegmentDts>=S?y:(x.minSegmentDts=1/0,y.filter(function(E){return E.dts>=S?(x.minSegmentDts=Math.min(x.minSegmentDts,E.dts),x.minSegmentPts=x.minSegmentDts,!0):!1}))},yi=function(y){var x,S,E=[];for(x=0;x<y.length;x++)S=y[x],E.push({size:S.data.byteLength,duration:1024});return E},qa=function(y){var x,S,E=0,C=new Uint8Array(Ar(y));for(x=0;x<y.length;x++)S=y[x],C.set(S.data,E),E+=S.data.byteLength;return C},Wt={prefixWithSilence:On,trimAdtsFramesByEarliestDts:_i,generateSampleTable:yi,concatenateFrameData:qa},kr=We.ONE_SECOND_IN_TS,bi=function(y,x){typeof x.pts=="number"&&(y.timelineStartInfo.pts===void 0&&(y.timelineStartInfo.pts=x.pts),y.minSegmentPts===void 0?y.minSegmentPts=x.pts:y.minSegmentPts=Math.min(y.minSegmentPts,x.pts),y.maxSegmentPts===void 0?y.maxSegmentPts=x.pts:y.maxSegmentPts=Math.max(y.maxSegmentPts,x.pts)),typeof x.dts=="number"&&(y.timelineStartInfo.dts===void 0&&(y.timelineStartInfo.dts=x.dts),y.minSegmentDts===void 0?y.minSegmentDts=x.dts:y.minSegmentDts=Math.min(y.minSegmentDts,x.dts),y.maxSegmentDts===void 0?y.maxSegmentDts=x.dts:y.maxSegmentDts=Math.max(y.maxSegmentDts,x.dts))},ch=function(y){delete y.minSegmentDts,delete y.maxSegmentDts,delete y.minSegmentPts,delete y.maxSegmentPts},dh=function(y,x){var S,E,C=y.minSegmentDts;return x||(C-=y.timelineStartInfo.dts),S=y.timelineStartInfo.baseMediaDecodeTime,S+=C,S=Math.max(0,S),y.type==="audio"&&(E=y.samplerate/kr,S*=E,S=Math.floor(S)),S},Xr={clearDtsInfo:ch,calculateTrackBaseMediaDecodeTime:dh,collectDtsInfo:bi},uc=4,$s=128,au=function(y){for(var x=0,S={payloadType:-1,payloadSize:0},E=0,C=0;x<y.byteLength&&y[x]!==$s;){for(;y[x]===255;)E+=255,x++;for(E+=y[x++];y[x]===255;)C+=255,x++;if(C+=y[x++],!S.payload&&E===uc){var k=String.fromCharCode(y[x+3],y[x+4],y[x+5],y[x+6]);if(k==="GA94"){S.payloadType=E,S.payloadSize=C,S.payload=y.subarray(x,x+C);break}else S.payload=void 0}x+=C,E=0,C=0}return S},_n=function(y){return y.payload[0]!==181||(y.payload[1]<<8|y.payload[2])!==49||String.fromCharCode(y.payload[3],y.payload[4],y.payload[5],y.payload[6])!=="GA94"||y.payload[7]!==3?null:y.payload.subarray(8,y.payload.length-1)},Xe=function(y,x){var S=[],E,C,k,N;if(!(x[0]&64))return S;for(C=x[0]&31,E=0;E<C;E++)k=E*3,N={type:x[k+2]&3,pts:y},x[k+2]&4&&(N.ccData=x[k+3]<<8|x[k+4],S.push(N));return S},ut=function(y){for(var x=y.byteLength,S=[],E=1,C,k;E<x-2;)y[E]===0&&y[E+1]===0&&y[E+2]===3?(S.push(E+2),E+=2):E++;if(S.length===0)return y;C=x-S.length,k=new Uint8Array(C);var N=0;for(E=0;E<C;N++,E++)N===S[0]&&(N++,S.shift()),k[E]=y[N];return k},Ti={parseSei:au,parseUserData:_n,parseCaptionPackets:Xe,discardEmulationPreventionBytes:ut,USER_DATA_REGISTERED_ITU_T_T35:uc},Dr=function I(y){y=y||{},I.prototype.init.call(this),this.parse708captions_=typeof y.parse708captions=="boolean"?y.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ot(0,0),new Ot(0,1),new Ot(1,0),new Ot(1,1)],this.parse708captions_&&(this.cc708Stream_=new ht({captionServices:y.captionServices})),this.reset(),this.ccStreams_.forEach(function(x){x.on("data",this.trigger.bind(this,"data")),x.on("partialdone",this.trigger.bind(this,"partialdone")),x.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Dr.prototype=new e,Dr.prototype.push=function(I){var y,x,S;if(I.nalUnitType==="sei_rbsp"&&(y=Ti.parseSei(I.escapedRBSP),!!y.payload&&y.payloadType===Ti.USER_DATA_REGISTERED_ITU_T_T35&&(x=Ti.parseUserData(y),!!x))){if(I.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(I.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}S=Ti.parseCaptionPackets(I.pts,x),this.captionPackets_=this.captionPackets_.concat(S),this.latestDts_!==I.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=I.dts}},Dr.prototype.flushCCStreams=function(I){this.ccStreams_.forEach(function(y){return I==="flush"?y.flush():y.partialFlush()},this)},Dr.prototype.flushStream=function(I){if(!this.captionPackets_.length){this.flushCCStreams(I);return}this.captionPackets_.forEach(function(y,x){y.presortIndex=x}),this.captionPackets_.sort(function(y,x){return y.pts===x.pts?y.presortIndex-x.presortIndex:y.pts-x.pts}),this.captionPackets_.forEach(function(y){y.type<2?this.dispatchCea608Packet(y):this.dispatchCea708Packet(y)},this),this.captionPackets_.length=0,this.flushCCStreams(I)},Dr.prototype.flush=function(){return this.flushStream("flush")},Dr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Dr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(I){I.reset()})},Dr.prototype.dispatchCea608Packet=function(I){this.setsTextOrXDSActive(I)?this.activeCea608Channel_[I.type]=null:this.setsChannel1Active(I)?this.activeCea608Channel_[I.type]=0:this.setsChannel2Active(I)&&(this.activeCea608Channel_[I.type]=1),this.activeCea608Channel_[I.type]!==null&&this.ccStreams_[(I.type<<1)+this.activeCea608Channel_[I.type]].push(I)},Dr.prototype.setsChannel1Active=function(I){return(I.ccData&30720)===4096},Dr.prototype.setsChannel2Active=function(I){return(I.ccData&30720)===6144},Dr.prototype.setsTextOrXDSActive=function(I){return(I.ccData&28928)===256||(I.ccData&30974)===4138||(I.ccData&30974)===6186},Dr.prototype.dispatchCea708Packet=function(I){this.parse708captions_&&this.cc708Stream_.push(I)};var Vs={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Si=function(y){var x=Vs[y]||y;return y&4096&&y===x?"":String.fromCharCode(x)},zn=function(y){return 32<=y&&y<=127||160<=y&&y<=255},yn=function(y){this.windowNum=y,this.reset()};yn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},yn.prototype.getText=function(){return this.rows.join(`
`)},yn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},yn.prototype.newLine=function(I){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(I),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},yn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},yn.prototype.addText=function(I){this.rows[this.rowIdx]+=I},yn.prototype.backspace=function(){if(!this.isEmpty()){var I=this.rows[this.rowIdx];this.rows[this.rowIdx]=I.substr(0,I.length-1)}};var Wa=function(y,x,S){this.serviceNum=y,this.text="",this.currentWindow=new yn(-1),this.windows=[],this.stream=S,typeof x=="string"&&this.createTextDecoder(x)};Wa.prototype.init=function(I,y){this.startPts=I;for(var x=0;x<8;x++)this.windows[x]=new yn(x),typeof y=="function"&&(this.windows[x].beforeRowOverflow=y)},Wa.prototype.setCurrentWindow=function(I){this.currentWindow=this.windows[I]},Wa.prototype.createTextDecoder=function(I){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(I)}catch(y){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+I+" encoding. "+y})}};var ht=function I(y){y=y||{},I.prototype.init.call(this);var x=this,S=y.captionServices||{},E={},C;Object.keys(S).forEach(function(k){C=S[k],/^SERVICE/.test(k)&&(E[k]=C.encoding)}),this.serviceEncodings=E,this.current708Packet=null,this.services={},this.push=function(k){k.type===3?(x.new708Packet(),x.add708Bytes(k)):(x.current708Packet===null&&x.new708Packet(),x.add708Bytes(k))}};ht.prototype=new e,ht.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},ht.prototype.add708Bytes=function(I){var y=I.ccData,x=y>>>8,S=y&255;this.current708Packet.ptsVals.push(I.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(S)},ht.prototype.push708Packet=function(){var I=this.current708Packet,y=I.data,x=null,S=null,E=0,C=y[E++];for(I.seq=C>>6,I.sizeCode=C&63;E<y.length;E++)C=y[E++],x=C>>5,S=C&31,x===7&&S>0&&(C=y[E++],x=C),this.pushServiceBlock(x,E,S),S>0&&(E+=S-1)},ht.prototype.pushServiceBlock=function(I,y,x){var S,E=y,C=this.current708Packet.data,k=this.services[I];for(k||(k=this.initService(I,E));E<y+x&&E<C.length;E++)S=C[E],zn(S)?E=this.handleText(E,k):S===24?E=this.multiByteCharacter(E,k):S===16?E=this.extendedCommands(E,k):128<=S&&S<=135?E=this.setCurrentWindow(E,k):152<=S&&S<=159?E=this.defineWindow(E,k):S===136?E=this.clearWindows(E,k):S===140?E=this.deleteWindows(E,k):S===137?E=this.displayWindows(E,k):S===138?E=this.hideWindows(E,k):S===139?E=this.toggleWindows(E,k):S===151?E=this.setWindowAttributes(E,k):S===144?E=this.setPenAttributes(E,k):S===145?E=this.setPenColor(E,k):S===146?E=this.setPenLocation(E,k):S===143?k=this.reset(E,k):S===8?k.currentWindow.backspace():S===12?k.currentWindow.clearText():S===13?k.currentWindow.pendingNewLine=!0:S===14?k.currentWindow.clearText():S===141&&E++},ht.prototype.extendedCommands=function(I,y){var x=this.current708Packet.data,S=x[++I];return zn(S)&&(I=this.handleText(I,y,{isExtended:!0})),I},ht.prototype.getPts=function(I){return this.current708Packet.ptsVals[Math.floor(I/2)]},ht.prototype.initService=function(I,y){var S="SERVICE"+I,x=this,S,E;return S in this.serviceEncodings&&(E=this.serviceEncodings[S]),this.services[I]=new Wa(I,E,x),this.services[I].init(this.getPts(y),function(C){x.flushDisplayed(C,x.services[I])}),this.services[I]},ht.prototype.handleText=function(I,y,x){var S=x&&x.isExtended,E=x&&x.isMultiByte,C=this.current708Packet.data,k=S?4096:0,N=C[I],B=C[I+1],q=y.currentWindow,G,Y;return y.textDecoder_&&!S?(E?(Y=[N,B],I++):Y=[N],G=y.textDecoder_.decode(new Uint8Array(Y))):G=Si(k|N),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(I)),q.pendingNewLine=!1,q.addText(G),I},ht.prototype.multiByteCharacter=function(I,y){var x=this.current708Packet.data,S=x[I+1],E=x[I+2];return zn(S)&&zn(E)&&(I=this.handleText(++I,y,{isMultiByte:!0})),I},ht.prototype.setCurrentWindow=function(I,y){var x=this.current708Packet.data,S=x[I],E=S&7;return y.setCurrentWindow(E),I},ht.prototype.defineWindow=function(I,y){var x=this.current708Packet.data,S=x[I],E=S&7;y.setCurrentWindow(E);var C=y.currentWindow;return S=x[++I],C.visible=(S&32)>>5,C.rowLock=(S&16)>>4,C.columnLock=(S&8)>>3,C.priority=S&7,S=x[++I],C.relativePositioning=(S&128)>>7,C.anchorVertical=S&127,S=x[++I],C.anchorHorizontal=S,S=x[++I],C.anchorPoint=(S&240)>>4,C.rowCount=S&15,S=x[++I],C.columnCount=S&63,S=x[++I],C.windowStyle=(S&56)>>3,C.penStyle=S&7,C.virtualRowCount=C.rowCount+1,I},ht.prototype.setWindowAttributes=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.winAttr;return S=x[++I],E.fillOpacity=(S&192)>>6,E.fillRed=(S&48)>>4,E.fillGreen=(S&12)>>2,E.fillBlue=S&3,S=x[++I],E.borderType=(S&192)>>6,E.borderRed=(S&48)>>4,E.borderGreen=(S&12)>>2,E.borderBlue=S&3,S=x[++I],E.borderType+=(S&128)>>5,E.wordWrap=(S&64)>>6,E.printDirection=(S&48)>>4,E.scrollDirection=(S&12)>>2,E.justify=S&3,S=x[++I],E.effectSpeed=(S&240)>>4,E.effectDirection=(S&12)>>2,E.displayEffect=S&3,I},ht.prototype.flushDisplayed=function(I,y){for(var x=[],S=0;S<8;S++)y.windows[S].visible&&!y.windows[S].isEmpty()&&x.push(y.windows[S].getText());y.endPts=I,y.text=x.join(`

`),this.pushCaption(y),y.startPts=I},ht.prototype.pushCaption=function(I){I.text!==""&&(this.trigger("data",{startPts:I.startPts,endPts:I.endPts,text:I.text,stream:"cc708_"+I.serviceNum}),I.text="",I.startPts=I.endPts)},ht.prototype.displayWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var C=0;C<8;C++)S&1<<C&&(y.windows[C].visible=1);return I},ht.prototype.hideWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var C=0;C<8;C++)S&1<<C&&(y.windows[C].visible=0);return I},ht.prototype.toggleWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var C=0;C<8;C++)S&1<<C&&(y.windows[C].visible^=1);return I},ht.prototype.clearWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var C=0;C<8;C++)S&1<<C&&y.windows[C].clearText();return I},ht.prototype.deleteWindows=function(I,y){var x=this.current708Packet.data,S=x[++I],E=this.getPts(I);this.flushDisplayed(E,y);for(var C=0;C<8;C++)S&1<<C&&y.windows[C].reset();return I},ht.prototype.setPenAttributes=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.penAttr;return S=x[++I],E.textTag=(S&240)>>4,E.offset=(S&12)>>2,E.penSize=S&3,S=x[++I],E.italics=(S&128)>>7,E.underline=(S&64)>>6,E.edgeType=(S&56)>>3,E.fontStyle=S&7,I},ht.prototype.setPenColor=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.penColor;return S=x[++I],E.fgOpacity=(S&192)>>6,E.fgRed=(S&48)>>4,E.fgGreen=(S&12)>>2,E.fgBlue=S&3,S=x[++I],E.bgOpacity=(S&192)>>6,E.bgRed=(S&48)>>4,E.bgGreen=(S&12)>>2,E.bgBlue=S&3,S=x[++I],E.edgeRed=(S&48)>>4,E.edgeGreen=(S&12)>>2,E.edgeBlue=S&3,I},ht.prototype.setPenLocation=function(I,y){var x=this.current708Packet.data,S=x[I],E=y.currentWindow.penLoc;return y.currentWindow.pendingNewLine=!0,S=x[++I],E.row=S&15,S=x[++I],E.column=S&63,I},ht.prototype.reset=function(I,y){var x=this.getPts(I);return this.flushDisplayed(x,y),this.initService(y.serviceNum,I)};var Hs={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Kn=function(y){return y===null?"":(y=Hs[y]||y,String.fromCharCode(y))},Ga=14,su=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Xn=function(){for(var y=[],x=Ga+1;x--;)y.push("");return y},Ot=function I(y,x){I.prototype.init.call(this),this.field_=y||0,this.dataChannel_=x||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(S){var E,C,k,N,B;if(E=S.ccData&32639,E===this.lastControlCode_){this.lastControlCode_=null;return}if((E&61440)===4096?this.lastControlCode_=E:E!==this.PADDING_&&(this.lastControlCode_=null),k=E>>>8,N=E&255,E!==this.PADDING_)if(E===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(E===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(S.pts),this.flushDisplayed(S.pts),C=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=C,this.startPts_=S.pts;else if(E===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(S.pts);else if(E===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(S.pts);else if(E===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(S.pts);else if(E===this.CARRIAGE_RETURN_)this.clearFormatting(S.pts),this.flushDisplayed(S.pts),this.shiftRowsUp_(),this.startPts_=S.pts;else if(E===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(E===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(S.pts),this.displayed_=Xn();else if(E===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Xn();else if(E===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(S.pts),this.displayed_=Xn()),this.mode_="paintOn",this.startPts_=S.pts;else if(this.isSpecialCharacter(k,N))k=(k&3)<<8,B=Kn(k|N),this[this.mode_](S.pts,B),this.column_++;else if(this.isExtCharacter(k,N))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),k=(k&3)<<8,B=Kn(k|N),this[this.mode_](S.pts,B),this.column_++;else if(this.isMidRowCode(k,N))this.clearFormatting(S.pts),this[this.mode_](S.pts," "),this.column_++,(N&14)===14&&this.addFormatting(S.pts,["i"]),(N&1)===1&&this.addFormatting(S.pts,["u"]);else if(this.isOffsetControlCode(k,N))this.column_+=N&3;else if(this.isPAC(k,N)){var q=su.indexOf(E&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(S.pts,q)),q!==this.row_&&(this.clearFormatting(S.pts),this.row_=q),N&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(S.pts,["u"]),(E&16)===16&&(this.column_=((E&14)>>1)*4),this.isColorPAC(N)&&(N&14)===14&&this.addFormatting(S.pts,["i"])}else this.isNormalChar(k)&&(N===0&&(N=null),B=Kn(k),B+=Kn(N),this[this.mode_](S.pts,B),this.column_+=B.length)}};Ot.prototype=new e,Ot.prototype.flushDisplayed=function(I){var y=this.displayed_.map(function(x,S){try{return x.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+S+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");y.length&&this.trigger("data",{startPts:this.startPts_,endPts:I,text:y,stream:this.name_})},Ot.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Xn(),this.nonDisplayed_=Xn(),this.lastControlCode_=null,this.column_=0,this.row_=Ga,this.rollUpRows_=2,this.formatting_=[]},Ot.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ot.prototype.isSpecialCharacter=function(I,y){return I===this.EXT_&&y>=48&&y<=63},Ot.prototype.isExtCharacter=function(I,y){return(I===this.EXT_+1||I===this.EXT_+2)&&y>=32&&y<=63},Ot.prototype.isMidRowCode=function(I,y){return I===this.EXT_&&y>=32&&y<=47},Ot.prototype.isOffsetControlCode=function(I,y){return I===this.OFFSET_&&y>=33&&y<=35},Ot.prototype.isPAC=function(I,y){return I>=this.BASE_&&I<this.BASE_+8&&y>=64&&y<=127},Ot.prototype.isColorPAC=function(I){return I>=64&&I<=79||I>=96&&I<=127},Ot.prototype.isNormalChar=function(I){return I>=32&&I<=127},Ot.prototype.setRollUp=function(I,y){if(this.mode_!=="rollUp"&&(this.row_=Ga,this.mode_="rollUp",this.flushDisplayed(I),this.nonDisplayed_=Xn(),this.displayed_=Xn()),y!==void 0&&y!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[y-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]="";y===void 0&&(y=this.row_),this.topRow_=y-this.rollUpRows_+1},Ot.prototype.addFormatting=function(I,y){this.formatting_=this.formatting_.concat(y);var x=y.reduce(function(S,E){return S+"<"+E+">"},"");this[this.mode_](I,x)},Ot.prototype.clearFormatting=function(I){if(!!this.formatting_.length){var y=this.formatting_.reverse().reduce(function(x,S){return x+"</"+S+">"},"");this.formatting_=[],this[this.mode_](I,y)}},Ot.prototype.popOn=function(I,y){var x=this.nonDisplayed_[this.row_];x+=y,this.nonDisplayed_[this.row_]=x},Ot.prototype.rollUp=function(I,y){var x=this.displayed_[this.row_];x+=y,this.displayed_[this.row_]=x},Ot.prototype.shiftRowsUp_=function(){var I;for(I=0;I<this.topRow_;I++)this.displayed_[I]="";for(I=this.row_+1;I<Ga+1;I++)this.displayed_[I]="";for(I=this.topRow_;I<this.row_;I++)this.displayed_[I]=this.displayed_[I+1];this.displayed_[this.row_]=""},Ot.prototype.paintOn=function(I,y){var x=this.displayed_[this.row_];x+=y,this.displayed_[this.row_]=x};var za={CaptionStream:Dr,Cea608Stream:Ot,Cea708Stream:ht},rr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},fh=8589934592,hh=4294967296,ou="shared",uu=function(y,x){var S=1;for(y>x&&(S=-1);Math.abs(x-y)>hh;)y+=S*fh;return y},Ka=function I(y){var x,S;I.prototype.init.call(this),this.type_=y||ou,this.push=function(E){this.type_!==ou&&E.type!==this.type_||(S===void 0&&(S=E.dts),E.dts=uu(E.dts,S),E.pts=uu(E.pts,S),x=E.dts,this.trigger("data",E))},this.flush=function(){S=x,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){S=void 0,x=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ka.prototype=new e;var qs={TimestampRolloverStream:Ka,handleRollover:uu},lu=function(y,x,S){var E,C="";for(E=x;E<S;E++)C+="%"+("00"+y[E].toString(16)).slice(-2);return C},Xa=function(y,x,S){return decodeURIComponent(lu(y,x,S))},ph=function(y,x,S){return unescape(lu(y,x,S))},Ja=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},cu={TXXX:function(y){var x;if(y.data[0]===3){for(x=1;x<y.data.length;x++)if(y.data[x]===0){y.description=Xa(y.data,1,x),y.value=Xa(y.data,x+1,y.data.length).replace(/\0*$/,"");break}y.data=y.value}},WXXX:function(y){var x;if(y.data[0]===3){for(x=1;x<y.data.length;x++)if(y.data[x]===0){y.description=Xa(y.data,1,x),y.url=Xa(y.data,x+1,y.data.length);break}}},PRIV:function(y){var x;for(x=0;x<y.data.length;x++)if(y.data[x]===0){y.owner=ph(y.data,0,x);break}y.privateData=y.data.subarray(x+1),y.data=y.privateData}},yt;yt=function(y){var x={descriptor:y&&y.descriptor},S=0,E=[],C=0,k;if(yt.prototype.init.call(this),this.dispatchType=rr.METADATA_STREAM_TYPE.toString(16),x.descriptor)for(k=0;k<x.descriptor.length;k++)this.dispatchType+=("00"+x.descriptor[k].toString(16)).slice(-2);this.push=function(N){var B,q,G,Y,se,xe;if(N.type==="timed-metadata"){if(N.dataAlignmentIndicator&&(C=0,E.length=0),E.length===0&&(N.data.length<10||N.data[0]!=="I".charCodeAt(0)||N.data[1]!=="D".charCodeAt(0)||N.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(E.push(N),C+=N.data.byteLength,E.length===1&&(S=Ja(N.data.subarray(6,10)),S+=10),!(C<S)){for(B={data:new Uint8Array(S),frames:[],pts:E[0].pts,dts:E[0].dts},se=0;se<S;)B.data.set(E[0].data.subarray(0,S-se),se),se+=E[0].data.byteLength,C-=E[0].data.byteLength,E.shift();q=10,B.data[5]&64&&(q+=4,q+=Ja(B.data.subarray(10,14)),S-=Ja(B.data.subarray(16,20)));do{if(G=Ja(B.data.subarray(q+4,q+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(xe=String.fromCharCode(B.data[q],B.data[q+1],B.data[q+2],B.data[q+3]),Y={id:xe,data:B.data.subarray(q+10,q+G+10)},Y.key=Y.id,cu[Y.id]&&(cu[Y.id](Y),Y.owner==="com.apple.streaming.transportStreamTimestamp")){var Ie=Y.data,ve=(Ie[3]&1)<<30|Ie[4]<<22|Ie[5]<<14|Ie[6]<<6|Ie[7]>>>2;ve*=4,ve+=Ie[7]&3,Y.timeStamp=ve,B.pts===void 0&&B.dts===void 0&&(B.pts=Y.timeStamp,B.dts=Y.timeStamp),this.trigger("timestamp",Y)}B.frames.push(Y),q+=10,q+=G}while(q<S);this.trigger("data",B)}}}},yt.prototype=new e;var gh=yt,mh=qs.TimestampRolloverStream,Ws,ua,Gs,la=188,du=71;Ws=function(){var y=new Uint8Array(la),x=0;Ws.prototype.init.call(this),this.push=function(S){var E=0,C=la,k;for(x?(k=new Uint8Array(S.byteLength+x),k.set(y.subarray(0,x)),k.set(S,x),x=0):k=S;C<k.byteLength;){if(k[E]===du&&k[C]===du){this.trigger("data",k.subarray(E,C)),E+=la,C+=la;continue}E++,C++}E<k.byteLength&&(y.set(k.subarray(E),0),x=k.byteLength-E)},this.flush=function(){x===la&&y[0]===du&&(this.trigger("data",y),x=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){x=0,this.trigger("reset")}},Ws.prototype=new e,ua=function(){var y,x,S,E;ua.prototype.init.call(this),E=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,y=function(k,N){var B=0;N.payloadUnitStartIndicator&&(B+=k[B]+1),N.type==="pat"?x(k.subarray(B),N):S(k.subarray(B),N)},x=function(k,N){N.section_number=k[7],N.last_section_number=k[8],E.pmtPid=(k[10]&31)<<8|k[11],N.pmtPid=E.pmtPid},S=function(k,N){var B,q,G,Y;if(!!(k[5]&1)){for(E.programMapTable={video:null,audio:null,"timed-metadata":{}},B=(k[1]&15)<<8|k[2],q=3+B-4,G=(k[10]&15)<<8|k[11],Y=12+G;Y<q;){var se=k[Y],xe=(k[Y+1]&31)<<8|k[Y+2];se===rr.H264_STREAM_TYPE&&E.programMapTable.video===null?E.programMapTable.video=xe:se===rr.ADTS_STREAM_TYPE&&E.programMapTable.audio===null?E.programMapTable.audio=xe:se===rr.METADATA_STREAM_TYPE&&(E.programMapTable["timed-metadata"][xe]=se),Y+=((k[Y+3]&15)<<8|k[Y+4])+5}N.programMapTable=E.programMapTable}},this.push=function(C){var k={},N=4;if(k.payloadUnitStartIndicator=!!(C[1]&64),k.pid=C[1]&31,k.pid<<=8,k.pid|=C[2],(C[3]&48)>>>4>1&&(N+=C[N]+1),k.pid===0)k.type="pat",y(C.subarray(N),k),this.trigger("data",k);else if(k.pid===this.pmtPid)for(k.type="pmt",y(C.subarray(N),k),this.trigger("data",k);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([C,N,k]):this.processPes_(C,N,k)},this.processPes_=function(C,k,N){N.pid===this.programMapTable.video?N.streamType=rr.H264_STREAM_TYPE:N.pid===this.programMapTable.audio?N.streamType=rr.ADTS_STREAM_TYPE:N.streamType=this.programMapTable["timed-metadata"][N.pid],N.type="pes",N.data=C.subarray(k),this.trigger("data",N)}},ua.prototype=new e,ua.STREAM_TYPES={h264:27,adts:15},Gs=function(){var y=this,x=!1,S={data:[],size:0},E={data:[],size:0},C={data:[],size:0},k,N=function(G,Y){var se,xe=G[0]<<16|G[1]<<8|G[2];Y.data=new Uint8Array,xe===1&&(Y.packetLength=6+(G[4]<<8|G[5]),Y.dataAlignmentIndicator=(G[6]&4)!==0,se=G[7],se&192&&(Y.pts=(G[9]&14)<<27|(G[10]&255)<<20|(G[11]&254)<<12|(G[12]&255)<<5|(G[13]&254)>>>3,Y.pts*=4,Y.pts+=(G[13]&6)>>>1,Y.dts=Y.pts,se&64&&(Y.dts=(G[14]&14)<<27|(G[15]&255)<<20|(G[16]&254)<<12|(G[17]&255)<<5|(G[18]&254)>>>3,Y.dts*=4,Y.dts+=(G[18]&6)>>>1)),Y.data=G.subarray(9+G[8]))},B=function(G,Y,se){var xe=new Uint8Array(G.size),Ie={type:Y},ve=0,He=0,Yt=!1,yr;if(!(!G.data.length||G.size<9)){for(Ie.trackId=G.data[0].pid,ve=0;ve<G.data.length;ve++)yr=G.data[ve],xe.set(yr.data,He),He+=yr.data.byteLength;N(xe,Ie),Yt=Y==="video"||Ie.packetLength<=G.size,(se||Yt)&&(G.size=0,G.data.length=0),Yt&&y.trigger("data",Ie)}};Gs.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var Y,se;switch(q.streamType){case rr.H264_STREAM_TYPE:Y=S,se="video";break;case rr.ADTS_STREAM_TYPE:Y=E,se="audio";break;case rr.METADATA_STREAM_TYPE:Y=C,se="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&B(Y,se,!0),Y.data.push(q),Y.size+=q.data.byteLength},pmt:function(){var Y={type:"metadata",tracks:[]};k=q.programMapTable,k.video!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),x=!0,y.trigger("data",Y)}})[q.type]()},this.reset=function(){S.size=0,S.data.length=0,E.size=0,E.data.length=0,this.trigger("reset")},this.flushStreams_=function(){B(S,"video"),B(E,"audio"),B(C,"timed-metadata")},this.flush=function(){if(!x&&k){var q={type:"metadata",tracks:[]};k.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),y.trigger("data",q)}x=!1,this.flushStreams_(),this.trigger("done")}},Gs.prototype=new e;var lc={PAT_PID:0,MP2T_PACKET_LENGTH:la,TransportPacketStream:Ws,TransportParseStream:ua,ElementaryStream:Gs,TimestampRolloverStream:mh,CaptionStream:za.CaptionStream,Cea608Stream:za.Cea608Stream,Cea708Stream:za.Cea708Stream,MetadataStream:gh};for(var fu in rr)rr.hasOwnProperty(fu)&&(lc[fu]=rr[fu]);var Ln=lc,vh=We.ONE_SECOND_IN_TS,zs,hu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];zs=function(y){var x,S=0;zs.prototype.init.call(this),this.skipWarn_=function(E,C){this.trigger("log",{level:"warn",message:"adts skiping bytes "+E+" to "+C+" in frame "+S+" outside syncword"})},this.push=function(E){var C=0,k,N,B,q,G;if(y||(S=0),E.type==="audio"){x&&x.length?(B=x,x=new Uint8Array(B.byteLength+E.data.byteLength),x.set(B),x.set(E.data,B.byteLength)):x=E.data;for(var Y;C+7<x.length;){if(x[C]!==255||(x[C+1]&246)!==240){typeof Y!="number"&&(Y=C),C++;continue}if(typeof Y=="number"&&(this.skipWarn_(Y,C),Y=null),N=(~x[C+1]&1)*2,k=(x[C+3]&3)<<11|x[C+4]<<3|(x[C+5]&224)>>5,q=((x[C+6]&3)+1)*1024,G=q*vh/hu[(x[C+2]&60)>>>2],x.byteLength-C<k)break;this.trigger("data",{pts:E.pts+S*G,dts:E.dts+S*G,sampleCount:q,audioobjecttype:(x[C+2]>>>6&3)+1,channelcount:(x[C+2]&1)<<2|(x[C+3]&192)>>>6,samplerate:hu[(x[C+2]&60)>>>2],samplingfrequencyindex:(x[C+2]&60)>>>2,samplesize:16,data:x.subarray(C+7+N,C+k)}),S++,C+=k}typeof Y=="number"&&(this.skipWarn_(Y,C),Y=null),x=x.subarray(C)}},this.flush=function(){S=0,this.trigger("done")},this.reset=function(){x=void 0,this.trigger("reset")},this.endTimeline=function(){x=void 0,this.trigger("endedtimeline")}},zs.prototype=new e;var pu=zs,cc;cc=function(y){var x=y.byteLength,S=0,E=0;this.length=function(){return 8*x},this.bitsAvailable=function(){return 8*x+E},this.loadWord=function(){var C=y.byteLength-x,k=new Uint8Array(4),N=Math.min(4,x);if(N===0)throw new Error("no bytes available");k.set(y.subarray(C,C+N)),S=new DataView(k.buffer).getUint32(0),E=N*8,x-=N},this.skipBits=function(C){var k;E>C?(S<<=C,E-=C):(C-=E,k=Math.floor(C/8),C-=k*8,x-=k,this.loadWord(),S<<=C,E-=C)},this.readBits=function(C){var k=Math.min(E,C),N=S>>>32-k;return E-=k,E>0?S<<=k:x>0&&this.loadWord(),k=C-k,k>0?N<<k|this.readBits(k):N},this.skipLeadingZeros=function(){var C;for(C=0;C<E;++C)if((S&2147483648>>>C)!==0)return S<<=C,E-=C,C;return this.loadWord(),C+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var C=this.skipLeadingZeros();return this.readBits(C+1)-1},this.readExpGolomb=function(){var C=this.readUnsignedExpGolomb();return 1&C?1+C>>>1:-1*(C>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var _h=cc,ca,da,gu;da=function(){var y=0,x,S;da.prototype.init.call(this),this.push=function(E){var C;S?(C=new Uint8Array(S.byteLength+E.data.byteLength),C.set(S),C.set(E.data,S.byteLength),S=C):S=E.data;for(var k=S.byteLength;y<k-3;y++)if(S[y+2]===1){x=y+5;break}for(;x<k;)switch(S[x]){case 0:if(S[x-1]!==0){x+=2;break}else if(S[x-2]!==0){x++;break}y+3!==x-2&&this.trigger("data",S.subarray(y+3,x-2));do x++;while(S[x]!==1&&x<k);y=x-2,x+=3;break;case 1:if(S[x-1]!==0||S[x-2]!==0){x+=3;break}this.trigger("data",S.subarray(y+3,x-2)),y=x-2,x+=3;break;default:x+=3;break}S=S.subarray(y),x-=y,y=0},this.reset=function(){S=null,y=0,this.trigger("reset")},this.flush=function(){S&&S.byteLength>3&&this.trigger("data",S.subarray(y+3)),S=null,y=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},da.prototype=new e,gu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ca=function(){var y=new da,x,S,E,C,k,N,B;ca.prototype.init.call(this),x=this,this.push=function(q){q.type==="video"&&(S=q.trackId,E=q.pts,C=q.dts,y.push(q))},y.on("data",function(q){var G={trackId:S,pts:E,dts:C,data:q,nalUnitTypeCode:q[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=k(q.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=k(q.subarray(1)),G.config=N(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}x.trigger("data",G)}),y.on("done",function(){x.trigger("done")}),y.on("partialdone",function(){x.trigger("partialdone")}),y.on("reset",function(){x.trigger("reset")}),y.on("endedtimeline",function(){x.trigger("endedtimeline")}),this.flush=function(){y.flush()},this.partialFlush=function(){y.partialFlush()},this.reset=function(){y.reset()},this.endTimeline=function(){y.endTimeline()},B=function(G,Y){var se=8,xe=8,Ie,ve;for(Ie=0;Ie<G;Ie++)xe!==0&&(ve=Y.readExpGolomb(),xe=(se+ve+256)%256),se=xe===0?se:xe},k=function(G){for(var Y=G.byteLength,se=[],xe=1,Ie,ve;xe<Y-2;)G[xe]===0&&G[xe+1]===0&&G[xe+2]===3?(se.push(xe+2),xe+=2):xe++;if(se.length===0)return G;Ie=Y-se.length,ve=new Uint8Array(Ie);var He=0;for(xe=0;xe<Ie;He++,xe++)He===se[0]&&(He++,se.shift()),ve[xe]=G[He];return ve},N=function(G){var Y=0,se=0,xe=0,Ie=0,ve,He,Yt,yr,Ci,Cu,Fc,Mc,Bc,Au,Uc,Gt=[1,1],jc,Ai;if(ve=new _h(G),He=ve.readUnsignedByte(),yr=ve.readUnsignedByte(),Yt=ve.readUnsignedByte(),ve.skipUnsignedExpGolomb(),gu[He]&&(Ci=ve.readUnsignedExpGolomb(),Ci===3&&ve.skipBits(1),ve.skipUnsignedExpGolomb(),ve.skipUnsignedExpGolomb(),ve.skipBits(1),ve.readBoolean()))for(Uc=Ci!==3?8:12,Ai=0;Ai<Uc;Ai++)ve.readBoolean()&&(Ai<6?B(16,ve):B(64,ve));if(ve.skipUnsignedExpGolomb(),Cu=ve.readUnsignedExpGolomb(),Cu===0)ve.readUnsignedExpGolomb();else if(Cu===1)for(ve.skipBits(1),ve.skipExpGolomb(),ve.skipExpGolomb(),Fc=ve.readUnsignedExpGolomb(),Ai=0;Ai<Fc;Ai++)ve.skipExpGolomb();if(ve.skipUnsignedExpGolomb(),ve.skipBits(1),Mc=ve.readUnsignedExpGolomb(),Bc=ve.readUnsignedExpGolomb(),Au=ve.readBits(1),Au===0&&ve.skipBits(1),ve.skipBits(1),ve.readBoolean()&&(Y=ve.readUnsignedExpGolomb(),se=ve.readUnsignedExpGolomb(),xe=ve.readUnsignedExpGolomb(),Ie=ve.readUnsignedExpGolomb()),ve.readBoolean()&&ve.readBoolean()){switch(jc=ve.readUnsignedByte(),jc){case 1:Gt=[1,1];break;case 2:Gt=[12,11];break;case 3:Gt=[10,11];break;case 4:Gt=[16,11];break;case 5:Gt=[40,33];break;case 6:Gt=[24,11];break;case 7:Gt=[20,11];break;case 8:Gt=[32,11];break;case 9:Gt=[80,33];break;case 10:Gt=[18,11];break;case 11:Gt=[15,11];break;case 12:Gt=[64,33];break;case 13:Gt=[160,99];break;case 14:Gt=[4,3];break;case 15:Gt=[3,2];break;case 16:Gt=[2,1];break;case 255:{Gt=[ve.readUnsignedByte()<<8|ve.readUnsignedByte(),ve.readUnsignedByte()<<8|ve.readUnsignedByte()];break}}Gt&&Gt[0]/Gt[1]}return{profileIdc:He,levelIdc:Yt,profileCompatibility:yr,width:(Mc+1)*16-Y*2-se*2,height:(2-Au)*(Bc+1)*16-xe*2-Ie*2,sarRatio:Gt}}},ca.prototype=new e;var dc={H264Stream:ca,NalByteStream:da},yh=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],fc=function(y,x){var S=y[x+6]<<21|y[x+7]<<14|y[x+8]<<7|y[x+9],E=y[x+5],C=(E&16)>>4;return S=S>=0?S:0,C?S+20:S+10},bh=function I(y,x){return y.length-x<10||y[x]!=="I".charCodeAt(0)||y[x+1]!=="D".charCodeAt(0)||y[x+2]!=="3".charCodeAt(0)?x:(x+=fc(y,x),I(y,x))},Th=function(y){var x=bh(y,0);return y.length>=x+2&&(y[x]&255)===255&&(y[x+1]&240)===240&&(y[x+1]&22)===16},mu=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},Sh=function(y,x,S){var E,C="";for(E=x;E<S;E++)C+="%"+("00"+y[E].toString(16)).slice(-2);return C},xh=function(y,x,S){return unescape(Sh(y,x,S))},Eh=function(y,x){var S=(y[x+5]&224)>>5,E=y[x+4]<<3,C=y[x+3]&3<<11;return C|E|S},wh=function(y,x){return y[x]==="I".charCodeAt(0)&&y[x+1]==="D".charCodeAt(0)&&y[x+2]==="3".charCodeAt(0)?"timed-metadata":y[x]&!0&&(y[x+1]&240)===240?"audio":null},Ch=function(y){for(var x=0;x+5<y.length;){if(y[x]!==255||(y[x+1]&246)!==240){x++;continue}return yh[(y[x+2]&60)>>>2]}return null},Ah=function(y){var x,S,E,C;x=10,y[5]&64&&(x+=4,x+=mu(y.subarray(10,14)));do{if(S=mu(y.subarray(x+4,x+8)),S<1)return null;if(C=String.fromCharCode(y[x],y[x+1],y[x+2],y[x+3]),C==="PRIV"){E=y.subarray(x+10,x+S+10);for(var k=0;k<E.byteLength;k++)if(E[k]===0){var N=xh(E,0,k);if(N==="com.apple.streaming.transportStreamTimestamp"){var B=E.subarray(k+1),q=(B[3]&1)<<30|B[4]<<22|B[5]<<14|B[6]<<6|B[7]>>>2;return q*=4,q+=B[7]&3,q}break}}x+=10,x+=S}while(x<y.byteLength);return null},Ks={isLikelyAacData:Th,parseId3TagSize:fc,parseAdtsSize:Eh,parseType:wh,parseSampleRate:Ch,parseAacTimestamp:Ah},Xs;Xs=function(){var y=new Uint8Array,x=0;Xs.prototype.init.call(this),this.setTimestamp=function(S){x=S},this.push=function(S){var E=0,C=0,k,N,B,q;for(y.length?(q=y.length,y=new Uint8Array(S.byteLength+q),y.set(y.subarray(0,q)),y.set(S,q)):y=S;y.length-C>=3;){if(y[C]==="I".charCodeAt(0)&&y[C+1]==="D".charCodeAt(0)&&y[C+2]==="3".charCodeAt(0)){if(y.length-C<10||(E=Ks.parseId3TagSize(y,C),C+E>y.length))break;N={type:"timed-metadata",data:y.subarray(C,C+E)},this.trigger("data",N),C+=E;continue}else if((y[C]&255)===255&&(y[C+1]&240)===240){if(y.length-C<7||(E=Ks.parseAdtsSize(y,C),C+E>y.length))break;B={type:"audio",data:y.subarray(C,C+E),pts:x,dts:x},this.trigger("data",B),C+=E;continue}C++}k=y.length-C,k>0?y=y.subarray(C):y=new Uint8Array},this.reset=function(){y=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){y=new Uint8Array,this.trigger("endedtimeline")}},Xs.prototype=new e;var kh=Xs,Dh=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],vu=Dh,Ph=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],_u=Ph,Ih=dc.H264Stream,Oh=Ks.isLikelyAacData,yu=We.ONE_SECOND_IN_TS,Ya,fa,Js,xi,hc=function(y,x){x.stream=y,this.trigger("log",x)},pc=function(y,x){for(var S=Object.keys(x),E=0;E<S.length;E++){var C=S[E];C==="headOfPipeline"||!x[C].on||x[C].on("log",hc.bind(y,C))}},gc=function(y,x){var S;if(y.length!==x.length)return!1;for(S=0;S<y.length;S++)if(y[S]!==x[S])return!1;return!0},bu=function(y,x,S,E,C,k){var N=S-x,B=E-x,q=C-S;return{start:{dts:y,pts:y+N},end:{dts:y+B,pts:y+q},prependedContentDuration:k,baseMediaDecodeTime:y}};fa=function(y,x){var S=[],E,C=0,k=0,N=1/0;x=x||{},E=x.firstSequenceNumber||0,fa.prototype.init.call(this),this.push=function(B){Xr.collectDtsInfo(y,B),y&&vu.forEach(function(q){y[q]=B[q]}),S.push(B)},this.setEarliestDts=function(B){C=B},this.setVideoBaseMediaDecodeTime=function(B){N=B},this.setAudioAppendStart=function(B){k=B},this.flush=function(){var B,q,G,Y,se,xe,Ie;if(S.length===0){this.trigger("done","AudioSegmentStream");return}B=Wt.trimAdtsFramesByEarliestDts(S,y,C),y.baseMediaDecodeTime=Xr.calculateTrackBaseMediaDecodeTime(y,x.keepOriginalTimestamps),Ie=Wt.prefixWithSilence(y,B,k,N),y.samples=Wt.generateSampleTable(B),G=Ut.mdat(Wt.concatenateFrameData(B)),S=[],q=Ut.moof(E,[y]),Y=new Uint8Array(q.byteLength+G.byteLength),E++,Y.set(q),Y.set(G,q.byteLength),Xr.clearDtsInfo(y),se=Math.ceil(yu*1024/y.samplerate),B.length&&(xe=B.length*se,this.trigger("segmentTimingInfo",bu(We.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),B[0].dts,B[0].pts,B[0].dts+xe,B[0].pts+xe,Ie||0)),this.trigger("timingInfo",{start:B[0].pts,end:B[0].pts+xe})),this.trigger("data",{track:y,boxes:Y}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Xr.clearDtsInfo(y),S=[],this.trigger("reset")}},fa.prototype=new e,Ya=function(y,x){var S,E=[],C=[],k,N;x=x||{},S=x.firstSequenceNumber||0,Ya.prototype.init.call(this),delete y.minPTS,this.gopCache_=[],this.push=function(B){Xr.collectDtsInfo(y,B),B.nalUnitType==="seq_parameter_set_rbsp"&&!k&&(k=B.config,y.sps=[B.data],_u.forEach(function(q){y[q]=k[q]},this)),B.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=B.data,y.pps=[B.data]),E.push(B)},this.flush=function(){for(var B,q,G,Y,se,xe,Ie=0,ve,He;E.length&&E[0].nalUnitType!=="access_unit_delimiter_rbsp";)E.shift();if(E.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(B=re.groupNalsIntoFrames(E),G=re.groupFramesIntoGops(B),G[0][0].keyFrame||(q=this.getGopForFusion_(E[0],y),q?(Ie=q.duration,G.unshift(q),G.byteLength+=q.byteLength,G.nalCount+=q.nalCount,G.pts=q.pts,G.dts=q.dts,G.duration+=q.duration):G=re.extendFirstKeyFrame(G)),C.length){var Yt;if(x.alignGopsAtEnd?Yt=this.alignGopsAtEnd_(G):Yt=this.alignGopsAtStart_(G),!Yt){this.gopCache_.unshift({gop:G.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Xr.clearDtsInfo(y),G=Yt}Xr.collectDtsInfo(y,G),y.samples=re.generateSampleTable(G),se=Ut.mdat(re.concatenateNalData(G)),y.baseMediaDecodeTime=Xr.calculateTrackBaseMediaDecodeTime(y,x.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function(yr){return{pts:yr.pts,dts:yr.dts,byteLength:yr.byteLength}})),ve=G[0],He=G[G.length-1],this.trigger("segmentTimingInfo",bu(y.baseMediaDecodeTime,ve.dts,ve.pts,He.dts+He.duration,He.pts+He.duration,Ie)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.trigger("baseMediaDecodeTime",y.baseMediaDecodeTime),this.trigger("timelineStartInfo",y.timelineStartInfo),Y=Ut.moof(S,[y]),xe=new Uint8Array(Y.byteLength+se.byteLength),S++,xe.set(Y),xe.set(se,Y.byteLength),this.trigger("data",{track:y,boxes:xe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),E=[],this.gopCache_.length=0,C.length=0,this.trigger("reset")},this.resetStream_=function(){Xr.clearDtsInfo(y),k=void 0,N=void 0},this.getGopForFusion_=function(B){var q=45e3,G=1e4,Y=1/0,se,xe,Ie,ve,He;for(He=0;He<this.gopCache_.length;He++)ve=this.gopCache_[He],Ie=ve.gop,!(!(y.pps&&gc(y.pps[0],ve.pps[0]))||!(y.sps&&gc(y.sps[0],ve.sps[0])))&&(Ie.dts<y.timelineStartInfo.dts||(se=B.dts-Ie.dts-Ie.duration,se>=-G&&se<=q&&(!xe||Y>se)&&(xe=ve,Y=se)));return xe?xe.gop:null},this.alignGopsAtStart_=function(B){var q,G,Y,se,xe,Ie,ve,He;for(xe=B.byteLength,Ie=B.nalCount,ve=B.duration,q=G=0;q<C.length&&G<B.length&&(Y=C[q],se=B[G],Y.pts!==se.pts);){if(se.pts>Y.pts){q++;continue}G++,xe-=se.byteLength,Ie-=se.nalCount,ve-=se.duration}return G===0?B:G===B.length?null:(He=B.slice(G),He.byteLength=xe,He.duration=ve,He.nalCount=Ie,He.pts=He[0].pts,He.dts=He[0].dts,He)},this.alignGopsAtEnd_=function(B){var q,G,Y,se,xe,Ie;for(q=C.length-1,G=B.length-1,xe=null,Ie=!1;q>=0&&G>=0;){if(Y=C[q],se=B[G],Y.pts===se.pts){Ie=!0;break}if(Y.pts>se.pts){q--;continue}q===C.length-1&&(xe=G),G--}if(!Ie&&xe===null)return null;var ve;if(Ie?ve=G:ve=xe,ve===0)return B;var He=B.slice(ve),Yt=He.reduce(function(yr,Ci){return yr.byteLength+=Ci.byteLength,yr.duration+=Ci.duration,yr.nalCount+=Ci.nalCount,yr},{byteLength:0,duration:0,nalCount:0});return He.byteLength=Yt.byteLength,He.duration=Yt.duration,He.nalCount=Yt.nalCount,He.pts=He[0].pts,He.dts=He[0].dts,He},this.alignGopsWith=function(B){C=B}},Ya.prototype=new e,xi=function(y,x){this.numberOfTracks=0,this.metadataStream=x,y=y||{},typeof y.remux<"u"?this.remuxTracks=!!y.remux:this.remuxTracks=!0,typeof y.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=y.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,xi.prototype.init.call(this),this.push=function(S){if(S.text)return this.pendingCaptions.push(S);if(S.frames)return this.pendingMetadata.push(S);this.pendingTracks.push(S.track),this.pendingBytes+=S.boxes.byteLength,S.track.type==="video"&&(this.videoTrack=S.track,this.pendingBoxes.push(S.boxes)),S.track.type==="audio"&&(this.audioTrack=S.track,this.pendingBoxes.unshift(S.boxes))}},xi.prototype=new e,xi.prototype.flush=function(I){var y=0,x={captions:[],captionStreams:{},metadata:[],info:{}},S,E,C,k=0,N;if(this.pendingTracks.length<this.numberOfTracks){if(I!=="VideoSegmentStream"&&I!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(k=this.videoTrack.timelineStartInfo.pts,_u.forEach(function(B){x.info[B]=this.videoTrack[B]},this)):this.audioTrack&&(k=this.audioTrack.timelineStartInfo.pts,vu.forEach(function(B){x.info[B]=this.audioTrack[B]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,C=Ut.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(C.byteLength),x.initSegment.set(C),x.data=new Uint8Array(this.pendingBytes),N=0;N<this.pendingBoxes.length;N++)x.data.set(this.pendingBoxes[N],y),y+=this.pendingBoxes[N].byteLength;for(N=0;N<this.pendingCaptions.length;N++)S=this.pendingCaptions[N],S.startTime=We.metadataTsToSeconds(S.startPts,k,this.keepOriginalTimestamps),S.endTime=We.metadataTsToSeconds(S.endPts,k,this.keepOriginalTimestamps),x.captionStreams[S.stream]=!0,x.captions.push(S);for(N=0;N<this.pendingMetadata.length;N++)E=this.pendingMetadata[N],E.cueTime=We.metadataTsToSeconds(E.pts,k,this.keepOriginalTimestamps),x.metadata.push(E);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),N=0;N<x.captions.length;N++)S=x.captions[N],this.trigger("caption",S);for(N=0;N<x.metadata.length;N++)E=x.metadata[N],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},xi.prototype.setRemux=function(I){this.remuxTracks=I},Js=function(y){var x=this,S=!0,E,C;Js.prototype.init.call(this),y=y||{},this.baseMediaDecodeTime=y.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="aac",k.metadataStream=new Ln.MetadataStream,k.aacStream=new kh,k.audioTimestampRolloverStream=new Ln.TimestampRolloverStream("audio"),k.timedMetadataTimestampRolloverStream=new Ln.TimestampRolloverStream("timed-metadata"),k.adtsStream=new pu,k.coalesceStream=new xi(y,k.metadataStream),k.headOfPipeline=k.aacStream,k.aacStream.pipe(k.audioTimestampRolloverStream).pipe(k.adtsStream),k.aacStream.pipe(k.timedMetadataTimestampRolloverStream).pipe(k.metadataStream).pipe(k.coalesceStream),k.metadataStream.on("timestamp",function(N){k.aacStream.setTimestamp(N.timeStamp)}),k.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||k.audioSegmentStream||(C=C||{timelineStartInfo:{baseMediaDecodeTime:x.baseMediaDecodeTime},codec:"adts",type:"audio"},k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new fa(C,y),k.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream),x.trigger("trackinfo",{hasAudio:!!C,hasVideo:!!E}))}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),pc(this,k)},this.setupTsPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="ts",k.metadataStream=new Ln.MetadataStream,k.packetStream=new Ln.TransportPacketStream,k.parseStream=new Ln.TransportParseStream,k.elementaryStream=new Ln.ElementaryStream,k.timestampRolloverStream=new Ln.TimestampRolloverStream,k.adtsStream=new pu,k.h264Stream=new Ih,k.captionStream=new Ln.CaptionStream(y),k.coalesceStream=new xi(y,k.metadataStream),k.headOfPipeline=k.packetStream,k.packetStream.pipe(k.parseStream).pipe(k.elementaryStream).pipe(k.timestampRolloverStream),k.timestampRolloverStream.pipe(k.h264Stream),k.timestampRolloverStream.pipe(k.adtsStream),k.timestampRolloverStream.pipe(k.metadataStream).pipe(k.coalesceStream),k.h264Stream.pipe(k.captionStream).pipe(k.coalesceStream),k.elementaryStream.on("data",function(N){var B;if(N.type==="metadata"){for(B=N.tracks.length;B--;)!E&&N.tracks[B].type==="video"?(E=N.tracks[B],E.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime):!C&&N.tracks[B].type==="audio"&&(C=N.tracks[B],C.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime);E&&!k.videoSegmentStream&&(k.coalesceStream.numberOfTracks++,k.videoSegmentStream=new Ya(E,y),k.videoSegmentStream.on("log",x.getLogTrigger_("videoSegmentStream")),k.videoSegmentStream.on("timelineStartInfo",function(q){C&&!y.keepOriginalTimestamps&&(C.timelineStartInfo=q,k.audioSegmentStream.setEarliestDts(q.dts-x.baseMediaDecodeTime))}),k.videoSegmentStream.on("processedGopsInfo",x.trigger.bind(x,"gopInfo")),k.videoSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"videoSegmentTimingInfo")),k.videoSegmentStream.on("baseMediaDecodeTime",function(q){C&&k.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),k.videoSegmentStream.on("timingInfo",x.trigger.bind(x,"videoTimingInfo")),k.h264Stream.pipe(k.videoSegmentStream).pipe(k.coalesceStream)),C&&!k.audioSegmentStream&&(k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new fa(C,y),k.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),k.audioSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"audioSegmentTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream)),x.trigger("trackinfo",{hasAudio:!!C,hasVideo:!!E})}}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("id3Frame",function(N){N.dispatchType=k.metadataStream.dispatchType,x.trigger("id3Frame",N)}),k.coalesceStream.on("caption",this.trigger.bind(this,"caption")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),pc(this,k)},this.setBaseMediaDecodeTime=function(k){var N=this.transmuxPipeline_;y.keepOriginalTimestamps||(this.baseMediaDecodeTime=k),C&&(C.timelineStartInfo.dts=void 0,C.timelineStartInfo.pts=void 0,Xr.clearDtsInfo(C),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),E&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,Xr.clearDtsInfo(E),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(k){C&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(k)},this.setRemux=function(k){var N=this.transmuxPipeline_;y.remux=k,N&&N.coalesceStream&&N.coalesceStream.setRemux(k)},this.alignGopsWith=function(k){E&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(k)},this.getLogTrigger_=function(k){var N=this;return function(B){B.stream=k,N.trigger("log",B)}},this.push=function(k){if(S){var N=Oh(k);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(k)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Js.prototype=new e;var mc={Transmuxer:Js,VideoSegmentStream:Ya,AudioSegmentStream:fa,AUDIO_PROPERTIES:vu,VIDEO_PROPERTIES:_u,generateSegmentTimingInfo:bu},Lh=function(y){return y>>>0},Rh=function(y){return("00"+y.toString(16)).slice(-2)},Ys={toUnsigned:Lh,toHexString:Rh},Nh=function(y){var x="";return x+=String.fromCharCode(y[0]),x+=String.fromCharCode(y[1]),x+=String.fromCharCode(y[2]),x+=String.fromCharCode(y[3]),x},un=Nh,vc=Ys.toUnsigned,Fh=function I(y,x){var S=[],E,C,k,N,B;if(!x.length)return null;for(E=0;E<y.byteLength;)C=vc(y[E]<<24|y[E+1]<<16|y[E+2]<<8|y[E+3]),k=un(y.subarray(E+4,E+8)),N=C>1?E+C:y.byteLength,k===x[0]&&(x.length===1?S.push(y.subarray(E+8,N)):(B=I(y.subarray(E+8,N),x.slice(1)),B.length&&(S=S.concat(B)))),E=N;return S},wt=Fh,Mh=Ys.toUnsigned,_c=t.getUint64,yc=function(y){var x={version:y[0],flags:new Uint8Array(y.subarray(1,4))};return x.version===1?x.baseMediaDecodeTime=_c(y.subarray(4)):x.baseMediaDecodeTime=Mh(y[4]<<24|y[5]<<16|y[6]<<8|y[7]),x},bc=yc,Bh=function(y){return{isLeading:(y[0]&12)>>>2,dependsOn:y[0]&3,isDependedOn:(y[1]&192)>>>6,hasRedundancy:(y[1]&48)>>>4,paddingValue:(y[1]&14)>>>1,isNonSyncSample:y[1]&1,degradationPriority:y[2]<<8|y[3]}},Tc=Bh,Uh=function(y){var x={version:y[0],flags:new Uint8Array(y.subarray(1,4)),samples:[]},S=new DataView(y.buffer,y.byteOffset,y.byteLength),E=x.flags[2]&1,C=x.flags[2]&4,k=x.flags[1]&1,N=x.flags[1]&2,B=x.flags[1]&4,q=x.flags[1]&8,G=S.getUint32(4),Y=8,se;for(E&&(x.dataOffset=S.getInt32(Y),Y+=4),C&&G&&(se={flags:Tc(y.subarray(Y,Y+4))},Y+=4,k&&(se.duration=S.getUint32(Y),Y+=4),N&&(se.size=S.getUint32(Y),Y+=4),q&&(x.version===1?se.compositionTimeOffset=S.getInt32(Y):se.compositionTimeOffset=S.getUint32(Y),Y+=4),x.samples.push(se),G--);G--;)se={},k&&(se.duration=S.getUint32(Y),Y+=4),N&&(se.size=S.getUint32(Y),Y+=4),B&&(se.flags=Tc(y.subarray(Y,Y+4)),Y+=4),q&&(x.version===1?se.compositionTimeOffset=S.getInt32(Y):se.compositionTimeOffset=S.getUint32(Y),Y+=4),x.samples.push(se);return x},Sc=Uh,xc=function(y){var x=new DataView(y.buffer,y.byteOffset,y.byteLength),S={version:y[0],flags:new Uint8Array(y.subarray(1,4)),trackId:x.getUint32(4)},E=S.flags[2]&1,C=S.flags[2]&2,k=S.flags[2]&8,N=S.flags[2]&16,B=S.flags[2]&32,q=S.flags[0]&65536,G=S.flags[0]&131072,Y;return Y=8,E&&(Y+=4,S.baseDataOffset=x.getUint32(12),Y+=4),C&&(S.sampleDescriptionIndex=x.getUint32(Y),Y+=4),k&&(S.defaultSampleDuration=x.getUint32(Y),Y+=4),N&&(S.defaultSampleSize=x.getUint32(Y),Y+=4),B&&(S.defaultSampleFlags=x.getUint32(Y)),q&&(S.durationIsEmpty=!0),!E&&G&&(S.baseDataOffsetIsMoof=!0),S},Ec=xc,wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ln;typeof window<"u"?ln=window:typeof wc<"u"?ln=wc:typeof self<"u"?ln=self:ln={};var Ei=ln,Tu=Ti.discardEmulationPreventionBytes,jh=za.CaptionStream,$h=function(y,x){for(var S=y,E=0;E<x.length;E++){var C=x[E];if(S<C.size)return C;S-=C.size}return null},Vh=function(y,x,S){var E=new DataView(y.buffer,y.byteOffset,y.byteLength),C={logs:[],seiNals:[]},k,N,B,q;for(N=0;N+4<y.length;N+=B)if(B=E.getUint32(N),N+=4,!(B<=0))switch(y[N]&31){case 6:var G=y.subarray(N+1,N+1+B),Y=$h(N,x);if(k={nalUnitType:"sei_rbsp",size:B,data:G,escapedRBSP:Tu(G),trackId:S},Y)k.pts=Y.pts,k.dts=Y.dts,q=Y;else if(q)k.pts=q.pts,k.dts=q.dts;else{C.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+N+" for trackId "+S+". See mux.js#223."});break}C.seiNals.push(k);break}return C},Hh=function(y,x,S){var E=x,C=S.defaultSampleDuration||0,k=S.defaultSampleSize||0,N=S.trackId,B=[];return y.forEach(function(q){var G=Sc(q),Y=G.samples;Y.forEach(function(se){se.duration===void 0&&(se.duration=C),se.size===void 0&&(se.size=k),se.trackId=N,se.dts=E,se.compositionTimeOffset===void 0&&(se.compositionTimeOffset=0),typeof E=="bigint"?(se.pts=E+Ei.BigInt(se.compositionTimeOffset),E+=Ei.BigInt(se.duration)):(se.pts=E+se.compositionTimeOffset,E+=se.duration)}),B=B.concat(Y)}),B},qh=function(y,x){var S=wt(y,["moof","traf"]),E=wt(y,["mdat"]),C={},k=[];return E.forEach(function(N,B){var q=S[B];k.push({mdat:N,traf:q})}),k.forEach(function(N){var B=N.mdat,q=N.traf,G=wt(q,["tfhd"]),Y=Ec(G[0]),se=Y.trackId,xe=wt(q,["tfdt"]),Ie=xe.length>0?bc(xe[0]).baseMediaDecodeTime:0,ve=wt(q,["trun"]),He,Yt;x===se&&ve.length>0&&(He=Hh(ve,Ie,Y),Yt=Vh(B,He,se),C[se]||(C[se]={seiNals:[],logs:[]}),C[se].seiNals=C[se].seiNals.concat(Yt.seiNals),C[se].logs=C[se].logs.concat(Yt.logs))}),C},Su=function(y,x,S){var E;if(x===null)return null;E=qh(y,x);var C=E[x]||{};return{seiNals:C.seiNals,logs:C.logs,timescale:S}},Wh=function(){var y=!1,x,S,E,C,k,N;this.isInitialized=function(){return y},this.init=function(B){x=new jh,y=!0,N=B?B.isPartial:!1,x.on("data",function(q){q.startTime=q.startPts/C,q.endTime=q.endPts/C,k.captions.push(q),k.captionStreams[q.stream]=!0}),x.on("log",function(q){k.logs.push(q)})},this.isNewInit=function(B,q){return B&&B.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:E!==B[0]||C!==q[E]},this.parse=function(B,q,G){var Y;if(this.isInitialized()){if(!q||!G)return null;if(this.isNewInit(q,G))E=q[0],C=G[E];else if(E===null||!C)return S.push(B),null}else return null;for(;S.length>0;){var se=S.shift();this.parse(se,q,G)}return Y=Su(B,E,C),Y&&Y.logs&&(k.logs=k.logs.concat(Y.logs)),Y===null||!Y.seiNals?k.logs.length?{logs:k.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Y.seiNals),this.flushStream(),k)},this.pushNals=function(B){if(!this.isInitialized()||!B||B.length===0)return null;B.forEach(function(q){x.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;N?x.partialFlush():x.flush()},this.clearParsedCaptions=function(){k.captions=[],k.captionStreams={},k.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;x.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){S=[],E=null,C=null,k?this.clearParsedCaptions():k={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Gh=Wh,Qs=Ys.toUnsigned,Qa=Ys.toHexString,zh=t.getUint64,Cc,Ac,xu,kc,Dc,Eu;Cc=function(y){var x={},S=wt(y,["moov","trak"]);return S.reduce(function(E,C){var k,N,B,q,G;return k=wt(C,["tkhd"])[0],!k||(N=k[0],B=N===0?12:20,q=Qs(k[B]<<24|k[B+1]<<16|k[B+2]<<8|k[B+3]),G=wt(C,["mdia","mdhd"])[0],!G)?null:(N=G[0],B=N===0?12:20,E[q]=Qs(G[B]<<24|G[B+1]<<16|G[B+2]<<8|G[B+3]),E)},x)},Ac=function(y,x){var S;S=wt(x,["moof","traf"]);var E=S.reduce(function(C,k){var N=wt(k,["tfhd"])[0],B=Qs(N[4]<<24|N[5]<<16|N[6]<<8|N[7]),q=y[B]||9e4,G=wt(k,["tfdt"])[0],Y=new DataView(G.buffer,G.byteOffset,G.byteLength),se;G[0]===1?se=zh(G.subarray(4,12)):se=Y.getUint32(4);var xe;return typeof se=="bigint"?xe=se/Ei.BigInt(q):typeof se=="number"&&!isNaN(se)&&(xe=se/q),xe<Number.MAX_SAFE_INTEGER&&(xe=Number(xe)),xe<C&&(C=xe),C},1/0);return typeof E=="bigint"||isFinite(E)?E:0},xu=function(y,x){var S=wt(x,["moof","traf"]),E=0,C=0,k;if(S&&S.length){var N=wt(S[0],["tfhd"])[0],B=wt(S[0],["trun"])[0],q=wt(S[0],["tfdt"])[0];if(N){var G=Ec(N);k=G.trackId}if(q){var Y=bc(q);E=Y.baseMediaDecodeTime}if(B){var se=Sc(B);se.samples&&se.samples.length&&(C=se.samples[0].compositionTimeOffset||0)}}var xe=y[k]||9e4;typeof E=="bigint"&&(C=Ei.BigInt(C),xe=Ei.BigInt(xe));var Ie=(E+C)/xe;return typeof Ie=="bigint"&&Ie<Number.MAX_SAFE_INTEGER&&(Ie=Number(Ie)),Ie},kc=function(y){var x=wt(y,["moov","trak"]),S=[];return x.forEach(function(E){var C=wt(E,["mdia","hdlr"]),k=wt(E,["tkhd"]);C.forEach(function(N,B){var q=un(N.subarray(8,12)),G=k[B],Y,se,xe;q==="vide"&&(Y=new DataView(G.buffer,G.byteOffset,G.byteLength),se=Y.getUint8(0),xe=se===0?Y.getUint32(12):Y.getUint32(20),S.push(xe))})}),S},Eu=function(y){var x=y[0],S=x===0?12:20;return Qs(y[S]<<24|y[S+1]<<16|y[S+2]<<8|y[S+3])},Dc=function(y){var x=wt(y,["moov","trak"]),S=[];return x.forEach(function(E){var C={},k=wt(E,["tkhd"])[0],N,B;k&&(N=new DataView(k.buffer,k.byteOffset,k.byteLength),B=N.getUint8(0),C.id=B===0?N.getUint32(12):N.getUint32(20));var q=wt(E,["mdia","hdlr"])[0];if(q){var G=un(q.subarray(8,12));G==="vide"?C.type="video":G==="soun"?C.type="audio":C.type=G}var Y=wt(E,["mdia","minf","stbl","stsd"])[0];if(Y){var se=Y.subarray(8);C.codec=un(se.subarray(4,8));var xe=wt(se,[C.codec])[0],Ie,ve;xe&&(/^[asm]vc[1-9]$/i.test(C.codec)?(Ie=xe.subarray(78),ve=un(Ie.subarray(4,8)),ve==="avcC"&&Ie.length>11?(C.codec+=".",C.codec+=Qa(Ie[9]),C.codec+=Qa(Ie[10]),C.codec+=Qa(Ie[11])):C.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(C.codec)?(Ie=xe.subarray(28),ve=un(Ie.subarray(4,8)),ve==="esds"&&Ie.length>20&&Ie[19]!==0?(C.codec+="."+Qa(Ie[19]),C.codec+="."+Qa(Ie[20]>>>2&63).replace(/^0/,"")):C.codec="mp4a.40.2"):C.codec=C.codec.toLowerCase())}var He=wt(E,["mdia","mdhd"])[0];He&&(C.timescale=Eu(He)),S.push(C)}),S};var Pc={findBox:wt,parseType:un,timescale:Cc,startTime:Ac,compositionStartTime:xu,videoTrackIds:kc,tracks:Dc,getTimescaleFromMediaHeader:Eu},Ic=function(y){var x=y[1]&31;return x<<=8,x|=y[2],x},Zs=function(y){return!!(y[1]&64)},eo=function(y){var x=0;return(y[3]&48)>>>4>1&&(x+=y[4]+1),x},Kh=function(y,x){var S=Ic(y);return S===0?"pat":S===x?"pmt":x?"pes":null},Oc=function(y){var x=Zs(y),S=4+eo(y);return x&&(S+=y[S]+1),(y[S+10]&31)<<8|y[S+11]},Xh=function(y){var x={},S=Zs(y),E=4+eo(y);if(S&&(E+=y[E]+1),!!(y[E+5]&1)){var C,k,N;C=(y[E+1]&15)<<8|y[E+2],k=3+C-4,N=(y[E+10]&15)<<8|y[E+11];for(var B=12+N;B<k;){var q=E+B;x[(y[q+1]&31)<<8|y[q+2]]=y[q],B+=((y[q+3]&15)<<8|y[q+4])+5}return x}},Jh=function(y,x){var S=Ic(y),E=x[S];switch(E){case rr.H264_STREAM_TYPE:return"video";case rr.ADTS_STREAM_TYPE:return"audio";case rr.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Yh=function(y){var x=Zs(y);if(!x)return null;var S=4+eo(y);if(S>=y.byteLength)return null;var E=null,C;return C=y[S+7],C&192&&(E={},E.pts=(y[S+9]&14)<<27|(y[S+10]&255)<<20|(y[S+11]&254)<<12|(y[S+12]&255)<<5|(y[S+13]&254)>>>3,E.pts*=4,E.pts+=(y[S+13]&6)>>>1,E.dts=E.pts,C&64&&(E.dts=(y[S+14]&14)<<27|(y[S+15]&255)<<20|(y[S+16]&254)<<12|(y[S+17]&255)<<5|(y[S+18]&254)>>>3,E.dts*=4,E.dts+=(y[S+18]&6)>>>1)),E},wu=function(y){switch(y){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Qh=function(y){for(var x=4+eo(y),S=y.subarray(x),E=0,C=0,k=!1,N;C<S.byteLength-3;C++)if(S[C+2]===1){E=C+5;break}for(;E<S.byteLength;)switch(S[E]){case 0:if(S[E-1]!==0){E+=2;break}else if(S[E-2]!==0){E++;break}C+3!==E-2&&(N=wu(S[C+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0));do E++;while(S[E]!==1&&E<S.length);C=E-2,E+=3;break;case 1:if(S[E-1]!==0||S[E-2]!==0){E+=3;break}N=wu(S[C+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0),C=E-2,E+=3;break;default:E+=3;break}return S=S.subarray(C),E-=C,C=0,S&&S.byteLength>3&&(N=wu(S[C+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0)),k},Zh={parseType:Kh,parsePat:Oc,parsePmt:Xh,parsePayloadUnitStartIndicator:Zs,parsePesType:Jh,parsePesTime:Yh,videoPacketContainsKeyFrame:Qh},ha=qs.handleRollover,vt={};vt.ts=Zh,vt.aac=Ks;var wi=We.ONE_SECOND_IN_TS,_r=188,bn=71,ep=function(y,x){for(var S=0,E=_r,C,k;E<y.byteLength;){if(y[S]===bn&&y[E]===bn){switch(C=y.subarray(S,E),k=vt.ts.parseType(C,x.pid),k){case"pat":x.pid=vt.ts.parsePat(C);break;case"pmt":var N=vt.ts.parsePmt(C);x.table=x.table||{},Object.keys(N).forEach(function(B){x.table[B]=N[B]});break}S+=_r,E+=_r;continue}S++,E++}},Lc=function(y,x,S){for(var E=0,C=_r,k,N,B,q,G,Y=!1;C<=y.byteLength;){if(y[E]===bn&&(y[C]===bn||C===y.byteLength)){switch(k=y.subarray(E,C),N=vt.ts.parseType(k,x.pid),N){case"pes":B=vt.ts.parsePesType(k,x.table),q=vt.ts.parsePayloadUnitStartIndicator(k),B==="audio"&&q&&(G=vt.ts.parsePesTime(k),G&&(G.type="audio",S.audio.push(G),Y=!0));break}if(Y)break;E+=_r,C+=_r;continue}E++,C++}for(C=y.byteLength,E=C-_r,Y=!1;E>=0;){if(y[E]===bn&&(y[C]===bn||C===y.byteLength)){switch(k=y.subarray(E,C),N=vt.ts.parseType(k,x.pid),N){case"pes":B=vt.ts.parsePesType(k,x.table),q=vt.ts.parsePayloadUnitStartIndicator(k),B==="audio"&&q&&(G=vt.ts.parsePesTime(k),G&&(G.type="audio",S.audio.push(G),Y=!0));break}if(Y)break;E-=_r,C-=_r;continue}E--,C--}},Rc=function(y,x,S){for(var E=0,C=_r,k,N,B,q,G,Y,se,xe,Ie=!1,ve={data:[],size:0};C<y.byteLength;){if(y[E]===bn&&y[C]===bn){switch(k=y.subarray(E,C),N=vt.ts.parseType(k,x.pid),N){case"pes":if(B=vt.ts.parsePesType(k,x.table),q=vt.ts.parsePayloadUnitStartIndicator(k),B==="video"&&(q&&!Ie&&(G=vt.ts.parsePesTime(k),G&&(G.type="video",S.video.push(G),Ie=!0)),!S.firstKeyFrame)){if(q&&ve.size!==0){for(Y=new Uint8Array(ve.size),se=0;ve.data.length;)xe=ve.data.shift(),Y.set(xe,se),se+=xe.byteLength;if(vt.ts.videoPacketContainsKeyFrame(Y)){var He=vt.ts.parsePesTime(Y);He?(S.firstKeyFrame=He,S.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ve.size=0}ve.data.push(k),ve.size+=k.byteLength}break}if(Ie&&S.firstKeyFrame)break;E+=_r,C+=_r;continue}E++,C++}for(C=y.byteLength,E=C-_r,Ie=!1;E>=0;){if(y[E]===bn&&y[C]===bn){switch(k=y.subarray(E,C),N=vt.ts.parseType(k,x.pid),N){case"pes":B=vt.ts.parsePesType(k,x.table),q=vt.ts.parsePayloadUnitStartIndicator(k),B==="video"&&q&&(G=vt.ts.parsePesTime(k),G&&(G.type="video",S.video.push(G),Ie=!0));break}if(Ie)break;E-=_r,C-=_r;continue}E--,C--}},tp=function(y,x){if(y.audio&&y.audio.length){var S=x;(typeof S>"u"||isNaN(S))&&(S=y.audio[0].dts),y.audio.forEach(function(k){k.dts=ha(k.dts,S),k.pts=ha(k.pts,S),k.dtsTime=k.dts/wi,k.ptsTime=k.pts/wi})}if(y.video&&y.video.length){var E=x;if((typeof E>"u"||isNaN(E))&&(E=y.video[0].dts),y.video.forEach(function(k){k.dts=ha(k.dts,E),k.pts=ha(k.pts,E),k.dtsTime=k.dts/wi,k.ptsTime=k.pts/wi}),y.firstKeyFrame){var C=y.firstKeyFrame;C.dts=ha(C.dts,E),C.pts=ha(C.pts,E),C.dtsTime=C.dts/wi,C.ptsTime=C.pts/wi}}},rp=function(y){for(var x=!1,S=0,E=null,C=null,k=0,N=0,B;y.length-N>=3;){var q=vt.aac.parseType(y,N);switch(q){case"timed-metadata":if(y.length-N<10){x=!0;break}if(k=vt.aac.parseId3TagSize(y,N),k>y.length){x=!0;break}C===null&&(B=y.subarray(N,N+k),C=vt.aac.parseAacTimestamp(B)),N+=k;break;case"audio":if(y.length-N<7){x=!0;break}if(k=vt.aac.parseAdtsSize(y,N),k>y.length){x=!0;break}E===null&&(B=y.subarray(N,N+k),E=vt.aac.parseSampleRate(B)),S++,N+=k;break;default:N++;break}if(x)return null}if(E===null||C===null)return null;var G=wi/E,Y={audio:[{type:"audio",dts:C,pts:C},{type:"audio",dts:C+S*1024*G,pts:C+S*1024*G}]};return Y},np=function(y){var x={pid:null,table:null},S={};ep(y,x);for(var E in x.table)if(x.table.hasOwnProperty(E)){var C=x.table[E];switch(C){case rr.H264_STREAM_TYPE:S.video=[],Rc(y,x,S),S.video.length===0&&delete S.video;break;case rr.ADTS_STREAM_TYPE:S.audio=[],Lc(y,x,S),S.audio.length===0&&delete S.audio;break}}return S},ip=function(y,x){var S=vt.aac.isLikelyAacData(y),E;return S?E=rp(y):E=np(y),!E||!E.audio&&!E.video?null:(tp(E,x),E)},ap={inspect:ip,parseAudioPes_:Lc},sp=function(y,x){x.on("data",function(S){var E=S.initSegment;S.initSegment={data:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength};var C=S.data;S.data=C.buffer,y.postMessage({action:"data",segment:S,byteOffset:C.byteOffset,byteLength:C.byteLength},[S.data])}),x.on("done",function(S){y.postMessage({action:"done"})}),x.on("gopInfo",function(S){y.postMessage({action:"gopInfo",gopInfo:S})}),x.on("videoSegmentTimingInfo",function(S){var E={start:{decode:We.videoTsToSeconds(S.start.dts),presentation:We.videoTsToSeconds(S.start.pts)},end:{decode:We.videoTsToSeconds(S.end.dts),presentation:We.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:We.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(E.prependedContentDuration=We.videoTsToSeconds(S.prependedContentDuration)),y.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:E})}),x.on("audioSegmentTimingInfo",function(S){var E={start:{decode:We.videoTsToSeconds(S.start.dts),presentation:We.videoTsToSeconds(S.start.pts)},end:{decode:We.videoTsToSeconds(S.end.dts),presentation:We.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:We.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(E.prependedContentDuration=We.videoTsToSeconds(S.prependedContentDuration)),y.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:E})}),x.on("id3Frame",function(S){y.postMessage({action:"id3Frame",id3Frame:S})}),x.on("caption",function(S){y.postMessage({action:"caption",caption:S})}),x.on("trackinfo",function(S){y.postMessage({action:"trackinfo",trackInfo:S})}),x.on("audioTimingInfo",function(S){y.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:We.videoTsToSeconds(S.start),end:We.videoTsToSeconds(S.end)}})}),x.on("videoTimingInfo",function(S){y.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:We.videoTsToSeconds(S.start),end:We.videoTsToSeconds(S.end)}})}),x.on("log",function(S){y.postMessage({action:"log",log:S})})},Nc=function(){function I(x,S){this.options=S||{},this.self=x,this.init()}var y=I.prototype;return y.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new mc.Transmuxer(this.options),sp(this.self,this.transmuxer)},y.pushMp4Captions=function(S){this.captionParser||(this.captionParser=new Gh,this.captionParser.init());var E=new Uint8Array(S.data,S.byteOffset,S.byteLength),C=this.captionParser.parse(E,S.trackIds,S.timescales);this.self.postMessage({action:"mp4Captions",captions:C&&C.captions||[],logs:C&&C.logs||[],data:E.buffer},[E.buffer])},y.probeMp4StartTime=function(S){var E=S.timescales,C=S.data,k=Pc.startTime(E,C);this.self.postMessage({action:"probeMp4StartTime",startTime:k,data:C},[C.buffer])},y.probeMp4Tracks=function(S){var E=S.data,C=Pc.tracks(E);this.self.postMessage({action:"probeMp4Tracks",tracks:C,data:E},[E.buffer])},y.probeTs=function(S){var E=S.data,C=S.baseStartTime,k=typeof C=="number"&&!isNaN(C)?C*We.ONE_SECOND_IN_TS:void 0,N=ap.inspect(E,k),B=null;N&&(B={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},B.hasVideo&&(B.videoStart=N.video[0].ptsTime),B.hasAudio&&(B.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:B,data:E},[E.buffer])},y.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},y.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},y.push=function(S){var E=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.transmuxer.push(E)},y.reset=function(){this.transmuxer.reset()},y.setTimestampOffset=function(S){var E=S.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(We.secondsToVideoTs(E)))},y.setAudioAppendStart=function(S){this.transmuxer.setAudioAppendStart(Math.ceil(We.secondsToVideoTs(S.appendStart)))},y.setRemux=function(S){this.transmuxer.setRemux(S.remux)},y.flush=function(S){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},y.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},y.alignGopsWith=function(S){this.transmuxer.alignGopsWith(S.gopsToAlignWith.slice())},I}();self.onmessage=function(I){if(I.data.action==="init"&&I.data.options){this.messageHandlers=new Nc(self,I.data.options);return}this.messageHandlers||(this.messageHandlers=new Nc(self)),I.data&&I.data.action&&I.data.action!=="init"&&this.messageHandlers[I.data.action]&&this.messageHandlers[I.data.action](I.data)}})),bN=BE(yN),TN=function(e,n,i){var t=e.data.segment,a=t.type,s=t.initSegment,l=t.captions,d=t.captionStreams,f=t.metadata,h=t.videoFrameDtsTime,g=t.videoFramePtsTime;n.buffer.push({captions:l,captionStreams:d,metadata:f});var v=e.data.segment.boxes||{data:e.data.segment.data},T={type:a,data:new Uint8Array(v.data,v.data.byteOffset,v.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof h<"u"&&(T.videoFrameDtsTime=h),typeof g<"u"&&(T.videoFramePtsTime=g),i(T)},SN=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},xN=function(e,n){n.gopInfo=e.data.gopInfo},$E=function(e){var n=e.transmuxer,i=e.bytes,t=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,l=e.onData,d=e.onTrackInfo,f=e.onAudioTimingInfo,h=e.onVideoTimingInfo,g=e.onVideoSegmentTimingInfo,v=e.onAudioSegmentTimingInfo,T=e.onId3,A=e.onCaptions,P=e.onDone,D=e.onEndedTimeline,R=e.onTransmuxerLog,M=e.isEndOfTimeline,$={buffer:[]},U=M,J=function(X){n.currentTransmux===e&&(X.data.action==="data"&&TN(X,$,l),X.data.action==="trackinfo"&&d(X.data.trackInfo),X.data.action==="gopInfo"&&xN(X,$),X.data.action==="audioTimingInfo"&&f(X.data.audioTimingInfo),X.data.action==="videoTimingInfo"&&h(X.data.videoTimingInfo),X.data.action==="videoSegmentTimingInfo"&&g(X.data.videoSegmentTimingInfo),X.data.action==="audioSegmentTimingInfo"&&v(X.data.audioSegmentTimingInfo),X.data.action==="id3Frame"&&T([X.data.id3Frame],X.data.id3Frame.dispatchType),X.data.action==="caption"&&A(X.data.caption),X.data.action==="endedtimeline"&&(U=!1,D()),X.data.action==="log"&&R(X.data.log),X.data.type==="transmuxed"&&(U||(n.onmessage=null,SN({transmuxedData:$,callback:P}),VE(n))))};if(n.onmessage=J,t&&n.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(a)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&n.postMessage({action:"setRemux",remux:s}),i.byteLength){var te=i instanceof ArrayBuffer?i:i.buffer,H=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:te,byteOffset:H,byteLength:i.byteLength},[te])}M&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},VE=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():$E(e.currentTransmux))},qb=function(e,n){e.postMessage({action:n}),VE(e)},HE=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,qb(n,e);return}n.transmuxQueue.push(qb.bind(null,n,e))},EN=function(e){HE("reset",e)},wN=function(e){HE("endTimeline",e)},qE=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,$E(e);return}e.transmuxer.transmuxQueue.push(e)},CN=function(e){var n=new bN;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},bg={reset:EN,endTimeline:wN,transmux:qE,createTransmuxer:CN},bf=function(e){var n=e.transmuxer,i=e.endAction||e.action,t=e.callback,a=Pn({},e,{endAction:null,transmuxer:null,callback:null}),s=function f(h){h.data.action===i&&(n.removeEventListener("message",f),h.data.data&&(h.data.data=new Uint8Array(h.data.data,e.byteOffset||0,e.byteLength||h.data.data.byteLength),e.data&&(e.data=h.data.data)),t(h.data))};if(n.addEventListener("message",s),e.data){var l=e.data instanceof ArrayBuffer;a.byteOffset=l?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var d=[l?e.data:e.data.buffer];n.postMessage(a,d)}else n.postMessage(a)},ci={FAILURE:2,TIMEOUT:-101,ABORTED:-102},xm=function(e){e.forEach(function(n){n.abort()})},AN=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},kN=function(e){var n=e.target,i=Date.now()-n.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},n0=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:ci.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:ci.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:ci.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:ci.FAILURE,xhr:n}:null},Wb=function(e,n,i){return function(t,a){var s=a.response,l=n0(t,a);if(l)return i(l,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:ci.FAILURE,xhr:a},e);for(var d=new DataView(s),f=new Uint32Array([d.getUint32(0),d.getUint32(4),d.getUint32(8),d.getUint32(12)]),h=0;h<n.length;h++)n[h].bytes=f;return i(null,e)}},WE=function(e,n){var i=_v(e.map.bytes);if(i!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+t,code:ci.FAILURE})}bf({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var l=s.tracks,d=s.data;return e.map.bytes=d,l.forEach(function(f){e.map.tracks=e.map.tracks||{},!e.map.tracks[f.type]&&(e.map.tracks[f.type]=f,typeof f.id=="number"&&f.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[f.id]=f.timescale))}),n(null)}})},DN=function(e){var n=e.segment,i=e.finishProcessingFn;return function(t,a){var s=n0(t,a);if(s)return i(s,n);var l=new Uint8Array(a.response);if(n.map.key)return n.map.encryptedBytes=l,i(null,n);n.map.bytes=l,WE(n,function(d){if(d)return d.xhr=a,d.status=a.status,i(d,n);i(null,n)})}},PN=function(e){var n=e.segment,i=e.finishProcessingFn,t=e.responseType;return function(a,s){var l=n0(a,s);if(l)return i(l,n);var d=t==="arraybuffer"||!s.responseText?s.response:vN(s.responseText.substring(n.lastReachedChar||0));return n.stats=AN(s),n.key?n.encryptedBytes=new Uint8Array(d):n.bytes=new Uint8Array(d),i(null,n)}},IN=function(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,A=e.onTransmuxerLog,P=n.map&&n.map.tracks||{},D=Boolean(P.audio&&P.video),R=a.bind(null,n,"audio","start"),M=a.bind(null,n,"audio","end"),$=a.bind(null,n,"video","start"),U=a.bind(null,n,"video","end"),J=function(){return qE({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:D,onData:function(V){V.type=V.type==="combined"?"video":V.type,v(n,V)},onTrackInfo:function(V){t&&(D&&(V.isMuxed=!0),t(n,V))},onAudioTimingInfo:function(V){R&&typeof V.start<"u"&&(R(V.start),R=null),M&&typeof V.end<"u"&&M(V.end)},onVideoTimingInfo:function(V){$&&typeof V.start<"u"&&($(V.start),$=null),U&&typeof V.end<"u"&&U(V.end)},onVideoSegmentTimingInfo:function(V){s(V)},onAudioSegmentTimingInfo:function(V){l(V)},onId3:function(V,X){d(n,V,X)},onCaptions:function(V){f(n,[V])},isEndOfTimeline:h,onEndedTimeline:function(){g()},onTransmuxerLog:A,onDone:function(V){!T||(V.type=V.type==="combined"?"video":V.type,T(null,n,V))}})};bf({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function(H){n.bytes=i=H.data;var V=H.result;V&&(t(n,{hasAudio:V.hasAudio,hasVideo:V.hasVideo,isMuxed:D}),t=null,V.hasAudio&&!D&&R(V.audioStart),V.hasVideo&&$(V.videoStart),R=null,$=null),J()}})},GE=function(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,A=e.onTransmuxerLog,P=new Uint8Array(i);if(JR(P)){n.isFmp4=!0;var D=n.map.tracks,R={isFmp4:!0,hasVideo:!!D.video,hasAudio:!!D.audio};D.audio&&D.audio.codec&&D.audio.codec!=="enca"&&(R.audioCodec=D.audio.codec),D.video&&D.video.codec&&D.video.codec!=="encv"&&(R.videoCodec=D.video.codec),D.video&&D.audio&&(R.isMuxed=!0),t(n,R);var M=function(U){v(n,{data:P,type:R.hasAudio&&!R.isMuxed?"audio":"video"}),U&&U.length&&f(n,U),T(null,n,{})};bf({action:"probeMp4StartTime",timescales:n.map.timescales,data:P,transmuxer:n.transmuxer,callback:function(U){var J=U.data,te=U.startTime;if(i=J.buffer,n.bytes=P=J,R.hasAudio&&!R.isMuxed&&a(n,"audio","start",te),R.hasVideo&&a(n,"video","start",te),!D.video||!J.byteLength||!n.transmuxer){M();return}bf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:P,timescales:n.map.timescales,trackIds:[D.video.id],callback:function(V){i=V.data.buffer,n.bytes=P=V.data,V.logs.forEach(function(X){A(Q.mergeOptions(X,{stream:"mp4CaptionParser"}))}),M(V.captions)}})}});return}if(!n.transmuxer){T(null,n,{});return}if(typeof n.container>"u"&&(n.container=_v(P)),n.container!=="ts"&&n.container!=="aac"){t(n,{hasAudio:!1,hasVideo:!1}),T(null,n,{});return}IN({segment:n,bytes:i,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:A})},zE=function(e,n){var i=e.id,t=e.key,a=e.encryptedBytes,s=e.decryptionWorker,l=function f(h){if(h.data.source===i){s.removeEventListener("message",f);var g=h.data.decrypted;n(new Uint8Array(g.bytes,g.byteOffset,g.byteLength))}};s.addEventListener("message",l);var d;t.bytes.slice?d=t.bytes.slice():d=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(OE({source:i,encrypted:a,key:d,iv:t.iv}),[a.buffer,d.buffer])},ON=function(e){var n=e.decryptionWorker,i=e.segment,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,A=e.onTransmuxerLog;zE({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(P){i.bytes=P,GE({segment:i,bytes:i.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:A})})},LN=function(e){var n=e.activeXhrs,i=e.decryptionWorker,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,T=e.doneFn,A=e.onTransmuxerLog,P=0,D=!1;return function(R,M){if(!D){if(R)return D=!0,xm(n),T(R,M);if(P+=1,P===n.length){var $=function(){if(M.encryptedBytes)return ON({decryptionWorker:i,segment:M,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:A});GE({segment:M,bytes:M.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:T,onTransmuxerLog:A})};if(M.endOfAllRequests=Date.now(),M.map&&M.map.encryptedBytes&&!M.map.bytes)return zE({decryptionWorker:i,id:M.requestId+"-init",encryptedBytes:M.map.encryptedBytes,key:M.map.key},function(U){M.map.bytes=U,WE(M,function(J){if(J)return xm(n),T(J,M);$()})});$()}}}},RN=function(e){var n=e.loadendState,i=e.abortFn;return function(t){var a=t.target;a.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},NN=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(t){var a=t.target;if(!a.aborted)return n.stats=Q.mergeOptions(n.stats,kN(t)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(t,n)}},FN=function(e){var n=e.xhr,i=e.xhrOptions,t=e.decryptionWorker,a=e.segment,s=e.abortFn,l=e.progressFn,d=e.trackInfoFn,f=e.timingInfoFn,h=e.videoSegmentTimingInfoFn,g=e.audioSegmentTimingInfoFn,v=e.id3Fn,T=e.captionsFn,A=e.isEndOfTimeline,P=e.endedTimelineFn,D=e.dataFn,R=e.doneFn,M=e.onTransmuxerLog,$=[],U=LN({activeXhrs:$,decryptionWorker:t,trackInfoFn:d,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:g,id3Fn:v,captionsFn:T,isEndOfTimeline:A,endedTimelineFn:P,dataFn:D,doneFn:R,onTransmuxerLog:M});if(a.key&&!a.key.bytes){var J=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&J.push(a.map.key);var te=Q.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),H=Wb(a,J,U),V=n(te,H);$.push(V)}if(a.map&&!a.map.bytes){var X=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(X){var K=Q.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),ee=Wb(a,[a.map.key],U),Z=n(K,ee);$.push(Z)}var ue=Q.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Tm(a.map)}),Me=DN({segment:a,finishProcessingFn:U}),Ue=n(ue,Me);$.push(Ue)}var ke=Q.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:Tm(a)}),ge=PN({segment:a,finishProcessingFn:U,responseType:ke.responseType}),Ee=n(ke,ge);Ee.addEventListener("progress",NN({segment:a,progressFn:l,trackInfoFn:d,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:g,id3Fn:v,captionsFn:T,isEndOfTimeline:A,endedTimelineFn:P,dataFn:D})),$.push(Ee);var mt={};return $.forEach(function(lt){lt.addEventListener("loadend",RN({loadendState:mt,abortFn:s}))}),function(){return xm($)}},MN=Gn("CodecUtils"),BN=function(e){var n=e.attributes||{};if(n.CODECS)return ni(n.CODECS)},KE=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},UN=function(e,n){if(!KE(e,n))return!0;var i=n.attributes||{},t=e.mediaGroups.AUDIO[i.AUDIO];for(var a in t)if(!t[a].uri&&!t[a].playlists)return!0;return!1},Tf=function(e){var n={};return e.forEach(function(i){var t=i.mediaType,a=i.type,s=i.details;n[t]=n[t]||[],n[t].push(px(""+a+s))}),Object.keys(n).forEach(function(i){if(n[i].length>1){MN("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},Gb=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},yl=function(e,n){var i=n.attributes||{},t=Tf(BN(n)||[]);if(KE(e,n)&&!t.audio&&!UN(e,n)){var a=Tf(tL(e,i.AUDIO)||[]);a.audio&&(t.audio=a.audio)}return t},Ed=Gn("PlaylistSelector"),zb=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},Sf=function(e,n){if(!e)return"";var i=j.getComputedStyle(e);return i?i[n]:""},Io=function(e,n){var i=e.slice();e.sort(function(t,a){var s=n(t,a);return s===0?i.indexOf(t)-i.indexOf(a):s})},i0=function(e,n){var i,t;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||j.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(t=n.attributes.BANDWIDTH),t=t||j.Number.MAX_VALUE,i-t},jN=function(e,n){var i,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||j.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(t=n.attributes.RESOLUTION.width),t=t||j.Number.MAX_VALUE,i===t&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-t},XE=function(e,n,i,t,a,s){if(!!e){var l={bandwidth:n,width:i,height:t,limitRenditionByPlayerDimensions:a},d=e.playlists;nn.isAudioOnly(e)&&(d=s.getAudioTrackPlaylists_(),l.audioOnly=!0);var f=d.map(function(K){var ee,Z=K.attributes&&K.attributes.RESOLUTION&&K.attributes.RESOLUTION.width,ue=K.attributes&&K.attributes.RESOLUTION&&K.attributes.RESOLUTION.height;return ee=K.attributes&&K.attributes.BANDWIDTH,ee=ee||j.Number.MAX_VALUE,{bandwidth:ee,width:Z,height:ue,playlist:K}});Io(f,function(K,ee){return K.bandwidth-ee.bandwidth}),f=f.filter(function(K){return!nn.isIncompatible(K.playlist)});var h=f.filter(function(K){return nn.isEnabled(K.playlist)});h.length||(h=f.filter(function(K){return!nn.isDisabled(K.playlist)}));var g=h.filter(function(K){return K.bandwidth*pr.BANDWIDTH_VARIANCE<n}),v=g[g.length-1],T=g.filter(function(K){return K.bandwidth===v.bandwidth})[0];if(a===!1){var A=T||h[0]||f[0];if(A&&A.playlist){var P="sortedPlaylistReps";return T&&(P="bandwidthBestRep"),h[0]&&(P="enabledPlaylistReps"),Ed("choosing "+zb(A)+" using "+P+" with options",l),A.playlist}return Ed("could not choose a playlist with options",l),null}var D=g.filter(function(K){return K.width&&K.height});Io(D,function(K,ee){return K.width-ee.width});var R=D.filter(function(K){return K.width===i&&K.height===t});v=R[R.length-1];var M=R.filter(function(K){return K.bandwidth===v.bandwidth})[0],$,U,J;M||($=D.filter(function(K){return K.width>i||K.height>t}),U=$.filter(function(K){return K.width===$[0].width&&K.height===$[0].height}),v=U[U.length-1],J=U.filter(function(K){return K.bandwidth===v.bandwidth})[0]);var te;if(s.experimentalLeastPixelDiffSelector){var H=D.map(function(K){return K.pixelDiff=Math.abs(K.width-i)+Math.abs(K.height-t),K});Io(H,function(K,ee){return K.pixelDiff===ee.pixelDiff?ee.bandwidth-K.bandwidth:K.pixelDiff-ee.pixelDiff}),te=H[0]}var V=te||J||M||T||h[0]||f[0];if(V&&V.playlist){var X="sortedPlaylistReps";return te?X="leastPixelDiffRep":J?X="resolutionPlusOneRep":M?X="resolutionBestRep":T?X="bandwidthBestRep":h[0]&&(X="enabledPlaylistReps"),Ed("choosing "+zb(V)+" using "+X+" with options",l),V.playlist}return Ed("could not choose a playlist with options",l),null}},Kb=function(){var e=this.useDevicePixelRatio&&j.devicePixelRatio||1;return XE(this.playlists.master,this.systemBandwidth,parseInt(Sf(this.tech_.el(),"width"),10)*e,parseInt(Sf(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},$N=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&j.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),XE(this.playlists.master,n,parseInt(Sf(this.tech_.el(),"width"),10)*t,parseInt(Sf(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},VN=function(e){var n=e.master,i=e.currentTime,t=e.bandwidth,a=e.duration,s=e.segmentDuration,l=e.timeUntilRebuffer,d=e.currentTimeline,f=e.syncController,h=n.playlists.filter(function(P){return!nn.isIncompatible(P)}),g=h.filter(nn.isEnabled);g.length||(g=h.filter(function(P){return!nn.isDisabled(P)}));var v=g.filter(nn.hasAttribute.bind(null,"BANDWIDTH")),T=v.map(function(P){var D=f.getSyncPoint(P,a,d,i),R=D?1:2,M=nn.estimateSegmentRequestTime(s,t,P),$=M*R-l;return{playlist:P,rebufferingImpact:$}}),A=T.filter(function(P){return P.rebufferingImpact<=0});return Io(A,function(P,D){return i0(D.playlist,P.playlist)}),A.length?A[0]:(Io(T,function(P,D){return P.rebufferingImpact-D.rebufferingImpact}),T[0]||null)},HN=function(){var e=this,n=this.playlists.master.playlists.filter(nn.isEnabled);Io(n,function(t,a){return i0(t,a)});var i=n.filter(function(t){return!!yl(e.playlists.master,t).video});return i[0]||null},qN=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(t){i.set(t,n),n+=t.byteLength})),i},WN=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var t=i;/^cc708_/.test(i)&&(t="SERVICE"+i.split("_")[1]);var a=n.textTracks().getTrackById(t);if(a)e[i]=a;else{var s=n.options_.vhs&&n.options_.vhs.captionServices||{},l=i,d=i,f=!1,h=s[t];h&&(l=h.label,d=h.language,f=h.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:t,default:f,label:l,language:d},!1).track}}},GN=function(e){var n=e.inbandTextTracks,i=e.captionArray,t=e.timestampOffset;if(!!i){var a=j.WebKitDataCue||j.VTTCue;i.forEach(function(s){var l=s.stream;n[l].addCue(new a(s.startTime+t,s.endTime+t,s.text))})}},zN=function(e){Object.defineProperties(e.frame,{id:{get:function(){return Q.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Q.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Q.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},KN=function(e){var n=e.inbandTextTracks,i=e.metadataArray,t=e.timestampOffset,a=e.videoDuration;if(!!i){var s=j.WebKitDataCue||j.VTTCue,l=n.metadataTrack_;if(!!l&&(i.forEach(function(T){var A=T.cueTime+t;typeof A!="number"||j.isNaN(A)||A<0||!(A<1/0)||T.frames.forEach(function(P){var D=new s(A,A,P.value||P.url||P.data||"");D.frame=P,D.value=P,zN(D),l.addCue(D)})}),!(!l.cues||!l.cues.length))){for(var d=l.cues,f=[],h=0;h<d.length;h++)d[h]&&f.push(d[h]);var g=f.reduce(function(T,A){var P=T[A.startTime]||[];return P.push(A),T[A.startTime]=P,T},{}),v=Object.keys(g).sort(function(T,A){return Number(T)-Number(A)});v.forEach(function(T,A){var P=g[T],D=Number(v[A+1])||a;P.forEach(function(R){R.endTime=D})})}}},XN=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},ul=function(e,n,i){var t,a;if(!!i&&!!i.cues)for(t=i.cues.length;t--;)a=i.cues[t],a.startTime>=e&&a.endTime<=n&&i.removeCue(a)},JN=function(e){var n=e.cues;if(!!n)for(var i=0;i<n.length;i++){for(var t=[],a=0,s=0;s<n.length;s++)n[i].startTime===n[s].startTime&&n[i].endTime===n[s].endTime&&n[i].text===n[s].text&&(a++,a>1&&t.push(n[s]));t.length&&t.forEach(function(l){return e.removeCue(l)})}},YN=function(e,n,i){if(typeof n>"u"||n===null||!e.length)return[];var t=Math.ceil((n-i+3)*of.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>t);a++);return e.slice(a)},QN=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var t=n[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=t);a++);return e.slice(0,a).concat(n)},ZN=function(e,n,i,t){for(var a=Math.ceil((n-t)*of.ONE_SECOND_IN_TS),s=Math.ceil((i-t)*of.ONE_SECOND_IN_TS),l=e.slice(),d=e.length;d--&&!(e[d].pts<=s););if(d===-1)return l;for(var f=d+1;f--&&!(e[f].pts<=a););return f=Math.max(f,0),l.splice(f,d-f+1),l},eF=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),t=Object.keys(n).sort();if(i.length!==t.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==t[a]||e[s]!==n[s])return!1}return!0},JE=22,tF=function(e,n,i){n=n||[];for(var t=[],a=0,s=0;s<n.length;s++){var l=n[s];if(e===l.timeline&&(t.push(s),a+=l.duration,a>i))return s}return t.length===0?0:t[t.length-1]},Qu=1,rF=500,Xb=function(e){return typeof e=="number"&&isFinite(e)},wd=1/60,nF=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},iF=function(e,n,i){var t=n-pr.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var a=n-i;return Math.min(a,t)},vo=function(e){var n=e.startOfSegment,i=e.duration,t=e.segment,a=e.part,s=e.playlist,l=s.mediaSequence,d=s.id,f=s.segments,h=f===void 0?[]:f,g=e.mediaIndex,v=e.partIndex,T=e.timeline,A=h.length-1,P="mediaIndex/partIndex increment";e.getMediaInfoForTime?P="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(P="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(P+=" with independent "+e.independent);var D=typeof v=="number",R=e.segment.uri?"segment":"pre-segment",M=D?_E({preloadSegment:t})-1:0;return R+" ["+(l+g)+"/"+(l+A)+"]"+(D?" part ["+v+"/"+M+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(D?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+T+"]")+(" selected by ["+P+"]")+(" playlist ["+d+"]")},Jb=function(e){return e+"TimingInfo"},aF=function(e){var n=e.segmentTimeline,i=e.currentTimeline,t=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&n===i?null:n<i?t:a.length?a.end(a.length-1):t},Yb=function(e){var n=e.timelineChangeController,i=e.currentTimeline,t=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===t)return!1;if(a==="audio"){var l=n.lastTimelineChange({type:"main"});return!l||l.to!==t}if(a==="main"&&s){var d=n.pendingTimelineChange({type:"audio"});return!(d&&d.to===t)}return!1},sF=function(e){var n=0;return["video","audio"].forEach(function(i){var t=e[i+"TimingInfo"];if(!!t){var a=t.start,s=t.end,l;typeof a=="bigint"||typeof s=="bigint"?l=j.BigInt(s)-j.BigInt(a):typeof a=="number"&&typeof s=="number"&&(l=s-a),typeof l<"u"&&l>n&&(n=l)}}),typeof n=="bigint"&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n},Qb=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+Va:!1},oF=function(e,n){if(n!=="hls")return null;var i=sF({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var t=e.playlist.targetDuration,a=Qb({segmentDuration:i,maxDuration:t*2}),s=Qb({segmentDuration:i,maxDuration:t}),l="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:l}:null},Em=function(r){Ce(e,r);function e(i,t){var a;if(a=r.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=Q.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=Gn("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(et(a),"state",{get:function(){return this.state_},set:function(l){l!==this.state_&&(this.logger_(this.state_+" -> "+l),this.state_=l,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var n=e.prototype;return n.createTransmuxer_=function(){return bg.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&j.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,j.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},n.error=function(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&bg.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return Q.createTimeRanges();if(this.loaderType_==="main"){var a=t.hasAudio,s=t.hasVideo,l=t.isMuxed;if(s&&a&&!this.audioDisabled_&&!l)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=yf(t),l=this.initSegments_[s];return a&&!l&&t.bytes&&(this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),l||t},n.segmentKey=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=LE(t),l=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!l&&t.bytes&&(this.keyCache_[s]=l={resolvedUri:t.resolvedUri,bytes:t.bytes});var d={resolvedUri:(l||t).resolvedUri};return l&&(d.bytes=l.bytes),d},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(t,a){if(a===void 0&&(a={}),!!t){var s=this.playlist_,l=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=a,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var d=null;if(s&&(s.id?d=s.id:s.uri&&(d=s.uri)),this.logger_("playlist update ["+d+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var f=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+f+"]"),this.mediaIndex!==null)if(this.mediaIndex-=f,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var h=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!h.parts||!h.parts.length||!h.parts[this.partIndex])){var g=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=g}}l&&(l.mediaIndex-=f,l.mediaIndex<0?(l.mediaIndex=null,l.partIndex=null):(l.mediaIndex>=0&&(l.segment=t.segments[l.mediaIndex]),l.partIndex>=0&&l.segment.parts&&(l.part=l.segment.parts[l.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},n.pause=function(){this.checkBufferTimeout_&&(j.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&bg.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(t,a,s,l){if(s===void 0&&(s=function(){}),l===void 0&&(l=!1),a===1/0&&(a=this.duration_()),a<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var d=1,f=function(){d--,d===0&&s()};(l||!this.audioDisabled_)&&(d++,this.sourceUpdater_.removeAudio(t,a,f)),(l||this.loaderType_==="main")&&(this.gopBuffer_=ZN(this.gopBuffer_,t,a,this.timeMapping_),d++,this.sourceUpdater_.removeVideo(t,a,f));for(var h in this.inbandTextTracks_)ul(t,a,this.inbandTextTracks_[h]);ul(t,a,this.segmentMetadataTrack_),f()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&j.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=j.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&j.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=j.setTimeout(this.monitorBufferTick_.bind(this),rF)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();!t||(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},n.isEndOfStream_=function(t,a,s){if(t===void 0&&(t=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var l=typeof t=="number"&&a.segments[t],d=t+1===a.segments.length,f=!l||!l.parts||s+1===l.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&d&&f},n.chooseNextRequest_=function(){var t=this.buffered_(),a=Ub(t)||0,s=Qv(t,this.currentTime_()),l=!this.hasPlayed_()&&s>=1,d=s>=this.goalBufferLength_(),f=this.playlist_.segments;if(!f.length||l||d)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var h={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(h.isSyncRequest)h.mediaIndex=tF(this.currentTimeline_,f,a);else if(this.mediaIndex!==null){var g=f[this.mediaIndex],v=typeof this.partIndex=="number"?this.partIndex:-1;h.startOfSegment=g.end?g.end:a,g.parts&&g.parts[v+1]?(h.mediaIndex=this.mediaIndex,h.partIndex=v+1):h.mediaIndex=this.mediaIndex+1}else{var T=nn.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),A=T.segmentIndex,P=T.startTime,D=T.partIndex;h.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),h.mediaIndex=A,h.startOfSegment=P,h.partIndex=D}var R=f[h.mediaIndex],M=R&&typeof h.partIndex=="number"&&R.parts&&R.parts[h.partIndex];if(!R||typeof h.partIndex=="number"&&!M)return null;if(typeof h.partIndex!="number"&&R.parts&&(h.partIndex=0,M=R.parts[0]),!s&&M&&!M.independent)if(h.partIndex===0){var $=f[h.mediaIndex-1],U=$.parts&&$.parts.length&&$.parts[$.parts.length-1];U&&U.independent&&(h.mediaIndex-=1,h.partIndex=$.parts.length-1,h.independent="previous segment")}else R.parts[h.partIndex-1].independent&&(h.partIndex-=1,h.independent="previous part");var J=this.mediaSource_&&this.mediaSource_.readyState==="ended";return h.mediaIndex>=f.length-1&&J&&!this.seeking_()?null:this.generateSegmentInfo_(h)},n.generateSegmentInfo_=function(t){var a=t.independent,s=t.playlist,l=t.mediaIndex,d=t.startOfSegment,f=t.isSyncRequest,h=t.partIndex,g=t.forceTimestampOffset,v=t.getMediaInfoForTime,T=s.segments[l],A=typeof h=="number"&&T.parts[h],P={requestId:"segment-loader-"+Math.random(),uri:A&&A.resolvedUri||T.resolvedUri,mediaIndex:l,partIndex:A?h:null,isSyncRequest:f,startOfSegment:d,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:T.timeline,duration:A&&A.duration||T.duration,segment:T,part:A,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:v,independent:a},D=typeof g<"u"?g:this.isPendingTimestampOffset_;P.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:T.timeline,currentTimeline:this.currentTimeline_,startOfSegment:d,buffered:this.buffered_(),overrideCheck:D});var R=Ub(this.sourceUpdater_.audioBuffered());return typeof R=="number"&&(P.audioAppendStart=R-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(P.gopsToAlignWith=YN(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),P},n.timestampOffsetForSegment_=function(t){return aF(t)},n.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=t.bandwidth,l=this.pendingSegment_.duration,d=nn.estimateSegmentRequestTime(l,s,this.playlist_,t.bytesReceived),f=k3(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(d<=f)){var h=VN({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:l,timeUntilRebuffer:f,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!h){var g=d-f,v=g-h.rebufferingImpact,T=.5;f<=Va&&(T=1),!(!h.playlist||h.playlist.uri===this.playlist_.uri||v<T)&&(this.bandwidth=h.playlist.attributes.BANDWIDTH*pr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(t){this.logger_("Aborting "+vo(t)),this.mediaRequestsAborted+=1},n.handleProgress_=function(t,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(t,a){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},eF(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(t,a,s,l){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var d=this.pendingSegment_,f=Jb(a);d[f]=d[f]||{},d[f][s]=l,this.logger_("timinginfo: "+a+" - "+s+" - "+l),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(t,a){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,a));return}var d=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),f={};a.forEach(function(h){f[h.stream]=f[h.stream]||{startTime:1/0,captions:[],endTime:0};var g=f[h.stream];g.startTime=Math.min(g.startTime,h.startTime+d),g.endTime=Math.max(g.endTime,h.endTime+d),g.captions.push(h)}),Object.keys(f).forEach(function(h){var g=f[h],v=g.startTime,T=g.endTime,A=g.captions,P=s.inbandTextTracks_;s.logger_("adding cues from "+v+" -> "+T+" for "+h),WN(P,s.vhs_.tech_,h),ul(v,T,P[h]),GN({captionArray:A,inbandTextTracks:P,timestampOffset:d})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(t,a,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,a,s));return}var d=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();XN(this.inbandTextTracks_,s,this.vhs_.tech_),KN({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:d,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(a){return a()})},n.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(a){return a()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!Yb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},n.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!t||!a)return!1;var s=a.hasAudio,l=a.hasVideo,d=a.isMuxed;return!(l&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!d&&!t.audioTimingInfo||Yb({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(t,a){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[Jb(a.type)].start;else{var l=this.getCurrentMediaInfo_(),d=this.loaderType_==="main"&&l&&l.hasVideo,f;d&&(f=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:d,firstVideoFrameTimeForData:f,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var h=this.chooseNextRequest_();if(h.mediaIndex!==s.mediaIndex||h.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},n.updateAppendInitSegmentStatus=function(t,a){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==t.playlist&&(this.appendInitSegment_[a]=!0)},n.getInitSegmentAndUpdateState_=function(t){var a=t.type,s=t.initSegment,l=t.map,d=t.playlist;if(l){var f=yf(l);if(this.activeInitSegmentId_===f)return null;s=this.initSegmentForMap(l,!0).bytes,this.activeInitSegmentId_=f}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=d,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},n.handleQuotaExceededError_=function(t,a){var s=this,l=t.segmentInfo,d=t.type,f=t.bytes,h=this.sourceUpdater_.audioBuffered(),g=this.sourceUpdater_.videoBuffered();h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ys(h).join(", ")),g.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ys(g).join(", "));var v=h.length?h.start(0):0,T=h.length?h.end(h.length-1):0,A=g.length?g.start(0):0,P=g.length?g.end(g.length-1):0;if(T-v<=Qu&&P-A<=Qu){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+f.byteLength+", ")+("audio buffer: "+ys(h).join(", ")+", ")+("video buffer: "+ys(g).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:l,type:d,bytes:f}));var D=this.currentTime_(),R=D-Qu;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+R),this.remove(0,R,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Qu+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=j.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},Qu*1e3)},!0)},n.handleAppendError_=function(t,a){var s=t.segmentInfo,l=t.type,d=t.bytes;if(!!a){if(a.code===JE){this.handleQuotaExceededError_({segmentInfo:s,type:l,bytes:d});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(l+" append of "+d.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(t){var a=t.segmentInfo,s=t.type,l=t.initSegment,d=t.data,f=t.bytes;if(!f){var h=[d],g=d.byteLength;l&&(h.unshift(l),g+=l.byteLength),f=qN({bytes:g,segments:h})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:f},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:f}))},n.handleSegmentTimingInfo_=function(t,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var l=this.pendingSegment_.segment,d=t+"TimingInfo";l[d]||(l[d]={}),l[d].transmuxerPrependedSeconds=s.prependedContentDuration||0,l[d].transmuxedPresentationStart=s.start.presentation,l[d].transmuxedDecodeStart=s.start.decode,l[d].transmuxedPresentationEnd=s.end.presentation,l[d].transmuxedDecodeEnd=s.end.decode,l[d].baseMediaDecodeTime=s.baseMediaDecodeTime}},n.appendData_=function(t,a){var s=a.type,l=a.data;if(!(!l||!l.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var d=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:d,data:l})}},n.loadSegment_=function(t){var a=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=Pn({},t,{forceTimestampOffset:!0});Pn(t,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},n.updateTransmuxerAndRequestSegment_=function(t){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),l=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),d=this.mediaIndex!==null,f=t.timeline!==this.currentTimeline_&&t.timeline>0,h=l||d&&f;this.logger_("Requesting "+vo(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=FN({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:h,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(v){var T=v.message,A=v.level,P=v.stream;a.logger_(vo(t)+" logged from transmuxer stream "+P+" as a "+A+": "+T)}})},n.trimBackBuffer_=function(t){var a=iF(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},n.createSimplifiedSegmentObj_=function(t){var a=t.segment,s=t.part,l={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},d=t.playlist.segments[t.mediaIndex-1];if(d&&d.timeline===a.timeline&&(d.videoTimingInfo?l.baseStartTime=d.videoTimingInfo.transmuxedDecodeEnd:d.audioTimingInfo&&(l.baseStartTime=d.audioTimingInfo.transmuxedDecodeEnd)),a.key){var f=a.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);l.key=this.segmentKey(a.key),l.key.iv=f}return a.map&&(l.map=this.initSegmentForMap(a.map)),l},n.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},n.saveBandwidthRelatedStats_=function(t,a){if(this.pendingSegment_.byteLength=a.bytesReceived,t<wd){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+wd));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},n.segmentRequestFinished_=function(t,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===ci.ABORTED)return;if(this.pause(),t.code===ci.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),l.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=QN(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(l)}},n.setTimeMapping_=function(t){var a=this.syncController_.mappingForTimeline(t);a!==null&&(this.timeMapping_=a)},n.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(t){var a=t.currentStart,s=t.playlist,l=t.mediaIndex,d=t.firstVideoFrameTimeForData,f=t.currentVideoTimestampOffset,h=t.useVideoTimingInfo,g=t.videoTimingInfo,v=t.audioTimingInfo;if(typeof a<"u")return a;if(!h)return v.start;var T=s.segments[l-1];return l===0||!T||typeof T.start>"u"||T.end!==d+f?d:g.start},n.waitForAppendsToComplete_=function(t){var a=this.getCurrentMediaInfo_(t);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,l=a.hasVideo,d=a.isMuxed,f=this.loaderType_==="main"&&l,h=!this.audioDisabled_&&s&&!d;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}f&&t.waitingOnAppends++,h&&t.waitingOnAppends++,f&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),h&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},n.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(t){var a=nF(this.loaderType_,this.getCurrentMediaInfo_(),t);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),a=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var a=t.videoTimingInfo,s=t.audioTimingInfo,l=t.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:l.start:l.start},n.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,l=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;!l||(t.timingInfo.end=typeof l.end=="number"?l.end:l.start+t.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=oF(t,this.sourceType_);if(a&&(a.severity==="warn"?Q.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+vo(t));return}this.logger_("Appended "+vo(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,l=t.part,d=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,f=l&&l.end&&this.currentTime_()-l.end>t.playlist.partTargetDuration*3;if(d||f){this.logger_("bad "+(d?"segment":"part")+" "+vo(t)),this.resetEverything();return}var h=this.mediaIndex!==null;h&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(t){if(t.duration<wd){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+wd));return}var a=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,l=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(l-a)/++this.throughput.count},n.addSegmentMetadataCue_=function(t){if(!!this.segmentMetadataTrack_){var a=t.segment,s=a.start,l=a.end;if(!(!Xb(s)||!Xb(l))){ul(s,l,this.segmentMetadataTrack_);var d=j.WebKitDataCue||j.VTTCue,f={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:l},h=JSON.stringify(f),g=new d(s,l,h);g.value=f,this.segmentMetadataTrack_.addCue(g)}}},e}(Q.EventTarget);function Vi(){}var YE=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},uF=["video","audio"],wm=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},lF=function(e,n){for(var i=0;i<n.length;i++){var t=n[i];if(t.type==="mediaSource")return null;if(t.type===e)return i}return null},a0=function r(e,n){if(n.queue.length!==0){var i=0,t=n.queue[i];if(t.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),t.action(n),t.doneFn&&t.doneFn(),r("audio",n),r("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||wm(e,n))){if(t.type!==e){if(i=lF(e,n.queue),i===null)return;t=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=t,t.action(e,n),!t.doneFn){n.queuePending[e]=null,r(e,n);return}}}},QE=function(e,n){var i=n[e+"Buffer"],t=YE(e);!i||(i.removeEventListener("updateend",n["on"+t+"UpdateEnd_"]),i.removeEventListener("error",n["on"+t+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},ii=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},fn={appendBuffer:function(e,n,i){return function(t,a){var s=a[t+"Buffer"];if(!!ii(a.mediaSource,s)){a.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(l){a.logger_("Error with code "+l.code+" "+(l.code===JE?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+t+"Buffer")),a.queuePending[t]=null,i(l)}}}},remove:function(e,n){return function(i,t){var a=t[i+"Buffer"];if(!!ii(t.mediaSource,a)){t.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{a.remove(e,n)}catch{t.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var t=i[n+"Buffer"];!ii(i.mediaSource,t)||(i.logger_("Setting "+n+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){Q.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){Q.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(!!ii(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){Q.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,n){return function(i){var t=YE(e),a=Pl(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+t+"UpdateEnd_"]),s.addEventListener("error",i["on"+t+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(QE(e,n),!!ii(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(t){Q.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(n,i){var t=i[n+"Buffer"],a=Pl(e);if(!!ii(i.mediaSource,t)&&i.codecs[n]!==e){i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e);try{t.changeType(a),i.codecs[n]=e}catch(s){Q.log.warn("Failed to changeType on "+n+"Buffer",s)}}}}},hn=function(e){var n=e.type,i=e.sourceUpdater,t=e.action,a=e.doneFn,s=e.name;i.queue.push({type:n,action:t,doneFn:a,name:s}),a0(n,i)},Zb=function(e,n){return function(i){if(n.queuePending[e]){var t=n.queuePending[e].doneFn;n.queuePending[e]=null,t&&t(n[e+"Error_"])}a0(e,n)}},ZE=function(r){Ce(e,r);function e(i){var t;return t=r.call(this)||this,t.mediaSource=i,t.sourceopenListener_=function(){return a0("mediaSource",et(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=Gn("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Zb("video",et(t)),t.onAudioUpdateEnd_=Zb("audio",et(t)),t.onVideoError_=function(a){t.videoError_=a},t.onAudioError_=function(a){t.audioError_=a},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(t,a){hn({type:"mediaSource",sourceUpdater:this,action:fn.addSourceBuffer(t,a),name:"addSourceBuffer"})},n.abort=function(t){hn({type:t,sourceUpdater:this,action:fn.abort(t),name:"abort"})},n.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){Q.log.error("removeSourceBuffer is not supported!");return}hn({type:"mediaSource",sourceUpdater:this,action:fn.removeSourceBuffer(t),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!Q.browser.IE_VERSION&&!Q.browser.IS_FIREFOX&&j.MediaSource&&j.MediaSource.prototype&&typeof j.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return j.SourceBuffer&&j.SourceBuffer.prototype&&typeof j.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(t,a){if(!this.canChangeType()){Q.log.error("changeType is not supported!");return}hn({type:t,sourceUpdater:this,action:fn.changeType(a),name:"changeType"})},n.addOrChangeSourceBuffers=function(t){var a=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var l=t[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,l);a.canChangeType()&&a.changeType(s,l)})},n.appendBuffer=function(t,a){var s=this,l=t.segmentInfo,d=t.type,f=t.bytes;if(this.processedAppend_=!0,d==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,a]),this.logger_("delayed audio append of "+f.length+" until video append");return}var h=a;if(hn({type:d,sourceUpdater:this,action:fn.appendBuffer(f,l||{mediaIndex:-1},h),doneFn:a,name:"appendBuffer"}),d==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var g=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+g.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,g.forEach(function(v){s.appendBuffer.apply(s,v)})}},n.audioBuffered=function(){return ii(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Q.createTimeRange()},n.videoBuffered=function(){return ii(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Q.createTimeRange()},n.buffered=function(){var t=ii(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=ii(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!t?this.audioBuffered():t&&!a?this.videoBuffered():A3(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(t,a){a===void 0&&(a=Vi),hn({type:"mediaSource",sourceUpdater:this,action:fn.duration(t),name:"duration",doneFn:a})},n.endOfStream=function(t,a){t===void 0&&(t=null),a===void 0&&(a=Vi),typeof t!="string"&&(t=void 0),hn({type:"mediaSource",sourceUpdater:this,action:fn.endOfStream(t),name:"endOfStream",doneFn:a})},n.removeAudio=function(t,a,s){if(s===void 0&&(s=Vi),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}hn({type:"audio",sourceUpdater:this,action:fn.remove(t,a),doneFn:s,name:"remove"})},n.removeVideo=function(t,a,s){if(s===void 0&&(s=Vi),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}hn({type:"video",sourceUpdater:this,action:fn.remove(t,a),doneFn:s,name:"remove"})},n.updating=function(){return!!(wm("audio",this)||wm("video",this))},n.audioTimestampOffset=function(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(hn({type:"audio",sourceUpdater:this,action:fn.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},n.videoTimestampOffset=function(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(hn({type:"video",sourceUpdater:this,action:fn.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},n.audioQueueCallback=function(t){!this.audioBuffer||hn({type:"audio",sourceUpdater:this,action:fn.callback(t),name:"callback"})},n.videoQueueCallback=function(t){!this.videoBuffer||hn({type:"video",sourceUpdater:this,action:fn.callback(t),name:"callback"})},n.dispose=function(){var t=this;this.trigger("dispose"),uF.forEach(function(a){t.abort(a),t.canRemoveSourceBuffer()?t.removeSourceBuffer(a):t[a+"QueueCallback"](function(){return QE(a,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(Q.EventTarget),eT=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},tT=new Uint8Array(`

`.split("").map(function(r){return r.charCodeAt(0)})),cF=function(r){Ce(e,r);function e(){return r.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(sm(Error)),dF=function(r){Ce(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.loadVttJs=i.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Q.createTimeRanges();var t=this.subtitlesTrack_.cues,a=t[0].startTime,s=t[t.length-1].startTime;return Q.createTimeRanges([[a,s]])},n.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=yf(t),l=this.initSegments_[s];if(a&&!l&&t.bytes){var d=tT.byteLength+t.bytes.byteLength,f=new Uint8Array(d);f.set(t.bytes),f.set(tT,t.bytes.byteLength),this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:f}}return l||t},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(t,a){ul(t,a,this.subtitlesTrack_)},n.fillBuffer_=function(){var t=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(r.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},n.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(t,a,s){var l=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===ci.TIMEOUT&&this.handleTimeout_(),t.code===ci.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var f=d.segment;if(f.map&&(f.map.bytes=a.map.bytes),d.bytes=a.bytes,typeof j.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return l.segmentRequestFinished_(t,a,s)},function(){return l.stopForError({message:"Error loading vtt.js"})});return}f.requested=!0;try{this.parseVTTCues_(d)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(d,this.syncController_.timelines[d.timeline],this.playlist_),d.cues.length?d.timingInfo={start:d.cues[0].startTime,end:d.cues[d.cues.length-1].endTime}:d.timingInfo={start:d.startOfSegment,end:d.startOfSegment+d.duration},d.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}d.byteLength=d.bytes.byteLength,this.mediaSecondsLoaded+=f.duration,d.cues.forEach(function(h){l.subtitlesTrack_.addCue(l.featuresNativeTextTracks_?new j.VTTCue(h.startTime,h.endTime,h.text):h)}),JN(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(t){var a,s=!1;if(typeof j.WebVTT!="function")throw new cF;typeof j.TextDecoder=="function"?a=new j.TextDecoder("utf8"):(a=j.WebVTT.StringDecoder(),s=!0);var l=new j.WebVTT.Parser(j,j.vttjs,a);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},l.oncue=t.cues.push.bind(t.cues),l.ontimestampmap=function(h){t.timestampmap=h},l.onparsingerror=function(h){Q.log.warn("Error encountered when parsing cues: "+h.message)},t.segment.map){var d=t.segment.map.bytes;s&&(d=eT(d)),l.parse(d)}var f=t.bytes;s&&(f=eT(f)),l.parse(f),l.flush()},n.updateTimeMapping_=function(t,a,s){var l=t.segment;if(!!a){if(!t.cues.length){l.empty=!0;return}var d=t.timestampmap,f=d.MPEGTS/of.ONE_SECOND_IN_TS-d.LOCAL+a.mapping;if(t.cues.forEach(function(v){v.startTime+=f,v.endTime+=f}),!s.syncInfo){var h=t.cues[0].startTime,g=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(h,g-l.duration)}}}},e}(Em),fF=function(e,n){for(var i=e.cues,t=0;t<i.length;t++){var a=i[t];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},hF=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var t=i,a,s=0;s<e.segments.length;s++){var l=e.segments[s];if(a||(a=fF(n,t+l.duration/2)),a){if("cueIn"in l){a.endTime=t,a.adEndTime=t,t+=l.duration,a=null;continue}if(t<a.endTime){t+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&(a=new j.VTTCue(t,t+l.duration,l.cueOut),a.adStartTime=t,a.adEndTime=t+parseFloat(l.cueOut),n.addCue(a)),"cueOutCont"in l){var d=l.cueOutCont.split("/").map(parseFloat),f=d[0],h=d[1];a=new j.VTTCue(t,t+l.duration,""),a.adStartTime=t-f,a.adEndTime=a.adStartTime+h,n.addCue(a)}t+=l.duration}},pF=86400,rT=[{name:"VOD",run:function(e,n,i,t,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,n,i,t,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,l=null,d=mm(n);a=a||0;for(var f=0;f<d.length;f++){var h=n.endList||a===0?f:d.length-(f+1),g=d[h],v=g.segment,T=e.timelineToDatetimeMappings[v.timeline];if(!(!T||!v.dateTimeObject)){var A=v.dateTimeObject.getTime()/1e3,P=A+T;if(v.parts&&typeof g.partIndex=="number")for(var D=0;D<g.partIndex;D++)P+=v.parts[D].duration;var R=Math.abs(a-P);if(l!==null&&(R===0||l<R))break;l=R,s={time:P,segmentIndex:g.segmentIndex,partIndex:g.partIndex}}}return s}},{name:"Segment",run:function(e,n,i,t,a){var s=null,l=null;a=a||0;for(var d=mm(n),f=0;f<d.length;f++){var h=n.endList||a===0?f:d.length-(f+1),g=d[h],v=g.segment,T=g.part&&g.part.start||v&&v.start;if(v.timeline===t&&typeof T<"u"){var A=Math.abs(a-T);if(l!==null&&l<A)break;(!s||l===null||l>=A)&&(l=A,s={time:T,segmentIndex:g.segmentIndex,partIndex:g.partIndex})}}return s}},{name:"Discontinuity",run:function(e,n,i,t,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var l=null,d=0;d<n.discontinuityStarts.length;d++){var f=n.discontinuityStarts[d],h=n.discontinuitySequence+d+1,g=e.discontinuities[h];if(g){var v=Math.abs(a-g.time);if(l!==null&&l<v)break;(!s||l===null||l>=v)&&(l=v,s={time:g.time,segmentIndex:f,partIndex:null})}}return s}},{name:"Playlist",run:function(e,n,i,t,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return s}return null}}],gF=function(r){Ce(e,r);function e(i){var t;return t=r.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Gn("SyncController"),t}var n=e.prototype;return n.getSyncPoint=function(t,a,s,l){var d=this.runStrategies_(t,a,s,l);return d.length?this.selectSyncPoint_(d,{key:"time",value:l}):null},n.getExpiredTime=function(t,a){if(!t||!t.segments)return null;var s=this.runStrategies_(t,a,t.discontinuitySequence,0);if(!s.length)return null;var l=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return l.segmentIndex>0&&(l.time*=-1),Math.abs(l.time+_l({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:l.segmentIndex,endIndex:0}))},n.runStrategies_=function(t,a,s,l){for(var d=[],f=0;f<rT.length;f++){var h=rT[f],g=h.run(this,t,a,s,l);g&&(g.strategy=h.name,d.push({strategy:h.name,syncPoint:g}))}return d},n.selectSyncPoint_=function(t,a){for(var s=t[0].syncPoint,l=Math.abs(t[0].syncPoint[a.key]-a.value),d=t[0].strategy,f=1;f<t.length;f++){var h=Math.abs(t[f].syncPoint[a.key]-a.value);h<l&&(l=h,s=t[f].syncPoint,d=t[f].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+d+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},n.saveExpiredSegmentInfo=function(t,a){var s=a.mediaSequence-t.mediaSequence;if(s>pF){Q.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var l=s-1;l>=0;l--){var d=t.segments[l];if(d&&typeof d.start<"u"){a.syncInfo={mediaSequence:t.mediaSequence+l,time:d.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var a=t.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},n.saveSegmentTimingInfo=function(t){var a=t.segmentInfo,s=t.shouldSaveTimelineMapping,l=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),d=a.segment;l&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:d.start}));var f=d.dateTimeObject;d.discontinuity&&s&&f&&(this.timelineToDatetimeMappings[d.timeline]=-(f.getTime()/1e3))},n.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time},n.mappingForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,a,s){var l=t.segment,d=t.part,f=this.timelines[t.timeline],h,g;if(typeof t.timestampOffset=="number")f={time:t.startOfSegment,mapping:t.startOfSegment-a.start},s&&(this.timelines[t.timeline]=f,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+f.time+"] [mapping: "+f.mapping+"]"))),h=t.startOfSegment,g=a.end+f.mapping;else if(f)h=a.start+f.mapping,g=a.end+f.mapping;else return!1;return d&&(d.start=h,d.end=g),(!l.start||h<l.start)&&(l.start=h),l.end=g,!0},n.saveDiscontinuitySyncInfo_=function(t){var a=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var l=0;l<a.discontinuityStarts.length;l++){var d=a.discontinuityStarts[l],f=a.discontinuitySequence+l+1,h=d-t.mediaIndex,g=Math.abs(h);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>g){var v=void 0;h<0?v=s.start-_l({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex,endIndex:d}):v=s.end+_l({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex+1,endIndex:d}),this.discontinuities[f]={time:v,accuracy:g}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(Q.EventTarget),mF=function(r){Ce(e,r);function e(){var i;return i=r.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:l},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},n.lastTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:l},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Q.EventTarget),vF=UE(jE(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(U,J,te){return te={path:J,exports:{},require:function(V,X){return n(V,X==null?te.path:X)}},U(te,te.exports),te.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(U){function J(H,V){for(var X=0;X<V.length;X++){var K=V[X];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}function te(H,V,X){return V&&J(H.prototype,V),X&&J(H,X),H}U.exports=te,U.exports.default=U.exports,U.exports.__esModule=!0}),t=e(function(U){function J(te,H){return U.exports=J=Object.setPrototypeOf||function(X,K){return X.__proto__=K,X},U.exports.default=U.exports,U.exports.__esModule=!0,J(te,H)}U.exports=J,U.exports.default=U.exports,U.exports.__esModule=!0}),a=e(function(U){function J(te,H){te.prototype=Object.create(H.prototype),te.prototype.constructor=te,t(te,H)}U.exports=J,U.exports.default=U.exports,U.exports.__esModule=!0}),s=function(){function U(){this.listeners={}}var J=U.prototype;return J.on=function(H,V){this.listeners[H]||(this.listeners[H]=[]),this.listeners[H].push(V)},J.off=function(H,V){if(!this.listeners[H])return!1;var X=this.listeners[H].indexOf(V);return this.listeners[H]=this.listeners[H].slice(0),this.listeners[H].splice(X,1),X>-1},J.trigger=function(H){var V=this.listeners[H];if(!!V)if(arguments.length===2)for(var X=V.length,K=0;K<X;++K)V[K].call(this,arguments[1]);else for(var ee=Array.prototype.slice.call(arguments,1),Z=V.length,ue=0;ue<Z;++ue)V[ue].apply(this,ee)},J.dispose=function(){this.listeners={}},J.pipe=function(H){this.on("data",function(V){H.push(V)})},U}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function l(U){return U.subarray(0,U.byteLength-U[U.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var d=function(){var J=[[[],[],[],[],[]],[[],[],[],[],[]]],te=J[0],H=J[1],V=te[4],X=H[4],K,ee,Z,ue=[],Me=[],Ue,ke,ge,Ee,mt,lt;for(K=0;K<256;K++)Me[(ue[K]=K<<1^(K>>7)*283)^K]=K;for(ee=Z=0;!V[ee];ee^=Ue||1,Z=Me[Z]||1)for(Ee=Z^Z<<1^Z<<2^Z<<3^Z<<4,Ee=Ee>>8^Ee&255^99,V[ee]=Ee,X[Ee]=ee,ge=ue[ke=ue[Ue=ue[ee]]],lt=ge*16843009^ke*65537^Ue*257^ee*16843008,mt=ue[Ee]*257^Ee*16843008,K=0;K<4;K++)te[K][ee]=mt=mt<<24^mt>>>8,H[K][Ee]=lt=lt<<24^lt>>>8;for(K=0;K<5;K++)te[K]=te[K].slice(0),H[K]=H[K].slice(0);return J},f=null,h=function(){function U(te){f||(f=d()),this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var H,V,X,K=this._tables[0][4],ee=this._tables[1],Z=te.length,ue=1;if(Z!==4&&Z!==6&&Z!==8)throw new Error("Invalid aes key size");var Me=te.slice(0),Ue=[];for(this._key=[Me,Ue],H=Z;H<4*Z+28;H++)X=Me[H-1],(H%Z===0||Z===8&&H%Z===4)&&(X=K[X>>>24]<<24^K[X>>16&255]<<16^K[X>>8&255]<<8^K[X&255],H%Z===0&&(X=X<<8^X>>>24^ue<<24,ue=ue<<1^(ue>>7)*283)),Me[H]=Me[H-Z]^X;for(V=0;H;V++,H--)X=Me[V&3?H:H-4],H<=4||V<4?Ue[V]=X:Ue[V]=ee[0][K[X>>>24]]^ee[1][K[X>>16&255]]^ee[2][K[X>>8&255]]^ee[3][K[X&255]]}var J=U.prototype;return J.decrypt=function(H,V,X,K,ee,Z){var ue=this._key[1],Me=H^ue[0],Ue=K^ue[1],ke=X^ue[2],ge=V^ue[3],Ee,mt,lt,wr=ue.length/4-2,It,Bt=4,sr=this._tables[1],Cr=sr[0],Ut=sr[1],ne=sr[2],ye=sr[3],Se=sr[4];for(It=0;It<wr;It++)Ee=Cr[Me>>>24]^Ut[Ue>>16&255]^ne[ke>>8&255]^ye[ge&255]^ue[Bt],mt=Cr[Ue>>>24]^Ut[ke>>16&255]^ne[ge>>8&255]^ye[Me&255]^ue[Bt+1],lt=Cr[ke>>>24]^Ut[ge>>16&255]^ne[Me>>8&255]^ye[Ue&255]^ue[Bt+2],ge=Cr[ge>>>24]^Ut[Me>>16&255]^ne[Ue>>8&255]^ye[ke&255]^ue[Bt+3],Bt+=4,Me=Ee,Ue=mt,ke=lt;for(It=0;It<4;It++)ee[(3&-It)+Z]=Se[Me>>>24]<<24^Se[Ue>>16&255]<<16^Se[ke>>8&255]<<8^Se[ge&255]^ue[Bt++],Ee=Me,Me=Ue,Ue=ke,ke=ge,ge=Ee},U}(),g=function(U){a(J,U);function J(){var H;return H=U.call(this,s)||this,H.jobs=[],H.delay=1,H.timeout_=null,H}var te=J.prototype;return te.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},te.push=function(V){this.jobs.push(V),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},J}(s),v=function(J){return J<<24|(J&65280)<<8|(J&16711680)>>8|J>>>24},T=function(J,te,H){var V=new Int32Array(J.buffer,J.byteOffset,J.byteLength>>2),X=new h(Array.prototype.slice.call(te)),K=new Uint8Array(J.byteLength),ee=new Int32Array(K.buffer),Z,ue,Me,Ue,ke,ge,Ee,mt,lt;for(Z=H[0],ue=H[1],Me=H[2],Ue=H[3],lt=0;lt<V.length;lt+=4)ke=v(V[lt]),ge=v(V[lt+1]),Ee=v(V[lt+2]),mt=v(V[lt+3]),X.decrypt(ke,ge,Ee,mt,ee,lt),ee[lt]=v(ee[lt]^Z),ee[lt+1]=v(ee[lt+1]^ue),ee[lt+2]=v(ee[lt+2]^Me),ee[lt+3]=v(ee[lt+3]^Ue),Z=ke,ue=ge,Me=Ee,Ue=mt;return K},A=function(){function U(te,H,V,X){var K=U.STEP,ee=new Int32Array(te.buffer),Z=new Uint8Array(te.byteLength),ue=0;for(this.asyncStream_=new g,this.asyncStream_.push(this.decryptChunk_(ee.subarray(ue,ue+K),H,V,Z)),ue=K;ue<ee.length;ue+=K)V=new Uint32Array([v(ee[ue-4]),v(ee[ue-3]),v(ee[ue-2]),v(ee[ue-1])]),this.asyncStream_.push(this.decryptChunk_(ee.subarray(ue,ue+K),H,V,Z));this.asyncStream_.push(function(){X(null,l(Z))})}var J=U.prototype;return J.decryptChunk_=function(H,V,X,K){return function(){var ee=T(H,V,X);K.set(ee,H.byteOffset)}},i(U,null,[{key:"STEP",get:function(){return 32e3}}]),U}(),P;typeof window<"u"?P=window:typeof r<"u"?P=r:typeof self<"u"?P=self:P={};var D=P,R=function(J){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(J):J&&J.buffer instanceof ArrayBuffer},M=D.BigInt||Number;M("0x1"),M("0x100"),M("0x10000"),M("0x1000000"),M("0x100000000"),M("0x10000000000"),M("0x1000000000000"),M("0x100000000000000"),M("0x10000000000000000");var $=function(J){var te={};return Object.keys(J).forEach(function(H){var V=J[H];R(V)?te[H]={bytes:V.buffer,byteOffset:V.byteOffset,byteLength:V.byteLength}:te[H]=V}),te};self.onmessage=function(U){var J=U.data,te=new Uint8Array(J.encrypted.bytes,J.encrypted.byteOffset,J.encrypted.byteLength),H=new Uint32Array(J.key.bytes,J.key.byteOffset,J.key.byteLength/4),V=new Uint32Array(J.iv.bytes,J.iv.byteOffset,J.iv.byteLength/4);new A(te,H,V,function(X,K){self.postMessage($({source:J.source,decrypted:K}),[K.buffer])})}})),_F=BE(vF),yF=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},xf=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},Cm=function(e,n){n.activePlaylistLoader=e,e.load()},bF=function(e,n){return function(){var i=n.segmentLoaders,t=i[e],a=i.main,s=n.mediaTypes[e],l=s.activeTrack(),d=s.getActiveGroup(),f=s.activePlaylistLoader,h=s.lastGroup_;if(!(d&&h&&d.id===h.id)&&(s.lastGroup_=d,s.lastTrack_=l,xf(t,s),!(!d||d.isMasterPlaylist))){if(!d.playlistLoader){f&&a.resetEverything();return}t.resyncLoader(),Cm(d.playlistLoader,s)}}},TF=function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e];t.lastGroup_=null,i.abort(),i.pause()}},SF=function(e,n){return function(){var i=n.masterPlaylistLoader,t=n.segmentLoaders,a=t[e],s=t.main,l=n.mediaTypes[e],d=l.activeTrack(),f=l.getActiveGroup(),h=l.activePlaylistLoader,g=l.lastTrack_;if(!(g&&d&&g.id===d.id)&&(l.lastGroup_=f,l.lastTrack_=d,xf(a,l),!!f)){if(f.isMasterPlaylist){if(!d||!g||d.id===g.id)return;var v=n.vhs.masterPlaylistController_,T=v.selectPlaylist();if(v.media()===T)return;l.logger_("track change. Switching master audio from "+g.id+" to "+d.id),i.pause(),s.resetEverything(),v.fastQualityChange_(T);return}if(e==="AUDIO"){if(!f.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(h===f.playlistLoader){Cm(f.playlistLoader,l);return}a.track&&a.track(d),a.resetEverything(),Cm(f.playlistLoader,l)}}},Ef={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e],a=n.blacklistCurrentPlaylist;xf(i,t);var s=t.activeTrack(),l=t.activeGroup(),d=(l.filter(function(g){return g.default})[0]||l[0]).id,f=t.tracks[d];if(s===f){a({message:"Problem encountered loading the default audio track."});return}Q.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var h in t.tracks)t.tracks[h].enabled=t.tracks[h]===f;t.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e];Q.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),xf(i,t);var a=t.activeTrack();a&&(a.mode="disabled"),t.onTrackChanged()}}},nT={AUDIO:function(e,n,i){if(!!n){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];n.on("loadedmetadata",function(){var l=n.media();s.playlist(l,a),(!t.paused()||l.endList&&t.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),t.paused()||s.load()}),n.on("error",Ef[e](e,i))}},SUBTITLES:function(e,n,i){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],l=i.mediaTypes[e];n.on("loadedmetadata",function(){var d=n.media();s.playlist(d,a),s.track(l.activeTrack()),(!t.paused()||d.endList&&t.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),t.paused()||s.load()}),n.on("error",Ef[e](e,i))}},xF={AUDIO:function(e,n){var i=n.vhs,t=n.sourceType,a=n.segmentLoaders[e],s=n.requestOptions,l=n.master.mediaGroups,d=n.mediaTypes[e],f=d.groups,h=d.tracks,g=d.logger_,v=n.masterPlaylistLoader,T=oc(v.master);(!l[e]||Object.keys(l[e]).length===0)&&(l[e]={main:{default:{default:!0}}},T&&(l[e].main.default.playlists=v.master.playlists));for(var A in l[e]){f[A]||(f[A]=[]);for(var P in l[e][A]){var D=l[e][A][P],R=void 0;if(T?(g("AUDIO group '"+A+"' label '"+P+"' is a master playlist"),D.isMasterPlaylist=!0,R=null):t==="vhs-json"&&D.playlists?R=new So(D.playlists[0],i,s):D.resolvedUri?R=new So(D.resolvedUri,i,s):D.playlists&&t==="dash"?R=new Sm(D.playlists[0],i,s,v):R=null,D=Q.mergeOptions({id:P,playlistLoader:R},D),nT[e](e,D.playlistLoader,n),f[A].push(D),typeof h[P]>"u"){var M=new Q.AudioTrack({id:P,kind:yF(D),enabled:!1,language:D.language,default:D.default,label:P});h[P]=M}}}a.on("error",Ef[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,t=n.vhs,a=n.sourceType,s=n.segmentLoaders[e],l=n.requestOptions,d=n.master.mediaGroups,f=n.mediaTypes[e],h=f.groups,g=f.tracks,v=n.masterPlaylistLoader;for(var T in d[e]){h[T]||(h[T]=[]);for(var A in d[e][T])if(!d[e][T][A].forced){var P=d[e][T][A],D=void 0;if(a==="hls")D=new So(P.resolvedUri,t,l);else if(a==="dash"){var R=P.playlists.filter(function($){return $.excludeUntil!==1/0});if(!R.length)return;D=new Sm(P.playlists[0],t,l,v)}else a==="vhs-json"&&(D=new So(P.playlists?P.playlists[0]:P.resolvedUri,t,l));if(P=Q.mergeOptions({id:A,playlistLoader:D},P),nT[e](e,P.playlistLoader,n),h[T].push(P),typeof g[A]>"u"){var M=i.addRemoteTextTrack({id:A,kind:"subtitles",default:P.default&&P.autoselect,language:P.language,label:A},!1).track;g[A]=M}}}s.on("error",Ef[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,t=n.master.mediaGroups,a=n.mediaTypes[e],s=a.groups,l=a.tracks;for(var d in t[e]){s[d]||(s[d]=[]);for(var f in t[e][d]){var h=t[e][d][f];if(!!/^(?:CC|SERVICE)/.test(h.instreamId)){var g=i.options_.vhs&&i.options_.vhs.captionServices||{},v={label:f,language:h.language,instreamId:h.instreamId,default:h.default&&h.autoselect};if(g[v.instreamId]&&(v=Q.mergeOptions(v,g[v.instreamId])),v.default===void 0&&delete v.default,s[d].push(Q.mergeOptions({id:f},h)),typeof l[f]>"u"){var T=i.addRemoteTextTrack({id:v.instreamId,kind:"captions",default:v.default,language:v.language,label:v.label},!1).track;l[f]=T}}}}}},EF=function r(e,n){for(var i=0;i<e.length;i++)if(t0(n,e[i])||e[i].playlists&&r(e[i].playlists,n))return!0;return!1},wF=function(e,n){return function(i){var t=n.masterPlaylistLoader,a=n.mediaTypes[e].groups,s=t.media();if(!s)return null;var l=null;s.attributes[e]&&(l=a[s.attributes[e]]);var d=Object.keys(a);if(!l)if(e==="AUDIO"&&d.length>1&&oc(n.master))for(var f=0;f<d.length;f++){var h=a[d[f]];if(EF(h,s)){l=h;break}}else a.main?l=a.main:d.length===1&&(l=a[d[0]]);return typeof i>"u"?l:i===null||!l?null:l.filter(function(g){return g.id===i.id})[0]||null}},CF={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var t in i)if(i[t].enabled)return i[t];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var t in i)if(i[t].mode==="showing"||i[t].mode==="hidden")return i[t];return null}}},AF=function(e,n){var i=n.mediaTypes;return function(){var t=i[e].activeTrack();return t?i[e].activeGroup(t):null}},kF=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(A){xF[A](A,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,t=e.tech,a=e.vhs,s=e.segmentLoaders,l=s.AUDIO,d=s.main;["AUDIO","SUBTITLES"].forEach(function(A){n[A].activeGroup=wF(A,e),n[A].activeTrack=CF[A](A,e),n[A].onGroupChanged=bF(A,e),n[A].onGroupChanging=TF(A,e),n[A].onTrackChanged=SF(A,e),n[A].getActiveGroup=AF(A,e)});var f=n.AUDIO.activeGroup();if(f){var h=(f.filter(function(A){return A.default})[0]||f[0]).id;n.AUDIO.tracks[h].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var g=n.AUDIO.getActiveGroup();g.playlistLoader?(d.setAudio(!1),l.setAudio(!0)):d.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(A){return n[A].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(A){return n[A].onGroupChanging()})});var v=function(){n.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",v),t.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){t.audioTracks().removeEventListener("change",v),t.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var T in n.AUDIO.tracks)t.audioTracks().addTrack(n.AUDIO.tracks[T])},DF=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Vi,activeTrack:Vi,getActiveGroup:Vi,onGroupChanged:Vi,onTrackChanged:Vi,lastTrack_:null,logger_:Gn("MediaGroups["+n+"]")}}),e},PF=60*2,Ri,IF=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],OF=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},LF=function(e){var n=e.currentPlaylist,i=e.buffered,t=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,l=e.bufferHighWaterLine,d=e.duration,f=e.experimentalBufferBasedABR,h=e.log;if(!a)return Q.log.warn("We received no playlist to switch to. Please check your stream."),!1;var g="allowing switch "+(n&&n.id||"null")+" -> "+a.id;if(!n)return h(g+" as current playlist is not set"),!0;if(a.id===n.id)return!1;var v=Boolean(To(i,t).length);if(!n.endList)return!v&&typeof n.partTargetDuration=="number"?(h("not "+g+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(h(g+" as current playlist is live"),!0);var T=Qv(i,t),A=f?pr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:pr.MAX_BUFFER_LOW_WATER_LINE;if(d<A)return h(g+" as duration < max low water line ("+d+" < "+A+")"),!0;var P=a.attributes.BANDWIDTH,D=n.attributes.BANDWIDTH;if(P<D&&(!f||T<l)){var R=g+" as next bandwidth < current bandwidth ("+P+" < "+D+")";return f&&(R+=" and forwardBuffer < bufferHighWaterLine ("+T+" < "+l+")"),h(R),!0}if((!f||P>D)&&T>=s){var M=g+" as forwardBuffer >= bufferLowWaterLine ("+T+" >= "+s+")";return f&&(M+=" and next bandwidth > current bandwidth ("+P+" > "+D+")"),h(M),!0}return h("not "+g+" as no switching criteria met"),!1},RF=function(r){Ce(e,r);function e(i){var t;t=r.call(this)||this;var a=i.src,s=i.handleManifestRedirects,l=i.withCredentials,d=i.tech,f=i.bandwidth,h=i.externVhs,g=i.useCueTags,v=i.blacklistDuration,T=i.enableLowInitialPlaylist,A=i.sourceType,P=i.cacheEncryptionKeys,D=i.experimentalBufferBasedABR,R=i.experimentalLeastPixelDiffSelector,M=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var $=i.maxPlaylistRetries;($===null||typeof $>"u")&&($=1/0),Ri=h,t.experimentalBufferBasedABR=Boolean(D),t.experimentalLeastPixelDiffSelector=Boolean(R),t.withCredentials=l,t.tech_=d,t.vhs_=d.vhs,t.sourceType_=A,t.useCueTags_=g,t.blacklistDuration=v,t.maxPlaylistRetries=$,t.enableLowInitialPlaylist=T,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:l,handleManifestRedirects:s,maxPlaylistRetries:$,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=DF(),t.mediaSource=new j.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(et(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(et(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(et(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=Q.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new gF(i),t.segmentMetadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new _F,t.sourceUpdater_=new ZE(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new mF;var U={vhs:t.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:M,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:f,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:P,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new Sm(a,t.vhs_,t.requestOptions_):new So(a,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Em(Q.mergeOptions(U,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),i),t.audioSegmentLoader_=new Em(Q.mergeOptions(U,{loaderType:"audio"}),i),t.subtitleSegmentLoader_=new dF(Q.mergeOptions(U,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(H,V){function X(){d.off("vttjserror",K),H()}function K(){d.off("vttjsloaded",X),V()}d.one("vttjsloaded",X),d.one("vttjserror",K),d.addWebVttScript_()})}}),i),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),IF.forEach(function(te){t[te+"_"]=OF.bind(et(t),te)}),t.logger_=Gn("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var J=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(J,function(){var te=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-te,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return t===-1||a===-1?-1:t+a},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(t){t===void 0&&(t="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,t)},n.switchMedia_=function(t,a,s){var l=this.media(),d=l&&(l.id||l.uri),f=t.id||t.uri;d&&d!==f&&(this.logger_("switch media "+d+" -> "+f+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(t,s)},n.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=j.setInterval(function(){return t.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(j.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var t=this.master(),a=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return a;var s=t.mediaGroups.AUDIO,l=Object.keys(s),d;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)d=this.mediaTypes_.AUDIO.activeTrack();else{var f=s.main||l.length&&s[l[0]];for(var h in f)if(f[h].default){d={label:h};break}}if(!d)return a;var g=[];for(var v in s)if(s[v][d.label]){var T=s[v][d.label];if(T.playlists&&T.playlists.length)g.push.apply(g,T.playlists);else if(T.uri)g.push(T);else if(t.playlists.length)for(var A=0;A<t.playlists.length;A++){var P=t.playlists[A];P.attributes&&P.attributes.AUDIO&&P.attributes.AUDIO===v&&g.push(P)}}return g.length?g:a},n.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;vm(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,a.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load()),kF({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),a),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var a=t.masterPlaylistLoader_.media();if(!a){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var l=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!l)return;a=t.initialMedia_}t.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;vm(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.masterPlaylistLoader_.load(),t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=t.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(a);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(t,a){var s=t.mediaGroups||{},l=!0,d=Object.keys(s.AUDIO);for(var f in s.AUDIO)for(var h in s.AUDIO[f]){var g=s.AUDIO[f][h];g.uri||(l=!1)}l&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Ri.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),d.length&&Object.keys(s.AUDIO[d[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(t){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),l=this.bufferLowWaterLine(),d=this.bufferHighWaterLine(),f=this.tech_.buffered();return LF({buffered:f,currentTime:s,currentPlaylist:a,nextPlaylist:t,bufferLowWaterLine:l,bufferHighWaterLine:d,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},PF))});var a=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var l=t.getCodecsOrExclude_();!l||t.sourceUpdater_.addOrChangeSourceBuffers(l)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},n.fastQualityChange_=function(t){var a=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){Q.browser.IE_VERSION||Q.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},n.setupFirstPlay=function(){var t=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(Q.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,function(a){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var a=this.duration();t[t.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}!t||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(t){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var l=Ri.Playlist.playlistEnd(t,s),d=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return l-d<=li;var h=f.end(f.length-1);return h-d<=li&&l-h<=li},n.blacklistCurrentPlaylist=function(t,a){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(a=a||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var l=this.masterPlaylistLoader_.master.playlists,d=l.filter(lh),f=d.length===1&&d[0]===s;if(l.length===1&&a!==1/0)return Q.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f);if(f){var h=!1;l.forEach(function(R){if(R!==s){var M=R.excludeUntil;typeof M<"u"&&M!==1/0&&(h=!0,delete R.excludeUntil)}}),h&&(Q.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var g;s.playlistErrors_>this.maxPlaylistRetries?g=1/0:g=Date.now()+a*1e3,s.excludeUntil=g,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var v=this.selectPlaylist();if(!v){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var T=t.internal?this.logger_:Q.log.warn,A=t.message?" "+t.message:"";T((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(A+" Switching to playlist "+v.id+".")),v.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),v.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var P=v.targetDuration/2*1e3||5*1e3,D=typeof v.lastRequest=="number"&&Date.now()-v.lastRequest<=P;return this.switchMedia_(v,"exclude",f||D)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(t,a){var s=this,l=[],d=t==="all";(d||t==="main")&&l.push(this.masterPlaylistLoader_);var f=[];(d||t==="audio")&&f.push("AUDIO"),(d||t==="subtitle")&&(f.push("CLOSED-CAPTIONS"),f.push("SUBTITLES")),f.forEach(function(h){var g=s.mediaTypes_[h]&&s.mediaTypes_[h].activePlaylistLoader;g&&l.push(g)}),["main","audio","subtitle"].forEach(function(h){var g=s[h+"SegmentLoader_"];g&&(t===h||t==="all")&&l.push(g)}),l.forEach(function(h){return a.forEach(function(g){typeof h[g]=="function"&&h[g]()})})},n.setCurrentTime=function(t){var a=To(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:Ri.Playlist.duration(t):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var t;if(!!this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var l=this.masterPlaylistLoader_.master,d=Ri.Playlist.seekable(a,s,Ri.Playlist.liveEdgeDelay(l,a));if(d.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(t=Ri.Playlist.seekable(a,s,Ri.Playlist.liveEdgeDelay(l,a)),t.length===0)))){var f,h;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),h=this.seekable_.start(0)),t?t.start(0)>d.end(0)||d.start(0)>t.end(0)?this.seekable_=d:this.seekable_=Q.createTimeRanges([[t.start(0)>d.start(0)?t.start(0):d.start(0),t.end(0)<d.end(0)?t.end(0):d.end(0)]]):this.seekable_=d,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===h)&&(this.logger_("seekable updated ["+mE(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),l=Ri.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(l=Math.max(l,s.end(s.length-1))),this.mediaSource.duration!==l&&this.sourceUpdater_.setDuration(l)},n.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=t.mediaTypes_[a].groups;for(var l in s)s[l].forEach(function(d){d.playlistLoader&&d.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},n.getCodecsOrExclude_=function(){var t=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var l=yl(this.master(),s),d={},f=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(d.video=l.video||a.main.videoCodec||nL),a.main.isMuxed&&(d.video+=","+(l.audio||a.main.audioCodec||jy)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||f)&&(d.audio=l.audio||a.main.audioCodec||a.audio.audioCodec||jy,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!d.audio&&!d.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var h=function(R,M){return R?Rd(M):rg(M)},g={},v;if(["video","audio"].forEach(function(D){if(d.hasOwnProperty(D)&&!h(a[D].isFmp4,d[D])){var R=a[D].isFmp4?"browser":"muxer";g[R]=g[R]||[],g[R].push(d[D]),D==="audio"&&(v=R)}}),f&&v&&s.attributes.AUDIO){var T=s.attributes.AUDIO;this.master().playlists.forEach(function(D){var R=D.attributes&&D.attributes.AUDIO;R===T&&D!==s&&(D.excludeUntil=1/0)}),this.logger_("excluding audio group "+T+" as "+v+' does not support codec(s): "'+d.audio+'"')}if(Object.keys(g).length){var A=Object.keys(g).reduce(function(D,R){return D&&(D+=", "),D+=R+' does not support codec(s): "'+g[R].join(",")+'"',D},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:A,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var P=[];if(["video","audio"].forEach(function(D){var R=(ni(t.sourceUpdater_.codecs[D]||"")[0]||{}).type,M=(ni(d[D]||"")[0]||{}).type;R&&M&&R.toLowerCase()!==M.toLowerCase()&&P.push('"'+t.sourceUpdater_.codecs[D]+'" -> "'+d[D]+'"')}),P.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+P.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return d},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(!!t){this.sourceUpdater_.createSourceBuffers(t);var a=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},n.excludeUnsupportedVariants_=function(){var t=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(l){var d=a[l];if(s.indexOf(d.id)===-1){s.push(d.id);var f=yl(t.master,d),h=[];f.audio&&!rg(f.audio)&&!Rd(f.audio)&&h.push("audio codec "+f.audio),f.video&&!rg(f.video)&&!Rd(f.video)&&h.push("video codec "+f.video),f.text&&f.text==="stpp.ttml.im1t"&&h.push("text codec "+f.text),h.length&&(d.excludeUntil=1/0,t.logger_("excluding "+d.id+" for unsupported: "+h.join(", ")))}})},n.excludeIncompatibleVariants_=function(t){var a=this,s=[],l=this.master().playlists,d=Tf(ni(t)),f=Gb(d),h=d.video&&ni(d.video)[0]||null,g=d.audio&&ni(d.audio)[0]||null;Object.keys(l).forEach(function(v){var T=l[v];if(!(s.indexOf(T.id)!==-1||T.excludeUntil===1/0)){s.push(T.id);var A=[],P=yl(a.masterPlaylistLoader_.master,T),D=Gb(P);if(!(!P.audio&&!P.video)){if(D!==f&&A.push('codec count "'+D+'" !== "'+f+'"'),!a.sourceUpdater_.canChangeType()){var R=P.video&&ni(P.video)[0]||null,M=P.audio&&ni(P.audio)[0]||null;R&&h&&R.type.toLowerCase()!==h.type.toLowerCase()&&A.push('video codec "'+R.type+'" !== "'+h.type+'"'),M&&g&&M.type.toLowerCase()!==g.type.toLowerCase()&&A.push('audio codec "'+M.type+'" !== "'+g.type+'"')}A.length&&(T.excludeUntil=1/0,a.logger_("blacklisting "+T.id+": "+A.join(" && ")))}}})},n.updateAdCues_=function(t){var a=0,s=this.seekable();s.length&&(a=s.start(0)),hF(t,this.cueTagsTrack_,a)},n.goalBufferLength=function(){var t=this.tech_.currentTime(),a=pr.GOAL_BUFFER_LENGTH,s=pr.GOAL_BUFFER_LENGTH_RATE,l=Math.max(a,pr.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+t*s,l)},n.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),a=pr.BUFFER_LOW_WATER_LINE,s=pr.BUFFER_LOW_WATER_LINE_RATE,l=Math.max(a,pr.MAX_BUFFER_LOW_WATER_LINE),d=Math.max(a,pr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+t*s,this.experimentalBufferBasedABR?d:l)},n.bufferHighWaterLine=function(){return pr.BUFFER_HIGH_WATER_LINE},e}(Q.EventTarget),NF=function(e,n,i){return function(t){var a=e.master.playlists[n],s=e0(a),l=lh(a);return typeof t>"u"?l:(t?delete a.disabled:a.disabled=!0,t!==l&&!s&&(i(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},FF=function(e,n,i){var t=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",l=t[s+"QualityChange_"].bind(t);if(n.attributes){var d=n.attributes.RESOLUTION;this.width=d&&d.width,this.height=d&&d.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=yl(t.master(),n),this.playlist=n,this.id=i,this.enabled=NF(e.playlists,n.id,l)},MF=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=oc(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(t){return!e0(t)}).map(function(t,a){return new FF(e,t,t.id)}):[]}},iT=["seeking","seeked","pause","playing","error"],BF=function(){function r(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Gn("PlaybackWatcher"),this.logger_("initialize");var t=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},l=function(){return i.cancelTimer_()},d=this.masterPlaylistController_,f=["main","subtitle","audio"],h={};f.forEach(function(v){h[v]={reset:function(){return i.resetSegmentDownloads_(v)},updateend:function(){return i.checkSegmentDownloads_(v)}},d[v+"SegmentLoader_"].on("appendsdone",h[v].updateend),d[v+"SegmentLoader_"].on("playlistupdate",h[v].reset),i.tech_.on(["seeked","seeking"],h[v].reset)});var g=function(T){["main","audio"].forEach(function(A){d[A+"SegmentLoader_"][T]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),g("off"))},this.clearSeekingAppendCheck_=function(){return g("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),g("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(iT,l),this.tech_.on("canplay",a),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(iT,l),i.tech_.off("canplay",a),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),f.forEach(function(v){d[v+"SegmentLoader_"].off("appendsdone",h[v].updateend),d[v+"SegmentLoader_"].off("playlistupdate",h[v].reset),i.tech_.off(["seeked","seeking"],h[v].reset)}),i.checkCurrentTimeTimeout_&&j.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=r.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&j.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=j.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var t=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(i){var t=this.masterPlaylistController_,a=t[i+"SegmentLoader_"],s=a.buffered_(),l=D3(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,l){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:ys(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===i&&(!t.length||i+li>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var t=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),l;if(s){var d=t.end(t.length-1);l=d}if(this.beforeSeekableWindow_(t,a)){var f=t.start(0);l=f+(f===t.end(0)?0:li)}if(typeof l<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+mE(t)+". Seeking to ")+(l+".")),this.tech_.setCurrentTime(l),!0;for(var h=this.masterPlaylistController_.sourceUpdater_,g=this.tech_.buffered(),v=h.audioBuffer?h.audioBuffered():null,T=h.videoBuffer?h.videoBuffered():null,A=this.media(),P=A.partTargetDuration?A.partTargetDuration:(A.targetDuration-Va)*2,D=[v,T],R=0;R<D.length;R++)if(!!D[R]){var M=Qv(D[R],a);if(M<P)return!1}var $=xd(g,a);return $.length===0?!1:(l=$.start(0)+li,this.logger_("Buffered region starts ("+$.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+l+".")),this.tech_.setCurrentTime(l),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),t=this.tech_.buffered(),a=To(t,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,t)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,l=this.tech_.buffered(),d=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(d)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var f=xd(l,t);if(f.length>0){var h=f.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+h+", seeking "+("to "+f.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),h*1e3,t),!0}return!1},e.afterSeekableWindow_=function(i,t,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var l=i.end(i.length-1)+li,d=!a.endList;return d&&s&&(l=i.end(i.length-1)+a.targetDuration*3),t>l},e.beforeSeekableWindow_=function(i,t){return!!(i.length&&i.start(0)>0&&t<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var t=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!t){var l;if(t.length&&a.length){var d=To(t,s-3),f=To(t,s),h=To(a,s);h.length&&!f.length&&d.length&&(l={start:d.end(0),end:h.end(0)})}else{var g=xd(t,s);g.length||(l=this.gapFromVideoUnderflow_(t,s))}return l?(this.logger_("Encountered a gap in video from "+l.start+" to "+l.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var t=this.tech_.buffered(),a=this.tech_.currentTime(),s=xd(t,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Va),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,t){for(var a=C3(i),s=0;s<a.length;s++){var l=a.start(s),d=a.end(s);if(t-l<4&&t-l>2)return{start:l,end:d}}return null},r}(),UF={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},jF=function r(e,n){var i=0,t=0,a=Q.mergeOptions(UF,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},l=function(v){v!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(v),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},d=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){Q.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,l)},f=function g(){e.off("loadedmetadata",s),e.off("error",d),e.off("dispose",g)},h=function(v){f(),r(e,v)};e.on("error",d),e.on("dispose",f),e.reloadSourceOnError=h},$F=function(e){jF(this,e)},e1="2.16.3",VF="6.0.1",HF="0.22.1",qF="4.8.0",WF="3.1.3",Er={PlaylistLoader:So,Playlist:nn,utils:eN,STANDARD_PLAYLIST_SELECTOR:Kb,INITIAL_PLAYLIST_SELECTOR:HN,lastBandwidthSelector:Kb,movingAverageBandwidthSelector:$N,comparePlaylistBandwidth:i0,comparePlaylistResolution:jN,xhr:IE()};Object.keys(pr).forEach(function(r){Object.defineProperty(Er,r,{get:function(){return Q.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),pr[r]},set:function(n){if(Q.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){Q.log.warn("value of Vhs."+r+" must be greater than or equal to 0");return}pr[r]=n}})});var t1="videojs-vhs",r1=function(e,n){for(var i=n.media(),t=-1,a=0;a<e.length;a++)if(e[a].id===i.id){t=a;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},GF=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),r1(e,n.playlists)};Er.canPlaySource=function(){return Q.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var zF=function(e,n,i){if(!e)return e;var t={};n&&n.attributes&&n.attributes.CODECS&&(t=Tf(ni(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(t.audio=i.attributes.CODECS);var a=Pl(t.video),s=Pl(t.audio),l={};for(var d in e)l[d]={},s&&(l[d].audioContentType=s),a&&(l[d].videoContentType=a),n.contentProtection&&n.contentProtection[d]&&n.contentProtection[d].pssh&&(l[d].pssh=n.contentProtection[d].pssh),typeof e[d]=="string"&&(l[d].url=e[d]);return Q.mergeOptions(e,l)},KF=function(e,n){return e.reduce(function(i,t){if(!t.contentProtection)return i;var a=n.reduce(function(s,l){var d=t.contentProtection[l];return d&&d.pssh&&(s[l]={pssh:d.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},XF=function(e){var n=e.player,i=e.sourceKeySystems,t=e.audioMedia,a=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var s=t?a.concat([t]):a,l=KF(s,Object.keys(i)),d=[],f=[];return l.forEach(function(h){f.push(new Promise(function(g,v){n.tech_.one("keysessioncreated",g)})),d.push(new Promise(function(g,v){n.eme.initializeMediaKeys({keySystems:h},function(T){if(T){v(T);return}g()})}))}),Promise.race([Promise.all(d),Promise.race(f)])},JF=function(e){var n=e.player,i=e.sourceKeySystems,t=e.media,a=e.audioMedia,s=zF(i,t,a);return s?(n.currentSource().keySystems=s,s&&!n.eme?(Q.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},n1=function(){if(!j.localStorage)return null;var e=j.localStorage.getItem(t1);if(!e)return null;try{return JSON.parse(e)}catch{return null}},YF=function(e){if(!j.localStorage)return!1;var n=n1();n=n?Q.mergeOptions(n,e):e;try{j.localStorage.setItem(t1,JSON.stringify(n))}catch{return!1}return n},QF=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Er.supportsNativeHls=function(){if(!be||!be.createElement)return!1;var r=be.createElement("video");if(!Q.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(r.canPlayType(n))})}();Er.supportsNativeDash=function(){return!be||!be.createElement||!Q.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(be.createElement("video").canPlayType("application/dash+xml"))}();Er.supportsTypeNatively=function(r){return r==="hls"?Er.supportsNativeHls:r==="dash"?Er.supportsNativeDash:!1};Er.isSupported=function(){return Q.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ZF=Q.getComponent("Component"),s0=function(r){Ce(e,r);function e(i,t,a){var s;if(s=r.call(this,t,Q.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&Q.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=Gn("VhsHandler"),t.options_&&t.options_.playerId){var l=Q(t.options_.playerId);l.hasOwnProperty("hls")||Object.defineProperty(l,"hls",{get:function(){return Q.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),et(s)},configurable:!0}),l.hasOwnProperty("vhs")||Object.defineProperty(l,"vhs",{get:function(){return Q.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),et(s)},configurable:!0}),l.hasOwnProperty("dash")||Object.defineProperty(l,"dash",{get:function(){return Q.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),et(s)},configurable:!0}),s.player_=l}if(s.tech_=t,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(d){var f=be.fullscreenElement||be.webkitFullscreenElement||be.mozFullScreenElement||be.msFullscreenElement;f&&f.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var n=e.prototype;return n.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=n1();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=pr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===pr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]<"u"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(t,a){var s=this;if(!!t){this.setOptions_(),this.options_.src=QF(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Er,this.options_.sourceType=mx(a),this.options_.seekTo=function(f){s.tech_.setCurrentTime(f)},this.options_.smoothQualityChange&&Q.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new RF(this.options_);var l=Q.mergeOptions({liveRangeSafeTimeDelta:li},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new BF(l),this.masterPlaylistController_.on("error",function(){var f=Q.players[s.tech_.options_.playerId],h=s.masterPlaylistController_.error;typeof h=="object"&&!h.code?h.code=3:typeof h=="string"&&(h={message:h,code:3}),f.error(h)});var d=this.options_.experimentalBufferBasedABR?Er.movingAverageBandwidthSelector(.55):Er.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):d.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Er.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(h){this.masterPlaylistController_.selectPlaylist=h.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(h){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=h,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var h=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,g=j.navigator.connection||j.navigator.mozConnection||j.navigator.webkitConnection,v=1e7;if(this.options_.useNetworkInformationApi&&g){var T=g.downlink*1e3*1e3;T>=v&&h>=v?h=Math.max(h,T):h=T}return h},set:function(h){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=h,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var h=1/(this.bandwidth||1),g;this.throughput>0?g=1/this.throughput:g=0;var v=Math.floor(1/(h+g));return v},set:function(){Q.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return ys(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ys(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&YF({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){MF(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=j.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),XF({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){t.logger_("error while creating EME key session",s),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=JF({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(l){if(l.status==="output-restricted"){var d=t.masterPlaylistController_.master();if(!(!d||!d.playlists)){var f=[];if(d.playlists.forEach(function(g){g&&g.attributes&&g.attributes.RESOLUTION&&g.attributes.RESOLUTION.height>=720&&(!g.excludeUntil||g.excludeUntil<1/0)&&(g.excludeUntil=1/0,f.push(g))}),f.length){var h;(h=Q.log).warn.apply(h,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(f)),t.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),Q.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},n.setupQualityLevels_=function(){var t=this,a=Q.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){GF(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){r1(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":e1,"mux.js":VF,"mpd-parser":HF,"m3u8-parser":qF,"aes-decrypter":WF}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return ZE.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&j.URL.revokeObjectURL&&(j.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},n.convertToProgramTime=function(t,a){return oN({playlist:this.masterPlaylistController_.media(),time:t,callback:a})},n.seekToProgramTime=function(t,a,s,l){return s===void 0&&(s=!0),l===void 0&&(l=2),uN({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:l,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(ZF),Ul={name:"videojs-http-streaming",VERSION:e1,canHandleSource:function(e,n){n===void 0&&(n={});var i=Q.mergeOptions(Q.options,n);return Ul.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var t=Q.mergeOptions(Q.options,i);return n.vhs=new s0(e,n,t),Q.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return Q.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=IE(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){var i=mx(e);if(!i)return"";var t=Ul.getOverrideNative(n),a=Er.supportsTypeNatively(i),s=!a||t;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var n=e,i=n.vhs,t=i===void 0?{}:i,a=n.hls,s=a===void 0?{}:a,l=!(Q.browser.IS_ANY_SAFARI||Q.browser.IS_IOS),d=t.overrideNative,f=d===void 0?l:d,h=s.overrideNative,g=h===void 0?!1:h;return g||f}},eM=function(){return Rd("avc1.4d400d,mp4a.40.2")};eM()&&Q.getTech("Html5").registerSourceHandler(Ul,0);Q.VhsHandler=s0;Object.defineProperty(Q,"HlsHandler",{get:function(){return Q.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),s0},configurable:!0});Q.VhsSourceHandler=Ul;Object.defineProperty(Q,"HlsSourceHandler",{get:function(){return Q.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Ul},configurable:!0});Q.Vhs=Er;Object.defineProperty(Q,"Hls",{get:function(){return Q.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Er},configurable:!0});Q.use||(Q.registerComponent("Hls",Er),Q.registerComponent("Vhs",Er));Q.options.vhs=Q.options.vhs||{};Q.options.hls=Q.options.hls||{};if(!Q.getPlugin||!Q.getPlugin("reloadSourceOnError")){var tM=Q.registerPlugin||Q.plugin;tM("reloadSourceOnError",$F)}function Tg(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(i=Object.getOwnPropertySymbols(r);t<i.length;t++)e.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(r,i[t])&&(n[i[t]]=r[i[t]])}return n}var rM={src:{type:String,onChange:function(r,e){return r.src(e)}},width:{type:Number,onChange:function(r,e){return r.width(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.width())})}},height:{type:Number,onChange:function(r,e){return r.height(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.height())})}},preload:{type:String,onChange:function(r,e){return r.preload(e)}},loop:{type:Boolean,onChange:function(r,e){return r.loop(e)}},muted:{type:Boolean,onChange:function(r,e){return r.muted(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.muted())})}},poster:{type:String,onChange:function(r,e){return r.poster(e)},onEvent:function(r,e){return r.on("posterchange",function(){return e(r.poster())})}},controls:{type:Boolean,onChange:function(r,e){return r.controls(e)},onEvent:function(r,e){r.on("controlsenabled",function(){return e(!0)}),r.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(r,e){return r.autoplay(e)}},crossorigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}},playsInline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}}},nM={id:{type:String},sources:{type:Array,onChange:function(r,e){return r.src(e)}},tracks:{type:Array,onChange:function(r,e){for(var n=r.remoteTextTracks(),i=(n==null?void 0:n.length)||0;i--;)r.removeRemoteTextTrack(n[i]);r.ready(function(){e.forEach(function(t){return r.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(r,e){return r.textTrackSettings.options(e)}},language:{type:String,onChange:function(r,e){return r.language(e)},onEvent:function(r,e){return r.on("languagechange",function(){return e(r.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(r,e){return r.playbackRates(e!=null?e:[])},onEvent:function(r,e){r.on("playbackrateschange",function(){return e(r.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(r,e){return r.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(r,e){return r.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(r,e){return r.responsive(e)}},breakpoints:{type:Object,onChange:function(r,e){return r.breakpoints(e)}},fluid:{type:Boolean,onChange:function(r,e){return r.fluid(e)}},fill:{type:Boolean,onChange:function(r,e){return r.fill(e)}},aspectRatio:{type:String,onChange:function(r,e){return r.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(r,e){return r.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},iM={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(r,e){return r.controlBar.options(e)}}},aM={html5:{type:Object}},sM={volume:{type:Number,onChange:function(r,e){return r.volume(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.volume())})}},playbackRate:{type:Number,onChange:function(r,e){r.playbackRate(e),r.defaultPlaybackRate(e)},onEvent:function(r,e){r.on("ratechange",function(){e(r.playbackRate())})}},options:{type:Object}},jl=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rM),nM),iM),aM),sM),o0=Object.keys(jl),i1=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),a1=Object.keys(i1);Object.values(i1);var Sg=function(r){var e,n=r==null?void 0:r.trim().replace(/\s+/g," ");return n&&(e=n.split(" "))!==null&&e!==void 0?e:[]},xg={src:{getter:function(r){return r.src()}},currentSrc:{getter:function(r){return r.currentSrc()}},currentSource:{getter:function(r){return r.currentSource()}},width:{events:["resize","playerresize"],getter:function(r){return r.width()}},height:{events:["resize","playerresize"],getter:function(r){return r.height()}},currentWidth:{events:["resize","playerresize"],getter:function(r){return r.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(r){return r.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(r){return r.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(r){return r.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(r){return r.controls()}},volume:{events:["volumechange"],getter:function(r){return r.volume()}},muted:{events:["volumechange"],getter:function(r){return r.muted()}},poster:{events:["posterchange"],getter:function(r){return r.poster()}},seeking:{events:["seeking"],getter:function(r){return r.seeking()}},paused:{events:["pause","play","playing"],getter:function(r){return r.paused()}},ended:{events:["ended","play"],getter:function(r){return r.ended()}},currentTime:{events:["timeupdate"],getter:function(r){return r.currentTime()}},duration:{events:["durationchange"],getter:function(r){return r.duration()}},playbackRate:{events:["ratechange"],getter:function(r){return r.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(r){return r.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(r){return r.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(r){return r.isInPictureInPicture()}},isLive:{getter:function(r){var e;return(e=r.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(r){return r.language()}},userActive:{events:["useractive","userinactive"],getter:function(r){return r.userActive()}},readyState:{events:["loadeddata"],getter:function(r){return r.readyState()}},networkState:{events:["loadeddata","error"],getter:function(r){return r.networkState()}},error:{events:["loadeddata","error"],getter:function(r){return r.error()}},buffered:{events:["progress"],getter:function(r){return r.buffered()}},bufferedPercent:{events:["progress"],getter:function(r){return r.bufferedPercent()}},played:{events:["timeupdate"],getter:function(r){return r.played()}},seekable:{events:["progress","seeked"],getter:function(r){return r.seekable()}},audioTracks:{getter:function(r){var e;return(e=r.audioTracks)===null||e===void 0?void 0:e.call(r)}},videoTracks:{getter:function(r){var e;return(e=r.videoTracks)===null||e===void 0?void 0:e.call(r)}},textTracks:{getter:function(r){var e;return(e=r.textTracks)===null||e===void 0?void 0:e.call(r)}}},s1=o0.filter(function(r){return Boolean(jl[r].onEvent)}),o1=function(r){return"update:"+r},oM=a1.concat(s1.map(o1)),uM=o0.reduce(function(r,e){var n,i=jl[e],t=Array.isArray(i.type)?i.type:[i.type],a=Object.assign({},i);return t.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},r),((n={})[e]=a,n))},{}),Ud=Gl({name:"VueVideoPlayer",props:Object.assign(Object.assign({},uM),{class:[String,Object,Array]}),emits:oM.concat(["mounted"],["unmounted"]),setup:function(r,e){var n=rt(r),i=n.class,t=Tg(n,["class"]),a=Ad(!1),s=Ad(null),l=Ad(null),d=Fr(function(){return l.value?l.value.player:null}),f=In(null),h=Fr(function(){return f.value?Oo(f.value):null});return Kl(function(){var g,v=function(T){var A,P=T.props,D=T.element,R=T.className,M=T.onEvent,$=P.options;$===void 0&&($={});var U=Tg(P,["options"]),J={};Object.keys(U).forEach(function(ue){var Me=U[ue];Me!==void 0&&(J[ue]=Me)});var te=Object.assign(Object.assign({},J),$),H=te.volume,V=te.playbackRate,X=Tg(te,["volume","playbackRate"]),K=Object.assign(Object.assign({},X),{playsinline:(A=X.playsinline)!==null&&A!==void 0?A:X.playsInline}),ee=Q(D,K,function(){var ue=this;a1.forEach(function(Me){ue.on(Me,function(Ue){M(Me,Ue)})}),X.src&&!X.sources&&this.src(X.src),H&&Number.isFinite(H)&&this.volume(H),V&&Number.isFinite(V)&&(this.defaultPlaybackRate(V),setTimeout(function(){ue.playbackRate(V)},0))});R&&Sg(R).map(function(ue){return ee.addClass(ue)});var Z=function(ue){var Me;(Me=ee.options)===null||Me===void 0||Me.call(ee,ue!=null?ue:{})};return{player:ee,dispose:function(){return ee.dispose()},updateClassNames:function(ue,Me){Sg(ue).map(function(Ue){return ee.removeClass(Ue)}),Sg(Me).map(function(Ue){return ee.addClass(Ue)})},updateOptions:Z,updatePropOption:function(ue,Me){var Ue,ke,ge;Z(((Ue={})[ue]=Me,Ue)),(ge=(ke=jl[ue])===null||ke===void 0?void 0:ke.onChange)===null||ge===void 0||ge.call(ke,ee,Me)}}}({element:s.value,props:t,onEvent:e.emit});g={player:v.player,onEvent:e.emit},s1.forEach(function(T){var A,P;(P=(A=jl[T])===null||A===void 0?void 0:A.onEvent)===null||P===void 0||P.call(A,g.player,function(D){g.onEvent(o1(T),D)})}),$n(function(){return r.class},function(T,A){var P=Eo(A),D=Eo(T);v.updateClassNames(P,D)},{immediate:!0}),$n(function(){return r.options},function(T){return v.updateOptions(T!=null?T:{})},{deep:!0}),o0.filter(function(T){return T!=="options"}).forEach(function(T){$n(function(){return r[T]},function(A){return v.updatePropOption(T,A)},{deep:!0})}),function(T,A){var P=Object.keys(xg),D=P.reduce(function(M,$){var U;return Object.assign(Object.assign({},M),((U={})[$]=xg[$].getter(T),U))},{playing:!1,waiting:!1}),R=function(M,$){D[M]=$,A.onUpdate(M,$,Object.assign({},D))};T.on(["pause","ended"],function(){R("playing",!1)}),T.on(["play","playing"],function(){R("playing",!0)}),T.on("waiting",function(){R("waiting",!0);var M=T.currentTime(),$=function(){M!==T.currentTime()&&(R("waiting",!1),T.off("timeupdate",$))};T.on("timeupdate",$)}),P.forEach(function(M){var $,U=xg[M];T.on(["loadstart","loadedmetadata"].concat(($=U.events)!==null&&$!==void 0?$:[]),function(){R(M,U.getter(T))})}),A.onInit(Object.assign({},D))}(v.player,{onInit:function(T){f.value=T},onUpdate:function(T,A){f.value&&(f.value[T]=A)}}),l.value=v,a.value=!0,e.emit("mounted",{video:s.value,player:d.value,state:h.value})}),Nf(function(){l.value&&(l.value.dispose(),l.value=null,f.value=null,e.emit("unmounted"))}),function(){var g,v;return Cl("div",{"data-vjs-player":"",class:Eo(i)},[Cl("video",{class:["video-js","v-video-player"],ref:s}),a.value&&((v=(g=e.slots).default)===null||v===void 0?void 0:v.call(g,{video:s.value,player:d.value,state:h.value}))])}}}),lM=function(r){r.component("VideoPlayer",Ud),r.component(Ud.name,Ud)},cM={VideoPlayer:Ud,install:lM};const dM=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function u1(){const e=document.documentElement.clientWidth||document.body.clientWidth;document.documentElement.style.fontSize=e/390*100+"px"}u1();window.onresize=u1;const{VITE_GOOGLE_ID:fM}={VITE_USER_NODE_ENV:"test",VITE_API_URL:"https://test-api-mate.flyai.com",VITE_URL_URL:"https://test-mate.flyai.com/",VITE_GOOGLE_ID:"742137325913-j6tn2dk96v128bl7ocuf1j633nmkih8r.apps.googleusercontent.com",VITE_SENSORS:"MateLink_test",BASE_URL:"./",MODE:"test",DEV:!0,PROD:!1},js=eP(VI);js.config.globalProperties.$sensors=QI();js.config.globalProperties.$isMobile=dM;const l1=gP();l1.use(GI);js.use(l1);js.use(WI);js.use(YI,{clientId:fM});js.use(cM);js.mount("#app");export{Ad as $,Eo as A,DM as B,Af as C,bM as D,Km as E,tn as F,vM as G,Oo as H,vk as I,Nf as J,yM as K,wM as L,xS as M,Hd as N,$m as O,qn as P,sD as Q,_M as R,AD as S,SM as T,lr as U,Ls as V,TM as W,pk as X,gk as Y,AM as Z,$I as _,Hl as a,WI as a0,Xl as a1,_k as a2,qm as a3,vs as a4,CM as a5,Dl as a6,xM as a7,Mf as b,Fr as c,Gl as d,tD as e,Mr as f,rk as g,Cl as h,an as i,_S as j,hr as k,hM as l,EM as m,Ms as n,Kl as o,Pd as p,pM as q,In as r,gM as s,Mp as t,kM as u,aD as v,$n as w,XI as x,PM as y,mM as z};
