var JC=Object.defineProperty;var YC=(r,e,n)=>e in r?JC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var g_=(r,e,n)=>(YC(r,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hm(r,e){const n=new Set(r.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Lt={},io=[],gn=()=>{},QC=()=>!1,rf=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),pm=r=>r.startsWith("onUpdate:"),Yt=Object.assign,gm=(r,e)=>{const n=r.indexOf(e);n>-1&&r.splice(n,1)},ZC=Object.prototype.hasOwnProperty,gt=(r,e)=>ZC.call(r,e),Xe=Array.isArray,ao=r=>Cl(r)==="[object Map]",lT=r=>Cl(r)==="[object Set]",eA=r=>Cl(r)==="[object RegExp]",rt=r=>typeof r=="function",Vt=r=>typeof r=="string",_s=r=>typeof r=="symbol",Ot=r=>r!==null&&typeof r=="object",cT=r=>(Ot(r)||rt(r))&&rt(r.then)&&rt(r.catch),dT=Object.prototype.toString,Cl=r=>dT.call(r),tA=r=>Cl(r).slice(8,-1),fT=r=>Cl(r)==="[object Object]",mm=r=>Vt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Wu=hm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nf=r=>{const e=Object.create(null);return n=>e[n]||(e[n]=r(n))},rA=/-(\w)/g,mi=nf(r=>r.replace(rA,(e,n)=>n?n.toUpperCase():"")),nA=/\B([A-Z])/g,Oo=nf(r=>r.replace(nA,"-$1").toLowerCase()),af=nf(r=>r.charAt(0).toUpperCase()+r.slice(1)),Tp=nf(r=>r?`on${af(r)}`:""),Da=(r,e)=>!Object.is(r,e),Gu=(r,e)=>{for(let n=0;n<r.length;n++)r[n](e)},hT=(r,e,n,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:n})},iA=r=>{const e=parseFloat(r);return isNaN(e)?r:e},aA=r=>{const e=Vt(r)?Number(r):NaN;return isNaN(e)?r:e};let m_;const vm=()=>m_||(m_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sf(r){if(Xe(r)){const e={};for(let n=0;n<r.length;n++){const i=r[n],t=Vt(i)?lA(i):sf(i);if(t)for(const a in t)e[a]=t[a]}return e}else if(Vt(r)||Ot(r))return r}const sA=/;(?![^(]*\))/g,oA=/:([^]+)/,uA=/\/\*[^]*?\*\//g;function lA(r){const e={};return r.replace(uA,"").split(sA).forEach(n=>{if(n){const i=n.split(oA);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function so(r){let e="";if(Vt(r))e=r;else if(Xe(r))for(let n=0;n<r.length;n++){const i=so(r[n]);i&&(e+=i+" ")}else if(Ot(r))for(const n in r)r[n]&&(e+=n+" ");return e.trim()}const cA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dA=hm(cA);function pT(r){return!!r||r===""}const Q6=r=>Vt(r)?r:r==null?"":Xe(r)||Ot(r)&&(r.toString===dT||!rt(r.toString))?JSON.stringify(r,gT,2):String(r),gT=(r,e)=>e&&e.__v_isRef?gT(r,e.value):ao(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,t],a)=>(n[Sp(i,a)+" =>"]=t,n),{})}:lT(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Sp(n))}:_s(e)?Sp(e):Ot(e)&&!Xe(e)&&!fT(e)?String(e):e,Sp=(r,e="")=>{var n;return _s(r)?`Symbol(${(n=r.description)!=null?n:e})`:r};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fn;class mT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fn,!e&&fn&&(this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=fn;try{return fn=this,e()}finally{fn=n}}}on(){fn=this}off(){fn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function vT(r){return new mT(r)}function fA(r,e=fn){e&&e.active&&e.effects.push(r)}function _T(){return fn}function hA(r){fn&&fn.cleanups.push(r)}let ls;class _m{constructor(e,n,i,t){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,fA(this,t)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Oa();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(pA(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),La()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ca,n=ls;try{return Ca=!0,ls=this,this._runnings++,v_(this),this.fn()}finally{__(this),this._runnings--,ls=n,Ca=e}}stop(){this.active&&(v_(this),__(this),this.onStop&&this.onStop(),this.active=!1)}}function pA(r){return r.value}function v_(r){r._trackId++,r._depsLength=0}function __(r){if(r.deps.length>r._depsLength){for(let e=r._depsLength;e<r.deps.length;e++)yT(r.deps[e],r);r.deps.length=r._depsLength}}function yT(r,e){const n=r.get(e);n!==void 0&&e._trackId!==n&&(r.delete(e),r.size===0&&r.cleanup())}let Ca=!0,dg=0;const bT=[];function Oa(){bT.push(Ca),Ca=!1}function La(){const r=bT.pop();Ca=r===void 0?!0:r}function ym(){dg++}function bm(){for(dg--;!dg&&fg.length;)fg.shift()()}function TT(r,e,n){if(e.get(r)!==r._trackId){e.set(r,r._trackId);const i=r.deps[r._depsLength];i!==e?(i&&yT(i,r),r.deps[r._depsLength++]=e):r._depsLength++}}const fg=[];function ST(r,e,n){ym();for(const i of r.keys()){let t;i._dirtyLevel<e&&(t!=null?t:t=r.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(t!=null?t:t=r.get(i)===i._trackId)&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&fg.push(i.scheduler)))}bm()}const xT=(r,e)=>{const n=new Map;return n.cleanup=r,n.computed=e,n},Sd=new WeakMap,cs=Symbol(""),hg=Symbol("");function rn(r,e,n){if(Ca&&ls){let i=Sd.get(r);i||Sd.set(r,i=new Map);let t=i.get(n);t||i.set(n,t=xT(()=>i.delete(n))),TT(ls,t)}}function Fi(r,e,n,i,t,a){const s=Sd.get(r);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&Xe(r)){const c=Number(i);s.forEach((f,h)=>{(h==="length"||!_s(h)&&h>=c)&&l.push(f)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":Xe(r)?mm(n)&&l.push(s.get("length")):(l.push(s.get(cs)),ao(r)&&l.push(s.get(hg)));break;case"delete":Xe(r)||(l.push(s.get(cs)),ao(r)&&l.push(s.get(hg)));break;case"set":ao(r)&&l.push(s.get(cs));break}ym();for(const c of l)c&&ST(c,4);bm()}function gA(r,e){const n=Sd.get(r);return n&&n.get(e)}const mA=hm("__proto__,__v_isRef,__isVue"),ET=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(_s)),y_=vA();function vA(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...n){const i=ht(this);for(let a=0,s=this.length;a<s;a++)rn(i,"get",a+"");const t=i[e](...n);return t===-1||t===!1?i[e](...n.map(ht)):t}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...n){Oa(),ym();const i=ht(this)[e].apply(this,n);return bm(),La(),i}}),r}function _A(r){_s(r)||(r=String(r));const e=ht(this);return rn(e,"has",r),e.hasOwnProperty(r)}class wT{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const t=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(t?a?IA:kT:a?DT:AT).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=Xe(e);if(!t){if(s&&gt(y_,n))return Reflect.get(y_,n,i);if(n==="hasOwnProperty")return _A}const l=Reflect.get(e,n,i);return(_s(n)?ET.has(n):mA(n))||(t||rn(e,"get",n),a)?l:nr(l)?s&&mm(n)?l:l.value:Ot(l)?t?po(l):Al(l):l}}class CT extends wT{constructor(e=!1){super(!1,e)}set(e,n,i,t){let a=e[n];if(!this._isShallow){const c=nl(a);if(!xd(i)&&!nl(i)&&(a=ht(a),i=ht(i)),!Xe(e)&&nr(a)&&!nr(i))return c?!1:(a.value=i,!0)}const s=Xe(e)&&mm(n)?Number(n)<e.length:gt(e,n),l=Reflect.set(e,n,i,t);return e===ht(t)&&(s?Da(i,a)&&Fi(e,"set",n,i):Fi(e,"add",n,i)),l}deleteProperty(e,n){const i=gt(e,n);e[n];const t=Reflect.deleteProperty(e,n);return t&&i&&Fi(e,"delete",n,void 0),t}has(e,n){const i=Reflect.has(e,n);return(!_s(n)||!ET.has(n))&&rn(e,"has",n),i}ownKeys(e){return rn(e,"iterate",Xe(e)?"length":cs),Reflect.ownKeys(e)}}class yA extends wT{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const bA=new CT,TA=new yA,SA=new CT(!0);const Tm=r=>r,of=r=>Reflect.getPrototypeOf(r);function Bc(r,e,n=!1,i=!1){r=r.__v_raw;const t=ht(r),a=ht(e);n||(Da(e,a)&&rn(t,"get",e),rn(t,"get",a));const{has:s}=of(t),l=i?Tm:n?wm:il;if(s.call(t,e))return l(r.get(e));if(s.call(t,a))return l(r.get(a));r!==t&&r.get(e)}function Uc(r,e=!1){const n=this.__v_raw,i=ht(n),t=ht(r);return e||(Da(r,t)&&rn(i,"has",r),rn(i,"has",t)),r===t?n.has(r):n.has(r)||n.has(t)}function jc(r,e=!1){return r=r.__v_raw,!e&&rn(ht(r),"iterate",cs),Reflect.get(r,"size",r)}function b_(r){r=ht(r);const e=ht(this);return of(e).has.call(e,r)||(e.add(r),Fi(e,"add",r,r)),this}function T_(r,e){e=ht(e);const n=ht(this),{has:i,get:t}=of(n);let a=i.call(n,r);a||(r=ht(r),a=i.call(n,r));const s=t.call(n,r);return n.set(r,e),a?Da(e,s)&&Fi(n,"set",r,e):Fi(n,"add",r,e),this}function S_(r){const e=ht(this),{has:n,get:i}=of(e);let t=n.call(e,r);t||(r=ht(r),t=n.call(e,r)),i&&i.call(e,r);const a=e.delete(r);return t&&Fi(e,"delete",r,void 0),a}function x_(){const r=ht(this),e=r.size!==0,n=r.clear();return e&&Fi(r,"clear",void 0,void 0),n}function Hc(r,e){return function(i,t){const a=this,s=a.__v_raw,l=ht(s),c=e?Tm:r?wm:il;return!r&&rn(l,"iterate",cs),s.forEach((f,h)=>i.call(t,c(f),c(h),a))}}function Vc(r,e,n){return function(...i){const t=this.__v_raw,a=ht(t),s=ao(a),l=r==="entries"||r===Symbol.iterator&&s,c=r==="keys"&&s,f=t[r](...i),h=n?Tm:e?wm:il;return!e&&rn(a,"iterate",c?hg:cs),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:l?[h(v[0]),h(v[1])]:h(v),done:y}},[Symbol.iterator](){return this}}}}function ha(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function xA(){const r={get(a){return Bc(this,a)},get size(){return jc(this)},has:Uc,add:b_,set:T_,delete:S_,clear:x_,forEach:Hc(!1,!1)},e={get(a){return Bc(this,a,!1,!0)},get size(){return jc(this)},has:Uc,add:b_,set:T_,delete:S_,clear:x_,forEach:Hc(!1,!0)},n={get(a){return Bc(this,a,!0)},get size(){return jc(this,!0)},has(a){return Uc.call(this,a,!0)},add:ha("add"),set:ha("set"),delete:ha("delete"),clear:ha("clear"),forEach:Hc(!0,!1)},i={get(a){return Bc(this,a,!0,!0)},get size(){return jc(this,!0)},has(a){return Uc.call(this,a,!0)},add:ha("add"),set:ha("set"),delete:ha("delete"),clear:ha("clear"),forEach:Hc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=Vc(a,!1,!1),n[a]=Vc(a,!0,!1),e[a]=Vc(a,!1,!0),i[a]=Vc(a,!0,!0)}),[r,n,e,i]}const[EA,wA,CA,AA]=xA();function Sm(r,e){const n=e?r?AA:CA:r?wA:EA;return(i,t,a)=>t==="__v_isReactive"?!r:t==="__v_isReadonly"?r:t==="__v_raw"?i:Reflect.get(gt(n,t)&&t in i?n:i,t,a)}const DA={get:Sm(!1,!1)},kA={get:Sm(!1,!0)},PA={get:Sm(!0,!1)};const AT=new WeakMap,DT=new WeakMap,kT=new WeakMap,IA=new WeakMap;function OA(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function LA(r){return r.__v_skip||!Object.isExtensible(r)?0:OA(tA(r))}function Al(r){return nl(r)?r:xm(r,!1,bA,DA,AT)}function PT(r){return xm(r,!1,SA,kA,DT)}function po(r){return xm(r,!0,TA,PA,kT)}function xm(r,e,n,i,t){if(!Ot(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const a=t.get(r);if(a)return a;const s=LA(r);if(s===0)return r;const l=new Proxy(r,s===2?i:n);return t.set(r,l),l}function ds(r){return nl(r)?ds(r.__v_raw):!!(r&&r.__v_isReactive)}function nl(r){return!!(r&&r.__v_isReadonly)}function xd(r){return!!(r&&r.__v_isShallow)}function IT(r){return r?!!r.__v_raw:!1}function ht(r){const e=r&&r.__v_raw;return e?ht(e):r}function Em(r){return Object.isExtensible(r)&&hT(r,"__v_skip",!0),r}const il=r=>Ot(r)?Al(r):r,wm=r=>Ot(r)?po(r):r;class OT{constructor(e,n,i,t){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new _m(()=>e(this._value),()=>sd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=i}get value(){const e=ht(this);return(!e._cacheable||e.effect.dirty)&&Da(e._value,e._value=e.effect.run())&&sd(e,4),LT(e),e.effect._dirtyLevel>=2&&sd(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function RA(r,e,n=!1){let i,t;const a=rt(r);return a?(i=r,t=gn):(i=r.get,t=r.set),new OT(i,t,a||!t,n)}function LT(r){var e;Ca&&ls&&(r=ht(r),TT(ls,(e=r.dep)!=null?e:r.dep=xT(()=>r.dep=void 0,r instanceof OT?r:void 0)))}function sd(r,e=4,n){r=ht(r);const i=r.dep;i&&ST(i,e)}function nr(r){return!!(r&&r.__v_isRef===!0)}function zn(r){return RT(r,!1)}function od(r){return RT(r,!0)}function RT(r,e){return nr(r)?r:new NA(r,e)}class NA{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ht(e),this._value=n?e:il(e)}get value(){return LT(this),this._value}set value(e){const n=this.__v_isShallow||xd(e)||nl(e);e=n?e:ht(e),Da(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:il(e),sd(this,4))}}function Er(r){return nr(r)?r.value:r}const FA={get:(r,e,n)=>Er(Reflect.get(r,e,n)),set:(r,e,n,i)=>{const t=r[e];return nr(t)&&!nr(n)?(t.value=n,!0):Reflect.set(r,e,n,i)}};function NT(r){return ds(r)?r:new Proxy(r,FA)}function MA(r){const e=Xe(r)?new Array(r.length):{};for(const n in r)e[n]=FT(r,n);return e}class BA{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gA(ht(this._object),this._key)}}class UA{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Z6(r,e,n){return nr(r)?r:rt(r)?new UA(r):Ot(r)&&arguments.length>1?FT(r,e,n):zn(r)}function FT(r,e,n){const i=r[e];return nr(i)?i:new BA(r,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Aa(r,e,n,i){try{return i?r(...i):r()}catch(t){uf(t,e,n)}}function kn(r,e,n,i){if(rt(r)){const t=Aa(r,e,n,i);return t&&cT(t)&&t.catch(a=>{uf(a,e,n)}),t}if(Xe(r)){const t=[];for(let a=0;a<r.length;a++)t.push(kn(r[a],e,n,i));return t}}function uf(r,e,n,i=!0){const t=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](r,s,l)===!1)return}a=a.parent}const c=e.appContext.config.errorHandler;if(c){Oa(),Aa(c,null,10,[r,s,l]),La();return}}jA(r,n,t,i)}function jA(r,e,n,i=!0){console.error(r)}let al=!1,pg=!1;const Rr=[];let ui=0;const oo=[];let ba=null,as=0;const MT=Promise.resolve();let Cm=null;function Am(r){const e=Cm||MT;return r?e.then(this?r.bind(this):r):e}function HA(r){let e=ui+1,n=Rr.length;for(;e<n;){const i=e+n>>>1,t=Rr[i],a=sl(t);a<r||a===r&&t.pre?e=i+1:n=i}return e}function Dm(r){(!Rr.length||!Rr.includes(r,al&&r.allowRecurse?ui+1:ui))&&(r.id==null?Rr.push(r):Rr.splice(HA(r.id),0,r),BT())}function BT(){!al&&!pg&&(pg=!0,Cm=MT.then(jT))}function VA(r){const e=Rr.indexOf(r);e>ui&&Rr.splice(e,1)}function qA(r){Xe(r)?oo.push(...r):(!ba||!ba.includes(r,r.allowRecurse?as+1:as))&&oo.push(r),BT()}function E_(r,e,n=al?ui+1:0){for(;n<Rr.length;n++){const i=Rr[n];if(i&&i.pre){if(r&&i.id!==r.uid)continue;Rr.splice(n,1),n--,i()}}}function UT(r){if(oo.length){const e=[...new Set(oo)].sort((n,i)=>sl(n)-sl(i));if(oo.length=0,ba){ba.push(...e);return}for(ba=e,as=0;as<ba.length;as++)ba[as]();ba=null,as=0}}const sl=r=>r.id==null?1/0:r.id,$A=(r,e)=>{const n=sl(r)-sl(e);if(n===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return n};function jT(r){pg=!1,al=!0,Rr.sort($A);const e=gn;try{for(ui=0;ui<Rr.length;ui++){const n=Rr[ui];n&&n.active!==!1&&Aa(n,null,14)}}finally{ui=0,Rr.length=0,UT(),al=!1,Cm=null,(Rr.length||oo.length)&&jT()}}function WA(r,e,...n){if(r.isUnmounted)return;const i=r.vnode.props||Lt;let t=n;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in i){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:v,trim:y}=i[h]||Lt;y&&(t=n.map(x=>Vt(x)?x.trim():x)),v&&(t=n.map(iA))}let l,c=i[l=Tp(e)]||i[l=Tp(mi(e))];!c&&a&&(c=i[l=Tp(Oo(e))]),c&&kn(c,r,6,t);const f=i[l+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,kn(f,r,6,t)}}function HT(r,e,n=!1){const i=e.emitsCache,t=i.get(r);if(t!==void 0)return t;const a=r.emits;let s={},l=!1;if(!rt(r)){const c=f=>{const h=HT(f,e,!0);h&&(l=!0,Yt(s,h))};!n&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}return!a&&!l?(Ot(r)&&i.set(r,null),null):(Xe(a)?a.forEach(c=>s[c]=null):Yt(s,a),Ot(r)&&i.set(r,s),s)}function lf(r,e){return!r||!rf(e)?!1:(e=e.slice(2).replace(/Once$/,""),gt(r,e[0].toLowerCase()+e.slice(1))||gt(r,Oo(e))||gt(r,e))}let tr=null,cf=null;function Ed(r){const e=tr;return tr=r,cf=r&&r.type.__scopeId||null,e}function eM(r){cf=r}function tM(){cf=null}function GA(r,e=tr,n){if(!e||r._n)return r;const i=(...t)=>{i._d&&B_(-1);const a=Ed(e);let s;try{s=r(...t)}finally{Ed(a),i._d&&B_(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function xp(r){const{type:e,vnode:n,proxy:i,withProxy:t,propsOptions:[a],slots:s,attrs:l,emit:c,render:f,renderCache:h,props:v,data:y,setupState:x,ctx:C,inheritAttrs:k}=r,P=Ed(r);let R,F;try{if(n.shapeFlag&4){const H=t||i,K=H;R=si(f.call(K,H,h,v,x,y,C)),F=l}else{const H=e;R=si(H.length>1?H(v,{attrs:l,slots:s,emit:c}):H(v,null)),F=e.props?l:zA(l)}}catch(H){Xu.length=0,uf(H,r,1),R=Nr(mn)}let B=R;if(F&&k!==!1){const H=Object.keys(F),{shapeFlag:K}=B;H.length&&K&7&&(a&&H.some(pm)&&(F=KA(F,a)),B=ji(B,F,!1,!0))}return n.dirs&&(B=ji(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&(B.transition=n.transition),R=B,Ed(P),R}const zA=r=>{let e;for(const n in r)(n==="class"||n==="style"||rf(n))&&((e||(e={}))[n]=r[n]);return e},KA=(r,e)=>{const n={};for(const i in r)(!pm(i)||!(i.slice(9)in e))&&(n[i]=r[i]);return n};function XA(r,e,n){const{props:i,children:t,component:a}=r,{props:s,children:l,patchFlag:c}=e,f=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?w_(i,s,f):!!s;if(c&8){const h=e.dynamicProps;for(let v=0;v<h.length;v++){const y=h[v];if(s[y]!==i[y]&&!lf(f,y))return!0}}}else return(t||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?w_(i,s,f):!0:!!s;return!1}function w_(r,e,n){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let t=0;t<i.length;t++){const a=i[t];if(e[a]!==r[a]&&!lf(n,a))return!0}return!1}function JA({vnode:r,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=n,e=e.parent;else break}}const km="components";function rM(r,e){return qT(km,r,!0,e)||r}const VT=Symbol.for("v-ndc");function nM(r){return Vt(r)?qT(km,r,!1)||r:r||VT}function qT(r,e,n=!0,i=!1){const t=tr||gr;if(t){const a=t.type;if(r===km){const l=Sg(a,!1);if(l&&(l===e||l===mi(e)||l===af(mi(e))))return a}const s=C_(t[r]||a[r],e)||C_(t.appContext[r],e);return!s&&i?a:s}}function C_(r,e){return r&&(r[e]||r[mi(e)]||r[af(mi(e))])}const $T=r=>r.__isSuspense;function YA(r,e){e&&e.pendingBranch?Xe(r)?e.effects.push(...r):e.effects.push(r):qA(r)}const QA=Symbol.for("v-scx"),ZA=()=>tn(QA);function WT(r,e){return Pm(r,null,e)}const qc={};function fi(r,e,n){return Pm(r,e,n)}function Pm(r,e,{immediate:n,deep:i,flush:t,once:a,onTrack:s,onTrigger:l}=Lt){if(e&&a){const Y=e;e=(...Q)=>{Y(...Q),K()}}const c=gr,f=Y=>i===!0?Y:os(Y,i===!1?1:void 0);let h,v=!1,y=!1;if(nr(r)?(h=()=>r.value,v=xd(r)):ds(r)?(h=()=>f(r),v=!0):Xe(r)?(y=!0,v=r.some(Y=>ds(Y)||xd(Y)),h=()=>r.map(Y=>{if(nr(Y))return Y.value;if(ds(Y))return f(Y);if(rt(Y))return Aa(Y,c,2)})):rt(r)?e?h=()=>Aa(r,c,2):h=()=>(x&&x(),kn(r,c,3,[C])):h=gn,e&&i){const Y=h;h=()=>os(Y())}let x,C=Y=>{x=B.onStop=()=>{Aa(Y,c,4),x=B.onStop=void 0}},k;if(vf)if(C=gn,e?n&&kn(e,c,3,[h(),y?[]:void 0,C]):h(),t==="sync"){const Y=ZA();k=Y.__watcherHandles||(Y.__watcherHandles=[])}else return gn;let P=y?new Array(r.length).fill(qc):qc;const R=()=>{if(!(!B.active||!B.dirty))if(e){const Y=B.run();(i||v||(y?Y.some((Q,U)=>Da(Q,P[U])):Da(Y,P)))&&(x&&x(),kn(e,c,3,[Y,P===qc?void 0:y&&P[0]===qc?[]:P,C]),P=Y)}else B.run()};R.allowRecurse=!!e;let F;t==="sync"?F=R:t==="post"?F=()=>xr(R,c&&c.suspense):(R.pre=!0,c&&(R.id=c.uid),F=()=>Dm(R));const B=new _m(h,gn,F),H=_T(),K=()=>{B.stop(),H&&gm(H.effects,B)};return e?n?R():P=B.run():t==="post"?xr(B.run.bind(B),c&&c.suspense):B.run(),k&&k.push(K),K}function eD(r,e,n){const i=this.proxy,t=Vt(r)?r.includes(".")?GT(i,r):()=>i[r]:r.bind(i,i);let a;rt(e)?a=e:(a=e.handler,n=e);const s=Pl(this),l=Pm(t,a.bind(i),n);return s(),l}function GT(r,e){const n=e.split(".");return()=>{let i=r;for(let t=0;t<n.length&&i;t++)i=i[n[t]];return i}}function os(r,e=1/0,n){if(e<=0||!Ot(r)||r.__v_skip||(n=n||new Set,n.has(r)))return r;if(n.add(r),e--,nr(r))os(r.value,e,n);else if(Xe(r))for(let i=0;i<r.length;i++)os(r[i],e,n);else if(lT(r)||ao(r))r.forEach(i=>{os(i,e,n)});else if(fT(r))for(const i in r)os(r[i],e,n);return r}function iM(r,e){if(tr===null)return r;const n=_f(tr)||tr.proxy,i=r.dirs||(r.dirs=[]);for(let t=0;t<e.length;t++){let[a,s,l,c=Lt]=e[t];a&&(rt(a)&&(a={mounted:a,updated:a}),a.deep&&os(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:l,modifiers:c}))}return r}function es(r,e,n,i){const t=r.dirs,a=e&&e.dirs;for(let s=0;s<t.length;s++){const l=t[s];a&&(l.oldValue=a[s].value);let c=l.dir[i];c&&(Oa(),kn(c,n,8,[r.el,l,r,e]),La())}}const Ta=Symbol("_leaveCb"),$c=Symbol("_enterCb");function zT(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kl(()=>{r.isMounted=!0}),hf(()=>{r.isUnmounting=!0}),r}const Cn=[Function,Array],KT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cn,onEnter:Cn,onAfterEnter:Cn,onEnterCancelled:Cn,onBeforeLeave:Cn,onLeave:Cn,onAfterLeave:Cn,onLeaveCancelled:Cn,onBeforeAppear:Cn,onAppear:Cn,onAfterAppear:Cn,onAppearCancelled:Cn},tD={name:"BaseTransition",props:KT,setup(r,{slots:e}){const n=Bm(),i=zT();return()=>{const t=e.default&&Im(e.default(),!0);if(!t||!t.length)return;let a=t[0];if(t.length>1){for(const y of t)if(y.type!==mn){a=y;break}}const s=ht(r),{mode:l}=s;if(i.isLeaving)return Ep(a);const c=A_(a);if(!c)return Ep(a);const f=ol(c,s,i,n);go(c,f);const h=n.subTree,v=h&&A_(h);if(v&&v.type!==mn&&!wa(c,v)){const y=ol(v,s,i,n);if(go(v,y),l==="out-in"&&c.type!==mn)return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ep(a);l==="in-out"&&c.type!==mn&&(y.delayLeave=(x,C,k)=>{const P=XT(i,v);P[String(v.key)]=v,x[Ta]=()=>{C(),x[Ta]=void 0,delete f.delayedLeave},f.delayedLeave=k})}return a}}},rD=tD;function XT(r,e){const{leavingVNodes:n}=r;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function ol(r,e,n,i){const{appear:t,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:v,onLeave:y,onAfterLeave:x,onLeaveCancelled:C,onBeforeAppear:k,onAppear:P,onAfterAppear:R,onAppearCancelled:F}=e,B=String(r.key),H=XT(n,r),K=(U,z)=>{U&&kn(U,i,9,z)},Y=(U,z)=>{const Z=z[1];K(U,z),Xe(U)?U.every(se=>se.length<=1)&&Z():U.length<=1&&Z()},Q={mode:a,persisted:s,beforeEnter(U){let z=l;if(!n.isMounted)if(t)z=k||l;else return;U[Ta]&&U[Ta](!0);const Z=H[B];Z&&wa(r,Z)&&Z.el[Ta]&&Z.el[Ta](),K(z,[U])},enter(U){let z=c,Z=f,se=h;if(!n.isMounted)if(t)z=P||c,Z=R||f,se=F||h;else return;let te=!1;const ce=U[$c]=Fe=>{te||(te=!0,Fe?K(se,[U]):K(Z,[U]),Q.delayedLeave&&Q.delayedLeave(),U[$c]=void 0)};z?Y(z,[U,ce]):ce()},leave(U,z){const Z=String(r.key);if(U[$c]&&U[$c](!0),n.isUnmounting)return z();K(v,[U]);let se=!1;const te=U[Ta]=ce=>{se||(se=!0,z(),ce?K(C,[U]):K(x,[U]),U[Ta]=void 0,H[Z]===r&&delete H[Z])};H[Z]=r,y?Y(y,[U,te]):te()},clone(U){return ol(U,e,n,i)}};return Q}function Ep(r){if(df(r))return r=ji(r),r.children=null,r}function A_(r){if(!df(r))return r;const{shapeFlag:e,children:n}=r;if(n){if(e&16)return n[0];if(e&32&&rt(n.default))return n.default()}}function go(r,e){r.shapeFlag&6&&r.component?go(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Im(r,e=!1,n){let i=[],t=0;for(let a=0;a<r.length;a++){let s=r[a];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===hn?(s.patchFlag&128&&t++,i=i.concat(Im(s.children,e,l))):(e||s.type!==mn)&&i.push(l!=null?ji(s,{key:l}):s)}if(t>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Dl(r,e){return rt(r)?(()=>Yt({name:r.name},e,{setup:r}))():r}const uo=r=>!!r.type.__asyncLoader,df=r=>r.type.__isKeepAlive,nD={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:e}){const n=Bm(),i=n.ctx;if(!i.renderer)return()=>{const F=e.default&&e.default();return F&&F.length===1?F[0]:F};const t=new Map,a=new Set;let s=null;const l=n.suspense,{renderer:{p:c,m:f,um:h,o:{createElement:v}}}=i,y=v("div");i.activate=(F,B,H,K,Y)=>{const Q=F.component;f(F,B,H,0,l),c(Q.vnode,F,B,H,Q,l,K,F.slotScopeIds,Y),xr(()=>{Q.isDeactivated=!1,Q.a&&Gu(Q.a);const U=F.props&&F.props.onVnodeMounted;U&&Dn(U,Q.parent,F)},l)},i.deactivate=F=>{const B=F.component;f(F,y,null,1,l),xr(()=>{B.da&&Gu(B.da);const H=F.props&&F.props.onVnodeUnmounted;H&&Dn(H,B.parent,F),B.isDeactivated=!0},l)};function x(F){wp(F),h(F,n,l,!0)}function C(F){t.forEach((B,H)=>{const K=Sg(B.type);K&&(!F||!F(K))&&k(H)})}function k(F){const B=t.get(F);!s||!wa(B,s)?x(B):s&&wp(s),t.delete(F),a.delete(F)}fi(()=>[r.include,r.exclude],([F,B])=>{F&&C(H=>Mu(F,H)),B&&C(H=>!Mu(B,H))},{flush:"post",deep:!0});let P=null;const R=()=>{P!=null&&t.set(P,Cp(n.subTree))};return kl(R),Om(R),hf(()=>{t.forEach(F=>{const{subTree:B,suspense:H}=n,K=Cp(B);if(F.type===K.type&&F.key===K.key){wp(K);const Y=K.component.da;Y&&xr(Y,H);return}x(F)})}),()=>{if(P=null,!e.default)return null;const F=e.default(),B=F[0];if(F.length>1)return s=null,F;if(!ll(B)||!(B.shapeFlag&4)&&!(B.shapeFlag&128))return s=null,B;let H=Cp(B);const K=H.type,Y=Sg(uo(H)?H.type.__asyncResolved||{}:K),{include:Q,exclude:U,max:z}=r;if(Q&&(!Y||!Mu(Q,Y))||U&&Y&&Mu(U,Y))return s=H,B;const Z=H.key==null?K:H.key,se=t.get(Z);return H.el&&(H=ji(H),B.shapeFlag&128&&(B.ssContent=H)),P=Z,se?(H.el=se.el,H.component=se.component,H.transition&&go(H,H.transition),H.shapeFlag|=512,a.delete(Z),a.add(Z)):(a.add(Z),z&&a.size>parseInt(z,10)&&k(a.values().next().value)),H.shapeFlag|=256,s=H,$T(B.type)?B:H}}},aM=nD;function Mu(r,e){return Xe(r)?r.some(n=>Mu(n,e)):Vt(r)?r.split(",").includes(e):eA(r)?r.test(e):!1}function iD(r,e){JT(r,"a",e)}function aD(r,e){JT(r,"da",e)}function JT(r,e,n=gr){const i=r.__wdc||(r.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return r()});if(ff(e,i,n),n){let t=n.parent;for(;t&&t.parent;)df(t.parent.vnode)&&sD(i,e,n,t),t=t.parent}}function sD(r,e,n,i){const t=ff(e,r,i,!0);pf(()=>{gm(i[e],t)},n)}function wp(r){r.shapeFlag&=-257,r.shapeFlag&=-513}function Cp(r){return r.shapeFlag&128?r.ssContent:r}function ff(r,e,n=gr,i=!1){if(n){const t=n[r]||(n[r]=[]),a=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Oa();const l=Pl(n),c=kn(e,n,r,s);return l(),La(),c});return i?t.unshift(a):t.push(a),a}}const Gi=r=>(e,n=gr)=>(!vf||r==="sp")&&ff(r,(...i)=>e(...i),n),oD=Gi("bm"),kl=Gi("m"),uD=Gi("bu"),Om=Gi("u"),hf=Gi("bum"),pf=Gi("um"),lD=Gi("sp"),cD=Gi("rtg"),dD=Gi("rtc");function fD(r,e=gr){ff("ec",r,e)}function sM(r,e,n,i){let t;const a=n&&n[i];if(Xe(r)||Vt(r)){t=new Array(r.length);for(let s=0,l=r.length;s<l;s++)t[s]=e(r[s],s,void 0,a&&a[s])}else if(typeof r=="number"){t=new Array(r);for(let s=0;s<r;s++)t[s]=e(s+1,s,void 0,a&&a[s])}else if(Ot(r))if(r[Symbol.iterator])t=Array.from(r,(s,l)=>e(s,l,void 0,a&&a[l]));else{const s=Object.keys(r);t=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const f=s[l];t[l]=e(r[f],f,l,a&&a[l])}}else t=[];return n&&(n[i]=t),t}function oM(r,e,n={},i,t){if(tr.isCE||tr.parent&&uo(tr.parent)&&tr.parent.isCE)return e!=="default"&&(n.name=e),Nr("slot",n,i&&i());let a=r[e];a&&a._c&&(a._d=!1),mf();const s=a&&YT(a(n)),l=Fm(hn,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&r._===1?64:-2);return!t&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function YT(r){return r.some(e=>ll(e)?!(e.type===mn||e.type===hn&&!YT(e.children)):!0)?r:null}const gg=r=>r?hS(r)?_f(r)||r.proxy:gg(r.parent):null,zu=Yt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>gg(r.parent),$root:r=>gg(r.root),$emit:r=>r.emit,$options:r=>Lm(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,Dm(r.update)}),$nextTick:r=>r.n||(r.n=Am.bind(r.proxy)),$watch:r=>eD.bind(r)}),Ap=(r,e)=>r!==Lt&&!r.__isScriptSetup&&gt(r,e),hD={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:t,props:a,accessCache:s,type:l,appContext:c}=r;let f;if(e[0]!=="$"){const x=s[e];if(x!==void 0)switch(x){case 1:return i[e];case 2:return t[e];case 4:return n[e];case 3:return a[e]}else{if(Ap(i,e))return s[e]=1,i[e];if(t!==Lt&&gt(t,e))return s[e]=2,t[e];if((f=r.propsOptions[0])&&gt(f,e))return s[e]=3,a[e];if(n!==Lt&&gt(n,e))return s[e]=4,n[e];mg&&(s[e]=0)}}const h=zu[e];let v,y;if(h)return e==="$attrs"&&rn(r.attrs,"get",""),h(r);if((v=l.__cssModules)&&(v=v[e]))return v;if(n!==Lt&&gt(n,e))return s[e]=4,n[e];if(y=c.config.globalProperties,gt(y,e))return y[e]},set({_:r},e,n){const{data:i,setupState:t,ctx:a}=r;return Ap(t,e)?(t[e]=n,!0):i!==Lt&&gt(i,e)?(i[e]=n,!0):gt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(a[e]=n,!0)},has({_:{data:r,setupState:e,accessCache:n,ctx:i,appContext:t,propsOptions:a}},s){let l;return!!n[s]||r!==Lt&&gt(r,s)||Ap(e,s)||(l=a[0])&&gt(l,s)||gt(i,s)||gt(zu,s)||gt(t.config.globalProperties,s)},defineProperty(r,e,n){return n.get!=null?r._.accessCache[e]=0:gt(n,"value")&&this.set(r,e,n.value,null),Reflect.defineProperty(r,e,n)}};function D_(r){return Xe(r)?r.reduce((e,n)=>(e[n]=null,e),{}):r}let mg=!0;function pD(r){const e=Lm(r),n=r.proxy,i=r.ctx;mg=!1,e.beforeCreate&&k_(e.beforeCreate,r,"bc");const{data:t,computed:a,methods:s,watch:l,provide:c,inject:f,created:h,beforeMount:v,mounted:y,beforeUpdate:x,updated:C,activated:k,deactivated:P,beforeDestroy:R,beforeUnmount:F,destroyed:B,unmounted:H,render:K,renderTracked:Y,renderTriggered:Q,errorCaptured:U,serverPrefetch:z,expose:Z,inheritAttrs:se,components:te,directives:ce,filters:Fe}=e;if(f&&gD(f,i,null),s)for(const De in s){const Me=s[De];rt(Me)&&(i[De]=Me.bind(n))}if(t){const De=t.call(n,n);Ot(De)&&(r.data=Al(De))}if(mg=!0,a)for(const De in a){const Me=a[De],_t=rt(Me)?Me.bind(n,n):rt(Me.get)?Me.get.bind(n,n):gn,at=!rt(Me)&&rt(Me.set)?Me.set.bind(n):gn,or=Hr({get:_t,set:at});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>or.value,set:yt=>or.value=yt})}if(l)for(const De in l)QT(l[De],i,n,De);if(c){const De=rt(c)?c.call(n):c;Reflect.ownKeys(De).forEach(Me=>{ud(Me,De[Me])})}h&&k_(h,r,"c");function ve(De,Me){Xe(Me)?Me.forEach(_t=>De(_t.bind(n))):Me&&De(Me.bind(n))}if(ve(oD,v),ve(kl,y),ve(uD,x),ve(Om,C),ve(iD,k),ve(aD,P),ve(fD,U),ve(dD,Y),ve(cD,Q),ve(hf,F),ve(pf,H),ve(lD,z),Xe(Z))if(Z.length){const De=r.exposed||(r.exposed={});Z.forEach(Me=>{Object.defineProperty(De,Me,{get:()=>n[Me],set:_t=>n[Me]=_t})})}else r.exposed||(r.exposed={});K&&r.render===gn&&(r.render=K),se!=null&&(r.inheritAttrs=se),te&&(r.components=te),ce&&(r.directives=ce)}function gD(r,e,n=gn){Xe(r)&&(r=vg(r));for(const i in r){const t=r[i];let a;Ot(t)?"default"in t?a=tn(t.from||i,t.default,!0):a=tn(t.from||i):a=tn(t),nr(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[i]=a}}function k_(r,e,n){kn(Xe(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,n)}function QT(r,e,n,i){const t=i.includes(".")?GT(n,i):()=>n[i];if(Vt(r)){const a=e[r];rt(a)&&fi(t,a)}else if(rt(r))fi(t,r.bind(n));else if(Ot(r))if(Xe(r))r.forEach(a=>QT(a,e,n,i));else{const a=rt(r.handler)?r.handler.bind(n):e[r.handler];rt(a)&&fi(t,a,r)}}function Lm(r){const e=r.type,{mixins:n,extends:i}=e,{mixins:t,optionsCache:a,config:{optionMergeStrategies:s}}=r.appContext,l=a.get(e);let c;return l?c=l:!t.length&&!n&&!i?c=e:(c={},t.length&&t.forEach(f=>wd(c,f,s,!0)),wd(c,e,s)),Ot(e)&&a.set(e,c),c}function wd(r,e,n,i=!1){const{mixins:t,extends:a}=e;a&&wd(r,a,n,!0),t&&t.forEach(s=>wd(r,s,n,!0));for(const s in e)if(!(i&&s==="expose")){const l=mD[s]||n&&n[s];r[s]=l?l(r[s],e[s]):e[s]}return r}const mD={data:P_,props:I_,emits:I_,methods:Bu,computed:Bu,beforeCreate:Ur,created:Ur,beforeMount:Ur,mounted:Ur,beforeUpdate:Ur,updated:Ur,beforeDestroy:Ur,beforeUnmount:Ur,destroyed:Ur,unmounted:Ur,activated:Ur,deactivated:Ur,errorCaptured:Ur,serverPrefetch:Ur,components:Bu,directives:Bu,watch:_D,provide:P_,inject:vD};function P_(r,e){return e?r?function(){return Yt(rt(r)?r.call(this,this):r,rt(e)?e.call(this,this):e)}:e:r}function vD(r,e){return Bu(vg(r),vg(e))}function vg(r){if(Xe(r)){const e={};for(let n=0;n<r.length;n++)e[r[n]]=r[n];return e}return r}function Ur(r,e){return r?[...new Set([].concat(r,e))]:e}function Bu(r,e){return r?Yt(Object.create(null),r,e):e}function I_(r,e){return r?Xe(r)&&Xe(e)?[...new Set([...r,...e])]:Yt(Object.create(null),D_(r),D_(e!=null?e:{})):e}function _D(r,e){if(!r)return e;if(!e)return r;const n=Yt(Object.create(null),r);for(const i in e)n[i]=Ur(r[i],e[i]);return n}function ZT(){return{app:null,config:{isNativeTag:QC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yD=0;function bD(r,e){return function(i,t=null){rt(i)||(i=Yt({},i)),t!=null&&!Ot(t)&&(t=null);const a=ZT(),s=new WeakSet;let l=!1;const c=a.app={_uid:yD++,_component:i,_props:t,_container:null,_context:a,_instance:null,version:XD,get config(){return a.config},set config(f){},use(f,...h){return s.has(f)||(f&&rt(f.install)?(s.add(f),f.install(c,...h)):rt(f)&&(s.add(f),f(c,...h))),c},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),c},component(f,h){return h?(a.components[f]=h,c):a.components[f]},directive(f,h){return h?(a.directives[f]=h,c):a.directives[f]},mount(f,h,v){if(!l){const y=Nr(i,t);return y.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),h&&e?e(y,f):r(y,f,v),l=!0,c._container=f,f.__vue_app__=c,_f(y.component)||y.component.proxy}},unmount(){l&&(r(null,c._container),delete c._container.__vue_app__)},provide(f,h){return a.provides[f]=h,c},runWithContext(f){const h=lo;lo=c;try{return f()}finally{lo=h}}};return c}}let lo=null;function ud(r,e){if(gr){let n=gr.provides;const i=gr.parent&&gr.parent.provides;i===n&&(n=gr.provides=Object.create(i)),n[r]=e}}function tn(r,e,n=!1){const i=gr||tr;if(i||lo){const t=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:lo._context.provides;if(t&&r in t)return t[r];if(arguments.length>1)return n&&rt(e)?e.call(i&&i.proxy):e}}function TD(){return!!(gr||tr||lo)}const eS={},tS=()=>Object.create(eS),rS=r=>Object.getPrototypeOf(r)===eS;function SD(r,e,n,i=!1){const t={},a=tS();r.propsDefaults=Object.create(null),nS(r,e,t,a);for(const s in r.propsOptions[0])s in t||(t[s]=void 0);n?r.props=i?t:PT(t):r.type.props?r.props=t:r.props=a,r.attrs=a}function xD(r,e,n,i){const{props:t,attrs:a,vnode:{patchFlag:s}}=r,l=ht(t),[c]=r.propsOptions;let f=!1;if((i||s>0)&&!(s&16)){if(s&8){const h=r.vnode.dynamicProps;for(let v=0;v<h.length;v++){let y=h[v];if(lf(r.emitsOptions,y))continue;const x=e[y];if(c)if(gt(a,y))x!==a[y]&&(a[y]=x,f=!0);else{const C=mi(y);t[C]=_g(c,l,C,x,r,!1)}else x!==a[y]&&(a[y]=x,f=!0)}}}else{nS(r,e,t,a)&&(f=!0);let h;for(const v in l)(!e||!gt(e,v)&&((h=Oo(v))===v||!gt(e,h)))&&(c?n&&(n[v]!==void 0||n[h]!==void 0)&&(t[v]=_g(c,l,v,void 0,r,!0)):delete t[v]);if(a!==l)for(const v in a)(!e||!gt(e,v)&&!0)&&(delete a[v],f=!0)}f&&Fi(r.attrs,"set","")}function nS(r,e,n,i){const[t,a]=r.propsOptions;let s=!1,l;if(e)for(let c in e){if(Wu(c))continue;const f=e[c];let h;t&&gt(t,h=mi(c))?!a||!a.includes(h)?n[h]=f:(l||(l={}))[h]=f:lf(r.emitsOptions,c)||(!(c in i)||f!==i[c])&&(i[c]=f,s=!0)}if(a){const c=ht(n),f=l||Lt;for(let h=0;h<a.length;h++){const v=a[h];n[v]=_g(t,c,v,f[v],r,!gt(f,v))}}return s}function _g(r,e,n,i,t,a){const s=r[n];if(s!=null){const l=gt(s,"default");if(l&&i===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&rt(c)){const{propsDefaults:f}=t;if(n in f)i=f[n];else{const h=Pl(t);i=f[n]=c.call(null,e),h()}}else i=c}s[0]&&(a&&!l?i=!1:s[1]&&(i===""||i===Oo(n))&&(i=!0))}return i}function iS(r,e,n=!1){const i=e.propsCache,t=i.get(r);if(t)return t;const a=r.props,s={},l=[];let c=!1;if(!rt(r)){const h=v=>{c=!0;const[y,x]=iS(v,e,!0);Yt(s,y),x&&l.push(...x)};!n&&e.mixins.length&&e.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}if(!a&&!c)return Ot(r)&&i.set(r,io),io;if(Xe(a))for(let h=0;h<a.length;h++){const v=mi(a[h]);O_(v)&&(s[v]=Lt)}else if(a)for(const h in a){const v=mi(h);if(O_(v)){const y=a[h],x=s[v]=Xe(y)||rt(y)?{type:y}:Yt({},y);if(x){const C=N_(Boolean,x.type),k=N_(String,x.type);x[0]=C>-1,x[1]=k<0||C<k,(C>-1||gt(x,"default"))&&l.push(v)}}}const f=[s,l];return Ot(r)&&i.set(r,f),f}function O_(r){return r[0]!=="$"&&!Wu(r)}function L_(r){return r===null?"null":typeof r=="function"?r.name||"":typeof r=="object"&&r.constructor&&r.constructor.name||""}function R_(r,e){return L_(r)===L_(e)}function N_(r,e){return Xe(e)?e.findIndex(n=>R_(n,r)):rt(e)&&R_(e,r)?0:-1}const aS=r=>r[0]==="_"||r==="$stable",Rm=r=>Xe(r)?r.map(si):[si(r)],ED=(r,e,n)=>{if(e._n)return e;const i=GA((...t)=>Rm(e(...t)),n);return i._c=!1,i},sS=(r,e,n)=>{const i=r._ctx;for(const t in r){if(aS(t))continue;const a=r[t];if(rt(a))e[t]=ED(t,a,i);else if(a!=null){const s=Rm(a);e[t]=()=>s}}},oS=(r,e)=>{const n=Rm(e);r.slots.default=()=>n},wD=(r,e)=>{const n=r.slots=tS();if(r.vnode.shapeFlag&32){const i=e._;i?(Yt(n,e),hT(n,"_",i,!0)):sS(e,n)}else e&&oS(r,e)},CD=(r,e,n)=>{const{vnode:i,slots:t}=r;let a=!0,s=Lt;if(i.shapeFlag&32){const l=e._;l?n&&l===1?a=!1:(Yt(t,e),!n&&l===1&&delete t._):(a=!e.$stable,sS(e,t)),s=e}else e&&(oS(r,e),s={default:1});if(a)for(const l in t)!aS(l)&&s[l]==null&&delete t[l]};function yg(r,e,n,i,t=!1){if(Xe(r)){r.forEach((y,x)=>yg(y,e&&(Xe(e)?e[x]:e),n,i,t));return}if(uo(i)&&!t)return;const a=i.shapeFlag&4?_f(i.component)||i.component.proxy:i.el,s=t?null:a,{i:l,r:c}=r,f=e&&e.r,h=l.refs===Lt?l.refs={}:l.refs,v=l.setupState;if(f!=null&&f!==c&&(Vt(f)?(h[f]=null,gt(v,f)&&(v[f]=null)):nr(f)&&(f.value=null)),rt(c))Aa(c,l,12,[s,h]);else{const y=Vt(c),x=nr(c);if(y||x){const C=()=>{if(r.f){const k=y?gt(v,c)?v[c]:h[c]:c.value;t?Xe(k)&&gm(k,a):Xe(k)?k.includes(a)||k.push(a):y?(h[c]=[a],gt(v,c)&&(v[c]=h[c])):(c.value=[a],r.k&&(h[r.k]=c.value))}else y?(h[c]=s,gt(v,c)&&(v[c]=s)):x&&(c.value=s,r.k&&(h[r.k]=s))};s?(C.id=-1,xr(C,n)):C()}}}function AD(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(vm().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const xr=YA;function DD(r){return kD(r)}function kD(r,e){AD();const n=vm();n.__VUE__=!0;const{insert:i,remove:t,patchProp:a,createElement:s,createText:l,createComment:c,setText:f,setElementText:h,parentNode:v,nextSibling:y,setScopeId:x=gn,insertStaticContent:C}=r,k=(j,G,ee,ue=null,ae=null,ye=null,de=void 0,be=null,he=!!G.dynamicChildren)=>{if(j===G)return;j&&!wa(j,G)&&(ue=oe(j),yt(j,ae,ye,!0),j=null),G.patchFlag===-2&&(he=!1,G.dynamicChildren=null);const{type:pe,ref:Le,shapeFlag:je}=G;switch(pe){case gf:P(j,G,ee,ue);break;case mn:R(j,G,ee,ue);break;case ld:j==null&&F(G,ee,ue,de);break;case hn:te(j,G,ee,ue,ae,ye,de,be,he);break;default:je&1?K(j,G,ee,ue,ae,ye,de,be,he):je&6?ce(j,G,ee,ue,ae,ye,de,be,he):(je&64||je&128)&&pe.process(j,G,ee,ue,ae,ye,de,be,he,Ne)}Le!=null&&ae&&yg(Le,j&&j.ref,ye,G||j,!G)},P=(j,G,ee,ue)=>{if(j==null)i(G.el=l(G.children),ee,ue);else{const ae=G.el=j.el;G.children!==j.children&&f(ae,G.children)}},R=(j,G,ee,ue)=>{j==null?i(G.el=c(G.children||""),ee,ue):G.el=j.el},F=(j,G,ee,ue)=>{[j.el,j.anchor]=C(j.children,G,ee,ue,j.el,j.anchor)},B=({el:j,anchor:G},ee,ue)=>{let ae;for(;j&&j!==G;)ae=y(j),i(j,ee,ue),j=ae;i(G,ee,ue)},H=({el:j,anchor:G})=>{let ee;for(;j&&j!==G;)ee=y(j),t(j),j=ee;t(G)},K=(j,G,ee,ue,ae,ye,de,be,he)=>{G.type==="svg"?de="svg":G.type==="math"&&(de="mathml"),j==null?Y(G,ee,ue,ae,ye,de,be,he):z(j,G,ae,ye,de,be,he)},Y=(j,G,ee,ue,ae,ye,de,be)=>{let he,pe;const{props:Le,shapeFlag:je,transition:ke,dirs:$e}=j;if(he=j.el=s(j.type,ye,Le&&Le.is,Le),je&8?h(he,j.children):je&16&&U(j.children,he,null,ue,ae,Dp(j,ye),de,be),$e&&es(j,null,ue,"created"),Q(he,j,j.scopeId,de,ue),Le){for(const ct in Le)ct!=="value"&&!Wu(ct)&&a(he,ct,null,Le[ct],ye,j.children,ue,ae,mt);"value"in Le&&a(he,"value",null,Le.value,ye),(pe=Le.onVnodeBeforeMount)&&Dn(pe,ue,j)}$e&&es(j,null,ue,"beforeMount");const nt=PD(ae,ke);nt&&ke.beforeEnter(he),i(he,G,ee),((pe=Le&&Le.onVnodeMounted)||nt||$e)&&xr(()=>{pe&&Dn(pe,ue,j),nt&&ke.enter(he),$e&&es(j,null,ue,"mounted")},ae)},Q=(j,G,ee,ue,ae)=>{if(ee&&x(j,ee),ue)for(let ye=0;ye<ue.length;ye++)x(j,ue[ye]);if(ae){let ye=ae.subTree;if(G===ye){const de=ae.vnode;Q(j,de,de.scopeId,de.slotScopeIds,ae.parent)}}},U=(j,G,ee,ue,ae,ye,de,be,he=0)=>{for(let pe=he;pe<j.length;pe++){const Le=j[pe]=be?Sa(j[pe]):si(j[pe]);k(null,Le,G,ee,ue,ae,ye,de,be)}},z=(j,G,ee,ue,ae,ye,de)=>{const be=G.el=j.el;let{patchFlag:he,dynamicChildren:pe,dirs:Le}=G;he|=j.patchFlag&16;const je=j.props||Lt,ke=G.props||Lt;let $e;if(ee&&ts(ee,!1),($e=ke.onVnodeBeforeUpdate)&&Dn($e,ee,G,j),Le&&es(G,j,ee,"beforeUpdate"),ee&&ts(ee,!0),pe?Z(j.dynamicChildren,pe,be,ee,ue,Dp(G,ae),ye):de||Me(j,G,be,null,ee,ue,Dp(G,ae),ye,!1),he>0){if(he&16)se(be,G,je,ke,ee,ue,ae);else if(he&2&&je.class!==ke.class&&a(be,"class",null,ke.class,ae),he&4&&a(be,"style",je.style,ke.style,ae),he&8){const nt=G.dynamicProps;for(let ct=0;ct<nt.length;ct++){const lt=nt[ct],jt=je[lt],Qe=ke[lt];(Qe!==jt||lt==="value")&&a(be,lt,jt,Qe,ae,j.children,ee,ue,mt)}}he&1&&j.children!==G.children&&h(be,G.children)}else!de&&pe==null&&se(be,G,je,ke,ee,ue,ae);(($e=ke.onVnodeUpdated)||Le)&&xr(()=>{$e&&Dn($e,ee,G,j),Le&&es(G,j,ee,"updated")},ue)},Z=(j,G,ee,ue,ae,ye,de)=>{for(let be=0;be<G.length;be++){const he=j[be],pe=G[be],Le=he.el&&(he.type===hn||!wa(he,pe)||he.shapeFlag&70)?v(he.el):ee;k(he,pe,Le,null,ue,ae,ye,de,!0)}},se=(j,G,ee,ue,ae,ye,de)=>{if(ee!==ue){if(ee!==Lt)for(const be in ee)!Wu(be)&&!(be in ue)&&a(j,be,ee[be],null,de,G.children,ae,ye,mt);for(const be in ue){if(Wu(be))continue;const he=ue[be],pe=ee[be];he!==pe&&be!=="value"&&a(j,be,pe,he,de,G.children,ae,ye,mt)}"value"in ue&&a(j,"value",ee.value,ue.value,de)}},te=(j,G,ee,ue,ae,ye,de,be,he)=>{const pe=G.el=j?j.el:l(""),Le=G.anchor=j?j.anchor:l("");let{patchFlag:je,dynamicChildren:ke,slotScopeIds:$e}=G;$e&&(be=be?be.concat($e):$e),j==null?(i(pe,ee,ue),i(Le,ee,ue),U(G.children||[],ee,Le,ae,ye,de,be,he)):je>0&&je&64&&ke&&j.dynamicChildren?(Z(j.dynamicChildren,ke,ee,ae,ye,de,be),(G.key!=null||ae&&G===ae.subTree)&&Nm(j,G,!0)):Me(j,G,ee,Le,ae,ye,de,be,he)},ce=(j,G,ee,ue,ae,ye,de,be,he)=>{G.slotScopeIds=be,j==null?G.shapeFlag&512?ae.ctx.activate(G,ee,ue,de,he):Fe(G,ee,ue,ae,ye,de,he):Ue(j,G,he)},Fe=(j,G,ee,ue,ae,ye,de)=>{const be=j.component=qD(j,ue,ae);if(df(j)&&(be.ctx.renderer=Ne),$D(be),be.asyncDep){if(ae&&ae.registerDep(be,ve),!j.el){const he=be.subTree=Nr(mn);R(null,he,G,ee)}}else ve(be,j,G,ee,ae,ye,de)},Ue=(j,G,ee)=>{const ue=G.component=j.component;if(XA(j,G,ee))if(ue.asyncDep&&!ue.asyncResolved){De(ue,G,ee);return}else ue.next=G,VA(ue.update),ue.effect.dirty=!0,ue.update();else G.el=j.el,ue.vnode=G},ve=(j,G,ee,ue,ae,ye,de)=>{const be=()=>{if(j.isMounted){let{next:Le,bu:je,u:ke,parent:$e,vnode:nt}=j;{const Ln=uS(j);if(Ln){Le&&(Le.el=nt.el,De(j,Le,de)),Ln.asyncDep.then(()=>{j.isUnmounted||be()});return}}let ct=Le,lt;ts(j,!1),Le?(Le.el=nt.el,De(j,Le,de)):Le=nt,je&&Gu(je),(lt=Le.props&&Le.props.onVnodeBeforeUpdate)&&Dn(lt,$e,Le,nt),ts(j,!0);const jt=xp(j),Qe=j.subTree;j.subTree=jt,k(Qe,jt,v(Qe.el),oe(Qe),j,ae,ye),Le.el=jt.el,ct===null&&JA(j,jt.el),ke&&xr(ke,ae),(lt=Le.props&&Le.props.onVnodeUpdated)&&xr(()=>Dn(lt,$e,Le,nt),ae)}else{let Le;const{el:je,props:ke}=G,{bm:$e,m:nt,parent:ct}=j,lt=uo(G);if(ts(j,!1),$e&&Gu($e),!lt&&(Le=ke&&ke.onVnodeBeforeMount)&&Dn(Le,ct,G),ts(j,!0),je&&Tt){const jt=()=>{j.subTree=xp(j),Tt(je,j.subTree,j,ae,null)};lt?G.type.__asyncLoader().then(()=>!j.isUnmounted&&jt()):jt()}else{const jt=j.subTree=xp(j);k(null,jt,ee,ue,j,ae,ye),G.el=jt.el}if(nt&&xr(nt,ae),!lt&&(Le=ke&&ke.onVnodeMounted)){const jt=G;xr(()=>Dn(Le,ct,jt),ae)}(G.shapeFlag&256||ct&&uo(ct.vnode)&&ct.vnode.shapeFlag&256)&&j.a&&xr(j.a,ae),j.isMounted=!0,G=ee=ue=null}},he=j.effect=new _m(be,gn,()=>Dm(pe),j.scope),pe=j.update=()=>{he.dirty&&he.run()};pe.id=j.uid,ts(j,!0),pe()},De=(j,G,ee)=>{G.component=j;const ue=j.vnode.props;j.vnode=G,j.next=null,xD(j,G.props,ue,ee),CD(j,G.children,ee),Oa(),E_(j),La()},Me=(j,G,ee,ue,ae,ye,de,be,he=!1)=>{const pe=j&&j.children,Le=j?j.shapeFlag:0,je=G.children,{patchFlag:ke,shapeFlag:$e}=G;if(ke>0){if(ke&128){at(pe,je,ee,ue,ae,ye,de,be,he);return}else if(ke&256){_t(pe,je,ee,ue,ae,ye,de,be,he);return}}$e&8?(Le&16&&mt(pe,ae,ye),je!==pe&&h(ee,je)):Le&16?$e&16?at(pe,je,ee,ue,ae,ye,de,be,he):mt(pe,ae,ye,!0):(Le&8&&h(ee,""),$e&16&&U(je,ee,ue,ae,ye,de,be,he))},_t=(j,G,ee,ue,ae,ye,de,be,he)=>{j=j||io,G=G||io;const pe=j.length,Le=G.length,je=Math.min(pe,Le);let ke;for(ke=0;ke<je;ke++){const $e=G[ke]=he?Sa(G[ke]):si(G[ke]);k(j[ke],$e,ee,null,ae,ye,de,be,he)}pe>Le?mt(j,ae,ye,!0,!1,je):U(G,ee,ue,ae,ye,de,be,he,je)},at=(j,G,ee,ue,ae,ye,de,be,he)=>{let pe=0;const Le=G.length;let je=j.length-1,ke=Le-1;for(;pe<=je&&pe<=ke;){const $e=j[pe],nt=G[pe]=he?Sa(G[pe]):si(G[pe]);if(wa($e,nt))k($e,nt,ee,null,ae,ye,de,be,he);else break;pe++}for(;pe<=je&&pe<=ke;){const $e=j[je],nt=G[ke]=he?Sa(G[ke]):si(G[ke]);if(wa($e,nt))k($e,nt,ee,null,ae,ye,de,be,he);else break;je--,ke--}if(pe>je){if(pe<=ke){const $e=ke+1,nt=$e<Le?G[$e].el:ue;for(;pe<=ke;)k(null,G[pe]=he?Sa(G[pe]):si(G[pe]),ee,nt,ae,ye,de,be,he),pe++}}else if(pe>ke)for(;pe<=je;)yt(j[pe],ae,ye,!0),pe++;else{const $e=pe,nt=pe,ct=new Map;for(pe=nt;pe<=ke;pe++){const lr=G[pe]=he?Sa(G[pe]):si(G[pe]);lr.key!=null&&ct.set(lr.key,pe)}let lt,jt=0;const Qe=ke-nt+1;let Ln=!1,Na=0;const _n=new Array(Qe);for(pe=0;pe<Qe;pe++)_n[pe]=0;for(pe=$e;pe<=je;pe++){const lr=j[pe];if(jt>=Qe){yt(lr,ae,ye,!0);continue}let cr;if(lr.key!=null)cr=ct.get(lr.key);else for(lt=nt;lt<=ke;lt++)if(_n[lt-nt]===0&&wa(lr,G[lt])){cr=lt;break}cr===void 0?yt(lr,ae,ye,!0):(_n[cr-nt]=pe+1,cr>=Na?Na=cr:Ln=!0,k(lr,G[cr],ee,null,ae,ye,de,be,he),jt++)}const Ss=Ln?ID(_n):io;for(lt=Ss.length-1,pe=Qe-1;pe>=0;pe--){const lr=nt+pe,cr=G[lr],Yi=lr+1<Le?G[lr+1].el:ue;_n[pe]===0?k(null,cr,ee,Yi,ae,ye,de,be,he):Ln&&(lt<0||pe!==Ss[lt]?or(cr,ee,Yi,2):lt--)}}},or=(j,G,ee,ue,ae=null)=>{const{el:ye,type:de,transition:be,children:he,shapeFlag:pe}=j;if(pe&6){or(j.component.subTree,G,ee,ue);return}if(pe&128){j.suspense.move(G,ee,ue);return}if(pe&64){de.move(j,G,ee,Ne);return}if(de===hn){i(ye,G,ee);for(let je=0;je<he.length;je++)or(he[je],G,ee,ue);i(j.anchor,G,ee);return}if(de===ld){B(j,G,ee);return}if(ue!==2&&pe&1&&be)if(ue===0)be.beforeEnter(ye),i(ye,G,ee),xr(()=>be.enter(ye),ae);else{const{leave:je,delayLeave:ke,afterLeave:$e}=be,nt=()=>i(ye,G,ee),ct=()=>{je(ye,()=>{nt(),$e&&$e()})};ke?ke(ye,nt,ct):ct()}else i(ye,G,ee)},yt=(j,G,ee,ue=!1,ae=!1)=>{const{type:ye,props:de,ref:be,children:he,dynamicChildren:pe,shapeFlag:Le,patchFlag:je,dirs:ke}=j;if(be!=null&&yg(be,null,ee,j,!0),Le&256){G.ctx.deactivate(j);return}const $e=Le&1&&ke,nt=!uo(j);let ct;if(nt&&(ct=de&&de.onVnodeBeforeUnmount)&&Dn(ct,G,j),Le&6)Ar(j.component,ee,ue);else{if(Le&128){j.suspense.unmount(ee,ue);return}$e&&es(j,null,G,"beforeUnmount"),Le&64?j.type.remove(j,G,ee,ae,Ne,ue):pe&&(ye!==hn||je>0&&je&64)?mt(pe,G,ee,!1,!0):(ye===hn&&je&384||!ae&&Le&16)&&mt(he,G,ee),ue&&ur(j)}(nt&&(ct=de&&de.onVnodeUnmounted)||$e)&&xr(()=>{ct&&Dn(ct,G,j),$e&&es(j,null,G,"unmounted")},ee)},ur=j=>{const{type:G,el:ee,anchor:ue,transition:ae}=j;if(G===hn){yr(ee,ue);return}if(G===ld){H(j);return}const ye=()=>{t(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(j.shapeFlag&1&&ae&&!ae.persisted){const{leave:de,delayLeave:be}=ae,he=()=>de(ee,ye);be?be(j.el,ye,he):he()}else ye()},yr=(j,G)=>{let ee;for(;j!==G;)ee=y(j),t(j),j=ee;t(G)},Ar=(j,G,ee)=>{const{bum:ue,scope:ae,update:ye,subTree:de,um:be}=j;ue&&Gu(ue),ae.stop(),ye&&(ye.active=!1,yt(de,j,G,ee)),be&&xr(be,G),xr(()=>{j.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},mt=(j,G,ee,ue=!1,ae=!1,ye=0)=>{for(let de=ye;de<j.length;de++)yt(j[de],G,ee,ue,ae)},oe=j=>j.shapeFlag&6?oe(j.component.subTree):j.shapeFlag&128?j.suspense.next():y(j.anchor||j.el);let xe=!1;const we=(j,G,ee)=>{j==null?G._vnode&&yt(G._vnode,null,null,!0):k(G._vnode||null,j,G,null,null,null,ee),xe||(xe=!0,E_(),UT(),xe=!1),G._vnode=j},Ne={p:k,um:yt,m:or,r:ur,mt:Fe,mc:U,pc:Me,pbc:Z,n:oe,o:r};let ut,Tt;return e&&([ut,Tt]=e(Ne)),{render:we,hydrate:ut,createApp:bD(we,ut)}}function Dp({type:r,props:e},n){return n==="svg"&&r==="foreignObject"||n==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ts({effect:r,update:e},n){r.allowRecurse=e.allowRecurse=n}function PD(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Nm(r,e,n=!1){const i=r.children,t=e.children;if(Xe(i)&&Xe(t))for(let a=0;a<i.length;a++){const s=i[a];let l=t[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=t[a]=Sa(t[a]),l.el=s.el),n||Nm(s,l)),l.type===gf&&(l.el=s.el)}}function ID(r){const e=r.slice(),n=[0];let i,t,a,s,l;const c=r.length;for(i=0;i<c;i++){const f=r[i];if(f!==0){if(t=n[n.length-1],r[t]<f){e[i]=t,n.push(i);continue}for(a=0,s=n.length-1;a<s;)l=a+s>>1,r[n[l]]<f?a=l+1:s=l;f<r[n[a]]&&(a>0&&(e[i]=n[a-1]),n[a]=i)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=e[s];return n}function uS(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:uS(e)}const OD=r=>r.__isTeleport,Ku=r=>r&&(r.disabled||r.disabled===""),F_=r=>typeof SVGElement<"u"&&r instanceof SVGElement,M_=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,bg=(r,e)=>{const n=r&&r.to;return Vt(n)?e?e(n):null:n},LD={name:"Teleport",__isTeleport:!0,process(r,e,n,i,t,a,s,l,c,f){const{mc:h,pc:v,pbc:y,o:{insert:x,querySelector:C,createText:k,createComment:P}}=f,R=Ku(e.props);let{shapeFlag:F,children:B,dynamicChildren:H}=e;if(r==null){const K=e.el=k(""),Y=e.anchor=k("");x(K,n,i),x(Y,n,i);const Q=e.target=bg(e.props,C),U=e.targetAnchor=k("");Q&&(x(U,Q),s==="svg"||F_(Q)?s="svg":(s==="mathml"||M_(Q))&&(s="mathml"));const z=(Z,se)=>{F&16&&h(B,Z,se,t,a,s,l,c)};R?z(n,Y):Q&&z(Q,U)}else{e.el=r.el;const K=e.anchor=r.anchor,Y=e.target=r.target,Q=e.targetAnchor=r.targetAnchor,U=Ku(r.props),z=U?n:Y,Z=U?K:Q;if(s==="svg"||F_(Y)?s="svg":(s==="mathml"||M_(Y))&&(s="mathml"),H?(y(r.dynamicChildren,H,z,t,a,s,l),Nm(r,e,!0)):c||v(r,e,z,Z,t,a,s,l,!1),R)U?e.props&&r.props&&e.props.to!==r.props.to&&(e.props.to=r.props.to):Wc(e,n,K,f,1);else if((e.props&&e.props.to)!==(r.props&&r.props.to)){const se=e.target=bg(e.props,C);se&&Wc(e,se,null,f,0)}else U&&Wc(e,Y,Q,f,1)}lS(e)},remove(r,e,n,i,{um:t,o:{remove:a}},s){const{shapeFlag:l,children:c,anchor:f,targetAnchor:h,target:v,props:y}=r;if(v&&a(h),s&&a(f),l&16){const x=s||!Ku(y);for(let C=0;C<c.length;C++){const k=c[C];t(k,e,n,x,!!k.dynamicChildren)}}},move:Wc,hydrate:RD};function Wc(r,e,n,{o:{insert:i},m:t},a=2){a===0&&i(r.targetAnchor,e,n);const{el:s,anchor:l,shapeFlag:c,children:f,props:h}=r,v=a===2;if(v&&i(s,e,n),(!v||Ku(h))&&c&16)for(let y=0;y<f.length;y++)t(f[y],e,n,2);v&&i(l,e,n)}function RD(r,e,n,i,t,a,{o:{nextSibling:s,parentNode:l,querySelector:c}},f){const h=e.target=bg(e.props,c);if(h){const v=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Ku(e.props))e.anchor=f(s(r),e,l(r),n,i,t,a),e.targetAnchor=v;else{e.anchor=s(r);let y=v;for(;y;)if(y=s(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,h._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(v,e,h,n,i,t,a)}lS(e)}return e.anchor&&s(e.anchor)}const uM=LD;function lS(r){const e=r.ctx;if(e&&e.ut){let n=r.children[0].el;for(;n&&n!==r.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const hn=Symbol.for("v-fgt"),gf=Symbol.for("v-txt"),mn=Symbol.for("v-cmt"),ld=Symbol.for("v-stc"),Xu=[];let jn=null;function mf(r=!1){Xu.push(jn=r?null:[])}function ND(){Xu.pop(),jn=Xu[Xu.length-1]||null}let ul=1;function B_(r){ul+=r}function cS(r){return r.dynamicChildren=ul>0?jn||io:null,ND(),ul>0&&jn&&jn.push(r),r}function FD(r,e,n,i,t,a){return cS(fS(r,e,n,i,t,a,!0))}function Fm(r,e,n,i,t){return cS(Nr(r,e,n,i,t,!0))}function ll(r){return r?r.__v_isVNode===!0:!1}function wa(r,e){return r.type===e.type&&r.key===e.key}const dS=({key:r})=>r!=null?r:null,cd=({ref:r,ref_key:e,ref_for:n})=>(typeof r=="number"&&(r=""+r),r!=null?Vt(r)||nr(r)||rt(r)?{i:tr,r,k:e,f:!!n}:r:null);function fS(r,e=null,n=null,i=0,t=null,a=r===hn?0:1,s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&dS(e),ref:e&&cd(e),scopeId:cf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:tr};return l?(Mm(c,n),a&128&&r.normalize(c)):n&&(c.shapeFlag|=Vt(n)?8:16),ul>0&&!s&&jn&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&jn.push(c),c}const Nr=MD;function MD(r,e=null,n=null,i=0,t=null,a=!1){if((!r||r===VT)&&(r=mn),ll(r)){const l=ji(r,e,!0);return n&&Mm(l,n),ul>0&&!a&&jn&&(l.shapeFlag&6?jn[jn.indexOf(r)]=l:jn.push(l)),l.patchFlag|=-2,l}if(KD(r)&&(r=r.__vccOpts),e){e=BD(e);let{class:l,style:c}=e;l&&!Vt(l)&&(e.class=so(l)),Ot(c)&&(IT(c)&&!Xe(c)&&(c=Yt({},c)),e.style=sf(c))}const s=Vt(r)?1:$T(r)?128:OD(r)?64:Ot(r)?4:rt(r)?2:0;return fS(r,e,n,i,t,s,a,!0)}function BD(r){return r?IT(r)||rS(r)?Yt({},r):r:null}function ji(r,e,n=!1,i=!1){const{props:t,ref:a,patchFlag:s,children:l,transition:c}=r,f=e?jD(t||{},e):t,h={__v_isVNode:!0,__v_skip:!0,type:r.type,props:f,key:f&&dS(f),ref:e&&e.ref?n&&a?Xe(a)?a.concat(cd(e)):[a,cd(e)]:cd(e):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:l,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==hn?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:c,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&ji(r.ssContent),ssFallback:r.ssFallback&&ji(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return c&&i&&(h.transition=c.clone(h)),h}function UD(r=" ",e=0){return Nr(gf,null,r,e)}function lM(r,e){const n=Nr(ld,null,r);return n.staticCount=e,n}function cM(r="",e=!1){return e?(mf(),Fm(mn,null,r)):Nr(mn,null,r)}function si(r){return r==null||typeof r=="boolean"?Nr(mn):Xe(r)?Nr(hn,null,r.slice()):typeof r=="object"?Sa(r):Nr(gf,null,String(r))}function Sa(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:ji(r)}function Mm(r,e){let n=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Xe(e))n=16;else if(typeof e=="object")if(i&65){const t=e.default;t&&(t._c&&(t._d=!1),Mm(r,t()),t._c&&(t._d=!0));return}else{n=32;const t=e._;!t&&!rS(e)?e._ctx=tr:t===3&&tr&&(tr.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else rt(e)?(e={default:e,_ctx:tr},n=32):(e=String(e),i&64?(n=16,e=[UD(e)]):n=8);r.children=e,r.shapeFlag|=n}function jD(...r){const e={};for(let n=0;n<r.length;n++){const i=r[n];for(const t in i)if(t==="class")e.class!==i.class&&(e.class=so([e.class,i.class]));else if(t==="style")e.style=sf([e.style,i.style]);else if(rf(t)){const a=e[t],s=i[t];s&&a!==s&&!(Xe(a)&&a.includes(s))&&(e[t]=a?[].concat(a,s):s)}else t!==""&&(e[t]=i[t])}return e}function Dn(r,e,n,i=null){kn(r,e,7,[n,i])}const HD=ZT();let VD=0;function qD(r,e,n){const i=r.type,t=(e?e.appContext:r.appContext)||HD,a={uid:VD++,vnode:r,type:i,parent:e,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new mT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:iS(i,t),emitsOptions:HT(i,t),emit:null,emitted:null,propsDefaults:Lt,inheritAttrs:i.inheritAttrs,ctx:Lt,data:Lt,props:Lt,attrs:Lt,slots:Lt,refs:Lt,setupState:Lt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=WA.bind(null,a),r.ce&&r.ce(a),a}let gr=null;const Bm=()=>gr||tr;let Cd,Tg;{const r=vm(),e=(n,i)=>{let t;return(t=r[n])||(t=r[n]=[]),t.push(i),a=>{t.length>1?t.forEach(s=>s(a)):t[0](a)}};Cd=e("__VUE_INSTANCE_SETTERS__",n=>gr=n),Tg=e("__VUE_SSR_SETTERS__",n=>vf=n)}const Pl=r=>{const e=gr;return Cd(r),r.scope.on(),()=>{r.scope.off(),Cd(e)}},U_=()=>{gr&&gr.scope.off(),Cd(null)};function hS(r){return r.vnode.shapeFlag&4}let vf=!1;function $D(r,e=!1){e&&Tg(e);const{props:n,children:i}=r.vnode,t=hS(r);SD(r,n,t,e),wD(r,i);const a=t?WD(r,e):void 0;return e&&Tg(!1),a}function WD(r,e){const n=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,hD);const{setup:i}=n;if(i){const t=r.setupContext=i.length>1?zD(r):null,a=Pl(r);Oa();const s=Aa(i,r,0,[r.props,t]);if(La(),a(),cT(s)){if(s.then(U_,U_),e)return s.then(l=>{j_(r,l,e)}).catch(l=>{uf(l,r,0)});r.asyncDep=s}else j_(r,s,e)}else pS(r,e)}function j_(r,e,n){rt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Ot(e)&&(r.setupState=NT(e)),pS(r,n)}let H_;function pS(r,e,n){const i=r.type;if(!r.render){if(!e&&H_&&!i.render){const t=i.template||Lm(r).template;if(t){const{isCustomElement:a,compilerOptions:s}=r.appContext.config,{delimiters:l,compilerOptions:c}=i,f=Yt(Yt({isCustomElement:a,delimiters:l},s),c);i.render=H_(t,f)}}r.render=i.render||gn}{const t=Pl(r);Oa();try{pD(r)}finally{La(),t()}}}const GD={get(r,e){return rn(r,"get",""),r[e]}};function zD(r){const e=n=>{r.exposed=n||{}};return{attrs:new Proxy(r.attrs,GD),slots:r.slots,emit:r.emit,expose:e}}function _f(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(NT(Em(r.exposed)),{get(e,n){if(n in e)return e[n];if(n in zu)return zu[n](r)},has(e,n){return n in e||n in zu}}))}function Sg(r,e=!0){return rt(r)?r.displayName||r.name:r.name||e&&r.__name}function KD(r){return rt(r)&&"__vccOpts"in r}const Hr=(r,e)=>RA(r,e,vf);function cl(r,e,n){const i=arguments.length;return i===2?Ot(e)&&!Xe(e)?ll(e)?Nr(r,null,[e]):Nr(r,e):Nr(r,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ll(n)&&(n=[n]),Nr(r,e,n))}const XD="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const JD="http://www.w3.org/2000/svg",YD="http://www.w3.org/1998/Math/MathML",xa=typeof document<"u"?document:null,V_=xa&&xa.createElement("template"),QD={insert:(r,e,n)=>{e.insertBefore(r,n||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,n,i)=>{const t=e==="svg"?xa.createElementNS(JD,r):e==="mathml"?xa.createElementNS(YD,r):xa.createElement(r,n?{is:n}:void 0);return r==="select"&&i&&i.multiple!=null&&t.setAttribute("multiple",i.multiple),t},createText:r=>xa.createTextNode(r),createComment:r=>xa.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>xa.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,n,i,t,a){const s=n?n.previousSibling:e.lastChild;if(t&&(t===a||t.nextSibling))for(;e.insertBefore(t.cloneNode(!0),n),!(t===a||!(t=t.nextSibling)););else{V_.innerHTML=i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r;const l=V_.content;if(i==="svg"||i==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},pa="transition",Cu="animation",mo=Symbol("_vtc"),gS=(r,{slots:e})=>cl(rD,vS(r),e);gS.displayName="Transition";const mS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZD=gS.props=Yt({},KT,mS),rs=(r,e=[])=>{Xe(r)?r.forEach(n=>n(...e)):r&&r(...e)},q_=r=>r?Xe(r)?r.some(e=>e.length>1):r.length>1:!1;function vS(r){const e={};for(const te in r)te in mS||(e[te]=r[te]);if(r.css===!1)return e;const{name:n="v",type:i,duration:t,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:f=s,appearToClass:h=l,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:x=`${n}-leave-to`}=r,C=ek(t),k=C&&C[0],P=C&&C[1],{onBeforeEnter:R,onEnter:F,onEnterCancelled:B,onLeave:H,onLeaveCancelled:K,onBeforeAppear:Y=R,onAppear:Q=F,onAppearCancelled:U=B}=e,z=(te,ce,Fe)=>{_a(te,ce?h:l),_a(te,ce?f:s),Fe&&Fe()},Z=(te,ce)=>{te._isLeaving=!1,_a(te,v),_a(te,x),_a(te,y),ce&&ce()},se=te=>(ce,Fe)=>{const Ue=te?Q:F,ve=()=>z(ce,te,Fe);rs(Ue,[ce,ve]),$_(()=>{_a(ce,te?c:a),Oi(ce,te?h:l),q_(Ue)||W_(ce,i,k,ve)})};return Yt(e,{onBeforeEnter(te){rs(R,[te]),Oi(te,a),Oi(te,s)},onBeforeAppear(te){rs(Y,[te]),Oi(te,c),Oi(te,f)},onEnter:se(!1),onAppear:se(!0),onLeave(te,ce){te._isLeaving=!0;const Fe=()=>Z(te,ce);Oi(te,v),Oi(te,y),yS(),$_(()=>{!te._isLeaving||(_a(te,v),Oi(te,x),q_(H)||W_(te,i,P,Fe))}),rs(H,[te,Fe])},onEnterCancelled(te){z(te,!1),rs(B,[te])},onAppearCancelled(te){z(te,!0),rs(U,[te])},onLeaveCancelled(te){Z(te),rs(K,[te])}})}function ek(r){if(r==null)return null;if(Ot(r))return[kp(r.enter),kp(r.leave)];{const e=kp(r);return[e,e]}}function kp(r){return aA(r)}function Oi(r,e){e.split(/\s+/).forEach(n=>n&&r.classList.add(n)),(r[mo]||(r[mo]=new Set)).add(e)}function _a(r,e){e.split(/\s+/).forEach(i=>i&&r.classList.remove(i));const n=r[mo];n&&(n.delete(e),n.size||(r[mo]=void 0))}function $_(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let tk=0;function W_(r,e,n,i){const t=r._endId=++tk,a=()=>{t===r._endId&&i()};if(n)return setTimeout(a,n);const{type:s,timeout:l,propCount:c}=_S(r,e);if(!s)return i();const f=s+"end";let h=0;const v=()=>{r.removeEventListener(f,y),a()},y=x=>{x.target===r&&++h>=c&&v()};setTimeout(()=>{h<c&&v()},l+1),r.addEventListener(f,y)}function _S(r,e){const n=window.getComputedStyle(r),i=C=>(n[C]||"").split(", "),t=i(`${pa}Delay`),a=i(`${pa}Duration`),s=G_(t,a),l=i(`${Cu}Delay`),c=i(`${Cu}Duration`),f=G_(l,c);let h=null,v=0,y=0;e===pa?s>0&&(h=pa,v=s,y=a.length):e===Cu?f>0&&(h=Cu,v=f,y=c.length):(v=Math.max(s,f),h=v>0?s>f?pa:Cu:null,y=h?h===pa?a.length:c.length:0);const x=h===pa&&/\b(transform|all)(,|$)/.test(i(`${pa}Property`).toString());return{type:h,timeout:v,propCount:y,hasTransform:x}}function G_(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((n,i)=>z_(n)+z_(r[i])))}function z_(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function yS(){return document.body.offsetHeight}function rk(r,e,n){const i=r[mo];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):n?r.setAttribute("class",e):r.className=e}const Ad=Symbol("_vod"),bS=Symbol("_vsh"),dM={beforeMount(r,{value:e},{transition:n}){r[Ad]=r.style.display==="none"?"":r.style.display,n&&e?n.beforeEnter(r):Au(r,e)},mounted(r,{value:e},{transition:n}){n&&e&&n.enter(r)},updated(r,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(r),Au(r,!0),i.enter(r)):i.leave(r,()=>{Au(r,!1)}):Au(r,e))},beforeUnmount(r,{value:e}){Au(r,e)}};function Au(r,e){r.style.display=e?r[Ad]:"none",r[bS]=!e}const nk=Symbol(""),ik=/(^|;)\s*display\s*:/;function ak(r,e,n){const i=r.style,t=Vt(n);let a=!1;if(n&&!t){if(e)if(Vt(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&dd(i,l,"")}else for(const s in e)n[s]==null&&dd(i,s,"");for(const s in n)s==="display"&&(a=!0),dd(i,s,n[s])}else if(t){if(e!==n){const s=i[nk];s&&(n+=";"+s),i.cssText=n,a=ik.test(n)}}else e&&r.removeAttribute("style");Ad in r&&(r[Ad]=a?i.display:"",r[bS]&&(i.display="none"))}const K_=/\s*!important$/;function dd(r,e,n){if(Xe(n))n.forEach(i=>dd(r,e,i));else if(n==null&&(n=""),e.startsWith("--"))r.setProperty(e,n);else{const i=sk(r,e);K_.test(n)?r.setProperty(Oo(i),n.replace(K_,""),"important"):r[i]=n}}const X_=["Webkit","Moz","ms"],Pp={};function sk(r,e){const n=Pp[e];if(n)return n;let i=mi(e);if(i!=="filter"&&i in r)return Pp[e]=i;i=af(i);for(let t=0;t<X_.length;t++){const a=X_[t]+i;if(a in r)return Pp[e]=a}return e}const J_="http://www.w3.org/1999/xlink";function ok(r,e,n,i,t){if(i&&e.startsWith("xlink:"))n==null?r.removeAttributeNS(J_,e.slice(6,e.length)):r.setAttributeNS(J_,e,n);else{const a=dA(e);n==null||a&&!pT(n)?r.removeAttribute(e):r.setAttribute(e,a?"":n)}}function uk(r,e,n,i,t,a,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,t,a),r[e]=n==null?"":n;return}const l=r.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const f=l==="OPTION"?r.getAttribute("value")||"":r.value,h=n==null?"":n;(f!==h||!("_value"in r))&&(r.value=h),n==null&&r.removeAttribute(e),r._value=n;return}let c=!1;if(n===""||n==null){const f=typeof r[e];f==="boolean"?n=pT(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{r[e]=n}catch{}c&&r.removeAttribute(e)}function lk(r,e,n,i){r.addEventListener(e,n,i)}function ck(r,e,n,i){r.removeEventListener(e,n,i)}const Y_=Symbol("_vei");function dk(r,e,n,i,t=null){const a=r[Y_]||(r[Y_]={}),s=a[e];if(i&&s)s.value=i;else{const[l,c]=fk(e);if(i){const f=a[e]=gk(i,t);lk(r,l,f,c)}else s&&(ck(r,l,s,c),a[e]=void 0)}}const Q_=/(?:Once|Passive|Capture)$/;function fk(r){let e;if(Q_.test(r)){e={};let i;for(;i=r.match(Q_);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Oo(r.slice(2)),e]}let Ip=0;const hk=Promise.resolve(),pk=()=>Ip||(hk.then(()=>Ip=0),Ip=Date.now());function gk(r,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;kn(mk(i,n.value),e,5,[i])};return n.value=r,n.attached=pk(),n}function mk(r,e){if(Xe(e)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},e.map(i=>t=>!t._stopped&&i&&i(t))}else return e}const Z_=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,vk=(r,e,n,i,t,a,s,l,c)=>{const f=t==="svg";e==="class"?rk(r,i,f):e==="style"?ak(r,n,i):rf(e)?pm(e)||dk(r,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_k(r,e,i,f))?uk(r,e,i,a,s,l,c):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),ok(r,e,i,f))};function _k(r,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&Z_(e)&&rt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const t=r.tagName;if(t==="IMG"||t==="VIDEO"||t==="CANVAS"||t==="SOURCE")return!1}return Z_(e)&&Vt(n)?!1:e in r}const TS=new WeakMap,SS=new WeakMap,Dd=Symbol("_moveCb"),ey=Symbol("_enterCb"),xS={name:"TransitionGroup",props:Yt({},ZD,{tag:String,moveClass:String}),setup(r,{slots:e}){const n=Bm(),i=zT();let t,a;return Om(()=>{if(!t.length)return;const s=r.moveClass||`${r.name||"v"}-move`;if(!xk(t[0].el,n.vnode.el,s))return;t.forEach(bk),t.forEach(Tk);const l=t.filter(Sk);yS(),l.forEach(c=>{const f=c.el,h=f.style;Oi(f,s),h.transform=h.webkitTransform=h.transitionDuration="";const v=f[Dd]=y=>{y&&y.target!==f||(!y||/transform$/.test(y.propertyName))&&(f.removeEventListener("transitionend",v),f[Dd]=null,_a(f,s))};f.addEventListener("transitionend",v)})}),()=>{const s=ht(r),l=vS(s);let c=s.tag||hn;if(t=[],a)for(let f=0;f<a.length;f++){const h=a[f];h.el&&h.el instanceof Element&&(t.push(h),go(h,ol(h,l,i,n)),TS.set(h,h.el.getBoundingClientRect()))}a=e.default?Im(e.default()):[];for(let f=0;f<a.length;f++){const h=a[f];h.key!=null&&go(h,ol(h,l,i,n))}return Nr(c,null,a)}}},yk=r=>delete r.mode;xS.props;const fM=xS;function bk(r){const e=r.el;e[Dd]&&e[Dd](),e[ey]&&e[ey]()}function Tk(r){SS.set(r,r.el.getBoundingClientRect())}function Sk(r){const e=TS.get(r),n=SS.get(r),i=e.left-n.left,t=e.top-n.top;if(i||t){const a=r.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${t}px)`,a.transitionDuration="0s",r}}function xk(r,e,n){const i=r.cloneNode(),t=r[mo];t&&t.forEach(l=>{l.split(/\s+/).forEach(c=>c&&i.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:s}=_S(i);return a.removeChild(i),s}const Ek=["ctrl","shift","alt","meta"],wk={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>Ek.some(n=>r[`${n}Key`]&&!e.includes(n))},hM=(r,e)=>{const n=r._withMods||(r._withMods={}),i=e.join(".");return n[i]||(n[i]=(t,...a)=>{for(let s=0;s<e.length;s++){const l=wk[e[s]];if(l&&l(t,e))return}return r(t,...a)})},Ck=Yt({patchProp:vk},QD);let ty;function Ak(){return ty||(ty=DD(Ck))}const Dk=(...r)=>{const e=Ak().createApp(...r),{mount:n}=e;return e.mount=i=>{const t=Pk(i);if(!t)return;const a=e._component;!rt(a)&&!a.render&&!a.template&&(a.template=t.innerHTML),t.innerHTML="";const s=n(t,!1,kk(t));return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),s},e};function kk(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Pk(r){return Vt(r)?document.querySelector(r):r}var Ik=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ES;const yf=r=>ES=r,wS=Symbol();function xg(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Ju;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Ju||(Ju={}));function Ok(){const r=vT(!0),e=r.run(()=>zn({}));let n=[],i=[];const t=Em({install(a){yf(t),t._a=a,a.provide(wS,t),a.config.globalProperties.$pinia=t,i.forEach(s=>n.push(s)),i=[]},use(a){return!this._a&&!Ik?i.push(a):n.push(a),this},_p:n,_a:null,_e:r,_s:new Map,state:e});return t}const CS=()=>{};function ry(r,e,n,i=CS){r.push(e);const t=()=>{const a=r.indexOf(e);a>-1&&(r.splice(a,1),i())};return!n&&_T()&&hA(t),t}function $s(r,...e){r.slice().forEach(n=>{n(...e)})}const Lk=r=>r();function Eg(r,e){r instanceof Map&&e instanceof Map&&e.forEach((n,i)=>r.set(i,n)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],t=r[n];xg(t)&&xg(i)&&r.hasOwnProperty(n)&&!nr(i)&&!ds(i)?r[n]=Eg(t,i):r[n]=i}return r}const Rk=Symbol();function Nk(r){return!xg(r)||!r.hasOwnProperty(Rk)}const{assign:ya}=Object;function Fk(r){return!!(nr(r)&&r.effect)}function Mk(r,e,n,i){const{state:t,actions:a,getters:s}=e,l=n.state.value[r];let c;function f(){l||(n.state.value[r]=t?t():{});const h=MA(n.state.value[r]);return ya(h,a,Object.keys(s||{}).reduce((v,y)=>(v[y]=Em(Hr(()=>{yf(n);const x=n._s.get(r);return s[y].call(x,x)})),v),{}))}return c=AS(r,f,e,n,i,!0),c}function AS(r,e,n={},i,t,a){let s;const l=ya({actions:{}},n),c={deep:!0};let f,h,v=[],y=[],x;const C=i.state.value[r];!a&&!C&&(i.state.value[r]={}),zn({});let k;function P(U){let z;f=h=!1,typeof U=="function"?(U(i.state.value[r]),z={type:Ju.patchFunction,storeId:r,events:x}):(Eg(i.state.value[r],U),z={type:Ju.patchObject,payload:U,storeId:r,events:x});const Z=k=Symbol();Am().then(()=>{k===Z&&(f=!0)}),h=!0,$s(v,z,i.state.value[r])}const R=a?function(){const{state:z}=n,Z=z?z():{};this.$patch(se=>{ya(se,Z)})}:CS;function F(){s.stop(),v=[],y=[],i._s.delete(r)}function B(U,z){return function(){yf(i);const Z=Array.from(arguments),se=[],te=[];function ce(ve){se.push(ve)}function Fe(ve){te.push(ve)}$s(y,{args:Z,name:U,store:K,after:ce,onError:Fe});let Ue;try{Ue=z.apply(this&&this.$id===r?this:K,Z)}catch(ve){throw $s(te,ve),ve}return Ue instanceof Promise?Ue.then(ve=>($s(se,ve),ve)).catch(ve=>($s(te,ve),Promise.reject(ve))):($s(se,Ue),Ue)}}const H={_p:i,$id:r,$onAction:ry.bind(null,y),$patch:P,$reset:R,$subscribe(U,z={}){const Z=ry(v,U,z.detached,()=>se()),se=s.run(()=>fi(()=>i.state.value[r],te=>{(z.flush==="sync"?h:f)&&U({storeId:r,type:Ju.direct,events:x},te)},ya({},c,z)));return Z},$dispose:F},K=Al(H);i._s.set(r,K);const Q=(i._a&&i._a.runWithContext||Lk)(()=>i._e.run(()=>(s=vT()).run(e)));for(const U in Q){const z=Q[U];if(nr(z)&&!Fk(z)||ds(z))a||(C&&Nk(z)&&(nr(z)?z.value=C[U]:Eg(z,C[U])),i.state.value[r][U]=z);else if(typeof z=="function"){const Z=B(U,z);Q[U]=Z,l.actions[U]=z}}return ya(K,Q),ya(ht(K),Q),Object.defineProperty(K,"$state",{get:()=>i.state.value[r],set:U=>{P(z=>{ya(z,U)})}}),i._p.forEach(U=>{ya(K,s.run(()=>U({store:K,app:i._a,pinia:i,options:l})))}),C&&a&&n.hydrate&&n.hydrate(K.$state,C),f=!0,h=!0,K}function Bk(r,e,n){let i,t;const a=typeof e=="function";typeof r=="string"?(i=r,t=a?n:e):(t=r,i=r.id);function s(l,c){const f=TD();return l=l||(f?tn(wS,null):null),l&&yf(l),l=ES,l._s.has(i)||(a?AS(i,e,t,l):Mk(i,t,l)),l._s.get(i)}return s.$id=i,s}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Zs=typeof document<"u";function Uk(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const xt=Object.assign;function Op(r,e){const n={};for(const i in e){const t=e[i];n[i]=Wn(t)?t.map(r):r(t)}return n}const Yu=()=>{},Wn=Array.isArray,DS=/#/g,jk=/&/g,Hk=/\//g,Vk=/=/g,qk=/\?/g,kS=/\+/g,$k=/%5B/g,Wk=/%5D/g,PS=/%5E/g,Gk=/%60/g,IS=/%7B/g,zk=/%7C/g,OS=/%7D/g,Kk=/%20/g;function Um(r){return encodeURI(""+r).replace(zk,"|").replace($k,"[").replace(Wk,"]")}function Xk(r){return Um(r).replace(IS,"{").replace(OS,"}").replace(PS,"^")}function wg(r){return Um(r).replace(kS,"%2B").replace(Kk,"+").replace(DS,"%23").replace(jk,"%26").replace(Gk,"`").replace(IS,"{").replace(OS,"}").replace(PS,"^")}function Jk(r){return wg(r).replace(Vk,"%3D")}function Yk(r){return Um(r).replace(DS,"%23").replace(qk,"%3F")}function Qk(r){return r==null?"":Yk(r).replace(Hk,"%2F")}function dl(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const Zk=/\/$/,eP=r=>r.replace(Zk,"");function Lp(r,e,n="/"){let i,t={},a="",s="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(i=e.slice(0,c),a=e.slice(c+1,l>-1?l:e.length),t=r(a)),l>-1&&(i=i||e.slice(0,l),s=e.slice(l,e.length)),i=iP(i!=null?i:e,n),{fullPath:i+(a&&"?")+a+s,path:i,query:t,hash:dl(s)}}function tP(r,e){const n=e.query?r(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ny(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function rP(r,e,n){const i=e.matched.length-1,t=n.matched.length-1;return i>-1&&i===t&&vo(e.matched[i],n.matched[t])&&LS(e.params,n.params)&&r(e.query)===r(n.query)&&e.hash===n.hash}function vo(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function LS(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const n in r)if(!nP(r[n],e[n]))return!1;return!0}function nP(r,e){return Wn(r)?iy(r,e):Wn(e)?iy(e,r):r===e}function iy(r,e){return Wn(e)?r.length===e.length&&r.every((n,i)=>n===e[i]):r.length===1&&r[0]===e}function iP(r,e){if(r.startsWith("/"))return r;if(!r)return e;const n=e.split("/"),i=r.split("/"),t=i[i.length-1];(t===".."||t===".")&&i.push("");let a=n.length-1,s,l;for(s=0;s<i.length;s++)if(l=i[s],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+i.slice(s).join("/")}var fl;(function(r){r.pop="pop",r.push="push"})(fl||(fl={}));var Qu;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Qu||(Qu={}));function aP(r){if(!r)if(Zs){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),eP(r)}const sP=/^[^#]+#/;function oP(r,e){return r.replace(sP,"#")+e}function uP(r,e){const n=document.documentElement.getBoundingClientRect(),i=r.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const bf=()=>({left:window.scrollX,top:window.scrollY});function lP(r){let e;if("el"in r){const n=r.el,i=typeof n=="string"&&n.startsWith("#"),t=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!t)return;e=uP(t,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ay(r,e){return(history.state?history.state.position-e:-1)+r}const Cg=new Map;function cP(r,e){Cg.set(r,e)}function dP(r){const e=Cg.get(r);return Cg.delete(r),e}let fP=()=>location.protocol+"//"+location.host;function RS(r,e){const{pathname:n,search:i,hash:t}=e,a=r.indexOf("#");if(a>-1){let l=t.includes(r.slice(a))?r.slice(a).length:1,c=t.slice(l);return c[0]!=="/"&&(c="/"+c),ny(c,"")}return ny(n,r)+i+t}function hP(r,e,n,i){let t=[],a=[],s=null;const l=({state:y})=>{const x=RS(r,location),C=n.value,k=e.value;let P=0;if(y){if(n.value=x,e.value=y,s&&s===C){s=null;return}P=k?y.position-k.position:0}else i(x);t.forEach(R=>{R(n.value,C,{delta:P,type:fl.pop,direction:P?P>0?Qu.forward:Qu.back:Qu.unknown})})};function c(){s=n.value}function f(y){t.push(y);const x=()=>{const C=t.indexOf(y);C>-1&&t.splice(C,1)};return a.push(x),x}function h(){const{history:y}=window;!y.state||y.replaceState(xt({},y.state,{scroll:bf()}),"")}function v(){for(const y of a)y();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:f,destroy:v}}function sy(r,e,n,i=!1,t=!1){return{back:r,current:e,forward:n,replaced:i,position:window.history.length,scroll:t?bf():null}}function pP(r){const{history:e,location:n}=window,i={value:RS(r,n)},t={value:e.state};t.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(c,f,h){const v=r.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?r:r.slice(v))+c:fP()+r+c;try{e[h?"replaceState":"pushState"](f,"",y),t.value=f}catch(x){console.error(x),n[h?"replace":"assign"](y)}}function s(c,f){const h=xt({},e.state,sy(t.value.back,c,t.value.forward,!0),f,{position:t.value.position});a(c,h,!0),i.value=c}function l(c,f){const h=xt({},t.value,e.state,{forward:c,scroll:bf()});a(h.current,h,!0);const v=xt({},sy(i.value,c,null),{position:h.position+1},f);a(c,v,!1),i.value=c}return{location:i,state:t,push:l,replace:s}}function gP(r){r=aP(r);const e=pP(r),n=hP(r,e.state,e.location,e.replace);function i(a,s=!0){s||n.pauseListeners(),history.go(a)}const t=xt({location:"",base:r,go:i,createHref:oP.bind(null,r)},e,n);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>e.state.value}),t}function mP(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),gP(r)}function vP(r){return typeof r=="string"||r&&typeof r=="object"}function NS(r){return typeof r=="string"||typeof r=="symbol"}const ga={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},FS=Symbol("");var oy;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(oy||(oy={}));function _o(r,e){return xt(new Error,{type:r,[FS]:!0},e)}function Pi(r,e){return r instanceof Error&&FS in r&&(e==null||!!(r.type&e))}const uy="[^/]+?",_P={sensitive:!1,strict:!1,start:!0,end:!0},yP=/[.+*?^${}()[\]/\\]/g;function bP(r,e){const n=xt({},_P,e),i=[];let t=n.start?"^":"";const a=[];for(const f of r){const h=f.length?[]:[90];n.strict&&!f.length&&(t+="/");for(let v=0;v<f.length;v++){const y=f[v];let x=40+(n.sensitive?.25:0);if(y.type===0)v||(t+="/"),t+=y.value.replace(yP,"\\$&"),x+=40;else if(y.type===1){const{value:C,repeatable:k,optional:P,regexp:R}=y;a.push({name:C,repeatable:k,optional:P});const F=R||uy;if(F!==uy){x+=10;try{new RegExp(`(${F})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${C}" (${F}): `+H.message)}}let B=k?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;v||(B=P&&f.length<2?`(?:/${B})`:"/"+B),P&&(B+="?"),t+=B,x+=20,P&&(x+=-8),k&&(x+=-20),F===".*"&&(x+=-50)}h.push(x)}i.push(h)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(t+="/?"),n.end?t+="$":n.strict&&(t+="(?:/|$)");const s=new RegExp(t,n.sensitive?"":"i");function l(f){const h=f.match(s),v={};if(!h)return null;for(let y=1;y<h.length;y++){const x=h[y]||"",C=a[y-1];v[C.name]=x&&C.repeatable?x.split("/"):x}return v}function c(f){let h="",v=!1;for(const y of r){(!v||!h.endsWith("/"))&&(h+="/"),v=!1;for(const x of y)if(x.type===0)h+=x.value;else if(x.type===1){const{value:C,repeatable:k,optional:P}=x,R=C in f?f[C]:"";if(Wn(R)&&!k)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const F=Wn(R)?R.join("/"):R;if(!F)if(P)y.length<2&&(h.endsWith("/")?h=h.slice(0,-1):v=!0);else throw new Error(`Missing required param "${C}"`);h+=F}}return h||"/"}return{re:s,score:i,keys:a,parse:l,stringify:c}}function TP(r,e){let n=0;for(;n<r.length&&n<e.length;){const i=e[n]-r[n];if(i)return i;n++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function SP(r,e){let n=0;const i=r.score,t=e.score;for(;n<i.length&&n<t.length;){const a=TP(i[n],t[n]);if(a)return a;n++}if(Math.abs(t.length-i.length)===1){if(ly(i))return 1;if(ly(t))return-1}return t.length-i.length}function ly(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const xP={type:0,value:""},EP=/[a-zA-Z0-9_]/;function wP(r){if(!r)return[[]];if(r==="/")return[[xP]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(x){throw new Error(`ERR (${n})/"${f}": ${x}`)}let n=0,i=n;const t=[];let a;function s(){a&&t.push(a),a=[]}let l=0,c,f="",h="";function v(){!f||(n===0?a.push({type:0,value:f}):n===1||n===2||n===3?(a.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:f,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=c}for(;l<r.length;){if(c=r[l++],c==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:c==="/"?(f&&v(),s()):c===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:c==="("?n=2:EP.test(c)?y():(v(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:v(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),s(),t}function CP(r,e,n){const i=bP(wP(r.path),n),t=xt(i,{record:r,parent:e,children:[],alias:[]});return e&&!t.record.aliasOf==!e.record.aliasOf&&e.children.push(t),t}function AP(r,e){const n=[],i=new Map;e=fy({strict:!1,end:!0,sensitive:!1},e);function t(h){return i.get(h)}function a(h,v,y){const x=!y,C=DP(h);C.aliasOf=y&&y.record;const k=fy(e,h),P=[C];if("alias"in h){const B=typeof h.alias=="string"?[h.alias]:h.alias;for(const H of B)P.push(xt({},C,{components:y?y.record.components:C.components,path:H,aliasOf:y?y.record:C}))}let R,F;for(const B of P){const{path:H}=B;if(v&&H[0]!=="/"){const K=v.record.path,Y=K[K.length-1]==="/"?"":"/";B.path=v.record.path+(H&&Y+H)}if(R=CP(B,v,k),y?y.alias.push(R):(F=F||R,F!==R&&F.alias.push(R),x&&h.name&&!dy(R)&&s(h.name)),C.children){const K=C.children;for(let Y=0;Y<K.length;Y++)a(K[Y],R,y&&y.children[Y])}y=y||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&c(R)}return F?()=>{s(F)}:Yu}function s(h){if(NS(h)){const v=i.get(h);v&&(i.delete(h),n.splice(n.indexOf(v),1),v.children.forEach(s),v.alias.forEach(s))}else{const v=n.indexOf(h);v>-1&&(n.splice(v,1),h.record.name&&i.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function l(){return n}function c(h){let v=0;for(;v<n.length&&SP(h,n[v])>=0&&(h.record.path!==n[v].record.path||!MS(h,n[v]));)v++;n.splice(v,0,h),h.record.name&&!dy(h)&&i.set(h.record.name,h)}function f(h,v){let y,x={},C,k;if("name"in h&&h.name){if(y=i.get(h.name),!y)throw _o(1,{location:h});k=y.record.name,x=xt(cy(v.params,y.keys.filter(F=>!F.optional).concat(y.parent?y.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),h.params&&cy(h.params,y.keys.map(F=>F.name))),C=y.stringify(x)}else if(h.path!=null)C=h.path,y=n.find(F=>F.re.test(C)),y&&(x=y.parse(C),k=y.record.name);else{if(y=v.name?i.get(v.name):n.find(F=>F.re.test(v.path)),!y)throw _o(1,{location:h,currentLocation:v});k=y.record.name,x=xt({},v.params,h.params),C=y.stringify(x)}const P=[];let R=y;for(;R;)P.unshift(R.record),R=R.parent;return{name:k,path:C,params:x,matched:P,meta:PP(P)}}return r.forEach(h=>a(h)),{addRoute:a,resolve:f,removeRoute:s,getRoutes:l,getRecordMatcher:t}}function cy(r,e){const n={};for(const i of e)i in r&&(n[i]=r[i]);return n}function DP(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:kP(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function kP(r){const e={},n=r.props||!1;if("component"in r)e.default=n;else for(const i in r.components)e[i]=typeof n=="object"?n[i]:n;return e}function dy(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function PP(r){return r.reduce((e,n)=>xt(e,n.meta),{})}function fy(r,e){const n={};for(const i in r)n[i]=i in e?e[i]:r[i];return n}function MS(r,e){return e.children.some(n=>n===r||MS(r,n))}function IP(r){const e={};if(r===""||r==="?")return e;const i=(r[0]==="?"?r.slice(1):r).split("&");for(let t=0;t<i.length;++t){const a=i[t].replace(kS," "),s=a.indexOf("="),l=dl(s<0?a:a.slice(0,s)),c=s<0?null:dl(a.slice(s+1));if(l in e){let f=e[l];Wn(f)||(f=e[l]=[f]),f.push(c)}else e[l]=c}return e}function hy(r){let e="";for(let n in r){const i=r[n];if(n=Jk(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wn(i)?i.map(a=>a&&wg(a)):[i&&wg(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function OP(r){const e={};for(const n in r){const i=r[n];i!==void 0&&(e[n]=Wn(i)?i.map(t=>t==null?null:""+t):i==null?i:""+i)}return e}const LP=Symbol(""),py=Symbol(""),Tf=Symbol(""),jm=Symbol(""),Ag=Symbol("");function Du(){let r=[];function e(i){return r.push(i),()=>{const t=r.indexOf(i);t>-1&&r.splice(t,1)}}function n(){r=[]}return{add:e,list:()=>r.slice(),reset:n}}function Ea(r,e,n,i,t,a=s=>s()){const s=i&&(i.enterCallbacks[t]=i.enterCallbacks[t]||[]);return()=>new Promise((l,c)=>{const f=y=>{y===!1?c(_o(4,{from:n,to:e})):y instanceof Error?c(y):vP(y)?c(_o(2,{from:e,to:y})):(s&&i.enterCallbacks[t]===s&&typeof y=="function"&&s.push(y),l())},h=a(()=>r.call(i&&i.instances[t],e,n,f));let v=Promise.resolve(h);r.length<3&&(v=v.then(f)),v.catch(y=>c(y))})}function Rp(r,e,n,i,t=a=>a()){const a=[];for(const s of r)for(const l in s.components){let c=s.components[l];if(!(e!=="beforeRouteEnter"&&!s.instances[l]))if(RP(c)){const h=(c.__vccOpts||c)[e];h&&a.push(Ea(h,n,i,s,l,t))}else{let f=c();a.push(()=>f.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${s.path}"`));const v=Uk(h)?h.default:h;s.components[l]=v;const x=(v.__vccOpts||v)[e];return x&&Ea(x,n,i,s,l,t)()}))}}return a}function RP(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function gy(r){const e=tn(Tf),n=tn(jm),i=Hr(()=>{const c=Er(r.to);return e.resolve(c)}),t=Hr(()=>{const{matched:c}=i.value,{length:f}=c,h=c[f-1],v=n.matched;if(!h||!v.length)return-1;const y=v.findIndex(vo.bind(null,h));if(y>-1)return y;const x=my(c[f-2]);return f>1&&my(h)===x&&v[v.length-1].path!==x?v.findIndex(vo.bind(null,c[f-2])):y}),a=Hr(()=>t.value>-1&&BP(n.params,i.value.params)),s=Hr(()=>t.value>-1&&t.value===n.matched.length-1&&LS(n.params,i.value.params));function l(c={}){return MP(c)?e[Er(r.replace)?"replace":"push"](Er(r.to)).catch(Yu):Promise.resolve()}return{route:i,href:Hr(()=>i.value.href),isActive:a,isExactActive:s,navigate:l}}const NP=Dl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gy,setup(r,{slots:e}){const n=Al(gy(r)),{options:i}=tn(Tf),t=Hr(()=>({[vy(r.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[vy(r.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&e.default(n);return r.custom?a:cl("a",{"aria-current":n.isExactActive?r.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:t.value},a)}}}),FP=NP;function MP(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function BP(r,e){for(const n in e){const i=e[n],t=r[n];if(typeof i=="string"){if(i!==t)return!1}else if(!Wn(t)||t.length!==i.length||i.some((a,s)=>a!==t[s]))return!1}return!0}function my(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const vy=(r,e,n)=>r!=null?r:e!=null?e:n,UP=Dl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:n}){const i=tn(Ag),t=Hr(()=>r.route||i.value),a=tn(py,0),s=Hr(()=>{let f=Er(a);const{matched:h}=t.value;let v;for(;(v=h[f])&&!v.components;)f++;return f}),l=Hr(()=>t.value.matched[s.value]);ud(py,Hr(()=>s.value+1)),ud(LP,l),ud(Ag,t);const c=zn();return fi(()=>[c.value,l.value,r.name],([f,h,v],[y,x,C])=>{h&&(h.instances[v]=f,x&&x!==h&&f&&f===y&&(h.leaveGuards.size||(h.leaveGuards=x.leaveGuards),h.updateGuards.size||(h.updateGuards=x.updateGuards))),f&&h&&(!x||!vo(h,x)||!y)&&(h.enterCallbacks[v]||[]).forEach(k=>k(f))},{flush:"post"}),()=>{const f=t.value,h=r.name,v=l.value,y=v&&v.components[h];if(!y)return _y(n.default,{Component:y,route:f});const x=v.props[h],C=x?x===!0?f.params:typeof x=="function"?x(f):x:null,P=cl(y,xt({},C,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(v.instances[h]=null)},ref:c}));return _y(n.default,{Component:P,route:f})||P}}});function _y(r,e){if(!r)return null;const n=r(e);return n.length===1?n[0]:n}const BS=UP;function jP(r){const e=AP(r.routes,r),n=r.parseQuery||IP,i=r.stringifyQuery||hy,t=r.history,a=Du(),s=Du(),l=Du(),c=od(ga);let f=ga;Zs&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Op.bind(null,oe=>""+oe),v=Op.bind(null,Qk),y=Op.bind(null,dl);function x(oe,xe){let we,Ne;return NS(oe)?(we=e.getRecordMatcher(oe),Ne=xe):Ne=oe,e.addRoute(Ne,we)}function C(oe){const xe=e.getRecordMatcher(oe);xe&&e.removeRoute(xe)}function k(){return e.getRoutes().map(oe=>oe.record)}function P(oe){return!!e.getRecordMatcher(oe)}function R(oe,xe){if(xe=xt({},xe||c.value),typeof oe=="string"){const G=Lp(n,oe,xe.path),ee=e.resolve({path:G.path},xe),ue=t.createHref(G.fullPath);return xt(G,ee,{params:y(ee.params),hash:dl(G.hash),redirectedFrom:void 0,href:ue})}let we;if(oe.path!=null)we=xt({},oe,{path:Lp(n,oe.path,xe.path).path});else{const G=xt({},oe.params);for(const ee in G)G[ee]==null&&delete G[ee];we=xt({},oe,{params:v(G)}),xe.params=v(xe.params)}const Ne=e.resolve(we,xe),ut=oe.hash||"";Ne.params=h(y(Ne.params));const Tt=tP(i,xt({},oe,{hash:Xk(ut),path:Ne.path})),j=t.createHref(Tt);return xt({fullPath:Tt,hash:ut,query:i===hy?OP(oe.query):oe.query||{}},Ne,{redirectedFrom:void 0,href:j})}function F(oe){return typeof oe=="string"?Lp(n,oe,c.value.path):xt({},oe)}function B(oe,xe){if(f!==oe)return _o(8,{from:xe,to:oe})}function H(oe){return Q(oe)}function K(oe){return H(xt(F(oe),{replace:!0}))}function Y(oe){const xe=oe.matched[oe.matched.length-1];if(xe&&xe.redirect){const{redirect:we}=xe;let Ne=typeof we=="function"?we(oe):we;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=F(Ne):{path:Ne},Ne.params={}),xt({query:oe.query,hash:oe.hash,params:Ne.path!=null?{}:oe.params},Ne)}}function Q(oe,xe){const we=f=R(oe),Ne=c.value,ut=oe.state,Tt=oe.force,j=oe.replace===!0,G=Y(we);if(G)return Q(xt(F(G),{state:typeof G=="object"?xt({},ut,G.state):ut,force:Tt,replace:j}),xe||we);const ee=we;ee.redirectedFrom=xe;let ue;return!Tt&&rP(i,Ne,we)&&(ue=_o(16,{to:ee,from:Ne}),or(Ne,Ne,!0,!1)),(ue?Promise.resolve(ue):Z(ee,Ne)).catch(ae=>Pi(ae)?Pi(ae,2)?ae:at(ae):Me(ae,ee,Ne)).then(ae=>{if(ae){if(Pi(ae,2))return Q(xt({replace:j},F(ae.to),{state:typeof ae.to=="object"?xt({},ut,ae.to.state):ut,force:Tt}),xe||ee)}else ae=te(ee,Ne,!0,j,ut);return se(ee,Ne,ae),ae})}function U(oe,xe){const we=B(oe,xe);return we?Promise.reject(we):Promise.resolve()}function z(oe){const xe=yr.values().next().value;return xe&&typeof xe.runWithContext=="function"?xe.runWithContext(oe):oe()}function Z(oe,xe){let we;const[Ne,ut,Tt]=HP(oe,xe);we=Rp(Ne.reverse(),"beforeRouteLeave",oe,xe);for(const G of Ne)G.leaveGuards.forEach(ee=>{we.push(Ea(ee,oe,xe))});const j=U.bind(null,oe,xe);return we.push(j),mt(we).then(()=>{we=[];for(const G of a.list())we.push(Ea(G,oe,xe));return we.push(j),mt(we)}).then(()=>{we=Rp(ut,"beforeRouteUpdate",oe,xe);for(const G of ut)G.updateGuards.forEach(ee=>{we.push(Ea(ee,oe,xe))});return we.push(j),mt(we)}).then(()=>{we=[];for(const G of Tt)if(G.beforeEnter)if(Wn(G.beforeEnter))for(const ee of G.beforeEnter)we.push(Ea(ee,oe,xe));else we.push(Ea(G.beforeEnter,oe,xe));return we.push(j),mt(we)}).then(()=>(oe.matched.forEach(G=>G.enterCallbacks={}),we=Rp(Tt,"beforeRouteEnter",oe,xe,z),we.push(j),mt(we))).then(()=>{we=[];for(const G of s.list())we.push(Ea(G,oe,xe));return we.push(j),mt(we)}).catch(G=>Pi(G,8)?G:Promise.reject(G))}function se(oe,xe,we){l.list().forEach(Ne=>z(()=>Ne(oe,xe,we)))}function te(oe,xe,we,Ne,ut){const Tt=B(oe,xe);if(Tt)return Tt;const j=xe===ga,G=Zs?history.state:{};we&&(Ne||j?t.replace(oe.fullPath,xt({scroll:j&&G&&G.scroll},ut)):t.push(oe.fullPath,ut)),c.value=oe,or(oe,xe,we,j),at()}let ce;function Fe(){ce||(ce=t.listen((oe,xe,we)=>{if(!Ar.listening)return;const Ne=R(oe),ut=Y(Ne);if(ut){Q(xt(ut,{replace:!0}),Ne).catch(Yu);return}f=Ne;const Tt=c.value;Zs&&cP(ay(Tt.fullPath,we.delta),bf()),Z(Ne,Tt).catch(j=>Pi(j,12)?j:Pi(j,2)?(Q(j.to,Ne).then(G=>{Pi(G,20)&&!we.delta&&we.type===fl.pop&&t.go(-1,!1)}).catch(Yu),Promise.reject()):(we.delta&&t.go(-we.delta,!1),Me(j,Ne,Tt))).then(j=>{j=j||te(Ne,Tt,!1),j&&(we.delta&&!Pi(j,8)?t.go(-we.delta,!1):we.type===fl.pop&&Pi(j,20)&&t.go(-1,!1)),se(Ne,Tt,j)}).catch(Yu)}))}let Ue=Du(),ve=Du(),De;function Me(oe,xe,we){at(oe);const Ne=ve.list();return Ne.length?Ne.forEach(ut=>ut(oe,xe,we)):console.error(oe),Promise.reject(oe)}function _t(){return De&&c.value!==ga?Promise.resolve():new Promise((oe,xe)=>{Ue.add([oe,xe])})}function at(oe){return De||(De=!oe,Fe(),Ue.list().forEach(([xe,we])=>oe?we(oe):xe()),Ue.reset()),oe}function or(oe,xe,we,Ne){const{scrollBehavior:ut}=r;if(!Zs||!ut)return Promise.resolve();const Tt=!we&&dP(ay(oe.fullPath,0))||(Ne||!we)&&history.state&&history.state.scroll||null;return Am().then(()=>ut(oe,xe,Tt)).then(j=>j&&lP(j)).catch(j=>Me(j,oe,xe))}const yt=oe=>t.go(oe);let ur;const yr=new Set,Ar={currentRoute:c,listening:!0,addRoute:x,removeRoute:C,hasRoute:P,getRoutes:k,resolve:R,options:r,push:H,replace:K,go:yt,back:()=>yt(-1),forward:()=>yt(1),beforeEach:a.add,beforeResolve:s.add,afterEach:l.add,onError:ve.add,isReady:_t,install(oe){const xe=this;oe.component("RouterLink",FP),oe.component("RouterView",BS),oe.config.globalProperties.$router=xe,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>Er(c)}),Zs&&!ur&&c.value===ga&&(ur=!0,H(t.location).catch(ut=>{}));const we={};for(const ut in ga)Object.defineProperty(we,ut,{get:()=>c.value[ut],enumerable:!0});oe.provide(Tf,xe),oe.provide(jm,PT(we)),oe.provide(Ag,c);const Ne=oe.unmount;yr.add(oe),oe.unmount=function(){yr.delete(oe),yr.size<1&&(f=ga,ce&&ce(),ce=null,c.value=ga,ur=!1,De=!1),Ne()}}};function mt(oe){return oe.reduce((xe,we)=>xe.then(()=>z(we)),Promise.resolve())}return Ar}function HP(r,e){const n=[],i=[],t=[],a=Math.max(e.matched.length,r.matched.length);for(let s=0;s<a;s++){const l=e.matched[s];l&&(r.matched.find(f=>vo(f,l))?i.push(l):n.push(l));const c=r.matched[s];c&&(e.matched.find(f=>vo(f,c))||t.push(c))}return[n,i,t]}function pM(){return tn(Tf)}function gM(){return tn(jm)}const VP=Dl({__name:"App",setup(r){return(e,n)=>(mf(),Fm(Er(BS)))}}),qP="modulepreload",$P=function(r,e){return new URL(r,e).href},yy={},Gc=function(e,n,i){if(!n||n.length===0)return e();const t=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=$P(a,i),a in yy)return;yy[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!i)for(let h=t.length-1;h>=0;h--){const v=t[h];if(v.href===a&&(!s||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":qP,s||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),s)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())};class er{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){const n=er.hexChars,i=er.hexOut;let t,a,s,l;for(l=0;l<4;l+=1)for(a=l*8,t=e[l],s=0;s<8;s+=2)i[a+1+s]=n.charAt(t&15),t>>>=4,i[a+0+s]=n.charAt(t&15),t>>>=4;return i.join("")}static _md5cycle(e,n){let i=e[0],t=e[1],a=e[2],s=e[3];i+=(t&a|~t&s)+n[0]-680876936|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[1]-389564586|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[2]+606105819|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[3]-1044525330|0,t=(t<<22|t>>>10)+a|0,i+=(t&a|~t&s)+n[4]-176418897|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[5]+1200080426|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[6]-1473231341|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[7]-45705983|0,t=(t<<22|t>>>10)+a|0,i+=(t&a|~t&s)+n[8]+1770035416|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[9]-1958414417|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[10]-42063|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[11]-1990404162|0,t=(t<<22|t>>>10)+a|0,i+=(t&a|~t&s)+n[12]+1804603682|0,i=(i<<7|i>>>25)+t|0,s+=(i&t|~i&a)+n[13]-40341101|0,s=(s<<12|s>>>20)+i|0,a+=(s&i|~s&t)+n[14]-1502002290|0,a=(a<<17|a>>>15)+s|0,t+=(a&s|~a&i)+n[15]+1236535329|0,t=(t<<22|t>>>10)+a|0,i+=(t&s|a&~s)+n[1]-165796510|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[6]-1069501632|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[11]+643717713|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[0]-373897302|0,t=(t<<20|t>>>12)+a|0,i+=(t&s|a&~s)+n[5]-701558691|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[10]+38016083|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[15]-660478335|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[4]-405537848|0,t=(t<<20|t>>>12)+a|0,i+=(t&s|a&~s)+n[9]+568446438|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[14]-1019803690|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[3]-187363961|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[8]+1163531501|0,t=(t<<20|t>>>12)+a|0,i+=(t&s|a&~s)+n[13]-1444681467|0,i=(i<<5|i>>>27)+t|0,s+=(i&a|t&~a)+n[2]-51403784|0,s=(s<<9|s>>>23)+i|0,a+=(s&t|i&~t)+n[7]+1735328473|0,a=(a<<14|a>>>18)+s|0,t+=(a&i|s&~i)+n[12]-1926607734|0,t=(t<<20|t>>>12)+a|0,i+=(t^a^s)+n[5]-378558|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[8]-2022574463|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[11]+1839030562|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[14]-35309556|0,t=(t<<23|t>>>9)+a|0,i+=(t^a^s)+n[1]-1530992060|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[4]+1272893353|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[7]-155497632|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[10]-1094730640|0,t=(t<<23|t>>>9)+a|0,i+=(t^a^s)+n[13]+681279174|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[0]-358537222|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[3]-722521979|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[6]+76029189|0,t=(t<<23|t>>>9)+a|0,i+=(t^a^s)+n[9]-640364487|0,i=(i<<4|i>>>28)+t|0,s+=(i^t^a)+n[12]-421815835|0,s=(s<<11|s>>>21)+i|0,a+=(s^i^t)+n[15]+530742520|0,a=(a<<16|a>>>16)+s|0,t+=(a^s^i)+n[2]-995338651|0,t=(t<<23|t>>>9)+a|0,i+=(a^(t|~s))+n[0]-198630844|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[7]+1126891415|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[14]-1416354905|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[5]-57434055|0,t=(t<<21|t>>>11)+a|0,i+=(a^(t|~s))+n[12]+1700485571|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[3]-1894986606|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[10]-1051523|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[1]-2054922799|0,t=(t<<21|t>>>11)+a|0,i+=(a^(t|~s))+n[8]+1873313359|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[15]-30611744|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[6]-1560198380|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[13]+1309151649|0,t=(t<<21|t>>>11)+a|0,i+=(a^(t|~s))+n[4]-145523070|0,i=(i<<6|i>>>26)+t|0,s+=(t^(i|~a))+n[11]-1120210379|0,s=(s<<10|s>>>22)+i|0,a+=(i^(s|~t))+n[2]+718787259|0,a=(a<<15|a>>>17)+s|0,t+=(s^(a|~i))+n[9]-343485551|0,t=(t<<21|t>>>11)+a|0,e[0]=i+e[0]|0,e[1]=t+e[1]|0,e[2]=a+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(er.stateIdentity),this}appendStr(e){const n=this._buffer8,i=this._buffer32;let t=this._bufferLength,a,s;for(s=0;s<e.length;s+=1){if(a=e.charCodeAt(s),a<128)n[t++]=a;else if(a<2048)n[t++]=(a>>>6)+192,n[t++]=a&63|128;else if(a<55296||a>56319)n[t++]=(a>>>12)+224,n[t++]=a>>>6&63|128,n[t++]=a&63|128;else{if(a=(a-55296)*1024+(e.charCodeAt(++s)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[t++]=(a>>>18)+240,n[t++]=a>>>12&63|128,n[t++]=a>>>6&63|128,n[t++]=a&63|128}t>=64&&(this._dataLength+=64,er._md5cycle(this._state,i),t-=64,i[0]=i[16])}return this._bufferLength=t,this}appendAsciiStr(e){const n=this._buffer8,i=this._buffer32;let t=this._bufferLength,a,s=0;for(;;){for(a=Math.min(e.length-s,64-t);a--;)n[t++]=e.charCodeAt(s++);if(t<64)break;this._dataLength+=64,er._md5cycle(this._state,i),t=0}return this._bufferLength=t,this}appendByteArray(e){const n=this._buffer8,i=this._buffer32;let t=this._bufferLength,a,s=0;for(;;){for(a=Math.min(e.length-s,64-t);a--;)n[t++]=e[s++];if(t<64)break;this._dataLength+=64,er._md5cycle(this._state,i),t=0}return this._bufferLength=t,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const n=e.buffer,i=e.state,t=this._state;let a;for(this._dataLength=e.length,this._bufferLength=e.buflen,t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],a=0;a<n.length;a+=1)this._buffer8[a]=n.charCodeAt(a)}end(e=!1){const n=this._bufferLength,i=this._buffer8,t=this._buffer32,a=(n>>2)+1;this._dataLength+=n;const s=this._dataLength*8;if(i[n]=128,i[n+1]=i[n+2]=i[n+3]=0,t.set(er.buffer32Identity.subarray(a),a),n>55&&(er._md5cycle(this._state,t),t.set(er.buffer32Identity)),s<=4294967295)t[14]=s;else{const l=s.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;const c=parseInt(l[2],16),f=parseInt(l[1],16)||0;t[14]=c,t[15]=f}return er._md5cycle(this._state,t),e?this._state:er._hex(this._state)}}er.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);er.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);er.hexChars="0123456789abcdef";er.hexOut=[];er.onePassHasher=new er;if(er.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");function US(r,e){return function(){return r.apply(e,arguments)}}const{toString:WP}=Object.prototype,{getPrototypeOf:Hm}=Object,Sf=(r=>e=>{const n=WP.call(e);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=r=>(r=r.toLowerCase(),e=>Sf(e)===r),xf=r=>e=>typeof e===r,{isArray:Lo}=Array,hl=xf("undefined");function GP(r){return r!==null&&!hl(r)&&r.constructor!==null&&!hl(r.constructor)&&Pn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const jS=Kn("ArrayBuffer");function zP(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&jS(r.buffer),e}const KP=xf("string"),Pn=xf("function"),HS=xf("number"),Ef=r=>r!==null&&typeof r=="object",XP=r=>r===!0||r===!1,fd=r=>{if(Sf(r)!=="object")return!1;const e=Hm(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},JP=Kn("Date"),YP=Kn("File"),QP=Kn("Blob"),ZP=Kn("FileList"),eI=r=>Ef(r)&&Pn(r.pipe),tI=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Pn(r.append)&&((e=Sf(r))==="formdata"||e==="object"&&Pn(r.toString)&&r.toString()==="[object FormData]"))},rI=Kn("URLSearchParams"),[nI,iI,aI,sI]=["ReadableStream","Request","Response","Headers"].map(Kn),oI=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Il(r,e,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let i,t;if(typeof r!="object"&&(r=[r]),Lo(r))for(i=0,t=r.length;i<t;i++)e.call(null,r[i],i,r);else{const a=n?Object.getOwnPropertyNames(r):Object.keys(r),s=a.length;let l;for(i=0;i<s;i++)l=a[i],e.call(null,r[l],l,r)}}function VS(r,e){e=e.toLowerCase();const n=Object.keys(r);let i=n.length,t;for(;i-- >0;)if(t=n[i],e===t.toLowerCase())return t;return null}const qS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$S=r=>!hl(r)&&r!==qS;function Dg(){const{caseless:r}=$S(this)&&this||{},e={},n=(i,t)=>{const a=r&&VS(e,t)||t;fd(e[a])&&fd(i)?e[a]=Dg(e[a],i):fd(i)?e[a]=Dg({},i):Lo(i)?e[a]=i.slice():e[a]=i};for(let i=0,t=arguments.length;i<t;i++)arguments[i]&&Il(arguments[i],n);return e}const uI=(r,e,n,{allOwnKeys:i}={})=>(Il(e,(t,a)=>{n&&Pn(t)?r[a]=US(t,n):r[a]=t},{allOwnKeys:i}),r),lI=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),cI=(r,e,n,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),n&&Object.assign(r.prototype,n)},dI=(r,e,n,i)=>{let t,a,s;const l={};if(e=e||{},r==null)return e;do{for(t=Object.getOwnPropertyNames(r),a=t.length;a-- >0;)s=t[a],(!i||i(s,r,e))&&!l[s]&&(e[s]=r[s],l[s]=!0);r=n!==!1&&Hm(r)}while(r&&(!n||n(r,e))&&r!==Object.prototype);return e},fI=(r,e,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=e.length;const i=r.indexOf(e,n);return i!==-1&&i===n},hI=r=>{if(!r)return null;if(Lo(r))return r;let e=r.length;if(!HS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=r[e];return n},pI=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Hm(Uint8Array)),gI=(r,e)=>{const i=(r&&r[Symbol.iterator]).call(r);let t;for(;(t=i.next())&&!t.done;){const a=t.value;e.call(r,a[0],a[1])}},mI=(r,e)=>{let n;const i=[];for(;(n=r.exec(e))!==null;)i.push(n);return i},vI=Kn("HTMLFormElement"),_I=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,t){return i.toUpperCase()+t}),by=(({hasOwnProperty:r})=>(e,n)=>r.call(e,n))(Object.prototype),yI=Kn("RegExp"),WS=(r,e)=>{const n=Object.getOwnPropertyDescriptors(r),i={};Il(n,(t,a)=>{let s;(s=e(t,a,r))!==!1&&(i[a]=s||t)}),Object.defineProperties(r,i)},bI=r=>{WS(r,(e,n)=>{if(Pn(r)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=r[n];if(!!Pn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TI=(r,e)=>{const n={},i=t=>{t.forEach(a=>{n[a]=!0})};return Lo(r)?i(r):i(String(r).split(e)),n},SI=()=>{},xI=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,Np="abcdefghijklmnopqrstuvwxyz",Ty="0123456789",GS={DIGIT:Ty,ALPHA:Np,ALPHA_DIGIT:Np+Np.toUpperCase()+Ty},EI=(r=16,e=GS.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;r--;)n+=e[Math.random()*i|0];return n};function wI(r){return!!(r&&Pn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const CI=r=>{const e=new Array(10),n=(i,t)=>{if(Ef(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[t]=i;const a=Lo(i)?[]:{};return Il(i,(s,l)=>{const c=n(s,t+1);!hl(c)&&(a[l]=c)}),e[t]=void 0,a}}return i};return n(r,0)},AI=Kn("AsyncFunction"),DI=r=>r&&(Ef(r)||Pn(r))&&Pn(r.then)&&Pn(r.catch),ie={isArray:Lo,isArrayBuffer:jS,isBuffer:GP,isFormData:tI,isArrayBufferView:zP,isString:KP,isNumber:HS,isBoolean:XP,isObject:Ef,isPlainObject:fd,isReadableStream:nI,isRequest:iI,isResponse:aI,isHeaders:sI,isUndefined:hl,isDate:JP,isFile:YP,isBlob:QP,isRegExp:yI,isFunction:Pn,isStream:eI,isURLSearchParams:rI,isTypedArray:pI,isFileList:ZP,forEach:Il,merge:Dg,extend:uI,trim:oI,stripBOM:lI,inherits:cI,toFlatObject:dI,kindOf:Sf,kindOfTest:Kn,endsWith:fI,toArray:hI,forEachEntry:gI,matchAll:mI,isHTMLForm:vI,hasOwnProperty:by,hasOwnProp:by,reduceDescriptors:WS,freezeMethods:bI,toObjectSet:TI,toCamelCase:_I,noop:SI,toFiniteNumber:xI,findKey:VS,global:qS,isContextDefined:$S,ALPHABET:GS,generateString:EI,isSpecCompliantForm:wI,toJSONObject:CI,isAsyncFn:AI,isThenable:DI};function it(r,e,n,i,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),t&&(this.response=t)}ie.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zS=it.prototype,KS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{KS[r]={value:r}});Object.defineProperties(it,KS);Object.defineProperty(zS,"isAxiosError",{value:!0});it.from=(r,e,n,i,t,a)=>{const s=Object.create(zS);return ie.toFlatObject(r,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),it.call(s,r.message,e,n,i,t),s.cause=r,s.name=r.name,a&&Object.assign(s,a),s};const kI=null;function kg(r){return ie.isPlainObject(r)||ie.isArray(r)}function XS(r){return ie.endsWith(r,"[]")?r.slice(0,-2):r}function Sy(r,e,n){return r?r.concat(e).map(function(t,a){return t=XS(t),!n&&a?"["+t+"]":t}).join(n?".":""):e}function PI(r){return ie.isArray(r)&&!r.some(kg)}const II=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function wf(r,e,n){if(!ie.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,P){return!ie.isUndefined(P[k])});const i=n.metaTokens,t=n.visitor||h,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(t))throw new TypeError("visitor must be a function");function f(C){if(C===null)return"";if(ie.isDate(C))return C.toISOString();if(!c&&ie.isBlob(C))throw new it("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(C)||ie.isTypedArray(C)?c&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function h(C,k,P){let R=C;if(C&&!P&&typeof C=="object"){if(ie.endsWith(k,"{}"))k=i?k:k.slice(0,-2),C=JSON.stringify(C);else if(ie.isArray(C)&&PI(C)||(ie.isFileList(C)||ie.endsWith(k,"[]"))&&(R=ie.toArray(C)))return k=XS(k),R.forEach(function(B,H){!(ie.isUndefined(B)||B===null)&&e.append(s===!0?Sy([k],H,a):s===null?k:k+"[]",f(B))}),!1}return kg(C)?!0:(e.append(Sy(P,k,a),f(C)),!1)}const v=[],y=Object.assign(II,{defaultVisitor:h,convertValue:f,isVisitable:kg});function x(C,k){if(!ie.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(C),ie.forEach(C,function(R,F){(!(ie.isUndefined(R)||R===null)&&t.call(e,R,ie.isString(F)?F.trim():F,k,y))===!0&&x(R,k?k.concat(F):[F])}),v.pop()}}if(!ie.isObject(r))throw new TypeError("data must be an object");return x(r),e}function xy(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Vm(r,e){this._pairs=[],r&&wf(r,this,e)}const JS=Vm.prototype;JS.append=function(e,n){this._pairs.push([e,n])};JS.toString=function(e){const n=e?function(i){return e.call(this,i,xy)}:xy;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function OI(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function YS(r,e,n){if(!e)return r;const i=n&&n.encode||OI,t=n&&n.serialize;let a;if(t?a=t(e,n):a=ie.isURLSearchParams(e)?e.toString():new Vm(e,n).toString(i),a){const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class LI{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Ey=LI,QS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RI=typeof URLSearchParams<"u"?URLSearchParams:Vm,NI=typeof FormData<"u"?FormData:null,FI=typeof Blob<"u"?Blob:null,MI={isBrowser:!0,classes:{URLSearchParams:RI,FormData:NI,Blob:FI},protocols:["http","https","file","blob","url","data"]},qm=typeof window<"u"&&typeof document<"u",BI=(r=>qm&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),UI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jI=qm&&window.location.href||"http://localhost",HI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qm,hasStandardBrowserWebWorkerEnv:UI,hasStandardBrowserEnv:BI,origin:jI},Symbol.toStringTag,{value:"Module"})),Hn={...HI,...MI};function VI(r,e){return wf(r,new Hn.classes.URLSearchParams,Object.assign({visitor:function(n,i,t,a){return Hn.isNode&&ie.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function qI(r){return ie.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $I(r){const e={},n=Object.keys(r);let i;const t=n.length;let a;for(i=0;i<t;i++)a=n[i],e[a]=r[a];return e}function ZS(r){function e(n,i,t,a){let s=n[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=n.length;return s=!s&&ie.isArray(t)?t.length:s,c?(ie.hasOwnProp(t,s)?t[s]=[t[s],i]:t[s]=i,!l):((!t[s]||!ie.isObject(t[s]))&&(t[s]=[]),e(n,i,t[s],a)&&ie.isArray(t[s])&&(t[s]=$I(t[s])),!l)}if(ie.isFormData(r)&&ie.isFunction(r.entries)){const n={};return ie.forEachEntry(r,(i,t)=>{e(qI(i),t,n,0)}),n}return null}function WI(r,e,n){if(ie.isString(r))try{return(e||JSON.parse)(r),ie.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(r)}const $m={transitional:QS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",t=i.indexOf("application/json")>-1,a=ie.isObject(e);if(a&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return t?JSON.stringify(ZS(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return VI(e,this.formSerializer).toString();if((l=ie.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return wf(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||t?(n.setContentType("application/json",!1),WI(e)):e}],transformResponse:[function(e){const n=this.transitional||$m.transitional,i=n&&n.forcedJSONParsing,t=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(i&&!this.responseType||t)){const s=!(n&&n.silentJSONParsing)&&t;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?it.from(l,it.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],r=>{$m.headers[r]={}});const Wm=$m,GI=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zI=r=>{const e={};let n,i,t;return r&&r.split(`
`).forEach(function(s){t=s.indexOf(":"),n=s.substring(0,t).trim().toLowerCase(),i=s.substring(t+1).trim(),!(!n||e[n]&&GI[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},wy=Symbol("internals");function ku(r){return r&&String(r).trim().toLowerCase()}function hd(r){return r===!1||r==null?r:ie.isArray(r)?r.map(hd):String(r)}function KI(r){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(r);)e[i[1]]=i[2];return e}const XI=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Fp(r,e,n,i,t){if(ie.isFunction(i))return i.call(this,e,n);if(t&&(e=n),!!ie.isString(e)){if(ie.isString(i))return e.indexOf(i)!==-1;if(ie.isRegExp(i))return i.test(e)}}function JI(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function YI(r,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+n,{value:function(t,a,s){return this[i].call(this,e,t,a,s)},configurable:!0})})}class Cf{constructor(e){e&&this.set(e)}set(e,n,i){const t=this;function a(l,c,f){const h=ku(c);if(!h)throw new Error("header name must be a non-empty string");const v=ie.findKey(t,h);(!v||t[v]===void 0||f===!0||f===void 0&&t[v]!==!1)&&(t[v||c]=hd(l))}const s=(l,c)=>ie.forEach(l,(f,h)=>a(f,h,c));if(ie.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(ie.isString(e)&&(e=e.trim())&&!XI(e))s(zI(e),n);else if(ie.isHeaders(e))for(const[l,c]of e.entries())a(c,l,i);else e!=null&&a(n,e,i);return this}get(e,n){if(e=ku(e),e){const i=ie.findKey(this,e);if(i){const t=this[i];if(!n)return t;if(n===!0)return KI(t);if(ie.isFunction(n))return n.call(this,t,i);if(ie.isRegExp(n))return n.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ku(e),e){const i=ie.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Fp(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let t=!1;function a(s){if(s=ku(s),s){const l=ie.findKey(i,s);l&&(!n||Fp(i,i[l],l,n))&&(delete i[l],t=!0)}}return ie.isArray(e)?e.forEach(a):a(e),t}clear(e){const n=Object.keys(this);let i=n.length,t=!1;for(;i--;){const a=n[i];(!e||Fp(this,this[a],a,e,!0))&&(delete this[a],t=!0)}return t}normalize(e){const n=this,i={};return ie.forEach(this,(t,a)=>{const s=ie.findKey(i,a);if(s){n[s]=hd(t),delete n[a];return}const l=e?JI(a):String(a).trim();l!==a&&delete n[a],n[l]=hd(t),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(i,t)=>{i!=null&&i!==!1&&(n[t]=e&&ie.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(t=>i.set(t)),i}static accessor(e){const i=(this[wy]=this[wy]={accessors:{}}).accessors,t=this.prototype;function a(s){const l=ku(s);i[l]||(YI(t,s),i[l]=!0)}return ie.isArray(e)?e.forEach(a):a(e),this}}Cf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Cf.prototype,({value:r},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[n]=i}}});ie.freezeMethods(Cf);const Vn=Cf;function Mp(r,e){const n=this||Wm,i=e||n,t=Vn.from(i.headers);let a=i.data;return ie.forEach(r,function(l){a=l.call(n,a,t.normalize(),e?e.status:void 0)}),t.normalize(),a}function e2(r){return!!(r&&r.__CANCEL__)}function Ro(r,e,n){it.call(this,r==null?"canceled":r,it.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(Ro,it,{__CANCEL__:!0});function t2(r,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?r(n):e(new it("Request failed with status code "+n.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QI(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function ZI(r,e){r=r||10;const n=new Array(r),i=new Array(r);let t=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),h=i[a];s||(s=f),n[t]=c,i[t]=f;let v=a,y=0;for(;v!==t;)y+=n[v++],v=v%r;if(t=(t+1)%r,t===a&&(a=(a+1)%r),f-s<e)return;const x=h&&f-h;return x?Math.round(y*1e3/x):void 0}}function eO(r,e){let n=0;const i=1e3/e;let t=null;return function(){const s=this===!0,l=Date.now();if(s||l-n>i)return t&&(clearTimeout(t),t=null),n=l,r.apply(null,arguments);t||(t=setTimeout(()=>(t=null,n=Date.now(),r.apply(null,arguments)),i-(l-n)))}}const kd=(r,e,n=3)=>{let i=0;const t=ZI(50,250);return eO(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-i,f=t(c),h=s<=l;i=s;const v={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&h?(l-s)/f:void 0,event:a,lengthComputable:l!=null};v[e?"download":"upload"]=!0,r(v)},n)},tO=Hn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function t(a){let s=a;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=t(window.location.href),function(s){const l=ie.isString(s)?t(s):s;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),rO=Hn.hasStandardBrowserEnv?{write(r,e,n,i,t,a){const s=[r+"="+encodeURIComponent(e)];ie.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ie.isString(i)&&s.push("path="+i),ie.isString(t)&&s.push("domain="+t),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nO(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function iO(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function r2(r,e){return r&&!nO(e)?iO(r,e):e}const Cy=r=>r instanceof Vn?{...r}:r;function ms(r,e){e=e||{};const n={};function i(f,h,v){return ie.isPlainObject(f)&&ie.isPlainObject(h)?ie.merge.call({caseless:v},f,h):ie.isPlainObject(h)?ie.merge({},h):ie.isArray(h)?h.slice():h}function t(f,h,v){if(ie.isUndefined(h)){if(!ie.isUndefined(f))return i(void 0,f,v)}else return i(f,h,v)}function a(f,h){if(!ie.isUndefined(h))return i(void 0,h)}function s(f,h){if(ie.isUndefined(h)){if(!ie.isUndefined(f))return i(void 0,f)}else return i(void 0,h)}function l(f,h,v){if(v in e)return i(f,h);if(v in r)return i(void 0,f)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(f,h)=>t(Cy(f),Cy(h),!0)};return ie.forEach(Object.keys(Object.assign({},r,e)),function(h){const v=c[h]||t,y=v(r[h],e[h],h);ie.isUndefined(y)&&v!==l||(n[h]=y)}),n}const n2=r=>{const e=ms({},r);let{data:n,withXSRFToken:i,xsrfHeaderName:t,xsrfCookieName:a,headers:s,auth:l}=e;e.headers=s=Vn.from(s),e.url=YS(r2(e.baseURL,e.url),r.params,r.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ie.isFormData(n)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[f,...h]=c?c.split(";").map(v=>v.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Hn.hasStandardBrowserEnv&&(i&&ie.isFunction(i)&&(i=i(e)),i||i!==!1&&tO(e.url))){const f=t&&a&&rO.read(a);f&&s.set(t,f)}return e},aO=typeof XMLHttpRequest<"u",sO=aO&&function(r){return new Promise(function(n,i){const t=n2(r);let a=t.data;const s=Vn.from(t.headers).normalize();let{responseType:l}=t,c;function f(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let h=new XMLHttpRequest;h.open(t.method.toUpperCase(),t.url,!0),h.timeout=t.timeout;function v(){if(!h)return;const x=Vn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:r,request:h};t2(function(R){n(R),f()},function(R){i(R),f()},k),h=null}"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(v)},h.onabort=function(){!h||(i(new it("Request aborted",it.ECONNABORTED,t,h)),h=null)},h.onerror=function(){i(new it("Network Error",it.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||QS;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new it(C,k.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,t,h)),h=null},a===void 0&&s.setContentType(null),"setRequestHeader"in h&&ie.forEach(s.toJSON(),function(C,k){h.setRequestHeader(k,C)}),ie.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),l&&l!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",kd(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",kd(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=x=>{!h||(i(!x||x.type?new Ro(null,r,h):x),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const y=QI(t.url);if(y&&Hn.protocols.indexOf(y)===-1){i(new it("Unsupported protocol "+y+":",it.ERR_BAD_REQUEST,r));return}h.send(a||null)})},oO=(r,e)=>{let n=new AbortController,i;const t=function(c){if(!i){i=!0,s();const f=c instanceof Error?c:this.reason;n.abort(f instanceof it?f:new Ro(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{t(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const s=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",t):c.unsubscribe(t))}),r=null)};r.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",t));const{signal:l}=n;return l.unsubscribe=s,[l,()=>{a&&clearTimeout(a),a=null}]},uO=oO,lO=function*(r,e){let n=r.byteLength;if(!e||n<e){yield r;return}let i=0,t;for(;i<n;)t=i+e,yield r.slice(i,t),i=t},cO=async function*(r,e,n){for await(const i of r)yield*lO(ArrayBuffer.isView(i)?i:await n(String(i)),e)},Ay=(r,e,n,i,t)=>{const a=cO(r,e,t);let s=0;return new ReadableStream({type:"bytes",async pull(l){const{done:c,value:f}=await a.next();if(c){l.close(),i();return}let h=f.byteLength;n&&n(s+=h),l.enqueue(new Uint8Array(f))},cancel(l){return i(l),a.return()}},{highWaterMark:2})},Dy=(r,e)=>{const n=r!=null;return i=>setTimeout(()=>e({lengthComputable:n,total:r,loaded:i}))},Af=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",i2=Af&&typeof ReadableStream=="function",Pg=Af&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),dO=i2&&(()=>{let r=!1;const e=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e})(),ky=64*1024,Ig=i2&&!!(()=>{try{return ie.isReadableStream(new Response("").body)}catch{}})(),Pd={stream:Ig&&(r=>r.body)};Af&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pd[e]&&(Pd[e]=ie.isFunction(r[e])?n=>n[e]():(n,i)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,i)})})})(new Response);const fO=async r=>{if(r==null)return 0;if(ie.isBlob(r))return r.size;if(ie.isSpecCompliantForm(r))return(await new Request(r).arrayBuffer()).byteLength;if(ie.isArrayBufferView(r))return r.byteLength;if(ie.isURLSearchParams(r)&&(r=r+""),ie.isString(r))return(await Pg(r)).byteLength},hO=async(r,e)=>{const n=ie.toFiniteNumber(r.getContentLength());return n==null?fO(e):n},pO=Af&&(async r=>{let{url:e,method:n,data:i,signal:t,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:f,headers:h,withCredentials:v="same-origin",fetchOptions:y}=n2(r);f=f?(f+"").toLowerCase():"text";let[x,C]=t||a||s?uO([t,a],s):[],k,P;const R=()=>{!k&&setTimeout(()=>{x&&x.unsubscribe()}),k=!0};let F;try{if(c&&dO&&n!=="get"&&n!=="head"&&(F=await hO(h,i))!==0){let Y=new Request(e,{method:"POST",body:i,duplex:"half"}),Q;ie.isFormData(i)&&(Q=Y.headers.get("content-type"))&&h.setContentType(Q),Y.body&&(i=Ay(Y.body,ky,Dy(F,kd(c)),null,Pg))}ie.isString(v)||(v=v?"cors":"omit"),P=new Request(e,{...y,signal:x,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",withCredentials:v});let B=await fetch(P);const H=Ig&&(f==="stream"||f==="response");if(Ig&&(l||H)){const Y={};["status","statusText","headers"].forEach(U=>{Y[U]=B[U]});const Q=ie.toFiniteNumber(B.headers.get("content-length"));B=new Response(Ay(B.body,ky,l&&Dy(Q,kd(l,!0)),H&&R,Pg),Y)}f=f||"text";let K=await Pd[ie.findKey(Pd,f)||"text"](B,r);return!H&&R(),C&&C(),await new Promise((Y,Q)=>{t2(Y,Q,{data:K,headers:Vn.from(B.headers),status:B.status,statusText:B.statusText,config:r,request:P})})}catch(B){throw R(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,r,P),{cause:B.cause||B}):it.from(B,B&&B.code,r,P)}}),Og={http:kI,xhr:sO,fetch:pO};ie.forEach(Og,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Py=r=>`- ${r}`,gO=r=>ie.isFunction(r)||r===null||r===!1,a2={getAdapter:r=>{r=ie.isArray(r)?r:[r];const{length:e}=r;let n,i;const t={};for(let a=0;a<e;a++){n=r[a];let s;if(i=n,!gO(n)&&(i=Og[(s=String(n)).toLowerCase()],i===void 0))throw new it(`Unknown adapter '${s}'`);if(i)break;t[s||"#"+a]=i}if(!i){const a=Object.entries(t).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(Py).join(`
`):" "+Py(a[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Og};function Bp(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ro(null,r)}function Iy(r){return Bp(r),r.headers=Vn.from(r.headers),r.data=Mp.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),a2.getAdapter(r.adapter||Wm.adapter)(r).then(function(i){return Bp(r),i.data=Mp.call(r,r.transformResponse,i),i.headers=Vn.from(i.headers),i},function(i){return e2(i)||(Bp(r),i&&i.response&&(i.response.data=Mp.call(r,r.transformResponse,i.response),i.response.headers=Vn.from(i.response.headers))),Promise.reject(i)})}const s2="1.7.2",Gm={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Gm[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const Oy={};Gm.transitional=function(e,n,i){function t(a,s){return"[Axios v"+s2+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,l)=>{if(e===!1)throw new it(t(s," has been removed"+(n?" in "+n:"")),it.ERR_DEPRECATED);return n&&!Oy[s]&&(Oy[s]=!0,console.warn(t(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,l):!0}};function mO(r,e,n){if(typeof r!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let t=i.length;for(;t-- >0;){const a=i[t],s=e[a];if(s){const l=r[a],c=l===void 0||s(l,a,r);if(c!==!0)throw new it("option "+a+" must be "+c,it.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new it("Unknown option "+a,it.ERR_BAD_OPTION)}}const Lg={assertOptions:mO,validators:Gm},ma=Lg.validators;class Id{constructor(e){this.defaults=e,this.interceptors={request:new Ey,response:new Ey}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const a=t.stack?t.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ms(this.defaults,n);const{transitional:i,paramsSerializer:t,headers:a}=n;i!==void 0&&Lg.assertOptions(i,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),t!=null&&(ie.isFunction(t)?n.paramsSerializer={serialize:t}:Lg.assertOptions(t,{encode:ma.function,serialize:ma.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&ie.merge(a.common,a[n.method]);a&&ie.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),n.headers=Vn.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(c=c&&k.synchronous,l.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let h,v=0,y;if(!c){const C=[Iy.bind(this),void 0];for(C.unshift.apply(C,l),C.push.apply(C,f),y=C.length,h=Promise.resolve(n);v<y;)h=h.then(C[v++],C[v++]);return h}y=l.length;let x=n;for(v=0;v<y;){const C=l[v++],k=l[v++];try{x=C(x)}catch(P){k.call(this,P);break}}try{h=Iy.call(this,x)}catch(C){return Promise.reject(C)}for(v=0,y=f.length;v<y;)h=h.then(f[v++],f[v++]);return h}getUri(e){e=ms(this.defaults,e);const n=r2(e.baseURL,e.url);return YS(n,e.params,e.paramsSerializer)}}ie.forEach(["delete","get","head","options"],function(e){Id.prototype[e]=function(n,i){return this.request(ms(i||{},{method:e,url:n,data:(i||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(i){return function(a,s,l){return this.request(ms(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Id.prototype[e]=n(),Id.prototype[e+"Form"]=n(!0)});const pd=Id;class zm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(t=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](t);i._listeners=null}),this.promise.then=t=>{let a;const s=new Promise(l=>{i.subscribe(l),a=l}).then(t);return s.cancel=function(){i.unsubscribe(a)},s},e(function(a,s,l){i.reason||(i.reason=new Ro(a,s,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new zm(function(t){e=t}),cancel:e}}}const vO=zm;function _O(r){return function(n){return r.apply(null,n)}}function yO(r){return ie.isObject(r)&&r.isAxiosError===!0}const Rg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rg).forEach(([r,e])=>{Rg[e]=r});const bO=Rg;function o2(r){const e=new pd(r),n=US(pd.prototype.request,e);return ie.extend(n,pd.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(t){return o2(ms(r,t))},n}const ir=o2(Wm);ir.Axios=pd;ir.CanceledError=Ro;ir.CancelToken=vO;ir.isCancel=e2;ir.VERSION=s2;ir.toFormData=wf;ir.AxiosError=it;ir.Cancel=ir.CanceledError;ir.all=function(e){return Promise.all(e)};ir.spread=_O;ir.isAxiosError=yO;ir.mergeConfig=ms;ir.AxiosHeaders=Vn;ir.formToJSON=r=>ZS(ie.isHTMLForm(r)?new FormData(r):r);ir.getAdapter=a2.getAdapter;ir.HttpStatusCode=bO;ir.default=ir;const TO=ir;var u2=(r=>(r[r.SUCCESS=200]="SUCCESS",r[r.ERROR=500]="ERROR",r[r.OVERDUE=401]="OVERDUE",r[r.TIMEOUT=3e4]="TIMEOUT",r.TYPE="success",r))(u2||{});const SO=r=>{switch(r){case 400:console.error("\u8BF7\u6C42\u5931\u8D25\uFF01\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5");break;case 401:console.error("\u767B\u5F55\u5931\u6548\uFF01\u8BF7\u60A8\u91CD\u65B0\u767B\u5F55");break;case 403:console.error("\u5F53\u524D\u8D26\u53F7\u65E0\u6743\u9650\u8BBF\u95EE\uFF01");break;case 404:console.error("\u4F60\u6240\u8BBF\u95EE\u7684\u8D44\u6E90\u4E0D\u5B58\u5728\uFF01");break;case 405:console.error("\u8BF7\u6C42\u65B9\u5F0F\u9519\u8BEF\uFF01\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5");break;case 408:console.error("\u8BF7\u6C42\u8D85\u65F6\uFF01\u8BF7\u60A8\u7A0D\u540E\u91CD\u8BD5");break;case 500:console.error("\u670D\u52A1\u5F02\u5E38\uFF01");break;case 502:console.error("\u7F51\u5173\u9519\u8BEF\uFF01");break;case 503:console.error("\u670D\u52A1\u4E0D\u53EF\u7528\uFF01");break;case 504:console.error("\u7F51\u5173\u8D85\u65F6\uFF01");break;default:console.error("\u8BF7\u6C42\u5931\u8D25\uFF01")}};var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l2(r){var e=r.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var t=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,t.get?t:{enumerable:!0,get:function(){return r[i]}})}),n}var c2={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(pl,function(){function n(u){if(!u)return!1;var d=Object.prototype.toString.call(u);return d=="[object Function]"||d=="[object AsyncFunction]"}function i(){return Date.now&&n(Date.now)?Date.now():new Date().getTime()}function t(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"}function a(){if(typeof Uint32Array=="function"){var u="";if(typeof crypto<"u"?u=crypto:typeof msCrypto<"u"&&(u=msCrypto),t(u)&&u.getRandomValues){var d=new Uint32Array(1),p=u.getRandomValues(d)[0],g=Math.pow(2,32);return p/g}}return h0(1e19)/1e19}function s(u){var d=null;try{d=JSON.parse(u)}catch{}return d}function l(u,d){this.lockGetPrefix=u||"lock-get-prefix",this.lockSetPrefix=d||"lock-set-prefix"}function c(u){return typeof u=="function"||!(!u||typeof u!="object")&&c(u.listener)}function f(){this._events={}}function h(u){var d=u;try{d=decodeURIComponent(u)}catch{d=u}return d}function v(){function u(){}return typeof Object.create!="function"?(u.prototype=null,new u):Object.create(null)}function y(u){u=u||"";for(var d=v(),p=u.substring(1),g=p.split("&"),b=0;b<g.length;b++){var w=g[b].indexOf("=");if(w!==-1){var L=g[b].substring(0,w),W=g[b].substring(w+1);L=h(L),W=h(W),d[L]=W}}return d}function x(u){return Object.prototype.toString.call(u)=="[object String]"}function C(u){return u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function k(u){var d=function(p){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,typeof p<"u"&&this._parse(p)};return d.prototype.setUrl=function(p){this._parse(p)},d.prototype._initValues=function(){for(var p in this._fields)this._values[p]=""},d.prototype.addQueryString=function(p){if(typeof p!="object")return!1;var g=this._values.QueryString||"";for(var b in p)g=new RegExp(b+"[^&]+").test(g)?g.replace(new RegExp(b+"[^&]+"),b+"="+p[b]):g.slice(-1)==="&"?g+b+"="+p[b]:g===""?b+"="+p[b]:g+"&"+b+"="+p[b];this._values.QueryString=g},d.prototype.getUrl=function(){var p="";return p+=this._values.Origin,p+=this._values.Port?":"+this._values.Port:"",p+=this._values.Path,p+=this._values.QueryString?"?"+this._values.QueryString:"",p+=this._values.Fragment?"#"+this._values.Fragment:""},d.prototype._parse=function(p){this._initValues();var g=this._regex.exec(p);g||dr.log("URLParser::_parse -> Invalid URL");var b=p.split("#"),w=b[0],L=b.slice(1).join("#");g=this._regex.exec(w);for(var W in this._fields)typeof g[this._fields[W]]<"u"&&(this._values[W]=g[this._fields[W]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname,this._values.Fragment=L},new d(u)}function P(u){var d={},p=function(){var w;try{return w=new URL("http://modernizr.com/"),w.href==="http://modernizr.com/"}catch{return!1}};if(typeof window.URL=="function"&&p())d=new URL(u),d.searchParams||(d.searchParams=function(){var w=y(d.search);return{get:function(L){return w[L]}}}());else{x(u)||(u=String(u)),u=C(u);var g=/^https?:\/\/.+/;if(g.test(u)===!1)return void dr.log("Invalid URL");var b=k(u);d.hash=b._values.Fragment,d.host=b._values.Host?b._values.Host+(b._values.Port?":"+b._values.Port:""):"",d.href=b._values.URL,d.password=b._values.Password,d.pathname=b._values.Path,d.port=b._values.Port,d.search=b._values.QueryString?"?"+b._values.QueryString:"",d.username=b._values.Username,d.hostname=b._values.Hostname,d.protocol=b._values.Protocol?b._values.Protocol+":":"",d.origin=b._values.Origin?b._values.Origin+(b._values.Port?":"+b._values.Port:""):"",d.searchParams=function(){var w=y("?"+b._values.QueryString);return{get:function(L){return w[L]}}}()}return d}function R(u){return!(!u||u.nodeType!==1)}function F(u){return u===void 0}function B(u){return Array.isArray&&n(B)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"}function H(u){return new p0(u)}function K(u,d,p,g){function b(W){return W&&(W.preventDefault=b.preventDefault,W.stopPropagation=b.stopPropagation,W._getPath=b._getPath),W}function w(W,re,ge,Ce){var Ze=function(et){if(et=et||b(window.event)){et.target=et.srcElement;var Mt,Sr,Zt=!0;return typeof ge=="function"&&(Mt=ge(et)),Sr=re.call(W,et),Ce!=="beforeunload"?(Mt!==!1&&Sr!==!1||(Zt=!1),Zt):void 0}};return Ze}b._getPath=function(){var W=this;return this.path||this.composedPath&&this.composedPath()||H(W.target).getParents()},b.preventDefault=function(){this.returnValue=!1},b.stopPropagation=function(){this.cancelBubble=!0};var L=function(W,re,ge){if(g===void 0&&re==="click"&&(g=!0),W&&W.addEventListener)W.addEventListener(re,function(et){et._getPath=b._getPath,ge.call(this,et)},g);else{var Ce="on"+re,Ze=W[Ce];W[Ce]=w(W,ge,Ze,re)}};L.apply(null,arguments)}function Y(u){var d="pushState"in window.history?"popstate":"hashchange";K(window,d,u)}function Q(u){if(u)return typeof window.XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:typeof XDomainRequest<"u"?new XDomainRequest:null;if(typeof window.XMLHttpRequest<"u")return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(p){dr.log(p)}}}function U(u,d,p){if(u==null)return!1;if(m0&&u.forEach===m0)u.forEach(d,p);else if(B(u))for(var g=0,b=u.length;g<b;g++)g in u&&d.call(p,u[g],g,u);else for(var w in u)vw.call(u,w)&&d.call(p,u[w],w,u)}function z(u){return U(Array.prototype.slice.call(arguments,1),function(d){for(var p in d)_w.call(d,p)&&d[p]!==void 0&&(u[p]=d[p])}),u}function Z(u){function d(W){if(!W)return"";try{return JSON.parse(W)}catch{return{}}}function p(){try{g&&typeof g=="object"&&g.abort&&g.abort()}catch(W){dr.log(W)}b&&(clearTimeout(b),b=null,u.error&&u.error(),g.onreadystatechange=null,g.onload=null,g.onerror=null)}u.timeout=u.timeout||2e4,u.credentials=typeof u.credentials>"u"||u.credentials;var g=Q(u.cors);if(!g)return!1;u.type||(u.type=u.data?"POST":"GET"),u=z({success:function(){},error:function(){}},u);var b,w=u.success,L=u.error;u.success=function(W){w(W),b&&(clearTimeout(b),b=null)},u.error=function(W){L(W),b&&(clearTimeout(b),b=null)},b=setTimeout(function(){p()},u.timeout),typeof XDomainRequest<"u"&&g instanceof XDomainRequest&&(g.onload=function(){u.success&&u.success(d(g.responseText)),g.onreadystatechange=null,g.onload=null,g.onerror=null},g.onerror=function(){u.error&&u.error(d(g.responseText),g.status),g.onreadystatechange=null,g.onerror=null,g.onload=null}),g.onreadystatechange=function(){try{g.readyState==4&&(g.status>=200&&g.status<300||g.status==304?u.success(d(g.responseText)):u.error(d(g.responseText),g.status),g.onreadystatechange=null,g.onload=null)}catch{g.onreadystatechange=null,g.onload=null}},g.open(u.type,u.url,!0);try{u.credentials&&(g.withCredentials=!0),t(u.header)&&U(u.header,function(W,re){g.setRequestHeader&&g.setRequestHeader(re,W)}),u.data&&(u.cors||g.setRequestHeader&&g.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.contentType==="application/json"?g.setRequestHeader&&g.setRequestHeader("Content-type","application/json; charset=UTF-8"):g.setRequestHeader&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(W){dr.log(W)}g.send(u.data||null)}function se(u,d){var p=[];return u==null?p:Array.prototype.map&&u.map===Array.prototype.map?u.map(d):(U(u,function(g,b,w){p.push(d(g,b,w))}),p)}function te(u){var d=[];try{d=se(atob(u).split(""),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)})}catch{d=[]}try{return decodeURIComponent(d.join(""))}catch{return d.join("")}}function ce(u){var d="";try{d=btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,function(p,g){return String.fromCharCode("0x"+g)}))}catch{d=u}return d}function Fe(u,d){d=d||window;var p=!1,g=!0,b=d.document,w=b.documentElement,L=b.addEventListener,W=L?"addEventListener":"attachEvent",re=L?"removeEventListener":"detachEvent",ge=L?"":"on",Ce=function(et){et.type=="readystatechange"&&b.readyState!="complete"||((et.type=="load"?d:b)[re](ge+et.type,Ce,!1),!p&&(p=!0)&&u.call(d,et.type||et))},Ze=function(){try{w.doScroll("left")}catch{return void setTimeout(Ze,50)}Ce("poll")};if(b.readyState=="complete")u.call(d,"lazy");else{if(!L&&w.doScroll){try{g=!d.frameElement}catch(et){dr.log(et)}g&&Ze()}b[W](ge+"DOMContentLoaded",Ce,!1),b[W](ge+"readystatechange",Ce,!1),d[W](ge+"load",Ce,!1)}}function Ue(u){return U(Array.prototype.slice.call(arguments,1),function(d){for(var p in d)d[p]!==void 0&&u[p]===void 0&&(u[p]=d[p])}),u}function ve(u){var d=u;try{d=decodeURI(u)}catch{d=u}return d}function De(u){var d="t6KJCZa5pDdQ9khoEM3Tj70fbP2eLSyc4BrsYugARqFIw1mzlGNVXOHiWvxUn8",p=d.length-1,g={},b=0;for(b=0;b<d.length;b++)g[d.charAt(b)]=d.charAt(p-b);var w="";for(b=0;b<u.length;b++)w+=u.charAt(b)in g?g[u.charAt(b)]:u.charAt(b);return w}function Me(u){return Object.prototype.toString.call(u)=="[object Date]"}function _t(u){function d(p){return p<10?"0"+p:p}return u.getFullYear()+"-"+d(u.getMonth()+1)+"-"+d(u.getDate())+" "+d(u.getHours())+":"+d(u.getMinutes())+":"+d(u.getSeconds())+"."+d(u.getMilliseconds())}function at(u){return U(u,function(d,p){Me(d)?u[p]=_t(d):t(d)&&(u[p]=at(d))}),u}function or(u){return U(Array.prototype.slice.call(arguments,1),function(d){for(var p in d)d[p]!==void 0&&(t(d[p])&&t(u[p])?z(u[p],d[p]):u[p]=d[p])}),u}function yt(u,d,p){var g=Object.prototype.hasOwnProperty;if(u.filter)return u.filter(d);for(var b=[],w=0;w<u.length;w++)if(g.call(u,w)){var L=u[w];d.call(p,L,w,u)&&b.push(L)}return b}function ur(u){try{return JSON.stringify(u,null,"  ")}catch{return JSON.stringify(u)}}function yr(u){return typeof u=="string"&&u.match(/^[a-zA-Z0-9\u4e00-\u9fa5\-\.]+$/)?u:""}function Ar(u,d,p){u=u||location.hostname,d=d||"domain_test";var g=yr(u),b=g.split(".");if(B(b)&&b.length>=2&&!/^(\d+\.)+\d+$/.test(g)){for(var w="."+b.splice(b.length-1,1);b.length>0;)if(w="."+b.splice(b.length-1,1)+w,$a.set(d,"true",0,null,p,"; domain="+w),document.cookie.indexOf(d+"=true")!==-1)return $a.set(d,"true","-1s",null,p,"; domain="+w),w}return""}function mt(u){function d(w,L){w=C(w);var W;if(w==="body")return document.getElementsByTagName("body")[0];if(w.indexOf("#")===0)w=w.slice(1),W=document.getElementById(w);else if(w.indexOf(":nth-of-type")>-1){var re=w.split(":nth-of-type");if(!re[0]||!re[1])return null;var ge=re[0],Ce=re[1].match(/\(([0-9]+)\)/);if(!Ce||!Ce[1])return null;var Ze=Number(Ce[1]);if(!(R(L)&&L.children&&L.children.length>0))return null;for(var et=L.children,Mt=0;Mt<et.length;Mt++)if(R(et[Mt])){var Sr=et[Mt].tagName.toLowerCase();if(Sr===ge&&(Ze--,Ze===0)){W=et[Mt];break}}if(Ze>0)return null}return W||null}function p(w){var L,W=g.shift();if(!W)return w;try{L=d(W,w)}catch(re){dr.log(re)}return L&&R(L)?p(L):null}if(!x(u))return null;var g=u.split(">"),b=null;return b=p(),b&&R(b)?b:null}function oe(u,d){var p="",g="";return u.textContent?p=C(u.textContent):u.innerText&&(p=C(u.innerText)),p&&(p=p.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),g=p||"",d!=="input"&&d!=="INPUT"||(g=u.value||""),g}function xe(u,d){d&&typeof d=="string"||(d="hostname\u89E3\u6790\u5F02\u5E38");var p=null;try{p=P(u).hostname}catch{dr.log("getHostname\u4F20\u5165\u7684url\u53C2\u6570\u4E0D\u5408\u6CD5\uFF01")}return p||d}function we(){try{var u=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return u&&u[1]?Number.parseInt(u[1],10):""}catch{return""}}function Ne(u,d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),u=h(u);var p="[\\?&]"+d+"=([^&#]*)",g=new RegExp(p),b=g.exec(u);return b===null||b&&typeof b[1]!="string"&&b[1].length?"":h(b[1])}function ut(u){var d={},p=u.split("?"),g=p[1]||"";return g&&(d=y("?"+g)),d}function Tt(){return typeof window.matchMedia<"u"||typeof window.msMatchMedia<"u"}function j(){var u=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,d="\u672A\u53D6\u5230\u503C";if(u)d=u.indexOf("landscape")>-1?"landscape":"portrait";else if(Tt()){var p=window.matchMedia||window.msMatchMedia;p("(orientation: landscape)").matches?d="landscape":p("(orientation: portrait)").matches&&(d="portrait")}return d}function G(){var u,d={},p=navigator.userAgent.toLowerCase();return(u=p.match(/ qq\/([\d.]+)/))?d.qqBuildinBrowser=Number(u[1].split(".")[0]):(u=p.match(/mqqbrowser\/([\d.]+)/))?d.qqBrowser=Number(u[1].split(".")[0]):(u=p.match(/opera.([\d.]+)/))?d.opera=Number(u[1].split(".")[0]):(u=p.match(/msie ([\d.]+)/))?d.ie=Number(u[1].split(".")[0]):(u=p.match(/edge.([\d.]+)/))?d.edge=Number(u[1].split(".")[0]):(u=p.match(/firefox\/([\d.]+)/))?d.firefox=Number(u[1].split(".")[0]):(u=p.match(/chrome\/([\d.]+)/))?d.chrome=Number(u[1].split(".")[0]):(u=p.match(/version\/([\d.]+).*safari/))?d.safari=Number(u[1].match(/^\d*.\d*/)):(u=p.match(/trident\/([\d.]+)/))&&(d.ie=11),d}function ee(u){return x(u)?(u=C(u),ve(u)):ve(location.href)}function ue(u){return x(u)?(u=C(u),ve(u)):ve(location.pathname)}function ae(u,d){return u.hasAttribute?u.hasAttribute(d):u.attributes?!(!u.attributes[d]||!u.attributes[d].specified):void 0}function ye(u,d){if(typeof d=="string")return ae(u,d);if(B(d)){for(var p=!1,g=0;g<d.length;g++){var b=ae(u,d[g]);if(b){p=!0;break}}return p}}function de(u){if(typeof u!="string")return 0;var d=0,p=null;if(u.length==0)return d;for(var g=0;g<u.length;g++)p=u.charCodeAt(g),d=(d<<5)-d+p,d&=d;return d}function be(u){var d=9007199254740992,p=-9007199254740992,g=31,b=0;if(u.length>0)for(var w=u.split(""),L=0;L<w.length;L++){var W=w[L].charCodeAt(),re=g*b+W;if(re>d)for(b=p+b;re=g*b+W,re<p;)b=b/2+W;if(re<p)for(b=d+b;re=g*b+W,re>d;)b=b/2+W;b=g*b+W}return b}function he(u,d){var p=u.indexOf;if(p)return p.call(u,d);for(var g=0;g<u.length;g++)if(d===u[g])return g;return-1}function pe(u,d){return u.prototype=new d,u.prototype.constructor=u,u.superclass=d.prototype,u}function Le(u){return!(!u||!yw.call(u,"callee"))}function je(u){return Object.prototype.toString.call(u)=="[object Boolean]"}function ke(u){if(t(u)){for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d))return!1;return!0}return!1}function $e(u){if(typeof u!="string")return!1;var d=/^https?:\/\/.+/;return d.test(u)!==!1||(dr.log("Invalid URL"),!1)}function nt(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}function ct(u){try{JSON.parse(u)}catch{return!1}return!0}function lt(u){return Object.prototype.toString.call(u)=="[object Number]"&&/[\d\.]+/.test(String(u))}function jt(){var u=!1;if(typeof navigator!="object"||typeof navigator.sendBeacon!="function")return u;var d=G(),p=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var g=/os [\d._]*/gi,b=p.match(g),w=(b+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),L=w.split(".");typeof d.safari>"u"&&(d.safari=L[0]),L[0]&&(d.qqBuildinBrowser||d.qqBrowser)?u=!1:L[0]&&L[0]<13?(d.chrome>41||d.firefox>30||d.opera>25||d.safari>12)&&(u=!0):(d.chrome>41||d.firefox>30||d.opera>25||d.safari>11.3)&&(u=!0)}else(d.chrome>38||d.edge>13||d.firefox>30||d.opera>25||d.safari>11)&&(u=!0);return u}function Qe(){return typeof window.XMLHttpRequest<"u"&&("withCredentials"in new XMLHttpRequest||typeof XDomainRequest<"u")}function Ln(u){if(!t(u)||!x(u.callbackName))return dr.log("JSONP \u8BF7\u6C42\u7F3A\u5C11 callbackName"),!1;u.success=n(u.success)?u.success:function(){},u.error=n(u.error)?u.error:function(){},u.data=u.data||"";var d=document.createElement("script"),p=document.getElementsByTagName("head")[0],g=null,b=!1;if(p.appendChild(d),lt(u.timeout)&&(g=setTimeout(function(){return!b&&(u.error("timeout"),window[u.callbackName]=function(){dr.log("call jsonp error")},g=null,p.removeChild(d),void(b=!0))},u.timeout)),window[u.callbackName]=function(){clearTimeout(g),g=null,u.success.apply(null,arguments),window[u.callbackName]=function(){dr.log("call jsonp error")},p.removeChild(d)},u.url.indexOf("?")>-1?u.url+="&callbackName="+u.callbackName:u.url+="?callbackName="+u.callbackName,t(u.data)){var w=[];U(u.data,function(L,W){w.push(W+"="+L)}),u.data=w.join("&"),u.url+="&"+u.data}d.onerror=function(L){return!b&&(window[u.callbackName]=function(){dr.log("call jsonp error")},clearTimeout(g),g=null,p.removeChild(d),u.error(L),void(b=!0))},d.src=u.url}function Na(u){var d={visibleHandler:n(u.visible)?u.visible:function(){},hiddenHandler:n(u.hidden)?u.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return typeof document[this.hidden]<"u"},init:function(){typeof document.hidden<"u"?(this.hidden="hidden",this.visibilityChange="visibilitychange"):typeof document.mozHidden<"u"?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):typeof document.msHidden<"u"?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var p=this;K(document,this.visibilityChange,function(){document[p.hidden]?p.hiddenHandler():p.visibleHandler()},1)}else K(window,"focus",this.visibleHandler),K(window,"blur",this.hiddenHandler)}};d.init()}function _n(u){u=z({success:function(){},error:function(){},appendCall:function(p){document.getElementsByTagName("head")[0].appendChild(p)}},u);var d=null;u.type==="css"&&(d=document.createElement("link"),d.rel="stylesheet",d.href=u.url),u.type==="js"&&(d=document.createElement("script"),d.async="async",d.setAttribute("charset","UTF-8"),d.src=u.url,d.type="text/javascript"),d.onload=d.onreadystatechange=function(){this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete"||(u.success(),d.onload=d.onreadystatechange=null)},d.onerror=function(){u.error(),d.onerror=null},u.appendCall(d)}function Ss(u){if(typeof u!="string")return"";for(var d=/^\s*javascript/i;d.test(u);)u=u.replace(d,"");return u}function lr(u,d){u=String(u),d=typeof d=="number"?d:13;for(var p=126,g=u.split(""),b=0,w=g.length;b<w;b++){var L=g[b].charCodeAt(0);L<p&&(g[b]=String.fromCharCode((g[b].charCodeAt(0)+d)%p))}return g.join("")}function cr(u){var d=13,p=126;return u=String(u),lr(u,p-d)}function Yi(u){t(u)&&U(u,function(d,p){t(d)?Yi(u[p]):Me(d)&&(u[p]=_t(d))})}function xs(u){var d=document.createElement("style");d.type="text/css";try{d.appendChild(document.createTextNode(u))}catch{d.styleSheet.cssText=u}var p=document.getElementsByTagName("head")[0],g=document.getElementsByTagName("script")[0];p?p.children.length?p.insertBefore(d,p.children[0]):p.appendChild(d):g.parentNode.insertBefore(d,g)}function Xf(u){if(typeof u!="string")return dr.log("\u8F6C\u6362unicode\u9519\u8BEF",u),u;for(var d="",p=0;p<u.length;p++)d+="\\"+u.charCodeAt(p).toString(16);return d}function Jf(u,d,p){var g,b,w,L=null,W=0;p||(p={});var re=function(){W=p.leading===!1?0:i(),L=null,w=u.apply(g,b),L||(g=b=null)};return function(){var ge=i();W||p.leading!==!1||(W=ge);var Ce=d-(ge-W);return g=this,b=arguments,Ce<=0||Ce>d?(L&&(clearTimeout(L),L=null),W=ge,w=u.apply(g,b),L||(g=b=null)):L||p.trailing===!1||(L=setTimeout(re,Ce)),w}}function zr(u){var d=[];return u==null||U(u,function(p){d[d.length]=p}),d}function ql(u){return u?u.toArray?u.toArray():B(u)||Le(u)?Array.prototype.slice.call(u):zr(u):[]}function Es(u){for(var d,p=[],g={},b=0;b<u.length;b++)d=u[b],d in g||(g[d]=!0,p.push(d));return p}function $o(u,d,p){return p=p||0,u.substr(p,d.length)===d}function yn(){Wa.msg.apply(Wa,arguments).log()}function ze(){Wa.msg.apply(Wa,arguments).level("warn").log()}function st(){Wa.msg.apply(Wa,arguments).level("error").log()}function _i(u){var d=Re.current_domain;switch(typeof d){case"function":var p=d();return p===""||C(p)===""?"url\u89E3\u6790\u5931\u8D25":p.indexOf(".")!==-1?p:"url\u89E3\u6790\u5931\u8D25";case"string":return d===""||C(d)===""?"url\u89E3\u6790\u5931\u8D25":d.indexOf(".")!==-1?d:"url\u89E3\u6790\u5931\u8D25";default:var g=Ar(null,_0,Re.is_secure_cookie);return u===""||g===""?"url\u89E3\u6790\u5931\u8D25":g}}function Dr(u,d){var p="";if(Re.cross_subdomain===!1){try{if(d)p=P(d).hostname;else{var g=location.host;F(O.para.white_list[g])||(p=O.para.white_list[g])}}catch(b){st(b)}p=typeof p=="string"&&p!==""?"sajssdk_2015_"+Re.sdk_id+u+"_"+p.replace(/\./g,"_"):"sajssdk_2015_root_"+Re.sdk_id+u}else p="sajssdk_2015_cross_"+Re.sdk_id+u;return p}function ws(){var u="new_user";return un.isSupport()?un.get("sensorsdata_is_new_user")!==null||un.get(Dr(u))!==null:Ec.get(Ec.getNewUserFlagMemoryKey(u))!==null}function yi(u,d,p){var g=!(!t(Re.heatmap)||!Re.heatmap.useCapture);return t(Re.heatmap)&&F(Re.heatmap.useCapture)&&d==="click"&&(g=!0),K(u,d,p,g)}function Jn(){var u=document.referrer,d="baidu.com";if(!u)return!1;try{var p=P(u).hostname;return p&&p.substring(p.length-d.length)===d}catch{return!1}}function bn(){var u=ut(document.referrer);if(ke(u)||!u.eqid){var d=ut(location.href);return u.ck||d.utm_source?"baidu_sem_keyword_id":"baidu_other_keyword_id"}return"baidu_seo_keyword_id"}function Fa(){var u=ut(document.referrer);return ke(u)||!u.eqid?ia().replace(/-/g,""):u.eqid}function dt(u,d){return u=u||document.referrer,x(u)?(u=C(u),u=ve(u),u.indexOf("https://www.baidu.com/")!==0||d||(u=u.split("?")[0]),u=u.slice(0,Re.max_referrer_string_length),x(u)?u:""):"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function Cs(u){if(u=u||document.referrer,u==="")return!0;var d=Ar(null,_0,Re.is_secure_cookie),p=xe(u);return p="."+p,p.indexOf(d)===-1&&d!==""}function Yn(u,d){u=u||document.referrer;var p=Re.source_type.keyword;if(document&&x(u)){if(u.indexOf("http")===0){var g=Ma(u),b=ut(u);if(ke(b))return Re.preset_properties.search_keyword_baidu&&Jn()?void 0:"\u672A\u53D6\u5230\u503C";var w=null;for(var L in p)if(g===L&&t(b)){if(w=p[L],B(w))for(L=0;L<w.length;L++){var W=b[w[L]];if(W)return d?{active:W}:W}else if(b[w])return d?{active:b[w]}:b[w]}return Re.preset_properties.search_keyword_baidu&&Jn()?void 0:"\u672A\u53D6\u5230\u503C"}return u===""?"\u672A\u53D6\u5230\u503C_\u76F4\u63A5\u6253\u5F00":"\u672A\u53D6\u5230\u503C_\u975Ehttp\u7684url"}return"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(u)}function Ma(u){var d=xe(u);if(!d||d==="hostname\u89E3\u6790\u5F02\u5E38")return"";var p={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var g in p)for(var b=p[g],w=0,L=b.length;w<L;w++)if(b[w].test(d))return g;return"\u672A\u77E5\u641C\u7D22\u5F15\u64CE"}function Wo(){function u(W,re){for(var ge=0;ge<W.length;ge++)if(re.split("?")[0].indexOf(W[ge])!==-1)return!0}var d="("+Re.source_type.utm.join("|")+")\\=[^&]+",p=Re.source_type.search,g=Re.source_type.social,b=document.referrer||"",w=St.pageProp.url;if(w){var L=w.match(new RegExp(d));return L&&L[0]?"\u4ED8\u8D39\u5E7F\u544A\u6D41\u91CF":u(p,b)?"\u81EA\u7136\u641C\u7D22\u6D41\u91CF":u(g,b)?"\u793E\u4EA4\u7F51\u7AD9\u6D41\u91CF":b===""?"\u76F4\u63A5\u6D41\u91CF":"\u5F15\u8350\u6D41\u91CF"}return"\u83B7\u53D6url\u5F02\u5E38"}function Qn(u){var d=Ne(u,"gdt_vid"),p=Ne(u,"hash_key"),g=Ne(u,"callbacks"),b={click_id:"",hash_key:"",callbacks:""};return x(d)&&d.length&&(b.click_id=d.length==16||d.length==18?d:"\u53C2\u6570\u89E3\u6790\u4E0D\u5408\u6CD5",x(p)&&p.length&&(b.hash_key=p),x(g)&&g.length&&(b.callbacks=g)),b}function Pt(u){var d=u.properties,p=JSON.parse(JSON.stringify(u));t(d)&&U(d,function(g,b){if(n(g))try{d[b]=g(p),n(d[b])&&(ze("\u60A8\u7684\u5C5E\u6027- "+b+" \u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete d[b])}catch{delete d[b],ze("\u60A8\u7684\u5C5E\u6027- "+b+" \u629B\u51FA\u4E86\u5F02\u5E38\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")}})}function Ba(u){if(t(u)&&u.$option){var d=u.$option;return delete u.$option,d}return{}}function Qt(u){var d={};return U(u,function(p,g){p!=null&&(d[g]=p)}),d}function Yf(u){var d=!u.type||u.type.slice(0,7)!=="profile",p="\u53D6\u503C\u5F02\u5E38";t(u.properties)&&d&&("$referrer"in u.properties&&(u.properties.$referrer_host=u.properties.$referrer===""?"":xe(u.properties.$referrer,p)),Re.preset_properties.latest_referrer&&Re.preset_properties.latest_referrer_host&&(u.properties.$latest_referrer_host=u.properties.$latest_referrer===""?"":xe(u.properties.$latest_referrer,p)))}function Qf(u){var d=!u.type||u.type.slice(0,7)!=="profile",p=Re.preset_properties&&d;p&&Re.preset_properties.url&&F(u.properties.$url)&&(u.properties.$url=ee()),p&&Re.preset_properties.title&&F(u.properties.$title)&&(u.properties.$title=document.title)}function Go(u){if(!R(u.target))return!1;var d=u.target,p=x(d.tagName)?d.tagName.toLowerCase():"unknown",g={};return g.$element_type=p,g.$element_name=d.getAttribute("name"),g.$element_id=d.getAttribute("id"),g.$element_class_name=x(d.className)?d.className:null,g.$element_target_url=d.getAttribute("href"),g.$element_content=Ua(d,p),g=Qt(g),g.$url=ee(),g.$url_path=ue(),g.$title=document.title,g}function zo(u){var d=Re.heatmap&&n(Re.heatmap.collect_input)&&Re.heatmap.collect_input(u);return(u.type==="button"||u.type==="submit"||d)&&u.value||""}function Ua(u,d){return x(d)&&d.toLowerCase()==="input"?zo(u):oe(u,d)}function As(u){return aa.protocol.ajax(u.url),Z(u)}function Ko(u){if(typeof u=="string"&&(u=C(u),u&&(u.slice(0,3)==="://"?u=location.protocol.slice(0,-1)+u:u.slice(0,2)==="//"?u=location.protocol+u:u.slice(0,4)!=="http"&&(u=""))),B(u)&&u.length)for(var d=0;d<u.length;d++)/sa\.gif[^\/]*$/.test(u[d])||(u[d]=u[d].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(u)||typeof u!="string"||(u=u.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));return u}function ja(u){x(u)||(u=JSON.stringify(u));var d=ce(u),p="crc="+de(d);return"data="+encodeURIComponent(d)+"&ext="+encodeURIComponent(p)}function Zf(u){var d=location.href,p=window.history.pushState,g=window.history.replaceState;n(window.history.pushState)&&(window.history.pushState=function(){p.apply(window.history,arguments),u(d),d=location.href}),n(window.history.replaceState)&&(window.history.replaceState=function(){g.apply(window.history,arguments),u(d),d=location.href});var b;b=window.document.documentMode?"hashchange":p?"popstate":"hashchange",K(window,b,function(){u(d),d=location.href})}function Ha(u,d){var p=[];typeof u=="string"&&u in zt.EVENT_LIST&&(p=zt.EVENT_LIST[u],zt[p[0]].on(p[1],d))}function Xo(){this.sendTimeStamp=0,this.timer=null,this.serverUrl="",this.hasTabStorage=!1}function bt(u,d){for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)&&!ww.check(p,u[p],d))return!1;return!0}function eh(u,d){return t(u)&&U(u,function(p,g){if(B(p)){var b=[];U(p,function(L){if(x(L))b.push(L);else if(F(L))b.push("null");else try{b.push(JSON.stringify(L))}catch{ze("\u60A8\u7684\u6570\u636E-",g,p,"\u6570\u7EC4\u91CC\u503C\u6709\u9519\u8BEF,\u5DF2\u5C06\u5176\u5220\u9664")}}),u[g]=b}var w=he(d||[],g)>-1;if(t(p)&&g!=="$option"&&!w)try{u[g]=JSON.stringify(p)}catch{delete u[g],ze("\u60A8\u7684\u6570\u636E-",g,p,"\u6570\u636E\u503C\u6709\u9519\u8BEF\uFF0C\u5DF2\u5C06\u5176\u5220\u9664")}else x(p)||lt(p)||Me(p)||je(p)||B(p)||n(p)||g==="$option"||w||(ze("\u60A8\u7684\u6570\u636E-",g,p,"-\u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete u[g])}),u}function th(u,d){return lt(d)&&u.length>d?(ze("\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u9650\u5236\uFF0C\u5DF2\u7ECF\u505A\u622A\u53D6--"+u),u.slice(0,d)):u}function Ds(u,d){var p=["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"];t(u)&&U(p,function(g,b){g in u&&(he(d||[],g)>-1||(b<3?(delete u[g],ze("\u60A8\u7684\u5C5E\u6027- "+g+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")):ze("\u60A8\u7684\u5C5E\u6027- "+g+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u8BF7\u907F\u514D\u5176\u4F5C\u4E3A\u5C5E\u6027\u540D")))})}function Qi(u){var d=["$element_selector","$element_path"],p=["sensorsdata_app_visual_properties"];t(u)&&U(u,function(g,b){if(t(g))Qi(u[b]);else if(x(g)){if(he(p,b)>-1)return;u[b]=th(g,he(d,b)>-1?1024:Re.max_string_length)}})}function ks(u){typeof u.properties.$project<"u"&&(u.project=u.properties.$project,delete u.properties.$project),typeof u.properties.$token<"u"&&(u.token=u.properties.$token,delete u.properties.$token)}function Zi(u){if("item_type"in u){var d=u.item_type,p=function(w){return w||delete u.item_type,!0};bt({item_type:d},p)}if("item_id"in u){var g=u.item_id,b=function(w,L,W){return w||W!=="string"||delete u.item_id,!0};bt({item_id:g},b)}}function Jo(u,d){U(u,function(p,g){var b=function(w,L,W){return w||W==="keyLength"||delete u[g],!0};he(d||[],g)===-1&&bt({propertyKey:g},b)})}function $l(u){var d=u.properties;Yi(u),t(d)?(eh(d),Ds(d),ks(u),Jo(d),Qi(d)):"properties"in u&&(u.properties={}),Zi(u)}function Yo(u,d){var p=d.sensors;return u._track_id=Number(String(a()).slice(2,5)+String(a()).slice(2,4)+String(new Date().getTime()).slice(-4)),u._flush_time=new Date().getTime(),p.events.tempAdd("send",u),u}function Rn(u,d){try{var p=d.sensors,g={};t(u)&&t(u.identities)&&!ke(u.identities)?z(g,u.identities):z(g,le.getIdentities());var b={identities:g,distinct_id:le.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(p.lib_version)},properties:{}};return t(u)&&t(u.properties)&&!ke(u.properties)&&(u.properties.$lib_detail&&(b.lib.$lib_detail=u.properties.$lib_detail,delete u.properties.$lib_detail),u.properties.$lib_method&&(b.lib.$lib_method=u.properties.$lib_method,delete u.properties.$lib_method)),or(b,le.getUnionId(),u),t(u.properties)&&!ke(u.properties)&&z(b.properties,u.properties),b.event==="$UnbindID"&&(b.login_id&&delete b.login_id,b.anonymous_id&&delete b.anonymous_id),u.type&&u.type.slice(0,7)==="profile"||(b.properties=z({},St.properties(),le.getProps(),le.getSessionProps(),St.currentProps,b.properties),p.para.preset_properties.latest_referrer&&!x(b.properties.$latest_referrer)&&(b.properties.$latest_referrer="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_search_keyword&&!x(b.properties.$latest_search_keyword)&&(p.para.preset_properties.search_keyword_baidu&&x(b.properties.$search_keyword_id)&&lt(b.properties.$search_keyword_id_hash)&&x(b.properties.$search_keyword_id_type)||(b.properties.$latest_search_keyword="\u53D6\u503C\u5F02\u5E38")),p.para.preset_properties.latest_traffic_source_type&&!x(b.properties.$latest_traffic_source_type)&&(b.properties.$latest_traffic_source_type="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_landing_page&&!x(b.properties.$latest_landing_page)&&(b.properties.$latest_landing_page="\u53D6\u503C\u5F02\u5E38"),p.para.preset_properties.latest_wx_ad_click_id==="not_collect"?(delete b.properties._latest_wx_ad_click_id,delete b.properties._latest_wx_ad_hash_key,delete b.properties._latest_wx_ad_callbacks):p.para.preset_properties.latest_wx_ad_click_id&&!x(b.properties._latest_wx_ad_click_id)&&(b.properties._latest_wx_ad_click_id="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_hash_key="\u53D6\u503C\u5F02\u5E38",b.properties._latest_wx_ad_callbacks="\u53D6\u503C\u5F02\u5E38"),x(b.properties._latest_wx_ad_click_id)&&(b.properties.$url=ee())),b.properties.$time&&Me(b.properties.$time)?(b.time=1*b.properties.$time,delete b.properties.$time):b.time=1*new Date,function(w){if(p.bridge&&p.bridge.bridge_info.verify_success==="success"){var L=Zh.customProp.geth5Props(JSON.parse(JSON.stringify(w)));t(L)&&!ke(L)&&(w.properties=z(w.properties,L))}var W=sa.customProp.getVtrackProps(JSON.parse(JSON.stringify(w)));t(W)&&!ke(W)&&(w.properties=z(w.properties,W))}(b),Pt(b),gu.checkIsAddSign(b),gu.checkIsFirstTime(b),Yf(b),Qf(b),b}catch(w){return{_debug_web_msg:String(w)}}}function rh(u){return ep.stage.process("basicProps",u)}function Ps(u){return ep.stage.process("formatData",u)}function Qo(u,d,p,g){function b(L){function W(){re||(re=!0,location.href=w.href)}L.stopPropagation(),L.preventDefault();var re=!1;setTimeout(W,1e3),g(d,p,W)}u=u||{};var w=null;return u.ele&&(w=u.ele),u.event&&(w=u.target?u.target:u.event.target),p=p||{},!(!w||typeof w!="object")&&(!w.href||/^javascript/.test(w.href)||w.target||w.download||w.onclick?(g(d,p),!1):(u.event&&b(u.event),void(u.ele&&yi(u.ele,"click",function(L){b(L)}))))}function Zo(){var u=location.protocol;return u==="http:"||u==="https:"?u:"http:"}function Wl(u){return tp.stage.process("webClickEvent",u)}function nh(u){return tp.stage.process("webStayEvent",u)}function ea(){var u=St.campaignParams(),d={};return U(u,function(p,g,b){(" "+O.source_channel_standard+" ").indexOf(" "+g+" ")!==-1?d["$"+g]=b[g]:d[g]=b[g]}),d}function ta(u,d,p){if(O.is_first_visitor&&p){var g={};O.para.preset_properties.search_keyword_baidu&&Cs(document.referrer)&&Jn()&&(g.$search_keyword_id=mu.id(),g.$search_keyword_id_type=mu.type(),g.$search_keyword_id_hash=be(g.$search_keyword_id));var b=dt(null,d);u(z({$first_visit_time:new Date,$first_referrer:b,$first_referrer_host:b?xe(b,"\u53D6\u503C\u5F02\u5E38"):"",$first_browser_language:x(navigator.language)?navigator.language.toLowerCase():"\u53D6\u503C\u5F02\u5E38",$first_browser_charset:x(document.charset)?document.charset.toUpperCase():"\u53D6\u503C\u5F02\u5E38",$first_traffic_source_type:Wo(),$first_search_keyword:Yn()},ea(),g)),O.is_first_visitor=!1}}function eu(u,d){var p=u.id,g=u.callback,b=u.name,w=le.getFirstId(),L=le.getOriginDistinctId();if(!bt({distinct_id:p}))return st("login id is invalid"),!1;if(p===le.getOriginDistinctId()&&!w)return st("login id is equal to distinct_id"),!1;if(t(le._state.identities)&&le._state.identities.hasOwnProperty(b)&&p===le._state.first_id)return!1;var W=le._state.history_login_id.name!==b||p!==le._state.history_login_id.value;if(W){le._state.identities[b]=p,le.set("history_login_id",{name:b,value:p}),w||le.set("first_id",L),d(p,"$SignUp",{},g);var re={$identity_cookie_id:le._state.identities.$identity_cookie_id};return re[b]=p,Gl(re),!0}return!1}function Gl(u){var d={};for(var p in u)d[p]=u[p];le._state.identities=d,le.save()}function ih(u,d){if(!bt({unbindKey:u,bindValue:d}))return!1;if(t(le._state.identities)&&le._state.identities.hasOwnProperty(u)&&le._state.identities[u]===d){var p=le.getUnionId().login_id;p&&u+"+"+d===p&&(le._state.distinct_id=le._state.first_id,le._state.first_id="",le.set("history_login_id",{name:"",value:""})),u!=="$identity_cookie_id"&&(delete le._state.identities[u],le.save())}var g={};return g[u]=d,g}function zl(){O._t=O._t||1*new Date,O.is_first_visitor=!1,O.source_channel_standard=v0}function ah(u){z(Re,u||O.para||{}),O.para=Re;var d={};if(t(O.para.is_track_latest))for(var p in O.para.is_track_latest)d["latest_"+p]=O.para.is_track_latest[p];O.para.preset_properties=z({},hu.preset_properties,d,O.para.preset_properties||{});var g;for(g in hu)O.para[g]===void 0&&(O.para[g]=hu[g]);typeof O.para.web_url!="string"||O.para.web_url.slice(0,3)!=="://"&&O.para.web_url.slice(0,2)!=="//"||(O.para.web_url.slice(0,3)==="://"?O.para.web_url=location.protocol.slice(0,-1)+O.para.web_url:O.para.web_url=location.protocol+O.para.web_url),aa.protocol.serverUrl(),O.bridge&&O.bridge.initPara();var b=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],w=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],L=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],W={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};typeof O.para.source_type=="object"&&(O.para.source_type.utm=B(O.para.source_type.utm)?O.para.source_type.utm.concat(b):b,O.para.source_type.search=B(O.para.source_type.search)?O.para.source_type.search.concat(w):w,O.para.source_type.social=B(O.para.source_type.social)?O.para.source_type.social.concat(L):L,O.para.source_type.keyword=t(O.para.source_type.keyword)?z(W,O.para.source_type.keyword):W);var re={div:!1},ge=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(O.para.heatmap&&!t(O.para.heatmap)&&(O.para.heatmap={}),t(O.para.heatmap)){O.para.heatmap.clickmap=O.para.heatmap.clickmap||"default",O.para.heatmap.scroll_notice_map=O.para.heatmap.scroll_notice_map||"default",O.para.heatmap.scroll_delay_time=O.para.heatmap.scroll_delay_time||4e3,O.para.heatmap.scroll_event_duration=O.para.heatmap.scroll_event_duration||18e3,O.para.heatmap.renderRefreshTime=O.para.heatmap.renderRefreshTime||1e3,O.para.heatmap.loadTimeout=O.para.heatmap.loadTimeout||1e3,O.para.heatmap.get_vtrack_config!==!0&&(O.para.heatmap.get_vtrack_config=!1);var Ce=B(O.para.heatmap.track_attr)?yt(O.para.heatmap.track_attr,function(et){return et&&typeof et=="string"}):[];if(Ce.push("data-sensors-click"),O.para.heatmap.track_attr=Ce,t(O.para.heatmap.collect_tags))if(O.para.heatmap.collect_tags.div===!0)O.para.heatmap.collect_tags.div={ignore_tags:ge,max_level:1};else if(t(O.para.heatmap.collect_tags.div)){if(O.para.heatmap.collect_tags.div.ignore_tags?B(O.para.heatmap.collect_tags.div.ignore_tags)||(ze("ignore_tags \u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4\u683C\u5F0F"),O.para.heatmap.collect_tags.div.ignore_tags=ge):O.para.heatmap.collect_tags.div.ignore_tags=ge,O.para.heatmap.collect_tags.div.max_level){var Ze=[1,2,3];he(Ze,O.para.heatmap.collect_tags.div.max_level)===-1&&(O.para.heatmap.collect_tags.div.max_level=1)}}else O.para.heatmap.collect_tags.div=!1;else O.para.heatmap.collect_tags=re}O.para.server_url=Ko(O.para.server_url),O.para.noCache===!0?O.para.noCache="?"+new Date().getTime():O.para.noCache="",O.para.callback_timeout>O.para.datasend_timeout&&(O.para.datasend_timeout=O.para.callback_timeout),O.para.heatmap&&O.para.heatmap.collect_tags&&t(O.para.heatmap.collect_tags)&&U(O.para.heatmap.collect_tags,function(et,Mt){Mt!=="div"&&et&&O.heatmap.otherTags.push(Mt)}),O.para.heatmap&&O.para.heatmap.clickmap==="default"&&O.heatmap.initUnlimitedTags()}function sh(){var u=Array.prototype.slice.call(arguments),d=u[0],p=u.slice(1);return typeof d=="string"&&Ac[d]?Ac[d].apply(Ac,p):void(typeof d=="function"?d.apply(O,p):ze("quick\u65B9\u6CD5\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u529F\u80FD"+u[0]))}function tu(u,d){function p(){return!g.plugin_is_init&&g.init(O,d),g.plugin_is_init=!0,O.modules=O.modules||{},O.modules[g.plugin_name||"unnamed_"+kw++]=g,g}if(!x(u)&&!t(u))return void st("use's first arguments must be string or object.");var g;if(t(u)){var b=O.modules&&O.modules[u.plugin_name];b&&b!==u&&ze(u.name+" is conflict with builtin plugin, and sdk uses builtin plugin."),g=b||u}return x(u)&&(t(O.modules)&&t(O.modules[u])?g=O.modules[u]:t(window.SensorsDataWebJSSDKPlugin)&&t(window.SensorsDataWebJSSDKPlugin[u])?g=window.SensorsDataWebJSSDKPlugin[u]:window.sensorsDataAnalytic201505&&window.sensorsDataAnalytic201505.modules[u]&&(g=window.sensorsDataAnalytic201505.modules[u])),g&&n(g.init)?g.plugin_is_init?g:(g.plugin_name||ze("warning: invalid plugin, plugin_name required."),g.plugin_version?g.plugin_version!==O.lib_version&&ze("warning: plugin version not match SDK version. plugin may not work correctly. "):ze("warning: invalid plugin, plugin version required."),p()):(ze((u.plugin_name||u)+" is not found or it's not a standard plugin. Please check sensorsdata official documents."),g)}function oh(u,d,p){bt({event:u,properties:d})&&kr.send({type:"track",event:u,properties:d},p)}function uh(u,d){return!!bt({bindKey:u,bindValue:d})&&(le._state.identities[u]=d,le.save(),void kr.send({type:"track_id_bind",event:"$BindID",properties:{}}))}function lh(u,d){var p=ih(u,d);p&&kr.send({identities:p,type:"track_id_unbind",event:"$UnbindID",properties:{}})}function ch(u,d,p){typeof u=="object"&&u.tagName?Qo({ele:u},d,p,O.track):typeof u=="object"&&u.target&&u.event&&Qo(u,d,p,O.track)}function dh(u,d,p){return p=p||{},!(!u||typeof u!="object")&&!(!u.href||/^javascript/.test(u.href)||u.target)&&void yi(u,"click",function(g){function b(){w||(w=!0,location.href=u.href)}g.preventDefault();var w=!1;setTimeout(b,1e3),O.track(d,p,b)})}function fh(u,d,p){bt({item_type:u,item_id:d,properties:p})&&kr.sendItem({type:"item_set",item_type:u,item_id:d,properties:p||{}})}function Is(u,d){bt({item_type:u,item_id:d})&&kr.sendItem({type:"item_delete",item_type:u,item_id:d})}function Os(u,d){bt({propertiesMust:u})&&kr.send({type:"profile_set",properties:u},d)}function hh(u,d){bt({propertiesMust:u})&&kr.send({type:"profile_set_once",properties:u},d)}function ph(u,d){bt({propertiesMust:u})&&(U(u,function(p,g){x(p)?u[g]=[p]:B(p)?u[g]=p:(delete u[g],ze("appendProfile\u5C5E\u6027\u7684\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u7EC4"))}),ke(u)||kr.send({type:"profile_append",properties:u},d))}function ru(u,d){function p(b){for(var w in b)if(Object.prototype.hasOwnProperty.call(b,w)&&!/-*\d+/.test(String(b[w])))return!1;return!0}var g=u;x(u)&&(u={},u[g]=1),bt({propertiesMust:u})&&(p(u)?kr.send({type:"profile_increment",properties:u},d):st("profile_increment\u7684\u503C\u53EA\u80FD\u662F\u6570\u5B57"))}function gh(u){kr.send({type:"profile_delete"},u),le.set("distinct_id",ia()),le.set("first_id","")}function nu(u,d){var p=u,g={};x(u)&&(u=[],u.push(p)),B(u)?(U(u,function(b){x(b)?g[b]=!0:ze("profile_unset\u7ED9\u7684\u6570\u7EC4\u91CC\u9762\u7684\u503C\u5FC5\u987B\u65F6string,\u5DF2\u7ECF\u8FC7\u6EE4\u6389",b)}),kr.send({type:"profile_unset",properties:g},d)):st("profile_unset\u7684\u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4")}function mh(u){typeof u=="number"&&(u=String(u));var d=le.getFirstId();if(typeof u>"u"){var p=ia();d?le.set("first_id",p):le.set("distinct_id",p)}else bt({distinct_id:u})&&(d?le.set("first_id",u):le.set("distinct_id",u))}function vh(u){var d=le.getFirstId();if(d)return st("resetAnonymousIdentity must be used in a logout state \uFF01"),!1;if(typeof u=="number"&&(u=String(u)),typeof u>"u"){var p=ia();le._state.identities.$identity_cookie_id=p,le.set("distinct_id",p)}else bt({distinct_id:u})&&(le._state.identities.$identity_cookie_id=u,le.set("distinct_id",u))}function iu(u,d,p,g){var b=le.getFirstId()||le.getDistinctId();le.set("distinct_id",u),kr.send({original_id:b,distinct_id:le.getDistinctId(),type:"track_signup",event:d,properties:p},g)}function Va(u,d,p,g){typeof u=="number"&&(u=String(u)),bt({distinct_id:u,event:d,properties:p})&&iu(u,d,p,g)}function ra(u){bt({properties:u})?z(St.currentProps,u):st("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Ls(u){le.clearAllProps(u)}function bi(u){var d;if(B(u)&&u.length>0)for(d=0;d<u.length;d++)x(u[d])&&u[d]in St.currentProps&&delete St.currentProps[u[d]];else if(u===!0)for(d in St.currentProps)delete St.currentProps[d]}function Kl(u){bt({properties:u})?le.setProps(u):st("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Xl(u){bt({properties:u})?le.setPropsOnce(u):st("registerOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Jl(u){O.log("registerSession \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),bt({properties:u})?le.setSessionProps(u):st("registerSession\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function au(u){O.log("registerSessionOnce \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),bt({properties:u})?le.setSessionPropsOnce(u):st("registerSessionOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Yl(u,d){typeof u=="number"&&(u=String(u));var p=eu({id:u,callback:d,name:pu.LOGIN},iu);!p&&n(d)&&d()}function _h(u,d){return ze("loginWithKey is deprecated !!!"),typeof d=="number"&&(d=String(d)),typeof u=="number"&&(u=String(u)),!!bt({loginIdKey:u})&&(pu.LOGIN===u?(Yl(d),!1):void eu({id:d,callback:null,name:u},iu))}function yh(u){var d=le.getFirstId();if(d)if(le.set("first_id",""),u===!0){var p=ia();le.set("distinct_id",p)}else le.set("distinct_id",d);Gl({$identity_cookie_id:le._state.identities.$identity_cookie_id}),le.set("history_login_id",{name:"",value:""})}function Rs(){function u(){var g=St.campaignParams(),b={};return U(g,function(w,L,W){(" "+O.source_channel_standard+" ").indexOf(" "+L+" ")!==-1?b["$"+L]=W[L]:b[L]=W[L]}),b}var d={$is_first_day:ws(),$is_first_time:gu.is_page_first_visited,$referrer:St.pageProp.referrer||"",$referrer_host:St.pageProp.referrer?xe(St.pageProp.referrer):"",$url:ee(),$url_path:ue(),$title:document.title||"",_distinct_id:le.getDistinctId(),identities:le.getIdentities()},p=z({},St.properties(),le.getProps(),u(),d);return O.para.preset_properties.latest_referrer&&O.para.preset_properties.latest_referrer_host&&(p.$latest_referrer_host=p.$latest_referrer===""?"":xe(p.$latest_referrer)),p}function bh(){var u="",d=" { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }";O.heatmap&&B(O.heatmap.otherTags)&&U(O.heatmap.otherTags,function(p){u+=p+d}),nt()&&we()&&we()<13&&(O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&xs("div, [data-sensors-click]"+d),O.para.heatmap&&O.para.heatmap.track_attr&&xs("["+O.para.heatmap.track_attr.join("], [")+"]"+d),u!==""&&xs(u))}function sn(u){var d=this;this.type=u,this.resultCbs={},this.timeoutCbs={},this.timerId=null,this.appCallJsCallback=null,window.sensorsdata_app_call_js||(window.sensorsdata_app_call_js=function(p,g){if(p in window.sensorsdata_app_call_js.modules)return window.sensorsdata_app_call_js.modules[p](g)}),window.sensorsdata_app_call_js.modules=window.sensorsdata_app_call_js.modules||{},window.sensorsdata_app_call_js.modules[this.type]=function(p){try{var g=te(p)||p;try{g=JSON.parse(g)}catch{}var b=g&&g.message_id;if(b&&d.resultCbs[b]){if(p=g,d.timeoutCbs[b]&&d.timeoutCbs[b].isTimeout)return void(d.resultCbs[b].callbacks.length=0);if(d.resultCbs[b]){d.resultCbs[b].result=p,clearTimeout(d.timerId),d.timeoutCbs[b].callbacks.length=0;for(var w in d.resultCbs[b].callbacks)d.resultCbs[b].callbacks[w].call(null,p),d.resultCbs[b].callbacks.splice(w,1)}return}return d.appCallJsCallback&&d.appCallJsCallback.call(null,p)}catch{st("app \u56DE\u8C03 js \u5F02\u5E38",p)}}}function Ql(u){try{if(O.bridge.activeBridge&&n(O.bridge.activeBridge.handleCommand))return O.bridge.activeBridge.handleCommand(u)}catch(d){st("Error: handle command exception:"+d)}return st("\u6570\u636E\u53D1\u5F80App\u5931\u8D25\uFF0CApp\u6CA1\u6709\u66B4\u9732bridge,type:"+u.callType),!1}function Th(u){function d(L){var W={hostname:"",project:""};try{L=P(L),W.hostname=L.hostname,W.project=L.searchParams.get("project")||"default"}catch(re){st("validateAppUrl:"+re)}return W}var p=d(u),g=d(O.para.server_url);if(p.hostname===g.hostname&&p.project===g.project)return!0;if(B(O.para.app_js_bridge.white_list))for(var b=0;b<O.para.app_js_bridge.white_list.length;b++){var w=d(O.para.app_js_bridge.white_list[b]);if(w.hostname===p.hostname&&w.project===p.project)return!0}return!1}function wt(u){this.bridge=new sn(u.type)}function Sh(){var u=St.pageProp.url_domain,d={};u===""&&(u="url\u89E3\u6790\u5931\u8D25");var p=Yn(document.referrer,!0);if(Re.preset_properties.search_keyword_baidu?Cs(document.referrer)&&(!Jn()||t(p)&&p.active?le._state&&le._state.props&&(le._state.props.$search_keyword_id&&delete le._state.props.$search_keyword_id,le._state.props.$search_keyword_id_type&&delete le._state.props.$search_keyword_id_type,le._state.props.$search_keyword_id_hash&&delete le._state.props.$search_keyword_id_hash):(d.$search_keyword_id=mu.id(),d.$search_keyword_id_type=mu.type(),d.$search_keyword_id_hash=be(d.$search_keyword_id))):le._state&&le._state.props&&(le._state.props.$search_keyword_id&&delete le._state.props.$search_keyword_id,le._state.props.$search_keyword_id_type&&delete le._state.props.$search_keyword_id_type,le._state.props.$search_keyword_id_hash&&delete le._state.props.$search_keyword_id_hash),le.save(),U(Re.preset_properties,function(L,W){if(W.indexOf("latest_")===-1)return!1;if(W=W.slice(7),L){if(W==="wx_ad_click_id"&&L==="not_collect")return!1;if(W!=="utm"&&u==="url\u89E3\u6790\u5931\u8D25")W==="wx_ad_click_id"?(d._latest_wx_ad_click_id="url\u7684domain\u89E3\u6790\u5931\u8D25",d._latest_wx_ad_hash_key="url\u7684domain\u89E3\u6790\u5931\u8D25",d._latest_wx_ad_callbacks="url\u7684domain\u89E3\u6790\u5931\u8D25"):d["$latest_"+W]="url\u7684domain\u89E3\u6790\u5931\u8D25";else if(Cs(document.referrer))switch(W){case"traffic_source_type":d.$latest_traffic_source_type=Wo();break;case"referrer":d.$latest_referrer=St.pageProp.referrer;break;case"search_keyword":Yn()?d.$latest_search_keyword=Yn():t(le._state)&&t(le._state.props)&&le._state.props.$latest_search_keyword&&delete le._state.props.$latest_search_keyword;break;case"landing_page":d.$latest_landing_page=ee();break;case"wx_ad_click_id":var re=Qn(location.href);d._latest_wx_ad_click_id=re.click_id,d._latest_wx_ad_hash_key=re.hash_key,d._latest_wx_ad_callbacks=re.callbacks}}else if(W==="utm"&&le._state&&le._state.props)for(var ge in le._state.props)(ge.indexOf("$latest_utm")===0||ge.indexOf("_latest_")===0&&ge.indexOf("_latest_wx_ad_")<0)&&delete le._state.props[ge];else if(le._state&&le._state.props&&"$latest_"+W in le._state.props)delete le._state.props["$latest_"+W];else if(W=="wx_ad_click_id"&&le._state&&le._state.props&&L===!1){var Ce=["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"];U(Ce,function(Ze){Ze in le._state.props&&delete le._state.props[Ze]})}}),Re.preset_properties.latest_utm){var g=St.campaignParamsStandard("$latest_","_latest_"),b=g.$utms,w=g.otherUtms;ke(b)||z(d,b),ke(w)||z(d,w)}Kl(d)}function Zl(u){var d=null;try{var p=JSON.parse(window.name);d=p[u]?h(p[u]):null}catch{d=null}return d===null&&(d=Ne(location.href,u)||null),d}function ec(u){function d(){var w=[];p.touch_app_bridge||w.push(aa.defineMode("1")),t(O.para.app_js_bridge)||(w.push(aa.defineMode("2")),p.verify_success=!1),t(O.para.heatmap)&&O.para.heatmap.clickmap=="default"||w.push(aa.defineMode("3")),p.verify_success==="fail"&&w.push(aa.defineMode("4")),new O.SDKJSBridge("app_alert").notifyApp({data:w})}var p=O.bridge.bridge_info;if(O.bridge.hasVisualModeBridge())if(t(O.para.heatmap)&&O.para.heatmap.clickmap=="default")if(t(O.para.app_js_bridge)&&p.verify_success==="success")if(u)window.sa_jssdk_app_define_mode(O,u);else{var g=location.protocol,b=["http:","https:"];g=he(b,g)>-1?g:"https:",_n({success:function(){setTimeout(function(){typeof sa_jssdk_app_define_mode<"u"&&window.sa_jssdk_app_define_mode(O,u)},0)},error:function(){},type:"js",url:g+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vapph5define.min.js"})}else d();else d()}function tc(u){O.para.is_track_single_page&&Xh.on("switch",function(d){var p=function(b){if(b=b||{},d!==location.href){St.pageProp.referrer=ee(d);var w=z({$url:ee(),$referrer:ee(d)},b);n(u)?u(w):O.quick&&O.quick("autoTrack",w)}};if(typeof O.para.is_track_single_page=="boolean")p();else if(typeof O.para.is_track_single_page=="function"){var g=O.para.is_track_single_page();t(g)?p(g):g===!0&&p()}})}function xh(){O._q&&B(O._q)&&O._q.length>0&&U(O._q,function(u){O[u[0]].apply(O,Array.prototype.slice.call(u[1]))}),t(O.para.heatmap)&&(Sn.initHeatmap(),Sn.initScrollmap())}function rc(){O.readyState.setState(3),new O.SDKJSBridge("visualized").onAppNotify(function(){ec(typeof sa_jssdk_app_define_mode<"u")}),ec(!1),O.bridge.app_js_bridge_v1(),St.initPage(),tc(),le.init(),Sh(),nc(),O.readyState.setState(4),xh()}function Eh(){oa.isSeachHasKeyword()?oa.hasKeywordHandle():window.parent!==self&&Nn.isSearchHasKeyword()?Nn.verifyVtrackMode():oa.isWindowNameHasKeyword()?oa.windowNameHasKeywordHandle():oa.isStorageHasKeyword()?oa.storageHasKeywordHandle():window.parent!==self&&Nn.isStorageHasKeyword()?Nn.verifyVtrackMode():(rc(),Nn.notifyUser())}function nc(){sa.init(),O.bridge.bridge_info.verify_success==="success"&&Zh.init()}function ic(){U(Ow,function(u){var d=O[u];O[u]=function(){if(O.readyState.state<3)return B(O._q)||(O._q=[]),ze("calling sdk api before init is deprecated."),O._q.push([u,arguments]),!1;if(!n(O.getDisabled)||!O.getDisabled())return O.readyState.getState()?d.apply(O,arguments):void st("\u8BF7\u5148\u521D\u59CB\u5316\u795E\u7B56JS SDK")}})}function ac(u,d){this.cancel=function(){u=!0},this.getCanceled=function(){return u||!1},this.stop=function(){d=!0},this.getStopped=function(){return d||!1}}function sc(u,d,p){var g=null;try{g=JSON.parse(JSON.stringify(u||null))}catch{}this.getOriginalData=function(){return g},this.getPosition=function(){return d},this.cancellationToken=new ac,this.sensors=p}function on(u){if(!t(u))throw"error: Stage constructor requires arguments.";this.processDef=u,this.registeredInterceptors={}}function Ti(u){u&&u.buildDataStage&&E0.registerStageImplementation(u.buildDataStage),u&&u.businessStage&&C0.registerStageImplementation(u.businessStage),u&&u.sendDataStage&&w0.registerStageImplementation(u.sendDataStage),u&&u.viewStage&&A0.registerStageImplementation(u.viewStage)}function su(u,d){D0[u]&&D0[u](d)}function wh(){return np.stage&&np.stage.process("getUtmData")}function Ch(u){return k0.stage.process("send",u)}function Ah(u){u.kit=vu,u.saEvent=kr,this.buildDataStage=ep,this.sendDataStage=k0,this.businessStage=np}function Dh(u){u.heatmap=Sn,this.viewStage=tp}function kh(u){if(!n(u.properties))return void st("registerPropertyPlugin arguments error, properties must be function");if(u.isMatchedWithFilter&&!n(u.isMatchedWithFilter))return void st("registerPropertyPlugin arguments error, isMatchedWithFilter must be function");var d={finalAdjustData:{priority:100,entry:function(p){try{if(n(u.isMatchedWithFilter))return u.isMatchedWithFilter(p)&&u.properties(p);u.properties(p)}catch(g){st("execute registerPropertyPlugin callback error:"+g)}}}};su("buildDataStage",d)}function ou(u){u&&(O.events=b0,O.bridge=Iw,O.SDKJSBridge=sn,O.JSBridge=wt,O.store=le,O.unlimitedDiv=Cc,O.customProp=S0,O.vtrackcollect=sa,O.vapph5collect=Zh,O.detectMode=Eh,O.registerFeature=Ti,O.registerInterceptor=su,O.commonWays=Ac,Ti(new Ah(O)),Ti(new Dh(O)),su("viewStage",Bw));var d=u?Pw:Lw;for(var p in d)O[p]=d[p];O.logger=Wa,O.log=yn,O._=x0,O.on=Ha,O.ee=zt,O.use=tu,O.lib_version=xc,O.registerPropertyPlugin=kh}function Ph(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Ih(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Ih(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function Ns(u,d,p){return Ph(u,d,p),u.plugin_version=Uw,u}function qa(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Oh(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Oh(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function oc(u,d,p){return qa(u,d,p),u.plugin_version=Vw,u}function uc(u){return O0&&O0.call(Zn,JSON.stringify(u))}function uu(u){return kc.call(Zn)&&L0&&L0.call(Zn,JSON.stringify(u))}function lc(u,d){return d&&typeof d[u.callType]=="function"&&d[u.callType]()}function cc(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return lu(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function lu(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function dc(u,d,p){return cc(u,d,p),u.plugin_version=Ww,u}function fc(){if(Fn=window.SensorsData_APP_New_H5_Bridge,Dc=Fn&&Fn.sensorsdata_track,_u=Dc&&Fn.sensorsdata_get_server_url&&Fn.sensorsdata_get_server_url(),Ga("---test---fail---",!It,It.bridge.activeBridge,!_u),It&&!It.bridge.activeBridge&&_u)return It.bridge.activeBridge=N0,It.para.app_js_bridge&&!It.para.app_js_bridge.is_mui&&(It.bridge.is_verify_success=_u&&It.bridge.validateAppUrl(_u),Ga("---test---bridge-verify-",It.bridge.is_verify_success)),It.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:It.bridge.is_verify_success?"success":"fail",support_two_way_call:!!Fn.sensorsdata_js_call_app},It.para.app_js_bridge?void It.registerInterceptor("sendDataStage",{send:{priority:60,entry:Fs}}):void Ga("---test---app_js_bridge is not configured, data will not be sent by android bridge.")}function Fs(u,d){if(Ga("---test---datasend-",It.bridge.is_verify_success),It.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;return It.bridge.is_verify_success?(Ga("---test---bridge-verify-success---",u.data),Dc&&Dc.call(Fn,JSON.stringify(yu.extend({server_url:It.para.server_url},u.data))),yu.isFunction(p)&&p(),d.cancellationToken.cancel(),u):(Ga("---test---bridge-verify-fail-----",It.bridge.is_verify_success),It.para.app_js_bridge.is_send?(It.debug.apph5({data:u.data,step:"4.2",output:"all"}),u):(yu.isFunction(p)&&p(),d.cancellationToken.cancel(),u))}function Ms(u){var d=u.callType;return d in R0.commands?R0.commands[d](u,Fn):void(Fn&&yu.isFunction(Fn.sensorsdata_js_call_app)&&Fn.sensorsdata_js_call_app(JSON.stringify(u)))}function Lh(u){return M0&&M0.call(ei,JSON.stringify(u))}function hc(u){return Pc.call(ei)&&B0&&B0.call(ei,JSON.stringify(u))}function Rh(u,d){return d&&typeof d[u.callType]=="function"&&d[u.callType]()}function Nh(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Fh(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Fh(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function cu(u,d,p){return Nh(u,d,p),u.plugin_version=Gw,u}function Mh(){if(xn("ObsoleteBridge---test---init---"),Kr=window.SensorsData_APP_JS_Bridge,Us=Kr&&Kr.sensorsdata_track,za=Kr&&Kr.sensorsdata_verify,bu=Kr&&Kr.sensorsdata_visual_verify,xn("ObsoleteBridge-",ar.bridge.activeBridge,za,Us,bu),ar&&!ar.bridge.activeBridge&&(za||Us||bu)){ar.bridge.activeBridge=U0;var u=za||Us;if(bu&&(u=!!bu.call(Kr,JSON.stringify({server_url:ar.para.server_url})),xn("ObsoleteBridge---called-return",u)),ar.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:u?"success":"fail"},!ar.para.app_js_bridge)return void xn("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");ar.registerInterceptor("sendDataStage",{send:{priority:80,entry:Bh}}),xn("Android obsolete bridge inits succeed.")}}function Bh(u,d){if(xn("ObsoleteBridge---senddata"),ar.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;if(za){var g=za&&za.call(Kr,JSON.stringify(Ka.extend({server_url:ar.para.server_url},u.data)));return xn("ObsoleteBridge---anVerify-success",g),g?(Ka.isFunction(p)&&p(),d.cancellationToken.cancel(),u):ar.para.app_js_bridge.is_send?(ar.debug.apph5({data:u.data,step:"3.1",output:"all"}),u):(Ka.isFunction(p)&&p(),d.cancellationToken.cancel(),u)}return xn("ObsoleteBridge---is-send-old-way",ar.para.app_js_bridge.is_send),Us&&Us.call(Kr,JSON.stringify(Ka.extend({server_url:ar.para.server_url},u.data))),Ka.isFunction(p)&&p(),d.cancellationToken.cancel(),u}function na(u){xn("ObsoleteBridge---handleCommadn");var d=u.callType;return d in sp.commands?(xn("ObsoleteBridge---",d,sp.commands),sp.commands[d](u,Kr)):Kr&&Ka.isFunction(Kr.sensorsdata_js_call_app)?(xn("ObsoleteBridge---handleCommadn-abridge"),Kr.sensorsdata_js_call_app(JSON.stringify(u))):void 0}function vt(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Si(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Si(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function br(u,d,p){return vt(u,d,p),u.plugin_version=zw,u}function Tn(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Uh(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Uh(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function pc(u,d,p){return Tn(u,d,p),u.plugin_version=Xw,u}function gc(){return typeof Tu<"u"&&document[Tu]}function jh(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Hh(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Hh(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function Vh(u,d,p){return jh(u,d,p),u.plugin_version=nC,u}function qh(){if(op=window.SensorsData_iOS_JS_Bridge&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url,Xa=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker},$t&&!$t.bridge.activeBridge&&Xa()&&Xa().postMessage){if($t.bridge.activeBridge=q0,$t.para.app_js_bridge&&!$t.para.app_js_bridge.is_mui&&($t.bridge.is_verify_success=op&&$t.bridge.validateAppUrl(op)),$t.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:$t.bridge.is_verify_success?"success":"fail",support_two_way_call:!0},!$t.para.app_js_bridge)return void up("app_js_bridge is not configured, data will not be sent by iOS bridge.");$t.registerInterceptor("sendDataStage",{send:{priority:70,entry:$h}}),up("IOS bridge inits succeed.")}}function $h(u,d){if($t.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var p=u.callback;return $t.bridge.is_verify_success?(Xa()&&Xa().postMessage(JSON.stringify({callType:"app_h5_track",data:Su.extend({server_url:$t.para.server_url},u.data)})),Su.isFunction(p)&&p(),d.cancellationToken.cancel(),u):$t.para.app_js_bridge.is_send?($t.debug.apph5({data:u.data,step:"4.1",output:"all"}),u):(Su.isFunction(p)&&p(),d.cancellationToken.cancel(),u)}function Wh(u){var d=u.callType;return d!=="page_info"&&d!=="visualized_track"||$t.bridge.hasVisualModeBridge()?d==="sensorsdata_get_app_visual_config"?Su.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge[d]:Xa()&&Xa().postMessage(JSON.stringify(u)):null}function mc(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return I(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function I(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function _(u,d,p){return mc(u,d,p),u.plugin_version=iC,u}function S(){if(sr&&!sr.bridge.activeBridge&&T()){if(sr.bridge.activeBridge=W0,sr.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:E()?"success":"fail"},!sr.para.app_js_bridge)return void lp("app_js_bridge is not configured, data will not be sent by iOS obsolete bridge.");sr.registerInterceptor("sendDataStage",{send:{priority:90,entry:A}}),lp("IOS obsolete bridge inits succeed.")}}function T(){return(/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream}function E(){if(/sensors-verify/.test(navigator.userAgent)){var u=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(u&&u[0]&&typeof u[1]=="string"&&u[1].split("?").length===2){u=u[1].split("?");var d=null,p=null;try{d=js.URL(sr.para.server_url).hostname,p=js.URL(sr.para.server_url).searchParams.get("project")||"default"}catch(g){sr.log(g)}return!(!d||d!==u[0]||!p||p!==u[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)}function A(u,d){function p(L){var W=JSON.stringify(js.extend({server_url:sr.para.server_url},L));return W=W.replace(/\r\n/g,""),W=encodeURIComponent(W),"sensorsanalytics://trackEvent?event="+W}if(sr.para.app_js_bridge.is_mui||u.data.type==="item_set"||u.data.type==="item_delete")return u;var g=u.callback;if(sr.bridge.bridge_info.verify_success){var b=document.createElement("iframe"),w=p(u.data);return b.setAttribute("src",w),document.documentElement.appendChild(b),b.parentNode.removeChild(b),b=null,js.isFunction(g)&&g(),d.cancellationToken.cancel(),!0}return sr.para.app_js_bridge.is_send?(sr.debug.apph5({data:u.data,step:"3.2",output:"all"}),u):(js.isFunction(g)&&g(),d.cancellationToken.cancel(),u)}function D(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return N(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function N(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function M(u,d,p){return D(u,d,p),u.plugin_version=aC,u}function q(){this.sd=null,this.start_time=+new Date,this.page_show_status=!0,this.page_hidden_status=!1,this._={},this.timer=null,this.current_page_url=document.referrer,this.url=location.href,this.title=document.title||"",this.option={},this.heartbeat_interval_time=5e3,this.heartbeat_interval_timer=null,this.page_id=null,this.storage_name="sawebjssdkpageleave",this.max_duration=oC}function $(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return X(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function X(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function ne(u,d,p){return $(u,d,p),u.plugin_version=cC,u}function Se(u,d){if(u.type!=="track")return u;var p=d.sd,g=p._,b=p.saEvent.check,w=g.extend2Lev({properties:{}},u),L=d.customRegister,W=w.properties,re=w.event,ge={};return g.each(L,function(Ce){if(g.isObject(Ce))g.indexOf(Ce.events,re)>-1&&b({properties:Ce.properties})&&(ge=g.extend(ge,Ce.properties));else if(g.isFunction(Ce)){var Ze=Ce({event:re,properties:W,data:w});g.isObject(Ze)&&!g.isEmptyObject(Ze)&&b({properties:Ze})&&(ge=g.extend(ge,Ze))}}),u.properties=g.extend(W,ge),u}function Pe(){this.sd=null,this.log=window.console&&window.console.log||function(){},this.customRegister=[]}function me(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Ve(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Ve(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function Gt(u,d,p){return me(u,d,p),u.plugin_version=hC,u}function Tr(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return xi(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function xi(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function du(u,d,p){return Tr(u,d,p),u.plugin_version=mC,u}function vc(u){try{if(u.event!=="$pageview"&&(!u.type||u.type.slice(0,7)!=="profile")){var d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,p=document.documentElement.scrollHeight||0,g={$page_height:Math.max(d,p)||0};u.properties=Ja._.extend(u.properties||{},g)}}catch{Eu("\u9875\u9762\u9AD8\u5EA6\u83B7\u53D6\u5F02\u5E38\u3002")}return K0.call(Ja.kit,u)}function _c(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return yc(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function yc(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function fu(u,d,p){return _c(u,d,p),u.plugin_version=yC,u}function bc(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return Ht(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function Ht(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function Tc(u,d,p){return bc(u,d,p),u.plugin_version=SC,u}function Ei(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return bE(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function bE(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function TE(u,d,p){return Ei(u,d,p),u.plugin_version=EC,u}function SE(){fp=!0}function xE(){fp=!1}function EE(){return fp}function wE(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return CE(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function CE(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function AE(u,d,p){return wE(u,d,p),u.plugin_version=CC,u}function DE(u){var d=u,p="";p=Ft.para.debug_mode_url.indexOf("?")!==-1?Ft.para.debug_mode_url+"&"+Ft.kit.encodeTrackData(u):Ft.para.debug_mode_url+"?"+Ft.kit.encodeTrackData(u),Ya.ajax({url:p,type:"GET",cors:!0,header:{"Dry-Run":String(Ft.para.debug_mode_upload)},success:function(g){Ya.isEmptyObject(g)===!0?alert("debug\u6570\u636E\u53D1\u9001\u6210\u529F"+d):alert("debug\u5931\u8D25 \u9519\u8BEF\u539F\u56E0"+JSON.stringify(g))}})}function kE(u,d){if(Ft.para.debug_mode===!0){var p=u.data;u.callback,DE(JSON.stringify(p)),d.cancellationToken.stop()}return u}function PE(){Ft.para.debug_mode===!0&&(Ft.para.debug_mode_upload=Ft.para.debug_mode_upload||!1,Ya.isString(Ft.para.debug_mode_url)||(Ya.isString(Ft.para.server_url)?Ft.para.debug_mode_url=Ft.para.server_url.replace("sa.gif","debug"):Ya.isArray(Ft.para.server_url)&&Ya.isString(Ft.para.server_url[0])?Ft.para.debug_mode_url=Ft.para.server_url[0].replace("sa.gif","debug"):Ft.para.debug_mode=!1))}function IE(){Ft.on("sdkInitPara",function(){PE()}),Ft.on("sdkAfterInitPara",function(){Ft.registerInterceptor("sendDataStage",{send:{priority:30,entry:kE}})})}function OE(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return LE(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function LE(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function RE(u,d,p){return OE(u,d,p),u.plugin_version=DC,u}function NE(u,d){if(Qa.isObject(Pr.para.jsapp)&&!Pr.para.jsapp.isOnline&&typeof Pr.para.jsapp.setData=="function"){var p=u;delete p.callback,p=JSON.stringify(p),Pr.para.jsapp.setData(p),d.cancellationToken.stop()}return u}function FE(){Pr.on("sdkAfterInitAPI",function(){Qa.isObject(Pr.commonWays)&&(Pr.commonWays.setOnlineState=ME),Pr.registerInterceptor("sendDataStage",{send:{priority:40,entry:NE}})})}function ME(u){if(u===!0&&Qa.isObject(Pr.para.jsapp)&&typeof Pr.para.jsapp.getData=="function"){Pr.para.jsapp.isOnline=!0;var d=Pr.para.jsapp.getData();Qa.isArray(d)&&d.length>0&&Qa.each(d,function(p){Qa.isJSONString(p)&&Pr.kit.sendData(JSON.parse(p))})}else Pr.para.jsapp.isOnline=!1}function BE(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return UE(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function UE(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function jE(u,d,p){return BE(u,d,p),u.plugin_version=PC,u}function HE(u,d){return!Ir.para.app_js_bridge&&Ir.para.batch_send&&ua.localStorage.isSupport()&&localStorage.length<Ir.para.batch_send.storage_length&&(Oc.add(u.data),d.cancellationToken.stop()),u}function VE(){var u={datasend_timeout:6e3,send_interval:6e3,storage_length:200};ua.localStorage.isSupport()&&ua.isSupportCors()&&typeof localStorage=="object"?Ir.para.batch_send===!0?Ir.para.batch_send=ua.extend({},u):typeof Ir.para.batch_send=="object"&&(Ir.para.batch_send=ua.extend({},u,Ir.para.batch_send)):Ir.para.batch_send=!1}function qE(){Ir.on("sdkInitPara",function(){VE()}),Ir.on("sdkAfterInitPara",function(){!Ir.para.app_js_bridge&&Ir.para.batch_send&&ua.localStorage.isSupport()&&(Oc||(Oc=new ua.BatchSend),Oc.batchInterval(),Ir.registerInterceptor("sendDataStage",{send:{priority:100,entry:HE}}))})}function $E(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return WE(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function WE(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function GE(u,d,p){return $E(u,d,p),u.plugin_version=OC,u}function s0(u){var d=new la.BeaconSend(u);d.start()}function zE(u,d){var p=null,g=null;la.isObject(u.config)&&(p=u.config.send_type,g=la.optimizeServerUrl(u.config.server_url));var b=p==="beacon"||!p&&ri.para.send_type==="beacon";if(b&&la.isSupportBeaconSend()){var w=g||u.server_url;u.server_url=w,u.data=ri.kit.encodeTrackData(u.data),la.isArray(w)&&w.length?la.each(w,function(L){u.callback=null,u.server_url=L,s0(u)}):typeof w=="string"&&w!==""?s0(u):ri.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),d.cancellationToken.stop()}return u}function KE(){ri.para.send_type!=="beacon"||la.isSupportBeaconSend()||(ri.para.send_type="image")}function XE(){ri.on("sdkInitPara",function(){KE()}),ri.on("sdkAfterInitPara",function(){ri.registerInterceptor("sendDataStage",{send:{priority:110,entry:zE}})})}function JE(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return YE(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function YE(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function QE(u,d,p){return JE(u,d,p),u.plugin_version=RC,u}function o0(u){var d=new ca.AjaxSend(u);d.start()}function ZE(u,d){var p=null,g=null;ca.isObject(u.config)&&(p=u.config.send_type,g=ca.optimizeServerUrl(u.config.server_url));var b=p==="ajax"||!p&&ni.para.send_type==="ajax";if(b&&ca.isSupportCors()){var w=g||u.server_url;u.server_url=w,u.data=ni.kit.encodeTrackData(u.data),ca.isArray(w)&&w.length?ca.each(w,function(L){u.callback=null,u.server_url=L,o0(u)}):typeof w=="string"&&w!==""?o0(u):ni.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),d.cancellationToken.stop()}return u}function ew(){ni.para.send_type!=="ajax"||ca.isSupportCors()||(ni.para.send_type="image")}function tw(){ni.on("sdkInitPara",function(){ew()}),ni.on("sdkAfterInitPara",function(){ni.registerInterceptor("sendDataStage",{send:{priority:120,entry:ZE}})})}function rw(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return nw(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function nw(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function iw(u,d,p){return rw(u,d,p),u.plugin_version=FC,u}function u0(u,d){var p=En.kit.encodeTrackData(d);return u.indexOf("?")!==-1?u+"&"+p:u+"?"+p}function l0(u){var d=new Hs.ImageSend(u);d.start()}function aw(u,d){var p=null;Hs.isObject(u.config)&&(p=Hs.optimizeServerUrl(u.config.server_url));var g=p||u.server_url,b=u.data;u.server_url=g,Hs.isArray(g)&&g.length?Hs.each(g,function(w){w&&(u.data=u0(w,b),u.callback=null,u.server_url=w,l0(u))}):typeof g=="string"&&g!==""?(u.data=u0(g,b),l0(u)):En.logger&&En.logger.msg("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01").level("warn").log(),d.cancellationToken.stop()}function sw(){En.para.send_type!=="image"&&En.para.send_type!=="ajax"&&En.para.send_type!=="beacon"&&(En.para.send_type="image")}function ow(){En.on("sdkInitPara",function(){sw()}),En.on("sdkAfterInitPara",function(){En.registerInterceptor("sendDataStage",{send:{priority:130,entry:aw}})})}function uw(u,d,p){if(d&&(u.plugin_name=d),p&&u.init){var g=u.init;u.init=function(b,w){function L(){g.call(u,b,w)}return lw(b,u,d),b.readyState&&b.readyState.state>=3||!b.on?L():void b.on(p,L)}}return u}function lw(u,d,p){function g(b,w){u.logger?u.logger.msg.apply(u.logger,w).module(p+""||"").level(b).log():u.log&&u.log.apply(u,w)}d.log=function(){g("log",arguments)},d.warn=function(){g("warn",arguments)},d.error=function(){g("error",arguments)}}function cw(u,d,p){return uw(u,d,p),u.plugin_version=xc,u}function dw(u){return wu===null?void c0(u):void wu.push(u)}function c0(u){try{if(u.level==="log"&&d0()||u.level==="warn"&&fw()||u.level==="error"&&hw())return void Gh(u)}catch{}}function d0(){return!!zh()||fr.para.show_log===!0||Yr.isObject(fr.para.show_log)&&fr.para.show_log.level==="log"}function fw(){return!!zh()||d0()||Yr.isObject(fr.para.show_log)&&fr.para.show_log.level==="warn"}function hw(){return!!zh()||!Yr.isObject(fr.para.show_log)||fr.para.show_log.level!=="none"}function Gh(u){var d=u.content,p=Yr.isObject(d[0])?Yr.formatJsonString(d[0]):d[0],g=pw(u);d[0]=g+(g.length>0?": ":"")+p;try{console&&(Yr.isFunction(console[u.level])?console[u.level].apply(console,d):Yr.isObject(console[u.level])&&console[u.level](d[0]))}catch{}}function pw(u){var d="",p="",g=fr.para.show_log;return Yr.isObject(g)&&g.show_brand===!1||(d+=u.brand),Yr.isObject(g)&&g.show_level===!1||(d+=(d.length>0?"-":"")+u.level),d.length>0&&(d="["+d+"]"),Yr.isObject(g)&&g.show_module===!1||(p=u.module),d+p}function gw(){Yr.sessionStorage.isSupport()&&sessionStorage.setItem(hp,"true")}function mw(){Yr.sessionStorage.isSupport()&&sessionStorage.removeItem(hp)}function zh(){return Yr.sessionStorage.isSupport()&&sessionStorage.getItem(hp)==="true"}var O={};(function(){function u(W,re){function ge(Oe,He){try{Oe()}catch{He&&He()}}function Ce(Oe){if(Ce[Oe]!=null)return Ce[Oe];var He;if(Oe=="bug-string-char-index")He="a"[0]!="a";else if(Oe=="json")He=Ce("json-stringify")&&Ce("date-serialization")&&Ce("json-parse");else if(Oe=="date-serialization"){if(He=Ce("json-stringify")&&ii){var _e=re.stringify;ge(function(){He=_e(new Zt(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&_e(new Zt(864e13))=='"+275760-09-13T00:00:00.000Z"'&&_e(new Zt(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&_e(new Zt(-1))=='"1969-12-31T23:59:59.999Z"'})}}else{var We,Ae='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(Oe=="json-stringify"){var _e=re.stringify,Ge=typeof _e=="function";Ge&&((We=function(){return 1}).toJSON=We,ge(function(){Ge=_e(0)==="0"&&_e(new et)==="0"&&_e(new Mt)=='""'&&_e(wn)===Mn&&_e(Mn)===Mn&&_e()===Mn&&_e(We)==="1"&&_e([We])=="[1]"&&_e([Mn])=="[null]"&&_e(null)=="null"&&_e([Mn,wn,null])=="[null,null,null]"&&_e({a:[We,!0,!1,null,`\0\b
\f\r	`]})==Ae&&_e(null,We)==="1"&&_e([1,2],null,1)==`[
 1,
 2
]`},function(){Ge=!1})),He=Ge}if(Oe=="json-parse"){var Ke,Be=re.parse;typeof Be=="function"&&ge(function(){Be("0")!==0||Be(!1)||(We=Be(Ae),Ke=We.a.length==5&&We.a[0]===1,Ke&&(ge(function(){Ke=!Be('"	"')}),Ke&&ge(function(){Ke=Be("01")!==1}),Ke&&ge(function(){Ke=Be("1.")!==1})))},function(){Ke=!1}),He=Ke}}return Ce[Oe]=!!He}function Ze(Oe){return mp(this)}W||(W=p.Object()),re||(re=p.Object());var et=W.Number||p.Number,Mt=W.String||p.String,Sr=W.Object||p.Object,Zt=W.Date||p.Date,Ci=W.SyntaxError||p.SyntaxError,Lc=W.TypeError||p.TypeError,jC=W.Math||p.Math,Rc=W.JSON||p.JSON;if(typeof Rc=="object"&&Rc)return re.stringify=Rc.stringify,re.parse=Rc.parse,re.runInContext=u,re;var Mn,o_=Sr.prototype,wn=o_.toString,Nc=o_.hasOwnProperty,ii=new Zt(-0xc782b5b800cec);if(ge(function(){ii=ii.getUTCFullYear()==-109252&&ii.getUTCMonth()===0&&ii.getUTCDate()===1&&ii.getUTCHours()==10&&ii.getUTCMinutes()==37&&ii.getUTCSeconds()==6&&ii.getUTCMilliseconds()==708}),Ce["bug-string-char-index"]=Ce["date-serialization"]=Ce.json=Ce["json-stringify"]=Ce["json-parse"]=null,!Ce("json")){var Fc="[object Function]",HC="[object Date]",u_="[object Number]",l_="[object String]",pp="[object Array]",VC="[object Boolean]",gp=Ce("bug-string-char-index"),qs=function(Oe,He){var _e,We,Ae,Ge=0;(_e=function(){this.valueOf=0}).prototype.valueOf=0,We=new _e;for(Ae in We)Nc.call(We,Ae)&&Ge++;return _e=We=null,Ge?qs=function(Ke,Be){var Dt,Or,Bt=wn.call(Ke)==Fc;for(Dt in Ke)Bt&&Dt=="prototype"||!Nc.call(Ke,Dt)||(Or=Dt==="constructor")||Be(Dt);(Or||Nc.call(Ke,Dt="constructor"))&&Be(Dt)}:(We=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],qs=function(Ke,Be){var Dt,Or,Bt=wn.call(Ke)==Fc,fa=!Bt&&typeof Ke.constructor!="function"&&d[typeof Ke.hasOwnProperty]&&Ke.hasOwnProperty||Nc;for(Dt in Ke)Bt&&Dt=="prototype"||!fa.call(Ke,Dt)||Be(Dt);for(Or=We.length;Dt=We[--Or];)fa.call(Ke,Dt)&&Be(Dt)}),qs(Oe,He)};if(!Ce("json-stringify")&&!Ce("date-serialization")){var qC={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},$C="000000",Ai=function(Oe,He){return($C+(He||0)).slice(-Oe)},mp=function(Oe){var He,_e,We,Ae,Ge,Ke,Be,Dt,Or;if(ii)He=function(At){_e=At.getUTCFullYear(),We=At.getUTCMonth(),Ae=At.getUTCDate(),Ke=At.getUTCHours(),Be=At.getUTCMinutes(),Dt=At.getUTCSeconds(),Or=At.getUTCMilliseconds()};else{var Bt=jC.floor,fa=[0,31,59,90,120,151,181,212,243,273,304,334],Di=function(At,ki){return fa[ki]+365*(At-1970)+Bt((At-1969+(ki=+(ki>1)))/4)-Bt((At-1901+ki)/100)+Bt((At-1601+ki)/400)};He=function(At){for(Ae=Bt(At/864e5),_e=Bt(Ae/365.2425)+1970-1;Di(_e+1,0)<=Ae;_e++);for(We=Bt((Ae-Di(_e,0))/30.42);Di(_e,We+1)<=Ae;We++);Ae=1+Ae-Di(_e,We),Ge=(At%864e5+864e5)%864e5,Ke=Bt(Ge/36e5)%24,Be=Bt(Ge/6e4)%60,Dt=Bt(Ge/1e3)%60,Or=Ge%1e3}}return(mp=function(At){return At>-1/0&&At<1/0?(He(At),At=(_e<=0||_e>=1e4?(_e<0?"-":"+")+Ai(6,_e<0?-_e:_e):Ai(4,_e))+"-"+Ai(2,We+1)+"-"+Ai(2,Ae)+"T"+Ai(2,Ke)+":"+Ai(2,Be)+":"+Ai(2,Dt)+"."+Ai(3,Or)+"Z",_e=We=Ae=Ke=Be=Dt=Or=null):At=null,At})(Oe)};if(Ce("json-stringify")&&!Ce("date-serialization")){var WC=re.stringify;re.stringify=function(Oe,He,_e){var We=Zt.prototype.toJSON;Zt.prototype.toJSON=Ze;var Ae=WC(Oe,He,_e);return Zt.prototype.toJSON=We,Ae}}else{var GC="\\u00",zC=function(Oe){var He=Oe.charCodeAt(0),_e=qC[He];return _e||GC+Ai(2,He.toString(16))},vp=/[\x00-\x1f\x22\x5c]/g,c_=function(Oe){return vp.lastIndex=0,'"'+(vp.test(Oe)?Oe.replace(vp,zC):Oe)+'"'},_p=function(Oe,He,_e,We,Ae,Ge,Ke){var Be,Dt,Or,Bt,fa,Di,At,ki,bp;if(ge(function(){Be=He[Oe]}),typeof Be=="object"&&Be&&(Be.getUTCFullYear&&wn.call(Be)==HC&&Be.toJSON===Zt.prototype.toJSON?Be=mp(Be):typeof Be.toJSON=="function"&&(Be=Be.toJSON(Oe))),_e&&(Be=_e.call(He,Oe,Be)),Be==Mn)return Be===Mn?Be:"null";switch(Dt=typeof Be,Dt=="object"&&(Or=wn.call(Be)),Or||Dt){case"boolean":case VC:return""+Be;case"number":case u_:return Be>-1/0&&Be<1/0?""+Be:"null";case"string":case l_:return c_(""+Be)}if(typeof Be=="object"){for(At=Ke.length;At--;)if(Ke[At]===Be)throw Lc();if(Ke.push(Be),Bt=[],ki=Ge,Ge+=Ae,Or==pp){for(Di=0,At=Be.length;Di<At;Di++)fa=_p(Di,Be,_e,We,Ae,Ge,Ke),Bt.push(fa===Mn?"null":fa);bp=Bt.length?Ae?`[
`+Ge+Bt.join(`,
`+Ge)+`
`+ki+"]":"["+Bt.join(",")+"]":"[]"}else qs(We||Be,function(h_){var p_=_p(h_,Be,_e,We,Ae,Ge,Ke);p_!==Mn&&Bt.push(c_(h_)+":"+(Ae?" ":"")+p_)}),bp=Bt.length?Ae?`{
`+Ge+Bt.join(`,
`+Ge)+`
`+ki+"}":"{"+Bt.join(",")+"}":"{}";return Ke.pop(),bp}};re.stringify=function(Oe,He,_e){var We,Ae,Ge,Ke;if(d[typeof He]&&He){if(Ke=wn.call(He),Ke==Fc)Ae=He;else if(Ke==pp){Ge={};for(var Be,Dt=0,Or=He.length;Dt<Or;)Be=He[Dt++],Ke=wn.call(Be),Ke!="[object String]"&&Ke!="[object Number]"||(Ge[Be]=1)}}if(_e)if(Ke=wn.call(_e),Ke==u_){if((_e-=_e%1)>0)for(_e>10&&(_e=10),We="";We.length<_e;)We+=" "}else Ke==l_&&(We=_e.length<=10?_e:_e.slice(0,10));return _p("",(Be={},Be[""]=Oe,Be),Ae,Ge,We,"",[])}}}if(!Ce("json-parse")){var Je,Mc,KC=Mt.fromCharCode,XC={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},hr=function(){throw Je=Mc=null,Ci()},da=function(){for(var Oe,He,_e,We,Ae,Ge=Mc,Ke=Ge.length;Je<Ke;)switch(Ae=Ge.charCodeAt(Je)){case 9:case 10:case 13:case 32:Je++;break;case 123:case 125:case 91:case 93:case 58:case 44:return Oe=gp?Ge.charAt(Je):Ge[Je],Je++,Oe;case 34:for(Oe="@",Je++;Je<Ke;)if(Ae=Ge.charCodeAt(Je),Ae<32)hr();else if(Ae==92)switch(Ae=Ge.charCodeAt(++Je)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:Oe+=XC[Ae],Je++;break;case 117:for(He=++Je,_e=Je+4;Je<_e;Je++)Ae=Ge.charCodeAt(Je),Ae>=48&&Ae<=57||Ae>=97&&Ae<=102||Ae>=65&&Ae<=70||hr();Oe+=KC("0x"+Ge.slice(He,Je));break;default:hr()}else{if(Ae==34)break;for(Ae=Ge.charCodeAt(Je),He=Je;Ae>=32&&Ae!=92&&Ae!=34;)Ae=Ge.charCodeAt(++Je);Oe+=Ge.slice(He,Je)}if(Ge.charCodeAt(Je)==34)return Je++,Oe;hr();default:if(He=Je,Ae==45&&(We=!0,Ae=Ge.charCodeAt(++Je)),Ae>=48&&Ae<=57){for(Ae==48&&(Ae=Ge.charCodeAt(Je+1),Ae>=48&&Ae<=57)&&hr(),We=!1;Je<Ke&&(Ae=Ge.charCodeAt(Je),Ae>=48&&Ae<=57);Je++);if(Ge.charCodeAt(Je)==46){for(_e=++Je;_e<Ke&&(Ae=Ge.charCodeAt(_e),!(Ae<48||Ae>57));_e++);_e==Je&&hr(),Je=_e}if(Ae=Ge.charCodeAt(Je),Ae==101||Ae==69){for(Ae=Ge.charCodeAt(++Je),Ae!=43&&Ae!=45||Je++,_e=Je;_e<Ke&&(Ae=Ge.charCodeAt(_e),!(Ae<48||Ae>57));_e++);_e==Je&&hr(),Je=_e}return+Ge.slice(He,Je)}We&&hr();var Be=Ge.slice(Je,Je+4);if(Be=="true")return Je+=4,!0;if(Be=="fals"&&Ge.charCodeAt(Je+4)==101)return Je+=5,!1;if(Be=="null")return Je+=4,null;hr()}return"$"},yp=function(Oe){var He,_e;if(Oe=="$"&&hr(),typeof Oe=="string"){if((gp?Oe.charAt(0):Oe[0])=="@")return Oe.slice(1);if(Oe=="["){for(He=[];Oe=da(),Oe!="]";)_e?Oe==","?(Oe=da(),Oe=="]"&&hr()):hr():_e=!0,Oe==","&&hr(),He.push(yp(Oe));return He}if(Oe=="{"){for(He={};Oe=da(),Oe!="}";)_e?Oe==","?(Oe=da(),Oe=="}"&&hr()):hr():_e=!0,Oe!=","&&typeof Oe=="string"&&(gp?Oe.charAt(0):Oe[0])=="@"&&da()==":"||hr(),He[Oe.slice(1)]=yp(da());return He}hr()}return Oe},d_=function(Oe,He,_e){var We=f_(Oe,He,_e);We===Mn?delete Oe[He]:Oe[He]=We},f_=function(Oe,He,_e){var We,Ae=Oe[He];if(typeof Ae=="object"&&Ae)if(wn.call(Ae)==pp)for(We=Ae.length;We--;)d_(wn,qs,Ae,We,_e);else qs(Ae,function(Ge){d_(Ae,Ge,_e)});return _e.call(Oe,He,Ae)};re.parse=function(Oe,He){var _e,We;return Je=0,Mc=""+Oe,_e=yp(da()),da()!="$"&&hr(),Je=Mc=null,He&&wn.call(He)==Fc?f_((We={},We[""]=_e,We),"",He):_e}}}return re.runInContext=u,re}var d={function:!0,object:!0},p=d[typeof window]&&window||this,g=p.JSON,b=p.JSON3,w=!1,L=u(p,p.JSON3={noConflict:function(){return w||(w=!0,p.JSON=g,p.JSON3=b,g=b=null),L}});p.JSON?(p.JSON.parse=L.parse,p.JSON.stringify=L.stringify):p.JSON={parse:L.parse,stringify:L.stringify}}).call(window),function(u,d){d(u)}(window,function(u){if(u.atob)try{u.atob(" ")}catch{u.atob=function(b){var w=function(L){return b(String(L).replace(/[\t\n\f\r ]+/g,""))};return w.original=b,w}(u.atob)}else{var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;u.btoa=function(g){g=String(g);for(var b,w,L,W,re="",ge=0,Ce=g.length%3;ge<g.length;){if((w=g.charCodeAt(ge++))>255||(L=g.charCodeAt(ge++))>255||(W=g.charCodeAt(ge++))>255)return"";b=w<<16|L<<8|W,re+=d.charAt(b>>18&63)+d.charAt(b>>12&63)+d.charAt(b>>6&63)+d.charAt(63&b)}return Ce?re.slice(0,Ce-3)+"===".substring(Ce):re},u.atob=function(g){if(g=String(g).replace(/[\t\n\f\r ]+/g,""),!p.test(g))return"";g+="==".slice(2-(3&g.length));for(var b,w,L,W="",re=0;re<g.length;)b=d.indexOf(g.charAt(re++))<<18|d.indexOf(g.charAt(re++))<<12|(w=d.indexOf(g.charAt(re++)))<<6|(L=d.indexOf(g.charAt(re++))),W+=w===64?String.fromCharCode(b>>16&255):L===64?String.fromCharCode(b>>16&255,b>>8&255):String.fromCharCode(b>>16&255,b>>8&255,255&b);return W}}});var f0,dr={setup:function(u){f0=u},log:function(){(f0||console&&console.log||function(){}).apply(null,arguments)}},ft={get:function(u){return window.localStorage.getItem(u)},parse:function(u){var d;try{d=JSON.parse(ft.get(u))||null}catch(p){dr.log(p)}return d},set:function(u,d){try{window.localStorage.setItem(u,d)}catch(p){dr.log(p)}},remove:function(u){window.localStorage.removeItem(u)},isSupport:function(){var u=!0;try{var d="__local_store_support__",p="testIsSupportStorage";ft.set(d,p),ft.get(d)!==p&&(u=!1),ft.remove(d)}catch{u=!1}return u}},h0=function(){function u(){return p=(9301*p+49297)%233280,p/233280}var d=new Date,p=d.getTime();return function(g){return Math.ceil(u()*g)}}();l.prototype.get=function(u,d,p,g){if(!u)throw new Error("key is must");d=d||1e4,p=p||1e3,g=g||function(){};var b=this.lockGetPrefix+u,w=ft.get(b),L=String(a());return w&&(w=s(w)||{randomNum:0,expireTime:0},w.expireTime>i())?g(null):(ft.set(b,JSON.stringify({randomNum:L,expireTime:i()+d})),void setTimeout(function(){w=s(ft.get(b))||{randomNum:0,expireTime:0},w&&w.randomNum===L?(g(ft.get(u)),ft.remove(u),ft.remove(b)):g(null)},p))},l.prototype.set=function(u,d,p,g,b){if(!u||!d)throw new Error("key and val is must");p=p||1e4,g=g||1e3,b=b||function(){};var w=this.lockSetPrefix+u,L=ft.get(w),W=String(a());return L&&(L=s(L)||{randomNum:0,expireTime:0},L.expireTime>i())?b({status:"fail",reason:"This key is locked"}):(ft.set(w,JSON.stringify({randomNum:W,expireTime:i()+p})),void setTimeout(function(){L=s(ft.get(w))||{randomNum:0,expireTime:0},L.randomNum===W?ft.set(u,d)&&b({status:"success"}):b({status:"fail",reason:"This key is locked"})},g))},f.prototype.on=function(u,d){if(!u||!d)return!1;if(!c(d))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var p=typeof d=="object";return this._events[u].push(p?d:{listener:d,once:!1}),this},f.prototype.prepend=function(u,d){if(!u||!d)return!1;if(!c(d))throw new Error("listener must be a function");this._events[u]=this._events[u]||[];var p=typeof d=="object";return this._events[u].unshift(p?d:{listener:d,once:!1}),this},f.prototype.prependOnce=function(u,d){return this.prepend(u,{listener:d,once:!0})},f.prototype.once=function(u,d){return this.on(u,{listener:d,once:!0})},f.prototype.off=function(u,d){var p=this._events[u];if(!p)return!1;if(typeof d=="number")p.splice(d,1);else if(typeof d=="function")for(var g=0,b=p.length;g<b;g++)p[g]&&p[g].listener===d&&p.splice(g,1);return this},f.prototype.emit=function(u,d){var p=this._events[u];if(!p)return!1;for(var g=0;g<p.length;g++){var b=p[g];b&&(b.listener.call(this,d||{}),b.once&&this.off(u,g))}return this},f.prototype.removeAllListeners=function(u){u&&this._events[u]?this._events[u]=[]:this._events={}},f.prototype.listeners=function(u){return u&&typeof u=="string"?this._events[u]:this._events};var ia=function(){var u=function(){for(var g=1*new Date,b=0;g==1*new Date;)b++;return g.toString(16)+b.toString(16)},d=function(){return a().toString(16).replace(".","")},p=function(){function g(ge,Ce){var Ze,et=0;for(Ze=0;Ze<Ce.length;Ze++)et|=W[Ze]<<8*Ze;return ge^et}var b,w,L=navigator.userAgent,W=[],re=0;for(b=0;b<L.length;b++)w=L.charCodeAt(b),W.unshift(255&w),W.length>=4&&(re=g(re,W),W=[]);return W.length>0&&(re=g(re,W)),re.toString(16)};return function(){var g=String(screen.height*screen.width);g=g&&/\d{5,}/.test(g)?g.toString(16):String(31242*a()).replace(".","").slice(0,8);var b=u()+"-"+d()+"-"+p()+"-"+g+"-"+u();return b||(String(a())+String(a())+String(a())).slice(2,15)}}(),p0=function(u){this.ele=u},g0=function(u,d){for(var p=[];u;u=u.nextSibling)u.nodeType===1&&u!==d&&p.push(u);return p};p0.prototype={addClass:function(u){var d=" "+this.ele.className+" ";return d.indexOf(" "+u+" ")===-1&&(this.ele.className=this.ele.className+(this.ele.className===""?"":" ")+u),this},removeClass:function(u){var d=" "+this.ele.className+" ";return d.indexOf(" "+u+" ")!==-1&&(this.ele.className=d.replace(" "+u+" "," ").slice(1,-1)),this},hasClass:function(u){var d=" "+this.ele.className+" ";return d.indexOf(" "+u+" ")!==-1},attr:function(u,d){return typeof u=="string"&&F(d)?this.ele.getAttribute(u):(typeof u=="string"&&(d=String(d),this.ele.setAttribute(u,d)),this)},offset:function(){var u=this.ele.getBoundingClientRect();if(u.width||u.height){var d=this.ele.ownerDocument,p=d.documentElement;return{top:u.top+window.pageYOffset-p.clientTop,left:u.left+window.pageXOffset-p.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var u=this.ele.getBoundingClientRect();return{width:u.width,height:u.height}}catch{return{width:0,height:0}}},getStyle:function(u){return this.ele.currentStyle?this.ele.currentStyle[u]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(u)},wrap:function(u){var d=document.createElement(u);return this.ele.parentNode.insertBefore(d,this.ele),d.appendChild(this.ele),H(d)},getCssStyle:function(u){var d=this.ele.style.getPropertyValue(u);if(d)return d;var p=null;if(typeof window.getMatchedCSSRules=="function"&&(p=window.getMatchedCSSRules(this.ele)),!p||!B(p))return null;for(var g=p.length-1;g>=0;g--){var b=p[g];if(d=b.style.getPropertyValue(u))return d}},sibling:function(u,d){for(;(u=u[d])&&u.nodeType!==1;);return u},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(){return this.sibling(this.ele,"previousSibling")},siblings:function(){return g0((this.ele.parentNode||{}).firstChild,this.ele)},children:function(){return g0(this.ele.firstChild)},parent:function(){var u=this.ele.parentNode;return u=u&&u.nodeType!==11?u:null,H(u)},previousElementSibling:function(){var u=this.ele;if("previousElementSibling"in document.documentElement)return H(u.previousElementSibling);for(;u=u.previousSibling;)if(u.nodeType===1)return H(u);return H(null)},getSameTypeSiblings:function(){for(var u=this.ele,d=u.parentNode,p=u.tagName.toLowerCase(),g=[],b=0;b<d.children.length;b++){var w=d.children[b];w.nodeType===1&&w.tagName.toLowerCase()===p&&g.push(d.children[b])}return g},getParents:function(){try{var u=this.ele;if(!R(u))return[];var d=[u];if(u===null||u.parentElement===null)return[];for(;u.parentElement!==null;)u=u.parentElement,d.push(u);return d}catch{return[]}}};var m0=Array.prototype.forEach,vw=Object.prototype.hasOwnProperty,_w=Object.prototype.hasOwnProperty,$a={get:function(u){for(var d=u+"=",p=document.cookie.split(";"),g=0;g<p.length;g++){for(var b=p[g];b.charAt(0)==" ";)b=b.substring(1,b.length);if(b.indexOf(d)==0)return h(b.substring(d.length,b.length))}return null},set:function(u,d,p,g,b,w){function L(Zt){return!!Zt&&Zt.replace(/\r\n/g,"")}var W=w,re="",ge="",Ce="";if(p=p==null?73e3:p,p!==0){var Ze=new Date;String(p).slice(-1)==="s"?Ze.setTime(Ze.getTime()+1e3*Number(String(p).slice(0,-1))):Ze.setTime(Ze.getTime()+24*p*60*60*1e3),re="; expires="+Ze.toGMTString()}g&&g!==""&&(Ce="; SameSite="+g),b&&(ge="; secure");var et="",Mt="",Sr="";u&&(et=L(u)),d&&(Mt=L(d)),W&&(Sr=L(W)),et&&Mt&&(document.cookie=et+"="+encodeURIComponent(Mt)+re+"; path=/"+Sr+Ce+ge)},remove:function(u,d){this.set(u,"1",-1,d)},isSupport:function(u,d,p,g,b){function w(){L.set(u,d,p,g,b);var W=L.get(u);return W===d&&(L.remove(u),!0)}u=u||"cookie_support_test",d=d||"1";var L=this;return navigator.cookieEnabled&&w()}},yw=Object.prototype.hasOwnProperty,Bs={isSupport:function(){var u=!0,d="__session_storage_support__",p="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(d,p),sessionStorage.removeItem(d,p),u=!0):u=!1}catch{u=!1}return u}},bw={"+":"-","/":"_","=":"."},Tw={"-":"+",_:"/",".":"="},Sw={encode:function(u){return u.replace(/[+\/=]/g,function(d){return bw[d]})},decode:function(u){return u.replace(/[-_.]/g,function(d){return Tw[d]})},trim:function(u){return u.replace(/[.=]{1,2}$/,"")},isBase64:function(u){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(u)},isUrlSafeBase64:function(u){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(u)}},xw={__proto__:null,ConcurrentStorage:l,EventEmitter:f,URL:P,UUID:ia,addEvent:K,addHashEvent:Y,ajax:Z,base64Decode:te,base64Encode:ce,bindReady:Fe,cookie:$a,coverExtend:Ue,decodeURI:ve,decodeURIComponent:h,dfmapping:De,each:U,encodeDates:at,extend:z,extend2Lev:or,filter:yt,formatDate:_t,formatJsonString:ur,getCookieTopLevelDomain:Ar,getDomBySelector:mt,getElementContent:oe,getHostname:xe,getIOSVersion:we,getQueryParam:Ne,getQueryParamsFromUrl:ut,getRandom:a,getRandomBasic:h0,getScreenOrientation:j,getUA:G,getURL:ee,getURLPath:ue,getURLSearchParams:y,hasAttribute:ae,hasAttributes:ye,hashCode:de,hashCode53:be,indexOf:he,inherit:pe,isArguments:Le,isArray:B,isBoolean:je,isDate:Me,isElement:R,isEmptyObject:ke,isFunction:n,isHttpUrl:$e,isIOS:nt,isJSONString:ct,isNumber:lt,isObject:t,isString:x,isSupportBeaconSend:jt,isSupportCors:Qe,isUndefined:F,jsonp:Ln,listenPageState:Na,loadScript:_n,localStorage:ft,logger:dr,map:se,mediaQueriesSupported:Tt,now:i,removeScriptProtocol:Ss,rot13defs:cr,rot13obfs:lr,ry:H,safeJSONParse:s,searchObjDate:Yi,sessionStorage:Bs,setCssStyle:xs,strToUnicode:Xf,throttle:Jf,toArray:ql,trim:C,unique:Es,urlParse:k,urlSafeBase64:Sw,values:zr,xhr:Q,startsWith:$o},Sc=[],Wa={appendWriter:function(u){Sc.push(u)},msg:function(){var u={module:"",level:"log",brand:"web-sdk",content:null};u.content=Array.prototype.slice.call(arguments);var d={module:function(p){return x(p)&&(u.module=p),this},level:function(p){return x(p)&&(u.level=p),this},brand:function(p){return x(p)&&(u.brand=p),this},log:function(){if(u.content&&u.content.length){for(var p=0;p<Sc.length;p++)if(typeof Sc[p]=="function")try{Sc[p].call(null,u)}catch{}}return this}};return d}},Re={},hu={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,enc_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,max_id_length:255,max_key_length:100,cross_subdomain:!0,show_log:!1,is_debug:!1,source_channel:[],sdk_id:"",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1};hu.white_list={},hu.white_list[location.host]=P(location.href).hostname;var v0="utm_source utm_medium utm_campaign utm_content utm_term",xc="1.26.12",_0="sensorsdata_domain_test",pu={EMAIL:"$identity_email",MOBILE:"$identity_mobile",LOGIN:"$identity_login_id"},un={get:function(u){return $a.get(u)},set:function(u,d,p,g){var b="";if(g=F(g)?Re.cross_subdomain:g){var w=_i(location.href);w==="url\u89E3\u6790\u5931\u8D25"&&(w=""),b=w?"; domain="+w:""}return $a.set(u,d,p,Re.set_cookie_samesite,Re.is_secure_cookie,b)},remove:function(u,d){return d=F(d)?Re.cross_subdomain:d,$a.remove(u,d)},isSupport:function(u,d){return u=u||"sajssdk_2015_cookie_access_test",d=d||"1",$a.isSupport(u,d,0,null,Re.is_secure_cookie)}};un.getNewUser=ws;var Ec={data:{},get:function(u){var d=this.data[u];return d===void 0?null:d._expirationTimestamp_!==void 0?new Date().getTime()>d._expirationTimestamp_?null:d.value:d},set:function(u,d,p){if(p){var g,b=new Date;g=String(p).slice(-1)==="s"?b.getTime()+1e3*Number(String(p).slice(0,-1)):b.getTime()+24*p*60*60*1e3,d={value:d,_expirationTimestamp_:g}}this.data[u]=d},getNewUserFlagMemoryKey:function(u){return"sajssdk_2015_"+Re.sdk_id+u}},gu={checkIsAddSign:function(u){u.type==="track"&&(ws()?u.properties.$is_first_day=!0:u.properties.$is_first_day=!1)},is_first_visit_time:!1,is_page_first_visited:!1,checkIsFirstTime:function(u){u.type==="track"&&u.event==="$pageview"&&(this.is_first_visit_time?(u.properties.$is_first_time=!0,this.is_first_visit_time=!1):u.properties.$is_first_time=!1)},setDeviceId:function(){},storeInitCheck:function(){if(O.is_first_visitor){var u=new Date,d={h:23-u.getHours(),m:59-u.getMinutes(),s:59-u.getSeconds()};un.isSupport()?un.set(Dr("new_user"),"1",3600*d.h+60*d.m+d.s+"s"):Ec.set(Ec.getNewUserFlagMemoryKey("new_user"),"1",3600*d.h+60*d.m+d.s+"s"),this.is_first_visit_time=!0,this.is_page_first_visited=!0}else ws()||(this.checkIsAddSign=function(p){p.type==="track"&&(p.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(p){p.type==="track"&&p.event==="$pageview"&&(p.properties.$is_first_time=!1)}}},Kh=function(){this._events=[],this.pendingEvents=[]};Kh.prototype={emit:function(u){var d=[].slice.call(arguments,1);U(this._events,function(p){p.type===u&&p.callback.apply(p.context,d)}),this.pendingEvents.push({type:u,data:d}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(u,d,p,g){n(d)&&(this._events.push({type:u,callback:d,context:p||this}),g=g!==!1,this.pendingEvents.length>0&&g&&U(this.pendingEvents,function(b){b.type===u&&d.apply(p,b.data)}))},tempAdd:function(u,d){if(d&&u)return this.emit(u,d)},isReady:function(){}};var mu={data:{},id:function(){return this.data.id?this.data.id:(this.data.id=Fa(),this.data.id)},type:function(){return this.data.type?this.data.type:(this.data.type=bn(),this.data.type)}},aa={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(u){},apph5:function(u){var d="app_h5\u6253\u901A\u5931\u8D25-",p={1:d+"use_app_track\u4E3Afalse",2:d+"Android\u6216\u8005iOS\uFF0C\u6CA1\u6709\u66B4\u9732\u76F8\u5E94\u65B9\u6CD5",3.1:d+"Android\u6821\u9A8Cserver_url\u5931\u8D25",3.2:d+"iOS\u6821\u9A8Cserver_url\u5931\u8D25",4.1:d+"H5 \u6821\u9A8C iOS server_url \u5931\u8D25",4.2:d+"H5 \u6821\u9A8C Android server_url \u5931\u8D25"},g=u.output,b=u.step,w=u.data||"";g!=="all"&&g!=="console"||yn(p[b]),(g==="all"||g==="code")&&t(Re.is_debug)&&Re.is_debug.apph5&&(w.type&&w.type.slice(0,7)==="profile"||(w.properties._jssdk_debug_info="apph5-"+String(b)))},defineMode:function(u){var d={1:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 App SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},2:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 Web JS SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},3:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u6CA1\u6709\u5F00\u542F\u5168\u57CB\u70B9\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},4:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0E App SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""}};return!(!u||!d[u])&&d[u]},protocol:{protocolIsSame:function(u,d){try{if(P(u).protocol!==P(d).protocol)return!1}catch{return ze("\u4E0D\u652F\u6301 _.URL \u65B9\u6CD5"),!1}return!0},serverUrl:function(){x(Re.server_url)&&Re.server_url!==""&&!this.protocolIsSame(Re.server_url,location.href)&&ze(`SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002
\u56E0\u4E3A\uFF1A1\u3001https \u4E0B\u9762\u53D1\u9001 http \u7684\u56FE\u7247\u8BF7\u6C42\u4F1A\u5931\u8D25\u30022\u3001http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002`)},ajax:function(u){return u!==Re.server_url&&void(x(u)&&u!==""&&!this.protocolIsSame(u,location.href)&&ze("SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002\u56E0\u4E3A http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002"))}}},St={initPage:function(){var u=dt(),d=ee(),p=_i(d);p||aa.jssdkDebug("url_domain\u5F02\u5E38_"+d+"_"+p),this.pageProp={referrer:u,referrer_host:u?xe(u):"",url:d,url_host:xe(d,"url_host\u53D6\u503C\u5F02\u5E38"),url_domain:p}},pageProp:{},campaignParams:function(){return O.kit.getUtmData()},campaignParamsStandard:function(u,d){u=u||"",d=d||"";var p=St.campaignParams(),g={},b={};return U(p,function(w,L,W){(" "+v0+" ").indexOf(" "+L+" ")!==-1?g[u+L]=W[L]:b[d+L]=W[L]}),{$utms:g,otherUtms:b}},properties:function(){var u=window.innerHeight||document.documentElement.clientHeight||document.body&&document.body.clientHeight||0,d=window.innerWidth||document.documentElement.clientWidth||document.body&&document.body.clientWidth||0,p={$timezone_offset:new Date().getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$viewport_height:u,$viewport_width:d,$lib:"js",$lib_version:xc};return p},currentProps:{},register:function(u){z(St.currentProps,u)}},zt={},Xh=new f;zt.spa=Xh,zt.sdk=new f,zt.data=new f,zt.initSystemEvent=function(){Zf(function(u){Xh.emit("switch",u)})},zt.EVENT_LIST={spaSwitch:["spa","switch"],sdkBeforeInit:["sdk","beforeInit"],sdkInitPara:["sdk","initPara"],sdkAfterInitPara:["sdk","afterInitPara"],sdkInitAPI:["sdk","initAPI"],sdkAfterInitAPI:["sdk","afterInitAPI"],sdkAfterInit:["sdk","afterInit"],sdkReady:["sdk","ready"],dataSendSuccess:["data","sendSuccess"],dataSendFail:["data","sendFail"]};var Jh=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data,this.origin_data=u.origin_data};Jh.prototype.start=function(){var u=this,d=new Date;As({url:this.server_url,type:"POST",data:u.data,credentials:!1,timeout:Re.datasend_timeout,cors:!0,success:function(p,g){zt.data.emit("sendSuccess",{status:String(g),resText:p,type:"ajax_single",timeout_config:Re.datasend_timeout,request_timeout:new Date-d,data:u.origin_data}),u.end()},error:function(p,g){zt.data.emit("sendFail",{status:String(g),resText:p,type:"ajax_single",timeout_config:Re.datasend_timeout,request_timeout:new Date-d,data:u.origin_data}),u.end()}})},Jh.prototype.end=function(){if(this.callback){if(yn("warning: sdk callback is deprecated."),!n(this.callback))return void yn("error: sdk callback must be function.");this.callback()}};var y0="sawebjssdk-",Yh="tab-sawebjssdk-";Xo.prototype={batchInterval:function(){this.serverUrl===""&&this.getServerUrl(),this.hasTabStorage||(this.generateTabStorage(),this.hasTabStorage=!0);var u=this;u.timer=setTimeout(function(){u.updateExpireTime(),u.recycle(),u.send(),clearTimeout(u.timer),u.batchInterval()},Re.batch_send.send_interval)},getServerUrl:function(){return x(Re.server_url)&&Re.server_url!==""||B(Re.server_url)&&Re.server_url.length?void(this.serverUrl=B(Re.server_url)?Re.server_url[0]:Re.server_url):st("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01")},send:function(){if(this.sendTimeStamp&&i()-this.sendTimeStamp<Re.batch_send.send_interval)return!1;var u=ft.get(this.tabKey);if(u){this.sendTimeStamp=i(),u=s(u)||this.generateTabStorageVal();var d=Es(u.data);if(d.length){for(var p=[],g=0;g<d.length;g++){var b=O.store.readObjectVal(d[g]);b&&(b._flush_time=new Date().getTime(),p.push(b))}p.length&&this.request(p,u.data)}}},updateExpireTime:function(){var u=ft.get(this.tabKey);u&&(u=s(u)||this.generateTabStorageVal(),u.expireTime=i()+2*Re.batch_send.send_interval,u.serverUrl=this.serverUrl,ft.set(this.tabKey,JSON.stringify(u)))},request:function(u,d){var p=this,g=new Date;As({url:this.serverUrl,type:"POST",data:"data_list="+encodeURIComponent(ce(JSON.stringify(u))),credentials:!1,timeout:Re.batch_send.datasend_timeout,cors:!0,success:function(b,w){zt.data.emit("sendSuccess",{status:String(w),resText:b,type:"ajax_batch",timeout_config:Re.batch_send.datasend_timeout,request_timeout:new Date-g,data:u}),p.remove(d),p.sendTimeStamp=0},error:function(b,w){zt.data.emit("sendFail",{status:String(w),resText:b,type:"ajax_batch",timeout_config:Re.batch_send.datasend_timeout,request_timeout:new Date-g,data:u}),p.sendTimeStamp=0}})},remove:function(u){var d=ft.get(this.tabKey);if(d){for(var p=(s(d)||this.generateTabStorageVal()).data,g=0;g<u.length;g++){var b=he(p,u[g]);b>-1&&p.splice(b,1),ft.remove(u[g])}p=Es(p),ft.set(this.tabKey,JSON.stringify(this.generateTabStorageVal(p)))}},add:function(u){var d=y0+String(a()),p=ft.get(this.tabKey);p===null?(this.tabKey=Yh+String(a()),p=this.generateTabStorageVal()):p=s(p)||this.generateTabStorageVal(),p.data.push(d),p.expireTime=i()+2*Re.batch_send.send_interval,ft.set(this.tabKey,JSON.stringify(p)),O.store.saveObjectVal(d,u),u.type!=="track_signup"&&u.event!=="$pageview"||this.sendImmediately()},generateTabStorage:function(){this.tabKey=Yh+String(a()),ft.set(this.tabKey,JSON.stringify(this.generateTabStorageVal()))},generateTabStorageVal:function(u){return u=u||[],{data:u,expireTime:i()+2*Re.batch_send.send_interval,serverUrl:this.serverUrl}},sendImmediately:function(){this.send()},recycle:function(){for(var u={},d=1e4,p="sajssdk-lock-get-",g=0;g<localStorage.length;g++){var b=localStorage.key(g),w=this;if(b.indexOf(Yh)===0){for(var L=s(ft.get(b))||this.generateTabStorageVal(),W=0;W<L.data.length;W++)u[L.data[W]]=!0;if(b!==w.tabKey&&i()>L.expireTime&&this.serverUrl===L.serverUrl){var re=new l(p);re.get(b,d,1e3,function(et){if(et){ft.get(w.tabKey)===null&&w.generateTabStorage();var Mt=s(et)||w.generateTabStorageVal(),Sr=s(ft.get(w.tabKey))||w.generateTabStorageVal();Sr.data=Es(Sr.data.concat(Mt.data)),ft.set(w.tabKey,JSON.stringify(Sr))}})}}else if(b.indexOf(p)===0){var ge=s(ft.get(b))||{expireTime:0};i()-ge.expireTime>d&&ft.remove(b)}}for(var Ce=0;Ce<localStorage.length;Ce++){var Ze=localStorage.key(Ce);Ze.indexOf(y0)!==0||u[Ze]||ft.remove(Ze)}}};var Qh=function(u){this.callback=u.callback,this.server_url=u.server_url,this.data=u.data};Qh.prototype.start=function(){var u=this;typeof navigator=="object"&&typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){u.end()},40)},Qh.prototype.end=function(){if(this.callback){if(yn("warning: sdk callback is deprecated."),!n(this.callback))return void yn("error: sdk callback must be function.");this.callback()}};var wc=function(u){this.callback=u.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,Re.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.server_url=u.data};wc.prototype.start=function(){var u=this;Re.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,u.end()}),this.img.src=this.server_url},wc.prototype.lastClear=function(){var u=G();u.ie!==void 0?this.img.src="about:blank":this.img.src=""},wc.prototype.end=function(){if(this.callback){if(yn("warning: sdk callback is deprecated."),!n(this.callback))return void yn("error: sdk callback must be function.");this.callback()}var u=this;setTimeout(function(){u.lastClear&&u.lastClear()},Re.datasend_timeout-Re.callback_timeout)};var Ew={__proto__:null,addEvent:yi,EventEmitterSa:Kh,cookie:un,info:St,getReferrer:dt,getCurrentDomain:_i,isBaiduTraffic:Jn,getReferrerEqid:Fa,getReferrerEqidType:bn,getBaiduKeyword:mu,isReferralTraffic:Cs,getKeywordFromReferrer:Yn,getReferSearchEngine:Ma,getSourceFromReferrer:Wo,getWxAdIdFromUrl:Qn,parseSuperProperties:Pt,searchConfigData:Ba,strip_empty_properties:Qt,getEleInfo:Go,getElementContent:Ua,ajax:As,optimizeServerUrl:Ko,encodeTrackData:ja,AjaxSend:Jh,BatchSend:Xo,BeaconSend:Qh,ImageSend:wc},b0=new Kh,le={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{},identities:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getOriginDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getOriginUnionId:function(u){var d={};u=u||this._state;var p=u._first_id||u.first_id,g=u._distinct_id||u.distinct_id;return p&&g?(d.login_id=g,d.anonymous_id=p):d.anonymous_id=g,d},getIdentities:function(){var u=JSON.parse(JSON.stringify(this._state.identities));return u.$identity_anonymous_id=this.getAnonymousId(),u},getAnonymousId:function(){return le._state._first_id||le._state.first_id||le._state._distinct_id||le._state.distinct_id},getDistinctId:function(){var u=this.getUnionId();return u.login_id||u.anonymous_id},getUnionId:function(u){var d=this.getOriginUnionId(u);return d.login_id&&this._state.history_login_id&&this._state.history_login_id.name&&this._state.history_login_id.name!==pu.LOGIN&&(d.login_id=this._state.history_login_id.name+"+"+d.login_id),d},getFirstId:function(){return this._state._first_id||this._state.first_id},initSessionState:function(){var u=un.get("sensorsdata2015session");u=O.kit.userDecryptIfNeeded(u);var d=null;u!==null&&typeof(d=s(u))=="object"&&(this._sessionState=d||{})},setOnce:function(u,d){u in this._state||this.set(u,d)},set:function(u,d){this._state=this._state||{};var p=this._state.distinct_id;this._state[u]=d,u==="first_id"?delete this._state._first_id:u==="distinct_id"&&delete this._state._distinct_id,this.save(),u==="distinct_id"&&p&&b0.tempAdd("changeDistinctId",d)},change:function(u,d){this._state["_"+u]=d},setSessionProps:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var d=this._sessionState;z(d,u),this.sessionSave(d)},setSessionPropsOnce:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var d=this._sessionState;Ue(d,u),this.sessionSave(d)},setProps:function(u,d){var p={};p=d?u:z(this._state.props||{},u);for(var g in p)typeof p[g]=="string"&&(p[g]=p[g].slice(0,O.para.max_referrer_string_length));this.set("props",p)},setPropsOnce:function(u){var d=this._state.props||{};Ue(d,u),this.set("props",d)},clearAllProps:function(u){this._sessionState={};var d;if(B(u)&&u.length>0)for(d=0;d<u.length;d++)x(u[d])&&u[d].indexOf("latest_")===-1&&t(this._state.props)&&u[d]in this._state.props&&delete this._state.props[u[d]];else if(t(this._state.props))for(d in this._state.props)d.indexOf("latest_")!==1&&delete this._state.props[d];this.sessionSave({}),this.save()},sessionSave:function(u){O.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE"),this._sessionState=u;var d=JSON.stringify(this._sessionState);O.para.encrypt_cookie&&(d=O.kit.userEncrypt(d)),un.set("sensorsdata2015session",d,0)},save:function(){var u=JSON.parse(JSON.stringify(this._state));delete u._first_id,delete u._distinct_id,u.identities&&(u.identities=ce(JSON.stringify(u.identities)));var d=JSON.stringify(u);O.para.encrypt_cookie&&(d=O.kit.userEncrypt(d)),un.set(this.getCookieName(),d,360,O.para.cross_subdomain)},getCookieName:function(){var u="";if(O.para.cross_subdomain===!1){try{var d=location.host;F(O.para.white_list[d])||(u=O.para.white_list[d])}catch(p){ze(p)}u=typeof u=="string"&&u!==""?"sa_jssdk_2015_"+O.para.sdk_id+u.replace(/\./g,"_"):"sa_jssdk_2015_root"+O.para.sdk_id}else u="sensorsdata2015jssdkcross"+O.para.sdk_id;return u},init:function(){function u(w){var L;w.identities&&(w.identities.indexOf(`
/`)===0?w.identities=s(cr(w.identities)):w.identities=s(te(w.identities)));var W=le.getOriginUnionId(w);w.identities&&t(w.identities)&&!ke(w.identities)||(w.identities={},w.identities.$identity_cookie_id=ia()),w.history_login_id=w.history_login_id||{};var re=w.history_login_id,ge=re.name;if(W.login_id)if(ge&&w.identities.hasOwnProperty(ge)){if(w.identities[ge]!==W.login_id){w.identities[ge]=W.login_id;for(L in w.identities)w.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==ge&&delete w.identities[L];w.history_login_id.value=W.login_id}}else{var Ce=ge||pu.LOGIN;w.identities[Ce]=W.login_id;for(L in w.identities)w.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!==Ce&&delete w.identities[L];w.history_login_id={name:Ce,value:W.login_id}}else{if(w.identities.hasOwnProperty("$identity_login_id")||w.identities.hasOwnProperty(ge))for(L in w.identities)w.identities.hasOwnProperty(L)&&L!=="$identity_cookie_id"&&L!=="$identity_anonymous_id"&&delete w.identities[L];w.history_login_id={name:"",value:""}}return w}function d(w){le.set("distinct_id",w),le.set("identities",{$identity_cookie_id:w}),le.set("history_login_id",{name:"",value:""})}this.initSessionState();var p,g,b=ia();un.isSupport()&&(p=un.get(this.getCookieName()),p=O.kit.userDecryptIfNeeded(p),g=s(p)),un.isSupport()&&p!==null&&ct(p)&&t(g)&&(!t(g)||g.distinct_id)?(le._state=z(u(g)),le.save()):(O.is_first_visitor=!0,d(b)),gu.setDeviceId(b,this),gu.storeInitCheck()},saveObjectVal:function(u,d){x(d)||(d=JSON.stringify(d)),O.para.encrypt_cookie==1&&(d=O.kit.userEncrypt(d)),ft.set(u,d)},readObjectVal:function(u){var d=ft.get(u);return d?(d=O.kit.userDecryptIfNeeded(d),s(d)):null}},qt={string:function(u){ze(u+" must be string")},emptyString:function(u){ze(u+"'s is empty")},regexTest:function(u){ze(u+" is invalid")},idLength:function(u){ze(u+" length is longer than "+Re.max_id_length)},keyLength:function(u){ze(u+" length is longer than "+Re.max_key_length)},stringLength:function(u){ze(u+" length is longer than "+Re.max_string_length)},voidZero:function(u){ze(u+"'s is undefined")},reservedLoginId:function(u){ze(u+" is invalid")},reservedBind:function(u){ze(u+" is invalid")},reservedUnbind:function(u){ze(u+" is invalid")}},T0={regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_tag.*|^user_group.*)[a-zA-Z_$][a-zA-Z\d_$]*)$/i,loginIDReservedNames:["$identity_anonymous_id","$identity_cookie_id"],bindReservedNames:["$identity_login_id","$identity_anonymous_id","$identity_cookie_id"],unbindReservedNames:["$identity_anonymous_id",pu.LOGIN],string:function(u){return!!x(u)},emptyString:function(u){return!(!x(u)||C(u).length===0)},regexTest:function(u){return!(!x(u)||!this.regName.test(u))},idLength:function(u){return!(!x(u)||u.length>Re.max_id_length)},keyLength:function(u){return!(!x(u)||u.length>Re.max_key_length)},stringLength:function(u){return!(!x(u)||u.length>Re.max_string_length)},voidZero:function(u){return u!==void 0},reservedLoginId:function(u){return!(he(this.loginIDReservedNames,u)>-1)},reservedUnbind:function(u){return!(he(this.unbindReservedNames,u)>-1)},reservedBind:function(u){var d=le._state.history_login_id;return(!d||!d.name||d.name!==u)&&!(he(this.bindReservedNames,u)>-1)}},ww={distinct_id:{rules:["string","emptyString","idLength"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Id"),n(qt[p])&&qt[p](d),p==="idLength")||u}},event:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="eventName"),n(qt[p])&&qt[p](d)),!0}},propertyKey:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="Property key"),n(qt[p])&&qt[p](d)),!0}},propertyValue:{rules:["voidZero"],onComplete:function(u,d,p){return u||(d="Property Value",n(qt[p])&&qt[p](d)),!0}},properties:function(u){return t(u)?U(u,function(d,p){bt({propertyKey:p});var g=function(b,w,L){return b||(w=p+"'s Value",n(qt[L])&&qt[L](w)),!0};bt({propertyValue:d},g)}):T0.voidZero(u)&&ze("properties\u53EF\u4EE5\u6CA1\u6709\uFF0C\u4F46\u6709\u7684\u8BDD\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},propertiesMust:function(u){return u!==void 0&&t(u)&&!ke(u)?this.properties.call(this,u):ze("properties\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},item_type:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="item_type"),n(qt[p])&&qt[p](d)),!0}},item_id:{rules:["string","emptyString","stringLength"],onComplete:function(u,d,p){return u||(p==="emptyString"&&(d="item_id"),n(qt[p])&&qt[p](d)),!0}},loginIdKey:{rules:["string","emptyString","keyLength","regexTest","reservedLoginId"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="login_id_key"),n(qt[p])&&qt[p](d),p==="keyLength")||u}},bindKey:{rules:["string","emptyString","keyLength","regexTest","reservedBind"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Key"),n(qt[p])&&qt[p](d),p==="keyLength")||u}},unbindKey:{rules:["string","emptyString","keyLength","regexTest","reservedUnbind"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Key"),n(qt[p])&&qt[p](d),p==="keyLength")||u}},bindValue:{rules:["string","emptyString","idLength"],onComplete:function(u,d,p){return!u&&(p==="emptyString"&&(d="Value"),n(qt[p])&&qt[p](d),p==="idLength")||u}},check:function(u,d,p){var g=this[u];if(n(g))return g.call(this,d);if(!g)return!1;for(var b=0;b<g.rules.length;b++){var w=g.rules[b],L=T0[w](d),W=n(p)?p(L,d,w):g.onComplete(L,d,w);if(!L)return W}return!0}},Ct={};Ct.initUrl=function(){var u,d={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!$e(O.para.server_url))return st("----vcollect---server_url\u5FC5\u987B\u4E3A\u6709\u6548 URL \u5B57\u7B26\u4E32"),!1;try{u=P(O.para.server_url),d.server_url.project=u.searchParams.get("project")||"default",d.server_url.host=u.host}catch(g){return st("----vcollect---server_url\u89E3\u6790\u5F02\u5E38",g),!1}var p;try{p=P(location.href),d.page_url.host=p.hostname,d.page_url.pathname=p.pathname}catch(g){return st("----vcollect---\u9875\u9762\u5730\u5740\u89E3\u6790\u5F02\u5E38",g),!1}return d},Ct.isDiv=function(u){if(u.element_path){var d=u.element_path.split(">"),p=C(d.pop());if(p.slice(0,3)!=="div")return!1}return!0},Ct.configIsMatchNew=function(u,d){if(x(u.$element_selector)&&x(d.element_selector)){if(d.element_field==="element_selector"&&d.function==="equal")return u.$element_selector===d.element_selector;if(d.element_field==="element_selector"&&d.function==="contain")return u.$element_selector.indexOf(d.element_selector)>-1}if(x(u.$element_path)&&x(d.element_path)){if(d.element_field==="element_path"&&d.function==="equal")return u.$element_path===d.element_path;if(d.element_field==="element_path"&&d.function==="contain")return u.$element_path.indexOf(d.element_path)>-1}return!1},Ct.configIsMatch=function(u,d){return(!d.limit_element_content||d.element_content===u.$element_content)&&(!d.limit_element_position||d.element_position===String(u.$element_position))&&(d.element_field&&d.function?Ct.configIsMatchNew(u,d):Ct.configIsMatchOldVersion(u,d))},Ct.configIsMatchOldVersion=function(u,d){if(!d.element_path)return!1;if(u.$element_position!==void 0){if(d.element_path!==u.$element_path)return!1}else if(Ct.isDiv({element_path:d.element_path})){if(u.$element_path.indexOf(d.element_path)<0)return!1}else if(d.element_path!==u.$element_path)return!1;return!0},Ct.filterConfig=function(u,d,p){var g=[];if(!p){var b=Ct.initUrl();if(!b)return[];p=b.page_url}return u.event==="$WebClick"&&U(d,function(w){t(w)&&(w.event_type==="webclick"||w.event_type==="appclick")&&t(w.event)&&w.event.url_host===p.host&&w.event.url_path===p.pathname&&Ct.configIsMatch(u.properties,w.event)&&g.push(w)}),g},Ct.getPropElInLi=function(u,d){if(!(u&&R(u)&&x(d))||u.tagName.toLowerCase()!=="li")return null;var p,g=O.heatmap.getDomSelector(u);if(g){p=g+d;var b=mt(p);return b||null}return ze("----custom---\u83B7\u53D6\u540C\u7EA7\u5C5E\u6027\u5143\u7D20\u5931\u8D25\uFF0Cselector\u4FE1\u606F\u5F02\u5E38",g,d),null},Ct.getProp=function(u,d){if(!t(u))return!1;if(!(x(u.name)&&u.name.length>0))return ze("----vcustom----\u5C5E\u6027\u540D\u4E0D\u5408\u6CD5,\u5C5E\u6027\u629B\u5F03",u.name),!1;var p,g,b={};if(u.method==="content"){var w;if(x(u.element_selector)&&u.element_selector.length>0)w=mt(u.element_selector);else{if(!d||!x(u.list_selector))return ze("----vcustom----\u5C5E\u6027\u914D\u7F6E\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var L=mt(d.properties.$element_selector);if(!L)return ze("----vcustom----\u70B9\u51FB\u5143\u7D20\u83B7\u53D6\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;var W=O.heatmap.getClosestLi(L);w=Ct.getPropElInLi(W,u.list_selector)}if(!w||!R(w))return ze("----vcustom----\u5C5E\u6027\u5143\u7D20\u83B7\u53D6\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1;if(w.tagName.toLowerCase()==="input")p=w.value||"";else if(w.tagName.toLowerCase()==="select"){var re=w.selectedIndex;lt(re)&&R(w[re])&&(p=Ua(w[re],"select"))}else p=Ua(w,w.tagName.toLowerCase());if(u.regular){try{g=new RegExp(u.regular).exec(p)}catch{return ze("----vcustom----\u6B63\u5219\u5904\u7406\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name),!1}if(g===null)return ze("----vcustom----\u5C5E\u6027\u89C4\u5219\u5904\u7406\uFF0C\u672A\u5339\u914D\u5230\u7ED3\u679C,\u5C5E\u6027\u629B\u5F03",u.name),!1;if(!B(g)||!x(g[0]))return ze("----vcustom----\u6B63\u5219\u5904\u7406\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,g),!1;p=g[0]}if(u.type==="STRING")b[u.name]=p;else if(u.type==="NUMBER"){if(p.length<1)return ze("----vcustom----\u672A\u83B7\u53D6\u5230\u6570\u5B57\u5185\u5BB9\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,p),!1;if(isNaN(Number(p)))return ze("----vcustom----\u6570\u5B57\u7C7B\u578B\u5C5E\u6027\u8F6C\u6362\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",u.name,p),!1;b[u.name]=Number(p)}return b}return st("----vcustom----\u5C5E\u6027\u4E0D\u652F\u6301\u6B64\u83B7\u53D6\u65B9\u5F0F",u.name,u.method),!1},Ct.getAssignConfigs=function(u,d){var p=Ct.initUrl();if(!p||!p.page_url)return[];if(!t(d))return[];var g=[];return d.events=d.events||d.eventList,B(d.events)&&d.events.length>0?(U(d.events,function(b){t(b)&&t(b.event)&&b.event.url_host===p.page_url.host&&b.event.url_path===p.page_url.pathname&&u(b)&&g.push(b)}),g):[]};var Cw={events:[],getAssignConfigs:Ct.getAssignConfigs,filterConfig:Ct.filterConfig,getProp:Ct.getProp,initUrl:Ct.initUrl,updateEvents:function(u){B(u)&&(this.events=u)},init:function(){this.initAppGetPropsBridge()},geth5Props:function(u){var d={},p=[],g=this;if(!this.events.length)return{};if(u.event==="$WebClick"){var b=this.filterConfig(u,this.events);if(!b.length)return{};U(b,function(w){t(w)&&(B(w.properties)&&w.properties.length>0&&U(w.properties,function(L){if(t(L))if(L.h5===!1)B(d.sensorsdata_app_visual_properties)||(d.sensorsdata_app_visual_properties=[]),d.sensorsdata_app_visual_properties.push(L);else{var W=g.getProp(L,u);t(W)&&(d=z(d,W))}}),x(w.event_name)&&p.push(w.event_name))}),O.bridge.hasVisualModeBridge()&&(d.sensorsdata_web_visual_eventName=p)}return d.sensorsdata_app_visual_properties&&(d.sensorsdata_app_visual_properties=ce(JSON.stringify(d.sensorsdata_app_visual_properties))),d},initAppGetPropsBridge:function(){var u=this,d=new O.SDKJSBridge("getJSVisualProperties");return d.onAppNotify(function(p){var g={};try{p=JSON.parse(te(p))}catch{st("getJSVisualProperties data parse error!")}if(t(p)){var b=p.sensorsdata_js_visual_properties,w=u.initUrl();w&&(w=w.page_url,B(b)&&b.length>0&&U(b,function(W){if(t(W)&&W.url_host===w.host&&W.url_path===w.pathname&&W.h5){var re=u.getProp(W);t(re)&&(g=z(g,re))}}))}var L=O.bridge.bridge_info.platform;return L==="android"&&d.notifyApp({data:g},p.message_id),g}),d}},Zh={events:[],customProp:Cw,getAssignConfigs:Ct.getAssignConfigs,initUrl:Ct.initUrl,init:function(){if(this.initUrl()){var u=this.getConfigFromApp();u&&this.updateConfigs(u),this.customProp.init(),this.initAppUpdateConfigBridge()}},initAppUpdateConfigBridge:function(){var u=this;return new O.SDKJSBridge("updateH5VisualConfig").onAppNotify(function(d){if(d){try{d=JSON.parse(te(d))}catch{return void st("updateH5VisualConfig result parse error\uFF01")}u.updateConfigs(d)}})},getConfigFromApp:function(){var u=new O.SDKJSBridge("sensorsdata_get_app_visual_config").notifyApp();if(u)try{u=JSON.parse(te(u))}catch{u=null,st("getAppVisualConfig result parse error\uFF01")}return u},updateConfigs:function(u){this.events=this.filterConfigs(u),this.customProp.updateEvents(this.events)},filterConfigs:function(u){return this.getAssignConfigs(function(d){return!(!t(d)||d.h5===!1)},u)}},Cc={events:[],init:function(u){this.filterWebClickEvents(u)},filterWebClickEvents:function(u){this.events=sa.getAssignConfigs(function(d){return!(!t(d)||d.event.unlimited_div!==!0||d.event_type!=="webclick")},u)},isTargetEle:function(u){var d=O.heatmap.getEleDetail(u);if(!t(d)||!x(d.$element_path))return!1;for(var p=0;p<this.events.length;p++)if(t(this.events[p])&&t(this.events[p].event)&&sa.configIsMatch(d,this.events[p].event))return!0;return!1}},S0={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config},updateEvents:function(u){this.events=sa.getAssignConfigs(function(d){return!!(t(d)&&B(d.properties)&&d.properties.length>0)},u),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(u){var d={};return this.collectAble()?(u.event==="$WebClick"&&(d=this.clickCustomPropMaker(u,this.events)),d):{}},clickCustomPropMaker:function(u,d,p){var g=this;p=p||this.filterConfig(u,d,sa.url_info.page_url);var b={};return p.length?(U(p,function(w){B(w.properties)&&w.properties.length>0&&U(w.properties,function(L){var W=g.getProp(L,u);t(W)&&z(b,W)})}),b):{}},getProp:Ct.getProp,getPropElInLi:Ct.getPropElInLi,filterConfig:Ct.filterConfig},sa={unlimitedDiv:Cc,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:S0,initUrl:function(){var u=Ct.initUrl();if(u){var d;try{d=new k(O.para.server_url),d._values.Path="/config/visualized/Web.conf",u.api_url=d.getUrl()}catch(p){return st("----vtrackcollect---API\u5730\u5740\u89E3\u6790\u5F02\u5E38",p),!1}this.url_info=u}return u},init:function(){if(!t(O.para.heatmap)||!O.para.heatmap.get_vtrack_config)return!1;if(ft.isSupport()||(this.storageEnable=!1),!this.initUrl())return st("----vtrackcustom----\u521D\u59CB\u5316\u5931\u8D25\uFF0Curl\u4FE1\u606F\u89E3\u6790\u5931\u8D25"),!1;if(this.storageEnable){var u=le.readObjectVal(this.storage_name);if(t(u)&&t(u.data))if(this.serverUrlIsSame(u.serverUrl)){this.config=u.data,this.update_time=u.updateTime,this.updateConfig(u.data);var d=new Date().getTime(),p=d-this.update_time;if(lt(p)&&p>0&&p<this.para.session_time){var g=this.para.update_interval-p;this.setNextFetch(g)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(u){return!!t(u)&&u.host===this.url_info.server_url.host&&u.project===this.url_info.server_url.project},getConfigFromServer:function(){var u=this,d=function(g,b){u.update_time=new Date().getTime();var w={};g===200?b&&t(b)&&b.os==="Web"&&(w=b,u.updateConfig(w)):g===205?u.updateConfig(w):g===304?w=u.config:(st("----vtrackcustom----\u6570\u636E\u5F02\u5E38",g),u.updateConfig(w)),u.updateStorage(w),u.setNextFetch()},p=function(g){u.update_time=new Date().getTime(),st("----vtrackcustom----\u914D\u7F6E\u62C9\u53D6\u5931\u8D25",g),u.setNextFetch()};this.sendRequest(d,p)},setNextFetch:function(u){var d=this;this.timer&&(clearTimeout(this.timer),this.timer=null),u=u||this.para.update_interval,this.timer=setTimeout(function(){d.getConfigFromServer()},u)},pageStateListenner:function(){var u=this;Na({visible:function(){var d=new Date().getTime(),p=d-u.update_time;if(lt(p)&&p>0&&p<u.para.update_interval){var g=u.para.update_interval-p;u.setNextFetch(g)}else u.getConfigFromServer()},hidden:function(){u.timer&&(clearTimeout(u.timer),u.timer=null)}})},updateConfig:function(u){return!!t(u)&&(this.config=u,this.customProp.updateEvents(u),void this.unlimitedDiv.init(u))},updateStorage:function(u){if(!this.storageEnable||!t(u))return!1;var d;if(this.url_info.server_url)d=this.url_info.server_url;else{var p=sa.initUrl();if(!p)return!1;d=p.server_url}var g={updateTime:new Date().getTime(),data:u,serverUrl:d};le.saveObjectVal(this.storage_name,g)},sendRequest:function(u,d){var p=this,g={app_id:this.url_info.page_url.host};this.config.version&&(g.v=this.config.version),Ln({url:p.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:g,timeout:p.para.timeout,success:function(b,w){u(b,w)},error:function(b){d(b)}})},getAssignConfigs:Ct.getAssignConfigs,configIsMatch:Ct.configIsMatch},Aw={basicProps:{priority:0,entry:Rn},formatData:{priority:0,entry:$l},finalAdjustData:{priority:0,entry:Yo}},ep={stage:null,init:function(u){this.stage=u},interceptor:Aw},kr={};kr.check=bt,kr.sendItem=function(u){var d={lib:{$lib:"js",$lib_method:"code",$lib_version:String(O.lib_version)},time:1*new Date};z(d,u),Ps(d),O.kit.sendData(d)},kr.send=function(u,d){var p=O.kit.buildData(u);O.kit.sendData(p,d)};var tp={stage:null,init:function(u){this.stage=u}},rp={label:!1,li:!1,a:!0,button:!0},Sn={otherTags:[],initUnlimitedTags:function(){U(Sn.otherTags,function(u){u in rp&&(rp[u]=!0)})},isUnlimitedTag:function(u){if(!u||u.nodeType!==1)return!1;var d=u.nodeName.toLowerCase();return rp[d]||ye(u,O.para.heatmap.track_attr)},getTargetElement:function(u,d){var p=this,g=u;if(typeof g!="object"||typeof g.tagName!="string")return null;var b=g.tagName.toLowerCase();if(b.toLowerCase()==="body"||b.toLowerCase()==="html"||!g||!g.parentNode||!g.parentNode.children)return null;var w=g.parentNode,L=p.otherTags;if(b==="a"||b==="button"||b==="input"||b==="textarea"||he(L,b)>-1)return g;if(b==="area"&&w.tagName.toLowerCase()==="map"&&H(w).prev().tagName&&H(w).prev().tagName.toLowerCase()==="img")return H(w).prev();if(b==="div"&&O.para.heatmap.collect_tags.div&&p.isDivLevelValid(g)){var W=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1;if(W>1||p.isCollectableDiv(g))return g}if(p.isStyleTag(b)&&O.para.heatmap.collect_tags.div){var re=p.getCollectableParent(g);if(re&&p.isDivLevelValid(re))return re}var ge=p.hasElement({event:d&&d.originalEvent||d,element:u},function(Ce){return p.isUnlimitedTag(Ce)});return ge||null},getDivLevels:function(u,d){var p=Sn.getElementPath(u,!0,d),g=p.split(" > "),b=0;return U(g,function(w){w==="div"&&b++}),b},isDivLevelValid:function(u){for(var d=O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level||1,p=u.getElementsByTagName("div"),g=p.length-1;g>=0;g--)if(Sn.getDivLevels(p[g],u)>d)return!1;return!0},getElementPath:function(u,d,p){for(var g=[];u.parentNode&&R(u);){if(!x(u.tagName))return"unknown";if(u.id&&!d&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.id)){g.unshift(u.tagName.toLowerCase()+"#"+u.id);break}if(p&&u===p){g.unshift(u.tagName.toLowerCase());break}if(u===document.body){g.unshift("body");break}g.unshift(u.tagName.toLowerCase()),u=u.parentNode}return g.join(" > ")},getClosestLi:function(u){var d=function(p,g){for(;p&&p!==document&&p.nodeType===1;p=p.parentNode)if(p.tagName&&x(p.tagName)&&p.tagName.toLowerCase()===g)return p;return null};return d(u,"li")},getElementPosition:function(u,d,p){function g(Ze){var et=Ze.parentNode;if(!et)return"";var Mt=H(Ze).getSameTypeSiblings(),Sr=Mt.length;if(Sr===1)return 0;for(var Zt=0,Ci=Ze;H(Ci).previousElementSibling().ele;Ci=H(Ci).previousElementSibling().ele,Zt++);return Zt}var b=O.heatmap.getClosestLi(u);if(!b||!R(u)||!x(u.tagName))return null;var w=u.tagName.toLowerCase(),L=b.getElementsByTagName(w),W=L.length,re=[];if(W>1){for(var ge=0;ge<W;ge++){var Ce=O.heatmap.getElementPath(L[ge],p);Ce===d&&re.push(L[ge])}if(re.length>1)return he(re,u)}return g(b)},setNotice:function(u){O.is_heatmap_render_mode=!0,O.para.heatmap||(O.errorMsg="\u60A8SDK\u6CA1\u6709\u914D\u7F6E\u5F00\u542F\u70B9\u51FB\u56FE\uFF0C\u53EF\u80FD\u6CA1\u6709\u6570\u636E\uFF01"),u&&u.slice(0,5)==="http:"&&location.protocol==="https:"&&(O.errorMsg="\u60A8\u7684\u5F53\u524D\u9875\u9762\u662Fhttps\u7684\u5730\u5740\uFF0C\u795E\u7B56\u5206\u6790\u73AF\u5883\u4E5F\u5FC5\u987B\u662Fhttps\uFF01"),O.para.heatmap_url||(O.para.heatmap_url=Zo()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/heatmap.min.js")},getDomIndex:function(u){if(!u.parentNode)return-1;for(var d=0,p=u.tagName,g=u.parentNode.children,b=0;b<g.length;b++)if(g[b].tagName===p){if(u===g[b])return d;d++}return-1},selector:function(u,d){if(!u||!R(u)||!x(u.tagName))return"";var p=u.parentNode&&u.parentNode.nodeType==9?-1:this.getDomIndex(u);return u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&(!O.para.heatmap||O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id")&&!d?"#"+u.getAttribute("id"):u.tagName.toLowerCase()+(~p?":nth-of-type("+(p+1)+")":"")},getDomSelector:function(u,d,p){if(!(u&&u.parentNode&&u.parentNode.children&&x(u.tagName)))return"unknown";d=d&&d.join?d:[];var g=u.nodeName.toLowerCase();return u&&g!=="body"&&u.nodeType==1?(d.unshift(this.selector(u,p)),u.getAttribute&&u.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(u.getAttribute("id"))&&O.para.heatmap&&O.para.heatmap.element_selector!=="not_use_id"&&!p?d.join(" > "):this.getDomSelector(u.parentNode,d,p)):(d.unshift("body"),d.join(" > "))},na:function(){var u=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(u)?0:u,10)},i:function(){var u=0;try{u=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,u=isNaN(u)?0:u}catch{u=0}return parseInt(u,10)},getBrowserWidth:function(){var u=window.innerWidth||document.body.clientWidth;return isNaN(u)?0:parseInt(u,10)},getBrowserHeight:function(){var u=window.innerHeight||document.body.clientHeight;return isNaN(u)?0:parseInt(u,10)},getScrollWidth:function(){var u=parseInt(document.body.scrollWidth,10);return isNaN(u)?0:u},getEleDetail:function(u){var d=this.getDomSelector(u),p=Go({target:u});p.$element_selector=d||"",p.$element_path=O.heatmap.getElementPath(u,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");var g=O.heatmap.getElementPosition(u,p.$element_path,O.para.heatmap&&O.para.heatmap.element_selector==="not_use_id");return lt(g)&&(p.$element_position=g),p},getPointerEventProp:function(u,d){function p(){var L=document.body.scrollLeft||document.documentElement.scrollLeft||0,W=document.body.scrollTop||document.documentElement.scrollTop||0;return{scrollLeft:L,scrollTop:W}}function g(L){if(document.documentElement.getBoundingClientRect){var W=L.getBoundingClientRect();return{targetEleX:W.left+p().scrollLeft||0,targetEleY:W.top+p().scrollTop||0}}}function b(L){return Number(Number(L).toFixed(3))}function w(L){var W=L.pageX||L.clientX+p().scrollLeft||L.offsetX+g(d).targetEleX||0,re=L.pageY||L.clientY+p().scrollTop||L.offsetY+g(d).targetEleY||0;return{$page_x:b(W),$page_y:b(re)}}return u?w(u):{}},start:function(u,d,p,g,b){if(t(O.para.heatmap)&&n(O.para.heatmap.collect_element)&&!O.para.heatmap.collect_element(d))return!1;var w=Sn.getBasicEleInfo(u,d,p,g,b);Wl(w)},getBasicEleInfo:function(u,d,p,g,b){var w=t(g)?g:{},L=n(b)?b:n(g)?g:void 0,W=this.getEleDetail(d);if(O.para.heatmap&&O.para.heatmap.custom_property){var re=O.para.heatmap.custom_property(d);t(re)&&(W=z(W,re))}return W=z(W,this.getPointerEventProp(u,d),w),{event:u,target:d,props:W,tagName:p,callback:L}},hasElement:function(u,d){var p;if(u.event){var g=u.event;p=g.path||g._getPath&&g._getPath()}else u.element&&(p=H(u.element).getParents());if(p&&B(p)&&p.length>0){for(var b=0;b<p.length;b++)if(typeof p[b]=="object"&&p[b].nodeType===1&&d(p[b]))return p[b]}},isStyleTag:function(u,d){var p=["a","div","input","button","textarea"],g=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];return!(he(p,u)>-1)&&(!d||O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div?!!(t(O.para.heatmap)&&t(O.para.heatmap.collect_tags)&&t(O.para.heatmap.collect_tags.div)&&B(O.para.heatmap.collect_tags.div.ignore_tags)&&he(O.para.heatmap.collect_tags.div.ignore_tags,u)>-1):he(g,u)>-1)},isCollectableDiv:function(u,d){try{if(u.children.length===0)return!0;for(var p=0;p<u.children.length;p++)if(u.children[p].nodeType===1){var g=x(u.children[p].tagName)?u.children[p].tagName.toLowerCase():"unknown",b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(!(g==="div"&&b>1||this.isStyleTag(g,d))||!this.isCollectableDiv(u.children[p],d))return!1}return!0}catch(w){st("isCollectableDiv:"+w)}return!1},getCollectableParent:function(u,d){try{var p=u.parentNode,g=p?p.tagName.toLowerCase():"";if(g==="body")return!1;var b=O.para&&O.para.heatmap&&O.para.heatmap.collect_tags&&O.para.heatmap.collect_tags.div&&O.para.heatmap.collect_tags.div.max_level;if(g&&g==="div"&&(b>1||this.isCollectableDiv(p,d)))return p;if(p&&this.isStyleTag(g,d))return this.getCollectableParent(p,d)}catch(w){st("getCollectableParent:"+w)}return!1},listenUrlChange:function(u){u(),O.ee.spa.on("switch",function(){u()})},initScrollmap:function(){if(!t(O.para.heatmap)||O.para.heatmap.scroll_notice_map!=="default")return!1;var u=!0;O.para.scrollmap&&n(O.para.scrollmap.collect_url)&&this.listenUrlChange(function(){u=!!O.para.scrollmap.collect_url()});var d=function(g){var b={};return b.timeout=g.timeout||1e3,b.func=g.func,b.hasInit=!1,b.inter=null,b.main=function(w,L){this.func(w,L),this.inter=null},b.go=function(w){var L={};this.inter||(L.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L.$viewport_position=Math.round(L.$viewport_position)||0,w?b.main(L,!0):this.inter=setTimeout(function(){b.main(L)},this.timeout))},b},p=d({timeout:1e3,func:function(g,b){var w=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,L=new Date,W=L-this.current_time;(W>O.para.heatmap.scroll_delay_time&&w-g.$viewport_position!==0||b)&&(g.$url=ee(),g.$title=document.title,g.$url_path=ue(),g.event_duration=Math.min(O.para.heatmap.scroll_event_duration,parseInt(W)/1e3),g.event_duration=g.event_duration<0?0:g.event_duration,nh(g)),this.current_time=L}});p.current_time=new Date,yi(window,"scroll",function(){return!!u&&void p.go()}),yi(window,"beforeunload",function(){return!!u&&void p.go("notime")})},initHeatmap:function(){var u=this,d=!0;return!(!t(O.para.heatmap)||O.para.heatmap.clickmap!=="default")&&(n(O.para.heatmap.collect_url)&&this.listenUrlChange(function(){d=!!O.para.heatmap.collect_url()}),O.para.heatmap.collect_elements==="all"?O.para.heatmap.collect_elements="all":O.para.heatmap.collect_elements="interact",void(O.para.heatmap.collect_elements==="all"?yi(document,"click",function(p){if(!d)return!1;var g=p||window.event;if(!g)return!1;var b=g.target||g.srcElement;if(typeof b!="object"||typeof b.tagName!="string")return!1;var w=b.tagName.toLowerCase();if(w==="body"||w==="html"||!b||!b.parentNode||!b.parentNode.children)return!1;var L=x(b.parentNode.tagName)?b.parentNode.tagName.toLowerCase():"unknown";L==="a"||L==="button"?u.start(g,b.parentNode,L):u.start(g,b,w)}):yi(document,"click",function(p){if(!d)return!1;var g=p||window.event;if(!g)return!1;var b=g.target||g.srcElement,w=O.heatmap.getTargetElement(b,p);return!(!R(w)&&!x(b.tagName))&&void(R(w)&&x(w.tagName)?u.start(g,w,w.tagName.toLowerCase()):R(b)&&b.tagName.toLowerCase()==="div"&&t(O.para.heatmap)&&O.para.heatmap.get_vtrack_config&&Cc.events.length>0&&Cc.isTargetEle(b)&&u.start(g,b,b.tagName.toLowerCase(),{$lib_method:"vtrack"}))})))}},Ac={autoTrackIsUsed:!1,isReady:function(u){return n(u)?void u():void O.log("error: isReady callback must be function")},getUtm:function(){return St.campaignParams()},getStayTime:function(){return(new Date-O._t)/1e3},setProfileLocal:function(u){if(!ft.isSupport())return O.setProfile(u),!1;if(!t(u)||ke(u))return!1;var d=le.readObjectVal("sensorsdata_2015_jssdk_profile"),p=!1;if(t(d)&&!ke(d)){for(var g in u)!(g in d&&d[g]!==u[g])&&g in d||(d[g]=u[g],p=!0);p&&(le.saveObjectVal("sensorsdata_2015_jssdk_profile",d),O.setProfile(u))}else le.saveObjectVal("sensorsdata_2015_jssdk_profile",u),O.setProfile(u)},setInitReferrer:function(){var u=dt();O.setOnceProfile({_init_referrer:u,_init_referrer_host:St.pageProp.referrer_host})},setSessionReferrer:function(){var u=dt();le.setSessionPropsOnce({_session_referrer:u,_session_referrer_host:St.pageProp.referrer_host})},setDefaultAttr:function(){St.register({_current_url:location.href,_referrer:dt(),_referring_host:St.pageProp.referrer_host})},trackHeatMap:function(u,d,p){if(typeof u=="object"&&u.tagName&&R(u.parentNode)){var g=u.tagName.toLowerCase(),b=u.parentNode.tagName.toLowerCase(),w=O.para.heatmap&&O.para.heatmap.track_attr?O.para.heatmap.track_attr:["data-sensors-click"];g==="button"||g==="a"||b==="a"||b==="button"||g==="input"||g==="textarea"||ye(u,w)||Sn.start(null,u,g,d,p)}},trackAllHeatMap:function(u,d,p){if(typeof u=="object"&&u.tagName){var g=u.tagName.toLowerCase();Sn.start(null,u,g,d,p)}},autoTrackSinglePage:function(u,d){function p(w,L){O.track("$pageview",z({$referrer:g,$url:ee(),$url_path:ue(),$title:document.title},w,ea()),L),g=ee()}var g;g=this.autoTrackIsUsed?St.pageProp.url:St.pageProp.referrer,u=t(u)?u:{};var b=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile,p(u,d),this.autoTrackSinglePage=p,ta(O.setOnceProfile,!1,b)},autoTrackWithoutProfile:function(u,d){u=t(u)?u:{},this.autoTrack(z(u,{not_set_profile:!0}),d)},autoTrack:function(u,d){u=t(u)?u:{};var p=ea(),g=!u.not_set_profile;u.not_set_profile&&delete u.not_set_profile;var b=location.href;O.para.is_single_page&&Y(function(){var w=dt(b,!0);O.track("$pageview",z({$referrer:w,$url:ee(),$url_path:ue(),$title:document.title},p,u),d),b=ee()}),O.track("$pageview",z({$referrer:dt(null,!0),$url:ee(),$url_path:ue(),$title:document.title},p,u),d),ta(O.setOnceProfile,!0,g),this.autoTrackIsUsed=!0},getAnonymousID:function(){return ke(le._state)?"SDK is not initialized.":le.getAnonymousId()},setPlugin:function(u){return!!t(u)&&void U(u,function(d,p){n(d)&&(t(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[p]||t(O.modules)&&O.modules[p]?d(window.SensorsDataWebJSSDKPlugin[p]):ze(p+"is not found,please check sensorsdata documents."))})},useModulePlugin:function(){O.use.apply(O,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}},Dw={state:0,historyState:[],stateType:{1:"1-init\u672A\u5F00\u59CB",2:"2-init\u5F00\u59CB",3:"3-store\u5B8C\u6210"},getState:function(){return this.historyState.join(`
`)},setState:function(u){String(u)in this.stateType&&(this.state=u),this.historyState.push(this.stateType[u])}},kw=1,Pw={__proto__:null,setInitVar:zl,initPara:ah,quick:sh,use:tu,track:oh,bind:uh,unbind:lh,trackLink:ch,trackLinks:dh,setItem:fh,deleteItem:Is,setProfile:Os,setOnceProfile:hh,appendProfile:ph,incrementProfile:ru,deleteProfile:gh,unsetProfile:nu,identify:mh,resetAnonymousIdentity:vh,trackSignup:Va,registerPage:ra,clearAllRegister:Ls,clearPageRegister:bi,register:Kl,registerOnce:Xl,registerSession:Jl,registerSessionOnce:au,login:Yl,loginWithKey:_h,logout:yh,getPresetProperties:Rs,readyState:Dw,debug:aa,on:Ha,log:yn};dr.setup(yn);var x0=z({},xw,Ew),Iw={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:"",support_two_way_call:!1},is_verify_success:!1,initPara:function(){var u={is_send:O.para.use_app_track_is_send!==!1&&O.para.use_app_track!=="only",white_list:[],is_mui:O.para.use_app_track==="mui"};typeof O.para.app_js_bridge=="object"?O.para.app_js_bridge=z({},u,O.para.app_js_bridge):O.para.use_app_track!==!0&&O.para.app_js_bridge!==!0&&O.para.use_app_track!=="only"&&O.para.use_app_track!=="mui"||(O.para.app_js_bridge=z({},u)),O.para.app_js_bridge.is_send===!1&&ze("\u8BBE\u7F6E\u4E86 is_send:false,\u5982\u679C\u6253\u901A\u5931\u8D25\uFF0C\u6570\u636E\u5C06\u88AB\u4E22\u5F03!")},app_js_bridge_v1:function(){function u(w){g=w,ct(g)&&(g=JSON.parse(g)),b&&(b(g),b=null,g=null)}function d(){typeof window.SensorsData_APP_JS_Bridge=="object"&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(g=window.SensorsData_APP_JS_Bridge.sensorsdata_call_app(),ct(g)&&(g=JSON.parse(g)))}function p(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var w=document.createElement("iframe");w.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(w),w.parentNode.removeChild(w),w=null}}var g=null,b=null;window.sensorsdata_app_js_bridge_call_js=function(w){u(w)},O.getAppStatus=function(w){return p(),d(),w?void(g===null?b=w:(w(g),g=null)):g}},hasVisualModeBridge:function(){var u=window.SensorsData_App_Visual_Bridge,d="sensorsdata_visualized_mode";return t(u)&&u[d]&&(u[d]===!0||u[d]())},validateAppUrl:Th};sn.prototype.call=function(u,d){var p=this,g=new Date().getTime().toString(16)+String(a()).replace(".","").slice(1,8);this.resultCbs[g]=p.resultCbs[g]||{result:null,callbacks:[]},this.timeoutCbs[g]=p.timeoutCbs[g]||{isTimeout:!1,callbacks:[]},u=u.data?u:{data:u},u.data.message_id=g;var b=z({callType:this.type},u);return d&&(this.timerId=setTimeout(function(){p.timeoutCbs[g].isTimeout=!0;for(var w in p.timeoutCbs[g].callbacks)p.timeoutCbs[g].callbacks[w].call(null),p.timeoutCbs[g].callbacks.splice(w,1)},d)),Ql(b),{onResult:function(w){return p.resultCbs[g].result?(w(p.resultCbs[g].result),this):(!p.timeoutCbs[g].isTimeout&&p.resultCbs[g].callbacks.push(w),this)},onTimeout:function(w){return p.timeoutCbs[g].isTimeout?(w(),this):(!p.resultCbs[g].result&&p.timeoutCbs[g].callbacks.push(w),this)}}},sn.prototype.onAppNotify=function(u){this.appCallJsCallback=u},sn.prototype.notifyApp=function(u,d){var p=z({callType:this.type},u);return d&&(p.message_id=d),Ql(p)},wt.prototype={double:function(){},getAppData:function(){},hasAppBridge:function(){return O.bridge.bridge_info.support_two_way_call},init:function(){},jsCallApp:function(){},requestToApp:function(u){this.bridge.call(u,u.timeout.time).onResult(function(d){n(u.callback)&&u.callback(d)}).onTimeout(function(){n(u.timeout.callback)&&u.timeout.callback()})}};var oa={isSeachHasKeyword:function(){return Ne(location.href,"sa-request-id")!==""&&(typeof sessionStorage.getItem("sensors-visual-mode")=="string"&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var u=location.href,d=Ne(u,"sa-request-id")||null,p=Ne(u,"sa-request-type")||null,g=Ne(u,"sa-request-url")||null;if(Sn.setNotice(g),Bs.isSupport())if(g!==null&&sessionStorage.setItem("sensors_heatmap_url",g),sessionStorage.setItem("sensors_heatmap_id",d),p!==null)p==="1"||p==="2"||p==="3"?sessionStorage.setItem("sensors_heatmap_type",p):p=null;else{var b=sessionStorage.getItem("sensors_heatmap_type");p=b!==null?b:null}this.isReady(d,p)},isReady:function(u,d,p){O.para.heatmap_url?_n({success:function(){setTimeout(function(){typeof sa_jssdk_heatmap_render<"u"&&(sa_jssdk_heatmap_render(O,u,d,p),typeof console=="object"&&typeof console.log=="function"&&(O.heatmap_version&&O.heatmap_version===O.lib_version||ze("heatmap.js\u4E0Esensorsdata.js\u7248\u672C\u53F7\u4E0D\u4E00\u81F4\uFF0C\u53EF\u80FD\u5B58\u5728\u98CE\u9669!")))},0)},error:function(){},type:"js",url:O.para.heatmap_url}):st("\u6CA1\u6709\u6307\u5B9Aheatmap_url\u7684\u8DEF\u5F84")},isStorageHasKeyword:function(){return Bs.isSupport()&&typeof sessionStorage.getItem("sensors_heatmap_id")=="string"},storageHasKeywordHandle:function(){Sn.setNotice(),oa.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)},isWindowNameHasKeyword:function(){try{var u=JSON.parse(window.name),d=x(u["sa-request-page-url"])?h(u["sa-request-page-url"]):null;return u["sa-request-id"]&&x(u["sa-request-id"])&&d===location.href}catch{return!1}},windowNameHasKeywordHandle:function(){function u(w){var L=d[w];return x(L)?h(L):null}var d=JSON.parse(window.name),p=u("sa-request-id"),g=u("sa-request-type"),b=u("sa-request-url");Sn.setNotice(b),Bs.isSupport()&&(b!==null&&sessionStorage.setItem("sensors_heatmap_url",b),sessionStorage.setItem("sensors_heatmap_id",p),g!==null?g==="1"||g==="2"||g==="3"?sessionStorage.setItem("sensors_heatmap_type",g):g=null:g=sessionStorage.getItem("sensors_heatmap_type")!==null?sessionStorage.getItem("sensors_heatmap_type"):null),oa.isReady(p,g)}},Nn={isStorageHasKeyword:function(){return Bs.isSupport()&&typeof sessionStorage.getItem("sensors-visual-mode")=="string"},isSearchHasKeyword:function(){return(Zl("sa-visual-mode")===!0||Zl("sa-visual-mode")==="true")&&(typeof sessionStorage.getItem("sensors_heatmap_id")=="string"&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){_n({success:function(){},error:function(){},type:"js",url:O.para.vtrack_url?O.para.vtrack_url:Zo()+"//static.sensorsdata.cn/sdk/"+O.lib_version+"/vtrack.min.js"})},messageListener:function(u){if(!u||!u.data||u.data.source!=="sa-fe")return!1;if(u.data.type==="v-track-mode"){if(u.data.data&&u.data.data.isVtrack)if(Bs.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),u.data.data.userURL&&location.href.match(/sa-visual-mode=true/)){var d=u.data.data.userURL;x(d)&&($o(d,"http://")||$o(d,"https://"))&&(window.location.href=encodeURI(d))}else Nn.loadVtrack();window.removeEventListener("message",Nn.messageListener,!1)}},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",Nn.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",Nn.messageListener,!1),Nn.postMessage()},postMessage:function(){try{window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:xc}},"*")}catch{st("\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u4E0D\u652F\u6301 postMessage API")}},notifyUser:function(){var u=function(d){return!(!d||!d.data||d.data.source!=="sa-fe")&&void(d.data.type==="v-track-mode"&&(d.data.data&&d.data.data.isVtrack&&alert("\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\uFF0C\u8BF7\u5347\u7EA7\u90E8\u7F72\u795E\u7B56\u6570\u636E\u6CBB\u7406"),window.removeEventListener("message",u,!1)))};window.addEventListener&&window.addEventListener("message",u,!1),Nn.postMessage()}},Ow=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","resetAnonymousIdentity","login","logout","trackLink","clearAllRegister","clearPageRegister","bind","unbind","loginWithKey"],Lw={track:function(u,d,p){},quick:function(u,d,p,g){},register:function(u){},registerPage:function(u){},registerOnce:function(u){},clearAllRegister:function(u){},trackSignup:function(u,d,p,g){},setProfile:function(u,d){},setOnceProfile:function(u,d){},appendProfile:function(u,d){},incrementProfile:function(u,d){},deleteProfile:function(u){},unsetProfile:function(u,d){},identify:function(u,d){},resetAnonymousIdentity:function(u){},login:function(u,d){},logout:function(u){},trackLink:function(u,d,p){},deleteItem:function(u,d){},setItem:function(u,d,p){},getAppStatus:function(u){},clearPageRegister:function(u){}};on.prototype.process=function(u,d){if(!(u&&u in this.processDef))return void st("process ["+u+"] is not supported");var p=this.registeredInterceptors[u];if(p&&B(p)&&p.length>0)for(var g={current:0,total:p.length},b=new sc(d,g,O),w=0;w<p.length;w++)try{if(g.current=w+1,d=p[w].call(null,d,b)||d,b.cancellationToken.getCanceled())break;if(b.cancellationToken.getStopped())return}catch(L){st("interceptor error:"+L)}return this.processDef[u]&&this.processDef[u]in this.processDef&&(d=this.process(this.processDef[u],d)),d},on.prototype.registerStageImplementation=function(u){u&&u.init&&n(u.init)&&(u.init(this),u.interceptor&&this.registerInterceptor(u.interceptor))},on.prototype.registerInterceptor=function(u){if(u)for(var d in u){var p=u[d];if(p&&t(p)&&n(p.entry)){lt(p.priority)||(p.priority=Number.MAX_VALUE),this.registeredInterceptors[d]||(this.registeredInterceptors[d]=[]);var g=this.registeredInterceptors[d];p.entry.priority=p.priority,g.push(p.entry),g.sort(function(b,w){return b.priority-w.priority})}}};var Rw={basicProps:"extendProps",extendProps:"formatData",formatData:"finalAdjustData",finalAdjustData:null},E0=new on(Rw),Nw={send:null},w0=new on(Nw),Fw={getUtmData:null,callSchema:null},C0=new on(Fw),Mw={webClickEvent:null,webStayEvent:null},A0=new on(Mw),D0={buildDataStage:function(u){u&&E0.registerInterceptor(u)},businessStage:function(u){u&&C0.registerInterceptor(u)},sendDataStage:function(u){u&&w0.registerInterceptor(u)},viewStage:function(u){u&&A0.registerInterceptor(u)}},np={stage:null,init:function(u){this.stage=u}},k0={stage:null,init:function(u){this.stage=u},interceptor:{send:{entry:function(u){return u}}}},vu={};vu.buildData=function(u){return rh(u)},vu.sendData=function(u,d){var p=Ba(u.properties),g={origin_data:u,server_url:O.para.server_url,data:u,config:p||{},callback:d};Ch(g),O.log(u)},vu.encodeTrackData=function(u){return ja(u)},vu.getUtmData=function(){return wh()};var Bw={webClickEvent:{entry:function(u,d){var p=d.sensors;u.tagName==="a"&&p.para.heatmap&&p.para.heatmap.isTrackLink===!0?p.trackLink({event:u.event,target:u.target},"$WebClick",u.props):p.track("$WebClick",u.props,u.callback)}},webStayEvent:{entry:function(u,d){var p=d.sensors;p.track("$WebStay",u)}}},P0=window.sensors_data_pre_config,I0=!!x0.isObject(P0)&&P0.is_compliance_enabled;O.init=function(u){return zt.sdk.emit("beforeInit"),!(O.readyState&&O.readyState.state&&O.readyState.state>=2)&&(I0&&(ou(!0),ic()),zt.initSystemEvent(),O.setInitVar(),O.readyState.setState(2),O.initPara(u),zt.sdk.emit("initPara"),zt.sdk.emit("afterInitPara"),zt.sdk.emit("initAPI"),zt.sdk.emit("afterInitAPI"),O.detectMode(),bh(),zt.sdk.emit("afterInit"),void zt.sdk.emit("ready"))},I0?ou(!1):(ou(!0),ic());var Fn,Dc,_u,It,yu,Ga,Kr,Us,za,bu,ar,Ka,xn,Xr,Jr,ip,ap,Tu,Uw="1.26.12",jw={init:function(u){var d=u._.isString,p=u._.rot13defs,g=u._.dfmapping,b="data:enc;",w="dfm-enc-";u.ee.sdk.on("afterInitPara",function(){u.kit.userEncrypt=function(L){return w+g(L)},u.kit.userDecrypt=function(L){return L.indexOf(b)===0?(L=L.substring(b.length),L=p(L)):L.indexOf(w)===0&&(L=L.substring(w.length),L=g(L)),L},u.kit.userDecryptIfNeeded=function(L){return!d(L)||L.indexOf(b)!==0&&L.indexOf(w)!==0||(L=u.kit.userDecrypt(L)),L}})},plugin_name:"UserEncryptDefault"},Hw=Ns(jw),Vw="1.26.12",qw={sd:null,init:function(u){if(this.sd||(this.sd=u,!this.sd||!this.sd._))return!1;var d=this.sd._.cookie.get("sensors_amp_id"),p=this.sd.store._state.distinct_id;if(d&&d.length>0){var g=d.slice(0,4)==="amp-";if(d!==p){if(!g)return!1;this.sd.store._state.first_id?(this.sd.identify(d,!0),this.sd.saEvent.send({original_id:d,distinct_id:p,type:"track_signup",event:"$SignUp",properties:{}},null),this.setAmpId(p)):this.sd.identify(d,!0)}}else this.setAmpId(p);this.addListener()},addListener:function(){var u=this;this.sd.events.on("changeDistinctId",function(d){u.setAmpId(d)}),this.sd.events.isReady()},setAmpId:function(u){this.sd._.cookie.set("sensors_amp_id",u)}},$w=oc(qw,"Amp","sdkReady"),Zn=window.SensorsData_App_Visual_Bridge,kc=Zn&&Zn.sensorsdata_visualized_mode,O0=Zn&&Zn.sensorsdata_visualized_alert_info,L0=Zn&&Zn.sensorsdata_hover_web_nodes,R0={isVerify:function(){return kc&&(kc===!0||kc.call(Zn))},commands:{app_alert:uc,visualized_track:uu,page_info:uu,sensorsdata_get_app_visual_config:lc}},Ww="1.26.12",N0={init:function(u){It=u,yu=It&&It._,Ga=It&&It.log||console&&console.log||function(){},fc()},handleCommand:Ms},F0=dc(N0,"AndroidBridge","sdkAfterInitPara"),ei=window.SensorsData_App_Visual_Bridge,Pc=ei&&ei.sensorsdata_visualized_mode,M0=ei&&ei.sensorsdata_visualized_alert_info,B0=ei&&ei.sensorsdata_hover_web_nodes,sp={isVerify:function(){return Pc&&(Pc===!0||Pc.call(ei))},commands:{app_alert:Lh,visualized_track:hc,page_info:hc,sensorsdata_get_app_visual_config:Rh}},Gw="1.26.12",U0={init:function(u){ar=u,Ka=ar&&ar._,xn=ar&&ar.log||console&&console.log||function(){},Mh()},handleCommand:na},j0=cu(U0,"AndroidObsoleteBridge","sdkAfterInitPara"),zw="1.26.12",ln={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(u,d){function p(){return Xr=Jr._,ip=Jr.store,!!Xr.localStorage.isSupport()&&(Jr.para.max_string_length=1024,g.eventList.init(),g.addLatestChannelUrl(),void g.addIsChannelCallbackEvent())}if(Jr||!u)return!1;d=d||{},ap=d.cookie_name||"sensorsdata2015jssdkchannel",Jr=u;var g=this;p()},addIsChannelCallbackEvent:function(){Jr.registerPage({$is_channel_callback_event:function(u){if(Xr.isObject(u)&&u.event&&u.event!=="$WebClick"&&u.event!=="$pageview"&&u.event!=="$WebStay"&&u.event!=="$SignUp")return!ln.eventList.hasEvent(u.event)&&(ln.eventList.add(u.event),!0)}})},addLatestChannelUrl:function(){var u=this.getUrlDomain(),d=this.cookie.getChannel();if(u==="url\u89E3\u6790\u5931\u8D25")this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url\u7684domain\u89E3\u6790\u5931\u8D25"});else if(Xr.isReferralTraffic(document.referrer)){var p=Xr.getQueryParam(location.href,"sat_cf");Xr.isString(p)&&p.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),ln.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else d?Jr.registerPage(d):Jr.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"\u53D6\u503C\u5F02\u5E38"})},registerAndSave:function(u){Jr.registerPage(u),this.cookie.saveChannel(u)},cookie:{getChannel:function(){var u=Jr.kit.userDecryptIfNeeded(Xr.cookie.get(ap));return u=Xr.safeJSONParse(u),!(!Xr.isObject(u)||!u.prop)&&u.prop},saveChannel:function(u){var d={prop:u},p=JSON.stringify(d);Jr.para.encrypt_cookie&&(p=Jr.kit.userEncrypt(p)),Xr.cookie.set(ap,p)}},channelLinkHandler:function(){this.eventList.reset(),Jr.track("$ChannelLinkReaching")},getUrlDomain:function(){var u=Xr.info.pageProp.url_domain;return u===""&&(u="url\u89E3\u6790\u5931\u8D25"),u},eventList:{init:function(){var u=this.get(),d=new Date().getTime();if(u&&Xr.isNumber(u.latest_event_initial_time)&&Xr.isArray(u.eventList)){var p=d-u.latest_event_initial_time;p>0&&p<ln.max_save_time?(ln.event_list=u.eventList,ln.latest_event_initial_time=u.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var u={};try{u=ip.readObjectVal("sawebjssdkchannel")}catch(d){Jr.log(d)}return u},add:function(u){ln.event_list.push(u),this.save()},save:function(){var u={latest_event_initial_time:ln.latest_event_initial_time,eventList:ln.event_list};ip.saveObjectVal("sawebjssdkchannel",u)},reset:function(){ln.event_list=[],ln.latest_event_initial_time=new Date().getTime(),this.save()},hasEvent:function(u){var d=!1;return Xr.each(ln.event_list,function(p){p===u&&(d=!0)}),d}}},Kw=br(ln,"SensorsChannel","sdkAfterInitAPI"),Xw="1.26.12",H0=(/micromessenger\/([\d.]+)/i.test(navigator.userAgent||""),function(){var u={};return typeof document.hidden<"u"?(u.hidden="hidden",u.visibilityChange="visibilitychange"):typeof document.msHidden<"u"?(u.hidden="msHidden",u.visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u});Tu=H0().hidden;var op,Xa,$t,Su,up,sr,js,lp,cp={android:/Android/i,iOS:/iPhone|iPad|iPod/i},Jw=function(){for(var u in cp)if(navigator.userAgent.match(cp[u]))return u;return""},V0=Jw(),Yw=function(){return cp.hasOwnProperty(V0)},dp=function(u){return u!=null&&Object.prototype.toString.call(u)=="[object Object]"},Qw=function(u){var d=/\/sd\/(\w+)\/(\w+)$/;return u.match(d)},Zw=function(u){var d=u._.URL(u.para.server_url);return{origin:d.origin,project:d.searchParams.get("project")||"default"}},eC=function(u,d,p){u.log("\u5C1D\u8BD5\u5524\u8D77 android app");var g=d;u.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+g),window.location=g,u.timer=setTimeout(function(){var b=gc();return u.log("hide:"+Tu+":"+document[Tu]),b?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location=p))},u.timeout)},tC=function(u,d,p){u.log("\u5C1D\u8BD5\u5524\u8D77 iOS app:"+d),window.location.href=d,u.timer=setTimeout(function(){var g=gc();return g?(u.log("The page is hidden, stop navigating to download page"),!1):(u.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location.href=p))},u.timeout),u.log("new timer:"+u.timer)},xu={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(u){if(this.sd)return this.log("deeplink\u5DF2\u7ECF\u521D\u59CB\u5316"),!1;if(this.sd=u,this.log("deeplink init called"),this.sd===null)return this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165"),!1;var d={};if(arguments.length>0&&(arguments.length===1&&dp(arguments[0])?d=arguments[0]:arguments.length>=2&&dp(arguments[1])&&(d=arguments[1])),!Yw())return this.log("\u4E0D\u652F\u6301\u5F53\u524D\u7CFB\u7EDF\uFF0C\u76EE\u524D\u53EA\u652F\u6301Android\u548CiOS"),!1;if(dp(d)&&this.sd._.isNumber(d.timeout)&&d.timeout>=2500&&(this.timeout=d.timeout),!this.sd.para.server_url)return this.log("\u795E\u7B56JS SDK\u914D\u7F6E\u9879server_url\u672A\u6B63\u786E\u914D\u7F6E"),!1;var p=Zw(this.sd);this.apiURL=this.apiURL.replace("{origin}",p.origin).replace("{project}",p.project);var g=this.sd._.getQueryParam(window.location.href,"deeplink");if(!g)return this.log("\u5F53\u524D\u9875\u9762\u7F3A\u5C11deeplink\u53C2\u6570"),!1;g=window.decodeURIComponent(g);var b=Qw(g);return b?(this.key=b[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(b[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:function(w){return w.errorMsg?(xu.log("API\u62A5\u9519\uFF1A"+w.errorMsg),!1):(xu.data=w,xu.log("API\u67E5\u8BE2\u6210\u529F\uFF0C\u6570\u636E\uFF1A"+JSON.stringify(w,null,"  ")),void(this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))))}.bind(this),error:function(){xu.log("API\u67E5\u8BE2\u51FA\u9519")}}),void this.addListeners()):(this.log("\u5F53\u524D\u9875\u9762\u7684deeplink\u53C2\u6570\u65E0\u6548"),!1)},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("\u6CA1\u6709Deep link\u6570\u636E!"),!1;if(V0==="iOS"){this.log("\u5F53\u524D\u7CFB\u7EDF\u662FiOS");var u=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+u),tC(this,u,this.data.ios_info.download_url)}else this.log("\u5F53\u524D\u7CFB\u7EDF\u662F android"),eC(this,this.data.android_info.url_schemes,this.data.android_info.download_url)},log:function(u){this.sd&&this.sd.log(u)},addListeners:function(){var u=H0().visibilityChange,d=this;u&&document.addEventListener(u,function(){clearTimeout(d.timer),d.log("visibilitychange, clear timeout:"+d.timer)},!1),window.addEventListener("pagehide",function(){d.log("page hide, clear timeout:"+d.timer),clearTimeout(d.timer)},!1)}},rC=pc(xu,"Deeplink","sdkReady"),nC="1.26.12",q0={init:function(u){$t=u,Su=$t&&$t._,up=$t&&$t.log||console&&console.log||function(){},qh()},handleCommand:Wh},$0=Vh(q0,"IOSBridge","sdkAfterInitPara"),iC="1.26.12",W0={init:function(u){sr=u,js=sr&&sr._,lp=sr&&sr.log||console&&console.log||function(){},S()}},G0=_(W0,"IOSObsoleteBridge","sdkAfterInitPara"),aC="1.26.12",sC=5e3,oC=432e3;q.prototype.init=function(u,d){if(u){if(this.sd=u,this._=this.sd._,d){this.option=d;var p=d.heartbeat_interval_time;p&&(this._.isNumber(p)||this._.isNumber(1*p))&&1*p>0&&(this.heartbeat_interval_time=1e3*p);var g=d.max_duration;g&&(this._.isNumber(g)||this._.isNumber(1*g))&&1*g>0&&(this.max_duration=g)}this.page_id=Number(String(this._.getRandom()).slice(2,5)+String(this._.getRandom()).slice(2,4)+String(new Date().getTime()).slice(-4)),this.addEventListener(),document.hidden===!0?this.page_show_status=!1:this.addHeartBeatInterval(),this.log("PageLeave\u521D\u59CB\u5316\u5B8C\u6BD5")}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},q.prototype.log=function(u){this.sd&&this.sd.log(u)},q.prototype.refreshPageEndTimer=function(){var u=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){u.page_hidden_status=!1},sC)},q.prototype.hiddenStatusHandler=function(){clearTimeout(this.timer),this.timer=null,this.page_hidden_status=!1},q.prototype.pageStartHandler=function(){this.start_time=+new Date,document.hidden?this.page_show_status=!1:this.page_show_status=!0,this.url=location.href,this.title=document.title},q.prototype.pageEndHandler=function(){if(this.page_hidden_status!==!0){var u=this.getPageLeaveProperties();this.page_show_status===!1&&delete u.event_duration,this.page_show_status=!1,this.page_hidden_status=!0,this.isCollectUrl(this.url)&&this.sd.track("$WebPageLeave",u),this.refreshPageEndTimer(),this.delHeartBeatData()}},q.prototype.addEventListener=function(){this.addPageStartListener(),this.addPageSwitchListener(),this.addSinglePageListener(),this.addPageEndListener()},q.prototype.addPageStartListener=function(){var u=this;"onpageshow"in window&&this._.addEvent(window,"pageshow",function(){u.pageStartHandler(),u.hiddenStatusHandler()})},q.prototype.isCollectUrl=function(u){return typeof this.option.isCollectUrl!="function"||typeof u!="string"||u===""||this.option.isCollectUrl(u)},q.prototype.addSinglePageListener=function(){var u=this;this.sd.ee&&this.sd.ee.spa.prepend("switch",function(d){d!==location.href&&(u.url=d,u.pageEndHandler(),u.stopHeartBeatInterval(),u.current_page_url=u.url,u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval())})},q.prototype.addPageEndListener=function(){var u=this;this._.each(["pagehide","beforeunload","unload"],function(d){"on"+d in window&&u._.addEvent(window,d,function(){u.pageEndHandler(),u.stopHeartBeatInterval()})})},q.prototype.addPageSwitchListener=function(){var u=this;this._.listenPageState({visible:function(){u.pageStartHandler(),u.hiddenStatusHandler(),u.addHeartBeatInterval()},hidden:function(){u.url=location.href,u.title=document.title,u.pageEndHandler(),u.stopHeartBeatInterval()}})},q.prototype.addHeartBeatInterval=function(){this._.localStorage.isSupport()&&this.startHeartBeatInterval()},q.prototype.startHeartBeatInterval=function(){var u=this;this.heartbeat_interval_timer&&this.stopHeartBeatInterval();var d=!0;this.isCollectUrl(this.url)||(d=!1),this.heartbeat_interval_timer=setInterval(function(){d&&u.saveHeartBeatData()},this.heartbeat_interval_time),d&&this.saveHeartBeatData("is_first_heartbeat"),this.reissueHeartBeatData()},q.prototype.stopHeartBeatInterval=function(){clearInterval(this.heartbeat_interval_timer),this.heartbeat_interval_timer=null},q.prototype.saveHeartBeatData=function(u){var d=this.getPageLeaveProperties(),p=new Date;d.$time=p,u==="is_first_heartbeat"&&(d.event_duration=3.14);var g=this.sd.kit.buildData({type:"track",event:"$WebPageLeave",properties:d});g.heartbeat_interval_time=this.heartbeat_interval_time,this.sd.store.saveObjectVal(this.storage_name+"-"+this.page_id,g)},q.prototype.delHeartBeatData=function(u){this._.localStorage.isSupport()&&this._.localStorage.remove(u||this.storage_name+"-"+this.page_id)},q.prototype.reissueHeartBeatData=function(){for(var u=window.localStorage.length,d=u-1;d>=0;d--){var p=window.localStorage.key(d);if(p&&p!==this.storage_name+"-"+this.page_id&&p.indexOf(this.storage_name+"-")===0){var g=this.sd.store.readObjectVal(p);this._.isObject(g)&&1*new Date-g.time>g.heartbeat_interval_time+5e3&&(delete g.heartbeat_interval_time,g._flush_time=new Date().getTime(),this.sd.kit.sendData(g),this.delHeartBeatData(p))}}},q.prototype.getPageLeaveProperties=function(){var u=(+new Date-this.start_time)/1e3;(isNaN(u)||u<0||u>this.max_duration)&&(u=0),u=Number(u.toFixed(3));var d=this._.getReferrer(this.current_page_url),p=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body&&document.body.scrollTop||0;p=Math.round(p)||0;var g={$title:this.title,$url:this._.getURL(this.url),$url_path:this._.getURLPath(this._.URL(this.url).pathname),$referrer_host:d?this._.getHostname(d):"",$referrer:d,$viewport_position:p};return u!==0&&(g.event_duration=u),g=this._.extend(g,this.option.custom_props)};var uC=new q,lC=M(uC,"PageLeave","sdkReady"),cC="1.26.12",z0=!1,dC={init:function(u,d){function p(L,W){if(L.getEntries&&typeof L.getEntries=="function"){for(var re=L.getEntries(),ge=null,Ce=0;Ce<re.length;Ce++)"transferSize"in re[Ce]&&(ge+=re[Ce].transferSize);u._.isNumber(ge)&&ge>=0&&ge<10737418240&&(W.$page_resource_size=Number((ge/1024).toFixed(3)))}}function g(L){var W=0;if(L.timing){var re=L.timing;re.fetchStart!==0&&u._.isNumber(re.fetchStart)&&re.domContentLoadedEventEnd!==0&&u._.isNumber(re.domContentLoadedEventEnd)?W=re.domContentLoadedEventEnd-re.fetchStart:u.log("performance \u6570\u636E\u83B7\u53D6\u5F02\u5E38")}return W}function b(L){var W=0;if(u._.isFunction(L.getEntriesByType)){var re=L.getEntriesByType("navigation")||[{}];W=(re[0]||{}).domContentLoadedEventEnd||0}return W}function w(){var L=0,W=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,re={$url:u._.getURL(),$title:document.title,$url_path:u._.getURLPath(),$referrer:u._.getReferrer(null,!0)};if(W?(L=b(W)||g(W),p(W,re)):u.log("\u6D4F\u89C8\u5668\u672A\u652F\u6301 performance API."),L>0){var ge=u._.isObject(d)&&d.max_duration||1800;L=Number((L/1e3).toFixed(3)),(!u._.isNumber(ge)||ge<=0||L<=ge)&&(re.event_duration=L)}z0||(u.track("$WebPageLoad",re),z0=!0),window.removeEventListener?window.removeEventListener("load",w):window.detachEvent&&window.detachEvent("onload",w)}document.readyState=="complete"?w():window.addEventListener?window.addEventListener("load",w):window.attachEvent&&window.attachEvent("onload",w)}},fC=ne(dC,"PageLoad","sdkReady");Pe.prototype.init=function(u){if(u){this.sd=u,this._=u._,this.log=u.log;var d=this;u.registerInterceptor("buildDataStage",{extendProps:{priority:0,entry:function(p){return Se(p,d)}}})}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},Pe.prototype.register=function(u){return this.sd?void(this._.isObject(u)&&this._.isArray(u.events)&&u.events.length>0&&this._.isObject(u.properties)&&!this._.isEmptyObject(u.properties)?this.customRegister.push(u):this.log("RegisterProperties: register \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},Pe.prototype.hookRegister=function(u){return this.sd?void(this._.isFunction(u)?this.customRegister.push(u):this.log("RegisterProperties: hookRegister \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")};var hC="1.26.12";Pe.prototype.plugin_name="RegisterProperties";var Ja,K0,pC=new Pe,gC=Gt(pC),mC="1.26.12",Eu=window.console&&window.console.log||function(){},vC={init:function(u){return Ja=u,Eu=Ja&&Ja.log||Eu,u&&u.kit&&u.kit.buildData?(K0=Ja.kit.buildData,Ja.kit.buildData=vc,void Eu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5B8C\u6210")):void Eu("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25,\u5F53\u524D\u4E3Bsdk\u4E0D\u652F\u6301 RegisterPropertyPageHeight \u63D2\u4EF6\uFF0C\u8BF7\u5347\u7EA7\u4E3Bsdk")}},_C=du(vC,"RegisterPropertyPageHeight","sdkReady"),yC="1.26.12",wi={};wi.getPart=function(u){var d=!1,p=this.option.length;if(p){for(var g=0;g<p;g++)if(u.indexOf(this.option[g].part_url)>-1)return!0}return d},wi.getPartHash=function(u){var d=this.option.length,p=!1;if(d){for(var g=0;g<d;g++)if(u.indexOf(this.option[g].part_url)>-1)return this.option[g].after_hash}return!!p},wi.getCurrenId=function(){var u=this.store.getDistinctId()||"",d=this.store.getFirstId()||"";this._.urlSafeBase64&&this._.urlSafeBase64.encode?u=u?this._.urlSafeBase64.trim(this._.urlSafeBase64.encode(this._.base64Encode(u))):"":this._.rot13obfs&&(u=u?this._.rot13obfs(u):"");var p=d?"f"+u:"d"+u;return encodeURIComponent(p)},wi.rewriteUrl=function(u,d){var p=this,g=/([^?#]+)(\?[^#]*)?(#.*)?/,b=g.exec(u),w="";if(b){var L,W=b[1]||"",re=b[2]||"",ge=b[3]||"",Ce="_sasdk="+this.getCurrenId(),Ze=function(Sr){var Zt=Sr.split("&"),Ci=[];return p._.each(Zt,function(Lc){Lc.indexOf("_sasdk=")>-1?Ci.push(Ce):Ci.push(Lc)}),Ci.join("&")};if(this.getPartHash(u)){L=ge.indexOf("_sasdk");var et=ge.indexOf("?");w=et>-1?L>-1?W+re+"#"+ge.substring(1,L)+Ze(ge.substring(L,ge.length)):W+re+ge+"&"+Ce:W+re+"#"+ge.substring(1)+"?"+Ce}else{L=re.indexOf("_sasdk");var Mt=/^\?(\w)+/.test(re);w=Mt?L>-1?W+"?"+Ze(re.substring(1))+ge:W+re+"&"+Ce+ge:W+"?"+Ce+ge}return d&&(d.href=w),w}},wi.getUrlId=function(){var u=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(u)&&u[1]){var d=decodeURIComponent(u[1]);return!d||d.substring(0,1)!=="f"&&d.substring(0,1)!=="d"||(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(d)?d=d.substring(0,1)+this._.base64Decode(this._.urlSafeBase64.decode(d.substring(1))):this._.rot13defs&&(d=d.substring(0,1)+this._.rot13defs(d.substring(1)))),d}return""},wi.setRefferId=function(u){var d=this.store.getDistinctId(),p=this.getUrlId();if(p&&p!==""){var g=p.substring(0,1)==="a"||p.substring(0,1)==="d";p=p.substring(1),p!==d&&(g?(this.sd.identify(p,!0),this.store.getFirstId()&&this.sd.saEvent.send({original_id:p,distinct_id:d,type:"track_signup",event:"$SignUp",properties:{}},null)):this.store.getFirstId()&&!u.re_login||this.sd.login(p))}},wi.addListen=function(){var u=this,d=function(p){var g,b,w=p.target,L=w.tagName.toLowerCase(),W=w.parentNode;if(L==="a"&&w.href||W&&W.tagName&&W.tagName.toLowerCase()==="a"&&W.href){L==="a"&&w.href?(g=w.href,b=w):(g=W.href,b=W);var re=u._.URL(g),ge=re.protocol;ge!=="http:"&&ge!=="https:"||u.getPart(g)&&u.rewriteUrl(g,b)}};u._.addEvent(document,"mousedown",d),window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>=0&&u._.addEvent(document,"pointerdown",d)},wi.init=function(u,d){function p(g){for(var b=g.length,w=[],L=0;L<b;L++)/[A-Za-z0-9]+\./.test(g[L].part_url)&&Object.prototype.toString.call(g[L].after_hash)=="[object Boolean]"?w.push(g[L]):u.log("linker \u914D\u7F6E\u7684\u7B2C "+(L+1)+" \u9879\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570\u683C\u5F0F\uFF01");return w}return this.sd=u,this._=u._,this.store=u.store,this.para=u.para,this._.isObject(d)&&this._.isArray(d.linker)&&d.linker.length>0?(this.setRefferId(d),this.addListen(),this.option=d.linker,void(this.option=p(this.option))):void u.log("\u8BF7\u914D\u7F6E\u6253\u901A\u57DF\u540D\u53C2\u6570\uFF01")};var ti,Ft,Ya,Pr,Qa,Ir,ua,ri,la,ni,ca,En,Hs,bC=fu(wi,"SiteLinker","sdkReady"),TC="utm_source utm_medium utm_campaign utm_content utm_term",SC="1.26.12",xC={init:function(u){function d(){var p=TC.split(" "),g="",b={};return ti._.isArray(ti.para.source_channel)&&ti.para.source_channel.length>0&&(p=p.concat(ti.para.source_channel),p=ti._.unique(p)),ti._.each(p,function(w){g=ti._.getQueryParam(location.href,w),g.length&&(b[w]=g)}),b}u&&!ti&&(ti=u,ti.registerInterceptor("businessStage",{getUtmData:{priority:0,entry:function(){return d()}}}))}},X0=Tc(xC,"Utm","sdkAfterInitPara"),EC="1.26.12",fp=!1,Ic=null,wC={init:function(u){Ic=u,Ic.disableSDK=SE,Ic.enableSDK=xE,Ic.getDisabled=EE}},J0=TE(wC,"DisableSDK","sdkInitAPI"),CC="1.26.12",AC={plugin_name:"DebugSender",init:function(u){Ft=u,Ya=Ft._,IE()}},Y0=AE(AC),DC="1.26.12",kC={plugin_name:"JsappSender",init:function(u){Pr=u,Qa=Pr._,FE()}},Q0=RE(kC),PC="1.26.12",Oc=null,IC={plugin_name:"BatchSender",init:function(u){Ir=u,ua=Ir._,qE()}},Z0=jE(IC),OC="1.26.12",LC={plugin_name:"BeaconSender",init:function(u){ri=u,la=ri._,XE()}},e_=GE(LC),RC="1.26.12",NC={plugin_name:"AjaxSender",init:function(u){ni=u,ca=ni._,tw()}},t_=QE(NC),FC="1.26.12",MC={plugin_name:"ImageSender",init:function(u){En=u,Hs=En._,ow()}},r_=iw(MC),fr=null,Yr=null,wu=[],BC={init:function(u){u&&(fr=u,Yr=fr._,fr.logger&&fr.logger.appendWriter(dw),fr.on&&fr.on("sdkAfterInitPara",function(){for(var d=0;d<wu.length;d++)c0(wu[d]);wu=null}),fr.on&&fr.on("sdkInitAPI",function(){fr.enableLocalLog=gw,fr.disableLocalLog=mw}))}},n_=cw(BC,"ConsoleLogger"),hp="sensorsdata_jssdk_debug";O.modules=O.modules||{};for(var i_=[n_,$w,F0,j0,Kw,rC,$0,G0,lC,fC,gC,_C,bC,X0,J0,Y0,Q0,Z0,e_,t_,r_],a_=[n_,Hw,X0,J0,Q0,Y0,F0,$0,j0,G0,Z0,e_,t_,r_],Za=0;Za<i_.length;Za++){var Vs=i_[Za];O._.isString(Vs.plugin_name)?O.modules[Vs.plugin_name]=Vs:O._.isArray(Vs.plugin_name)&&O._.each(Vs.plugin_name,function(u){O.modules[u]=Vs})}for(Za=0;Za<a_.length;Za++)O.use(a_[Za]);var s_=O;try{typeof window.sensorsDataAnalytic201505=="string"?(O.para=window[sensorsDataAnalytic201505].para,O._q=window[sensorsDataAnalytic201505]._q,window[sensorsDataAnalytic201505]=O,window.sensorsDataAnalytic201505=O,O.init()):typeof window.sensorsDataAnalytic201505>"u"?window.sensorsDataAnalytic201505=O:s_=window.sensorsDataAnalytic201505}catch(u){st(u)}var UC=s_;return UC})})(c2);const yo=c2.exports,{VITE_SENSORS:d2}={VITE_USER_NODE_ENV:"production",VITE_API_URL:"https://api-mate.flyai.com",VITE_URL_URL:"https://matelink.com",VITE_GOOGLE_ID:"865493212580-9c83sstcubj35jid46s6i9mej6udsct0.apps.googleusercontent.com",VITE_SENSORS:"MateLink",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0};yo.init({sdk_url:"lib/sensorsdata.min.js",heatmap_url:"lib/heatmap.min.js",name:"sensors",server_url:"https://log.cece.com/sa?project="+d2,is_track_single_page:!0,use_client_time:!0,send_type:"beacon",preset_properties:{url:!0,title:!0,latest_wx_ad_click_id:!0},app_js_bridge:!0,is_track_device_id:!0,heatmap:{clickmap:"default",scroll_notice_map:"default"},show_log:!0});yo.quick("autoTrack",{platform:"web"});yo.registerPage({$url:window.location.href,$referrer:document.referrer,systemName:d2});let Ly;yo.quick("isReady",function(){Ly=yo.quick("getAnonymousID"),localStorage.setItem("anonymousID",Ly)});function Km(){return yo}const xO={baseURL:"https://api-mate.flyai.com",timeout:u2.TIMEOUT,withCredentials:!1};class EO{constructor(e){g_(this,"service");this.service=TO.create(e),this.service.interceptors.request.use(n=>{const i=Km().getPresetProperties();return delete i.identities,n.data=Object.assign({},n.data,DO()),n.headers["x-client"]="h5-2",n.headers["X-Version"]="1.2.5",n},n=>Promise.reject(n)),this.service.interceptors.response.use(n=>{const{data:i}=n;if(i.code!=1003)return i},async n=>{const{response:i}=n;return i&&SO(i.status),window.navigator.onLine||Xm.replace("/500"),Promise.reject(n)})}get(e,n,i={}){return this.service.get(e,{params:n,...i})}post(e,n,i={}){return this.service.post(e,n,i)}put(e,n,i={}){return this.service.put(e,n,i)}delete(e,n,i={}){return this.service.delete(e,{params:n,...i})}download(e,n,i={}){return this.service.post(e,n,{...i,responseType:"blob"})}}const f2=new EO(xO),wO=r=>f2.post("user/login",r),CO=()=>f2.post("/user/center"),AO=Bk({id:"user",state:()=>({isModal:!1,isPopupLogin:!1,isPopupContactUs:!1,isPopupInfo:!1,popupLoginTitle:"Sign in",Token:"",userInfo:{},payType:!1}),actions:{logOut(){const r=localStorage.getItem("consent");window.localStorage.clear(),r!==null&&localStorage.setItem("consent",r),window.location.reload()},getUser(){return new Promise((r,e)=>{CO().then(n=>{n.code==200&&(this.userInfo.coins_balance=n.data.coins_balance,this.userInfo.vip_info=n.data.vip_info,r(n))}).catch(n=>{e(n)})})},getUserInfo(r){return new Promise((e,n)=>{wO(r).then(i=>{i.code===200&&(this.userInfo=i.data,this.Token=i.data.apikey,Km().identify(i.data.uid,!0),this.isPopupLogin=!1),e(i),e(i)}).catch(i=>{n(i)})})}},persist:{enabled:!0,strategies:[{storage:localStorage,paths:["Token","userInfo"]}]}});function DO(){const e=AO().Token,n={seed:Date.now(),apikey:e||`apikey_${kO(17)}`,sign:""},i=new er;i.appendAsciiStr(n.apikey+n.seed+"b8e8d3041d75434eb2c093a4524e0a11");const t=i.end();return n.sign=t.toUpperCase(),n}function kO(r,e){let n="";const i=e?Math.round(Math.random()*(e-r))+r:r,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];for(let a=0;a<i;a++){const s=Math.round(Math.random()*(t.length-1));n+=t[s]}return n}function mM(r){let n=0;const i=[];return r.forEach(t=>{n+t.length<30&&(n+=t.length,i.push(t))}),i}function vM(r){const e=["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sept","Oct","Nov","Dec"];let n="AM";const i=new Date(r*1e3),t=i.getFullYear(),a=i.getMonth(),s=i.getDate();let l=i.getHours();const c=i.getMinutes();l>=12&&(n="PM",l=l-12);const f=new Date,h=f.getFullYear(),v=f.getMonth(),y=f.getDate();return h==t&&v==a&&y==s?`${l>9?l:"0"+l}:${c>9?c:"0"+c} ${n}`:`${t==h?"":t} ${e[a]} ${s} ${l>9?l:"0"+l}:${c>9?c:"0"+c} ${n}`}let zc="";function _M(r){if(zc=="")return zc=r,r;{const e=r-zc;return e>1800?(zc=r,e):""}}function yM(r){const e=JSON.stringify(r);return JSON.parse(e)}function bM(r){const e=new RegExp("(^|&)"+r+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return n!=null?unescape(n[2]):null}function PO(r){const n=window.location.href.split("#");return n.length<2?null:new URLSearchParams(n[1].split("?")[1]).get(r)||""}const Xm=jP({history:mP("/"),routes:[{path:"/",redirect:"/",component:()=>Gc(()=>import("./defaultView.7113cfb9.js"),["./defaultView.7113cfb9.js","./index.a8f17e42.js","./_plugin-vue_export-helper.5dae84f2.js","./close_icon.c22f0107.js","./index.89390263.js","./defaultView.e58018e8.css"],import.meta.url),meta:{title:"",keepAlive:!0},children:[{path:"/",component:()=>Gc(()=>import("./indexView.d78622ca.js"),["./indexView.d78622ca.js","./index.a8f17e42.js","./_plugin-vue_export-helper.5dae84f2.js","./Image.4274a2f8.js","./indexView.5ad75cc1.css"],import.meta.url),meta:{title:"",keepAlive:!1}},{path:"chat",component:()=>Gc(()=>import("./chatView.c2b025fe.js"),["./chatView.c2b025fe.js","./index.a8f17e42.js","./_plugin-vue_export-helper.5dae84f2.js","./close_icon.c22f0107.js","./Image.4274a2f8.js","./chatView.d3caee94.css"],import.meta.url),meta:{title:"",keepAlive:!1}},{path:"becomePro",component:()=>Gc(()=>import("./becomeProView.4e7ef588.js"),["./becomeProView.4e7ef588.js","./index.89390263.js","./_plugin-vue_export-helper.5dae84f2.js","./becomeProView.e9726df6.css"],import.meta.url),meta:{title:"",keepAlive:!1}}]}]});Xm.beforeEach((r,e,n)=>{const i=PO("ref");if(!r.query.ref&&i){const t={path:r.path,query:{...r.query,ref:i},hash:r.hash};n(t)}else n()});const Ry=(r,e)=>{const n=r.storage||sessionStorage,i=r.key||e.$id;if(r.paths){const t=r.paths.reduce((a,s)=>(a[s]=e.$state[s],a),{});n.setItem(i,JSON.stringify(t))}else n.setItem(i,JSON.stringify(e.$state))};var IO=({options:r,store:e})=>{var n,i,t,a;if((n=r.persist)!=null&&n.enabled){const s=[{key:e.$id,storage:sessionStorage}],l=(t=(i=r.persist)==null?void 0:i.strategies)!=null&&t.length?(a=r.persist)==null?void 0:a.strategies:s;l.forEach(c=>{const f=c.storage||sessionStorage,h=c.key||e.$id,v=f.getItem(h);v&&(e.$patch(JSON.parse(v)),Ry(c,e))}),e.$subscribe(()=>{l.forEach(c=>{Ry(c,e)})})}};const Jm=Symbol(),Ym=zn(!1),gd=zn(!1),h2=zn(!1),Ng=zn(0);let Kc=null;const OO=()=>{const r=document.createElement("script");return r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r},LO=()=>{gd.value=!0,Kc=OO(),document.head.appendChild(Kc),Kc.onload=()=>{gd.value=!1,Ym.value=!0},Kc.onerror=()=>{gd.value=!1,h2.value=!0}};fi(()=>Ng.value,(r,e)=>{r>0&&!Ym.value&&!gd.value&&LO()});function p2(){return kl(()=>{Ng.value++}),pf(()=>{Ng.value--}),{scriptLoaded:po(Ym),scriptLoadError:po(h2)}}const RO=Dl({__name:"GoogleSignInButton",props:{oneTap:{type:Boolean},autoSelect:{type:Boolean},loginUri:{},cancelOnTapOutside:{type:Boolean},promptParentId:{},nonce:{},context:{},stateCookieDomain:{},uxMode:{},allowedParentOrigin:{},itpSupport:{type:Boolean},type:{},theme:{},size:{},text:{},shape:{},logoAlignment:{},width:{},locale:{}},emits:["success","error","intermediateIframeCloseCallback","nativeCallback","promptMomentNotification"],setup(r,{emit:e}){const n={large:40,medium:32,small:20},i=r,t=e,a=tn(Jm),s=zn(null),{scriptLoaded:l}=p2();WT(()=>{var f,h,v,y;l.value&&((f=window.google)==null||f.accounts.id.initialize({client_id:a,callback:x=>{if(!x.clientId||!x.credential){t("error");return}t("success",x)},allowed_parent_origin:i.allowedParentOrigin,auto_select:i.autoSelect,cancel_on_tap_outside:i.cancelOnTapOutside,context:i.context,intermediate_iframe_close_callback:()=>{t("intermediateIframeCloseCallback")},itp_support:i.itpSupport,login_uri:i.loginUri,native_callback:x=>{t("nativeCallback",x)},nonce:i.nonce,prompt_parent_id:i.promptParentId,state_cookie_domain:i.stateCookieDomain,ux_mode:i.uxMode}),(v=window.google)==null||v.accounts.id.renderButton(s.value,{type:i.type,theme:i.theme,size:i.size,text:i.text,shape:i.shape,logo_alignment:i.logoAlignment,width:(h=i.width)==null?void 0:h.toString(),locale:i.locale}),i.oneTap&&((y=window.google)==null||y.accounts.id.prompt(x=>{t("promptMomentNotification",x)})))}),pf(()=>{var f;i.oneTap&&((f=window.google)==null||f.accounts.id.cancel())});const c=Hr(()=>n[i.size||"large"]);return(f,h)=>(mf(),FD("div",{ref_key:"targetElement",ref:s,style:sf({display:"inline-flex",height:c.value})},null,4))}});function TM(r){const{disableAutomaticPrompt:e=!1,onSuccess:n,onError:i,onPromptMomentNotification:t,onNativeCallback:a,onIntermediateIframeCloseCallback:s,autoSelect:l,loginUri:c,cancelOnTapOutside:f,promptParentId:h,nonce:v,context:y,stateCookieDomain:x,allowedParentOrigin:C,itpSupport:k}=r||{},{scriptLoaded:P}=p2(),R=tn(Jm),F=zn(!1),B=()=>{var H;return F.value&&((H=window.google)==null?void 0:H.accounts.id.prompt(K=>t==null?void 0:t(K)))};return WT(H=>{var K,Y;if(F.value=!1,!P.value)return;const Q=!Er(e),U=Er(l),z=Er(c),Z=Er(h),se=Er(v),te=Er(y),ce=Er(x),Fe=Er(C),Ue=Er(k),ve=Er(f);(K=window.google)==null||K.accounts.id.initialize({client_id:R,callback:De=>{if(!De.clientId||!De.credential){i==null||i();return}n==null||n(De)},native_callback:De=>{a==null||a(De)},intermediate_iframe_close_callback:()=>{s==null||s()},auto_select:U,allowed_parent_origin:Fe,context:te,itp_support:Ue,login_uri:z,nonce:se,prompt_parent_id:Z,state_cookie_domain:ce,cancel_on_tap_outside:ve}),F.value=!0,Q&&((Y=window.google)==null||Y.accounts.id.prompt(De=>t==null?void 0:t(De))),H(()=>{var De;(De=window.google)==null||De.accounts.id.cancel()})}),{isReady:po(F),login:B}}const NO="GoogleSignInPlugin",Ny=r=>`[${NO}]: ${r}`,FO={install(r,e){if(!e)throw new Error(Ny("initialize plugin by passing an options object"));if(!e.clientId||e.clientId&&e.clientId.trim().length===0)throw new Error(Ny("clientId is required to initialize"));r.provide(Jm,e.clientId),r.component("GoogleSignInButton",RO)}};const MO=()=>{(function(r,e,n){let i;const t=r.getElementsByTagName(e)[0];r.getElementById(n)||(i=r.createElement(e),i.id=n,i.src="https://connect.facebook.net/zh_CN/sdk.js",t.parentNode.insertBefore(i,t))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"173769148980844",autoLogAppEvents:!0,xfbml:!0,version:"v16.0"})}};MO();var Uu;typeof window<"u"?Uu=window:typeof pl<"u"?Uu=pl:typeof self<"u"?Uu=self:Uu={};var V=Uu;const BO={},UO=Object.freeze(Object.defineProperty({__proto__:null,default:BO},Symbol.toStringTag,{value:"Module"})),jO=l2(UO);var Fy=typeof pl<"u"?pl:typeof window<"u"?window:{},HO=jO,ju;typeof document<"u"?ju=document:(ju=Fy["__GLOBAL_DOCUMENT_CACHE@4"],ju||(ju=Fy["__GLOBAL_DOCUMENT_CACHE@4"]=HO));var Te=ju;function On(){return On=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},On.apply(null,arguments)}const VO=Object.freeze(Object.defineProperty({__proto__:null,get default(){return On}},Symbol.toStringTag,{value:"Module"}));var Fg={exports:{}};(function(r,e){function n(c){if(c&&typeof c=="object"){var f=c.which||c.keyCode||c.charCode;f&&(c=f)}if(typeof c=="number")return s[c];var h=String(c),v=i[h.toLowerCase()];if(v)return v;var v=t[h.toLowerCase()];if(v)return v;if(h.length===1)return h.charCodeAt(0)}n.isEventKey=function(f,h){if(f&&typeof f=="object"){var v=f.which||f.keyCode||f.charCode;if(v==null)return!1;if(typeof h=="string"){var y=i[h.toLowerCase()];if(y)return y===v;var y=t[h.toLowerCase()];if(y)return y===v}else if(typeof h=="number")return h===v;return!1}},e=r.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var l in t)i[l]=t[l]})(Fg,Fg.exports);const tt=Fg.exports;function Ye(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bo(r,e){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bo(r,e)}function Ee(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,bo(r,e)}var qO=$O;function $O(r,e){var n,i=null;try{n=JSON.parse(r,e)}catch(t){i=t}return[i,n]}var Df={exports:{}};const WO=l2(VO);var GO=KO,zO=Object.prototype.toString;function KO(r){if(!r)return!1;var e=zO.call(r);return e==="[object Function]"||typeof r=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}var XO=V,JO=function(e,n){return n===void 0&&(n=!1),function(i,t,a){if(i){e(i);return}if(t.statusCode>=400&&t.statusCode<=599){var s=a;if(n)if(XO.TextDecoder){var l=YO(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(l).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function YO(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),t=i[0],a=i[1];return t.trim()==="charset"?a.trim():e},"utf-8")}var QO=JO,g2=V,ZO=WO,eL=GO;hi.httpHandler=QO;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var tL=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var t=i.indexOf(":"),a=i.slice(0,t).trim().toLowerCase(),s=i.slice(t+1).trim();typeof n[a]>"u"?n[a]=s:Array.isArray(n[a])?n[a].push(s):n[a]=[n[a],s]}),n};Df.exports=hi;Df.exports.default=hi;hi.XMLHttpRequest=g2.XMLHttpRequest||aL;hi.XDomainRequest="withCredentials"in new hi.XMLHttpRequest?hi.XMLHttpRequest:g2.XDomainRequest;rL(["get","put","post","patch","head","delete"],function(r){hi[r==="delete"?"del":r]=function(e,n,i){return n=m2(e,n,i),n.method=r.toUpperCase(),v2(n)}});function rL(r,e){for(var n=0;n<r.length;n++)e(r[n])}function nL(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0}function m2(r,e,n){var i=r;return eL(e)?(n=e,typeof r=="string"&&(i={uri:r})):i=ZO({},e,{uri:r}),i.callback=n,i}function hi(r,e,n){return e=m2(r,e,n),v2(e)}function v2(r){if(typeof r.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(B,H,K){e||(e=!0,r.callback(B,H,K))};function i(){l.readyState===4&&setTimeout(s,0)}function t(){var F=void 0;if(l.response?F=l.response:F=l.responseText||iL(l),k)try{F=JSON.parse(F)}catch{}return F}function a(F){return clearTimeout(P),F instanceof Error||(F=new Error(""+(F||"Unknown XMLHttpRequest Error"))),F.statusCode=0,n(F,R)}function s(){if(!f){var F;clearTimeout(P),r.useXDR&&l.status===void 0?F=200:F=l.status===1223?204:l.status;var B=R,H=null;return F!==0?(B={body:t(),statusCode:F,method:v,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&(B.headers=tL(l.getAllResponseHeaders()))):H=new Error("Internal XMLHttpRequest Error"),n(H,B,B.body)}}var l=r.xhr||null;l||(r.cors||r.useXDR?l=new hi.XDomainRequest:l=new hi.XMLHttpRequest);var c,f,h=l.url=r.uri||r.url,v=l.method=r.method||"GET",y=r.body||r.data,x=l.headers=r.headers||{},C=!!r.sync,k=!1,P,R={body:void 0,headers:{},statusCode:0,method:v,url:h,rawRequest:l};if("json"in r&&r.json!==!1&&(k=!0,x.accept||x.Accept||(x.Accept="application/json"),v!=="GET"&&v!=="HEAD"&&(x["content-type"]||x["Content-Type"]||(x["Content-Type"]="application/json"),y=JSON.stringify(r.json===!0?y:r.json))),l.onreadystatechange=i,l.onload=s,l.onerror=a,l.onprogress=function(){},l.onabort=function(){f=!0},l.ontimeout=a,l.open(v,h,!C,r.username,r.password),C||(l.withCredentials=!!r.withCredentials),!C&&r.timeout>0&&(P=setTimeout(function(){if(!f){f=!0,l.abort("timeout");var F=new Error("XMLHttpRequest timeout");F.code="ETIMEDOUT",a(F)}},r.timeout)),l.setRequestHeader)for(c in x)x.hasOwnProperty(c)&&l.setRequestHeader(c,x[c]);else if(r.headers&&!nL(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(l.responseType=r.responseType),"beforeSend"in r&&typeof r.beforeSend=="function"&&r.beforeSend(l),l.send(y||null),l}function iL(r){try{if(r.responseType==="document")return r.responseXML;var e=r.responseXML&&r.responseXML.documentElement.nodeName==="parsererror";if(r.responseType===""&&!e)return r.responseXML}catch{}return null}function aL(){}var Mg={exports:{}},My=Te,Qm=Object.create||function(){function r(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return r.prototype=e,new r}}();function pn(r,e){this.name="ParsingError",this.code=r.code,this.message=e||r.message}pn.prototype=Qm(Error.prototype);pn.prototype.constructor=pn;pn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Zm(r){function e(i,t,a,s){return(i|0)*3600+(t|0)*60+(a|0)+(s|0)/1e3}var n=r.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Zu(){this.values=Qm(null)}Zu.prototype={set:function(r,e){!this.get(r)&&e!==""&&(this.values[r]=e)},get:function(r,e,n){return n?this.has(r)?this.values[r]:e[n]:this.has(r)?this.values[r]:e},has:function(r){return r in this.values},alt:function(r,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(r,e);break}},integer:function(r,e){/^-?\d+$/.test(e)&&this.set(r,parseInt(e,10))},percent:function(r,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(r,e),!0):!1}};function Hu(r,e,n,i){var t=i?r.split(i):[r];for(var a in t)if(typeof t[a]=="string"){var s=t[a].split(n);if(s.length===2){var l=s[0].trim(),c=s[1].trim();e(l,c)}}}function sL(r,e,n){var i=r;function t(){var l=Zm(r);if(l===null)throw new pn(pn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),l}function a(l,c){var f=new Zu;Hu(l,function(h,v){switch(h){case"region":for(var y=n.length-1;y>=0;y--)if(n[y].id===v){f.set(h,n[y].region);break}break;case"vertical":f.alt(h,v,["rl","lr"]);break;case"line":var x=v.split(","),C=x[0];f.integer(h,C),f.percent(h,C)&&f.set("snapToLines",!1),f.alt(h,C,["auto"]),x.length===2&&f.alt("lineAlign",x[1],["start","center","end"]);break;case"position":x=v.split(","),f.percent(h,x[0]),x.length===2&&f.alt("positionAlign",x[1],["start","center","end"]);break;case"size":f.percent(h,v);break;case"align":f.alt(h,v,["start","center","end","left","right"]);break}},/:/,/\s/),c.region=f.get("region",null),c.vertical=f.get("vertical","");try{c.line=f.get("line","auto")}catch{}c.lineAlign=f.get("lineAlign","start"),c.snapToLines=f.get("snapToLines",!0),c.size=f.get("size",100);try{c.align=f.get("align","center")}catch{c.align=f.get("align","middle")}try{c.position=f.get("position","auto")}catch{c.position=f.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},c.align)}c.positionAlign=f.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},c.align)}function s(){r=r.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),r.substr(0,3)!=="-->")throw new pn(pn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);r=r.substr(3),s(),e.endTime=t(),s(),a(r,e)}var Up=My.createElement&&My.createElement("textarea"),oL={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},By={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},uL={v:"title",lang:"lang"},Uy={rt:"ruby"};function _2(r,e){function n(){if(!e)return null;function C(P){return e=e.substr(P.length),P}var k=e.match(/^([^<]*)(<[^>]*>?)?/);return C(k[1]?k[1]:k[2])}function i(C){return Up.innerHTML=C,C=Up.textContent,Up.textContent="",C}function t(C,k){return!Uy[k.localName]||Uy[k.localName]===C.localName}function a(C,k){var P=oL[C];if(!P)return null;var R=r.document.createElement(P),F=uL[C];return F&&k&&(R[F]=k.trim()),R}for(var s=r.document.createElement("div"),l=s,c,f=[];(c=n())!==null;){if(c[0]==="<"){if(c[1]==="/"){f.length&&f[f.length-1]===c.substr(2).replace(">","")&&(f.pop(),l=l.parentNode);continue}var h=Zm(c.substr(1,c.length-2)),v;if(h){v=r.document.createProcessingInstruction("timestamp",h),l.appendChild(v);continue}var y=c.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y||(v=a(y[1],y[3]),!v)||!t(l,v))continue;if(y[2]){var x=y[2].split(".");x.forEach(function(C){var k=/^bg_/.test(C),P=k?C.slice(3):C;if(By.hasOwnProperty(P)){var R=k?"background-color":"color",F=By[P];v.style[R]=F}}),v.className=x.join(" ")}f.push(y[1]),l.appendChild(v),l=v;continue}l.appendChild(r.document.createTextNode(i(c)))}return s}var jy=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function lL(r){for(var e=0;e<jy.length;e++){var n=jy[e];if(r>=n[0]&&r<=n[1])return!0}return!1}function cL(r){var e=[],n="",i;if(!r||!r.childNodes)return"ltr";function t(l,c){for(var f=c.childNodes.length-1;f>=0;f--)l.push(c.childNodes[f])}function a(l){if(!l||!l.length)return null;var c=l.pop(),f=c.textContent||c.innerText;if(f){var h=f.match(/^.*(\n|\r)/);return h?(l.length=0,h[0]):f}if(c.tagName==="ruby")return a(l);if(c.childNodes)return t(l,c),a(l)}for(t(e,r);n=a(e);)for(var s=0;s<n.length;s++)if(i=n.charCodeAt(s),lL(i))return"rtl";return"ltr"}function dL(r){if(typeof r.line=="number"&&(r.snapToLines||r.line>=0&&r.line<=100))return r.line;if(!r.track||!r.track.textTrackList||!r.track.textTrackList.mediaElement)return-1;for(var e=r.track,n=e.textTrackList,i=0,t=0;t<n.length&&n[t]!==e;t++)n[t].mode==="showing"&&i++;return++i*-1}function kf(){}kf.prototype.applyStyles=function(r,e){e=e||this.div;for(var n in r)r.hasOwnProperty(n)&&(e.style[n]=r[n])};kf.prototype.formatStyle=function(r,e){return r===0?0:r+e};function Od(r,e,n){kf.call(this),this.cue=e,this.cueDiv=_2(r,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=r.document.createElement("div"),i={direction:cL(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":case"line-left":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":case"line-right":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}Od.prototype=Qm(kf.prototype);Od.prototype.constructor=Od;function Vr(r){var e,n,i,t;if(r.div){n=r.div.offsetHeight,i=r.div.offsetWidth,t=r.div.offsetTop;var a=(a=r.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();r=r.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,r.height/a.length):0}this.left=r.left,this.right=r.right,this.top=r.top||t,this.height=r.height||n,this.bottom=r.bottom||t+(r.height||n),this.width=r.width||i,this.lineHeight=e!==void 0?e:r.lineHeight}Vr.prototype.move=function(r,e){switch(e=e!==void 0?e:this.lineHeight,r){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Vr.prototype.overlaps=function(r){return this.left<r.right&&this.right>r.left&&this.top<r.bottom&&this.bottom>r.top};Vr.prototype.overlapsAny=function(r){for(var e=0;e<r.length;e++)if(this.overlaps(r[e]))return!0;return!1};Vr.prototype.within=function(r){return this.top>=r.top&&this.bottom<=r.bottom&&this.left>=r.left&&this.right<=r.right};Vr.prototype.overlapsOppositeAxis=function(r,e){switch(e){case"+x":return this.left<r.left;case"-x":return this.right>r.right;case"+y":return this.top<r.top;case"-y":return this.bottom>r.bottom}};Vr.prototype.intersectPercentage=function(r){var e=Math.max(0,Math.min(this.right,r.right)-Math.max(this.left,r.left)),n=Math.max(0,Math.min(this.bottom,r.bottom)-Math.max(this.top,r.top)),i=e*n;return i/(this.height*this.width)};Vr.prototype.toCSSCompatValues=function(r){return{top:this.top-r.top,bottom:r.bottom-this.bottom,left:this.left-r.left,right:r.right-this.right,height:this.height,width:this.width}};Vr.getSimpleBoxPosition=function(r){var e=r.div?r.div.offsetHeight:r.tagName?r.offsetHeight:0,n=r.div?r.div.offsetWidth:r.tagName?r.offsetWidth:0,i=r.div?r.div.offsetTop:r.tagName?r.offsetTop:0;r=r.div?r.div.getBoundingClientRect():r.tagName?r.getBoundingClientRect():r;var t={left:r.left,right:r.right,top:r.top||i,height:r.height||e,bottom:r.bottom||i+(r.height||e),width:r.width||n};return t};function fL(r,e,n,i){function t(P,R){for(var F,B=new Vr(P),H=1,K=0;K<R.length;K++){for(;P.overlapsOppositeAxis(n,R[K])||P.within(n)&&P.overlapsAny(i);)P.move(R[K]);if(P.within(n))return P;var Y=P.intersectPercentage(n);H>Y&&(F=new Vr(P),H=Y),P=new Vr(B)}return F||B}var a=new Vr(e),s=e.cue,l=dL(s),c=[];if(s.snapToLines){var f;switch(s.vertical){case"":c=["+y","-y"],f="height";break;case"rl":c=["+x","-x"],f="width";break;case"lr":c=["-x","+x"],f="width";break}var h=a.lineHeight,v=h*Math.round(l),y=n[f]+h,x=c[0];Math.abs(v)>y&&(v=v<0?-1:1,v*=Math.ceil(y/h)*h),l<0&&(v+=s.vertical===""?n.height:n.width,c=c.reverse()),a.move(x,v)}else{var C=a.lineHeight/n.height*100;switch(s.lineAlign){case"center":l-=C/2;break;case"end":l-=C;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(l,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(l,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(l,"%")});break}c=["+y","-x","+x","-y"],a=new Vr(e)}var k=t(a,c);e.move(k.toCSSCompatValues(n))}function No(){}No.StringDecoder=function(){return{decode:function(r){if(!r)return"";if(typeof r!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}};No.convertCueToDOMTree=function(r,e){return!r||!e?null:_2(r,e)};var hL=.05,pL="sans-serif",gL="1.5%";No.processCues=function(r,e,n){if(!r||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=r.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=gL,n.appendChild(i);function t(h){for(var v=0;v<h.length;v++)if(h[v].hasBeenReset||!h[v].displayState)return!0;return!1}if(!t(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],l=Vr.getSimpleBoxPosition(i),c=Math.round(l.height*hL*100)/100,f={font:c+"px "+pL};(function(){for(var h,v,y=0;y<e.length;y++)v=e[y],h=new Od(r,v,f),i.appendChild(h.div),fL(r,h,l,s),v.displayState=h.div,s.push(Vr.getSimpleBoxPosition(h))})()};No.Parser=function(r,e,n){n||(n=e,e={}),e||(e={}),this.window=r,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};No.Parser.prototype={reportOrThrowError:function(r){if(r instanceof pn)this.onparsingerror&&this.onparsingerror(r);else throw r},parse:function(r){var e=this;r&&(e.buffer+=e.decoder.decode(r,{stream:!0}));function n(){for(var h=e.buffer,v=0;v<h.length&&h[v]!=="\r"&&h[v]!==`
`;)++v;var y=h.substr(0,v);return h[v]==="\r"&&++v,h[v]===`
`&&++v,e.buffer=h.substr(v),y}function i(h){var v=new Zu;if(Hu(h,function(x,C){switch(x){case"id":v.set(x,C);break;case"width":v.percent(x,C);break;case"lines":v.integer(x,C);break;case"regionanchor":case"viewportanchor":var k=C.split(",");if(k.length!==2)break;var P=new Zu;if(P.percent("x",k[0]),P.percent("y",k[1]),!P.has("x")||!P.has("y"))break;v.set(x+"X",P.get("x")),v.set(x+"Y",P.get("y"));break;case"scroll":v.alt(x,C,["up"]);break}},/=/,/\s/),v.has("id")){var y=new(e.vttjs.VTTRegion||e.window.VTTRegion);y.width=v.get("width",100),y.lines=v.get("lines",3),y.regionAnchorX=v.get("regionanchorX",0),y.regionAnchorY=v.get("regionanchorY",100),y.viewportAnchorX=v.get("viewportanchorX",0),y.viewportAnchorY=v.get("viewportanchorY",100),y.scroll=v.get("scroll",""),e.onregion&&e.onregion(y),e.regionList.push({id:v.get("id"),region:y})}}function t(h){var v=new Zu;Hu(h,function(y,x){switch(y){case"MPEGT":v.integer(y+"S",x);break;case"LOCA":v.set(y+"L",Zm(x));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:v.get("MPEGTS"),LOCAL:v.get("LOCAL")})}function a(h){h.match(/X-TIMESTAMP-MAP/)?Hu(h,function(v,y){switch(v){case"X-TIMESTAMP-MAP":t(y);break}},/=/):Hu(h,function(v,y){switch(v){case"Region":i(y);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=n();var l=s.match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new pn(pn.Errors.BadSignature);e.state="HEADER"}for(var c=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(c?c=!1:s=n(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{sL(s,e.cue,e.regionList)}catch(h){e.reportOrThrowError(h),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=s.indexOf("-->")!==-1;if(!s||f&&(c=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(h){e.reportOrThrowError(h),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var r=this;try{if(r.buffer+=r.decoder.decode(),(r.cue||r.state==="HEADER")&&(r.buffer+=`

`,r.parse()),r.state==="INITIAL")throw new pn(pn.Errors.BadSignature)}catch(e){r.reportOrThrowError(e)}return r.onflush&&r.onflush(),this}};var mL=No,vL="auto",_L={"":1,lr:1,rl:1},yL={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function bL(r){if(typeof r!="string")return!1;var e=_L[r.toLowerCase()];return e?r.toLowerCase():!1}function jp(r){if(typeof r!="string")return!1;var e=yL[r.toLowerCase()];return e?r.toLowerCase():!1}function y2(r,e,n){this.hasBeenReset=!1;var i="",t=!1,a=r,s=e,l=n,c=null,f="",h=!0,v="auto",y="start",x="auto",C="auto",k=100,P="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(R){i=""+R}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(R){t=!!R}},startTime:{enumerable:!0,get:function(){return a},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");a=R,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");s=R,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(R){l=""+R,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(R){c=R,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(R){var F=bL(R);if(F===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");f=F,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(R){h=!!R,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return v},set:function(R){if(typeof R!="number"&&R!==vL)throw new SyntaxError("Line: an invalid number or illegal string was specified.");v=R,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return y},set:function(R){var F=jp(R);F?(y=F,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return x},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");x=R,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return C},set:function(R){var F=jp(R);F?(C=F,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return k},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");k=R,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return P},set:function(R){var F=jp(R);if(!F)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");P=F,this.hasBeenReset=!0}}}),this.displayState=void 0}y2.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var TL=y2,SL={"":!0,up:!0};function xL(r){if(typeof r!="string")return!1;var e=SL[r.toLowerCase()];return e?r.toLowerCase():!1}function Pu(r){return typeof r=="number"&&r>=0&&r<=100}function EL(){var r=100,e=3,n=0,i=100,t=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return r},set:function(l){if(!Pu(l))throw new Error("Width must be between 0 and 100.");r=l}},lines:{enumerable:!0,get:function(){return e},set:function(l){if(typeof l!="number")throw new TypeError("Lines must be set to a number.");e=l}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(l){if(!Pu(l))throw new Error("RegionAnchorX must be between 0 and 100.");i=l}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(l){if(!Pu(l))throw new Error("RegionAnchorY must be between 0 and 100.");n=l}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(l){if(!Pu(l))throw new Error("ViewportAnchorY must be between 0 and 100.");a=l}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(l){if(!Pu(l))throw new Error("ViewportAnchorX must be between 0 and 100.");t=l}},scroll:{enumerable:!0,get:function(){return s},set:function(l){var c=xL(l);c===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=c}}})}var wL=EL,Hi=V,ys=Mg.exports={WebVTT:mL,VTTCue:TL,VTTRegion:wL};Hi.vttjs=ys;Hi.WebVTT=ys.WebVTT;var CL=ys.VTTCue,AL=ys.VTTRegion,DL=Hi.VTTCue,kL=Hi.VTTRegion;ys.shim=function(){Hi.VTTCue=CL,Hi.VTTRegion=AL};ys.restore=function(){Hi.VTTCue=DL,Hi.VTTRegion=kL};Hi.VTTCue||ys.shim();function b2(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!r})()}function T2(r,e,n){if(b2())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var t=new(r.bind.apply(r,i));return n&&bo(t,n.prototype),t}function PL(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&bo(r,e)}var S2={exports:{}};(function(r,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(c,f,h){if(h=h||{},c=c.trim(),f=f.trim(),!f){if(!h.alwaysNormalize)return c;var v=l.parseURL(c);if(!v)throw new Error("Error trying to parse base URL.");return v.path=l.normalizePath(v.path),l.buildURLFromParts(v)}var y=l.parseURL(f);if(!y)throw new Error("Error trying to parse relative URL.");if(y.scheme)return h.alwaysNormalize?(y.path=l.normalizePath(y.path),l.buildURLFromParts(y)):f;var x=l.parseURL(c);if(!x)throw new Error("Error trying to parse base URL.");if(!x.netLoc&&x.path&&x.path[0]!=="/"){var C=t.exec(x.path);x.netLoc=C[1],x.path=C[2]}x.netLoc&&!x.path&&(x.path="/");var k={scheme:x.scheme,netLoc:y.netLoc,path:null,params:y.params,query:y.query,fragment:y.fragment};if(!y.netLoc&&(k.netLoc=x.netLoc,y.path[0]!=="/"))if(!y.path)k.path=x.path,y.params||(k.params=x.params,y.query||(k.query=x.query));else{var P=x.path,R=P.substring(0,P.lastIndexOf("/")+1)+y.path;k.path=l.normalizePath(R)}return k.path===null&&(k.path=h.alwaysNormalize?l.normalizePath(y.path):y.path),l.buildURLFromParts(k)},parseURL:function(c){var f=i.exec(c);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(a,"");c.length!==(c=c.replace(s,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};r.exports=l})()})(S2);const Hy=S2.exports;var Vy="http://example.com",Pf=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=V.location&&V.location.href||"");var i=typeof V.URL=="function",t=/^\/\//.test(e),a=!V.location&&!/\/\//i.test(e);if(i?e=new V.URL(e,V.location||Vy):/\/\//i.test(e)||(e=Hy.buildAbsoluteURL(V.location&&V.location.href||"",e)),i){var s=new URL(n,e);return a?s.href.slice(Vy.length):t?s.href.slice(s.protocol.length):s.href}return Hy.buildAbsoluteURL(e,n)},ev=function(){function r(){this.listeners={}}var e=r.prototype;return e.on=function(i,t){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(t)},e.off=function(i,t){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(t);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var t=this.listeners[i];if(!!t)if(arguments.length===2)for(var a=t.length,s=0;s<a;++s)t[s].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),c=t.length,f=0;f<c;++f)t[f].apply(this,l)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(t){i.push(t)})},r}(),IL=function(e){return V.atob?V.atob(e):Buffer.from(e,"base64").toString("binary")};function x2(r){for(var e=IL(r),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var OL=function(r){Ee(e,r);function e(){var i;return i=r.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(t){var a;for(this.buffer+=t,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(ev),LL=String.fromCharCode(9),Hp=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},RL=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},Bn=function(e){for(var n=e.split(RL()),i={},t=n.length,a;t--;)n[t]!==""&&(a=/([^=]*)=(.*)/.exec(n[t]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},NL=function(r){Ee(e,r);function e(){var i;return i=r.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(t){var a=this,s,l;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var c=this.tagMappers.reduce(function(f,h){var v=h(t);return v===t?f:f.concat([v])},[t]);c.forEach(function(f){for(var h=0;h<a.customParsers.length;h++)if(a.customParsers[h].call(a,f))return;if(f.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:f.slice(1)});return}if(f=f.replace("\r",""),s=/^#EXTM3U/.exec(f),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(f),s){l={type:"tag",tagType:"inf"},s[1]&&(l.duration=parseFloat(s[1])),s[2]&&(l.title=s[2]),a.trigger("data",l);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"targetduration"},s[1]&&(l.duration=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"version"},s[1]&&(l.version=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"media-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(f),s){l={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(l.number=parseInt(s[1],10)),a.trigger("data",l);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"playlist-type"},s[1]&&(l.playlistType=s[1]),a.trigger("data",l);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(f),s){l=On(Hp(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",l);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(f),s){l={type:"tag",tagType:"allow-cache"},s[1]&&(l.allowed=!/NO/.test(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"map"},s[1]){var v=Bn(s[1]);v.URI&&(l.uri=v.URI),v.BYTERANGE&&(l.byterange=Hp(v.BYTERANGE))}a.trigger("data",l);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(f),s){if(l={type:"tag",tagType:"stream-inf"},s[1]){if(l.attributes=Bn(s[1]),l.attributes.RESOLUTION){var y=l.attributes.RESOLUTION.split("x"),x={};y[0]&&(x.width=parseInt(y[0],10)),y[1]&&(x.height=parseInt(y[1],10)),l.attributes.RESOLUTION=x}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["FRAME-RATE"]&&(l.attributes["FRAME-RATE"]=parseFloat(l.attributes["FRAME-RATE"])),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}a.trigger("data",l);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(f),s){l={type:"tag",tagType:"media"},s[1]&&(l.attributes=Bn(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-ENDLIST/.exec(f),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(f),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(f),s){l={type:"tag",tagType:"program-date-time"},s[1]&&(l.dateTimeString=s[1],l.dateTimeObject=new Date(s[1])),a.trigger("data",l);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(f),s){l={type:"tag",tagType:"key"},s[1]&&(l.attributes=Bn(s[1]),l.attributes.IV&&(l.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),a.trigger("data",l);return}if(s=/^#EXT-X-START:?(.*)$/.exec(f),s){l={type:"tag",tagType:"start"},s[1]&&(l.attributes=Bn(s[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out-cont"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-out"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(f),s){l={type:"tag",tagType:"cue-in"},s[1]?l.data=s[1]:l.data="",a.trigger("data",l);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"skip"},l.attributes=Bn(s[1]),l.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(l.attributes["SKIPPED-SEGMENTS"]=parseInt(l.attributes["SKIPPED-SEGMENTS"],10)),l.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(l.attributes["RECENTLY-REMOVED-DATERANGES"]=l.attributes["RECENTLY-REMOVED-DATERANGES"].split(LL)),a.trigger("data",l);return}if(s=/^#EXT-X-PART:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part"},l.attributes=Bn(s[1]),["DURATION"].forEach(function(C){l.attributes.hasOwnProperty(C)&&(l.attributes[C]=parseFloat(l.attributes[C]))}),["INDEPENDENT","GAP"].forEach(function(C){l.attributes.hasOwnProperty(C)&&(l.attributes[C]=/YES/.test(l.attributes[C]))}),l.attributes.hasOwnProperty("BYTERANGE")&&(l.attributes.byterange=Hp(l.attributes.BYTERANGE)),a.trigger("data",l);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"server-control"},l.attributes=Bn(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(C){l.attributes.hasOwnProperty(C)&&(l.attributes[C]=parseFloat(l.attributes[C]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(C){l.attributes.hasOwnProperty(C)&&(l.attributes[C]=/YES/.test(l.attributes[C]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"part-inf"},l.attributes=Bn(s[1]),["PART-TARGET"].forEach(function(C){l.attributes.hasOwnProperty(C)&&(l.attributes[C]=parseFloat(l.attributes[C]))}),a.trigger("data",l);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"preload-hint"},l.attributes=Bn(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(C){if(l.attributes.hasOwnProperty(C)){l.attributes[C]=parseInt(l.attributes[C],10);var k=C==="BYTERANGE-LENGTH"?"length":"offset";l.attributes.byterange=l.attributes.byterange||{},l.attributes.byterange[k]=l.attributes[C],delete l.attributes[C]}}),a.trigger("data",l);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(f),s&&s[1]){l={type:"tag",tagType:"rendition-report"},l.attributes=Bn(s[1]),["LAST-MSN","LAST-PART"].forEach(function(C){l.attributes.hasOwnProperty(C)&&(l.attributes[C]=parseInt(l.attributes[C],10))}),a.trigger("data",l);return}a.trigger("data",{type:"tag",data:f.slice(4)})})}},n.addParser=function(t){var a=this,s=t.expression,l=t.customType,c=t.dataParser,f=t.segment;typeof c!="function"&&(c=function(v){return v}),this.customParsers.push(function(h){var v=s.exec(h);if(v)return a.trigger("data",{type:"custom",data:c(h),customType:l,segment:f}),!0})},n.addTagMapper=function(t){var a=t.expression,s=t.map,l=function(f){return a.test(f)?s(f):f};this.tagMappers.push(l)},e}(ev),FL=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},Ws=function(e){var n={};return Object.keys(e).forEach(function(i){n[FL(i)]=e[i]}),n},Vp=function(e){var n=e.serverControl,i=e.targetDuration,t=e.partTargetDuration;if(!!n){var a="#EXT-X-SERVER-CONTROL",s="holdBack",l="partHoldBack",c=i&&i*3,f=t&&t*2;i&&!n.hasOwnProperty(s)&&(n[s]=c,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+c+")."})),c&&n[s]<c&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+n[s]+") to targetDuration * 3 ("+c+")"}),n[s]=c),t&&!n.hasOwnProperty(l)&&(n[l]=t*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[l]+")."})),t&&n[l]<f&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+n[l]+") to partTargetDuration * 2 ("+f+")."}),n[l]=f)}},ML=function(r){Ee(e,r);function e(){var i;i=r.call(this)||this,i.lineStream=new OL,i.parseStream=new NL,i.lineStream.pipe(i.parseStream);var t=Ye(i),a=[],s={},l,c,f=!1,h=function(){},v={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},y="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",x=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var C=0,k=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&l&&(s.map=l),!s.key&&c&&(s.key=c),!s.timeline&&typeof x=="number"&&(s.timeline=x),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(P){var R,F;({tag:function(){({version:function(){P.version&&(this.manifest.version=P.version)},"allow-cache":function(){this.manifest.allowCache=P.allowed,"allowed"in P||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var K={};"length"in P&&(s.byterange=K,K.length=P.length,"offset"in P||(P.offset=C)),"offset"in P&&(s.byterange=K,K.offset=P.offset),C=K.offset+K.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),P.duration>0&&(s.duration=P.duration),P.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!P.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(P.attributes.METHOD==="NONE"){c=null;return}if(!P.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(P.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:P.attributes};return}if(P.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:P.attributes.URI};return}if(P.attributes.KEYFORMAT===y){var K=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(K.indexOf(P.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(P.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),P.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(P.attributes.KEYID&&P.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:P.attributes.KEYFORMAT,keyId:P.attributes.KEYID.substring(2)},pssh:x2(P.attributes.URI.split(",")[1])};return}P.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),c={method:P.attributes.METHOD||"AES-128",uri:P.attributes.URI},typeof P.attributes.IV<"u"&&(c.iv=P.attributes.IV)},"media-sequence":function(){if(!isFinite(P.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+P.number});return}this.manifest.mediaSequence=P.number},"discontinuity-sequence":function(){if(!isFinite(P.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+P.number});return}this.manifest.discontinuitySequence=P.number,x=P.number},"playlist-type":function(){if(!/VOD|EVENT/.test(P.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+P.playlist});return}this.manifest.playlistType=P.playlistType},map:function(){l={},P.uri&&(l.uri=P.uri),P.byterange&&(l.byterange=P.byterange),c&&(l.key=c)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||v,!P.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),On(s.attributes,P.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||v,!(P.attributes&&P.attributes.TYPE&&P.attributes["GROUP-ID"]&&P.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var K=this.manifest.mediaGroups[P.attributes.TYPE];K[P.attributes["GROUP-ID"]]=K[P.attributes["GROUP-ID"]]||{},R=K[P.attributes["GROUP-ID"]],F={default:/yes/i.test(P.attributes.DEFAULT)},F.default?F.autoselect=!0:F.autoselect=/yes/i.test(P.attributes.AUTOSELECT),P.attributes.LANGUAGE&&(F.language=P.attributes.LANGUAGE),P.attributes.URI&&(F.uri=P.attributes.URI),P.attributes["INSTREAM-ID"]&&(F.instreamId=P.attributes["INSTREAM-ID"]),P.attributes.CHARACTERISTICS&&(F.characteristics=P.attributes.CHARACTERISTICS),P.attributes.FORCED&&(F.forced=/yes/i.test(P.attributes.FORCED)),R[P.attributes.NAME]=F},discontinuity:function(){x+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=P.dateTimeString,this.manifest.dateTimeObject=P.dateTimeObject),s.dateTimeString=P.dateTimeString,s.dateTimeObject=P.dateTimeObject},targetduration:function(){if(!isFinite(P.duration)||P.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+P.duration});return}this.manifest.targetDuration=P.duration,Vp.call(this,this.manifest)},start:function(){if(!P.attributes||isNaN(P.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:P.attributes["TIME-OFFSET"],precise:P.attributes.PRECISE}},"cue-out":function(){s.cueOut=P.data},"cue-out-cont":function(){s.cueOutCont=P.data},"cue-in":function(){s.cueIn=P.data},skip:function(){this.manifest.skip=Ws(P.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",P.attributes,["SKIPPED-SEGMENTS"])},part:function(){var K=this;f=!0;var Y=this.manifest.segments.length,Q=Ws(P.attributes);s.parts=s.parts||[],s.parts.push(Q),Q.byterange&&(Q.byterange.hasOwnProperty("offset")||(Q.byterange.offset=k),k=Q.byterange.offset+Q.byterange.length);var U=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+U+" for segment #"+Y,P.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(z,Z){z.hasOwnProperty("lastPart")||K.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+Z+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var K=this.manifest.serverControl=Ws(P.attributes);K.hasOwnProperty("canBlockReload")||(K.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Vp.call(this,this.manifest),K.canSkipDateranges&&!K.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var K=this.manifest.segments.length,Y=Ws(P.attributes),Q=Y.type&&Y.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(Y),Y.byterange&&(Y.byterange.hasOwnProperty("offset")||(Y.byterange.offset=Q?k:0,Q&&(k=Y.byterange.offset+Y.byterange.length)));var U=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+U+" for segment #"+K,P.attributes,["TYPE","URI"]),!!Y.type)for(var z=0;z<s.preloadHints.length-1;z++){var Z=s.preloadHints[z];!Z.type||Z.type===Y.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+U+" for segment #"+K+" has the same TYPE "+Y.type+" as preload hint #"+z})}},"rendition-report":function(){var K=Ws(P.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(K);var Y=this.manifest.renditionReports.length-1,Q=["LAST-MSN","URI"];f&&Q.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+Y,P.attributes,Q)},"part-inf":function(){this.manifest.partInf=Ws(P.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",P.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Vp.call(this,this.manifest)}}[P.tagType]||h).call(t)},uri:function(){s.uri=P.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),c&&(s.key=c),s.timeline=x,l&&(s.map=l),k=0,s={}},comment:function(){},custom:function(){P.segment?(s.custom=s.custom||{},s.custom[P.customType]=P.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[P.customType]=P.data)}})[P.type].call(t)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(t,a,s){var l=[];s.forEach(function(c){a.hasOwnProperty(c)||l.push(c)}),l.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+l.join(", ")})},n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(ev),fs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},BL=["video","audio","text"],qy=["Video","Audio","Text"],E2=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,t){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+a+"00"+s})},ai=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(t){t=t.trim();var a;BL.forEach(function(s){var l=fs[s].exec(t.toLowerCase());if(!(!l||l.length<=1)){a=s;var c=t.substring(0,l[1].length),f=t.replace(c,"");i.push({type:c,details:f,mediaType:s})}}),a||i.push({type:t,details:"",mediaType:"unknown"})}),i},UL=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var t in i){var a=i[t];if(a.default&&a.playlists)return ai(a.playlists[0].attributes.CODECS)}return null},w2=function(e){return e===void 0&&(e=""),fs.audio.test(e.trim().toLowerCase())},jL=function(e){return e===void 0&&(e=""),fs.text.test(e.trim().toLowerCase())},gl=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return E2(a.trim())}),i="video";n.length===1&&w2(n[0])?i="audio":n.length===1&&jL(n[0])&&(i="application");var t="mp4";return n.every(function(a){return fs.mp4.test(a)})?t="mp4":n.every(function(a){return fs.webm.test(a)})?t="webm":n.every(function(a){return fs.ogg.test(a)})&&(t="ogg"),i+"/"+t+';codecs="'+e+'"'}},md=function(e){return e===void 0&&(e=""),V.MediaSource&&V.MediaSource.isTypeSupported&&V.MediaSource.isTypeSupported(gl(e))||!1},qp=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<qy.length;i++){var t=qy[i];if(fs["muxer"+t].test(n))return!0}return!1})},$y="mp4a.40.2",HL="avc1.4d400d",VL=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,qL=/^application\/dash\+xml/i,C2=function(e){return VL.test(e)?"hls":qL.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},$L=function(e){return e.toString(2).length},WL=function(e){return Math.ceil($L(e)/8)},A2=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},GL=function(e){return A2(e)},qe=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!GL(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},wr=V.BigInt||Number,Bg=[wr("0x1"),wr("0x100"),wr("0x10000"),wr("0x1000000"),wr("0x100000000"),wr("0x10000000000"),wr("0x1000000000000"),wr("0x100000000000000"),wr("0x10000000000000000")];(function(){var r=new Uint16Array([65484]),e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var zL=function(e,n){var i=n===void 0?{}:n,t=i.signed,a=t===void 0?!1:t,s=i.le,l=s===void 0?!1:s;e=qe(e);var c=l?"reduce":"reduceRight",f=e[c]?e[c]:Array.prototype[c],h=f.call(e,function(y,x,C){var k=l?C:Math.abs(C+1-e.length);return y+wr(x)*Bg[k]},wr(0));if(a){var v=Bg[e.length]/wr(2)-wr(1);h=wr(h),h>v&&(h-=v,h-=v,h-=wr(2))}return Number(h)},KL=function(e,n){var i=n===void 0?{}:n,t=i.le,a=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=wr(e);for(var s=WL(e),l=new Uint8Array(new ArrayBuffer(s)),c=0;c<s;c++){var f=a?c:Math.abs(c+1-l.length);l[f]=Number(e/Bg[c]&wr(255)),e<0&&(l[f]=Math.abs(~l[f]),l[f]-=c===0?1:2)}return l},D2=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i},XL=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(l){return l&&(l.byteLength||l.length)&&typeof l!="string"}),n.length<=1)return qe(n[0]);var t=n.reduce(function(l,c,f){return l+(c.byteLength||c.length)},0),a=new Uint8Array(t),s=0;return n.forEach(function(l){l=qe(l),a.set(l,s),s+=l.byteLength}),a},Ut=function(e,n,i){var t=i===void 0?{}:i,a=t.offset,s=a===void 0?0:a,l=t.mask,c=l===void 0?[]:l;e=qe(e),n=qe(n);var f=n.every?n.every:Array.prototype.every;return n.length&&e.length-s>=n.length&&f.call(n,function(h,v){var y=c[v]?c[v]&e[s+v]:e[s+v];return h===y})},JL=function(e,n,i){n.forEach(function(t){for(var a in e.mediaGroups[t])for(var s in e.mediaGroups[t][a]){var l=e.mediaGroups[t][a][s];i(l,t,a,s)}})},Ra={},zi={};function YL(r,e,n){if(n===void 0&&(n=Array.prototype),r&&typeof n.find=="function")return n.find.call(r,e);for(var i=0;i<r.length;i++)if(Object.prototype.hasOwnProperty.call(r,i)){var t=r[i];if(e.call(void 0,t,i,r))return t}}function tv(r,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(r):r}function QL(r,e){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var k2=tv({HTML:"text/html",isHTML:function(r){return r===k2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),P2=tv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===P2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});zi.assign=QL;zi.find=YL;zi.freeze=tv;zi.MIME_TYPE=k2;zi.NAMESPACE=P2;var I2=zi,pi=I2.find,ml=I2.NAMESPACE;function ZL(r){return r!==""}function e5(r){return r?r.split(/[\t\n\f\r ]+/).filter(ZL):[]}function t5(r,e){return r.hasOwnProperty(e)||(r[e]=!0),r}function Wy(r){if(!r)return[];var e=e5(r);return Object.keys(e.reduce(t5,{}))}function r5(r){return function(e){return r&&r.indexOf(e)!==-1}}function Ol(r,e){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}function nn(r,e){var n=r.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Ol(n,i),r.prototype=n=i}n.constructor!=r&&(typeof r!="function"&&console.error("unknown Class:"+r),n.constructor=r)}var an={},qn=an.ELEMENT_NODE=1,To=an.ATTRIBUTE_NODE=2,Ld=an.TEXT_NODE=3,O2=an.CDATA_SECTION_NODE=4,L2=an.ENTITY_REFERENCE_NODE=5,n5=an.ENTITY_NODE=6,R2=an.PROCESSING_INSTRUCTION_NODE=7,N2=an.COMMENT_NODE=8,F2=an.DOCUMENT_NODE=9,M2=an.DOCUMENT_TYPE_NODE=10,Vi=an.DOCUMENT_FRAGMENT_NODE=11,i5=an.NOTATION_NODE=12,Mr={},vr={};Mr.INDEX_SIZE_ERR=(vr[1]="Index size error",1);Mr.DOMSTRING_SIZE_ERR=(vr[2]="DOMString size error",2);var Zr=Mr.HIERARCHY_REQUEST_ERR=(vr[3]="Hierarchy request error",3);Mr.WRONG_DOCUMENT_ERR=(vr[4]="Wrong document",4);Mr.INVALID_CHARACTER_ERR=(vr[5]="Invalid character",5);Mr.NO_DATA_ALLOWED_ERR=(vr[6]="No data allowed",6);Mr.NO_MODIFICATION_ALLOWED_ERR=(vr[7]="No modification allowed",7);var B2=Mr.NOT_FOUND_ERR=(vr[8]="Not found",8);Mr.NOT_SUPPORTED_ERR=(vr[9]="Not supported",9);var Gy=Mr.INUSE_ATTRIBUTE_ERR=(vr[10]="Attribute in use",10);Mr.INVALID_STATE_ERR=(vr[11]="Invalid state",11);Mr.SYNTAX_ERR=(vr[12]="Syntax error",12);Mr.INVALID_MODIFICATION_ERR=(vr[13]="Invalid modification",13);Mr.NAMESPACE_ERR=(vr[14]="Invalid namespace",14);Mr.INVALID_ACCESS_ERR=(vr[15]="Invalid access",15);function Jt(r,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,vr[r]),this.message=vr[r],Error.captureStackTrace&&Error.captureStackTrace(this,Jt);return n.code=r,e&&(this.message=this.message+": "+e),n}Jt.prototype=Error.prototype;Ol(Mr,Jt);function Mi(){}Mi.prototype={length:0,item:function(r){return r>=0&&r<this.length?this[r]:null},toString:function(r,e){for(var n=[],i=0;i<this.length;i++)eo(this[i],n,r,e);return n.join("")},filter:function(r){return Array.prototype.filter.call(this,r)},indexOf:function(r){return Array.prototype.indexOf.call(this,r)}};function So(r,e){this._node=r,this._refresh=e,rv(this)}function rv(r){var e=r._node._inc||r._node.ownerDocument._inc;if(r._inc!==e){var n=r._refresh(r._node);if(J2(r,"length",n.length),!r.$$length||n.length<r.$$length)for(var i=n.length;i in r;i++)Object.prototype.hasOwnProperty.call(r,i)&&delete r[i];Ol(n,r),r._inc=e}}So.prototype.item=function(r){return rv(this),this[r]||null};nn(So,Mi);function Rd(){}function U2(r,e){for(var n=r.length;n--;)if(r[n]===e)return n}function zy(r,e,n,i){if(i?e[U2(e,i)]=n:e[e.length++]=n,r){n.ownerElement=r;var t=r.ownerDocument;t&&(i&&V2(t,r,i),a5(t,r,n))}}function Ky(r,e,n){var i=U2(e,n);if(i>=0){for(var t=e.length-1;i<t;)e[i]=e[++i];if(e.length=t,r){var a=r.ownerDocument;a&&(V2(a,r,n),n.ownerElement=null)}}else throw new Jt(B2,new Error(r.tagName+"@"+n))}Rd.prototype={length:0,item:Mi.prototype.item,getNamedItem:function(r){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==r)return n}},setNamedItem:function(r){var e=r.ownerElement;if(e&&e!=this._ownerElement)throw new Jt(Gy);var n=this.getNamedItem(r.nodeName);return zy(this._ownerElement,this,r,n),n},setNamedItemNS:function(r){var e=r.ownerElement,n;if(e&&e!=this._ownerElement)throw new Jt(Gy);return n=this.getNamedItemNS(r.namespaceURI,r.localName),zy(this._ownerElement,this,r,n),n},removeNamedItem:function(r){var e=this.getNamedItem(r);return Ky(this._ownerElement,this,e),e},removeNamedItemNS:function(r,e){var n=this.getNamedItemNS(r,e);return Ky(this._ownerElement,this,n),n},getNamedItemNS:function(r,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==r)return i}return null}};function j2(){}j2.prototype={hasFeature:function(r,e){return!0},createDocument:function(r,e,n){var i=new Ll;if(i.implementation=this,i.childNodes=new Mi,i.doctype=n||null,n&&i.appendChild(n),e){var t=i.createElementNS(r,e);i.appendChild(t)}return i},createDocumentType:function(r,e,n){var i=new If;return i.name=r,i.nodeName=r,i.publicId=e||"",i.systemId=n||"",i}};function Et(){}Et.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,e){return Nd(this,r,e)},replaceChild:function(r,e){Nd(this,r,e,$2),e&&this.removeChild(e)},removeChild:function(r){return q2(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return Ug(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var e=r.nextSibling;e&&e.nodeType==Ld&&r.nodeType==Ld?(this.removeChild(e),r.appendData(e.data)):(r.normalize(),r=e)}},isSupported:function(r,e){return this.ownerDocument.implementation.hasFeature(r,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===r)return i}e=e.nodeType==To?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(r){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r];e=e.nodeType==To?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(r){var e=this.lookupPrefix(r);return e==null}};function H2(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}Ol(an,Et);Ol(an,Et.prototype);function vl(r,e){if(e(r))return!0;if(r=r.firstChild)do if(vl(r,e))return!0;while(r=r.nextSibling)}function Ll(){this.ownerDocument=this}function a5(r,e,n){r&&r._inc++;var i=n.namespaceURI;i===ml.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function V2(r,e,n,i){r&&r._inc++;var t=n.namespaceURI;t===ml.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function nv(r,e,n){if(r&&r._inc){r._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var t=e.firstChild,a=0;t;)i[a++]=t,t=t.nextSibling;i.length=a,delete i[i.length]}}}function q2(r,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:r.firstChild=i,i?i.previousSibling=n:r.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,nv(r.ownerDocument,r),e}function s5(r){return r&&(r.nodeType===Et.DOCUMENT_NODE||r.nodeType===Et.DOCUMENT_FRAGMENT_NODE||r.nodeType===Et.ELEMENT_NODE)}function o5(r){return r&&(gi(r)||iv(r)||qi(r)||r.nodeType===Et.DOCUMENT_FRAGMENT_NODE||r.nodeType===Et.COMMENT_NODE||r.nodeType===Et.PROCESSING_INSTRUCTION_NODE)}function qi(r){return r&&r.nodeType===Et.DOCUMENT_TYPE_NODE}function gi(r){return r&&r.nodeType===Et.ELEMENT_NODE}function iv(r){return r&&r.nodeType===Et.TEXT_NODE}function Xy(r,e){var n=r.childNodes||[];if(pi(n,gi)||qi(e))return!1;var i=pi(n,qi);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function Jy(r,e){var n=r.childNodes||[];function i(a){return gi(a)&&a!==e}if(pi(n,i))return!1;var t=pi(n,qi);return!(e&&t&&n.indexOf(t)>n.indexOf(e))}function u5(r,e,n){if(!s5(r))throw new Jt(Zr,"Unexpected parent node type "+r.nodeType);if(n&&n.parentNode!==r)throw new Jt(B2,"child not in parent");if(!o5(e)||qi(e)&&r.nodeType!==Et.DOCUMENT_NODE)throw new Jt(Zr,"Unexpected node type "+e.nodeType+" for parent node type "+r.nodeType)}function l5(r,e,n){var i=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===Et.DOCUMENT_FRAGMENT_NODE){var a=t.filter(gi);if(a.length>1||pi(t,iv))throw new Jt(Zr,"More than one element or text in fragment");if(a.length===1&&!Xy(r,n))throw new Jt(Zr,"Element in fragment can not be inserted before doctype")}if(gi(e)&&!Xy(r,n))throw new Jt(Zr,"Only one element can be added and only after doctype");if(qi(e)){if(pi(i,qi))throw new Jt(Zr,"Only one doctype is allowed");var s=pi(i,gi);if(n&&i.indexOf(s)<i.indexOf(n))throw new Jt(Zr,"Doctype can only be inserted before an element");if(!n&&s)throw new Jt(Zr,"Doctype can not be appended since element is present")}}function $2(r,e,n){var i=r.childNodes||[],t=e.childNodes||[];if(e.nodeType===Et.DOCUMENT_FRAGMENT_NODE){var a=t.filter(gi);if(a.length>1||pi(t,iv))throw new Jt(Zr,"More than one element or text in fragment");if(a.length===1&&!Jy(r,n))throw new Jt(Zr,"Element in fragment can not be inserted before doctype")}if(gi(e)&&!Jy(r,n))throw new Jt(Zr,"Only one element can be added and only after doctype");if(qi(e)){if(pi(i,function(c){return qi(c)&&c!==n}))throw new Jt(Zr,"Only one doctype is allowed");var s=pi(i,gi);if(n&&i.indexOf(s)<i.indexOf(n))throw new Jt(Zr,"Doctype can only be inserted before an element")}}function Nd(r,e,n,i){u5(r,e,n),r.nodeType===Et.DOCUMENT_NODE&&(i||l5)(r,e,n);var t=e.parentNode;if(t&&t.removeChild(e),e.nodeType===Vi){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var l=n?n.previousSibling:r.lastChild;a.previousSibling=l,s.nextSibling=n,l?l.nextSibling=a:r.firstChild=a,n==null?r.lastChild=s:n.previousSibling=s;do a.parentNode=r;while(a!==s&&(a=a.nextSibling));return nv(r.ownerDocument||r,r),e.nodeType==Vi&&(e.firstChild=e.lastChild=null),e}function c5(r,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=r,e.previousSibling=r.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:r.firstChild=e,r.lastChild=e,nv(r.ownerDocument,r,e),e}Ll.prototype={nodeName:"#document",nodeType:F2,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,e){if(r.nodeType==Vi){for(var n=r.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return r}return Nd(this,r,e),r.ownerDocument=this,this.documentElement===null&&r.nodeType===qn&&(this.documentElement=r),r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),q2(this,r)},replaceChild:function(r,e){Nd(this,r,e,$2),r.ownerDocument=this,e&&this.removeChild(e),gi(r)&&(this.documentElement=r)},importNode:function(r,e){return X2(this,r,e)},getElementById:function(r){var e=null;return vl(this.documentElement,function(n){if(n.nodeType==qn&&n.getAttribute("id")==r)return e=n,!0}),e},getElementsByClassName:function(r){var e=Wy(r);return new So(this,function(n){var i=[];return e.length>0&&vl(n.documentElement,function(t){if(t!==n&&t.nodeType===qn){var a=t.getAttribute("class");if(a){var s=r===a;if(!s){var l=Wy(a);s=e.every(r5(l))}s&&i.push(t)}}}),i})},createElement:function(r){var e=new vs;e.ownerDocument=this,e.nodeName=r,e.tagName=r,e.localName=r,e.childNodes=new Mi;var n=e.attributes=new Rd;return n._ownerElement=e,e},createDocumentFragment:function(){var r=new Of;return r.ownerDocument=this,r.childNodes=new Mi,r},createTextNode:function(r){var e=new av;return e.ownerDocument=this,e.appendData(r),e},createComment:function(r){var e=new sv;return e.ownerDocument=this,e.appendData(r),e},createCDATASection:function(r){var e=new ov;return e.ownerDocument=this,e.appendData(r),e},createProcessingInstruction:function(r,e){var n=new lv;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=r,n.nodeValue=n.data=e,n},createAttribute:function(r){var e=new Fd;return e.ownerDocument=this,e.name=r,e.nodeName=r,e.localName=r,e.specified=!0,e},createEntityReference:function(r){var e=new uv;return e.ownerDocument=this,e.nodeName=r,e},createElementNS:function(r,e){var n=new vs,i=e.split(":"),t=n.attributes=new Rd;return n.childNodes=new Mi,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=r,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,t._ownerElement=n,n},createAttributeNS:function(r,e){var n=new Fd,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=r,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};nn(Ll,Et);function vs(){this._nsMap={}}vs.prototype={nodeType:qn,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var e=this.getAttributeNode(r);return e&&e.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,e){var n=this.ownerDocument.createAttribute(r);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(r){var e=this.getAttributeNode(r);e&&this.removeAttributeNode(e)},appendChild:function(r){return r.nodeType===Vi?this.insertBefore(r,null):c5(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,e){var n=this.getAttributeNodeNS(r,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(r,e){return this.getAttributeNodeNS(r,e)!=null},getAttributeNS:function(r,e){var n=this.getAttributeNodeNS(r,e);return n&&n.value||""},setAttributeNS:function(r,e,n){var i=this.ownerDocument.createAttributeNS(r,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(r,e){return this.attributes.getNamedItemNS(r,e)},getElementsByTagName:function(r){return new So(this,function(e){var n=[];return vl(e,function(i){i!==e&&i.nodeType==qn&&(r==="*"||i.tagName==r)&&n.push(i)}),n})},getElementsByTagNameNS:function(r,e){return new So(this,function(n){var i=[];return vl(n,function(t){t!==n&&t.nodeType===qn&&(r==="*"||t.namespaceURI===r)&&(e==="*"||t.localName==e)&&i.push(t)}),i})}};Ll.prototype.getElementsByTagName=vs.prototype.getElementsByTagName;Ll.prototype.getElementsByTagNameNS=vs.prototype.getElementsByTagNameNS;nn(vs,Et);function Fd(){}Fd.prototype.nodeType=To;nn(Fd,Et);function Rl(){}Rl.prototype={data:"",substringData:function(r,e){return this.data.substring(r,r+e)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,e){this.replaceData(r,0,e)},appendChild:function(r){throw new Error(vr[Zr])},deleteData:function(r,e){this.replaceData(r,e,"")},replaceData:function(r,e,n){var i=this.data.substring(0,r),t=this.data.substring(r+e);n=i+n+t,this.nodeValue=this.data=n,this.length=n.length}};nn(Rl,Et);function av(){}av.prototype={nodeName:"#text",nodeType:Ld,splitText:function(r){var e=this.data,n=e.substring(r);e=e.substring(0,r),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};nn(av,Rl);function sv(){}sv.prototype={nodeName:"#comment",nodeType:N2};nn(sv,Rl);function ov(){}ov.prototype={nodeName:"#cdata-section",nodeType:O2};nn(ov,Rl);function If(){}If.prototype.nodeType=M2;nn(If,Et);function W2(){}W2.prototype.nodeType=i5;nn(W2,Et);function G2(){}G2.prototype.nodeType=n5;nn(G2,Et);function uv(){}uv.prototype.nodeType=L2;nn(uv,Et);function Of(){}Of.prototype.nodeName="#document-fragment";Of.prototype.nodeType=Vi;nn(Of,Et);function lv(){}lv.prototype.nodeType=R2;nn(lv,Et);function z2(){}z2.prototype.serializeToString=function(r,e,n){return K2.call(r,e,n)};Et.prototype.toString=K2;function K2(r,e){var n=[],i=this.nodeType==9&&this.documentElement||this,t=i.prefix,a=i.namespaceURI;if(a&&t==null){var t=i.lookupPrefix(a);if(t==null)var s=[{namespace:a,prefix:null}]}return eo(this,n,r,e,s),n.join("")}function Yy(r,e,n){var i=r.prefix||"",t=r.namespaceURI;if(!t||i==="xml"&&t===ml.XML||t===ml.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==t}return!0}function $p(r,e,n){r.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,H2),'"')}function eo(r,e,n,i,t){if(t||(t=[]),i)if(r=i(r),r){if(typeof r=="string"){e.push(r);return}}else return;switch(r.nodeType){case qn:var a=r.attributes,s=a.length,R=r.firstChild,l=r.tagName;n=ml.isHTML(r.namespaceURI)||n;var c=l;if(!n&&!r.prefix&&r.namespaceURI){for(var f,h=0;h<a.length;h++)if(a.item(h).name==="xmlns"){f=a.item(h).value;break}if(!f)for(var v=t.length-1;v>=0;v--){var y=t[v];if(y.prefix===""&&y.namespace===r.namespaceURI){f=y.namespace;break}}if(f!==r.namespaceURI)for(var v=t.length-1;v>=0;v--){var y=t[v];if(y.namespace===r.namespaceURI){y.prefix&&(c=y.prefix+":"+l);break}}}e.push("<",c);for(var x=0;x<s;x++){var C=a.item(x);C.prefix=="xmlns"?t.push({prefix:C.localName,namespace:C.value}):C.nodeName=="xmlns"&&t.push({prefix:"",namespace:C.value})}for(var x=0;x<s;x++){var C=a.item(x);if(Yy(C,n,t)){var k=C.prefix||"",P=C.namespaceURI;$p(e,k?"xmlns:"+k:"xmlns",P),t.push({prefix:k,namespace:P})}eo(C,e,n,i,t)}if(l===c&&Yy(r,n,t)){var k=r.prefix||"",P=r.namespaceURI;$p(e,k?"xmlns:"+k:"xmlns",P),t.push({prefix:k,namespace:P})}if(R||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;R;)R.data?e.push(R.data):eo(R,e,n,i,t.slice()),R=R.nextSibling;else for(;R;)eo(R,e,n,i,t.slice()),R=R.nextSibling;e.push("</",c,">")}else e.push("/>");return;case F2:case Vi:for(var R=r.firstChild;R;)eo(R,e,n,i,t.slice()),R=R.nextSibling;return;case To:return $p(e,r.name,r.value);case Ld:return e.push(r.data.replace(/[<&>]/g,H2));case O2:return e.push("<![CDATA[",r.data,"]]>");case N2:return e.push("<!--",r.data,"-->");case M2:var F=r.publicId,B=r.systemId;if(e.push("<!DOCTYPE ",r.name),F)e.push(" PUBLIC ",F),B&&B!="."&&e.push(" ",B),e.push(">");else if(B&&B!=".")e.push(" SYSTEM ",B,">");else{var H=r.internalSubset;H&&e.push(" [",H,"]"),e.push(">")}return;case R2:return e.push("<?",r.target," ",r.data,"?>");case L2:return e.push("&",r.nodeName,";");default:e.push("??",r.nodeName)}}function X2(r,e,n){var i;switch(e.nodeType){case qn:i=e.cloneNode(!1),i.ownerDocument=r;case Vi:break;case To:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=r,i.parentNode=null,n)for(var t=e.firstChild;t;)i.appendChild(X2(r,t,n)),t=t.nextSibling;return i}function Ug(r,e,n){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];typeof a!="object"&&a!=i[t]&&(i[t]=a)}switch(e.childNodes&&(i.childNodes=new Mi),i.ownerDocument=r,i.nodeType){case qn:var s=e.attributes,l=i.attributes=new Rd,c=s.length;l._ownerElement=i;for(var f=0;f<c;f++)i.setAttributeNode(Ug(r,s.item(f),!0));break;case To:n=!0}if(n)for(var h=e.firstChild;h;)i.appendChild(Ug(r,h,n)),h=h.nextSibling;return i}function J2(r,e,n){r[e]=n}try{if(Object.defineProperty){let r=function(e){switch(e.nodeType){case qn:case Vi:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(r(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(So.prototype,"length",{get:function(){return rv(this),this.$$length}}),Object.defineProperty(Et.prototype,"textContent",{get:function(){return r(this)},set:function(e){switch(this.nodeType){case qn:case Vi:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),J2=function(e,n,i){e["$$"+n]=i}}}catch{}Ra.DocumentType=If;Ra.DOMException=Jt;Ra.DOMImplementation=j2;Ra.Element=vs;Ra.Node=Et;Ra.NodeList=Mi;Ra.XMLSerializer=z2;var Lf={},Y2={};(function(r){var e=zi.freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}),r.entityMap=r.HTML_ENTITIES})(Y2);var cv={},_l=zi.NAMESPACE,jg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Qy=new RegExp("[\\-\\.0-9"+jg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Zy=new RegExp("^"+jg.source+Qy.source+"*(?::"+jg.source+Qy.source+"*)?$"),Iu=0,va=1,Gs=2,Ou=3,zs=4,Ks=5,Lu=6,Xc=7;function xo(r,e){this.message=r,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,xo)}xo.prototype=new Error;xo.prototype.name=xo.name;function Q2(){}Q2.prototype={parse:function(r,e,n){var i=this.domBuilder;i.startDocument(),Z2(e,e={}),d5(r,e,n,i,this.errorHandler),i.endDocument()}};function d5(r,e,n,i,t){function a(ve){if(ve>65535){ve-=65536;var De=55296+(ve>>10),Me=56320+(ve&1023);return String.fromCharCode(De,Me)}else return String.fromCharCode(ve)}function s(ve){var De=ve.slice(1,-1);return Object.hasOwnProperty.call(n,De)?n[De]:De.charAt(0)==="#"?a(parseInt(De.substr(1).replace("x","0x"))):(t.error("entity not found:"+ve),ve)}function l(ve){if(ve>k){var De=r.substring(k,ve).replace(/&#?\w+;/g,s);y&&c(k),i.characters(De,0,ve-k),k=ve}}function c(ve,De){for(;ve>=h&&(De=v.exec(r));)f=De.index,h=f+De[0].length,y.lineNumber++;y.columnNumber=ve-f+1}for(var f=0,h=0,v=/.*(?:\r\n?|\n)|.*$/g,y=i.locator,x=[{currentNSMap:e}],C={},k=0;;){try{var P=r.indexOf("<",k);if(P<0){if(!r.substr(k).match(/^\s*$/)){var R=i.doc,F=R.createTextNode(r.substr(k));R.appendChild(F),i.currentElement=F}return}switch(P>k&&l(P),r.charAt(P+1)){case"/":var se=r.indexOf(">",P+3),B=r.substring(P+2,se).replace(/[ \t\n\r]+$/g,""),H=x.pop();se<0?(B=r.substring(P+2).replace(/[\s<].*/,""),t.error("end tag name: "+B+" is not complete:"+H.tagName),se=P+1+B.length):B.match(/\s</)&&(B=B.replace(/[\s<].*/,""),t.error("end tag name: "+B+" maybe not complete"),se=P+1+B.length);var K=H.localNSMap,Y=H.tagName==B,Q=Y||H.tagName&&H.tagName.toLowerCase()==B.toLowerCase();if(Q){if(i.endElement(H.uri,H.localName,B),K)for(var U in K)Object.prototype.hasOwnProperty.call(K,U)&&i.endPrefixMapping(U);Y||t.fatalError("end tag name: "+B+" is not match the current start tagName:"+H.tagName)}else x.push(H);se++;break;case"?":y&&c(P),se=m5(r,P,i);break;case"!":y&&c(P),se=g5(r,P,i,t);break;default:y&&c(P);var z=new ex,Z=x[x.length-1].currentNSMap,se=f5(r,P,z,Z,s,t),te=z.length;if(!z.closed&&p5(r,se,z.tagName,C)&&(z.closed=!0,n.nbsp||t.warning("unclosed xml attribute")),y&&te){for(var ce=eb(y,{}),Fe=0;Fe<te;Fe++){var Ue=z[Fe];c(Ue.offset),Ue.locator=eb(y,{})}i.locator=ce,tb(z,i,Z)&&x.push(z),i.locator=y}else tb(z,i,Z)&&x.push(z);_l.isHTML(z.uri)&&!z.closed?se=h5(r,se,z.tagName,s,i):se++}}catch(ve){if(ve instanceof xo)throw ve;t.error("element parse error: "+ve),se=-1}se>k?k=se:l(Math.max(P,k)+1)}}function eb(r,e){return e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber,e}function f5(r,e,n,i,t,a){function s(y,x,C){n.attributeNames.hasOwnProperty(y)&&a.fatalError("Attribute "+y+" redefined"),n.addValue(y,x.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,t),C)}for(var l,c,f=++e,h=Iu;;){var v=r.charAt(f);switch(v){case"=":if(h===va)l=r.slice(e,f),h=Ou;else if(h===Gs)h=Ou;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===Ou||h===va)if(h===va&&(a.warning('attribute value must after "="'),l=r.slice(e,f)),e=f+1,f=r.indexOf(v,e),f>0)c=r.slice(e,f),s(l,c,e-1),h=Ks;else throw new Error("attribute value no end '"+v+"' match");else if(h==zs)c=r.slice(e,f),s(l,c,e),a.warning('attribute "'+l+'" missed start quot('+v+")!!"),e=f+1,h=Ks;else throw new Error('attribute value must after "="');break;case"/":switch(h){case Iu:n.setTagName(r.slice(e,f));case Ks:case Lu:case Xc:h=Xc,n.closed=!0;case zs:case va:break;case Gs:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),h==Iu&&n.setTagName(r.slice(e,f)),f;case">":switch(h){case Iu:n.setTagName(r.slice(e,f));case Ks:case Lu:case Xc:break;case zs:case va:c=r.slice(e,f),c.slice(-1)==="/"&&(n.closed=!0,c=c.slice(0,-1));case Gs:h===Gs&&(c=l),h==zs?(a.warning('attribute "'+c+'" missed quot(")!'),s(l,c,e)):((!_l.isHTML(i[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),s(c,c,e));break;case Ou:throw new Error("attribute value missed!!")}return f;case"\x80":v=" ";default:if(v<=" ")switch(h){case Iu:n.setTagName(r.slice(e,f)),h=Lu;break;case va:l=r.slice(e,f),h=Gs;break;case zs:var c=r.slice(e,f);a.warning('attribute "'+c+'" missed quot(")!!'),s(l,c,e);case Ks:h=Lu;break}else switch(h){case Gs:n.tagName,(!_l.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,e),e=f,h=va;break;case Ks:a.warning('attribute space is required"'+l+'"!!');case Lu:h=va,e=f;break;case Ou:h=zs,e=f;break;case Xc:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function tb(r,e,n){for(var i=r.tagName,t=null,v=r.length;v--;){var a=r[v],s=a.qName,l=a.value,y=s.indexOf(":");if(y>0)var c=a.prefix=s.slice(0,y),f=s.slice(y+1),h=c==="xmlns"&&f;else f=s,c=null,h=s==="xmlns"&&"";a.localName=f,h!==!1&&(t==null&&(t={},Z2(n,n={})),n[h]=t[h]=l,a.uri=_l.XMLNS,e.startPrefixMapping(h,l))}for(var v=r.length;v--;){a=r[v];var c=a.prefix;c&&(c==="xml"&&(a.uri=_l.XML),c!=="xmlns"&&(a.uri=n[c||""]))}var y=i.indexOf(":");y>0?(c=r.prefix=i.slice(0,y),f=r.localName=i.slice(y+1)):(c=null,f=r.localName=i);var x=r.uri=n[c||""];if(e.startElement(x,f,i,r),r.closed){if(e.endElement(x,f,i),t)for(c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.endPrefixMapping(c)}else return r.currentNSMap=n,r.localNSMap=t,!0}function h5(r,e,n,i,t){if(/^(?:script|textarea)$/i.test(n)){var a=r.indexOf("</"+n+">",e),s=r.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(t.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),t.characters(s,0,s.length),a)}return e+1}function p5(r,e,n,i){var t=i[n];return t==null&&(t=r.lastIndexOf("</"+n+">"),t<e&&(t=r.lastIndexOf("</"+n)),i[n]=t),t<e}function Z2(r,e){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}function g5(r,e,n,i){var t=r.charAt(e+2);switch(t){case"-":if(r.charAt(e+3)==="-"){var a=r.indexOf("-->",e+4);return a>e?(n.comment(r,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(r.substr(e+3,6)=="CDATA["){var a=r.indexOf("]]>",e+9);return n.startCDATA(),n.characters(r,e+9,a-e-9),n.endCDATA(),a+3}var s=v5(r,e),l=s.length;if(l>1&&/!doctype/i.test(s[0][0])){var c=s[1][0],f=!1,h=!1;l>3&&(/^public$/i.test(s[2][0])?(f=s[3][0],h=l>4&&s[4][0]):/^system$/i.test(s[2][0])&&(h=s[3][0]));var v=s[l-1];return n.startDTD(c,f,h),n.endDTD(),v.index+v[0].length}}return-1}function m5(r,e,n){var i=r.indexOf("?>",e);if(i){var t=r.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,n.processingInstruction(t[1],t[2]),i+2):-1}return-1}function ex(){this.attributeNames={}}ex.prototype={setTagName:function(r){if(!Zy.test(r))throw new Error("invalid tagName:"+r);this.tagName=r},addValue:function(r,e,n){if(!Zy.test(r))throw new Error("invalid attribute:"+r);this.attributeNames[r]=this.length,this[this.length++]={qName:r,value:e,offset:n}},length:0,getLocalName:function(r){return this[r].localName},getLocator:function(r){return this[r].locator},getQName:function(r){return this[r].qName},getURI:function(r){return this[r].uri},getValue:function(r){return this[r].value}};function v5(r,e){var n,i=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(r);n=t.exec(r);)if(i.push(n),n[1])return i}cv.XMLReader=Q2;cv.ParseError=xo;var _5=zi,y5=Ra,rb=Y2,tx=cv,b5=y5.DOMImplementation,nb=_5.NAMESPACE,T5=tx.ParseError,S5=tx.XMLReader;function rx(r){return r.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function nx(r){this.options=r||{locator:{}}}nx.prototype.parseFromString=function(r,e){var n=this.options,i=new S5,t=n.domBuilder||new Nl,a=n.errorHandler,s=n.locator,l=n.xmlns||{},c=/\/x?html?$/.test(e),f=c?rb.HTML_ENTITIES:rb.XML_ENTITIES;s&&t.setDocumentLocator(s),i.errorHandler=x5(a,t,s),i.domBuilder=n.domBuilder||t,c&&(l[""]=nb.HTML),l.xml=l.xml||nb.XML;var h=n.normalizeLineEndings||rx;return r&&typeof r=="string"?i.parse(h(r),l,f):i.errorHandler.error("invalid doc source"),t.doc};function x5(r,e,n){if(!r){if(e instanceof Nl)return e;r=e}var i={},t=r instanceof Function;n=n||{};function a(s){var l=r[s];!l&&t&&(l=r.length==2?function(c){r(s,c)}:r),i[s]=l&&function(c){l("[xmldom "+s+"]	"+c+Hg(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function Nl(){this.cdata=!1}function Xs(r,e){e.lineNumber=r.lineNumber,e.columnNumber=r.columnNumber}Nl.prototype={startDocument:function(){this.doc=new b5().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(r,e,n,i){var t=this.doc,a=t.createElementNS(r,n||e),s=i.length;Jc(this,a),this.currentElement=a,this.locator&&Xs(this.locator,a);for(var l=0;l<s;l++){var r=i.getURI(l),c=i.getValue(l),n=i.getQName(l),f=t.createAttributeNS(r,n);this.locator&&Xs(i.getLocator(l),f),f.value=f.nodeValue=c,a.setAttributeNode(f)}},endElement:function(r,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(r,e){},endPrefixMapping:function(r){},processingInstruction:function(r,e){var n=this.doc.createProcessingInstruction(r,e);this.locator&&Xs(this.locator,n),Jc(this,n)},ignorableWhitespace:function(r,e,n){},characters:function(r,e,n){if(r=ib.apply(this,arguments),r){if(this.cdata)var i=this.doc.createCDATASection(r);else var i=this.doc.createTextNode(r);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(r)&&this.doc.appendChild(i),this.locator&&Xs(this.locator,i)}},skippedEntity:function(r){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(r){(this.locator=r)&&(r.lineNumber=0)},comment:function(r,e,n){r=ib.apply(this,arguments);var i=this.doc.createComment(r);this.locator&&Xs(this.locator,i),Jc(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(r,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var t=i.createDocumentType(r,e,n);this.locator&&Xs(this.locator,t),Jc(this,t),this.doc.doctype=t}},warning:function(r){console.warn("[xmldom warning]	"+r,Hg(this.locator))},error:function(r){console.error("[xmldom error]	"+r,Hg(this.locator))},fatalError:function(r){throw new T5(r,this.locator)}};function Hg(r){if(r)return`
@`+(r.systemId||"")+"#[line:"+r.lineNumber+",col:"+r.columnNumber+"]"}function ib(r,e,n){return typeof r=="string"?r.substr(e,n):r.length>=e+n||e?new java.lang.String(r,e,n)+"":r}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(r){Nl.prototype[r]=function(){return null}});function Jc(r,e){r.currentElement?r.currentElement.appendChild(e):r.doc.appendChild(e)}Lf.__DOMHandler=Nl;Lf.normalizeLineEndings=rx;Lf.DOMParser=nx;var E5=Lf.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var ab=function(e){return!!e&&typeof e=="object"},qr=function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(t,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(t[s])&&Array.isArray(a[s])?t[s]=t[s].concat(a[s]):ab(t[s])&&ab(a[s])?t[s]=r(t[s],a[s]):t[s]=a[s]}),t},{})},ix=function(e){return Object.keys(e).map(function(n){return e[n]})},w5=function(e,n){for(var i=[],t=e;t<n;t++)i.push(t);return i},Rf=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},ax=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},C5=function(e,n){return e.reduce(function(i,t,a){return t[n]&&i.push(a),i},[])},Vg=function(e,n){for(var i=0;i<e.length;i++)if(n(e[i]))return i;return-1},A5=function(e,n){return ix(e.reduce(function(i,t){return t.forEach(function(a){i[n(a)]=a}),i},{}))},Eo={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},yl=function(e){var n=e.baseUrl,i=n===void 0?"":n,t=e.source,a=t===void 0?"":t,s=e.range,l=s===void 0?"":s,c=e.indexRange,f=c===void 0?"":c,h={uri:a,resolvedUri:Pf(i||"",a)};if(l||f){var v=l||f,y=v.split("-"),x=V.BigInt?V.BigInt(y[0]):parseInt(y[0],10),C=V.BigInt?V.BigInt(y[1]):parseInt(y[1],10);x<Number.MAX_SAFE_INTEGER&&typeof x=="bigint"&&(x=Number(x)),C<Number.MAX_SAFE_INTEGER&&typeof C=="bigint"&&(C=Number(C));var k;typeof C=="bigint"||typeof x=="bigint"?k=V.BigInt(C)-V.BigInt(x)+V.BigInt(1):k=C-x+1,typeof k=="bigint"&&k<Number.MAX_SAFE_INTEGER&&(k=Number(k)),h.byterange={length:k,offset:x}}return h},D5=function(e){var n;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=V.BigInt(e.offset)+V.BigInt(e.length)-V.BigInt(1):n=e.offset+e.length-1,e.offset+"-"+n},sb=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},k5={static:function(e){var n=e.duration,i=e.timescale,t=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,l=sb(e.endNumber),c=n/t;return typeof l=="number"?{start:0,end:l}:typeof s=="number"?{start:0,end:s/c}:{start:0,end:a/c}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,t=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,l=e.duration,c=e.periodStart,f=c===void 0?0:c,h=e.minimumUpdatePeriod,v=h===void 0?0:h,y=e.timeShiftBufferDepth,x=y===void 0?1/0:y,C=sb(e.endNumber),k=(n+i)/1e3,P=t+f,R=k+v,F=R-P,B=Math.ceil(F*s/l),H=Math.floor((k-P-x)*s/l),K=Math.floor((k-P)*s/l);return{start:Math.max(0,H),end:typeof C=="number"?C:Math.min(B,K)}}},P5=function(e){return function(n){var i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodStart,l=e.startNumber,c=l===void 0?1:l;return{number:c+n,duration:i/a,timeline:s,time:n*i}}},dv=function(e){var n=e.type,i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodDuration,l=e.sourceDuration,c=k5[n](e),f=c.start,h=c.end,v=w5(f,h).map(P5(e));if(n==="static"){var y=v.length-1,x=typeof s=="number"?s:l;v[y].duration=x-i/a*y}return v},sx=function(e){var n=e.baseUrl,i=e.initialization,t=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,l=s===void 0?"":s,c=e.periodStart,f=e.presentationTime,h=e.number,v=h===void 0?0:h,y=e.duration;if(!n)throw new Error(Eo.NO_BASE_URL);var x=yl({baseUrl:n,source:t.sourceURL,range:t.range}),C=yl({baseUrl:n,source:n,indexRange:l});if(C.map=x,y){var k=dv(e);k.length&&(C.duration=k[0].duration,C.timeline=k[0].timeline)}else a&&(C.duration=a,C.timeline=c);return C.presentationTime=f||c,C.number=v,[C]},fv=function(e,n,i){var t=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,l=e.sidx.byterange,c=l.offset+l.length,f=n.timescale,h=n.references.filter(function(z){return z.referenceType!==1}),v=[],y=e.endList?"static":"dynamic",x=e.sidx.timeline,C=x,k=e.mediaSequence||0,P;typeof n.firstOffset=="bigint"?P=V.BigInt(c)+n.firstOffset:P=c+n.firstOffset;for(var R=0;R<h.length;R++){var F=n.references[R],B=F.referencedSize,H=F.subsegmentDuration,K=void 0;typeof P=="bigint"?K=P+V.BigInt(B)-V.BigInt(1):K=P+B-1;var Y=P+"-"+K,Q={baseUrl:i,timescale:f,timeline:s,periodStart:x,presentationTime:C,number:k,duration:H,sourceDuration:a,indexRange:Y,type:y},U=sx(Q)[0];t&&(U.map=t),v.push(U),typeof P=="bigint"?P+=V.BigInt(B):P+=B,C+=H/f,k++}return e.segments=v,e},I5=["AUDIO","SUBTITLES"],O5=1/60,ox=function(e){return A5(e,function(n){var i=n.timeline;return i}).sort(function(n,i){return n.timeline>i.timeline?1:-1})},L5=function(e,n){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===n)return e[i];return null},ob=function(e){var n=[];return JL(e,I5,function(i,t,a,s){n=n.concat(i.playlists||[])}),n},ub=function(e){var n=e.playlist,i=e.mediaSequence;n.mediaSequence=i,n.segments.forEach(function(t,a){t.number=n.mediaSequence+a})},R5=function(e){var n=e.oldPlaylists,i=e.newPlaylists,t=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=Vg(t,function(h){var v=h.timeline;return v===a.timeline});var s=L5(n,a.attributes.NAME);if(!!s&&!a.sidx){var l=a.segments[0],c=Vg(s.segments,function(h){return Math.abs(h.presentationTime-l.presentationTime)<O5});if(c===-1){ub({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var f=s.segments[c];f.discontinuity&&!l.discontinuity&&(l.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),ub({playlist:a,mediaSequence:s.segments[c].number})}})},N5=function(e){var n=e.oldManifest,i=e.newManifest,t=n.playlists.concat(ob(n)),a=i.playlists.concat(ob(i));return i.timelineStarts=ox([n.timelineStarts,i.timelineStarts]),R5({oldPlaylists:t,newPlaylists:a,timelineStarts:i.timelineStarts}),i},Nf=function(e){return e&&e.uri+"-"+D5(e.byterange)},Wp=function(e){var n=ix(e.reduce(function(i,t){var a=t.attributes.id+(t.attributes.lang||"");if(!i[a])i[a]=t,i[a].attributes.timelineStarts=[];else{if(t.segments){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,t.segments)}t.attributes.contentProtection&&(i[a].attributes.contentProtection=t.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),i},{}));return n.map(function(i){return i.discontinuityStarts=C5(i.segments||[],"discontinuity"),i})},hv=function(e,n){var i=Nf(e.sidx),t=i&&n[i]&&n[i].sidx;return t&&fv(e,t,e.sidx.resolvedUri),e},F5=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=hv(e[i],n);return e},M5=function(e,n){var i,t=e.attributes,a=e.segments,s=e.sidx,l=e.mediaSequence,c=e.discontinuitySequence,f=e.discontinuityStarts,h={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:c,discontinuityStarts:f,timelineStarts:t.timelineStarts,mediaSequence:l,segments:a};return t.contentProtection&&(h.contentProtection=t.contentProtection),s&&(h.sidx=s),n&&(h.attributes.AUDIO="audio",h.attributes.SUBTITLES="subs"),h},B5=function(e){var n,i=e.attributes,t=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,l=e.discontinuitySequence;typeof t>"u"&&(t=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var c=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(c.CODECS=i.codecs),{attributes:c,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:l,mediaSequence:a,segments:t}},U5=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var t,a=e.reduce(function(l,c){var f=c.attributes.role&&c.attributes.role.value||"",h=c.attributes.lang||"",v=c.attributes.label||"main";if(h&&!c.attributes.label){var y=f?" ("+f+")":"";v=""+c.attributes.lang+y}l[v]||(l[v]={language:h,autoselect:!0,default:f==="main",playlists:[],uri:""});var x=hv(M5(c,i),n);return l[v].playlists.push(x),typeof t>"u"&&f==="main"&&(t=c,t.default=!0),l},{});if(!t){var s=Object.keys(a)[0];a[s].default=!0}return a},j5=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,t){var a=t.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(hv(B5(t),n)),i},{})},H5=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(t){var a=t.channel,s=t.language;n[s]={autoselect:!1,default:!1,instreamId:a,language:s},t.hasOwnProperty("aspectRatio")&&(n[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(n[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(n[s]["3D"]=t["3D"])}),n},{})},V5=function(e){var n,i=e.attributes,t=e.segments,a=e.sidx,s=e.discontinuityStarts,l={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:t};return i.frameRate&&(l.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(l.contentProtection=i.contentProtection),a&&(l.sidx=a),l},q5=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},$5=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},W5=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},G5=function(e,n){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=Vg(n,function(t){var a=t.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(t,a){t.number=a})})},lb=function(e){return e?Object.keys(e).reduce(function(n,i){var t=e[i];return n.concat(t.playlists)},[]):[]},z5=function(e){var n,i=e.dashPlaylists,t=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,l=e.previousManifest;if(!i.length)return{};var c=i[0].attributes,f=c.sourceDuration,h=c.type,v=c.suggestedPresentationDelay,y=c.minimumUpdatePeriod,x=Wp(i.filter(q5)).map(V5),C=Wp(i.filter($5)),k=Wp(i.filter(W5)),P=i.map(function(Q){return Q.attributes.captionServices}).filter(Boolean),R={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:f,playlists:F5(x,s)};y>=0&&(R.minimumUpdatePeriod=y*1e3),t&&(R.locations=t),h==="dynamic"&&(R.suggestedPresentationDelay=v);var F=R.playlists.length===0,B=C.length?U5(C,s,F):null,H=k.length?j5(k,s):null,K=x.concat(lb(B),lb(H)),Y=K.map(function(Q){var U=Q.timelineStarts;return U});return R.timelineStarts=ox(Y),G5(K,R.timelineStarts),B&&(R.mediaGroups.AUDIO.audio=B),H&&(R.mediaGroups.SUBTITLES.subs=H),P.length&&(R.mediaGroups["CLOSED-CAPTIONS"].cc=H5(P)),l?N5({oldManifest:l,newManifest:R}):R},K5=function(e,n,i){var t=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,l=e.timescale,c=l===void 0?1:l,f=e.periodStart,h=f===void 0?0:f,v=e.minimumUpdatePeriod,y=v===void 0?0:v,x=(t+a)/1e3,C=s+h,k=x+y,P=k-C;return Math.ceil((P*c-n)/i)},ux=function(e,n){for(var i=e.type,t=e.minimumUpdatePeriod,a=t===void 0?0:t,s=e.media,l=s===void 0?"":s,c=e.sourceDuration,f=e.timescale,h=f===void 0?1:f,v=e.startNumber,y=v===void 0?1:v,x=e.periodStart,C=[],k=-1,P=0;P<n.length;P++){var R=n[P],F=R.d,B=R.r||0,H=R.t||0;k<0&&(k=H),H&&H>k&&(k=H);var K=void 0;if(B<0){var Y=P+1;Y===n.length?i==="dynamic"&&a>0&&l.indexOf("$Number$")>0?K=K5(e,k,F):K=(c*h-k)/F:K=(n[Y].t-k)/F}else K=B+1;for(var Q=y+C.length+K,U=y+C.length;U<Q;)C.push({number:U,duration:F/h,time:k,timeline:x}),k+=F,U++}return C},X5=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,J5=function(e){return function(n,i,t,a){if(n==="$$")return"$";if(typeof e[i]>"u")return n;var s=""+e[i];return i==="RepresentationID"||(t?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},cb=function(e,n){return e.replace(X5,J5(n))},Y5=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?dv(e):ux(e,n)},Q5=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,a=t===void 0?{sourceURL:"",range:""}:t,s=yl({baseUrl:e.baseUrl,source:cb(a.sourceURL,i),range:a.range}),l=Y5(e,n);return l.map(function(c){i.Number=c.number,i.Time=c.time;var f=cb(e.media||"",i),h=e.timescale||1,v=e.presentationTimeOffset||0,y=e.periodStart+(c.time-v)/h,x={uri:f,timeline:c.timeline,duration:c.duration,resolvedUri:Pf(e.baseUrl||"",f),map:s,number:c.number,presentationTime:y};return x})},Z5=function(e,n){var i=e.baseUrl,t=e.initialization,a=t===void 0?{}:t,s=yl({baseUrl:i,source:a.sourceURL,range:a.range}),l=yl({baseUrl:i,source:n.media,range:n.mediaRange});return l.map=s,l},eR=function(e,n){var i=e.duration,t=e.segmentUrls,a=t===void 0?[]:t,s=e.periodStart;if(!i&&!n||i&&n)throw new Error(Eo.SEGMENT_TIME_UNSPECIFIED);var l=a.map(function(h){return Z5(e,h)}),c;i&&(c=dv(e)),n&&(c=ux(e,n));var f=c.map(function(h,v){if(l[v]){var y=l[v],x=e.timescale||1,C=e.presentationTimeOffset||0;return y.timeline=h.timeline,y.duration=h.duration,y.number=h.number,y.presentationTime=s+(h.time-C)/x,y}}).filter(function(h){return h});return f},tR=function(e){var n=e.attributes,i=e.segmentInfo,t,a;i.template?(a=Q5,t=qr(n,i.template)):i.base?(a=sx,t=qr(n,i.base)):i.list&&(a=eR,t=qr(n,i.list));var s={attributes:n};if(!a)return s;var l=a(t,i.segmentTimeline);if(t.duration){var c=t,f=c.duration,h=c.timescale,v=h===void 0?1:h;t.duration=f/v}else l.length?t.duration=l.reduce(function(y,x){return Math.max(y,Math.ceil(x.duration))},0):t.duration=0;return s.attributes=t,s.segments=l,i.base&&t.indexRange&&(s.sidx=l[0],s.segments=[]),s},rR=function(e){return e.map(tR)},Kt=function(e,n){return ax(e.childNodes).filter(function(i){var t=i.tagName;return t===n})},pv=function(e){return e.textContent.trim()},nR=function(e){return parseFloat(e.split("/").reduce(function(n,i){return n/i}))},Js=function(e){var n=31536e3,i=30*24*60*60,t=24*60*60,a=60*60,s=60,l=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,c=l.exec(e);if(!c)return 0;var f=c.slice(1),h=f[0],v=f[1],y=f[2],x=f[3],C=f[4],k=f[5];return parseFloat(h||0)*n+parseFloat(v||0)*i+parseFloat(y||0)*t+parseFloat(x||0)*a+parseFloat(C||0)*s+parseFloat(k||0)},iR=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},db={mediaPresentationDuration:function(e){return Js(e)},availabilityStartTime:function(e){return iR(e)/1e3},minimumUpdatePeriod:function(e){return Js(e)},suggestedPresentationDelay:function(e){return Js(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Js(e)},start:function(e){return Js(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return nR(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?Js(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Lr=function(e){return e&&e.attributes?ax(e.attributes).reduce(function(n,i){var t=db[i.name]||db.DEFAULT;return n[i.name]=t(i.value),n},{}):{}},aR={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Ff=function(e,n){return n.length?Rf(e.map(function(i){return n.map(function(t){return Pf(i,pv(t))})})):e},gv=function(e){var n=Kt(e,"SegmentTemplate")[0],i=Kt(e,"SegmentList")[0],t=i&&Kt(i,"SegmentURL").map(function(y){return qr({tag:"SegmentURL"},Lr(y))}),a=Kt(e,"SegmentBase")[0],s=i||n,l=s&&Kt(s,"SegmentTimeline")[0],c=i||a||n,f=c&&Kt(c,"Initialization")[0],h=n&&Lr(n);h&&f?h.initialization=f&&Lr(f):h&&h.initialization&&(h.initialization={sourceURL:h.initialization});var v={template:h,segmentTimeline:l&&Kt(l,"S").map(function(y){return Lr(y)}),list:i&&qr(Lr(i),{segmentUrls:t,initialization:Lr(f)}),base:a&&qr(Lr(a),{initialization:Lr(f)})};return Object.keys(v).forEach(function(y){v[y]||delete v[y]}),v},sR=function(e,n,i){return function(t){var a=Kt(t,"BaseURL"),s=Ff(n,a),l=qr(e,Lr(t)),c=gv(t);return s.map(function(f){return{segmentInfo:qr(i,c),attributes:qr(l,{baseUrl:f})}})}},oR=function(e){return e.reduce(function(n,i){var t=Lr(i);t.schemeIdUri&&(t.schemeIdUri=t.schemeIdUri.toLowerCase());var a=aR[t.schemeIdUri];if(a){n[a]={attributes:t};var s=Kt(i,"cenc:pssh")[0];if(s){var l=pv(s);n[a].pssh=l&&x2(l)}}return n},{})},uR=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(t){var a,s;if(s=t,/^CC\d=/.test(t)){var l=t.split("=");a=l[0],s=l[1]}else/^CC\d$/.test(t)&&(a=t);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(t){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),l=s[0],c=s[1],f=c===void 0?"":c;a.channel=l,a.language=t,f.split(",").forEach(function(h){var v=h.split(":"),y=v[0],x=v[1];y==="lang"?a.language=x:y==="er"?a.easyReader=Number(x):y==="war"?a.aspectRatio=Number(x):y==="3D"&&(a["3D"]=Number(x))})}else a.language=t;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},lR=function(e,n,i){return function(t){var a=Lr(t),s=Ff(n,Kt(t,"BaseURL")),l=Kt(t,"Role")[0],c={role:Lr(l)},f=qr(e,a,c),h=Kt(t,"Accessibility")[0],v=uR(Lr(h));v&&(f=qr(f,{captionServices:v}));var y=Kt(t,"Label")[0];if(y&&y.childNodes.length){var x=y.childNodes[0].nodeValue.trim();f=qr(f,{label:x})}var C=oR(Kt(t,"ContentProtection"));Object.keys(C).length&&(f=qr(f,{contentProtection:C}));var k=gv(t),P=Kt(t,"Representation"),R=qr(i,k);return Rf(P.map(sR(f,s,R)))}},cR=function(e,n){return function(i,t){var a=Ff(n,Kt(i.node,"BaseURL")),s=qr(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var l=Kt(i.node,"AdaptationSet"),c=gv(i.node);return Rf(l.map(lR(s,a,c)))}},dR=function(e){var n=e.attributes,i=e.priorPeriodAttributes,t=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&t==="static"?0:null},fR=function(e,n){n===void 0&&(n={});var i=n,t=i.manifestUri,a=t===void 0?"":t,s=i.NOW,l=s===void 0?Date.now():s,c=i.clientOffset,f=c===void 0?0:c,h=Kt(e,"Period");if(!h.length)throw new Error(Eo.INVALID_NUMBER_OF_PERIOD);var v=Kt(e,"Location"),y=Lr(e),x=Ff([a],Kt(e,"BaseURL"));y.type=y.type||"static",y.sourceDuration=y.mediaPresentationDuration||0,y.NOW=l,y.clientOffset=f,v.length&&(y.locations=v.map(pv));var C=[];return h.forEach(function(k,P){var R=Lr(k),F=C[P-1];R.start=dR({attributes:R,priorPeriodAttributes:F?F.attributes:null,mpdType:y.type}),C.push({node:k,attributes:R})}),{locations:y.locations,representationInfo:Rf(C.map(cR(y,x)))}},lx=function(e){if(e==="")throw new Error(Eo.DASH_EMPTY_MANIFEST);var n=new E5,i,t;try{i=n.parseFromString(e,"application/xml"),t=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(Eo.DASH_INVALID_XML);return t},hR=function(e){var n=Kt(e,"UTCTiming")[0];if(!n)return null;var i=Lr(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Eo.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},pR=function(e,n){n===void 0&&(n={});var i=fR(lx(e),n),t=rR(i.representationInfo);return z5({dashPlaylists:t,locations:i.locations,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest})},gR=function(e){return hR(lx(e))},cx=Math.pow(2,32),mR=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*cx+e.getUint32(4)},vR={getUint64:mR,MAX_UINT32:cx},fb=vR.getUint64,_R=function(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength),n={version:r[0],flags:new Uint8Array(r.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=fb(r.subarray(i)),n.firstOffset=fb(r.subarray(i+8)),i+=16),i+=2;var t=e.getUint16(i);for(i+=2;t>0;i+=12,t--)n.references.push({referenceType:(r[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(r[i+8]&128),sapType:(r[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},yR=_R,bR=qe([73,68,51]),TR=function(e,n){n===void 0&&(n=0),e=qe(e);var i=e[n+5],t=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(i&16)>>4;return a?t+20:t+10},Vu=function r(e,n){return n===void 0&&(n=0),e=qe(e),e.length-n<10||!Ut(e,bR,{offset:n})?n:(n+=TR(e,n),r(e,n))},hb=function(e){return typeof e=="string"?D2(e):e},SR=function(e){return Array.isArray(e)?e.map(function(n){return hb(n)}):[hb(e)]},xR=function r(e,n,i){i===void 0&&(i=!1),n=SR(n),e=qe(e);var t=[];if(!n.length)return t;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,l=e.subarray(a+4,a+8);if(s===0)break;var c=a+s;if(c>e.length){if(i)break;c=e.length}var f=e.subarray(a+8,c);Ut(l,n[0])&&(n.length===1?t.push(f):t.push.apply(t,r(f,n.slice(1),i))),a=c}return t},Yc={EBML:qe([26,69,223,163]),DocType:qe([66,130]),Segment:qe([24,83,128,103]),SegmentInfo:qe([21,73,169,102]),Tracks:qe([22,84,174,107]),Track:qe([174]),TrackNumber:qe([215]),DefaultDuration:qe([35,227,131]),TrackEntry:qe([174]),TrackType:qe([131]),FlagDefault:qe([136]),CodecID:qe([134]),CodecPrivate:qe([99,162]),VideoTrack:qe([224]),AudioTrack:qe([225]),Cluster:qe([31,67,182,117]),Timestamp:qe([231]),TimestampScale:qe([42,215,177]),BlockGroup:qe([160]),BlockDuration:qe([155]),Block:qe([161]),SimpleBlock:qe([163])},qg=[128,64,32,16,8,4,2,1],ER=function(e){for(var n=1,i=0;i<qg.length&&!(e&qg[i]);i++)n++;return n},Md=function(e,n,i,t){i===void 0&&(i=!0),t===void 0&&(t=!1);var a=ER(e[n]),s=e.subarray(n,n+a);return i&&(s=Array.prototype.slice.call(e,n,n+a),s[0]^=qg[a-1]),{length:a,value:zL(s,{signed:t}),bytes:s}},pb=function r(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return r(n)}):typeof e=="number"?KL(e):e},wR=function(e){return Array.isArray(e)?e.map(function(n){return pb(n)}):[pb(e)]},CR=function r(e,n,i){if(i>=n.length)return n.length;var t=Md(n,i,!1);if(Ut(e.bytes,t.bytes))return i;var a=Md(n,i+t.length);return r(e,n,i+a.length+a.value+t.length)},gb=function r(e,n){n=wR(n),e=qe(e);var i=[];if(!n.length)return i;for(var t=0;t<e.length;){var a=Md(e,t,!1),s=Md(e,t+a.length),l=t+a.length+s.length;s.value===127&&(s.value=CR(a,e,l),s.value!==e.length&&(s.value-=l));var c=l+s.value>e.length?e.length:l+s.value,f=e.subarray(l,c);Ut(n[0],a.bytes)&&(n.length===1?i.push(f):i=i.concat(r(f,n.slice(1))));var h=a.length+s.length+f.length;t+=h}return i},AR=qe([0,0,0,1]),DR=qe([0,0,1]),kR=qe([0,0,3]),PR=function(e){for(var n=[],i=1;i<e.length-2;)Ut(e.subarray(i,i+3),kR)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var t=e.length-n.length,a=new Uint8Array(t),s=0;for(i=0;i<t;s++,i++)s===n[0]&&(s++,n.shift()),a[i]=e[s];return a},dx=function(e,n,i,t){t===void 0&&(t=1/0),e=qe(e),i=[].concat(i);for(var a=0,s,l=0;a<e.length&&(l<t||s);){var c=void 0;if(Ut(e.subarray(a),AR)?c=4:Ut(e.subarray(a),DR)&&(c=3),!c){a++;continue}if(l++,s)return PR(e.subarray(s,a));var f=void 0;n==="h264"?f=e[a+c]&31:n==="h265"&&(f=e[a+c]>>1&63),i.indexOf(f)!==-1&&(s=a+c),a+=c+(n==="h264"?1:2)}return e.subarray(0,0)},IR=function(e,n,i){return dx(e,"h264",n,i)},OR=function(e,n,i){return dx(e,"h265",n,i)},Br={webm:qe([119,101,98,109]),matroska:qe([109,97,116,114,111,115,107,97]),flac:qe([102,76,97,67]),ogg:qe([79,103,103,83]),ac3:qe([11,119]),riff:qe([82,73,70,70]),avi:qe([65,86,73]),wav:qe([87,65,86,69]),"3gp":qe([102,116,121,112,51,103]),mp4:qe([102,116,121,112]),fmp4:qe([115,116,121,112]),mov:qe([102,116,121,112,113,116]),moov:qe([109,111,111,118]),moof:qe([109,111,111,102])},wo={aac:function(e){var n=Vu(e);return Ut(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Vu(e);return Ut(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=gb(e,[Yc.EBML,Yc.DocType])[0];return Ut(n,Br.webm)},mkv:function(e){var n=gb(e,[Yc.EBML,Yc.DocType])[0];return Ut(n,Br.matroska)},mp4:function(e){if(wo["3gp"](e)||wo.mov(e))return!1;if(Ut(e,Br.mp4,{offset:4})||Ut(e,Br.fmp4,{offset:4})||Ut(e,Br.moof,{offset:4})||Ut(e,Br.moov,{offset:4}))return!0},mov:function(e){return Ut(e,Br.mov,{offset:4})},"3gp":function(e){return Ut(e,Br["3gp"],{offset:4})},ac3:function(e){var n=Vu(e);return Ut(e,Br.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Vu(e);return Ut(e,Br.flac,{offset:n})},ogg:function(e){return Ut(e,Br.ogg)},avi:function(e){return Ut(e,Br.riff)&&Ut(e,Br.avi,{offset:8})},wav:function(e){return Ut(e,Br.riff)&&Ut(e,Br.wav,{offset:8})},h264:function(e){return IR(e,7,3).length},h265:function(e){return OR(e,[32,33],3).length}},$g=Object.keys(wo).filter(function(r){return r!=="ts"&&r!=="h264"&&r!=="h265"}).concat(["ts","h264","h265"]);$g.forEach(function(r){var e=wo[r];wo[r]=function(n){return e(qe(n))}});var LR=wo,mv=function(e){e=qe(e);for(var n=0;n<$g.length;n++){var i=$g[n];if(LR[i](e))return i}return""},RR=function(e){return xR(e,["moof"]).length>0},vv=9e4,_v,yv,Mf,bv,fx,hx,px;_v=function(r){return r*vv};yv=function(r,e){return r*e};Mf=function(r){return r/vv};bv=function(r,e){return r/e};fx=function(r,e){return _v(bv(r,e))};hx=function(r,e){return yv(Mf(r),e)};px=function(r,e,n){return Mf(n?r:r-e)};var Bd={ONE_SECOND_IN_TS:vv,secondsToVideoTs:_v,secondsToAudioTs:yv,videoTsToSeconds:Mf,audioTsToSeconds:bv,audioTsToVideoTs:fx,videoTsToAudioTs:hx,metadataTsToSeconds:px};function Wg(r){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wg(r)}function NR(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}function Gg(r){var e=typeof Map=="function"?new Map:void 0;return Gg=function(i){if(i===null||!NR(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,t)}function t(){return T2(i,arguments,Wg(this).constructor)}return t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),bo(t,i)},Gg(r)}/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var gx="7.21.6",Ri={},ka=function(e,n){return Ri[e]=Ri[e]||[],n&&(Ri[e]=Ri[e].concat(n)),Ri[e]},FR=function(e,n){ka(e,n)},mx=function(e,n){var i=ka(e).indexOf(n);return i<=-1?!1:(Ri[e]=Ri[e].slice(),Ri[e].splice(i,1),!0)},MR=function(e,n){ka(e,[].concat(n).map(function(i){var t=function a(){return mx(e,a),i.apply(void 0,arguments)};return t}))},Ud={prefixed:!0},vd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],mb=vd[0],qu;for(var Qc=0;Qc<vd.length;Qc++)if(vd[Qc][1]in Te){qu=vd[Qc];break}if(qu){for(var Zc=0;Zc<qu.length;Zc++)Ud[mb[Zc]]=qu[Zc];Ud.prefixed=qu[0]!==mb[0]}var Qr=[],BR=function(e,n){return function(i,t,a){var s=n.levels[t],l=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),Qr){Qr.push([].concat(a));var c=Qr.length-1e3;Qr.splice(0,c>0?c:0)}if(!!V.console){var f=V.console[i];!f&&i==="debug"&&(f=V.console.info||V.console.log),!(!f||!s||!l.test(i))&&f[Array.isArray(a)?"apply":"call"](V.console,a)}}};function vx(r){var e="info",n,i=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n("log",e,s)};return n=BR(r,i),i.createLogger=function(t){return vx(r+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(t){if(typeof t=="string"){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},i.history=function(){return Qr?[].concat(Qr):[]},i.history.filter=function(t){return(Qr||[]).filter(function(a){return new RegExp(".*"+t+".*").test(a[0])})},i.history.clear=function(){Qr&&(Qr.length=0)},i.history.disable=function(){Qr!==null&&(Qr.length=0,Qr=null)},i.history.enable=function(){Qr===null&&(Qr=[])},i.error=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("error",e,a)},i.warn=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("warn",e,a)},i.debug=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n("debug",e,a)},i}var ot=vx("VIDEOJS"),_x=ot.createLogger,UR=Object.prototype.toString,yx=function(e){return $i(e)?Object.keys(e):[]};function co(r,e){yx(r).forEach(function(n){return e(r[n],n)})}function jR(r,e,n){return n===void 0&&(n=0),yx(r).reduce(function(i,t){return e(i,r[t],t)},n)}function Wt(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?On.apply(void 0,[r].concat(n)):(n.forEach(function(t){!t||co(t,function(a,s){r[s]=a})}),r)}function $i(r){return!!r&&typeof r=="object"}function bl(r){return $i(r)&&UR.call(r)==="[object Object]"&&r.constructor===Object}function Tl(r,e){if(!r||!e)return"";if(typeof V.getComputedStyle=="function"){var n;try{n=V.getComputedStyle(r)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var mr=V.navigator&&V.navigator.userAgent||"",vb=/AppleWebKit\/([\d.]+)/i.exec(mr),HR=vb?parseFloat(vb.pop()):null,bx=/iPod/i.test(mr),VR=function(){var r=mr.match(/OS (\d+)_/i);return r&&r[1]?r[1]:null}(),Ki=/Android/i.test(mr),Tv=function(){var r=mr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var e=r[1]&&parseFloat(r[1]),n=r[2]&&parseFloat(r[2]);return e&&n?parseFloat(r[1]+"."+r[2]):e||null}(),Tx=Ki&&Tv<5&&HR<537,Sx=/Firefox/i.test(mr),Fl=/Edg/i.test(mr),Xi=!Fl&&(/Chrome/i.test(mr)||/CriOS/i.test(mr)),xx=function(){var r=mr.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null}(),Ml=function(){var r=/MSIE\s(\d+)\.\d/.exec(mr),e=r&&parseFloat(r[1]);return!e&&/Trident\/7.0/i.test(mr)&&/rv:11.0/.test(mr)&&(e=11),e}(),Sv=/Safari/i.test(mr)&&!Xi&&!Ki&&!Fl,Ex=/Windows/i.test(mr),Co=Boolean(Fo()&&("ontouchstart"in V||V.navigator.maxTouchPoints||V.DocumentTouch&&V.document instanceof V.DocumentTouch)),xv=/iPad/i.test(mr)||Sv&&Co&&!/iPhone/i.test(mr),Ev=/iPhone/i.test(mr)&&!xv,Gr=Ev||xv||bx,Bf=(Sv||Gr)&&!Xi,qR=Object.freeze({__proto__:null,IS_IPOD:bx,IOS_VERSION:VR,IS_ANDROID:Ki,ANDROID_VERSION:Tv,IS_NATIVE_ANDROID:Tx,IS_FIREFOX:Sx,IS_EDGE:Fl,IS_CHROME:Xi,CHROME_VERSION:xx,IE_VERSION:Ml,IS_SAFARI:Sv,IS_WINDOWS:Ex,TOUCH_ENABLED:Co,IS_IPAD:xv,IS_IPHONE:Ev,IS_IOS:Gr,IS_ANY_SAFARI:Bf});function _b(r){return typeof r=="string"&&Boolean(r.trim())}function wx(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function $R(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}function Fo(){return Te===V.document}function Mo(r){return $i(r)&&r.nodeType===1}function Cx(){try{return V.parent!==V.self}catch{return!0}}function Ax(r){return function(e,n){if(!_b(e))return Te[r](null);_b(n)&&(n=Te.querySelector(n));var i=Mo(n)?n:Te;return i[r]&&i[r](e)}}function pt(r,e,n,i){r===void 0&&(r="div"),e===void 0&&(e={}),n===void 0&&(n={});var t=Te.createElement(r);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(ot.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),t.setAttribute(a,s)):a==="textContent"?bs(t,s):(t[a]!==s||a==="tabIndex")&&(t[a]=s)}),Object.getOwnPropertyNames(n).forEach(function(a){t.setAttribute(a,n[a])}),i&&Cv(t,i),t}function bs(r,e){return typeof r.textContent>"u"?r.innerText=e:r.textContent=e,r}function zg(r,e){e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}function hs(r,e){return wx(e),r.classList?r.classList.contains(e):$R(e).test(r.className)}function Bi(r,e){return r.classList?r.classList.add(e):hs(r,e)||(r.className=(r.className+" "+e).trim()),r}function Bl(r,e){return r?(r.classList?r.classList.remove(e):(wx(e),r.className=r.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),r):(ot.warn("removeClass was called with an element that doesn't exist"),null)}function Dx(r,e,n){var i=hs(r,e);if(typeof n=="function"&&(n=n(r,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?Bi(r,e):Bl(r,e),r}function kx(r,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i>"u"||i===!1?r.removeAttribute(n):r.setAttribute(n,i===!0?"":i)})}function Li(r){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(r&&r.attributes&&r.attributes.length>0)for(var i=r.attributes,t=i.length-1;t>=0;t--){var a=i[t].name,s=i[t].value;(typeof r[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function Px(r,e){return r.getAttribute(e)}function Ao(r,e,n){r.setAttribute(e,n)}function Uf(r,e){r.removeAttribute(e)}function Ix(){Te.body.focus(),Te.onselectstart=function(){return!1}}function Ox(){Te.onselectstart=function(){return!0}}function Do(r){if(r&&r.getBoundingClientRect&&r.parentNode){var e=r.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Tl(r,"height"))),n.width||(n.width=parseFloat(Tl(r,"width"))),n}}function Sl(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=r.offsetWidth,n=r.offsetHeight,i=0,t=0;r.offsetParent&&r!==Te[Ud.fullscreenElement];)i+=r.offsetLeft,t+=r.offsetTop,r=r.offsetParent;return{left:i,top:t,width:e,height:n}}function jf(r,e){var n={x:0,y:0};if(Gr)for(var i=r;i&&i.nodeName.toLowerCase()!=="html";){var t=Tl(i,"transform");if(/^matrix/.test(t)){var a=t.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var l={},c=Sl(e.target),f=Sl(r),h=f.width,v=f.height,y=e.offsetY-(f.top-c.top),x=e.offsetX-(f.left-c.left);return e.changedTouches&&(x=e.changedTouches[0].pageX-f.left,y=e.changedTouches[0].pageY+f.top,Gr&&(x-=n.x,y-=n.y)),l.y=1-Math.max(0,Math.min(1,y/v)),l.x=Math.max(0,Math.min(1,x/h)),l}function Lx(r){return $i(r)&&r.nodeType===3}function wv(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function Rx(r){return typeof r=="function"&&(r=r()),(Array.isArray(r)?r:[r]).map(function(e){if(typeof e=="function"&&(e=e()),Mo(e)||Lx(e))return e;if(typeof e=="string"&&/\S/.test(e))return Te.createTextNode(e)}).filter(function(e){return e})}function Cv(r,e){return Rx(e).forEach(function(n){return r.appendChild(n)}),r}function Nx(r,e){return Cv(wv(r),e)}function xl(r){return r.button===void 0&&r.buttons===void 0||r.button===0&&r.buttons===void 0||r.type==="mouseup"&&r.button===0&&r.buttons===0?!0:!(r.button!==0||r.buttons!==1)}var Pa=Ax("querySelector"),Fx=Ax("querySelectorAll"),Mx=Object.freeze({__proto__:null,isReal:Fo,isEl:Mo,isInFrame:Cx,createEl:pt,textContent:bs,prependTo:zg,hasClass:hs,addClass:Bi,removeClass:Bl,toggleClass:Dx,setAttributes:kx,getAttributes:Li,getAttribute:Px,setAttribute:Ao,removeAttribute:Uf,blockTextSelection:Ix,unblockTextSelection:Ox,getBoundingClientRect:Do,findPosition:Sl,getPointerPosition:jf,isTextNode:Lx,emptyEl:wv,normalizeContent:Rx,appendContent:Cv,insertContent:Nx,isSingleLeftClick:xl,$:Pa,$$:Fx}),Bx=!1,Kg,WR=function(){if(Kg.options.autoSetup!==!1){var e=Array.prototype.slice.call(Te.getElementsByTagName("video")),n=Array.prototype.slice.call(Te.getElementsByTagName("audio")),i=Array.prototype.slice.call(Te.getElementsByTagName("video-js")),t=e.concat(n,i);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++){var l=t[a];if(l&&l.getAttribute){if(l.player===void 0){var c=l.getAttribute("data-setup");c!==null&&Kg(l)}}else{Xg(1);break}}else Bx||Xg(1)}};function Xg(r,e){!Fo()||(e&&(Kg=e),V.setTimeout(WR,r))}function Jg(){Bx=!0,V.removeEventListener("load",Jg)}Fo()&&(Te.readyState==="complete"?Jg():V.addEventListener("load",Jg));var Ux=function(e){var n=Te.createElement("style");return n.className=e,n},jx=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},GR=3,zR=GR;function Ji(){return zR++}var Hx;V.WeakMap||(Hx=function(){function r(){this.vdata="vdata"+Math.floor(V.performance&&V.performance.now()||Date.now()),this.data={}}var e=r.prototype;return e.set=function(i,t){var a=i[this.vdata]||Ji();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=t,this},e.get=function(i){var t=i[this.vdata];if(t)return this.data[t];ot("We have no data for this element",i)},e.has=function(i){var t=i[this.vdata];return t in this.data},e.delete=function(i){var t=i[this.vdata];t&&(delete this.data[t],delete i[this.vdata])},r}());var $r=V.WeakMap?new WeakMap:new Hx;function yb(r,e){if(!!$r.has(r)){var n=$r.get(r);n.handlers[e].length===0&&(delete n.handlers[e],r.removeEventListener?r.removeEventListener(e,n.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&$r.delete(r)}}function Av(r,e,n,i){n.forEach(function(t){r(e,t,i)})}function Hf(r){if(r.fixed_)return r;function e(){return!0}function n(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var i=r||V.event;r={};for(var t in i)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&t!=="path"&&(t==="returnValue"&&i.preventDefault||(r[t]=i[t]));if(r.target||(r.target=r.srcElement||Te),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){i.preventDefault&&i.preventDefault(),r.returnValue=!1,i.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),r.cancelBubble=!0,i.cancelBubble=!0,r.isPropagationStopped=e},r.isPropagationStopped=n,r.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),r.isImmediatePropagationStopped=e,r.stopPropagation()},r.isImmediatePropagationStopped=n,r.clientX!==null&&r.clientX!==void 0){var a=Te.documentElement,s=Te.body;r.pageX=r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}r.which=r.charCode||r.keyCode,r.button!==null&&r.button!==void 0&&(r.button=r.button&1?0:r.button&4?1:r.button&2?2:0)}return r.fixed_=!0,r}var ed,KR=function(){if(typeof ed!="boolean"){ed=!1;try{var e=Object.defineProperty({},"passive",{get:function(){ed=!0}});V.addEventListener("test",null,e),V.removeEventListener("test",null,e)}catch{}}return ed},XR=["touchstart","touchmove"];function vn(r,e,n){if(Array.isArray(e))return Av(vn,r,e,n);$r.has(r)||$r.set(r,{});var i=$r.get(r);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Ji()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=Hf(a);var l=i.handlers[a.type];if(l)for(var c=l.slice(0),f=0,h=c.length;f<h&&!a.isImmediatePropagationStopped();f++)try{c[f].call(r,a,s)}catch(v){ot.error(v)}}}),i.handlers[e].length===1)if(r.addEventListener){var t=!1;KR()&&XR.indexOf(e)>-1&&(t={passive:!0}),r.addEventListener(e,i.dispatcher,t)}else r.attachEvent&&r.attachEvent("on"+e,i.dispatcher)}function Fr(r,e,n){if(!!$r.has(r)){var i=$r.get(r);if(!!i.handlers){if(Array.isArray(e))return Av(Fr,r,e,n);var t=function(f,h){i.handlers[h]=[],yb(f,h)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&t(r,a);return}var s=i.handlers[e];if(!!s){if(!n){t(r,e);return}if(n.guid)for(var l=0;l<s.length;l++)s[l].guid===n.guid&&s.splice(l--,1);yb(r,e)}}}}function Bo(r,e,n){var i=$r.has(r)?$r.get(r):{},t=r.parentNode||r.ownerDocument;if(typeof e=="string"?e={type:e,target:r}:e.target||(e.target=r),e=Hf(e),i.dispatcher&&i.dispatcher.call(r,e,n),t&&!e.isPropagationStopped()&&e.bubbles===!0)Bo.call(null,t,e,n);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){$r.has(e.target)||$r.set(e.target,{});var a=$r.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function Vf(r,e,n){if(Array.isArray(e))return Av(Vf,r,e,n);var i=function t(){Fr(r,e,t),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ji(),vn(r,e,i)}function Vx(r,e,n){var i=function t(){Fr(r,e,t),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ji(),vn(r,e,i)}var JR=Object.freeze({__proto__:null,fixEvent:Hf,on:vn,off:Fr,trigger:Bo,one:Vf,any:Vx}),Gn=30,Nt=function(e,n,i){n.guid||(n.guid=Ji());var t=n.bind(e);return t.guid=i?i+"_"+n.guid:n.guid,t},Wi=function(e,n){var i=V.performance.now(),t=function(){var s=V.performance.now();s-i>=n&&(e.apply(void 0,arguments),i=s)};return t},YR=function(e,n,i,t){t===void 0&&(t=V);var a,s=function(){t.clearTimeout(a),a=null},l=function(){var f=this,h=arguments,v=function(){a=null,v=null,i||e.apply(f,h)};!a&&i&&e.apply(f,h),t.clearTimeout(a),a=t.setTimeout(v,n)};return l.cancel=s,l},_r=function(){};_r.prototype.allowedEvents_={};_r.prototype.on=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},vn(this,r,e),this.addEventListener=n};_r.prototype.addEventListener=_r.prototype.on;_r.prototype.off=function(r,e){Fr(this,r,e)};_r.prototype.removeEventListener=_r.prototype.off;_r.prototype.one=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},Vf(this,r,e),this.addEventListener=n};_r.prototype.any=function(r,e){var n=this.addEventListener;this.addEventListener=function(){},Vx(this,r,e),this.addEventListener=n};_r.prototype.trigger=function(r){var e=r.type||r;typeof r=="string"&&(r={type:e}),r=Hf(r),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](r),Bo(this,r)};_r.prototype.dispatchEvent=_r.prototype.trigger;var Ru;_r.prototype.queueTrigger=function(r){var e=this;Ru||(Ru=new Map);var n=r.type||r,i=Ru.get(this);i||(i=new Map,Ru.set(this,i));var t=i.get(n);i.delete(n),V.clearTimeout(t);var a=V.setTimeout(function(){i.delete(n),i.size===0&&(i=null,Ru.delete(e)),e.trigger(r)},0);i.set(n,a)};var qf=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Ui=function(e){return e instanceof _r||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},QR=function(e,n){Ui(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},Yg=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},jd=function(e,n,i){if(!e||!e.nodeName&&!Ui(e))throw new Error("Invalid target for "+qf(n)+"#"+i+"; must be a DOM node or evented object.")},qx=function(e,n,i){if(!Yg(e))throw new Error("Invalid event type for "+qf(n)+"#"+i+"; must be a non-empty string or array.")},$x=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+qf(n)+"#"+i+"; must be a function.")},Gp=function(e,n,i){var t=n.length<3||n[0]===e||n[0]===e.eventBusEl_,a,s,l;return t?(a=e.eventBusEl_,n.length>=3&&n.shift(),s=n[0],l=n[1]):(a=n[0],s=n[1],l=n[2]),jd(a,e,i),qx(s,e,i),$x(l,e,i),l=Nt(e,l),{isTargetingSelf:t,target:a,type:s,listener:l}},ns=function(e,n,i,t){jd(e,e,n),e.nodeName?JR[n](e,i,t):e[n](i,t)},ZR={on:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=Gp(this,i,"on"),s=a.isTargetingSelf,l=a.target,c=a.type,f=a.listener;if(ns(l,"on",c,f),!s){var h=function(){return e.off(l,c,f)};h.guid=f.guid;var v=function(){return e.off("dispose",h)};v.guid=f.guid,ns(this,"on","dispose",h),ns(l,"on","dispose",v)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=Gp(this,i,"one"),s=a.isTargetingSelf,l=a.target,c=a.type,f=a.listener;if(s)ns(l,"one",c,f);else{var h=function v(){e.off(l,c,v);for(var y=arguments.length,x=new Array(y),C=0;C<y;C++)x[C]=arguments[C];f.apply(null,x)};h.guid=f.guid,ns(l,"one",c,h)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=Gp(this,i,"any"),s=a.isTargetingSelf,l=a.target,c=a.type,f=a.listener;if(s)ns(l,"any",c,f);else{var h=function v(){e.off(l,c,v);for(var y=arguments.length,x=new Array(y),C=0;C<y;C++)x[C]=arguments[C];f.apply(null,x)};h.guid=f.guid,ns(l,"any",c,h)}},off:function(e,n,i){if(!e||Yg(e))Fr(this.eventBusEl_,e,n);else{var t=e,a=n;jd(t,this,"off"),qx(a,this,"off"),$x(i,this,"off"),i=Nt(this,i),this.off("dispose",i),t.nodeName?(Fr(t,a,i),Fr(t,"dispose",i)):Ui(t)&&(t.off(a,i),t.off("dispose",i))}},trigger:function(e,n){jd(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!Yg(i)){var t="Invalid event type for "+qf(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||ot).error(t);else throw new Error(t)}return Bo(this.eventBusEl_,e,n)}};function Dv(r,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!r[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');r.eventBusEl_=r[i]}else r.eventBusEl_=pt("span",{className:"vjs-event-bus"});return Wt(r,ZR),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(t){t()}),r.on("dispose",function(){r.off(),[r,r.el_,r.eventBusEl_].forEach(function(t){t&&$r.has(t)&&$r.delete(t)}),V.setTimeout(function(){r.eventBusEl_=null},0)}),r}var e3={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return co(e,function(t,a){n.state[a]!==t&&(i=i||{},i[a]={from:n.state[a],to:t}),n.state[a]=t}),i&&Ui(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function Wx(r,e){return Wt(r,e3),r.state=Wt({},r.state,e),typeof r.handleStateChanged=="function"&&Ui(r)&&r.on("statechanged",r.handleStateChanged),r}var _d=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},Xt=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},t3=function(e,n){return Xt(e)===Xt(n)};function Rt(){for(var r={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(t){!t||co(t,function(a,s){if(!bl(a)){r[s]=a;return}bl(r[s])||(r[s]={}),r[s]=Rt(r[s],a)})}),r}var r3=function(){function r(){this.map_={}}var e=r.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var t=this.has(i);return delete this.map_[i],t},e.set=function(i,t){return this.map_[i]=t,this},e.forEach=function(i,t){for(var a in this.map_)i.call(t,this.map_[a],a,this)},r}(),n3=V.Map?V.Map:r3,i3=function(){function r(){this.set_={}}var e=r.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var t=this.has(i);return delete this.set_[i],t},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,t){for(var a in this.set_)i.call(t,a,a,this)},r}(),zp=V.Set?V.Set:i3,fe=function(){function r(n,i,t){var a=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Rt({},this.options_),i=this.options_=Rt(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=n&&n.id&&n.id()||"no_player";this.id_=s+"_component_"+Ji()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(l){return a.addClass(l)}),i.evented!==!1&&(Dv(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Wx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new zp,this.setIntervalIds_=new zp,this.rafIds_=new zp,this.namedRafs_=new n3,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(t),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=r.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Rt(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,t,a){return pt(i,t,a)},e.localize=function(i,t,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),l=this.player_.languages&&this.player_.languages(),c=l&&l[s],f=s&&s.split("-")[0],h=l&&l[f],v=a;return c&&c[i]?v=c[i]:h&&h[i]&&(v=h[i]),t&&(v=v.replace(/\{(\d+)\}/g,function(y,x){var C=t[x-1],k=C;return typeof C>"u"&&(k=y),k})),v},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];t=t.reduce(function(c,f){return c.concat(f)},[]);for(var s=this,l=0;l<t.length;l++)if(s=s.getChild(t[l]),!s||!s.getChild)return;return s},e.addChild=function(i,t,a){t===void 0&&(t={}),a===void 0&&(a=this.children_.length);var s,l;if(typeof i=="string"){l=Xt(i);var c=t.componentClass||l;t.name=l;var f=r.getComponent(c);if(!f)throw new Error("Component "+c+" does not exist");if(typeof f!="function")return null;s=new f(this.player_||this,t)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),l=l||s.name&&Xt(s.name()),l&&(this.childNameIndex_[l]=s,this.childNameIndex_[_d(l)]=s),typeof s.el=="function"&&s.el()){var h=null;this.children_[a+1]&&(this.children_[a+1].el_?h=this.children_[a+1].el_:Mo(this.children_[a+1])&&(h=this.children_[a+1])),this.contentEl().insertBefore(s.el(),h)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var t=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){t=!0,this.children_.splice(a,1);break}if(!!t){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[Xt(i.name())]=null,this.childNameIndex_[_d(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,t=this.options_.children;if(t){var a=this.options_,s=function(h){var v=h.name,y=h.opts;if(a[v]!==void 0&&(y=a[v]),y!==!1){y===!0&&(y={}),y.playerOptions=i.options_.playerOptions;var x=i.addChild(v,y);x&&(i[v]=x)}},l,c=r.getComponent("Tech");Array.isArray(t)?l=t:l=Object.keys(t),l.concat(Object.keys(this.options_).filter(function(f){return!l.some(function(h){return typeof h=="string"?f===h:f===h.name})})).map(function(f){var h,v;return typeof f=="string"?(h=f,v=t[h]||i.options_[h]||{}):(h=f.name,v=f),{name:h,opts:v}}).filter(function(f){var h=r.getComponent(f.opts.componentClass||Xt(f.name));return h&&!c.isTech(h)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,t){if(t===void 0&&(t=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}t?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(i,t){return Pa(i,t||this.contentEl())},e.$$=function(i,t){return Fx(i,t||this.contentEl())},e.hasClass=function(i){return hs(this.el_,i)},e.addClass=function(i){Bi(this.el_,i)},e.removeClass=function(i){Bl(this.el_,i)},e.toggleClass=function(i,t){Dx(this.el_,i,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return Px(this.el_,i)},e.setAttribute=function(i,t){Ao(this.el_,i,t)},e.removeAttribute=function(i){Uf(this.el_,i)},e.width=function(i,t){return this.dimension("width",i,t)},e.height=function(i,t){return this.dimension("height",i,t)},e.dimensions=function(i,t){this.width(i,!0),this.height(t)},e.dimension=function(i,t,a){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[i]=t:t==="auto"?this.el_.style[i]="":this.el_.style[i]=t+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],l=s.indexOf("px");return parseInt(l!==-1?s.slice(0,l):this.el_["offset"+Xt(i)],10)},e.currentDimension=function(i){var t=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(t=Tl(this.el_,i),t=parseFloat(t),t===0||isNaN(t)){var a="offset"+Xt(i);t=this.el_[a]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(tt.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,t=null,a=10,s=200,l;this.on("touchstart",function(f){f.touches.length===1&&(t={pageX:f.touches[0].pageX,pageY:f.touches[0].pageY},i=V.performance.now(),l=!0)}),this.on("touchmove",function(f){if(f.touches.length>1)l=!1;else if(t){var h=f.touches[0].pageX-t.pageX,v=f.touches[0].pageY-t.pageY,y=Math.sqrt(h*h+v*v);y>a&&(l=!1)}});var c=function(){l=!1};this.on("touchleave",c),this.on("touchcancel",c),this.on("touchend",function(f){if(t=null,l===!0){var h=V.performance.now()-i;h<s&&(f.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=Nt(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var a=function(l){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,t){var a=this,s;return i=Nt(this,i),this.clearTimersOnDispose_(),s=V.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),V.clearTimeout(i)),i},e.setInterval=function(i,t){i=Nt(this,i),this.clearTimersOnDispose_();var a=V.setInterval(i,t);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),V.clearInterval(i)),i},e.requestAnimationFrame=function(i){var t=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=Nt(this,i),a=V.requestAnimationFrame(function(){t.rafIds_.has(a)&&t.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,t){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),t=Nt(this,t);var s=this.requestAnimationFrame(function(){t(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),V.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var a=t[0],s=t[1];i[a].forEach(function(l,c){return i[s](c)})}),i.clearingTimersOnDispose_=!1}))},r.registerComponent=function(i,t){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=r.getComponent("Tech"),s=a&&a.isTech(t),l=r===t||r.prototype.isPrototypeOf(t.prototype);if(s||!l){var c;throw s?c="techs must be registered using Tech.registerTech()":c="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+c+".")}i=Xt(i),r.components_||(r.components_={});var f=r.getComponent("Player");if(i==="Player"&&f&&f.players){var h=f.players,v=Object.keys(h);if(h&&v.length>0&&v.map(function(y){return h[y]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[i]=t,r.components_[_d(i)]=t,t},r.getComponent=function(i){if(!(!i||!r.components_))return r.components_[i]},r}();fe.prototype.supportsRaf_=typeof V.requestAnimationFrame=="function"&&typeof V.cancelAnimationFrame=="function";fe.registerComponent("Component",fe);function a3(r,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function bb(r,e,n,i){return a3(r,i,n.length-1),n[i][e]}function Kp(r){var e;return r===void 0||r.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:r.length,start:bb.bind(null,"start",0,r),end:bb.bind(null,"end",1,r)},V.Symbol&&V.Symbol.iterator&&(e[V.Symbol.iterator]=function(){return(r||[]).values()}),e}function ps(r,e){return Array.isArray(r)?Kp(r):r===void 0||e===void 0?Kp():Kp([[r,e]])}function Gx(r,e){var n=0,i,t;if(!e)return 0;(!r||!r.length)&&(r=ps(0,0));for(var a=0;a<r.length;a++)i=r.start(a),t=r.end(a),t>e&&(t=e),n+=t-i;return n/e}function Wr(r){if(r instanceof Wr)return r;typeof r=="number"?this.code=r:typeof r=="string"?this.message=r:$i(r)&&(typeof r.code=="number"&&(this.code=r.code),Wt(this,r)),this.message||(this.message=Wr.defaultMessages[this.code]||"")}Wr.prototype.code=0;Wr.prototype.message="";Wr.prototype.status=null;Wr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Wr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ys=0;Ys<Wr.errorTypes.length;Ys++)Wr[Wr.errorTypes[Ys]]=Ys,Wr.prototype[Wr.errorTypes[Ys]]=Ys;function el(r){return r!=null&&typeof r.then=="function"}function li(r){el(r)&&r.then(null,function(e){})}var Qg=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,t,a){return e[t]&&(i[t]=e[t]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},s3=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(a){return a.track}),t=Array.prototype.map.call(n,function(a){var s=Qg(a.track);return a.src&&(s.src=a.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(Qg))},o3=function(e,n){return e.forEach(function(i){var t=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return t.addCue(a)})}),n.textTracks()},Tb={textTracksToJson:s3,jsonToTextTracks:o3,trackToJson_:Qg},Xp="vjs-modal-dialog",Uo=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=pt("div",{className:Xp+"-content"},{role:"document"}),a.descEl_=pt("p",{className:Xp+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),bs(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},n.buildCSSClass=function(){return Xp+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},n.close=function(){if(!!this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if(typeof t=="boolean"){var a=this.closeable_=!!t,s=this.getChild("closeButton");if(a&&!s){var l=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=l,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var a=this.contentEl(),s=a.parentNode,l=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),Nx(a,t),this.trigger("modalfill"),l?s.insertBefore(a,l):s.appendChild(a);var c=this.getChild("closeButton");c&&s.appendChild(c.el_)},n.empty=function(){this.trigger("beforemodalempty"),wv(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return typeof t<"u"&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=Te.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(t)||a===t)&&(this.previouslyActiveEl_=t,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(t){if(t.stopPropagation(),tt.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(!!tt.isEventKey(t,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),l,c=0;c<a.length;c++)if(s===a[c]){l=c;break}Te.activeElement===this.el_&&(l=0),t.shiftKey&&l===0?(a[a.length-1].focus(),t.preventDefault()):!t.shiftKey&&l===a.length-1&&(a[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(a){return(a instanceof V.HTMLAnchorElement||a instanceof V.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof V.HTMLInputElement||a instanceof V.HTMLSelectElement||a instanceof V.HTMLTextAreaElement||a instanceof V.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof V.HTMLIFrameElement||a instanceof V.HTMLObjectElement||a instanceof V.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(fe);Uo.prototype.options_={pauseOnOpen:!0,temporary:!0};fe.registerComponent("ModalDialog",Uo);var ko=function(r){Ee(e,r);function e(i){var t;i===void 0&&(i=[]),t=r.call(this)||this,t.tracks_=[],Object.defineProperty(Ye(t),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)t.addTrack(i[a]);return t}var n=e.prototype;return n.addTrack=function(t){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){a.trigger({track:t,type:"labelchange",target:a})},Ui(t)&&t.addEventListener("labelchange",t.labelchange_)},n.removeTrack=function(t){for(var a,s=0,l=this.length;s<l;s++)if(this[s]===t){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(t){for(var a=null,s=0,l=this.length;s<l;s++){var c=this[s];if(c.id===t){a=c;break}}return a},e}(_r);ko.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var u3 in ko.prototype.allowedEvents_)ko.prototype["on"+u3]=null;var Jp=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},l3=function(r){Ee(e,r);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){Jp(i,i[a]);break}return t=r.call(this,i)||this,t.changing_=!1,t}var n=e.prototype;return n.addTrack=function(t){var a=this;t.enabled&&Jp(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){a.changing_||(a.changing_=!0,Jp(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(ko),Yp=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},c3=function(r){Ee(e,r);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){Yp(i,i[a]);break}return t=r.call(this,i)||this,t.changing_=!1,Object.defineProperty(Ye(t),"selectedIndex",{get:function(){for(var l=0;l<this.length;l++)if(this[l].selected)return l;return-1},set:function(){}}),t}var n=e.prototype;return n.addTrack=function(t){var a=this;t.selected&&Yp(this,t),r.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){a.changing_||(a.changing_=!0,Yp(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(ko),zx=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(t){var a=this;r.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){r.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(ko),d3=function(){function r(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,t=n.length;i<t;i++)this.addTrackElement_(n[i])}var e=r.prototype;return e.addTrackElement_=function(i){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var t,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){t=this.trackElements_[a];break}return t},e.removeTrackElement_=function(i){for(var t=0,a=this.trackElements_.length;t<a;t++)if(i===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},r}(),Sb=function(){function r(n){r.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=r.prototype;return e.setCues_=function(i){var t=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var l=function(f){""+f in this||Object.defineProperty(this,""+f,{get:function(){return this.cues_[f]}})};if(t<s)for(a=t;a<s;a++)l.call(this,a)},e.getCueById=function(i){for(var t=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===i){t=l;break}}return t},r}(),f3={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},h3={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},p3={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},xb={disabled:"disabled",hidden:"hidden",showing:"showing"},kv=function(r){Ee(e,r);function e(n){var i;n===void 0&&(n={}),i=r.call(this)||this;var t={id:n.id||"vjs_track_"+Ji(),kind:n.kind||"",language:n.language||""},a=n.label||"",s=function(f){Object.defineProperty(Ye(i),f,{get:function(){return t[f]},set:function(){}})};for(var l in t)s(l);return Object.defineProperty(Ye(i),"label",{get:function(){return a},set:function(f){f!==a&&(a=f,this.trigger("labelchange"))}}),i}return e}(_r),Pv=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=Te.createElement("a");i.href=e;for(var t={},a=0;a<n.length;a++)t[n[a]]=i[n[a]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=V.location.protocol),t.host||(t.host=V.location.host),t},Kx=function(e){if(!e.match(/^https?:\/\//)){var n=Te.createElement("a");n.href=e,e=n.href}return e},Iv=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},$f=function(e,n){n===void 0&&(n=V.location);var i=Pv(e),t=i.protocol===":"?n.protocol:i.protocol,a=t+i.host!==n.protocol+n.host;return a},g3=Object.freeze({__proto__:null,parseUrl:Pv,getAbsoluteURL:Kx,getFileExtension:Iv,isCrossOrigin:$f}),Eb=function(e,n){var i=new V.WebVTT.Parser(V,V.vttjs,V.WebVTT.StringDecoder()),t=[];i.oncue=function(a){n.addCue(a)},i.onparsingerror=function(a){t.push(a)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),t.length>0&&(V.console&&V.console.groupCollapsed&&V.console.groupCollapsed("Text Track parsing errors for "+n.src),t.forEach(function(a){return ot.error(a)}),V.console&&V.console.groupEnd&&V.console.groupEnd()),i.flush()},wb=function(e,n){var i={uri:e},t=$f(e);t&&(i.cors=t);var a=n.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),Df.exports(i,Nt(this,function(s,l,c){if(s)return ot.error(s,l);n.loaded_=!0,typeof V.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(f){if(f.type==="vttjserror"){ot.error("vttjs failed to load, stopping trying to process "+n.src);return}return Eb(c,n)}):Eb(c,n)}))},Ul=function(r){Ee(e,r);function e(i){var t;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Rt(i,{kind:p3[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=xb[a.mode]||"disabled",l=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),t=r.call(this,a)||this,t.tech_=a.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var c=new Sb(t.cues_),f=new Sb(t.activeCues_),h=!1;t.timeupdateHandler=Nt(Ye(t),function(y){if(y===void 0&&(y={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){y.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1),y.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var v=function(){t.stopTracking()};return t.tech_.one("dispose",v),s!=="disabled"&&t.startTracking(),Object.defineProperties(Ye(t),{default:{get:function(){return l},set:function(){}},mode:{get:function(){return s},set:function(x){!xb[x]||s!==x&&(s=x,!this.preload_&&s!=="disabled"&&this.cues.length===0&&wb(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?c:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return f;for(var x=this.tech_.currentTime(),C=[],k=0,P=this.cues.length;k<P;k++){var R=this.cues[k];(R.startTime<=x&&R.endTime>=x||R.startTime===R.endTime&&R.startTime<=x&&R.startTime+.5>=x)&&C.push(R)}if(h=!1,C.length!==this.activeCues_.length)h=!0;else for(var F=0;F<C.length;F++)this.activeCues_.indexOf(C[F])===-1&&(h=!0);return this.activeCues_=C,f.setCues_(this.activeCues_),f},set:function(){}}}),a.src?(t.src=a.src,t.preload_||(t.loaded_=!0),(t.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&wb(t.src,Ye(t))):t.loaded_=!0,t}var n=e.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(t){var a=t;if(a.constructor&&a.constructor.name!=="VTTCue"){a=new V.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in a||(a[s]=t[s]);a.id=t.id,a.originalCue_=t}for(var l=this.tech_.textTracks(),c=0;c<l.length;c++)l[c]!==this&&l[c].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(kv);Ul.prototype.allowedEvents_={cuechange:"cuechange"};var Xx=function(r){Ee(e,r);function e(n){var i;n===void 0&&(n={});var t=Rt(n,{kind:h3[n.kind]||""});i=r.call(this,t)||this;var a=!1;return Object.defineProperty(Ye(i),"enabled",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("enabledchange"))}}),t.enabled&&(i.enabled=t.enabled),i.loaded_=!0,i}return e}(kv),Jx=function(r){Ee(e,r);function e(n){var i;n===void 0&&(n={});var t=Rt(n,{kind:f3[n.kind]||""});i=r.call(this,t)||this;var a=!1;return Object.defineProperty(Ye(i),"selected",{get:function(){return a},set:function(l){typeof l!="boolean"||l===a||(a=l,this.trigger("selectedchange"))}}),t.selected&&(i.selected=t.selected),i}return e}(kv),Yx=0,m3=1,Qx=2,v3=3,jo=function(r){Ee(e,r);function e(n){var i;n===void 0&&(n={}),i=r.call(this)||this;var t,a=new Ul(n);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(Ye(i),{readyState:{get:function(){return t}},track:{get:function(){return a}}}),t=Yx,a.addEventListener("loadeddata",function(){t=Qx,i.trigger({type:"load",target:Ye(i)})}),i}return e}(_r);jo.prototype.allowedEvents_={load:"load"};jo.NONE=Yx;jo.LOADING=m3;jo.LOADED=Qx;jo.ERROR=v3;var In={audio:{ListClass:l3,TrackClass:Xx,capitalName:"Audio"},video:{ListClass:c3,TrackClass:Jx,capitalName:"Video"},text:{ListClass:zx,TrackClass:Ul,capitalName:"Text"}};Object.keys(In).forEach(function(r){In[r].getterName=r+"Tracks",In[r].privateName=r+"Tracks_"});var Po={remoteText:{ListClass:zx,TrackClass:Ul,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:d3,TrackClass:jo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},jr=On({},In,Po);Po.names=Object.keys(Po);In.names=Object.keys(In);jr.names=[].concat(Po.names).concat(In.names);function _3(r,e,n,i,t){t===void 0&&(t={});var a=r.textTracks();t.kind=e,n&&(t.label=n),i&&(t.language=i),t.tech=r;var s=new jr.text.TrackClass(t);return a.addTrack(s),s}var kt=function(r){Ee(e,r);function e(i,t){var a;return i===void 0&&(i={}),t===void 0&&(t=function(){}),i.reportTouchActivity=!1,a=r.call(this,null,i,t)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),jr.names.forEach(function(s){var l=jr[s];i&&i[l.getterName]&&(a[l.privateName]=i[l.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new jr.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=e.prototype;return n.triggerSourceset=function(t){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Nt(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return ps(0,0)},n.bufferedPercent=function(){return Gx(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(In.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},n.clearTracks=function(t){var a=this;t=[].concat(t),t.forEach(function(s){for(var l=a[s+"Tracks"]()||[],c=l.length;c--;){var f=l[c];s==="text"&&a.removeRemoteTextTrack(f),l.removeTrack(f)}})},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],a=t.length;a--;){var s=t[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(t){return t!==void 0&&(this.error_=new Wr(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?ps(0,0):ps()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;In.names.forEach(function(a){var s=In[a],l=function(){t.trigger(a+"trackchange")},c=t[s.getterName]();c.addEventListener("removetrack",l),c.addEventListener("addtrack",l),t.on("dispose",function(){c.removeEventListener("removetrack",l),c.removeEventListener("addtrack",l)})})},n.addWebVttScript_=function(){var t=this;if(!V.WebVTT)if(Te.body.contains(this.el())){if(!this.options_["vtt.js"]&&bl(Mg.exports)&&Object.keys(Mg.exports).length>0){this.trigger("vttjsloaded");return}var a=Te.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){t.trigger("vttjsloaded")},a.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),V.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,a=this.textTracks(),s=this.remoteTextTracks(),l=function(y){return a.addTrack(y.track)},c=function(y){return a.removeTrack(y.track)};s.on("addtrack",l),s.on("removetrack",c),this.addWebVttScript_();var f=function(){return t.trigger("texttrackchange")},h=function(){f();for(var y=0;y<a.length;y++){var x=a[y];x.removeEventListener("cuechange",f),x.mode==="showing"&&x.addEventListener("cuechange",f)}};h(),a.addEventListener("change",h),a.addEventListener("addtrack",h),a.addEventListener("removetrack",h),this.on("dispose",function(){s.off("addtrack",l),s.off("removetrack",c),a.removeEventListener("change",h),a.removeEventListener("addtrack",h),a.removeEventListener("removetrack",h);for(var v=0;v<a.length;v++){var y=a[v];y.removeEventListener("cuechange",f)}})},n.addTextTrack=function(t,a,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return _3(this,t,a,s)},n.createRemoteTextTrack=function(t){var a=Rt(t,{tech:this});return new Po.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(t,a){var s=this;t===void 0&&(t={});var l=this.createRemoteTextTrack(t);return a!==!0&&a!==!1&&(ot.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(l.track)}),l},n.removeRemoteTextTrack=function(t){var a=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var t=this.options_.Promise||V.Promise;if(t)return t.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(t){var a=this,s=Ji();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),t())})):this.requestNamedAnimationFrame(s,t),s},n.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,a){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Xt(t),e.techs_[t]=a,e.techs_[_d(t)]=a,t!=="Tech"&&e.defaultTechOrder_.push(t),a},e.getTech=function(t){if(!!t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=Xt(t),V&&V.videojs&&V.videojs[t])return ot.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),V.videojs[t]}},e}(fe);jr.names.forEach(function(r){var e=jr[r];kt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});kt.prototype.featuresVolumeControl=!0;kt.prototype.featuresMuteControl=!0;kt.prototype.featuresFullscreenResize=!1;kt.prototype.featuresPlaybackRate=!1;kt.prototype.featuresProgressEvents=!1;kt.prototype.featuresSourceset=!1;kt.prototype.featuresTimeupdateEvents=!1;kt.prototype.featuresNativeTextTracks=!1;kt.prototype.featuresVideoFrameCallback=!1;kt.withSourceHandlers=function(r){r.registerSourceHandler=function(n,i){var t=r.sourceHandlers;t||(t=r.sourceHandlers=[]),i===void 0&&(i=t.length),t.splice(i,0,n)},r.canPlayType=function(n){for(var i=r.sourceHandlers||[],t,a=0;a<i.length;a++)if(t=i[a].canPlayType(n),t)return t;return""},r.selectSourceHandler=function(n,i){for(var t=r.sourceHandlers||[],a,s=0;s<t.length;s++)if(a=t[s].canHandleSource(n,i),a)return t[s];return null},r.canPlaySource=function(n,i){var t=r.selectSourceHandler(n,i);return t?t.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(n){var i=r.selectSourceHandler(n,this.options_);i||(r.nativeSourceHandler?i=r.nativeSourceHandler:ot.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==r.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};fe.registerComponent("Tech",kt);kt.registerTech("Tech",kt);kt.defaultTechOrder_=[];var gs={},Zg={},Hd={};function y3(r,e){gs[r]=gs[r]||[],gs[r].push(e)}function b3(r,e,n){r.setTimeout(function(){return is(e,gs[e.type],n,r)},1)}function T3(r,e){r.forEach(function(n){return n.setTech&&n.setTech(e)})}function S3(r,e,n){return r.reduceRight(Ov(n),e[n]())}function x3(r,e,n,i){return e[n](r.reduce(Ov(n),i))}function Cb(r,e,n,i){i===void 0&&(i=null);var t="call"+Xt(n),a=r.reduce(Ov(t),i),s=a===Hd,l=s?null:e[n](a);return C3(r,n,l,s),l}var E3={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},w3={setCurrentTime:1,setMuted:1,setVolume:1},Ab={play:1,pause:1};function Ov(r){return function(e,n){return e===Hd?Hd:n[r]?n[r](e):e}}function C3(r,e,n,i){for(var t=r.length-1;t>=0;t--){var a=r[t];a[e]&&a[e](i,n)}}function A3(r){Zg[r.id()]=null}function D3(r,e){var n=Zg[r.id()],i=null;if(n==null)return i=e(r),Zg[r.id()]=[[e,i]],i;for(var t=0;t<n.length;t++){var a=n[t],s=a[0],l=a[1];s===e&&(i=l)}return i===null&&(i=e(r),n.push([e,i])),i}function is(r,e,n,i,t,a){r===void 0&&(r={}),e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a=!1);var s=e,l=s[0],c=s.slice(1);if(typeof l=="string")is(r,gs[l],n,i,t,a);else if(l){var f=D3(i,l);if(!f.setSource)return t.push(f),is(r,c,n,i,t,a);f.setSource(Wt({},r),function(h,v){if(h)return is(r,c,n,i,t,a);t.push(f),is(v,r.type===v.type?c:gs[v.type],n,i,t,a)})}else c.length?is(r,c,n,i,t,a):a?n(r,t):is(r,gs["*"],n,i,t,!0)}var k3={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Vd=function(e){e===void 0&&(e="");var n=Iv(e),i=k3[n.toLowerCase()];return i||""},P3=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(l){return l.src===n});if(i.length)return i[0].type;for(var t=e.$$("source"),a=0;a<t.length;a++){var s=t[a];if(s.type&&s.src&&s.src===n)return s.type}return Vd(n)},I3=function r(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=r(i),Array.isArray(i)?n=n.concat(i):$i(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[Db({src:e})]:$i(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Db(e)]:e=[];return e};function Db(r){if(!r.type){var e=Vd(r.src);e&&(r.type=e)}return r}var O3=function(r){Ee(e,r);function e(n,i,t){var a,s=Rt({createEl:!1},i);if(a=r.call(this,n,s,t)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var l=0,c=i.playerOptions.techOrder;l<c.length;l++){var f=Xt(c[l]),h=kt.getTech(f);if(f||(h=fe.getComponent(f)),h&&h.isSupported()){n.loadTech_(f);break}}else n.src(i.playerOptions.sources);return a}return e}(fe);fe.registerComponent("MediaLoader",O3);var Wf=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var n=e.prototype;return n.createEl=function(t,a,s){t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Wt({className:this.buildCSSClass(),tabIndex:0},a),t==="button"&&ot.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=Wt({role:"button"},s),this.tabIndex_=a.tabIndex;var l=pt(t,a,s);return l.appendChild(pt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},n.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=pt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,a){if(a===void 0&&(a=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,bs(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){tt.isEventKey(t,"Space")||tt.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}(fe);fe.registerComponent("ClickableComponent",Wf);var L3=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},n.createEl=function(){var t=pt("div",{className:"vjs-poster",tabIndex:-1});return t},n.update=function(t){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(t){var a="";t&&(a='url("'+t+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(t){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Ml||Fl)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?li(this.player_.play()):this.player_.pause()}},e}(Wf);fe.registerComponent("PosterImage",L3);var An="#222",kb="#ccc",R3={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Qp(r,e){var n;if(r.length===4)n=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else if(r.length===7)n=r.slice(1);else throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Zp(r,e,n){try{r.style[e]=n}catch{return}}var N3=function(r){Ee(e,r);function e(i,t,a){var s;s=r.call(this,i,t,a)||this;var l=function(f){return s.updateDisplay(f)};return i.on("loadstart",function(c){return s.toggleDisplay(c)}),i.on("texttrackchange",l),i.on("loadedmetadata",function(c){return s.preselectTrack(c)}),i.ready(Nt(Ye(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",l),i.on("playerresize",l),V.addEventListener("orientationchange",l),i.on("dispose",function(){return V.removeEventListener("orientationchange",l)});for(var c=this.options_.playerOptions.tracks||[],f=0;f<c.length;f++)this.player_.addRemoteTextTrack(c[f],!0);this.preselectTrack()})),s}var n=e.prototype;return n.preselectTrack=function(){for(var t={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,l,c,f,h=0;h<a.length;h++){var v=a[h];s&&s.enabled&&s.language&&s.language===v.language&&v.kind in t?v.kind===s.kind?f=v:f||(f=v):s&&!s.enabled?(f=null,l=null,c=null):v.default&&(v.kind==="descriptions"&&!l?l=v:v.kind in t&&!c&&(c=v))}f?f.mode="showing":c?c.mode="showing":l&&(l.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof V.WebVTT=="function"&&V.WebVTT.processCues(V,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],l=0;l<t.length;++l){var c=t[l];c.mode==="showing"&&s.push(c)}this.updateForTrack(s);return}for(var f=null,h=null,v=t.length;v--;){var y=t[v];y.mode==="showing"&&(y.kind==="descriptions"?f=y:h=y)}h?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(h)):f&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))},n.updateDisplayState=function(t){for(var a=this.player_.textTrackSettings.getValues(),s=t.activeCues,l=s.length;l--;){var c=s[l];if(!!c){var f=c.displayState;if(a.color&&(f.firstChild.style.color=a.color),a.textOpacity&&Zp(f.firstChild,"color",Qp(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(f.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Zp(f.firstChild,"backgroundColor",Qp(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Zp(f,"backgroundColor",Qp(a.windowColor,a.windowOpacity)):f.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?f.firstChild.style.textShadow="2px 2px 3px "+An+", 2px 2px 4px "+An+", 2px 2px 5px "+An:a.edgeStyle==="raised"?f.firstChild.style.textShadow="1px 1px "+An+", 2px 2px "+An+", 3px 3px "+An:a.edgeStyle==="depressed"?f.firstChild.style.textShadow="1px 1px "+kb+", 0 1px "+kb+", -1px -1px "+An+", 0 -1px "+An:a.edgeStyle==="uniform"&&(f.firstChild.style.textShadow="0 0 4px "+An+", 0 0 4px "+An+", 0 0 4px "+An+", 0 0 4px "+An)),a.fontPercent&&a.fontPercent!==1){var h=V.parseFloat(f.style.fontSize);f.style.fontSize=h*a.fontPercent+"px",f.style.height="auto",f.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?f.firstChild.style.fontVariant="small-caps":f.firstChild.style.fontFamily=R3[a.fontFamily])}}},n.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof V.WebVTT!="function"||t.every(function(x){return!x.activeCues}))){for(var a=[],s=0;s<t.length;++s)for(var l=t[s],c=0;c<l.activeCues.length;++c)a.push(l.activeCues[c]);V.WebVTT.processCues(V,a,this.el_);for(var f=0;f<t.length;++f){for(var h=t[f],v=0;v<h.activeCues.length;++v){var y=h.activeCues[v].displayState;Bi(y,"vjs-text-track-cue"),Bi(y,"vjs-text-track-cue-"+(h.language?h.language:f)),h.language&&Ao(y,"lang",h.language)}this.player_.textTrackSettings&&this.updateDisplayState(h)}}},e}(fe);fe.registerComponent("TextTrackDisplay",N3);var F3=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=this.player_.isAudio(),a=this.localize(t?"Audio Player":"Video Player"),s=pt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),l=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return l.appendChild(s),l},e}(fe);fe.registerComponent("LoadingSpinner",F3);var $n=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(t,a,s){a===void 0&&(a={}),s===void 0&&(s={}),t="button",a=Wt({className:this.buildCSSClass()},a),s=Wt({type:"button"},s);var l=pt(t,a,s);return l.appendChild(pt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(l),l},n.addChild=function(t,a){a===void 0&&(a={});var s=this.constructor.name;return ot.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),fe.prototype.addChild.call(this,t,a)},n.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){if(tt.isEventKey(t,"Space")||tt.isEventKey(t,"Enter")){t.stopPropagation();return}r.prototype.handleKeyDown.call(this,t)},e}(Wf);fe.registerComponent("Button",$n);var Zx=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var a=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;li(a),this.player_.tech(!0)&&!((Ml||Fl)&&s)&&this.player_.tech(!0).focus();return}var l=this.player_.getChild("controlBar"),c=l&&l.getChild("playToggle");if(!c){this.player_.tech(!0).focus();return}var f=function(){return c.focus()};el(a)?a.then(f,function(){}):this.setTimeout(f,1)},n.handleKeyDown=function(t){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(t){this.mouseused_=!0},e}($n);Zx.prototype.controlText_="Play Video";fe.registerComponent("BigPlayButton",Zx);var M3=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.controlText(t&&t.controlText||a.localize("Close")),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){tt.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,t)},e}($n);fe.registerComponent("CloseButton",M3);var e1=function(r){Ee(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,t.replay=t.replay===void 0||t.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),t.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?li(this.player_.play()):this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}($n);e1.prototype.controlText_="Play";fe.registerComponent("PlayToggle",e1);var t1=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),t=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(n/60%60),l=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(a=t=i="-"),a=a>0||l>0?a+":":"",t=((a||s>=10)&&t<10?"0"+t:t)+":",i=i<10?"0"+i:i,a+t+i},Lv=t1;function B3(r){Lv=r}function U3(){Lv=t1}function Io(r,e){return e===void 0&&(e=r),Lv(r,e)}var Ho=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var n=e.prototype;return n.createEl=function(){var t=this.buildCSSClass(),a=r.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=pt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=pt("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},n.updateTextNode_=function(t){var a=this;t===void 0&&(t=0),t=Io(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,ot.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=Te.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},n.updateContent=function(t){},e}(fe);Ho.prototype.labelText_="Time";Ho.prototype.controlText_="Time";fe.registerComponent("TimeDisplay",Ho);var Rv=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(Ho);Rv.prototype.labelText_="Current Time";Rv.prototype.controlText_="Current Time";fe.registerComponent("CurrentTimeDisplay",Rv);var Nv=function(r){Ee(e,r);function e(i,t){var a;a=r.call(this,i,t)||this;var s=function(c){return a.updateContent(c)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var a=this.player_.duration();this.updateTextNode_(a)},e}(Ho);Nv.prototype.labelText_="Duration";Nv.prototype.controlText_="Duration";fe.registerComponent("DurationDisplay",Nv);var j3=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=r.prototype.createEl.call(this,"div"),s=r.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),t.appendChild(a),t},e}(fe);fe.registerComponent("TimeDivider",j3);var Fv=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=r.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&t.insertBefore(pt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(t){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(Ho);Fv.prototype.labelText_="Remaining Time";Fv.prototype.controlText_="Remaining Time";fe.registerComponent("RemainingTimeDisplay",Fv);var H3=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=pt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(pt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(Te.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(fe);fe.registerComponent("LiveDisplay",H3);var r1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=pt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},e}($n);r1.prototype.controlText_="Seek to live, currently playing live";fe.registerComponent("SeekToLive",r1);var Gf=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},Mv=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(!!this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Wt({tabIndex:0},a),s=Wt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),r.prototype.createEl.call(this,t,a,s)},n.handleMouseDown=function(t){var a=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!Xi&&t.preventDefault(),Ix(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;Ox(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var t=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},n.getProgress=function(){return Number(Gf(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var a=jf(this.el_,t);return this.vertical()?a.y:a.x},n.handleKeyDown=function(t){tt.isEventKey(t,"Left")||tt.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):tt.isEventKey(t,"Right")||tt.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,t)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(fe);fe.registerComponent("Slider",Mv);var eg=function(e,n){return Gf(e/n*100,0,100).toFixed(2)+"%"},V3=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=pt("span",{className:"vjs-control-text"}),s=pt("span",{textContent:this.localize("Loaded")}),l=Te.createTextNode(": ");return this.percentageEl_=pt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(a),a.appendChild(s),a.appendChild(l),a.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},n.update=function(t){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,l=a.player_.buffered(),c=s&&s.isLive()?s.seekableEnd():a.player_.duration(),f=a.player_.bufferedEnd(),h=a.partEls_,v=eg(f,c);a.percent_!==v&&(a.el_.style.width=v,bs(a.percentageEl_,v),a.percent_=v);for(var y=0;y<l.length;y++){var x=l.start(y),C=l.end(y),k=h[y];k||(k=a.el_.appendChild(pt()),h[y]=k),!(k.dataset.start===x&&k.dataset.end===C)&&(k.dataset.start=x,k.dataset.end=C,k.style.left=eg(x,f),k.style.width=eg(C-x,f))}for(var P=h.length;P>l.length;P--)a.el_.removeChild(h[P-1]);h.length=l.length})},e}(fe);fe.registerComponent("LoadProgressBar",V3);var q3=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Wi(Nt(Ye(a),a.update),Gn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,a,s){var l=Sl(this.el_),c=Do(this.player_.el()),f=t.width*a;if(!(!c||!l)){var h=t.left-c.left+f,v=t.width-f+(c.right-t.right),y=l.width/2;h<y?y+=y-h:v<y&&(y=v),y<0?y=0:y>l.width&&(y=l.width),y=Math.round(y),this.el_.style.right="-"+y+"px",this.write(s)}},n.write=function(t){bs(this.el_,t)},n.updateTime=function(t,a,s,l){var c=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var f,h=c.player_.duration();if(c.player_.liveTracker&&c.player_.liveTracker.isLive()){var v=c.player_.liveTracker.liveWindow(),y=v-a*v;f=(y<1?"":"-")+Io(y,v)}else f=Io(s,h);c.update(t,a,f),l&&l()})},e}(fe);fe.registerComponent("TimeTooltip",q3);var Bv=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Wi(Nt(Ye(a),a.update),Gn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,a){var s=this.getChild("timeTooltip");if(!!s){var l=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,a,l)}},e}(fe);Bv.prototype.options_={children:[]};!Gr&&!Ki&&Bv.prototype.options_.children.push("timeTooltip");fe.registerComponent("PlayProgressBar",Bv);var n1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Wi(Nt(Ye(a),a.update),Gn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,a){var s=this,l=a*this.player_.duration();this.getChild("timeTooltip").updateTime(t,a,l,function(){s.el_.style.left=t.width*a+"px"})},e}(fe);n1.prototype.options_={children:["timeTooltip"]};fe.registerComponent("MouseTimeDisplay",n1);var td=5,Pb=12,Uv=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.setEventHandlers_(),a}var n=e.prototype;return n.setEventHandlers_=function(){var t=this;this.update_=Nt(this,this.update),this.update=Wi(this.update_,Gn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return t.enableInterval_(a)},this.disableIntervalHandler_=function(a){return t.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Te&&"visibilityState"in Te&&this.on(Te,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){Te.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Gn))},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var a=this;if(Te.visibilityState!=="hidden"){var s=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var l=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),c=a.player_.liveTracker,f=a.player_.duration();c&&c.isLive()&&(f=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==l||a.duration_!==f)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[Io(l,f),Io(f,f)],"{1} of {2}")),a.currentTime_=l,a.duration_=f),a.bar&&a.bar.update(Do(a.el()),a.getProgress())}),s}},n.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var t=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=t/this.player_.duration(),a},n.handleMouseDown=function(t){!xl(t)||(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(t,a){if(a===void 0&&(a=!1),!!xl(t)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,l=this.calculateDistance(t),c=this.player_.liveTracker;if(!c||!c.isLive())s=l*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(l>=.99){c.seekToLiveEdge();return}var f=c.seekableStart(),h=c.liveCurrentTime();if(s=f+l*c.liveWindow(),s>=h&&(s=h),s<=f&&(s=f+.1),s===1/0)return}this.userSeek_(s)}},n.enable=function(){r.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.show()},n.disable=function(){r.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.hide()},n.handleMouseUp=function(t){r.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?li(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+td)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-td)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var a=this.player_.liveTracker;if(tt.isEventKey(t,"Space")||tt.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(tt.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(tt.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(tt(t))){t.preventDefault(),t.stopPropagation();var s=(tt.codes[tt(t)]-tt.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else tt.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-td*Pb)):tt.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+td*Pb)):r.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Te&&"visibilityState"in Te&&this.off(Te,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},e}(Mv);Uv.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Gr&&!Ki&&Uv.prototype.options_.children.splice(1,0,"mouseTimeDisplay");fe.registerComponent("SeekBar",Uv);var i1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.handleMouseMove=Wi(Nt(Ye(a),a.handleMouseMove),Gn),a.throttledHandleMouseSeek=Wi(Nt(Ye(a),a.handleMouseSeek),Gn),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),l=a.getChild("mouseTimeDisplay");if(!(!s&&!l)){var c=a.el(),f=Sl(c),h=jf(c,t).x;h=Gf(h,0,1),l&&l.update(f,h),s&&s.update(f,a.getProgress())}}},n.handleMouseSeek=function(t){var a=this.getChild("seekBar");a&&a.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&li(this.player_.play())}},n.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(t){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(fe);i1.prototype.options_={children:["seekBar"]};fe.registerComponent("ProgressControl",i1);var a1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){Te.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}($n);a1.prototype.controlText_="Picture-in-Picture";fe.registerComponent("PictureInPictureToggle",a1);var s1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),Te[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}($n);s1.prototype.controlText_="Fullscreen";fe.registerComponent("FullscreenToggle",s1);var $3=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},W3=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(r.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(fe);fe.registerComponent("VolumeLevel",W3);var G3=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Wi(Nt(Ye(a),a.update),Gn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(t,a,s,l){if(!s){var c=Do(this.el_),f=Do(this.player_.el()),h=t.width*a;if(!f||!c)return;var v=t.left-f.left+h,y=t.width-h+(f.right-t.right),x=c.width/2;v<x?x+=x-v:y<x&&(x=y),x<0?x=0:x>c.width&&(x=c.width),this.el_.style.right="-"+x+"px"}this.write(l+"%")},n.write=function(t){bs(this.el_,t)},n.updateVolume=function(t,a,s,l,c){var f=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){f.update(t,a,s,l.toFixed(0)),c&&c()})},e}(fe);fe.registerComponent("VolumeLevelTooltip",G3);var o1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.update=Wi(Nt(Ye(a),a.update),Gn),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,a,s){var l=this,c=100*a;this.getChild("volumeLevelTooltip").updateVolume(t,a,s,c,function(){s?l.el_.style.bottom=t.height*a+"px":l.el_.style.left=t.width*a+"px"})},e}(fe);o1.prototype.options_={children:["volumeLevelTooltip"]};fe.registerComponent("MouseVolumeLevelDisplay",o1);var zf=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){!xl(t)||r.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(t){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),l=Do(s),c=this.vertical(),f=jf(s,t);f=c?f.y:f.x,f=Gf(f,0,1),a.update(l,f,c)}!xl(t)||(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var t=this,a=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(a)})},e}(Mv);zf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Gr&&!Ki&&zf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");zf.prototype.playerEvent="volumechange";fe.registerComponent("VolumeBar",zf);var u1=function(r){Ee(e,r);function e(i,t){var a;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||bl(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),a=r.call(this,i,t)||this,$3(Ye(a),i),a.throttledHandleMouseMove=Wi(Nt(Ye(a),a.handleMouseMove),Gn),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=e.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(t){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(t){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(fe);u1.prototype.options_={children:["volumeBar"]};fe.registerComponent("VolumeControl",u1);var z3=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},l1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,z3(Ye(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var l=s<.1?.1:s;this.player_.volume(l),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),a=3;Gr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?a=0:t<.33?a=1:t<.67&&(a=2);for(var s=0;s<4;s++)Bl(this.el_,"vjs-vol-"+s);Bi(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,a=t?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}($n);l1.prototype.controlText_="Mute";fe.registerComponent("MuteToggle",l1);var c1=function(r){Ee(e,r);function e(i,t){var a;return t===void 0&&(t={}),typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||bl(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),a=r.call(this,i,t)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(t){tt.isEventKey(t,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(t){this.addClass("vjs-hover"),vn(Te,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(t){this.removeClass("vjs-hover"),Fr(Te,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(t){tt.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(fe);c1.prototype.options_={children:["muteToggle","volumeControl"]};fe.registerComponent("VolumePanel",c1);var d1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,t&&(a.menuButton_=t.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof fe&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof fe&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),r.prototype.removeChild.call(this,t)},n.addItem=function(t){var a=this.addChild(t);a&&this.addEventListenerForItem(a)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=pt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),vn(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},n.handleBlur=function(t){var a=t.relatedTarget||Te.activeElement;if(!this.children().some(function(l){return l.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(l){return l.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(t){tt.isEventKey(t,"Left")||tt.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(tt.isEventKey(t,"Right")||tt.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){t===void 0&&(t=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(t<0?t=0:t>=a.length&&(t=a.length-1),this.focusedChild_=t,a[t].el_.focus())},e}(fe);fe.registerComponent("Menu",d1);var jv=function(r){Ee(e,r);function e(i,t){var a;t===void 0&&(t={}),a=r.call(this,i,t)||this,a.menuButton_=new $n(i,t),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=$n.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var l=function(f){return a.handleClick(f)};return a.handleMenuKeyUp_=function(c){return a.handleMenuKeyUp(c)},a.on(a.menuButton_,"tap",l),a.on(a.menuButton_,"click",l),a.on(a.menuButton_,"keydown",function(c){return a.handleKeyDown(c)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),vn(Te,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(c){return a.handleMouseLeave(c)}),a.on("keydown",function(c){return a.handleSubmenuKeyDown(c)}),a}var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var t=new d1(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=pt("li",{className:"vjs-menu-title",textContent:Xt(this.options_.title),tabIndex:-1}),s=new fe(this.player_,{el:a});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var l=0;l<this.items.length;l++)t.addItem(this.items[l]);return t},n.createItems=function(){},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var a=$n.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+a+" "+r.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+r.prototype.buildCSSClass.call(this)},n.controlText=function(t,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(t,a)},n.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Fr(Te,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){tt.isEventKey(t,"Esc")||tt.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),tt.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(tt.isEventKey(t,"Up")||tt.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(t){(tt.isEventKey(t,"Esc")||tt.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(tt.isEventKey(t,"Esc")||tt.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),tt.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Gr&&Cx())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(fe);fe.registerComponent("MenuButton",jv);var Hv=function(r){Ee(e,r);function e(n,i){var t,a=i.tracks;if(t=r.call(this,n,i)||this,t.items.length<=1&&t.hide(),!a)return Ye(t);var s=Nt(Ye(t),t.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),t}return e}(jv);fe.registerComponent("TrackButton",Hv);var K3=["Tab","Esc","Up","Down","Right","Left"],jl=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.selectable=t.selectable,a.isSelected_=t.selected||!1,a.multiSelectable=t.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=e.prototype;return n.createEl=function(t,a,s){this.nonIconControl=!0;var l=r.prototype.createEl.call(this,"li",Wt({className:"vjs-menu-item",tabIndex:-1},a),s);return l.replaceChild(pt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),l.querySelector(".vjs-icon-placeholder")),l},n.handleKeyDown=function(t){K3.some(function(a){return tt.isEventKey(t,a)})||r.prototype.handleKeyDown.call(this,t)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Wf);fe.registerComponent("MenuItem",jl);var Hl=function(r){Ee(e,r);function e(i,t){var a,s=t.track,l=i.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",a=r.call(this,i,t)||this,a.track=s,a.kinds=(t.kinds||[t.kind||a.track.kind]).filter(Boolean);var c=function(){for(var y=arguments.length,x=new Array(y),C=0;C<y;C++)x[C]=arguments[C];a.handleTracksChange.apply(Ye(a),x)},f=function(){for(var y=arguments.length,x=new Array(y),C=0;C<y;C++)x[C]=arguments[C];a.handleSelectedLanguageChange.apply(Ye(a),x)};if(i.on(["loadstart","texttrackchange"],c),l.addEventListener("change",c),l.addEventListener("selectedlanguagechange",f),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],c),l.removeEventListener("change",c),l.removeEventListener("selectedlanguagechange",f)}),l.onchange===void 0){var h;a.on(["tap","click"],function(){if(typeof V.Event!="object")try{h=new V.Event("change")}catch{}h||(h=Te.createEvent("Event"),h.initEvent("change",!0,!0)),l.dispatchEvent(h)})}return a.handleTracksChange(),a}var n=e.prototype;return n.handleClick=function(t){var a=this.track,s=this.player_.textTracks();if(r.prototype.handleClick.call(this,t),!!s)for(var l=0;l<s.length;l++){var c=s[l];this.kinds.indexOf(c.kind)!==-1&&(c===a?c.mode!=="showing"&&(c.mode="showing"):c.mode!=="disabled"&&(c.mode="disabled"))}},n.handleTracksChange=function(t){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,r.prototype.dispose.call(this)},e}(jl);fe.registerComponent("TextTrackMenuItem",Hl);var f1=function(r){Ee(e,r);function e(i,t){return t.track={player:i,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,r.call(this,i,t)||this}var n=e.prototype;return n.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,c=a.length;l<c;l++){var f=a[l];if(this.options_.kinds.indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(t){for(var a=this.player().textTracks(),s=!0,l=0,c=a.length;l<c;l++){var f=a[l];if(["captions","descriptions","subtitles"].indexOf(f.kind)>-1&&f.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Hl);fe.registerComponent("OffTextTrackMenuItem",f1);var Vo=function(r){Ee(e,r);function e(i,t){return t===void 0&&(t={}),t.tracks=i.textTracks(),r.call(this,i,t)||this}var n=e.prototype;return n.createItems=function(t,a){t===void 0&&(t=[]),a===void 0&&(a=Hl);var s;this.label_&&(s=this.label_+" off"),t.push(new f1(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var l=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var c=0;c<l.length;c++){var f=l[c];if(this.kinds_.indexOf(f.kind)>-1){var h=new a(this.player_,{track:f,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});h.addClass("vjs-"+f.kind+"-menu-item"),t.push(h)}}return t},e}(Hv);fe.registerComponent("TextTrackButton",Vo);var h1=function(r){Ee(e,r);function e(i,t){var a,s=t.track,l=t.cue,c=i.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=l.text,t.selected=l.startTime<=c&&c<l.endTime,a=r.call(this,i,t)||this,a.track=s,a.cue=l,a}var n=e.prototype;return n.handleClick=function(t){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(jl);fe.registerComponent("ChaptersTrackMenuItem",h1);var Vv=function(r){Ee(e,r);function e(i,t,a){var s;return s=r.call(this,i,t,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(l){l.selected(s.track_.activeCues[0]===l.cue)})},s}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!(t&&t.track&&t.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),r.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&r.prototype.update.call(this)}},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],a=t.length-1;a>=0;a--){var s=t[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Xt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var a=this.track_.cues;if(!a)return t;for(var s=0,l=a.length;s<l;s++){var c=a[s],f=new h1(this.player_,{track:this.track_,cue:c});t.push(f)}return t},e}(Vo);Vv.prototype.kind_="chapters";Vv.prototype.controlText_="Chapters";fe.registerComponent("ChaptersButton",Vv);var qv=function(r){Ee(e,r);function e(i,t,a){var s;s=r.call(this,i,t,a)||this;var l=i.textTracks(),c=Nt(Ye(s),s.handleTracksChange);return l.addEventListener("change",c),s.on("dispose",function(){l.removeEventListener("change",c)}),s}var n=e.prototype;return n.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!1,l=0,c=a.length;l<c;l++){var f=a[l];if(f.kind!==this.kind_&&f.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(Vo);qv.prototype.kind_="descriptions";qv.prototype.controlText_="Descriptions";fe.registerComponent("DescriptionsButton",qv);var $v=function(r){Ee(e,r);function e(i,t,a){return r.call(this,i,t,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},e}(Vo);$v.prototype.kind_="subtitles";$v.prototype.controlText_="Subtitles";fe.registerComponent("SubtitlesButton",$v);var Wv=function(r){Ee(e,r);function e(i,t){var a;return t.track={player:i,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",a=r.call(this,i,t)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+t.kind+" settings dialog"),a}var n=e.prototype;return n.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Hl);fe.registerComponent("CaptionSettingsMenuItem",Wv);var Gv=function(r){Ee(e,r);function e(i,t,a){return r.call(this,i,t,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Wv(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,t)},e}(Vo);Gv.prototype.kind_="captions";Gv.prototype.controlText_="Captions";fe.registerComponent("CaptionsButton",Gv);var p1=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),c=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(c.appendChild(pt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(pt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),l},e}(Hl);fe.registerComponent("SubsCapsMenuItem",p1);var zv=function(r){Ee(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Xt(a.label_)),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Wv(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=r.prototype.createItems.call(this,t,p1),t},e}(Vo);zv.prototype.kinds_=["captions","subtitles"];zv.prototype.controlText_="Subtitles";fe.registerComponent("SubsCapsButton",zv);var g1=function(r){Ee(e,r);function e(i,t){var a,s=t.track,l=i.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,a=r.call(this,i,t)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var c=function(){for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];a.handleTracksChange.apply(Ye(a),v)};return l.addEventListener("change",c),a.on("dispose",function(){l.removeEventListener("change",c)}),a}var n=e.prototype;return n.createEl=function(t,a,s){var l=r.prototype.createEl.call(this,t,a,s),c=l.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(c.appendChild(pt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(pt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),l},n.handleClick=function(t){if(r.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];l!==this.track&&(l.enabled=l===this.track)}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(jl);fe.registerComponent("AudioTrackMenuItem",g1);var m1=function(r){Ee(e,r);function e(i,t){return t===void 0&&(t={}),t.tracks=i.audioTracks(),r.call(this,i,t)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var l=a[s];t.push(new g1(this.player_,{track:l,selectable:!0,multiSelectable:!1}))}return t},e}(Hv);m1.prototype.controlText_="Audio Track";fe.registerComponent("AudioTrackButton",m1);var Kv=function(r){Ee(e,r);function e(i,t){var a,s=t.rate,l=parseFloat(s,10);return t.label=s,t.selected=l===i.playbackRate(),t.selectable=!0,t.multiSelectable=!1,a=r.call(this,i,t)||this,a.label=s,a.rate=l,a.on(i,"ratechange",function(c){return a.update(c)}),a}var n=e.prototype;return n.handleClick=function(t){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(jl);Kv.prototype.contentElType="button";fe.registerComponent("PlaybackRateMenuItem",Kv);var v1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var n=e.prototype;return n.createEl=function(){var t=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=pt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var t=this.playbackRates(),a=[],s=t.length-1;s>=0;s--)a.push(new Kv(this.player(),{rate:t[s]+"x"}));return a},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){var a=this.player().playbackRate(),s=this.playbackRates(),l=s.indexOf(a),c=(l+1)%s.length;this.player().playbackRate(s[c])},n.handlePlaybackRateschange=function(t){this.update()},n.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(jv);v1.prototype.controlText_="Playback Rate";fe.registerComponent("PlaybackRateMenuButton",v1);var _1=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},n.createEl=function(t,a,s){return t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),r.prototype.createEl.call(this,t,a,s)},e}(fe);fe.registerComponent("Spacer",_1);var X3=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(_1);fe.registerComponent("CustomControlSpacer",X3);var qd=function(r){Ee(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(fe);qd.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Te&&qd.prototype.options_.children.splice(qd.prototype.options_.children.length-1,0,"pictureInPictureToggle");fe.registerComponent("ControlBar",qd);var y1=function(r){Ee(e,r);function e(i,t){var a;return a=r.call(this,i,t)||this,a.on(i,"error",function(s){return a.open(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Uo);y1.prototype.options_=On({},Uo.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});fe.registerComponent("ErrorDisplay",y1);var tg="vjs-text-track-settings",Ib=["#000","Black"],Ob=["#00F","Blue"],Lb=["#0FF","Cyan"],Rb=["#0F0","Green"],Nb=["#F0F","Magenta"],Fb=["#F00","Red"],Mb=["#FFF","White"],Bb=["#FF0","Yellow"],rg=["1","Opaque"],ng=["0.5","Semi-Transparent"],Ub=["0","Transparent"],ss={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ib,Mb,Fb,Rb,Ob,Bb,Nb,Lb]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[rg,ng,Ub]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Mb,Ib,Fb,Rb,Ob,Bb,Nb,Lb]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[rg,ng]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ub,ng,rg]}};ss.windowColor.options=ss.backgroundColor.options;function b1(r,e){if(e&&(r=e(r)),r&&r!=="none")return r}function J3(r,e){var n=r.options[r.options.selectedIndex].value;return b1(n,e)}function Y3(r,e,n){if(!!e){for(var i=0;i<r.options.length;i++)if(b1(r.options[i].value,n)===e){r.selectedIndex=i;break}}}var Q3=function(r){Ee(e,r);function e(i,t){var a;return t.temporary=!1,a=r.call(this,i,t)||this,a.updateDisplay=a.updateDisplay.bind(Ye(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=pt("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),t.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),co(ss,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=e.prototype;return n.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},n.createElSelect_=function(t,a,s){var l=this;a===void 0&&(a=""),s===void 0&&(s="label");var c=ss[t],f=c.id.replace("%s",this.id_),h=[a,f].join(" ").trim();return["<"+s+' id="'+f+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(c.label),"</"+s+">",'<select aria-labelledby="'+h+'">'].concat(c.options.map(function(v){var y=f+"-"+v[1].replace(/\W+/g,"");return['<option id="'+y+'" value="'+v[0]+'" ','aria-labelledby="'+h+" "+y+'">',l.localize(v[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return pt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return pt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return pt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t=this;return jR(ss,function(a,s,l){var c=J3(t.$(s.selector),s.parser);return c!==void 0&&(a[l]=c),a},{})},n.setValues=function(t){var a=this;co(ss,function(s,l){Y3(a.$(s.selector),t[l],s.parser)})},n.setDefaults=function(){var t=this;co(ss,function(a){var s=a.hasOwnProperty("default")?a.default:0;t.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var t;try{t=JSON.parse(V.localStorage.getItem(tg))}catch(a){ot.warn(a)}t&&this.setValues(t)},n.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?V.localStorage.setItem(tg,JSON.stringify(t)):V.localStorage.removeItem(tg)}catch(a){ot.warn(a)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,a=t&&t.subsCapsButton,s=t&&t.captionsButton;a?a.focus():s&&s.focus()},e}(Uo);fe.registerComponent("TextTrackSettings",Q3);var Z3=function(r){Ee(e,r);function e(i,t){var a,s=t.ResizeObserver||V.ResizeObserver;t.ResizeObserver===null&&(s=!1);var l=Rt({createEl:!s,reportTouchActivity:!1},t);return a=r.call(this,i,l)||this,a.ResizeObserver=t.ResizeObserver||V.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=YR(function(){a.resizeHandler()},100,!1,Ye(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var c=a.debouncedHandler_,f=a.unloadListener_=function(){Fr(this,"resize",c),Fr(this,"unload",f),f=null};vn(a.el_.contentWindow,"unload",f),vn(a.el_.contentWindow,"resize",c)}},a.one("load",a.loadListener_)),a}var n=e.prototype;return n.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},e}(fe);fe.registerComponent("ResizeManager",Z3);var eN={trackingThreshold:20,liveTolerance:15},tN=function(r){Ee(e,r);function e(i,t){var a,s=Rt(eN,t,{createEl:!1});return a=r.call(this,i,s)||this,a.handleVisibilityChange_=function(l){return a.handleVisibilityChange(l)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(l){return a.handlePlay(l)},a.handleFirstTimeupdate_=function(l){return a.handleFirstTimeupdate(l)},a.handleSeeked_=function(l){return a.handleSeeked(l)},a.seekToLiveEdge_=function(l){return a.seekToLiveEdge(l)},a.reset_(),a.on(a.player_,"durationchange",function(l){return a.handleDurationchange(l)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),Ml&&"hidden"in Te&&"visibilityState"in Te&&a.on(Te,"visibilitychange",a.handleVisibilityChange_),a}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Te.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var a=Number(V.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var l=this.liveCurrentTime(),c=this.player_.currentTime(),f=this.player_.paused()||this.seekedBehindLive_||Math.abs(l-c)>this.options_.liveTolerance;(!this.timeupdateSeen_||l===1/0)&&(f=!1),f!==this.behindLiveEdge_&&(this.behindLiveEdge_=f,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Gn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(Te,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},e}(fe);fe.registerComponent("LiveTracker",tN);var em=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),t=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var l=i[s].src;l&&t.indexOf(l)===-1&&t.push(l)}return t.length?(t.length===1&&(a=t[0]),e.triggerSourceset(a),!0):!1},rN=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=Te.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=Te.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",V.Element.prototype.appendChild.call(this,i),this.innerHTML}}),T1=function(e,n){for(var i={},t=0;t<e.length&&(i=Object.getOwnPropertyDescriptor(e[t],n),!(i&&i.set&&i.get));t++);return i.enumerable=!0,i.configurable=!0,i},nN=function(e){return T1([e.el(),V.HTMLMediaElement.prototype,V.Element.prototype,rN],"innerHTML")},jb=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},t=nN(e),a=function(l){return function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var v=l.apply(n,f);return em(e),v}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!n[s]||(i[s]=n[s],n[s]=a(i[s]))}),Object.defineProperty(n,"innerHTML",Rt(t,{set:a(t.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(s){n[s]=i[s]}),Object.defineProperty(n,"innerHTML",t)},e.one("sourceset",n.resetSourceWatch_)}},iN=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Kx(V.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return V.Element.prototype.setAttribute.call(this,"src",e),e}}),aN=function(e){return T1([e.el(),V.HTMLMediaElement.prototype,iN],"src")},sN=function(e){if(!!e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=aN(e),t=n.setAttribute,a=n.load;Object.defineProperty(n,"src",Rt(i,{set:function(l){var c=i.set.call(n,l);return e.triggerSourceset(n.src),c}})),n.setAttribute=function(s,l){var c=t.call(n,s,l);return/src/i.test(s)&&e.triggerSourceset(n.src),c},n.load=function(){var s=a.call(n);return em(e)||(e.triggerSourceset(""),jb(e)),s},n.currentSrc?e.triggerSourceset(n.currentSrc):em(e)||jb(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=t,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},Xv=function(e,n,i,t){t===void 0&&(t=!0);var a=function(c){return Object.defineProperty(e,n,{value:c,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var c=i();return a(c),c}};return t&&(s.set=a),Object.defineProperty(e,n,s)},Ie=function(r){Ee(e,r);function e(i,t){var a;a=r.call(this,i,t)||this;var s=i.source,l=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var c=a.el_.childNodes,f=c.length,h=[];f--;){var v=c[f],y=v.nodeName.toLowerCase();y==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(v),a.remoteTextTracks().addTrack(v.track),a.textTracks().addTrack(v.track),!l&&!a.el_.hasAttribute("crossorigin")&&$f(v.src)&&(l=!0)):h.push(v))}for(var x=0;x<h.length;x++)a.el_.removeChild(h[x])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&l&&ot.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(Co||Ev||Tx)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){sN(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),a,s=function(){a=[];for(var f=0;f<t.length;f++){var h=t[f];h.kind==="metadata"&&a.push({track:h,storedMode:h.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var l=function c(){for(var f=0;f<a.length;f++){var h=a[f];h.track.mode==="disabled"&&h.track.mode!==h.storedMode&&(h.track.mode=h.storedMode)}t.removeEventListener("change",c)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",l),t.addEventListener("change",l)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",l)})},n.overrideNative_=function(t,a){var s=this;if(a===this["featuresNative"+t+"Tracks"]){var l=t.toLowerCase();this[l+"TracksListeners_"]&&Object.keys(this[l+"TracksListeners_"]).forEach(function(c){var f=s.el()[l+"Tracks"];f.removeEventListener(c,s[l+"TracksListeners_"][c])}),this["featuresNative"+t+"Tracks"]=!a,this[l+"TracksListeners_"]=null,this.proxyNativeTracksForType_(l)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var a=this,s=In[t],l=this.el()[s.getterName],c=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!l||!l.addEventListener)){var f={change:function(y){var x={type:"change",target:c,currentTarget:c,srcElement:c};c.trigger(x),t==="text"&&a[Po.remoteText.getterName]().trigger(x)},addtrack:function(y){c.addTrack(y.track)},removetrack:function(y){c.removeTrack(y.track)}},h=function(){for(var y=[],x=0;x<c.length;x++){for(var C=!1,k=0;k<l.length;k++)if(l[k]===c[x]){C=!0;break}C||y.push(c[x])}for(;y.length;)c.removeTrack(y.shift())};this[s.getterName+"Listeners_"]=f,Object.keys(f).forEach(function(v){var y=f[v];l.addEventListener(v,y),a.on("dispose",function(x){return l.removeEventListener(v,y)})}),this.on("loadstart",h),this.on("dispose",function(v){return a.off("loadstart",h)})}},n.proxyNativeTracks_=function(){var t=this;In.names.forEach(function(a){t.proxyNativeTracksForType_(a)})},n.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var a=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(a,t),e.disposeMediaElement(t),t=a}else{t=Te.createElement("video");var s=this.options_.tag&&Li(this.options_.tag),l=Rt({},s);(!Co||this.options_.nativeControlsForTouch!==!0)&&delete l.controls,kx(t,Wt(l,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Ao(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var c=["loop","muted","playsinline","autoplay"],f=0;f<c.length;f++){var h=c[f],v=this.options_[h];typeof v<"u"&&(v?Ao(t,h,h):Uf(t,h),t[h]=v)}return t},n.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var l=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",l),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",l),a||this.trigger("loadstart")});return}var c=["loadstart"];c.push("loadedmetadata"),t.readyState>=2&&c.push("loadeddata"),t.readyState>=3&&c.push("canplay"),t.readyState>=4&&c.push("canplaythrough"),this.ready(function(){c.forEach(function(f){this.trigger(f)},this)})}},n.setScrubbing=function(t){this.isScrubbing_=t},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&Bf?this.el_.fastSeek(t):this.el_.currentTime=t}catch(a){ot(a,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&Ki&&Xi&&this.el_.currentTime===0){var a=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=V.navigator&&V.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)li(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):r.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):r.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(t,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,a,s):r.prototype.addTextTrack.call(this,t,a,s)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,t);var a=Te.createElement("track");return t.kind&&(a.kind=t.kind),t.label&&(a.label=t.label),(t.language||t.srclang)&&(a.srclang=t.language||t.srclang),t.default&&(a.default=t.default),t.id&&(a.id=t.id),t.src&&(a.src=t.src),a},n.addRemoteTextTrack=function(t,a){var s=r.prototype.addRemoteTextTrack.call(this,t,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(t){if(r.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(t===a[s]||t===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),V.performance&&typeof V.performance.now=="function"?t.creationTime=V.performance.now():V.performance&&V.performance.timing&&typeof V.performance.timing.navigationStart=="number"&&(t.creationTime=V.Date.now()-V.performance.timing.navigationStart),t},e}(kt);Xv(Ie,"TEST_VID",function(){if(!!Fo()){var r=Te.createElement("video"),e=Te.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",r.appendChild(e),r}});Ie.isSupported=function(){try{Ie.TEST_VID.volume=.5}catch{return!1}return!!(Ie.TEST_VID&&Ie.TEST_VID.canPlayType)};Ie.canPlayType=function(r){return Ie.TEST_VID.canPlayType(r)};Ie.canPlaySource=function(r,e){return Ie.canPlayType(r.type)};Ie.canControlVolume=function(){try{var r=Ie.TEST_VID.volume;Ie.TEST_VID.volume=r/2+.1;var e=r!==Ie.TEST_VID.volume;return e&&Gr?(V.setTimeout(function(){Ie&&Ie.prototype&&(Ie.prototype.featuresVolumeControl=r!==Ie.TEST_VID.volume)}),!1):e}catch{return!1}};Ie.canMuteVolume=function(){try{var r=Ie.TEST_VID.muted;return Ie.TEST_VID.muted=!r,Ie.TEST_VID.muted?Ao(Ie.TEST_VID,"muted","muted"):Uf(Ie.TEST_VID,"muted","muted"),r!==Ie.TEST_VID.muted}catch{return!1}};Ie.canControlPlaybackRate=function(){if(Ki&&Xi&&xx<58)return!1;try{var r=Ie.TEST_VID.playbackRate;return Ie.TEST_VID.playbackRate=r/2+.1,r!==Ie.TEST_VID.playbackRate}catch{return!1}};Ie.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(Te.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(Te.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(Te.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(Te.createElement("audio"),"innerHTML",{get:r,set:r})}catch{return!1}return!0};Ie.supportsNativeTextTracks=function(){return Bf||Gr&&Xi};Ie.supportsNativeVideoTracks=function(){return!!(Ie.TEST_VID&&Ie.TEST_VID.videoTracks)};Ie.supportsNativeAudioTracks=function(){return!!(Ie.TEST_VID&&Ie.TEST_VID.audioTracks)};Ie.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var e=r[0],n=r[1];Xv(Ie.prototype,e,function(){return Ie[n]()},!0)});Ie.prototype.featuresVolumeControl=Ie.canControlVolume();Ie.prototype.movingMediaElementInDOM=!Gr;Ie.prototype.featuresFullscreenResize=!0;Ie.prototype.featuresProgressEvents=!0;Ie.prototype.featuresTimeupdateEvents=!0;Ie.prototype.featuresVideoFrameCallback=!!(Ie.TEST_VID&&Ie.TEST_VID.requestVideoFrameCallback);var $d;Ie.patchCanPlayType=function(){Tv>=4&&!Sx&&!Xi&&($d=Ie.TEST_VID&&Ie.TEST_VID.constructor.prototype.canPlayType,Ie.TEST_VID.constructor.prototype.canPlayType=function(r){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return r&&e.test(r)?"maybe":$d.call(this,r)})};Ie.unpatchCanPlayType=function(){var r=Ie.TEST_VID.constructor.prototype.canPlayType;return $d&&(Ie.TEST_VID.constructor.prototype.canPlayType=$d),r};Ie.patchCanPlayType();Ie.disposeMediaElement=function(r){if(!!r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};Ie.resetMediaElement=function(r){if(!!r){for(var e=r.querySelectorAll("source"),n=e.length;n--;)r.removeChild(e[n]);r.removeAttribute("src"),typeof r.load=="function"&&function(){try{r.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){Ie.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){Ie.prototype["set"+Xt(r)]=function(e){this.el_[r]=e,e?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){Ie.prototype[r]=function(){return this.el_[r]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){Ie.prototype["set"+Xt(r)]=function(e){this.el_[r]=e}});["pause","load","play"].forEach(function(r){Ie.prototype[r]=function(){return this.el_[r]()}});kt.withSourceHandlers(Ie);Ie.nativeSourceHandler={};Ie.nativeSourceHandler.canPlayType=function(r){try{return Ie.TEST_VID.canPlayType(r)}catch{return""}};Ie.nativeSourceHandler.canHandleSource=function(r,e){if(r.type)return Ie.nativeSourceHandler.canPlayType(r.type);if(r.src){var n=Iv(r.src);return Ie.nativeSourceHandler.canPlayType("video/"+n)}return""};Ie.nativeSourceHandler.handleSource=function(r,e,n){e.setSrc(r.src)};Ie.nativeSourceHandler.dispose=function(){};Ie.registerSourceHandler(Ie.nativeSourceHandler);kt.registerTech("Html5",Ie);var S1=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ig={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},tm=["tiny","xsmall","small","medium","large","xlarge","huge"],yd={};tm.forEach(function(r){var e=r.charAt(0)==="x"?"x-"+r.substring(1):r;yd[r]="vjs-layout-"+e});var oN={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},rr=function(r){Ee(e,r);function e(i,t,a){var s;if(i.id=i.id||t.id||"vjs_video_"+Ji(),t=Wt(e.getTagSettings(i),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof i.closest=="function"){var l=i.closest("[lang]");l&&l.getAttribute&&(t.language=l.getAttribute("lang"))}else for(var c=i;c&&c.nodeType===1;){if(Li(c).hasOwnProperty("lang")){t.language=c.getAttribute("lang");break}c=c.parentNode}if(s=r.call(this,null,t,a)||this,s.boundDocumentFullscreenChange_=function(y){return s.documentFullscreenChange_(y)},s.boundFullWindowOnEscKey_=function(y){return s.fullWindowOnEscKey(y)},s.boundUpdateStyleEl_=function(y){return s.updateStyleEl_(y)},s.boundApplyInitTime_=function(y){return s.applyInitTime_(y)},s.boundUpdateCurrentBreakpoint_=function(y){return s.updateCurrentBreakpoint_(y)},s.boundHandleTechClick_=function(y){return s.handleTechClick_(y)},s.boundHandleTechDoubleClick_=function(y){return s.handleTechDoubleClick_(y)},s.boundHandleTechTouchStart_=function(y){return s.handleTechTouchStart_(y)},s.boundHandleTechTouchMove_=function(y){return s.handleTechTouchMove_(y)},s.boundHandleTechTouchEnd_=function(y){return s.handleTechTouchEnd_(y)},s.boundHandleTechTap_=function(y){return s.handleTechTap_(y)},s.isFullscreen_=!1,s.log=_x(s.id_),s.fsApi_=Ud,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Li(i),s.language(s.options_.language),t.languages){var f={};Object.getOwnPropertyNames(t.languages).forEach(function(y){f[y.toLowerCase()]=t.languages[y]}),s.languages_=f}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(y){if(typeof s[y]!="function")throw new Error('plugin "'+y+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Dv(Ye(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(vn(Te,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var h=Rt(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(y){s[y](t.plugins[y])}),t.debug&&s.debug(!0),s.options_.playerOptions=h,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Co&&s.addClass("vjs-touch-enabled"),Gr||s.addClass("vjs-workinghover"),e.players[s.id_]=Ye(s);var v=gx.split(".")[0];return s.addClass("vjs-v"+v),s.userActive(!0),s.reportUserActivity(),s.one("play",function(y){return s.listenForUserActivity_(y)}),s.on("stageclick",function(y){return s.handleStageClick_(y)}),s.on("keydown",function(y){return s.handleKeyDown(y)}),s.on("languagechange",function(y){return s.handleLanguagechange(y)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var n=e.prototype;return n.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),Fr(Te,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Fr(Te,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),A3(this),jr.names.forEach(function(a){var s=jr[a],l=t[s.getterName]();l&&l.off&&l.off()}),r.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t=this.tag,a,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),l=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=t.parentNode:l||(a=this.el_=r.prototype.createEl.call(this,"div"));var c=Li(t);if(l){for(a=this.el_=t,t=this.tag=Te.createElement("video");a.children.length;)t.appendChild(a.firstChild);hs(a,"video-js")||Bi(a,"video-js"),a.appendChild(t),s=this.playerElIngest_=a,Object.keys(a).forEach(function(C){try{t[C]=a[C]}catch{}})}if(t.setAttribute("tabindex","-1"),c.tabindex="-1",(Ml||Xi&&Ex)&&(t.setAttribute("role","application"),c.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in c&&delete c.width,"height"in c&&delete c.height,Object.getOwnPropertyNames(c).forEach(function(C){l&&C==="class"||a.setAttribute(C,c[C]),l&&t.setAttribute(C,c[C])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=a.player=this,this.addClass("vjs-paused"),V.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Ux("vjs-styles-dimensions");var f=Pa(".vjs-styles-defaults"),h=Pa("head");h.insertBefore(this.styleEl_,f?f.nextSibling:h.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var v=t.getElementsByTagName("a"),y=0;y<v.length;y++){var x=v.item(y);Bi(x,"vjs-hidden"),x.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(a,t),zg(t,a),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},n.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){ot.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,a){var s=t+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var l=parseFloat(a);if(isNaN(l)){ot.error('Improper value "'+a+'" supplied for for '+t);return}this[s]=l,this.updateStyleEl_()},n.fluid=function(t){var a=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,Ui(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),QR(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(V.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),a>=0&&(s.height=a));return}var l,c,f,h;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?f=this.aspectRatio_:this.videoWidth()>0?f=this.videoWidth()+":"+this.videoHeight():f="16:9";var v=f.split(":"),y=v[1]/v[0];this.width_!==void 0?l=this.width_:this.height_!==void 0?l=this.height_/y:l=this.videoWidth()||300,this.height_!==void 0?c=this.height_:c=l*y,/^[^a-zA-Z]/.test(this.id())?h="dimensions-"+this.id():h=this.id()+"-dimensions",this.addClass(h),jx(this.styleEl_,`
      .`+h+` {
        width: `+l+`px;
        height: `+c+`px;
      }

      .`+h+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+y*100+`%;
      }
    `)},n.loadTech_=function(t,a){var s=this;this.tech_&&this.unloadTech_();var l=Xt(t),c=t.charAt(0).toLowerCase()+t.slice(1);l!=="Html5"&&this.tag&&(kt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=l,this.isReady_=!1;var f=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(f=!1);var h={source:a,autoplay:f,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+c+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};jr.names.forEach(function(y){var x=jr[y];h[x.getterName]=s[x.privateName]}),Wt(h,this.options_[l]),Wt(h,this.options_[c]),Wt(h,this.options_[t.toLowerCase()]),this.tag&&(h.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(h.startTime=this.cache_.currentTime);var v=kt.getTech(t);if(!v)throw new Error("No Tech named '"+l+"' exists! '"+l+"' should be registered using videojs.registerTech()'");this.tech_=new v(h),this.tech_.ready(Nt(this,this.handleTechReady_),!0),Tb.jsonToTextTracks(this.textTracksJson_||[],this.tech_),S1.forEach(function(y){s.on(s.tech_,y,function(x){return s["handleTech"+Xt(y)+"_"](x)})}),Object.keys(ig).forEach(function(y){s.on(s.tech_,y,function(x){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+ig[y]+"_"].bind(s),event:x});return}s["handleTech"+ig[y]+"_"](x)})}),this.on(this.tech_,"loadstart",function(y){return s.handleTechLoadStart_(y)}),this.on(this.tech_,"sourceset",function(y){return s.handleTechSourceset_(y)}),this.on(this.tech_,"waiting",function(y){return s.handleTechWaiting_(y)}),this.on(this.tech_,"ended",function(y){return s.handleTechEnded_(y)}),this.on(this.tech_,"seeking",function(y){return s.handleTechSeeking_(y)}),this.on(this.tech_,"play",function(y){return s.handleTechPlay_(y)}),this.on(this.tech_,"firstplay",function(y){return s.handleTechFirstPlay_(y)}),this.on(this.tech_,"pause",function(y){return s.handleTechPause_(y)}),this.on(this.tech_,"durationchange",function(y){return s.handleTechDurationChange_(y)}),this.on(this.tech_,"fullscreenchange",function(y,x){return s.handleTechFullscreenChange_(y,x)}),this.on(this.tech_,"fullscreenerror",function(y,x){return s.handleTechFullscreenError_(y,x)}),this.on(this.tech_,"enterpictureinpicture",function(y){return s.handleTechEnterPictureInPicture_(y)}),this.on(this.tech_,"leavepictureinpicture",function(y){return s.handleTechLeavePictureInPicture_(y)}),this.on(this.tech_,"error",function(y){return s.handleTechError_(y)}),this.on(this.tech_,"posterchange",function(y){return s.handleTechPosterChange_(y)}),this.on(this.tech_,"textdata",function(y){return s.handleTechTextData_(y)}),this.on(this.tech_,"ratechange",function(y){return s.handleTechRateChange_(y)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(l!=="Html5"||!this.tag)&&zg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;jr.names.forEach(function(a){var s=jr[a];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=Tb.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return t===void 0&&ot.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(t){var a=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var f=a.muted();a.muted(!0);var h=function(){a.muted(f)};a.playTerminatedQueue_.push(h);var v=a.play();if(!!el(v))return v.catch(function(y){throw h(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(y||""))})},l;if(t==="any"&&!this.muted()?(l=this.play(),el(l)&&(l=l.catch(s))):t==="muted"&&!this.muted()?l=s():l=this.play(),!!el(l))return l.then(function(){a.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:t})})}},n.updateSourceCaches_=function(t){t===void 0&&(t="");var a=t,s="";typeof a!="string"&&(a=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=P3(this,a)),this.cache_.source=Rt({},t,{src:a,type:s});for(var l=this.cache_.sources.filter(function(x){return x.src&&x.src===a}),c=[],f=this.$$("source"),h=[],v=0;v<f.length;v++){var y=Li(f[v]);c.push(y),y.src&&y.src===a&&h.push(y.src)}h.length&&!l.length?this.cache_.sources=c:l.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(t){var a=this;if(!this.changingSrc_){var s=function(h){return a.updateSourceCaches_(h)},l=this.currentSource().src,c=t.src;l&&!/^blob:/.test(l)&&/^blob:/.test(c)&&(!this.lastSource_||this.lastSource_.tech!==c&&this.lastSource_.player!==l)&&(s=function(){}),s(c),t.src||this.tech_.any(["sourceset","loadstart"],function(f){if(f.type!=="sourceset"){var h=a.techGet("currentSrc");a.lastSource_.tech=h,a.updateSourceCaches_(h)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function l(){a!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",l))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(ot.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?li(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(t){var a=t.target.player;if(!(a&&a!==this)){var s=this.el(),l=Te[this.fsApi_.fullscreenElement]===s;!l&&s.matches?l=s.matches(":"+this.fsApi_.fullscreen):!l&&s.msMatchesSelector&&(l=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(l)}},n.handleTechFullscreenChange_=function(t,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},n.handleTechFullscreenError_=function(t,a){this.trigger("fullscreenerror",a)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(t,a){this.ready(function(){if(t in w3)return x3(this.middleware_,this.tech_,t,a);if(t in Ab)return Cb(this.middleware_,this.tech_,t,a);try{this.tech_&&this.tech_[t](a)}catch(s){throw ot(s),s}},!0)},n.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in E3)return S3(this.middleware_,this.tech_,t);if(t in Ab)return Cb(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(a){throw this.tech_[t]===void 0?(ot("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(ot("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(ot(a),a)}}},n.play=function(){var t=this,a=this.options_.Promise||V.Promise;return a?new a(function(s){t.play_(s)}):this.play_()},n.play_=function(t){var a=this;t===void 0&&(t=li),this.playCallbacks_.push(t);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),l=Boolean(Bf||Gr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(h){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&l&&this.load();return}var c=this.techGet_("play"),f=l&&this.hasClass("vjs-ended");f&&this.resetProgressBar_(),c===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(c)},n.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(a){a()})},n.runPlayCallbacks_=function(t){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(t)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||ps(0,0)},n.scrubbing=function(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){if(typeof t<"u"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=ps(0,0)),t},n.bufferedPercent=function(){return Gx(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),a=this.duration(),s=t.end(t.length-1);return s>a&&(s=a),s},n.volume=function(t){var a;if(t!==void 0){a=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},n.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){if(t!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(t){var a=this.options_.Promise||V.Promise;if(a){var s=this;return new a(function(l,c){function f(){s.off("fullscreenerror",v),s.off("fullscreenchange",h)}function h(){f(),l()}function v(x,C){f(),c(C)}s.one("fullscreenchange",h),s.one("fullscreenerror",v);var y=s.requestFullscreenHelper_(t);y&&(y.then(f,f),y.then(l,c))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(t){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var l=this.el_[this.fsApi_.requestFullscreen](s);return l&&l.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),l}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var t=this.options_.Promise||V.Promise;if(t){var a=this;return new t(function(s,l){function c(){a.off("fullscreenerror",h),a.off("fullscreenchange",f)}function f(){c(),s()}function h(y,x){c(),l(x)}a.one("fullscreenchange",f),a.one("fullscreenerror",h);var v=a.exitFullscreenHelper_();v&&(v.then(c,c),v.then(s,l))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var a=Te[this.fsApi_.exitFullscreen]();return a&&li(a.then(function(){return t.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Te.documentElement.style.overflow,vn(Te,"keydown",this.boundFullWindowOnEscKey_),Te.documentElement.style.overflow="hidden",Bi(Te.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){tt.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Fr(Te,"keydown",this.boundFullWindowOnEscKey_),Te.documentElement.style.overflow=this.docOrigOverflow,Bl(Te.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Te&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Te)return Te.exitPictureInPicture()},n.handleKeyDown=function(t){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(c){var f=c.tagName.toLowerCase();if(c.isContentEditable)return!0;var h=["button","checkbox","hidden","radio","reset","submit"];if(f==="input")return h.indexOf(c.type)===-1;var v=["textarea"];return v.indexOf(f)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,t):this.handleHotkeys(t))}},n.handleHotkeys=function(t){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,l=s===void 0?function(k){return tt.isEventKey(k,"f")}:s,c=a.muteKey,f=c===void 0?function(k){return tt.isEventKey(k,"m")}:c,h=a.playPauseKey,v=h===void 0?function(k){return tt.isEventKey(k,"k")||tt.isEventKey(k,"Space")}:h;if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var y=fe.getComponent("FullscreenToggle");Te[this.fsApi_.fullscreenEnabled]!==!1&&y.prototype.handleClick.call(this,t)}else if(f.call(this,t)){t.preventDefault(),t.stopPropagation();var x=fe.getComponent("MuteToggle");x.prototype.handleClick.call(this,t)}else if(v.call(this,t)){t.preventDefault(),t.stopPropagation();var C=fe.getComponent("PlayToggle");C.prototype.handleClick.call(this,t)}},n.canPlayType=function(t){for(var a,s=0,l=this.options_.techOrder;s<l.length;s++){var c=l[s],f=kt.getTech(c);if(f||(f=fe.getComponent(c)),!f){ot.error('The "'+c+'" tech is undefined. Skipped browser support check for that tech.');continue}if(f.isSupported()&&(a=f.canPlayType(t),a))return a}return""},n.selectSource=function(t){var a=this,s=this.options_.techOrder.map(function(v){return[v,kt.getTech(v)]}).filter(function(v){var y=v[0],x=v[1];return x?x.isSupported():(ot.error('The "'+y+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),l=function(y,x,C){var k;return y.some(function(P){return x.some(function(R){if(k=C(P,R),k)return!0})}),k},c,f=function(y){return function(x,C){return y(C,x)}},h=function(y,x){var C=y[0],k=y[1];if(k.canPlaySource(x,a.options_[C.toLowerCase()]))return{source:x,tech:C}};return this.options_.sourceOrder?c=l(t,s,f(h)):c=l(s,t,h),c||!1},n.handleSrc_=function(t,a){var s=this;if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var l=I3(t);if(!l.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=l),this.updateSourceCaches_(l[0]),b3(this,l[0],function(h,v){s.middleware_=v,a||(s.cache_.sources=l),s.updateSourceCaches_(h);var y=s.src_(h);if(y){if(l.length>1)return s.handleSrc_(l.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}T3(v,s.tech_)}),this.options_.retryOnError&&l.length>1){var c=function(){s.error(null),s.handleSrc_(l.slice(1),!0)},f=function(){s.off("error",c)};this.one("error",c),this.one("playing",f),this.resetRetryOnError_=function(){s.off("error",c),s.off("playing",f)}}},n.src=function(t){return this.handleSrc_(t,!1)},n.src_=function(t){var a=this,s=this.selectSource([t]);return s?t3(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var t=this,a=this.options_.Promise||V.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();li(s.then(function(){return t.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ui(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},a=t.durationDisplay,s=t.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var t=this.currentSource(),a=[];return Object.keys(t).length!==0&&a.push(t),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},n.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var a;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),a=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},n.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){var a=this;if(t===void 0)return this.error_||null;if(ka("beforeerror").forEach(function(l){var c=l(a,t);if(!($i(c)&&!Array.isArray(c)||typeof c=="string"||typeof c=="number"||c===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=c}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Wr(t),this.addClass("vjs-error"),ot.error("(CODE:"+this.error_.code+" "+Wr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ka("error").forEach(function(l){return l(a,a.error_)})},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,a,s,l=Nt(this,this.reportUserActivity),c=function(C){(C.screenX!==a||C.screenY!==s)&&(a=C.screenX,s=C.screenY,l())},f=function(){l(),this.clearInterval(t),t=this.setInterval(l,250)},h=function(C){l(),this.clearInterval(t)};this.on("mousedown",f),this.on("mousemove",c),this.on("mouseup",h),this.on("mouseleave",h);var v=this.getChild("controlBar");v&&!Gr&&!Ki&&(v.on("mouseenter",function(x){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),v.on("mouseleave",function(x){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",l),this.on("keyup",l);var y;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(y);var x=this.options_.inactivityTimeout;x<=0||(y=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},x))}},250)},n.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),l=s&&s.currentHeight();a.forEach(function(c){c!==s&&c.el_&&!c.hasClass("vjs-hidden")&&(c.hide(),t.audioOnlyCache_.hiddenChildren.push(c))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(l),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var s=this.options_.Promise||V.Promise;if(s){if(t){var l=[];return this.isInPictureInPicture()&&l.push(this.exitPictureInPicture()),this.isFullscreen()&&l.push(this.exitFullscreen()),this.audioPosterMode()&&l.push(this.audioPosterMode(!1)),s.all(l).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var s=this.options_.Promise||V.Promise;if(s){if(t){if(this.audioOnlyMode()){var l=this.audioOnlyMode(!1);return l.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(t){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(t,a,s){if(this.tech_)return this.tech_.addTextTrack(t,a,s)},n.addRemoteTextTrack=function(t,a){if(this.tech_)return this.tech_.addRemoteTextTrack(t,a)},n.removeRemoteTextTrack=function(t){t===void 0&&(t={});var a=t,s=a.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),Ui(this)&&this.trigger("languagechange"))},n.languages=function(){return Rt(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=Rt(this.options_),a=t.tracks;t.tracks=[];for(var s=0;s<a.length;s++){var l=a[s];l=Rt(l),l.player=void 0,t.tracks[s]=l}return t},n.createModal=function(t,a){var s=this;a=a||{},a.content=t||"";var l=new Uo(this,a);return this.addChild(l),l.on("dispose",function(){s.removeChild(l)}),l.open(),l},n.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var t=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<tm.length;s++){var l=tm[s],c=this.breakpoints_[l];if(a<=c){if(t===l)return;t&&this.removeClass(yd[t]),this.addClass(yd[l]),this.breakpoint_=l;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return t===void 0?Wt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Wt({},oN,t),this.updateCurrentBreakpoint_(),Wt(this.breakpoints_))},n.responsive=function(t){if(t===void 0)return this.responsive_;t=Boolean(t);var a=this.responsive_;if(t!==a)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return yd[this.breakpoint_]||""},n.loadMedia=function(t,a){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=Rt(t);var l=this.cache_.media,c=l.artwork,f=l.poster,h=l.src,v=l.textTracks;!c&&f&&(this.cache_.media.artwork=[{src:f,type:Vd(f)}]),h&&this.src(h),f&&this.poster(f),Array.isArray(v)&&v.forEach(function(y){return s.addRemoteTextTrack(y,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var t=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(c){return{kind:c.kind,label:c.label,language:c.language,src:c.src}}),l={src:a,textTracks:s};return t&&(l.poster=t,l.artwork=[{src:l.poster,type:Vd(l.poster)}]),l}return Rt(this.cache_.media)},e.getTagSettings=function(t){var a={sources:[],tracks:[]},s=Li(t),l=s["data-setup"];if(hs(t,"vjs-fill")&&(s.fill=!0),hs(t,"vjs-fluid")&&(s.fluid=!0),l!==null){var c=qO(l||"{}"),f=c[0],h=c[1];f&&ot.error(f),Wt(s,h)}if(Wt(a,s),t.hasChildNodes())for(var v=t.childNodes,y=0,x=v.length;y<x;y++){var C=v[y],k=C.nodeName.toLowerCase();k==="source"?a.sources.push(Li(C)):k==="track"&&a.tracks.push(Li(C))}return a},n.flexNotSupported_=function(){var t=Te.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;!Array.isArray(t)||!t.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(fe);jr.names.forEach(function(r){var e=jr[r];rr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});rr.prototype.crossorigin=rr.prototype.crossOrigin;rr.players={};var Nu=V.navigator;rr.prototype.options_={techOrder:kt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Nu&&(Nu.languages&&Nu.languages[0]||Nu.userLanguage||Nu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(r){rr.prototype[r]=function(){return this.techGet_(r)}});S1.forEach(function(r){rr.prototype["handleTech"+Xt(r)+"_"]=function(){return this.trigger(r)}});fe.registerComponent("Player",rr);var Wd="plugin",fo="activePlugins_",to={},Gd=function(e){return to.hasOwnProperty(e)},bd=function(e){return Gd(e)?to[e]:void 0},x1=function(e,n){e[fo]=e[fo]||{},e[fo][n]=!0},zd=function(e,n,i){var t=(i?"before":"")+"pluginsetup";e.trigger(t,n),e.trigger(t+":"+n.name,n)},uN=function(e,n){var i=function(){zd(this,{name:e,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return x1(this,e),zd(this,{name:e,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(t){i[t]=n[t]}),i},Hb=function(e,n){return n.prototype.name=e,function(){zd(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];var s=T2(n,[this].concat(t));return this[e]=function(){return s},zd(this,s.getEventHash()),s}},vi=function(){function r(n){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),Dv(this),delete this.trigger,Wx(this,this.constructor.defaultState),x1(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=r.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,t){return t===void 0&&(t={}),Bo(this.eventBusEl_,i,this.getEventHash(t))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[fo][i]=!1,this.player=this.state=null,t[i]=Hb(i,to[i])},r.isBasic=function(i){var t=typeof i=="string"?bd(i):i;return typeof t=="function"&&!r.prototype.isPrototypeOf(t.prototype)},r.registerPlugin=function(i,t){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(Gd(i))ot.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(rr.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof t+".");return to[i]=t,i!==Wd&&(r.isBasic(t)?rr.prototype[i]=uN(i,t):rr.prototype[i]=Hb(i,t)),t},r.deregisterPlugin=function(i){if(i===Wd)throw new Error("Cannot de-register base plugin.");Gd(i)&&(delete to[i],delete rr.prototype[i])},r.getPlugins=function(i){i===void 0&&(i=Object.keys(to));var t;return i.forEach(function(a){var s=bd(a);s&&(t=t||{},t[a]=s)}),t},r.getPluginVersion=function(i){var t=bd(i);return t&&t.VERSION||""},r}();vi.getPlugin=bd;vi.BASE_PLUGIN_NAME=Wd;vi.registerPlugin(Wd,vi);rr.prototype.usingPlugin=function(r){return!!this[fo]&&this[fo][r]===!0};rr.prototype.hasPlugin=function(r){return!!Gd(r)};var Vb=!1,lN=function(e,n){n===void 0&&(n={}),Vb||(ot.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Vb=!0);var i=function(){e.apply(this,arguments)},t={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),t=n):typeof n=="function"&&(i=n),PL(i,e),e&&(i.super_=e);for(var a in t)t.hasOwnProperty(a)&&(i.prototype[a]=t[a]);return i},E1=function(e){return e.indexOf("#")===0?e.slice(1):e};function J(r,e,n){var i=J.getPlayer(r);if(i)return e&&ot.warn('Player "'+r+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var t=typeof r=="string"?Pa("#"+E1(r)):r;if(!Mo(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&ot.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(t.parentNode&&t.parentNode.hasAttribute("data-vjs-player")?t.parentNode:t).cloneNode(!0)),ka("beforesetup").forEach(function(s){var l=s(t,Rt(e));if(!$i(l)||Array.isArray(l)){ot.error("please return an object in beforesetup hooks");return}e=Rt(e,l)});var a=fe.getComponent("Player");return i=new a(t,e,n),ka("setup").forEach(function(s){return s(i)}),i}J.hooks_=Ri;J.hooks=ka;J.hook=FR;J.hookOnce=MR;J.removeHook=mx;if(V.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Fo()){var rd=Pa(".vjs-styles-defaults");if(!rd){rd=Ux("vjs-styles-defaults");var ag=Pa("head");ag&&ag.insertBefore(rd,ag.firstChild),jx(rd,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Xg(1,J);J.VERSION=gx;J.options=rr.prototype.options_;J.getPlayers=function(){return rr.players};J.getPlayer=function(r){var e=rr.players,n;if(typeof r=="string"){var i=E1(r),t=e[i];if(t)return t;n=Pa("#"+i)}else n=r;if(Mo(n)){var a=n,s=a.player,l=a.playerId;if(s||e[l])return s||e[l]}};J.getAllPlayers=function(){return Object.keys(rr.players).map(function(r){return rr.players[r]}).filter(Boolean)};J.players=rr.players;J.getComponent=fe.getComponent;J.registerComponent=function(r,e){kt.isTech(e)&&ot.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),fe.registerComponent.call(fe,r,e)};J.getTech=kt.getTech;J.registerTech=kt.registerTech;J.use=y3;Object.defineProperty(J,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(J.middleware,"TERMINATOR",{value:Hd,writeable:!1,enumerable:!0});J.browser=qR;J.TOUCH_ENABLED=Co;J.extend=lN;J.mergeOptions=Rt;J.bind=Nt;J.registerPlugin=vi.registerPlugin;J.deregisterPlugin=vi.deregisterPlugin;J.plugin=function(r,e){return ot.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),vi.registerPlugin(r,e)};J.getPlugins=vi.getPlugins;J.getPlugin=vi.getPlugin;J.getPluginVersion=vi.getPluginVersion;J.addLanguage=function(r,e){var n;return r=(""+r).toLowerCase(),J.options.languages=Rt(J.options.languages,(n={},n[r]=e,n)),J.options.languages[r]};J.log=ot;J.createLogger=_x;J.createTimeRange=J.createTimeRanges=ps;J.formatTime=Io;J.setFormatTime=B3;J.resetFormatTime=U3;J.parseUrl=Pv;J.isCrossOrigin=$f;J.EventTarget=_r;J.on=vn;J.one=Vf;J.off=Fr;J.trigger=Bo;J.xhr=Df.exports;J.TextTrack=Ul;J.AudioTrack=Xx;J.VideoTrack=Jx;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){J[r]=function(){return ot.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),Mx[r].apply(null,arguments)}});J.computedStyle=Tl;J.dom=Mx;J.url=g3;J.defineLazyProperty=Xv;J.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var Un=Pf,Kd=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},Xn=function(e){return J.log.debug?J.log.debug.bind(J,"VHS:",e+" >"):function(){}},Ia=1/30,ci=Ia*3,w1=function(e,n){var i=[],t;if(e&&e.length)for(t=0;t<e.length;t++)n(e.start(t),e.end(t))&&i.push([e.start(t),e.end(t)]);return J.createTimeRanges(i)},ro=function(e,n){return w1(e,function(i,t){return i-ci<=n&&t+ci>=n})},nd=function(e,n){return w1(e,function(i){return i-Ia>=n})},cN=function(e){if(e.length<2)return J.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var t=e.end(i-1),a=e.start(i);n.push([t,a])}return J.createTimeRanges(n)},dN=function(e,n){var i=null,t=null,a=0,s=[],l=[];if(!e||!e.length||!n||!n.length)return J.createTimeRange();for(var c=e.length;c--;)s.push({time:e.start(c),type:"start"}),s.push({time:e.end(c),type:"end"});for(c=n.length;c--;)s.push({time:n.start(c),type:"start"}),s.push({time:n.end(c),type:"end"});for(s.sort(function(f,h){return f.time-h.time}),c=0;c<s.length;c++)s[c].type==="start"?(a++,a===2&&(i=s[c].time)):s[c].type==="end"&&(a--,a===1&&(t=s[c].time)),i!==null&&t!==null&&(l.push([i,t]),i=null,t=null);return J.createTimeRanges(l)},C1=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},fN=function(e,n,i){i===void 0&&(i=1);var t=e.length?e.end(e.length-1):0;return(t-n)/i},us=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},hN=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},qb=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Jv=function(e,n){var i=0;if(!e||!e.length)return i;for(var t=0;t<e.length;t++){var a=e.start(t),s=e.end(t);if(!(n>s)){if(n>a&&n<=s){i+=s-n;continue}i+=s-a}}return i},$b=J.createTimeRange,Yv=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(t){i+=t.duration}),(n.preloadHints||[]).forEach(function(t){t.type==="PART"&&(i+=e.partTargetDuration)}),i},rm=function(e){return(e.segments||[]).reduce(function(n,i,t){return i.parts?i.parts.forEach(function(a,s){n.push({duration:a.duration,segmentIndex:t,partIndex:s,part:a,segment:i})}):n.push({duration:i.duration,segmentIndex:t,partIndex:null,segment:i,part:null}),n},[])},A1=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},D1=function(e){var n=e.preloadSegment;if(!!n){var i=n.parts,t=n.preloadHints,a=(t||[]).reduce(function(s,l){return s+(l.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},k1=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=A1(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},pN=function(e,n){var i=0,t=n-e.mediaSequence,a=e.segments[t];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;t--;){if(a=e.segments[t],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=Yv(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},gN=function(e,n){for(var i=0,t,a=n-e.mediaSequence;a<e.segments.length;a++){if(t=e.segments[a],typeof t.start<"u")return{result:t.start-i,precise:!0};if(i+=Yv(e,t),typeof t.end<"u")return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}},P1=function(e,n,i){if(typeof n>"u"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var t=pN(e,n);if(t.precise)return t.result;var a=gN(e,n);return a.precise?a.result:t.result+i},I1=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return V.Infinity}return P1(e,n,i)},tl=function(e){var n=e.defaultDuration,i=e.durationList,t=e.startIndex,a=e.endIndex,s=0;if(t>a){var l=[a,t];t=l[0],a=l[1]}if(t<0){for(var c=t;c<Math.min(0,a);c++)s+=n;t=0}for(var f=t;f<a;f++)s+=i[f].duration;return s},O1=function(e,n,i,t){if(!e||!e.segments)return null;if(e.endList)return I1(e);if(n===null)return null;n=n||0;var a=P1(e,e.mediaSequence+e.segments.length,n);return i&&(t=typeof t=="number"?t:k1(null,e),a-=t),Math.max(0,a)},mN=function(e,n,i){var t=!0,a=n||0,s=O1(e,n,t,i);return s===null?$b():$b(a,s)},vN=function(e){for(var n=e.playlist,i=e.currentTime,t=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,l=e.experimentalExactManifestTimings,c=i-s,f=rm(n),h=0,v=0;v<f.length;v++){var y=f[v];if(t===y.segmentIndex&&!(typeof a=="number"&&typeof y.partIndex=="number"&&a!==y.partIndex)){h=v;break}}if(c<0){if(h>0)for(var x=h-1;x>=0;x--){var C=f[x];if(c+=C.duration,l){if(c<0)continue}else if(c+Ia<=0)continue;return{partIndex:C.partIndex,segmentIndex:C.segmentIndex,startTime:s-tl({defaultDuration:n.targetDuration,durationList:f,startIndex:h,endIndex:x})}}return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:i}}if(h<0){for(var k=h;k<0;k++)if(c-=n.targetDuration,c<0)return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:i};h=0}for(var P=h;P<f.length;P++){var R=f[P];if(c-=R.duration,l){if(c>0)continue}else if(c-Ia>=0)continue;return{partIndex:R.partIndex,segmentIndex:R.segmentIndex,startTime:s+tl({defaultDuration:n.targetDuration,durationList:f,startIndex:h,endIndex:P})}}return{segmentIndex:f[f.length-1].segmentIndex,partIndex:f[f.length-1].partIndex,startTime:i}},L1=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Qv=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Kf=function(e){var n=L1(e);return!e.disabled&&!n},_N=function(e){return e.disabled},yN=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},R1=function(e,n){return n.attributes&&n.attributes[e]},bN=function(e,n,i,t){if(t===void 0&&(t=0),!R1("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-t*8)/n},nm=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return Kf(t)?(t.attributes.BANDWIDTH||0)<i:!1}).length===0},Zv=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},Wb=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var a in i){for(var s in i[a])if(t=n(i[a][s]),t)break;if(t)break}return!!t},Vl=function(e){if(!e||!e.playlists||!e.playlists.length){var n=Wb(e,function(s){return s.playlists&&s.playlists.length||s.uri});return n}for(var i=function(l){var c=e.playlists[l],f=c.attributes&&c.attributes.CODECS;if(f&&f.split(",").every(function(v){return w2(v)}))return"continue";var h=Wb(e,function(v){return Zv(c,v)});return h?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var a=i(t);if(a!=="continue"&&typeof a=="object")return a.v}return!0},en={liveEdgeDelay:k1,duration:I1,seekable:mN,getMediaInfoForTime:vN,isEnabled:Kf,isDisabled:_N,isBlacklisted:L1,isIncompatible:Qv,playlistEnd:O1,isAes:yN,hasAttribute:R1,estimateSegmentRequestTime:bN,isLowestEnabledRendition:nm,isAudioOnly:Vl,playlistMatch:Zv,segmentDurationWithParts:Yv},N1=J.log,e0=function(e,n){return e+"-"+n},TN=function(e,n,i){return"placeholder-uri-"+e+"-"+n+"-"+i},SN=function(e){var n=e.onwarn,i=e.oninfo,t=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,l=e.customTagMappers,c=l===void 0?[]:l,f=e.experimentalLLHLS,h=new ML;n&&h.on("warn",n),i&&h.on("info",i),s.forEach(function(k){return h.addParser(k)}),c.forEach(function(k){return h.addTagMapper(k)}),h.push(t),h.end();var v=h.manifest;if(f||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(k){v.hasOwnProperty(k)&&delete v[k]}),v.segments&&v.segments.forEach(function(k){["parts","preloadHints"].forEach(function(P){k.hasOwnProperty(P)&&delete k[P]})})),!v.targetDuration){var y=10;v.segments&&v.segments.length&&(y=v.segments.reduce(function(k,P){return Math.max(k,P.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+y),v.targetDuration=y}var x=A1(v);if(x.length&&!v.partTargetDuration){var C=x.reduce(function(k,P){return Math.max(k,P.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+C),N1.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),v.partTargetDuration=C}return v},qo=function(e,n){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var t in e.mediaGroups[i])for(var a in e.mediaGroups[i][t]){var s=e.mediaGroups[i][t][a];n(s,i,t,a)}})},F1=function(e){var n=e.playlist,i=e.uri,t=e.id;n.id=t,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},xN=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];F1({playlist:i,id:e0(n,i.uri)}),i.resolvedUri=Un(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||N1.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},EN=function(e){qo(e,function(n){n.uri&&(n.resolvedUri=Un(e.uri,n.uri))})},wN=function(e,n){var i=e0(0,n),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:V.location.href,resolvedUri:V.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return t.playlists[i]=t.playlists[0],t.playlists[n]=t.playlists[0],t},M1=function(e,n,i){i===void 0&&(i=TN),e.uri=n;for(var t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){var a="placeholder-uri-"+t;e.playlists[t].uri=a}var s=Vl(e);qo(e,function(l,c,f,h){if(!l.playlists||!l.playlists.length){if(s&&c==="AUDIO"&&!l.uri)for(var v=0;v<e.playlists.length;v++){var y=e.playlists[v];if(y.attributes&&y.attributes.AUDIO&&y.attributes.AUDIO===f)return}l.playlists=[On({},l)]}l.playlists.forEach(function(x,C){var k=i(c,f,h,x),P=e0(C,k);x.uri?x.resolvedUri=x.resolvedUri||Un(e.uri,x.uri):(x.uri=C===0?k:P,x.resolvedUri=x.uri),x.id=x.id||P,x.attributes=x.attributes||{},e.playlists[x.id]=x,e.playlists[x.uri]=x})}),xN(e),EN(e)},Xd=J.mergeOptions,CN=J.EventTarget,AN=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var t=n.preloadSegment,a=n.mediaSequence+n.segments.length;if(t){var s=t.parts||[],l=D1(n)-1;l>-1&&l!==s.length-1&&(i._HLS_part=l),(l>-1||s.length)&&a--}i._HLS_msn=a}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var c=new V.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(f){!i.hasOwnProperty(f)||c.searchParams.set(f,i[f])}),e=c.toString()}return e},DN=function(e,n){if(!e)return n;var i=Xd(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var t=0;t<n.parts.length;t++)e.parts&&e.parts[t]&&(i.parts[t]=Xd(e.parts[t],n.parts[t]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},kN=function(e,n,i){var t=e.slice(),a=n.slice();i=i||0;for(var s=[],l,c=0;c<a.length;c++){var f=t[c+i],h=a[c];f?(l=f.map||l,s.push(DN(f,h))):(l&&!h.map&&(h.map=l),s.push(h))}return s},B1=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=Un(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Un(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Un(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Un(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Un(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Un(n,i.uri))})},U1=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var t=0;t<i.preloadHints.length;t++)if(i.preloadHints[t].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},j1=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},im=function(e,n,i){i===void 0&&(i=j1);var t=Xd(e,{}),a=t.playlists[n.id];if(!a||i(a,n))return null;n.segments=U1(n);var s=Xd(a,n);if(s.preloadSegment&&!n.preloadSegment&&delete s.preloadSegment,a.segments){if(n.skip){n.segments=n.segments||[];for(var l=0;l<n.skip.skippedSegments;l++)n.segments.unshift({skipped:!0})}s.segments=kN(a.segments,n.segments,n.mediaSequence-a.mediaSequence)}s.segments.forEach(function(f){B1(f,s.resolvedUri)});for(var c=0;c<t.playlists.length;c++)t.playlists[c].id===n.id&&(t.playlists[c]=s);return t.playlists[n.id]=s,t.playlists[n.uri]=s,qo(e,function(f,h,v,y){if(!!f.playlists)for(var x=0;x<f.playlists.length;x++)n.id===f.playlists[x].id&&(f.playlists[x]=s)}),t},am=function(e,n){var i=e.segments||[],t=i[i.length-1],a=t&&t.parts&&t.parts[t.parts.length-1],s=a&&a.duration||t&&t.duration;return n&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},no=function(r){Ee(e,r);function e(i,t,a){var s;if(a===void 0&&(a={}),s=r.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=Xn("PlaylistLoader");var l=a,c=l.withCredentials,f=c===void 0?!1:c,h=l.handleManifestRedirects,v=h===void 0?!1:h;s.src=i,s.vhs_=t,s.withCredentials=f,s.handleManifestRedirects=v;var y=t.options_;return s.customTagParsers=y&&y.customTagParsers||[],s.customTagMappers=y&&y.customTagMappers||[],s.experimentalLLHLS=y&&y.experimentalLLHLS||!1,J.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(Ye(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=Un(this.master.uri,a.uri);this.experimentalLLHLS&&(s=AN(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(l,c){if(!!t.request){if(l)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},n.playlistRequestError=function(t,a,s){var l=a.uri,c=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[c],status:t.status,message:"HLS playlist request error at URL: "+l+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(t){var a=this,s=t.url,l=t.manifestString;return SN({onwarn:function(f){var h=f.message;return a.logger_("m3u8-parser warn for "+s+": "+h)},oninfo:function(f){var h=f.message;return a.logger_("m3u8-parser info for "+s+": "+h)},manifestString:l,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(t){var a=t.playlistString,s=t.playlistObject,l=t.url,c=t.id;this.request=null,this.state="HAVE_METADATA";var f=s||this.parseManifest_({url:l,manifestString:a});f.lastRequest=Date.now(),F1({playlist:f,uri:l,id:c});var h=im(this.master,f);this.targetDuration=f.partTargetDuration||f.targetDuration,this.pendingMedia_=null,h?(this.master=h,this.media_=this.master.playlists[c]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(am(this.media(),!!h)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),V.clearTimeout(this.mediaUpdateTimeout),V.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(t,a){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(V.clearTimeout(this.finalRenditionTimeout),a){var l=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=V.setTimeout(this.media.bind(this,t,!1),l);return}var c=this.state,f=!this.media_||t.id!==this.media_.id,h=this.master.playlists[t.id];if(h&&h.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,f&&(this.trigger("mediachanging"),c==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(am(t,!0)),!!f){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(v,y){if(!!s.request){if(t.lastRequest=Date.now(),t.resolvedUri=Kd(s.handleManifestRedirects,t.resolvedUri,y),v)return s.playlistRequestError(s.request,t,c);s.haveMetadata({playlistString:y.responseText,url:t.uri,id:t.id}),c==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(t){var a=this;this.mediaUpdateTimeout&&(V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var l=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=V.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(t){var a=this;this.mediaUpdateTimeout&&(V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=V.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(t)},t))},n.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=V.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!t.request){if(t.request=null,a)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=Kd(t.handleManifestRedirects,t.src,s);var l=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(l)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,M1(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=U1(s),s.segments.forEach(function(l){B1(l,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||V.location.href;this.master=wN(t,a),this.haveMetadata({playlistObject:t,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(CN),PN=J.xhr,IN=J.mergeOptions,sm=function(e,n,i,t){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),t(n,e)},H1=function(){var e=function n(i,t){i=IN({timeout:45e3},i);var a=n.beforeRequest||J.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var l=J.Vhs.xhr.original===!0?PN:J.Vhs.xhr,c=l(i,function(h,v){return sm(c,h,v,t)}),f=c.abort;return c.abort=function(){return c.aborted=!0,f.apply(c,arguments)},c.uri=i.uri,c.requestTime=Date.now(),c};return e.original=!0,e},ON=function(e){var n,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?n=V.BigInt(e.offset)+V.BigInt(e.length)-V.BigInt(1):n=e.offset+e.length-1,"bytes="+i+"-"+n},om=function(e){var n={};return e.byterange&&(n.Range=ON(e.byterange)),n},LN=function(e,n){return e.start(n)+"-"+e.end(n)},RN=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},NN=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},V1=function(e){var n={};return Object.keys(e).forEach(function(i){var t=e[i];A2(t)?n[i]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[i]=t}),n},Jd=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},q1=function(e){return e.resolvedUri},$1=function(e){for(var n=Array.prototype.slice.call(e),i=16,t="",a,s,l=0;l<n.length/i;l++)a=n.slice(l*i,l*i+i).map(RN).join(""),s=n.slice(l*i,l*i+i).map(NN).join(""),t+=a+" "+s+`
`;return t},FN=function(e){var n=e.bytes;return $1(n)},MN=function(e){var n="",i;for(i=0;i<e.length;i++)n+=LN(e,i)+" ";return n},BN=Object.freeze({__proto__:null,createTransferableMessage:V1,initSegmentId:Jd,segmentKeyId:q1,hexDump:$1,tagDump:FN,textRanges:MN}),W1=.25,UN=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,t=n.videoTimingInfo.transmuxedPresentationStart,a=t+i,s=e-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},jN=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},HN=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var t=n.segments[0];if(i<t.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){t=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(i<s)break}var l=n.segments[n.segments.length-1],c=l.dateTimeObject,f=l.videoTimingInfo?jN(l.videoTimingInfo):l.duration+l.duration*W1,h=new Date(c.getTime()+f*1e3);return i>h?null:(i>c&&(t=l),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:en.duration(n,n.mediaSequence+n.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},VN=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,t,a=0;a<n.segments.length&&(t=n.segments[a],i=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:i+t.duration,!(e<=i));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*W1)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:i-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},qN=function(e,n){var i,t;try{i=new Date(e),t=new Date(n)}catch{}var a=i.getTime(),s=t.getTime();return(s-a)/1e3},$N=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},WN=function(e){var n=e.playlist,i=e.time,t=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||t===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=VN(t,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var l={mediaSeconds:t},c=UN(t,s.segment);return c&&(l.programDateTime=c.toISOString()),a(null,l)},GN=function r(e){var n=e.programTime,i=e.playlist,t=e.retryCount,a=t===void 0?2:t,s=e.seekTo,l=e.pauseAfterSeek,c=l===void 0?!0:l,f=e.tech,h=e.callback;if(!h)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!i||!s)return h({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!f.hasStarted_)return h({message:"player must be playing a live stream to start buffering"});if(!$N(i))return h({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var v=HN(n,i);if(!v)return h({message:n+" was not found in the stream"});var y=v.segment,x=qN(y.dateTimeObject,n);if(v.type==="estimate"){if(a===0)return h({message:n+" is not buffered yet. Try again"});s(v.estimatedStart+x),f.one("seeked",function(){r({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:c,tech:f,callback:h})});return}var C=y.start+x,k=function(){return h(null,f.currentTime())};f.one("seeked",k),c&&f.pause(),s(C)},sg=function(e,n){if(e.readyState===4)return n()},zN=function(e,n,i){var t=[],a,s=!1,l=function(y,x,C,k){return x.abort(),s=!0,i(y,x,C,k)},c=function(y,x){if(!s){if(y)return l(y,x,"",t);var C=x.responseText.substring(t&&t.byteLength||0,x.responseText.length);if(t=XL(t,D2(C,!0)),a=a||Vu(t),t.length<10||a&&t.length<a+2)return sg(x,function(){return l(y,x,"",t)});var k=mv(t);return k==="ts"&&t.length<188?sg(x,function(){return l(y,x,"",t)}):!k&&t.length<376?sg(x,function(){return l(y,x,"",t)}):l(null,x,k,t)}},f={uri:e,beforeSend:function(y){y.overrideMimeType("text/plain; charset=x-user-defined"),y.addEventListener("progress",function(x){return x.total,x.loaded,sm(y,null,{statusCode:y.status},c)})}},h=n(f,function(v,y){return sm(h,v,y,c)});return h},KN=J.EventTarget,G1=J.mergeOptions,Gb=function(e,n){if(!j1(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var t=e.segments[i],a=n.segments[i];if(t.uri!==a.uri)return!1;if(!(!t.byterange&&!a.byterange)){var s=t.byterange,l=a.byterange;if(s&&!l||!s&&l||s.offset!==l.offset||s.length!==l.length)return!1}}return!0},XN=function(e,n,i,t){var a=t.attributes.NAME||i;return"placeholder-uri-"+e+"-"+n+"-"+a},JN=function(e){var n=e.masterXml,i=e.srcUrl,t=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,l=pR(n,{manifestUri:i,clientOffset:t,sidxMapping:a,previousManifest:s});return M1(l,i,XN),l},YN=function(e,n){qo(e,function(i,t,a,s){s in n.mediaGroups[t][a]||delete e.mediaGroups[t][a][s]})},QN=function(e,n,i){for(var t=!0,a=G1(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod,timelineStarts:n.timelineStarts}),s=0;s<n.playlists.length;s++){var l=n.playlists[s];if(l.sidx){var c=Nf(l.sidx);i&&i[c]&&i[c].sidx&&fv(l,i[c].sidx,l.sidx.resolvedUri)}var f=im(a,l,Gb);f&&(a=f,t=!1)}return qo(n,function(h,v,y,x){if(h.playlists&&h.playlists.length){var C=h.playlists[0].id,k=im(a,h.playlists[0],Gb);k&&(a=k,x in a.mediaGroups[v][y]||(a.mediaGroups[v][y][x]=h),a.mediaGroups[v][y][x].playlists[0]=a.playlists[C],t=!1)}}),YN(a,n),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:a},ZN=function(e,n){var i=Boolean(!e.map&&!n.map),t=i||Boolean(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return t&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},zb=function(e,n){var i={};for(var t in e){var a=e[t],s=a.sidx;if(s){var l=Nf(s);if(!n[l])break;var c=n[l].sidxInfo;ZN(c,s)&&(i[l]=n[l])}}return i},eF=function(e,n){var i=zb(e.playlists,n),t=i;return qo(e,function(a,s,l,c){if(a.playlists&&a.playlists.length){var f=a.playlists;t=G1(t,zb(f,n))}}),t},um=function(r){Ee(e,r);function e(i,t,a,s){var l;a===void 0&&(a={}),l=r.call(this)||this,l.masterPlaylistLoader_=s||Ye(l),s||(l.isMaster_=!0);var c=a,f=c.withCredentials,h=f===void 0?!1:f,v=c.handleManifestRedirects,y=v===void 0?!1:v;if(l.vhs_=t,l.withCredentials=h,l.handleManifestRedirects=y,!i)throw new Error("A non-empty playlist URL or object is required");return l.on("minimumUpdatePeriod",function(){l.refreshXml_()}),l.on("mediaupdatetimeout",function(){l.refreshMedia_(l.media().id)}),l.state="HAVE_NOTHING",l.loadedPlaylists_={},l.logger_=Xn("DashPlaylistLoader"),l.isMaster_?(l.masterPlaylistLoader_.srcUrl=i,l.masterPlaylistLoader_.sidxMapping_={}):l.childPlaylist_=i,l}var n=e.prototype;return n.requestErrored_=function(t,a,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},n.addSidxSegments_=function(t,a,s){var l=this,c=t.sidx&&Nf(t.sidx);if(!t.sidx||!c||this.masterPlaylistLoader_.sidxMapping_[c]){this.mediaRequest_=V.setTimeout(function(){return s(!1)},0);return}var f=Kd(this.handleManifestRedirects,t.sidx.resolvedUri),h=function(y,x){if(!l.requestErrored_(y,x,a)){var C=l.masterPlaylistLoader_.sidxMapping_,k;try{k=yR(qe(x.response).subarray(8))}catch(P){l.requestErrored_(P,x,a);return}return C[c]={sidxInfo:t.sidx,sidx:k},fv(t,k,t.sidx.resolvedUri),s(!0)}};this.request=zN(f,this.vhs_.xhr,function(v,y,x,C){if(v)return h(v,y);if(!x||x!=="mp4")return h({status:y.status,message:"Unsupported "+(x||"unknown")+" container type for sidx segment at URL: "+f,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},y);var k=t.sidx.byterange,P=k.offset,R=k.length;if(C.length>=R+P)return h(v,{response:C.subarray(P,P+R),status:y.status,uri:y.uri});l.request=l.vhs_.xhr({uri:f,responseType:"arraybuffer",headers:om({byterange:t.sidx.byterange})},h)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},V.clearTimeout(this.minimumUpdatePeriodTimeout_),V.clearTimeout(this.mediaRequest_),V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(t){var a=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var l=!this.media_||t.id!==this.media_.id;if(l&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,l&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!l||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(c){a.haveMetadata({startingState:s,playlist:t})}))},n.haveMetadata=function(t){var a=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(V.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(t){var a=this;V.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var l=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=V.setTimeout(function(){return a.load()},l);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=V.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(a,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(t){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,l){if(a.requestErrored_(s,l)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var c=l.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=l.responseText,l.responseHeaders&&l.responseHeaders.date?a.masterLoaded_=Date.parse(l.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=Kd(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,l),c){a.handleMaster_(),a.syncClientServerClock_(function(){return t(l,c)});return}return t(l,c)})},n.syncClientServerClock_=function(t){var a=this,s=gR(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:Un(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(l,c){if(!!a.request){if(l)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),t();var f;s.method==="HEAD"?!c.responseHeaders||!c.responseHeaders.date?f=a.masterLoaded_:f=Date.parse(c.responseHeaders.date):f=Date.parse(c.responseText),a.masterPlaylistLoader_.clientOffset_=f-Date.now(),t()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,a=JN({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(a=QN(t,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||t;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!t||a&&a.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},n.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(V.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var a=t.master&&t.master.minimumUpdatePeriod;if(a===0&&(t.media()?a=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},n.createMUPTimeout_=function(t){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=V.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(t)},t)},n.refreshXml_=function(){var t=this;this.requestMaster_(function(a,s){!s||(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=eF(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(l){t.refreshMedia_(t.media().id)}))})},n.refreshMedia_=function(t){var a=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,l=!this.media_||this.media_!==s[t];if(l?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var c=function f(){a.media().endList||(a.mediaUpdateTimeout=V.setTimeout(function(){a.trigger("mediaupdatetimeout"),f()},am(a.media(),Boolean(l))))};c()}this.trigger("loadedplaylist")},e}(KN),pr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},tF=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},z1=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},rF=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},K1=function(e){return function(){var n=rF(e),i=z1(new Worker(n));i.objURL=n;var t=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),t.call(this)},i}},X1=function(e){return"var browserWorkerPolyFill = "+z1.toString()+`;
browserWorkerPolyFill(self);
`+e},J1=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},nF=X1(J1(function(){var r=function(){this.init=function(){var _={};this.on=function(S,T){_[S]||(_[S]=[]),_[S]=_[S].concat(T)},this.off=function(S,T){var E;return _[S]?(E=_[S].indexOf(T),_[S]=_[S].slice(),_[S].splice(E,1),E>-1):!1},this.trigger=function(S){var T,E,A,D;if(T=_[S],!!T)if(arguments.length===2)for(A=T.length,E=0;E<A;++E)T[E].call(this,arguments[1]);else{for(D=[],E=arguments.length,E=1;E<arguments.length;++E)D.push(arguments[E]);for(A=T.length,E=0;E<A;++E)T[E].apply(this,D)}},this.dispose=function(){_={}}}};r.prototype.pipe=function(I){return this.on("data",function(_){I.push(_)}),this.on("done",function(_){I.flush(_)}),this.on("partialdone",function(_){I.partialFlush(_)}),this.on("endedtimeline",function(_){I.endTimeline(_)}),this.on("reset",function(_){I.reset(_)}),I},r.prototype.push=function(I){this.trigger("data",I)},r.prototype.flush=function(I){this.trigger("done",I)},r.prototype.partialFlush=function(I){this.trigger("partialdone",I)},r.prototype.endTimeline=function(I){this.trigger("endedtimeline",I)},r.prototype.reset=function(I){this.trigger("reset",I)};var e=r,n=Math.pow(2,32),i=function(_){var S=new DataView(_.buffer,_.byteOffset,_.byteLength),T;return S.getBigUint64?(T=S.getBigUint64(0),T<Number.MAX_SAFE_INTEGER?Number(T):T):S.getUint32(0)*n+S.getUint32(4)},t={getUint64:i,MAX_UINT32:n},a=t.MAX_UINT32,s,l,c,f,h,v,y,x,C,k,P,R,F,B,H,K,Y,Q,U,z,Z,se,te,ce,Fe,Ue,ve,De,Me,_t,at,or,yt,ur,yr,Ar;(function(){var I;if(te={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(I in te)te.hasOwnProperty(I)&&(te[I]=[I.charCodeAt(0),I.charCodeAt(1),I.charCodeAt(2),I.charCodeAt(3)]);ce=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ue=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Fe=new Uint8Array([0,0,0,1]),ve=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),De=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Me={video:ve,audio:De},or=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),at=new Uint8Array([0,0,0,0,0,0,0,0]),yt=new Uint8Array([0,0,0,0,0,0,0,0]),ur=yt,yr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ar=yt,_t=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(_){var S=[],T=0,E,A,D;for(E=1;E<arguments.length;E++)S.push(arguments[E]);for(E=S.length;E--;)T+=S[E].byteLength;for(A=new Uint8Array(T+8),D=new DataView(A.buffer,A.byteOffset,A.byteLength),D.setUint32(0,A.byteLength),A.set(_,4),E=0,T=8;E<S.length;E++)A.set(S[E],T),T+=S[E].byteLength;return A},l=function(){return s(te.dinf,s(te.dref,or))},c=function(_){return s(te.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,_.audioobjecttype<<3|_.samplingfrequencyindex>>>1,_.samplingfrequencyindex<<7|_.channelcount<<3,6,1,2]))},f=function(){return s(te.ftyp,ce,Fe,ce,Ue)},K=function(_){return s(te.hdlr,Me[_])},h=function(_){return s(te.mdat,_)},H=function(_){var S=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,_.duration>>>24&255,_.duration>>>16&255,_.duration>>>8&255,_.duration&255,85,196,0,0]);return _.samplerate&&(S[12]=_.samplerate>>>24&255,S[13]=_.samplerate>>>16&255,S[14]=_.samplerate>>>8&255,S[15]=_.samplerate&255),s(te.mdhd,S)},B=function(_){return s(te.mdia,H(_),K(_.type),y(_))},v=function(_){return s(te.mfhd,new Uint8Array([0,0,0,0,(_&4278190080)>>24,(_&16711680)>>16,(_&65280)>>8,_&255]))},y=function(_){return s(te.minf,_.type==="video"?s(te.vmhd,_t):s(te.smhd,at),l(),Q(_))},x=function(_,S){for(var T=[],E=S.length;E--;)T[E]=z(S[E]);return s.apply(null,[te.moof,v(_)].concat(T))},C=function(_){for(var S=_.length,T=[];S--;)T[S]=R(_[S]);return s.apply(null,[te.moov,P(4294967295)].concat(T).concat(k(_)))},k=function(_){for(var S=_.length,T=[];S--;)T[S]=Z(_[S]);return s.apply(null,[te.mvex].concat(T))},P=function(_){var S=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(_&4278190080)>>24,(_&16711680)>>16,(_&65280)>>8,_&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(te.mvhd,S)},Y=function(_){var S=_.samples||[],T=new Uint8Array(4+S.length),E,A;for(A=0;A<S.length;A++)E=S[A].flags,T[A+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return s(te.sdtp,T)},Q=function(_){return s(te.stbl,U(_),s(te.stts,Ar),s(te.stsc,ur),s(te.stsz,yr),s(te.stco,yt))},function(){var I,_;U=function(T){return s(te.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),T.type==="video"?I(T):_(T))},I=function(T){var E=T.sps||[],A=T.pps||[],D=[],N=[],M,q;for(M=0;M<E.length;M++)D.push((E[M].byteLength&65280)>>>8),D.push(E[M].byteLength&255),D=D.concat(Array.prototype.slice.call(E[M]));for(M=0;M<A.length;M++)N.push((A[M].byteLength&65280)>>>8),N.push(A[M].byteLength&255),N=N.concat(Array.prototype.slice.call(A[M]));if(q=[te.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(T.width&65280)>>8,T.width&255,(T.height&65280)>>8,T.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(te.avcC,new Uint8Array([1,T.profileIdc,T.profileCompatibility,T.levelIdc,255].concat([E.length],D,[A.length],N))),s(te.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],T.sarRatio){var $=T.sarRatio[0],X=T.sarRatio[1];q.push(s(te.pasp,new Uint8Array([($&4278190080)>>24,($&16711680)>>16,($&65280)>>8,$&255,(X&4278190080)>>24,(X&16711680)>>16,(X&65280)>>8,X&255])))}return s.apply(null,q)},_=function(T){return s(te.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(T.channelcount&65280)>>8,T.channelcount&255,(T.samplesize&65280)>>8,T.samplesize&255,0,0,0,0,(T.samplerate&65280)>>8,T.samplerate&255,0,0]),c(T))}}(),F=function(_){var S=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(_.id&4278190080)>>24,(_.id&16711680)>>16,(_.id&65280)>>8,_.id&255,0,0,0,0,(_.duration&4278190080)>>24,(_.duration&16711680)>>16,(_.duration&65280)>>8,_.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(_.width&65280)>>8,_.width&255,0,0,(_.height&65280)>>8,_.height&255,0,0]);return s(te.tkhd,S)},z=function(_){var S,T,E,A,D,N,M;return S=s(te.tfhd,new Uint8Array([0,0,0,58,(_.id&4278190080)>>24,(_.id&16711680)>>16,(_.id&65280)>>8,_.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),N=Math.floor(_.baseMediaDecodeTime/a),M=Math.floor(_.baseMediaDecodeTime%a),T=s(te.tfdt,new Uint8Array([1,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,N&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255])),D=32+20+8+16+8+8,_.type==="audio"?(E=se(_,D),s(te.traf,S,T,E)):(A=Y(_),E=se(_,A.length+D),s(te.traf,S,T,E,A))},R=function(_){return _.duration=_.duration||4294967295,s(te.trak,F(_),B(_))},Z=function(_){var S=new Uint8Array([0,0,0,0,(_.id&4278190080)>>24,(_.id&16711680)>>16,(_.id&65280)>>8,_.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return _.type!=="video"&&(S[S.length-1]=0),s(te.trex,S)},function(){var I,_,S;S=function(E,A){var D=0,N=0,M=0,q=0;return E.length&&(E[0].duration!==void 0&&(D=1),E[0].size!==void 0&&(N=2),E[0].flags!==void 0&&(M=4),E[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,D|N|M|q,1,(E.length&4278190080)>>>24,(E.length&16711680)>>>16,(E.length&65280)>>>8,E.length&255,(A&4278190080)>>>24,(A&16711680)>>>16,(A&65280)>>>8,A&255]},_=function(E,A){var D,N,M,q,$,X;for(q=E.samples||[],A+=8+12+16*q.length,M=S(q,A),N=new Uint8Array(M.length+q.length*16),N.set(M),D=M.length,X=0;X<q.length;X++)$=q[X],N[D++]=($.duration&4278190080)>>>24,N[D++]=($.duration&16711680)>>>16,N[D++]=($.duration&65280)>>>8,N[D++]=$.duration&255,N[D++]=($.size&4278190080)>>>24,N[D++]=($.size&16711680)>>>16,N[D++]=($.size&65280)>>>8,N[D++]=$.size&255,N[D++]=$.flags.isLeading<<2|$.flags.dependsOn,N[D++]=$.flags.isDependedOn<<6|$.flags.hasRedundancy<<4|$.flags.paddingValue<<1|$.flags.isNonSyncSample,N[D++]=$.flags.degradationPriority&240<<8,N[D++]=$.flags.degradationPriority&15,N[D++]=($.compositionTimeOffset&4278190080)>>>24,N[D++]=($.compositionTimeOffset&16711680)>>>16,N[D++]=($.compositionTimeOffset&65280)>>>8,N[D++]=$.compositionTimeOffset&255;return s(te.trun,N)},I=function(E,A){var D,N,M,q,$,X;for(q=E.samples||[],A+=8+12+8*q.length,M=S(q,A),D=new Uint8Array(M.length+q.length*8),D.set(M),N=M.length,X=0;X<q.length;X++)$=q[X],D[N++]=($.duration&4278190080)>>>24,D[N++]=($.duration&16711680)>>>16,D[N++]=($.duration&65280)>>>8,D[N++]=$.duration&255,D[N++]=($.size&4278190080)>>>24,D[N++]=($.size&16711680)>>>16,D[N++]=($.size&65280)>>>8,D[N++]=$.size&255;return s(te.trun,D)},se=function(E,A){return E.type==="audio"?I(E,A):_(E,A)}}();var mt={ftyp:f,mdat:h,moof:x,moov:C,initSegment:function(_){var S=f(),T=C(_),E;return E=new Uint8Array(S.byteLength+T.byteLength),E.set(S),E.set(T,S.byteLength),E}},oe=function(_){var S,T,E=[],A=[];for(A.byteLength=0,A.nalCount=0,A.duration=0,E.byteLength=0,S=0;S<_.length;S++)T=_[S],T.nalUnitType==="access_unit_delimiter_rbsp"?(E.length&&(E.duration=T.dts-E.dts,A.byteLength+=E.byteLength,A.nalCount+=E.length,A.duration+=E.duration,A.push(E)),E=[T],E.byteLength=T.data.byteLength,E.pts=T.pts,E.dts=T.dts):(T.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(E.keyFrame=!0),E.duration=T.dts-E.dts,E.byteLength+=T.data.byteLength,E.push(T));return A.length&&(!E.duration||E.duration<=0)&&(E.duration=A[A.length-1].duration),A.byteLength+=E.byteLength,A.nalCount+=E.length,A.duration+=E.duration,A.push(E),A},xe=function(_){var S,T,E=[],A=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=_[0].pts,E.dts=_[0].dts,A.byteLength=0,A.nalCount=0,A.duration=0,A.pts=_[0].pts,A.dts=_[0].dts,S=0;S<_.length;S++)T=_[S],T.keyFrame?(E.length&&(A.push(E),A.byteLength+=E.byteLength,A.nalCount+=E.nalCount,A.duration+=E.duration),E=[T],E.nalCount=T.length,E.byteLength=T.byteLength,E.pts=T.pts,E.dts=T.dts,E.duration=T.duration):(E.duration+=T.duration,E.nalCount+=T.length,E.byteLength+=T.byteLength,E.push(T));return A.length&&E.duration<=0&&(E.duration=A[A.length-1].duration),A.byteLength+=E.byteLength,A.nalCount+=E.nalCount,A.duration+=E.duration,A.push(E),A},we=function(_){var S;return!_[0][0].keyFrame&&_.length>1&&(S=_.shift(),_.byteLength-=S.byteLength,_.nalCount-=S.nalCount,_[0][0].dts=S.dts,_[0][0].pts=S.pts,_[0][0].duration+=S.duration),_},Ne=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ut=function(_,S){var T=Ne();return T.dataOffset=S,T.compositionTimeOffset=_.pts-_.dts,T.duration=_.duration,T.size=4*_.length,T.size+=_.byteLength,_.keyFrame&&(T.flags.dependsOn=2,T.flags.isNonSyncSample=0),T},Tt=function(_,S){var T,E,A,D,N,M=S||0,q=[];for(T=0;T<_.length;T++)for(D=_[T],E=0;E<D.length;E++)N=D[E],A=ut(N,M),M+=A.size,q.push(A);return q},j=function(_){var S,T,E,A,D,N,M=0,q=_.byteLength,$=_.nalCount,X=q+4*$,ne=new Uint8Array(X),Se=new DataView(ne.buffer);for(S=0;S<_.length;S++)for(A=_[S],T=0;T<A.length;T++)for(D=A[T],E=0;E<D.length;E++)N=D[E],Se.setUint32(M,N.data.byteLength),M+=4,ne.set(N.data,M),M+=N.data.byteLength;return ne},G=function(_,S){var T,E=S||0,A=[];return T=ut(_,E),A.push(T),A},ee=function(_){var S,T,E=0,A=_.byteLength,D=_.length,N=A+4*D,M=new Uint8Array(N),q=new DataView(M.buffer);for(S=0;S<_.length;S++)T=_[S],q.setUint32(E,T.data.byteLength),E+=4,M.set(T.data,E),E+=T.data.byteLength;return M},ue={groupNalsIntoFrames:oe,groupFramesIntoGops:xe,extendFirstKeyFrame:we,generateSampleTable:Tt,concatenateNalData:j,generateSampleTableForFrame:G,concatenateNalDataForFrame:ee},ae=[33,16,5,32,164,27],ye=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],de=function(_){for(var S=[];_--;)S.push(0);return S},be=function(_){return Object.keys(_).reduce(function(S,T){return S[T]=new Uint8Array(_[T].reduce(function(E,A){return E.concat(A)},[])),S},{})},he,pe=function(){if(!he){var _={96e3:[ae,[227,64],de(154),[56]],88200:[ae,[231],de(170),[56]],64e3:[ae,[248,192],de(240),[56]],48e3:[ae,[255,192],de(268),[55,148,128],de(54),[112]],44100:[ae,[255,192],de(268),[55,163,128],de(84),[112]],32e3:[ae,[255,192],de(268),[55,234],de(226),[112]],24e3:[ae,[255,192],de(268),[55,255,128],de(268),[111,112],de(126),[224]],16e3:[ae,[255,192],de(268),[55,255,128],de(268),[111,255],de(269),[223,108],de(195),[1,192]],12e3:[ye,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,253,128],de(259),[56]],11025:[ye,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,255,192],de(268),[55,175,128],de(108),[112]],8e3:[ye,de(268),[3,121,16],de(47),[7]]};he=be(_)}return he},Le=9e4,je,ke,$e,nt,ct,lt,jt;je=function(_){return _*Le},ke=function(_,S){return _*S},$e=function(_){return _/Le},nt=function(_,S){return _/S},ct=function(_,S){return je(nt(_,S))},lt=function(_,S){return ke($e(_),S)},jt=function(_,S,T){return $e(T?_:_-S)};var Qe={ONE_SECOND_IN_TS:Le,secondsToVideoTs:je,secondsToAudioTs:ke,videoTsToSeconds:$e,audioTsToSeconds:nt,audioTsToVideoTs:ct,videoTsToAudioTs:lt,metadataTsToSeconds:jt},Ln=function(_){var S,T,E=0;for(S=0;S<_.length;S++)T=_[S],E+=T.data.byteLength;return E},Na=function(_,S,T,E){var A,D=0,N=0,M=0,q=0,$,X,ne;if(!!S.length&&(A=Qe.audioTsToVideoTs(_.baseMediaDecodeTime,_.samplerate),D=Math.ceil(Qe.ONE_SECOND_IN_TS/(_.samplerate/1024)),T&&E&&(N=A-Math.max(T,E),M=Math.floor(N/D),q=M*D),!(M<1||q>Qe.ONE_SECOND_IN_TS/2))){for($=pe()[_.samplerate],$||($=S[0].data),X=0;X<M;X++)ne=S[0],S.splice(0,0,{data:$,dts:ne.dts-D,pts:ne.pts-D});return _.baseMediaDecodeTime-=Math.floor(Qe.videoTsToAudioTs(q,_.samplerate)),q}},_n=function(_,S,T){return S.minSegmentDts>=T?_:(S.minSegmentDts=1/0,_.filter(function(E){return E.dts>=T?(S.minSegmentDts=Math.min(S.minSegmentDts,E.dts),S.minSegmentPts=S.minSegmentDts,!0):!1}))},Ss=function(_){var S,T,E=[];for(S=0;S<_.length;S++)T=_[S],E.push({size:T.data.byteLength,duration:1024});return E},lr=function(_){var S,T,E=0,A=new Uint8Array(Ln(_));for(S=0;S<_.length;S++)T=_[S],A.set(T.data,E),E+=T.data.byteLength;return A},cr={prefixWithSilence:Na,trimAdtsFramesByEarliestDts:_n,generateSampleTable:Ss,concatenateFrameData:lr},Yi=Qe.ONE_SECOND_IN_TS,xs=function(_,S){typeof S.pts=="number"&&(_.timelineStartInfo.pts===void 0&&(_.timelineStartInfo.pts=S.pts),_.minSegmentPts===void 0?_.minSegmentPts=S.pts:_.minSegmentPts=Math.min(_.minSegmentPts,S.pts),_.maxSegmentPts===void 0?_.maxSegmentPts=S.pts:_.maxSegmentPts=Math.max(_.maxSegmentPts,S.pts)),typeof S.dts=="number"&&(_.timelineStartInfo.dts===void 0&&(_.timelineStartInfo.dts=S.dts),_.minSegmentDts===void 0?_.minSegmentDts=S.dts:_.minSegmentDts=Math.min(_.minSegmentDts,S.dts),_.maxSegmentDts===void 0?_.maxSegmentDts=S.dts:_.maxSegmentDts=Math.max(_.maxSegmentDts,S.dts))},Xf=function(_){delete _.minSegmentDts,delete _.maxSegmentDts,delete _.minSegmentPts,delete _.maxSegmentPts},Jf=function(_,S){var T,E,A=_.minSegmentDts;return S||(A-=_.timelineStartInfo.dts),T=_.timelineStartInfo.baseMediaDecodeTime,T+=A,T=Math.max(0,T),_.type==="audio"&&(E=_.samplerate/Yi,T*=E,T=Math.floor(T)),T},zr={clearDtsInfo:Xf,calculateTrackBaseMediaDecodeTime:Jf,collectDtsInfo:xs},ql=4,Es=128,$o=function(_){for(var S=0,T={payloadType:-1,payloadSize:0},E=0,A=0;S<_.byteLength&&_[S]!==Es;){for(;_[S]===255;)E+=255,S++;for(E+=_[S++];_[S]===255;)A+=255,S++;if(A+=_[S++],!T.payload&&E===ql){var D=String.fromCharCode(_[S+3],_[S+4],_[S+5],_[S+6]);if(D==="GA94"){T.payloadType=E,T.payloadSize=A,T.payload=_.subarray(S,S+A);break}else T.payload=void 0}S+=A,E=0,A=0}return T},yn=function(_){return _.payload[0]!==181||(_.payload[1]<<8|_.payload[2])!==49||String.fromCharCode(_.payload[3],_.payload[4],_.payload[5],_.payload[6])!=="GA94"||_.payload[7]!==3?null:_.payload.subarray(8,_.payload.length-1)},ze=function(_,S){var T=[],E,A,D,N;if(!(S[0]&64))return T;for(A=S[0]&31,E=0;E<A;E++)D=E*3,N={type:S[D+2]&3,pts:_},S[D+2]&4&&(N.ccData=S[D+3]<<8|S[D+4],T.push(N));return T},st=function(_){for(var S=_.byteLength,T=[],E=1,A,D;E<S-2;)_[E]===0&&_[E+1]===0&&_[E+2]===3?(T.push(E+2),E+=2):E++;if(T.length===0)return _;A=S-T.length,D=new Uint8Array(A);var N=0;for(E=0;E<A;N++,E++)N===T[0]&&(N++,T.shift()),D[E]=_[N];return D},_i={parseSei:$o,parseUserData:yn,parseCaptionPackets:ze,discardEmulationPreventionBytes:st,USER_DATA_REGISTERED_ITU_T_T35:ql},Dr=function I(_){_=_||{},I.prototype.init.call(this),this.parse708captions_=typeof _.parse708captions=="boolean"?_.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Pt(0,0),new Pt(0,1),new Pt(1,0),new Pt(1,1)],this.parse708captions_&&(this.cc708Stream_=new dt({captionServices:_.captionServices})),this.reset(),this.ccStreams_.forEach(function(S){S.on("data",this.trigger.bind(this,"data")),S.on("partialdone",this.trigger.bind(this,"partialdone")),S.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Dr.prototype=new e,Dr.prototype.push=function(I){var _,S,T;if(I.nalUnitType==="sei_rbsp"&&(_=_i.parseSei(I.escapedRBSP),!!_.payload&&_.payloadType===_i.USER_DATA_REGISTERED_ITU_T_T35&&(S=_i.parseUserData(_),!!S))){if(I.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(I.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}T=_i.parseCaptionPackets(I.pts,S),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==I.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=I.dts}},Dr.prototype.flushCCStreams=function(I){this.ccStreams_.forEach(function(_){return I==="flush"?_.flush():_.partialFlush()},this)},Dr.prototype.flushStream=function(I){if(!this.captionPackets_.length){this.flushCCStreams(I);return}this.captionPackets_.forEach(function(_,S){_.presortIndex=S}),this.captionPackets_.sort(function(_,S){return _.pts===S.pts?_.presortIndex-S.presortIndex:_.pts-S.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(I)},Dr.prototype.flush=function(){return this.flushStream("flush")},Dr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Dr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(I){I.reset()})},Dr.prototype.dispatchCea608Packet=function(I){this.setsTextOrXDSActive(I)?this.activeCea608Channel_[I.type]=null:this.setsChannel1Active(I)?this.activeCea608Channel_[I.type]=0:this.setsChannel2Active(I)&&(this.activeCea608Channel_[I.type]=1),this.activeCea608Channel_[I.type]!==null&&this.ccStreams_[(I.type<<1)+this.activeCea608Channel_[I.type]].push(I)},Dr.prototype.setsChannel1Active=function(I){return(I.ccData&30720)===4096},Dr.prototype.setsChannel2Active=function(I){return(I.ccData&30720)===6144},Dr.prototype.setsTextOrXDSActive=function(I){return(I.ccData&28928)===256||(I.ccData&30974)===4138||(I.ccData&30974)===6186},Dr.prototype.dispatchCea708Packet=function(I){this.parse708captions_&&this.cc708Stream_.push(I)};var ws={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},yi=function(_){var S=ws[_]||_;return _&4096&&_===S?"":String.fromCharCode(S)},Jn=function(_){return 32<=_&&_<=127||160<=_&&_<=255},bn=function(_){this.windowNum=_,this.reset()};bn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},bn.prototype.getText=function(){return this.rows.join(`
`)},bn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},bn.prototype.newLine=function(I){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(I),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},bn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},bn.prototype.addText=function(I){this.rows[this.rowIdx]+=I},bn.prototype.backspace=function(){if(!this.isEmpty()){var I=this.rows[this.rowIdx];this.rows[this.rowIdx]=I.substr(0,I.length-1)}};var Fa=function(_,S,T){this.serviceNum=_,this.text="",this.currentWindow=new bn(-1),this.windows=[],this.stream=T,typeof S=="string"&&this.createTextDecoder(S)};Fa.prototype.init=function(I,_){this.startPts=I;for(var S=0;S<8;S++)this.windows[S]=new bn(S),typeof _=="function"&&(this.windows[S].beforeRowOverflow=_)},Fa.prototype.setCurrentWindow=function(I){this.currentWindow=this.windows[I]},Fa.prototype.createTextDecoder=function(I){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(I)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+I+" encoding. "+_})}};var dt=function I(_){_=_||{},I.prototype.init.call(this);var S=this,T=_.captionServices||{},E={},A;Object.keys(T).forEach(function(D){A=T[D],/^SERVICE/.test(D)&&(E[D]=A.encoding)}),this.serviceEncodings=E,this.current708Packet=null,this.services={},this.push=function(D){D.type===3?(S.new708Packet(),S.add708Bytes(D)):(S.current708Packet===null&&S.new708Packet(),S.add708Bytes(D))}};dt.prototype=new e,dt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},dt.prototype.add708Bytes=function(I){var _=I.ccData,S=_>>>8,T=_&255;this.current708Packet.ptsVals.push(I.pts),this.current708Packet.data.push(S),this.current708Packet.data.push(T)},dt.prototype.push708Packet=function(){var I=this.current708Packet,_=I.data,S=null,T=null,E=0,A=_[E++];for(I.seq=A>>6,I.sizeCode=A&63;E<_.length;E++)A=_[E++],S=A>>5,T=A&31,S===7&&T>0&&(A=_[E++],S=A),this.pushServiceBlock(S,E,T),T>0&&(E+=T-1)},dt.prototype.pushServiceBlock=function(I,_,S){var T,E=_,A=this.current708Packet.data,D=this.services[I];for(D||(D=this.initService(I,E));E<_+S&&E<A.length;E++)T=A[E],Jn(T)?E=this.handleText(E,D):T===24?E=this.multiByteCharacter(E,D):T===16?E=this.extendedCommands(E,D):128<=T&&T<=135?E=this.setCurrentWindow(E,D):152<=T&&T<=159?E=this.defineWindow(E,D):T===136?E=this.clearWindows(E,D):T===140?E=this.deleteWindows(E,D):T===137?E=this.displayWindows(E,D):T===138?E=this.hideWindows(E,D):T===139?E=this.toggleWindows(E,D):T===151?E=this.setWindowAttributes(E,D):T===144?E=this.setPenAttributes(E,D):T===145?E=this.setPenColor(E,D):T===146?E=this.setPenLocation(E,D):T===143?D=this.reset(E,D):T===8?D.currentWindow.backspace():T===12?D.currentWindow.clearText():T===13?D.currentWindow.pendingNewLine=!0:T===14?D.currentWindow.clearText():T===141&&E++},dt.prototype.extendedCommands=function(I,_){var S=this.current708Packet.data,T=S[++I];return Jn(T)&&(I=this.handleText(I,_,{isExtended:!0})),I},dt.prototype.getPts=function(I){return this.current708Packet.ptsVals[Math.floor(I/2)]},dt.prototype.initService=function(I,_){var T="SERVICE"+I,S=this,T,E;return T in this.serviceEncodings&&(E=this.serviceEncodings[T]),this.services[I]=new Fa(I,E,S),this.services[I].init(this.getPts(_),function(A){S.flushDisplayed(A,S.services[I])}),this.services[I]},dt.prototype.handleText=function(I,_,S){var T=S&&S.isExtended,E=S&&S.isMultiByte,A=this.current708Packet.data,D=T?4096:0,N=A[I],M=A[I+1],q=_.currentWindow,$,X;return _.textDecoder_&&!T?(E?(X=[N,M],I++):X=[N],$=_.textDecoder_.decode(new Uint8Array(X))):$=yi(D|N),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(I)),q.pendingNewLine=!1,q.addText($),I},dt.prototype.multiByteCharacter=function(I,_){var S=this.current708Packet.data,T=S[I+1],E=S[I+2];return Jn(T)&&Jn(E)&&(I=this.handleText(++I,_,{isMultiByte:!0})),I},dt.prototype.setCurrentWindow=function(I,_){var S=this.current708Packet.data,T=S[I],E=T&7;return _.setCurrentWindow(E),I},dt.prototype.defineWindow=function(I,_){var S=this.current708Packet.data,T=S[I],E=T&7;_.setCurrentWindow(E);var A=_.currentWindow;return T=S[++I],A.visible=(T&32)>>5,A.rowLock=(T&16)>>4,A.columnLock=(T&8)>>3,A.priority=T&7,T=S[++I],A.relativePositioning=(T&128)>>7,A.anchorVertical=T&127,T=S[++I],A.anchorHorizontal=T,T=S[++I],A.anchorPoint=(T&240)>>4,A.rowCount=T&15,T=S[++I],A.columnCount=T&63,T=S[++I],A.windowStyle=(T&56)>>3,A.penStyle=T&7,A.virtualRowCount=A.rowCount+1,I},dt.prototype.setWindowAttributes=function(I,_){var S=this.current708Packet.data,T=S[I],E=_.currentWindow.winAttr;return T=S[++I],E.fillOpacity=(T&192)>>6,E.fillRed=(T&48)>>4,E.fillGreen=(T&12)>>2,E.fillBlue=T&3,T=S[++I],E.borderType=(T&192)>>6,E.borderRed=(T&48)>>4,E.borderGreen=(T&12)>>2,E.borderBlue=T&3,T=S[++I],E.borderType+=(T&128)>>5,E.wordWrap=(T&64)>>6,E.printDirection=(T&48)>>4,E.scrollDirection=(T&12)>>2,E.justify=T&3,T=S[++I],E.effectSpeed=(T&240)>>4,E.effectDirection=(T&12)>>2,E.displayEffect=T&3,I},dt.prototype.flushDisplayed=function(I,_){for(var S=[],T=0;T<8;T++)_.windows[T].visible&&!_.windows[T].isEmpty()&&S.push(_.windows[T].getText());_.endPts=I,_.text=S.join(`

`),this.pushCaption(_),_.startPts=I},dt.prototype.pushCaption=function(I){I.text!==""&&(this.trigger("data",{startPts:I.startPts,endPts:I.endPts,text:I.text,stream:"cc708_"+I.serviceNum}),I.text="",I.startPts=I.endPts)},dt.prototype.displayWindows=function(I,_){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,_);for(var A=0;A<8;A++)T&1<<A&&(_.windows[A].visible=1);return I},dt.prototype.hideWindows=function(I,_){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,_);for(var A=0;A<8;A++)T&1<<A&&(_.windows[A].visible=0);return I},dt.prototype.toggleWindows=function(I,_){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,_);for(var A=0;A<8;A++)T&1<<A&&(_.windows[A].visible^=1);return I},dt.prototype.clearWindows=function(I,_){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,_);for(var A=0;A<8;A++)T&1<<A&&_.windows[A].clearText();return I},dt.prototype.deleteWindows=function(I,_){var S=this.current708Packet.data,T=S[++I],E=this.getPts(I);this.flushDisplayed(E,_);for(var A=0;A<8;A++)T&1<<A&&_.windows[A].reset();return I},dt.prototype.setPenAttributes=function(I,_){var S=this.current708Packet.data,T=S[I],E=_.currentWindow.penAttr;return T=S[++I],E.textTag=(T&240)>>4,E.offset=(T&12)>>2,E.penSize=T&3,T=S[++I],E.italics=(T&128)>>7,E.underline=(T&64)>>6,E.edgeType=(T&56)>>3,E.fontStyle=T&7,I},dt.prototype.setPenColor=function(I,_){var S=this.current708Packet.data,T=S[I],E=_.currentWindow.penColor;return T=S[++I],E.fgOpacity=(T&192)>>6,E.fgRed=(T&48)>>4,E.fgGreen=(T&12)>>2,E.fgBlue=T&3,T=S[++I],E.bgOpacity=(T&192)>>6,E.bgRed=(T&48)>>4,E.bgGreen=(T&12)>>2,E.bgBlue=T&3,T=S[++I],E.edgeRed=(T&48)>>4,E.edgeGreen=(T&12)>>2,E.edgeBlue=T&3,I},dt.prototype.setPenLocation=function(I,_){var S=this.current708Packet.data,T=S[I],E=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,T=S[++I],E.row=T&15,T=S[++I],E.column=T&63,I},dt.prototype.reset=function(I,_){var S=this.getPts(I);return this.flushDisplayed(S,_),this.initService(_.serviceNum,I)};var Cs={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Yn=function(_){return _===null?"":(_=Cs[_]||_,String.fromCharCode(_))},Ma=14,Wo=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Qn=function(){for(var _=[],S=Ma+1;S--;)_.push("");return _},Pt=function I(_,S){I.prototype.init.call(this),this.field_=_||0,this.dataChannel_=S||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(T){var E,A,D,N,M;if(E=T.ccData&32639,E===this.lastControlCode_){this.lastControlCode_=null;return}if((E&61440)===4096?this.lastControlCode_=E:E!==this.PADDING_&&(this.lastControlCode_=null),D=E>>>8,N=E&255,E!==this.PADDING_)if(E===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(E===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(T.pts),this.flushDisplayed(T.pts),A=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=A,this.startPts_=T.pts;else if(E===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(T.pts);else if(E===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(T.pts);else if(E===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(T.pts);else if(E===this.CARRIAGE_RETURN_)this.clearFormatting(T.pts),this.flushDisplayed(T.pts),this.shiftRowsUp_(),this.startPts_=T.pts;else if(E===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(E===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(T.pts),this.displayed_=Qn();else if(E===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Qn();else if(E===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(T.pts),this.displayed_=Qn()),this.mode_="paintOn",this.startPts_=T.pts;else if(this.isSpecialCharacter(D,N))D=(D&3)<<8,M=Yn(D|N),this[this.mode_](T.pts,M),this.column_++;else if(this.isExtCharacter(D,N))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),D=(D&3)<<8,M=Yn(D|N),this[this.mode_](T.pts,M),this.column_++;else if(this.isMidRowCode(D,N))this.clearFormatting(T.pts),this[this.mode_](T.pts," "),this.column_++,(N&14)===14&&this.addFormatting(T.pts,["i"]),(N&1)===1&&this.addFormatting(T.pts,["u"]);else if(this.isOffsetControlCode(D,N))this.column_+=N&3;else if(this.isPAC(D,N)){var q=Wo.indexOf(E&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(T.pts,q)),q!==this.row_&&(this.clearFormatting(T.pts),this.row_=q),N&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(T.pts,["u"]),(E&16)===16&&(this.column_=((E&14)>>1)*4),this.isColorPAC(N)&&(N&14)===14&&this.addFormatting(T.pts,["i"])}else this.isNormalChar(D)&&(N===0&&(N=null),M=Yn(D),M+=Yn(N),this[this.mode_](T.pts,M),this.column_+=M.length)}};Pt.prototype=new e,Pt.prototype.flushDisplayed=function(I){var _=this.displayed_.map(function(S,T){try{return S.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+T+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");_.length&&this.trigger("data",{startPts:this.startPts_,endPts:I,text:_,stream:this.name_})},Pt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Qn(),this.nonDisplayed_=Qn(),this.lastControlCode_=null,this.column_=0,this.row_=Ma,this.rollUpRows_=2,this.formatting_=[]},Pt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Pt.prototype.isSpecialCharacter=function(I,_){return I===this.EXT_&&_>=48&&_<=63},Pt.prototype.isExtCharacter=function(I,_){return(I===this.EXT_+1||I===this.EXT_+2)&&_>=32&&_<=63},Pt.prototype.isMidRowCode=function(I,_){return I===this.EXT_&&_>=32&&_<=47},Pt.prototype.isOffsetControlCode=function(I,_){return I===this.OFFSET_&&_>=33&&_<=35},Pt.prototype.isPAC=function(I,_){return I>=this.BASE_&&I<this.BASE_+8&&_>=64&&_<=127},Pt.prototype.isColorPAC=function(I){return I>=64&&I<=79||I>=96&&I<=127},Pt.prototype.isNormalChar=function(I){return I>=32&&I<=127},Pt.prototype.setRollUp=function(I,_){if(this.mode_!=="rollUp"&&(this.row_=Ma,this.mode_="rollUp",this.flushDisplayed(I),this.nonDisplayed_=Qn(),this.displayed_=Qn()),_!==void 0&&_!==this.row_)for(var S=0;S<this.rollUpRows_;S++)this.displayed_[_-S]=this.displayed_[this.row_-S],this.displayed_[this.row_-S]="";_===void 0&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Pt.prototype.addFormatting=function(I,_){this.formatting_=this.formatting_.concat(_);var S=_.reduce(function(T,E){return T+"<"+E+">"},"");this[this.mode_](I,S)},Pt.prototype.clearFormatting=function(I){if(!!this.formatting_.length){var _=this.formatting_.reverse().reduce(function(S,T){return S+"</"+T+">"},"");this.formatting_=[],this[this.mode_](I,_)}},Pt.prototype.popOn=function(I,_){var S=this.nonDisplayed_[this.row_];S+=_,this.nonDisplayed_[this.row_]=S},Pt.prototype.rollUp=function(I,_){var S=this.displayed_[this.row_];S+=_,this.displayed_[this.row_]=S},Pt.prototype.shiftRowsUp_=function(){var I;for(I=0;I<this.topRow_;I++)this.displayed_[I]="";for(I=this.row_+1;I<Ma+1;I++)this.displayed_[I]="";for(I=this.topRow_;I<this.row_;I++)this.displayed_[I]=this.displayed_[I+1];this.displayed_[this.row_]=""},Pt.prototype.paintOn=function(I,_){var S=this.displayed_[this.row_];S+=_,this.displayed_[this.row_]=S};var Ba={CaptionStream:Dr,Cea608Stream:Pt,Cea708Stream:dt},Qt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Yf=8589934592,Qf=4294967296,Go="shared",zo=function(_,S){var T=1;for(_>S&&(T=-1);Math.abs(S-_)>Qf;)_+=T*Yf;return _},Ua=function I(_){var S,T;I.prototype.init.call(this),this.type_=_||Go,this.push=function(E){this.type_!==Go&&E.type!==this.type_||(T===void 0&&(T=E.dts),E.dts=zo(E.dts,T),E.pts=zo(E.pts,T),S=E.dts,this.trigger("data",E))},this.flush=function(){T=S,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){T=void 0,S=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ua.prototype=new e;var As={TimestampRolloverStream:Ua,handleRollover:zo},Ko=function(_,S,T){var E,A="";for(E=S;E<T;E++)A+="%"+("00"+_[E].toString(16)).slice(-2);return A},ja=function(_,S,T){return decodeURIComponent(Ko(_,S,T))},Zf=function(_,S,T){return unescape(Ko(_,S,T))},Ha=function(_){return _[0]<<21|_[1]<<14|_[2]<<7|_[3]},Xo={TXXX:function(_){var S;if(_.data[0]===3){for(S=1;S<_.data.length;S++)if(_.data[S]===0){_.description=ja(_.data,1,S),_.value=ja(_.data,S+1,_.data.length).replace(/\0*$/,"");break}_.data=_.value}},WXXX:function(_){var S;if(_.data[0]===3){for(S=1;S<_.data.length;S++)if(_.data[S]===0){_.description=ja(_.data,1,S),_.url=ja(_.data,S+1,_.data.length);break}}},PRIV:function(_){var S;for(S=0;S<_.data.length;S++)if(_.data[S]===0){_.owner=Zf(_.data,0,S);break}_.privateData=_.data.subarray(S+1),_.data=_.privateData}},bt;bt=function(_){var S={descriptor:_&&_.descriptor},T=0,E=[],A=0,D;if(bt.prototype.init.call(this),this.dispatchType=Qt.METADATA_STREAM_TYPE.toString(16),S.descriptor)for(D=0;D<S.descriptor.length;D++)this.dispatchType+=("00"+S.descriptor[D].toString(16)).slice(-2);this.push=function(N){var M,q,$,X,ne,Se;if(N.type==="timed-metadata"){if(N.dataAlignmentIndicator&&(A=0,E.length=0),E.length===0&&(N.data.length<10||N.data[0]!=="I".charCodeAt(0)||N.data[1]!=="D".charCodeAt(0)||N.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(E.push(N),A+=N.data.byteLength,E.length===1&&(T=Ha(N.data.subarray(6,10)),T+=10),!(A<T)){for(M={data:new Uint8Array(T),frames:[],pts:E[0].pts,dts:E[0].dts},ne=0;ne<T;)M.data.set(E[0].data.subarray(0,T-ne),ne),ne+=E[0].data.byteLength,A-=E[0].data.byteLength,E.shift();q=10,M.data[5]&64&&(q+=4,q+=Ha(M.data.subarray(10,14)),T-=Ha(M.data.subarray(16,20)));do{if($=Ha(M.data.subarray(q+4,q+8)),$<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Se=String.fromCharCode(M.data[q],M.data[q+1],M.data[q+2],M.data[q+3]),X={id:Se,data:M.data.subarray(q+10,q+$+10)},X.key=X.id,Xo[X.id]&&(Xo[X.id](X),X.owner==="com.apple.streaming.transportStreamTimestamp")){var Pe=X.data,me=(Pe[3]&1)<<30|Pe[4]<<22|Pe[5]<<14|Pe[6]<<6|Pe[7]>>>2;me*=4,me+=Pe[7]&3,X.timeStamp=me,M.pts===void 0&&M.dts===void 0&&(M.pts=X.timeStamp,M.dts=X.timeStamp),this.trigger("timestamp",X)}M.frames.push(X),q+=10,q+=$}while(q<T);this.trigger("data",M)}}}},bt.prototype=new e;var eh=bt,th=As.TimestampRolloverStream,Ds,Qi,ks,Zi=188,Jo=71;Ds=function(){var _=new Uint8Array(Zi),S=0;Ds.prototype.init.call(this),this.push=function(T){var E=0,A=Zi,D;for(S?(D=new Uint8Array(T.byteLength+S),D.set(_.subarray(0,S)),D.set(T,S),S=0):D=T;A<D.byteLength;){if(D[E]===Jo&&D[A]===Jo){this.trigger("data",D.subarray(E,A)),E+=Zi,A+=Zi;continue}E++,A++}E<D.byteLength&&(_.set(D.subarray(E),0),S=D.byteLength-E)},this.flush=function(){S===Zi&&_[0]===Jo&&(this.trigger("data",_),S=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){S=0,this.trigger("reset")}},Ds.prototype=new e,Qi=function(){var _,S,T,E;Qi.prototype.init.call(this),E=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,_=function(D,N){var M=0;N.payloadUnitStartIndicator&&(M+=D[M]+1),N.type==="pat"?S(D.subarray(M),N):T(D.subarray(M),N)},S=function(D,N){N.section_number=D[7],N.last_section_number=D[8],E.pmtPid=(D[10]&31)<<8|D[11],N.pmtPid=E.pmtPid},T=function(D,N){var M,q,$,X;if(!!(D[5]&1)){for(E.programMapTable={video:null,audio:null,"timed-metadata":{}},M=(D[1]&15)<<8|D[2],q=3+M-4,$=(D[10]&15)<<8|D[11],X=12+$;X<q;){var ne=D[X],Se=(D[X+1]&31)<<8|D[X+2];ne===Qt.H264_STREAM_TYPE&&E.programMapTable.video===null?E.programMapTable.video=Se:ne===Qt.ADTS_STREAM_TYPE&&E.programMapTable.audio===null?E.programMapTable.audio=Se:ne===Qt.METADATA_STREAM_TYPE&&(E.programMapTable["timed-metadata"][Se]=ne),X+=((D[X+3]&15)<<8|D[X+4])+5}N.programMapTable=E.programMapTable}},this.push=function(A){var D={},N=4;if(D.payloadUnitStartIndicator=!!(A[1]&64),D.pid=A[1]&31,D.pid<<=8,D.pid|=A[2],(A[3]&48)>>>4>1&&(N+=A[N]+1),D.pid===0)D.type="pat",_(A.subarray(N),D),this.trigger("data",D);else if(D.pid===this.pmtPid)for(D.type="pmt",_(A.subarray(N),D),this.trigger("data",D);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([A,N,D]):this.processPes_(A,N,D)},this.processPes_=function(A,D,N){N.pid===this.programMapTable.video?N.streamType=Qt.H264_STREAM_TYPE:N.pid===this.programMapTable.audio?N.streamType=Qt.ADTS_STREAM_TYPE:N.streamType=this.programMapTable["timed-metadata"][N.pid],N.type="pes",N.data=A.subarray(D),this.trigger("data",N)}},Qi.prototype=new e,Qi.STREAM_TYPES={h264:27,adts:15},ks=function(){var _=this,S=!1,T={data:[],size:0},E={data:[],size:0},A={data:[],size:0},D,N=function($,X){var ne,Se=$[0]<<16|$[1]<<8|$[2];X.data=new Uint8Array,Se===1&&(X.packetLength=6+($[4]<<8|$[5]),X.dataAlignmentIndicator=($[6]&4)!==0,ne=$[7],ne&192&&(X.pts=($[9]&14)<<27|($[10]&255)<<20|($[11]&254)<<12|($[12]&255)<<5|($[13]&254)>>>3,X.pts*=4,X.pts+=($[13]&6)>>>1,X.dts=X.pts,ne&64&&(X.dts=($[14]&14)<<27|($[15]&255)<<20|($[16]&254)<<12|($[17]&255)<<5|($[18]&254)>>>3,X.dts*=4,X.dts+=($[18]&6)>>>1)),X.data=$.subarray(9+$[8]))},M=function($,X,ne){var Se=new Uint8Array($.size),Pe={type:X},me=0,Ve=0,Gt=!1,Tr;if(!(!$.data.length||$.size<9)){for(Pe.trackId=$.data[0].pid,me=0;me<$.data.length;me++)Tr=$.data[me],Se.set(Tr.data,Ve),Ve+=Tr.data.byteLength;N(Se,Pe),Gt=X==="video"||Pe.packetLength<=$.size,(ne||Gt)&&($.size=0,$.data.length=0),Gt&&_.trigger("data",Pe)}};ks.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var X,ne;switch(q.streamType){case Qt.H264_STREAM_TYPE:X=T,ne="video";break;case Qt.ADTS_STREAM_TYPE:X=E,ne="audio";break;case Qt.METADATA_STREAM_TYPE:X=A,ne="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&M(X,ne,!0),X.data.push(q),X.size+=q.data.byteLength},pmt:function(){var X={type:"metadata",tracks:[]};D=q.programMapTable,D.video!==null&&X.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.video,codec:"avc",type:"video"}),D.audio!==null&&X.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.audio,codec:"adts",type:"audio"}),S=!0,_.trigger("data",X)}})[q.type]()},this.reset=function(){T.size=0,T.data.length=0,E.size=0,E.data.length=0,this.trigger("reset")},this.flushStreams_=function(){M(T,"video"),M(E,"audio"),M(A,"timed-metadata")},this.flush=function(){if(!S&&D){var q={type:"metadata",tracks:[]};D.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.video,codec:"avc",type:"video"}),D.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.audio,codec:"adts",type:"audio"}),_.trigger("data",q)}S=!1,this.flushStreams_(),this.trigger("done")}},ks.prototype=new e;var $l={PAT_PID:0,MP2T_PACKET_LENGTH:Zi,TransportPacketStream:Ds,TransportParseStream:Qi,ElementaryStream:ks,TimestampRolloverStream:th,CaptionStream:Ba.CaptionStream,Cea608Stream:Ba.Cea608Stream,Cea708Stream:Ba.Cea708Stream,MetadataStream:eh};for(var Yo in Qt)Qt.hasOwnProperty(Yo)&&($l[Yo]=Qt[Yo]);var Rn=$l,rh=Qe.ONE_SECOND_IN_TS,Ps,Qo=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ps=function(_){var S,T=0;Ps.prototype.init.call(this),this.skipWarn_=function(E,A){this.trigger("log",{level:"warn",message:"adts skiping bytes "+E+" to "+A+" in frame "+T+" outside syncword"})},this.push=function(E){var A=0,D,N,M,q,$;if(_||(T=0),E.type==="audio"){S&&S.length?(M=S,S=new Uint8Array(M.byteLength+E.data.byteLength),S.set(M),S.set(E.data,M.byteLength)):S=E.data;for(var X;A+7<S.length;){if(S[A]!==255||(S[A+1]&246)!==240){typeof X!="number"&&(X=A),A++;continue}if(typeof X=="number"&&(this.skipWarn_(X,A),X=null),N=(~S[A+1]&1)*2,D=(S[A+3]&3)<<11|S[A+4]<<3|(S[A+5]&224)>>5,q=((S[A+6]&3)+1)*1024,$=q*rh/Qo[(S[A+2]&60)>>>2],S.byteLength-A<D)break;this.trigger("data",{pts:E.pts+T*$,dts:E.dts+T*$,sampleCount:q,audioobjecttype:(S[A+2]>>>6&3)+1,channelcount:(S[A+2]&1)<<2|(S[A+3]&192)>>>6,samplerate:Qo[(S[A+2]&60)>>>2],samplingfrequencyindex:(S[A+2]&60)>>>2,samplesize:16,data:S.subarray(A+7+N,A+D)}),T++,A+=D}typeof X=="number"&&(this.skipWarn_(X,A),X=null),S=S.subarray(A)}},this.flush=function(){T=0,this.trigger("done")},this.reset=function(){S=void 0,this.trigger("reset")},this.endTimeline=function(){S=void 0,this.trigger("endedtimeline")}},Ps.prototype=new e;var Zo=Ps,Wl;Wl=function(_){var S=_.byteLength,T=0,E=0;this.length=function(){return 8*S},this.bitsAvailable=function(){return 8*S+E},this.loadWord=function(){var A=_.byteLength-S,D=new Uint8Array(4),N=Math.min(4,S);if(N===0)throw new Error("no bytes available");D.set(_.subarray(A,A+N)),T=new DataView(D.buffer).getUint32(0),E=N*8,S-=N},this.skipBits=function(A){var D;E>A?(T<<=A,E-=A):(A-=E,D=Math.floor(A/8),A-=D*8,S-=D,this.loadWord(),T<<=A,E-=A)},this.readBits=function(A){var D=Math.min(E,A),N=T>>>32-D;return E-=D,E>0?T<<=D:S>0&&this.loadWord(),D=A-D,D>0?N<<D|this.readBits(D):N},this.skipLeadingZeros=function(){var A;for(A=0;A<E;++A)if((T&2147483648>>>A)!==0)return T<<=A,E-=A,A;return this.loadWord(),A+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var A=this.skipLeadingZeros();return this.readBits(A+1)-1},this.readExpGolomb=function(){var A=this.readUnsignedExpGolomb();return 1&A?1+A>>>1:-1*(A>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var nh=Wl,ea,ta,eu;ta=function(){var _=0,S,T;ta.prototype.init.call(this),this.push=function(E){var A;T?(A=new Uint8Array(T.byteLength+E.data.byteLength),A.set(T),A.set(E.data,T.byteLength),T=A):T=E.data;for(var D=T.byteLength;_<D-3;_++)if(T[_+2]===1){S=_+5;break}for(;S<D;)switch(T[S]){case 0:if(T[S-1]!==0){S+=2;break}else if(T[S-2]!==0){S++;break}_+3!==S-2&&this.trigger("data",T.subarray(_+3,S-2));do S++;while(T[S]!==1&&S<D);_=S-2,S+=3;break;case 1:if(T[S-1]!==0||T[S-2]!==0){S+=3;break}this.trigger("data",T.subarray(_+3,S-2)),_=S-2,S+=3;break;default:S+=3;break}T=T.subarray(_),S-=_,_=0},this.reset=function(){T=null,_=0,this.trigger("reset")},this.flush=function(){T&&T.byteLength>3&&this.trigger("data",T.subarray(_+3)),T=null,_=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ta.prototype=new e,eu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ea=function(){var _=new ta,S,T,E,A,D,N,M;ea.prototype.init.call(this),S=this,this.push=function(q){q.type==="video"&&(T=q.trackId,E=q.pts,A=q.dts,_.push(q))},_.on("data",function(q){var $={trackId:T,pts:E,dts:A,data:q,nalUnitTypeCode:q[0]&31};switch($.nalUnitTypeCode){case 5:$.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:$.nalUnitType="sei_rbsp",$.escapedRBSP=D(q.subarray(1));break;case 7:$.nalUnitType="seq_parameter_set_rbsp",$.escapedRBSP=D(q.subarray(1)),$.config=N($.escapedRBSP);break;case 8:$.nalUnitType="pic_parameter_set_rbsp";break;case 9:$.nalUnitType="access_unit_delimiter_rbsp";break}S.trigger("data",$)}),_.on("done",function(){S.trigger("done")}),_.on("partialdone",function(){S.trigger("partialdone")}),_.on("reset",function(){S.trigger("reset")}),_.on("endedtimeline",function(){S.trigger("endedtimeline")}),this.flush=function(){_.flush()},this.partialFlush=function(){_.partialFlush()},this.reset=function(){_.reset()},this.endTimeline=function(){_.endTimeline()},M=function($,X){var ne=8,Se=8,Pe,me;for(Pe=0;Pe<$;Pe++)Se!==0&&(me=X.readExpGolomb(),Se=(ne+me+256)%256),ne=Se===0?ne:Se},D=function($){for(var X=$.byteLength,ne=[],Se=1,Pe,me;Se<X-2;)$[Se]===0&&$[Se+1]===0&&$[Se+2]===3?(ne.push(Se+2),Se+=2):Se++;if(ne.length===0)return $;Pe=X-ne.length,me=new Uint8Array(Pe);var Ve=0;for(Se=0;Se<Pe;Ve++,Se++)Ve===ne[0]&&(Ve++,ne.shift()),me[Se]=$[Ve];return me},N=function($){var X=0,ne=0,Se=0,Pe=0,me,Ve,Gt,Tr,xi,du,vc,_c,yc,fu,bc,Ht=[1,1],Tc,Ei;if(me=new nh($),Ve=me.readUnsignedByte(),Tr=me.readUnsignedByte(),Gt=me.readUnsignedByte(),me.skipUnsignedExpGolomb(),eu[Ve]&&(xi=me.readUnsignedExpGolomb(),xi===3&&me.skipBits(1),me.skipUnsignedExpGolomb(),me.skipUnsignedExpGolomb(),me.skipBits(1),me.readBoolean()))for(bc=xi!==3?8:12,Ei=0;Ei<bc;Ei++)me.readBoolean()&&(Ei<6?M(16,me):M(64,me));if(me.skipUnsignedExpGolomb(),du=me.readUnsignedExpGolomb(),du===0)me.readUnsignedExpGolomb();else if(du===1)for(me.skipBits(1),me.skipExpGolomb(),me.skipExpGolomb(),vc=me.readUnsignedExpGolomb(),Ei=0;Ei<vc;Ei++)me.skipExpGolomb();if(me.skipUnsignedExpGolomb(),me.skipBits(1),_c=me.readUnsignedExpGolomb(),yc=me.readUnsignedExpGolomb(),fu=me.readBits(1),fu===0&&me.skipBits(1),me.skipBits(1),me.readBoolean()&&(X=me.readUnsignedExpGolomb(),ne=me.readUnsignedExpGolomb(),Se=me.readUnsignedExpGolomb(),Pe=me.readUnsignedExpGolomb()),me.readBoolean()&&me.readBoolean()){switch(Tc=me.readUnsignedByte(),Tc){case 1:Ht=[1,1];break;case 2:Ht=[12,11];break;case 3:Ht=[10,11];break;case 4:Ht=[16,11];break;case 5:Ht=[40,33];break;case 6:Ht=[24,11];break;case 7:Ht=[20,11];break;case 8:Ht=[32,11];break;case 9:Ht=[80,33];break;case 10:Ht=[18,11];break;case 11:Ht=[15,11];break;case 12:Ht=[64,33];break;case 13:Ht=[160,99];break;case 14:Ht=[4,3];break;case 15:Ht=[3,2];break;case 16:Ht=[2,1];break;case 255:{Ht=[me.readUnsignedByte()<<8|me.readUnsignedByte(),me.readUnsignedByte()<<8|me.readUnsignedByte()];break}}Ht&&Ht[0]/Ht[1]}return{profileIdc:Ve,levelIdc:Gt,profileCompatibility:Tr,width:(_c+1)*16-X*2-ne*2,height:(2-fu)*(yc+1)*16-Se*2-Pe*2,sarRatio:Ht}}},ea.prototype=new e;var Gl={H264Stream:ea,NalByteStream:ta},ih=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],zl=function(_,S){var T=_[S+6]<<21|_[S+7]<<14|_[S+8]<<7|_[S+9],E=_[S+5],A=(E&16)>>4;return T=T>=0?T:0,A?T+20:T+10},ah=function I(_,S){return _.length-S<10||_[S]!=="I".charCodeAt(0)||_[S+1]!=="D".charCodeAt(0)||_[S+2]!=="3".charCodeAt(0)?S:(S+=zl(_,S),I(_,S))},sh=function(_){var S=ah(_,0);return _.length>=S+2&&(_[S]&255)===255&&(_[S+1]&240)===240&&(_[S+1]&22)===16},tu=function(_){return _[0]<<21|_[1]<<14|_[2]<<7|_[3]},oh=function(_,S,T){var E,A="";for(E=S;E<T;E++)A+="%"+("00"+_[E].toString(16)).slice(-2);return A},uh=function(_,S,T){return unescape(oh(_,S,T))},lh=function(_,S){var T=(_[S+5]&224)>>5,E=_[S+4]<<3,A=_[S+3]&3<<11;return A|E|T},ch=function(_,S){return _[S]==="I".charCodeAt(0)&&_[S+1]==="D".charCodeAt(0)&&_[S+2]==="3".charCodeAt(0)?"timed-metadata":_[S]&!0&&(_[S+1]&240)===240?"audio":null},dh=function(_){for(var S=0;S+5<_.length;){if(_[S]!==255||(_[S+1]&246)!==240){S++;continue}return ih[(_[S+2]&60)>>>2]}return null},fh=function(_){var S,T,E,A;S=10,_[5]&64&&(S+=4,S+=tu(_.subarray(10,14)));do{if(T=tu(_.subarray(S+4,S+8)),T<1)return null;if(A=String.fromCharCode(_[S],_[S+1],_[S+2],_[S+3]),A==="PRIV"){E=_.subarray(S+10,S+T+10);for(var D=0;D<E.byteLength;D++)if(E[D]===0){var N=uh(E,0,D);if(N==="com.apple.streaming.transportStreamTimestamp"){var M=E.subarray(D+1),q=(M[3]&1)<<30|M[4]<<22|M[5]<<14|M[6]<<6|M[7]>>>2;return q*=4,q+=M[7]&3,q}break}}S+=10,S+=T}while(S<_.byteLength);return null},Is={isLikelyAacData:sh,parseId3TagSize:zl,parseAdtsSize:lh,parseType:ch,parseSampleRate:dh,parseAacTimestamp:fh},Os;Os=function(){var _=new Uint8Array,S=0;Os.prototype.init.call(this),this.setTimestamp=function(T){S=T},this.push=function(T){var E=0,A=0,D,N,M,q;for(_.length?(q=_.length,_=new Uint8Array(T.byteLength+q),_.set(_.subarray(0,q)),_.set(T,q)):_=T;_.length-A>=3;){if(_[A]==="I".charCodeAt(0)&&_[A+1]==="D".charCodeAt(0)&&_[A+2]==="3".charCodeAt(0)){if(_.length-A<10||(E=Is.parseId3TagSize(_,A),A+E>_.length))break;N={type:"timed-metadata",data:_.subarray(A,A+E)},this.trigger("data",N),A+=E;continue}else if((_[A]&255)===255&&(_[A+1]&240)===240){if(_.length-A<7||(E=Is.parseAdtsSize(_,A),A+E>_.length))break;M={type:"audio",data:_.subarray(A,A+E),pts:S,dts:S},this.trigger("data",M),A+=E;continue}A++}D=_.length-A,D>0?_=_.subarray(A):_=new Uint8Array},this.reset=function(){_=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){_=new Uint8Array,this.trigger("endedtimeline")}},Os.prototype=new e;var hh=Os,ph=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ru=ph,gh=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],nu=gh,mh=Gl.H264Stream,vh=Is.isLikelyAacData,iu=Qe.ONE_SECOND_IN_TS,Va,ra,Ls,bi,Kl=function(_,S){S.stream=_,this.trigger("log",S)},Xl=function(_,S){for(var T=Object.keys(S),E=0;E<T.length;E++){var A=T[E];A==="headOfPipeline"||!S[A].on||S[A].on("log",Kl.bind(_,A))}},Jl=function(_,S){var T;if(_.length!==S.length)return!1;for(T=0;T<_.length;T++)if(_[T]!==S[T])return!1;return!0},au=function(_,S,T,E,A,D){var N=T-S,M=E-S,q=A-T;return{start:{dts:_,pts:_+N},end:{dts:_+M,pts:_+q},prependedContentDuration:D,baseMediaDecodeTime:_}};ra=function(_,S){var T=[],E,A=0,D=0,N=1/0;S=S||{},E=S.firstSequenceNumber||0,ra.prototype.init.call(this),this.push=function(M){zr.collectDtsInfo(_,M),_&&ru.forEach(function(q){_[q]=M[q]}),T.push(M)},this.setEarliestDts=function(M){A=M},this.setVideoBaseMediaDecodeTime=function(M){N=M},this.setAudioAppendStart=function(M){D=M},this.flush=function(){var M,q,$,X,ne,Se,Pe;if(T.length===0){this.trigger("done","AudioSegmentStream");return}M=cr.trimAdtsFramesByEarliestDts(T,_,A),_.baseMediaDecodeTime=zr.calculateTrackBaseMediaDecodeTime(_,S.keepOriginalTimestamps),Pe=cr.prefixWithSilence(_,M,D,N),_.samples=cr.generateSampleTable(M),$=mt.mdat(cr.concatenateFrameData(M)),T=[],q=mt.moof(E,[_]),X=new Uint8Array(q.byteLength+$.byteLength),E++,X.set(q),X.set($,q.byteLength),zr.clearDtsInfo(_),ne=Math.ceil(iu*1024/_.samplerate),M.length&&(Se=M.length*ne,this.trigger("segmentTimingInfo",au(Qe.audioTsToVideoTs(_.baseMediaDecodeTime,_.samplerate),M[0].dts,M[0].pts,M[0].dts+Se,M[0].pts+Se,Pe||0)),this.trigger("timingInfo",{start:M[0].pts,end:M[0].pts+Se})),this.trigger("data",{track:_,boxes:X}),this.trigger("done","AudioSegmentStream")},this.reset=function(){zr.clearDtsInfo(_),T=[],this.trigger("reset")}},ra.prototype=new e,Va=function(_,S){var T,E=[],A=[],D,N;S=S||{},T=S.firstSequenceNumber||0,Va.prototype.init.call(this),delete _.minPTS,this.gopCache_=[],this.push=function(M){zr.collectDtsInfo(_,M),M.nalUnitType==="seq_parameter_set_rbsp"&&!D&&(D=M.config,_.sps=[M.data],nu.forEach(function(q){_[q]=D[q]},this)),M.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=M.data,_.pps=[M.data]),E.push(M)},this.flush=function(){for(var M,q,$,X,ne,Se,Pe=0,me,Ve;E.length&&E[0].nalUnitType!=="access_unit_delimiter_rbsp";)E.shift();if(E.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(M=ue.groupNalsIntoFrames(E),$=ue.groupFramesIntoGops(M),$[0][0].keyFrame||(q=this.getGopForFusion_(E[0],_),q?(Pe=q.duration,$.unshift(q),$.byteLength+=q.byteLength,$.nalCount+=q.nalCount,$.pts=q.pts,$.dts=q.dts,$.duration+=q.duration):$=ue.extendFirstKeyFrame($)),A.length){var Gt;if(S.alignGopsAtEnd?Gt=this.alignGopsAtEnd_($):Gt=this.alignGopsAtStart_($),!Gt){this.gopCache_.unshift({gop:$.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}zr.clearDtsInfo(_),$=Gt}zr.collectDtsInfo(_,$),_.samples=ue.generateSampleTable($),ne=mt.mdat(ue.concatenateNalData($)),_.baseMediaDecodeTime=zr.calculateTrackBaseMediaDecodeTime(_,S.keepOriginalTimestamps),this.trigger("processedGopsInfo",$.map(function(Tr){return{pts:Tr.pts,dts:Tr.dts,byteLength:Tr.byteLength}})),me=$[0],Ve=$[$.length-1],this.trigger("segmentTimingInfo",au(_.baseMediaDecodeTime,me.dts,me.pts,Ve.dts+Ve.duration,Ve.pts+Ve.duration,Pe)),this.trigger("timingInfo",{start:$[0].pts,end:$[$.length-1].pts+$[$.length-1].duration}),this.gopCache_.unshift({gop:$.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.trigger("baseMediaDecodeTime",_.baseMediaDecodeTime),this.trigger("timelineStartInfo",_.timelineStartInfo),X=mt.moof(T,[_]),Se=new Uint8Array(X.byteLength+ne.byteLength),T++,Se.set(X),Se.set(ne,X.byteLength),this.trigger("data",{track:_,boxes:Se}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),E=[],this.gopCache_.length=0,A.length=0,this.trigger("reset")},this.resetStream_=function(){zr.clearDtsInfo(_),D=void 0,N=void 0},this.getGopForFusion_=function(M){var q=45e3,$=1e4,X=1/0,ne,Se,Pe,me,Ve;for(Ve=0;Ve<this.gopCache_.length;Ve++)me=this.gopCache_[Ve],Pe=me.gop,!(!(_.pps&&Jl(_.pps[0],me.pps[0]))||!(_.sps&&Jl(_.sps[0],me.sps[0])))&&(Pe.dts<_.timelineStartInfo.dts||(ne=M.dts-Pe.dts-Pe.duration,ne>=-$&&ne<=q&&(!Se||X>ne)&&(Se=me,X=ne)));return Se?Se.gop:null},this.alignGopsAtStart_=function(M){var q,$,X,ne,Se,Pe,me,Ve;for(Se=M.byteLength,Pe=M.nalCount,me=M.duration,q=$=0;q<A.length&&$<M.length&&(X=A[q],ne=M[$],X.pts!==ne.pts);){if(ne.pts>X.pts){q++;continue}$++,Se-=ne.byteLength,Pe-=ne.nalCount,me-=ne.duration}return $===0?M:$===M.length?null:(Ve=M.slice($),Ve.byteLength=Se,Ve.duration=me,Ve.nalCount=Pe,Ve.pts=Ve[0].pts,Ve.dts=Ve[0].dts,Ve)},this.alignGopsAtEnd_=function(M){var q,$,X,ne,Se,Pe;for(q=A.length-1,$=M.length-1,Se=null,Pe=!1;q>=0&&$>=0;){if(X=A[q],ne=M[$],X.pts===ne.pts){Pe=!0;break}if(X.pts>ne.pts){q--;continue}q===A.length-1&&(Se=$),$--}if(!Pe&&Se===null)return null;var me;if(Pe?me=$:me=Se,me===0)return M;var Ve=M.slice(me),Gt=Ve.reduce(function(Tr,xi){return Tr.byteLength+=xi.byteLength,Tr.duration+=xi.duration,Tr.nalCount+=xi.nalCount,Tr},{byteLength:0,duration:0,nalCount:0});return Ve.byteLength=Gt.byteLength,Ve.duration=Gt.duration,Ve.nalCount=Gt.nalCount,Ve.pts=Ve[0].pts,Ve.dts=Ve[0].dts,Ve},this.alignGopsWith=function(M){A=M}},Va.prototype=new e,bi=function(_,S){this.numberOfTracks=0,this.metadataStream=S,_=_||{},typeof _.remux<"u"?this.remuxTracks=!!_.remux:this.remuxTracks=!0,typeof _.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=_.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,bi.prototype.init.call(this),this.push=function(T){if(T.text)return this.pendingCaptions.push(T);if(T.frames)return this.pendingMetadata.push(T);this.pendingTracks.push(T.track),this.pendingBytes+=T.boxes.byteLength,T.track.type==="video"&&(this.videoTrack=T.track,this.pendingBoxes.push(T.boxes)),T.track.type==="audio"&&(this.audioTrack=T.track,this.pendingBoxes.unshift(T.boxes))}},bi.prototype=new e,bi.prototype.flush=function(I){var _=0,S={captions:[],captionStreams:{},metadata:[],info:{}},T,E,A,D=0,N;if(this.pendingTracks.length<this.numberOfTracks){if(I!=="VideoSegmentStream"&&I!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(D=this.videoTrack.timelineStartInfo.pts,nu.forEach(function(M){S.info[M]=this.videoTrack[M]},this)):this.audioTrack&&(D=this.audioTrack.timelineStartInfo.pts,ru.forEach(function(M){S.info[M]=this.audioTrack[M]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?S.type=this.pendingTracks[0].type:S.type="combined",this.emittedTracks+=this.pendingTracks.length,A=mt.initSegment(this.pendingTracks),S.initSegment=new Uint8Array(A.byteLength),S.initSegment.set(A),S.data=new Uint8Array(this.pendingBytes),N=0;N<this.pendingBoxes.length;N++)S.data.set(this.pendingBoxes[N],_),_+=this.pendingBoxes[N].byteLength;for(N=0;N<this.pendingCaptions.length;N++)T=this.pendingCaptions[N],T.startTime=Qe.metadataTsToSeconds(T.startPts,D,this.keepOriginalTimestamps),T.endTime=Qe.metadataTsToSeconds(T.endPts,D,this.keepOriginalTimestamps),S.captionStreams[T.stream]=!0,S.captions.push(T);for(N=0;N<this.pendingMetadata.length;N++)E=this.pendingMetadata[N],E.cueTime=Qe.metadataTsToSeconds(E.pts,D,this.keepOriginalTimestamps),S.metadata.push(E);for(S.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",S),N=0;N<S.captions.length;N++)T=S.captions[N],this.trigger("caption",T);for(N=0;N<S.metadata.length;N++)E=S.metadata[N],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},bi.prototype.setRemux=function(I){this.remuxTracks=I},Ls=function(_){var S=this,T=!0,E,A;Ls.prototype.init.call(this),_=_||{},this.baseMediaDecodeTime=_.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var D={};this.transmuxPipeline_=D,D.type="aac",D.metadataStream=new Rn.MetadataStream,D.aacStream=new hh,D.audioTimestampRolloverStream=new Rn.TimestampRolloverStream("audio"),D.timedMetadataTimestampRolloverStream=new Rn.TimestampRolloverStream("timed-metadata"),D.adtsStream=new Zo,D.coalesceStream=new bi(_,D.metadataStream),D.headOfPipeline=D.aacStream,D.aacStream.pipe(D.audioTimestampRolloverStream).pipe(D.adtsStream),D.aacStream.pipe(D.timedMetadataTimestampRolloverStream).pipe(D.metadataStream).pipe(D.coalesceStream),D.metadataStream.on("timestamp",function(N){D.aacStream.setTimestamp(N.timeStamp)}),D.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||D.audioSegmentStream||(A=A||{timelineStartInfo:{baseMediaDecodeTime:S.baseMediaDecodeTime},codec:"adts",type:"audio"},D.coalesceStream.numberOfTracks++,D.audioSegmentStream=new ra(A,_),D.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),D.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),D.adtsStream.pipe(D.audioSegmentStream).pipe(D.coalesceStream),S.trigger("trackinfo",{hasAudio:!!A,hasVideo:!!E}))}),D.coalesceStream.on("data",this.trigger.bind(this,"data")),D.coalesceStream.on("done",this.trigger.bind(this,"done")),Xl(this,D)},this.setupTsPipeline=function(){var D={};this.transmuxPipeline_=D,D.type="ts",D.metadataStream=new Rn.MetadataStream,D.packetStream=new Rn.TransportPacketStream,D.parseStream=new Rn.TransportParseStream,D.elementaryStream=new Rn.ElementaryStream,D.timestampRolloverStream=new Rn.TimestampRolloverStream,D.adtsStream=new Zo,D.h264Stream=new mh,D.captionStream=new Rn.CaptionStream(_),D.coalesceStream=new bi(_,D.metadataStream),D.headOfPipeline=D.packetStream,D.packetStream.pipe(D.parseStream).pipe(D.elementaryStream).pipe(D.timestampRolloverStream),D.timestampRolloverStream.pipe(D.h264Stream),D.timestampRolloverStream.pipe(D.adtsStream),D.timestampRolloverStream.pipe(D.metadataStream).pipe(D.coalesceStream),D.h264Stream.pipe(D.captionStream).pipe(D.coalesceStream),D.elementaryStream.on("data",function(N){var M;if(N.type==="metadata"){for(M=N.tracks.length;M--;)!E&&N.tracks[M].type==="video"?(E=N.tracks[M],E.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime):!A&&N.tracks[M].type==="audio"&&(A=N.tracks[M],A.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime);E&&!D.videoSegmentStream&&(D.coalesceStream.numberOfTracks++,D.videoSegmentStream=new Va(E,_),D.videoSegmentStream.on("log",S.getLogTrigger_("videoSegmentStream")),D.videoSegmentStream.on("timelineStartInfo",function(q){A&&!_.keepOriginalTimestamps&&(A.timelineStartInfo=q,D.audioSegmentStream.setEarliestDts(q.dts-S.baseMediaDecodeTime))}),D.videoSegmentStream.on("processedGopsInfo",S.trigger.bind(S,"gopInfo")),D.videoSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"videoSegmentTimingInfo")),D.videoSegmentStream.on("baseMediaDecodeTime",function(q){A&&D.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),D.videoSegmentStream.on("timingInfo",S.trigger.bind(S,"videoTimingInfo")),D.h264Stream.pipe(D.videoSegmentStream).pipe(D.coalesceStream)),A&&!D.audioSegmentStream&&(D.coalesceStream.numberOfTracks++,D.audioSegmentStream=new ra(A,_),D.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),D.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),D.audioSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"audioSegmentTimingInfo")),D.adtsStream.pipe(D.audioSegmentStream).pipe(D.coalesceStream)),S.trigger("trackinfo",{hasAudio:!!A,hasVideo:!!E})}}),D.coalesceStream.on("data",this.trigger.bind(this,"data")),D.coalesceStream.on("id3Frame",function(N){N.dispatchType=D.metadataStream.dispatchType,S.trigger("id3Frame",N)}),D.coalesceStream.on("caption",this.trigger.bind(this,"caption")),D.coalesceStream.on("done",this.trigger.bind(this,"done")),Xl(this,D)},this.setBaseMediaDecodeTime=function(D){var N=this.transmuxPipeline_;_.keepOriginalTimestamps||(this.baseMediaDecodeTime=D),A&&(A.timelineStartInfo.dts=void 0,A.timelineStartInfo.pts=void 0,zr.clearDtsInfo(A),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),E&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,zr.clearDtsInfo(E),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(D){A&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(D)},this.setRemux=function(D){var N=this.transmuxPipeline_;_.remux=D,N&&N.coalesceStream&&N.coalesceStream.setRemux(D)},this.alignGopsWith=function(D){E&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(D)},this.getLogTrigger_=function(D){var N=this;return function(M){M.stream=D,N.trigger("log",M)}},this.push=function(D){if(T){var N=vh(D);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),T=!1}this.transmuxPipeline_.headOfPipeline.push(D)},this.flush=function(){T=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ls.prototype=new e;var Yl={Transmuxer:Ls,VideoSegmentStream:Va,AudioSegmentStream:ra,AUDIO_PROPERTIES:ru,VIDEO_PROPERTIES:nu,generateSegmentTimingInfo:au},_h=function(_){return _>>>0},yh=function(_){return("00"+_.toString(16)).slice(-2)},Rs={toUnsigned:_h,toHexString:yh},bh=function(_){var S="";return S+=String.fromCharCode(_[0]),S+=String.fromCharCode(_[1]),S+=String.fromCharCode(_[2]),S+=String.fromCharCode(_[3]),S},sn=bh,Ql=Rs.toUnsigned,Th=function I(_,S){var T=[],E,A,D,N,M;if(!S.length)return null;for(E=0;E<_.byteLength;)A=Ql(_[E]<<24|_[E+1]<<16|_[E+2]<<8|_[E+3]),D=sn(_.subarray(E+4,E+8)),N=A>1?E+A:_.byteLength,D===S[0]&&(S.length===1?T.push(_.subarray(E+8,N)):(M=I(_.subarray(E+8,N),S.slice(1)),M.length&&(T=T.concat(M)))),E=N;return T},wt=Th,Sh=Rs.toUnsigned,Zl=t.getUint64,ec=function(_){var S={version:_[0],flags:new Uint8Array(_.subarray(1,4))};return S.version===1?S.baseMediaDecodeTime=Zl(_.subarray(4)):S.baseMediaDecodeTime=Sh(_[4]<<24|_[5]<<16|_[6]<<8|_[7]),S},tc=ec,xh=function(_){return{isLeading:(_[0]&12)>>>2,dependsOn:_[0]&3,isDependedOn:(_[1]&192)>>>6,hasRedundancy:(_[1]&48)>>>4,paddingValue:(_[1]&14)>>>1,isNonSyncSample:_[1]&1,degradationPriority:_[2]<<8|_[3]}},rc=xh,Eh=function(_){var S={version:_[0],flags:new Uint8Array(_.subarray(1,4)),samples:[]},T=new DataView(_.buffer,_.byteOffset,_.byteLength),E=S.flags[2]&1,A=S.flags[2]&4,D=S.flags[1]&1,N=S.flags[1]&2,M=S.flags[1]&4,q=S.flags[1]&8,$=T.getUint32(4),X=8,ne;for(E&&(S.dataOffset=T.getInt32(X),X+=4),A&&$&&(ne={flags:rc(_.subarray(X,X+4))},X+=4,D&&(ne.duration=T.getUint32(X),X+=4),N&&(ne.size=T.getUint32(X),X+=4),q&&(S.version===1?ne.compositionTimeOffset=T.getInt32(X):ne.compositionTimeOffset=T.getUint32(X),X+=4),S.samples.push(ne),$--);$--;)ne={},D&&(ne.duration=T.getUint32(X),X+=4),N&&(ne.size=T.getUint32(X),X+=4),M&&(ne.flags=rc(_.subarray(X,X+4)),X+=4),q&&(S.version===1?ne.compositionTimeOffset=T.getInt32(X):ne.compositionTimeOffset=T.getUint32(X),X+=4),S.samples.push(ne);return S},nc=Eh,ic=function(_){var S=new DataView(_.buffer,_.byteOffset,_.byteLength),T={version:_[0],flags:new Uint8Array(_.subarray(1,4)),trackId:S.getUint32(4)},E=T.flags[2]&1,A=T.flags[2]&2,D=T.flags[2]&8,N=T.flags[2]&16,M=T.flags[2]&32,q=T.flags[0]&65536,$=T.flags[0]&131072,X;return X=8,E&&(X+=4,T.baseDataOffset=S.getUint32(12),X+=4),A&&(T.sampleDescriptionIndex=S.getUint32(X),X+=4),D&&(T.defaultSampleDuration=S.getUint32(X),X+=4),N&&(T.defaultSampleSize=S.getUint32(X),X+=4),M&&(T.defaultSampleFlags=S.getUint32(X)),q&&(T.durationIsEmpty=!0),!E&&$&&(T.baseDataOffsetIsMoof=!0),T},ac=ic,sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},on;typeof window<"u"?on=window:typeof sc<"u"?on=sc:typeof self<"u"?on=self:on={};var Ti=on,su=_i.discardEmulationPreventionBytes,wh=Ba.CaptionStream,Ch=function(_,S){for(var T=_,E=0;E<S.length;E++){var A=S[E];if(T<A.size)return A;T-=A.size}return null},Ah=function(_,S,T){var E=new DataView(_.buffer,_.byteOffset,_.byteLength),A={logs:[],seiNals:[]},D,N,M,q;for(N=0;N+4<_.length;N+=M)if(M=E.getUint32(N),N+=4,!(M<=0))switch(_[N]&31){case 6:var $=_.subarray(N+1,N+1+M),X=Ch(N,S);if(D={nalUnitType:"sei_rbsp",size:M,data:$,escapedRBSP:su($),trackId:T},X)D.pts=X.pts,D.dts=X.dts,q=X;else if(q)D.pts=q.pts,D.dts=q.dts;else{A.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+N+" for trackId "+T+". See mux.js#223."});break}A.seiNals.push(D);break}return A},Dh=function(_,S,T){var E=S,A=T.defaultSampleDuration||0,D=T.defaultSampleSize||0,N=T.trackId,M=[];return _.forEach(function(q){var $=nc(q),X=$.samples;X.forEach(function(ne){ne.duration===void 0&&(ne.duration=A),ne.size===void 0&&(ne.size=D),ne.trackId=N,ne.dts=E,ne.compositionTimeOffset===void 0&&(ne.compositionTimeOffset=0),typeof E=="bigint"?(ne.pts=E+Ti.BigInt(ne.compositionTimeOffset),E+=Ti.BigInt(ne.duration)):(ne.pts=E+ne.compositionTimeOffset,E+=ne.duration)}),M=M.concat(X)}),M},kh=function(_,S){var T=wt(_,["moof","traf"]),E=wt(_,["mdat"]),A={},D=[];return E.forEach(function(N,M){var q=T[M];D.push({mdat:N,traf:q})}),D.forEach(function(N){var M=N.mdat,q=N.traf,$=wt(q,["tfhd"]),X=ac($[0]),ne=X.trackId,Se=wt(q,["tfdt"]),Pe=Se.length>0?tc(Se[0]).baseMediaDecodeTime:0,me=wt(q,["trun"]),Ve,Gt;S===ne&&me.length>0&&(Ve=Dh(me,Pe,X),Gt=Ah(M,Ve,ne),A[ne]||(A[ne]={seiNals:[],logs:[]}),A[ne].seiNals=A[ne].seiNals.concat(Gt.seiNals),A[ne].logs=A[ne].logs.concat(Gt.logs))}),A},ou=function(_,S,T){var E;if(S===null)return null;E=kh(_,S);var A=E[S]||{};return{seiNals:A.seiNals,logs:A.logs,timescale:T}},Ph=function(){var _=!1,S,T,E,A,D,N;this.isInitialized=function(){return _},this.init=function(M){S=new wh,_=!0,N=M?M.isPartial:!1,S.on("data",function(q){q.startTime=q.startPts/A,q.endTime=q.endPts/A,D.captions.push(q),D.captionStreams[q.stream]=!0}),S.on("log",function(q){D.logs.push(q)})},this.isNewInit=function(M,q){return M&&M.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:E!==M[0]||A!==q[E]},this.parse=function(M,q,$){var X;if(this.isInitialized()){if(!q||!$)return null;if(this.isNewInit(q,$))E=q[0],A=$[E];else if(E===null||!A)return T.push(M),null}else return null;for(;T.length>0;){var ne=T.shift();this.parse(ne,q,$)}return X=ou(M,E,A),X&&X.logs&&(D.logs=D.logs.concat(X.logs)),X===null||!X.seiNals?D.logs.length?{logs:D.logs,captions:[],captionStreams:[]}:null:(this.pushNals(X.seiNals),this.flushStream(),D)},this.pushNals=function(M){if(!this.isInitialized()||!M||M.length===0)return null;M.forEach(function(q){S.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;N?S.partialFlush():S.flush()},this.clearParsedCaptions=function(){D.captions=[],D.captionStreams={},D.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;S.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){T=[],E=null,A=null,D?this.clearParsedCaptions():D={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Ih=Ph,Ns=Rs.toUnsigned,qa=Rs.toHexString,Oh=t.getUint64,oc,uc,uu,lc,cc,lu;oc=function(_){var S={},T=wt(_,["moov","trak"]);return T.reduce(function(E,A){var D,N,M,q,$;return D=wt(A,["tkhd"])[0],!D||(N=D[0],M=N===0?12:20,q=Ns(D[M]<<24|D[M+1]<<16|D[M+2]<<8|D[M+3]),$=wt(A,["mdia","mdhd"])[0],!$)?null:(N=$[0],M=N===0?12:20,E[q]=Ns($[M]<<24|$[M+1]<<16|$[M+2]<<8|$[M+3]),E)},S)},uc=function(_,S){var T;T=wt(S,["moof","traf"]);var E=T.reduce(function(A,D){var N=wt(D,["tfhd"])[0],M=Ns(N[4]<<24|N[5]<<16|N[6]<<8|N[7]),q=_[M]||9e4,$=wt(D,["tfdt"])[0],X=new DataView($.buffer,$.byteOffset,$.byteLength),ne;$[0]===1?ne=Oh($.subarray(4,12)):ne=X.getUint32(4);var Se;return typeof ne=="bigint"?Se=ne/Ti.BigInt(q):typeof ne=="number"&&!isNaN(ne)&&(Se=ne/q),Se<Number.MAX_SAFE_INTEGER&&(Se=Number(Se)),Se<A&&(A=Se),A},1/0);return typeof E=="bigint"||isFinite(E)?E:0},uu=function(_,S){var T=wt(S,["moof","traf"]),E=0,A=0,D;if(T&&T.length){var N=wt(T[0],["tfhd"])[0],M=wt(T[0],["trun"])[0],q=wt(T[0],["tfdt"])[0];if(N){var $=ac(N);D=$.trackId}if(q){var X=tc(q);E=X.baseMediaDecodeTime}if(M){var ne=nc(M);ne.samples&&ne.samples.length&&(A=ne.samples[0].compositionTimeOffset||0)}}var Se=_[D]||9e4;typeof E=="bigint"&&(A=Ti.BigInt(A),Se=Ti.BigInt(Se));var Pe=(E+A)/Se;return typeof Pe=="bigint"&&Pe<Number.MAX_SAFE_INTEGER&&(Pe=Number(Pe)),Pe},lc=function(_){var S=wt(_,["moov","trak"]),T=[];return S.forEach(function(E){var A=wt(E,["mdia","hdlr"]),D=wt(E,["tkhd"]);A.forEach(function(N,M){var q=sn(N.subarray(8,12)),$=D[M],X,ne,Se;q==="vide"&&(X=new DataView($.buffer,$.byteOffset,$.byteLength),ne=X.getUint8(0),Se=ne===0?X.getUint32(12):X.getUint32(20),T.push(Se))})}),T},lu=function(_){var S=_[0],T=S===0?12:20;return Ns(_[T]<<24|_[T+1]<<16|_[T+2]<<8|_[T+3])},cc=function(_){var S=wt(_,["moov","trak"]),T=[];return S.forEach(function(E){var A={},D=wt(E,["tkhd"])[0],N,M;D&&(N=new DataView(D.buffer,D.byteOffset,D.byteLength),M=N.getUint8(0),A.id=M===0?N.getUint32(12):N.getUint32(20));var q=wt(E,["mdia","hdlr"])[0];if(q){var $=sn(q.subarray(8,12));$==="vide"?A.type="video":$==="soun"?A.type="audio":A.type=$}var X=wt(E,["mdia","minf","stbl","stsd"])[0];if(X){var ne=X.subarray(8);A.codec=sn(ne.subarray(4,8));var Se=wt(ne,[A.codec])[0],Pe,me;Se&&(/^[asm]vc[1-9]$/i.test(A.codec)?(Pe=Se.subarray(78),me=sn(Pe.subarray(4,8)),me==="avcC"&&Pe.length>11?(A.codec+=".",A.codec+=qa(Pe[9]),A.codec+=qa(Pe[10]),A.codec+=qa(Pe[11])):A.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(A.codec)?(Pe=Se.subarray(28),me=sn(Pe.subarray(4,8)),me==="esds"&&Pe.length>20&&Pe[19]!==0?(A.codec+="."+qa(Pe[19]),A.codec+="."+qa(Pe[20]>>>2&63).replace(/^0/,"")):A.codec="mp4a.40.2"):A.codec=A.codec.toLowerCase())}var Ve=wt(E,["mdia","mdhd"])[0];Ve&&(A.timescale=lu(Ve)),T.push(A)}),T};var dc={findBox:wt,parseType:sn,timescale:oc,startTime:uc,compositionStartTime:uu,videoTrackIds:lc,tracks:cc,getTimescaleFromMediaHeader:lu},fc=function(_){var S=_[1]&31;return S<<=8,S|=_[2],S},Fs=function(_){return!!(_[1]&64)},Ms=function(_){var S=0;return(_[3]&48)>>>4>1&&(S+=_[4]+1),S},Lh=function(_,S){var T=fc(_);return T===0?"pat":T===S?"pmt":S?"pes":null},hc=function(_){var S=Fs(_),T=4+Ms(_);return S&&(T+=_[T]+1),(_[T+10]&31)<<8|_[T+11]},Rh=function(_){var S={},T=Fs(_),E=4+Ms(_);if(T&&(E+=_[E]+1),!!(_[E+5]&1)){var A,D,N;A=(_[E+1]&15)<<8|_[E+2],D=3+A-4,N=(_[E+10]&15)<<8|_[E+11];for(var M=12+N;M<D;){var q=E+M;S[(_[q+1]&31)<<8|_[q+2]]=_[q],M+=((_[q+3]&15)<<8|_[q+4])+5}return S}},Nh=function(_,S){var T=fc(_),E=S[T];switch(E){case Qt.H264_STREAM_TYPE:return"video";case Qt.ADTS_STREAM_TYPE:return"audio";case Qt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Fh=function(_){var S=Fs(_);if(!S)return null;var T=4+Ms(_);if(T>=_.byteLength)return null;var E=null,A;return A=_[T+7],A&192&&(E={},E.pts=(_[T+9]&14)<<27|(_[T+10]&255)<<20|(_[T+11]&254)<<12|(_[T+12]&255)<<5|(_[T+13]&254)>>>3,E.pts*=4,E.pts+=(_[T+13]&6)>>>1,E.dts=E.pts,A&64&&(E.dts=(_[T+14]&14)<<27|(_[T+15]&255)<<20|(_[T+16]&254)<<12|(_[T+17]&255)<<5|(_[T+18]&254)>>>3,E.dts*=4,E.dts+=(_[T+18]&6)>>>1)),E},cu=function(_){switch(_){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Mh=function(_){for(var S=4+Ms(_),T=_.subarray(S),E=0,A=0,D=!1,N;A<T.byteLength-3;A++)if(T[A+2]===1){E=A+5;break}for(;E<T.byteLength;)switch(T[E]){case 0:if(T[E-1]!==0){E+=2;break}else if(T[E-2]!==0){E++;break}A+3!==E-2&&(N=cu(T[A+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(D=!0));do E++;while(T[E]!==1&&E<T.length);A=E-2,E+=3;break;case 1:if(T[E-1]!==0||T[E-2]!==0){E+=3;break}N=cu(T[A+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(D=!0),A=E-2,E+=3;break;default:E+=3;break}return T=T.subarray(A),E-=A,A=0,T&&T.byteLength>3&&(N=cu(T[A+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(D=!0)),D},Bh={parseType:Lh,parsePat:hc,parsePmt:Rh,parsePayloadUnitStartIndicator:Fs,parsePesType:Nh,parsePesTime:Fh,videoPacketContainsKeyFrame:Mh},na=As.handleRollover,vt={};vt.ts=Bh,vt.aac=Is;var Si=Qe.ONE_SECOND_IN_TS,br=188,Tn=71,Uh=function(_,S){for(var T=0,E=br,A,D;E<_.byteLength;){if(_[T]===Tn&&_[E]===Tn){switch(A=_.subarray(T,E),D=vt.ts.parseType(A,S.pid),D){case"pat":S.pid=vt.ts.parsePat(A);break;case"pmt":var N=vt.ts.parsePmt(A);S.table=S.table||{},Object.keys(N).forEach(function(M){S.table[M]=N[M]});break}T+=br,E+=br;continue}T++,E++}},pc=function(_,S,T){for(var E=0,A=br,D,N,M,q,$,X=!1;A<=_.byteLength;){if(_[E]===Tn&&(_[A]===Tn||A===_.byteLength)){switch(D=_.subarray(E,A),N=vt.ts.parseType(D,S.pid),N){case"pes":M=vt.ts.parsePesType(D,S.table),q=vt.ts.parsePayloadUnitStartIndicator(D),M==="audio"&&q&&($=vt.ts.parsePesTime(D),$&&($.type="audio",T.audio.push($),X=!0));break}if(X)break;E+=br,A+=br;continue}E++,A++}for(A=_.byteLength,E=A-br,X=!1;E>=0;){if(_[E]===Tn&&(_[A]===Tn||A===_.byteLength)){switch(D=_.subarray(E,A),N=vt.ts.parseType(D,S.pid),N){case"pes":M=vt.ts.parsePesType(D,S.table),q=vt.ts.parsePayloadUnitStartIndicator(D),M==="audio"&&q&&($=vt.ts.parsePesTime(D),$&&($.type="audio",T.audio.push($),X=!0));break}if(X)break;E-=br,A-=br;continue}E--,A--}},gc=function(_,S,T){for(var E=0,A=br,D,N,M,q,$,X,ne,Se,Pe=!1,me={data:[],size:0};A<_.byteLength;){if(_[E]===Tn&&_[A]===Tn){switch(D=_.subarray(E,A),N=vt.ts.parseType(D,S.pid),N){case"pes":if(M=vt.ts.parsePesType(D,S.table),q=vt.ts.parsePayloadUnitStartIndicator(D),M==="video"&&(q&&!Pe&&($=vt.ts.parsePesTime(D),$&&($.type="video",T.video.push($),Pe=!0)),!T.firstKeyFrame)){if(q&&me.size!==0){for(X=new Uint8Array(me.size),ne=0;me.data.length;)Se=me.data.shift(),X.set(Se,ne),ne+=Se.byteLength;if(vt.ts.videoPacketContainsKeyFrame(X)){var Ve=vt.ts.parsePesTime(X);Ve?(T.firstKeyFrame=Ve,T.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}me.size=0}me.data.push(D),me.size+=D.byteLength}break}if(Pe&&T.firstKeyFrame)break;E+=br,A+=br;continue}E++,A++}for(A=_.byteLength,E=A-br,Pe=!1;E>=0;){if(_[E]===Tn&&_[A]===Tn){switch(D=_.subarray(E,A),N=vt.ts.parseType(D,S.pid),N){case"pes":M=vt.ts.parsePesType(D,S.table),q=vt.ts.parsePayloadUnitStartIndicator(D),M==="video"&&q&&($=vt.ts.parsePesTime(D),$&&($.type="video",T.video.push($),Pe=!0));break}if(Pe)break;E-=br,A-=br;continue}E--,A--}},jh=function(_,S){if(_.audio&&_.audio.length){var T=S;(typeof T>"u"||isNaN(T))&&(T=_.audio[0].dts),_.audio.forEach(function(D){D.dts=na(D.dts,T),D.pts=na(D.pts,T),D.dtsTime=D.dts/Si,D.ptsTime=D.pts/Si})}if(_.video&&_.video.length){var E=S;if((typeof E>"u"||isNaN(E))&&(E=_.video[0].dts),_.video.forEach(function(D){D.dts=na(D.dts,E),D.pts=na(D.pts,E),D.dtsTime=D.dts/Si,D.ptsTime=D.pts/Si}),_.firstKeyFrame){var A=_.firstKeyFrame;A.dts=na(A.dts,E),A.pts=na(A.pts,E),A.dtsTime=A.dts/Si,A.ptsTime=A.pts/Si}}},Hh=function(_){for(var S=!1,T=0,E=null,A=null,D=0,N=0,M;_.length-N>=3;){var q=vt.aac.parseType(_,N);switch(q){case"timed-metadata":if(_.length-N<10){S=!0;break}if(D=vt.aac.parseId3TagSize(_,N),D>_.length){S=!0;break}A===null&&(M=_.subarray(N,N+D),A=vt.aac.parseAacTimestamp(M)),N+=D;break;case"audio":if(_.length-N<7){S=!0;break}if(D=vt.aac.parseAdtsSize(_,N),D>_.length){S=!0;break}E===null&&(M=_.subarray(N,N+D),E=vt.aac.parseSampleRate(M)),T++,N+=D;break;default:N++;break}if(S)return null}if(E===null||A===null)return null;var $=Si/E,X={audio:[{type:"audio",dts:A,pts:A},{type:"audio",dts:A+T*1024*$,pts:A+T*1024*$}]};return X},Vh=function(_){var S={pid:null,table:null},T={};Uh(_,S);for(var E in S.table)if(S.table.hasOwnProperty(E)){var A=S.table[E];switch(A){case Qt.H264_STREAM_TYPE:T.video=[],gc(_,S,T),T.video.length===0&&delete T.video;break;case Qt.ADTS_STREAM_TYPE:T.audio=[],pc(_,S,T),T.audio.length===0&&delete T.audio;break}}return T},qh=function(_,S){var T=vt.aac.isLikelyAacData(_),E;return T?E=Hh(_):E=Vh(_),!E||!E.audio&&!E.video?null:(jh(E,S),E)},$h={inspect:qh,parseAudioPes_:pc},Wh=function(_,S){S.on("data",function(T){var E=T.initSegment;T.initSegment={data:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength};var A=T.data;T.data=A.buffer,_.postMessage({action:"data",segment:T,byteOffset:A.byteOffset,byteLength:A.byteLength},[T.data])}),S.on("done",function(T){_.postMessage({action:"done"})}),S.on("gopInfo",function(T){_.postMessage({action:"gopInfo",gopInfo:T})}),S.on("videoSegmentTimingInfo",function(T){var E={start:{decode:Qe.videoTsToSeconds(T.start.dts),presentation:Qe.videoTsToSeconds(T.start.pts)},end:{decode:Qe.videoTsToSeconds(T.end.dts),presentation:Qe.videoTsToSeconds(T.end.pts)},baseMediaDecodeTime:Qe.videoTsToSeconds(T.baseMediaDecodeTime)};T.prependedContentDuration&&(E.prependedContentDuration=Qe.videoTsToSeconds(T.prependedContentDuration)),_.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:E})}),S.on("audioSegmentTimingInfo",function(T){var E={start:{decode:Qe.videoTsToSeconds(T.start.dts),presentation:Qe.videoTsToSeconds(T.start.pts)},end:{decode:Qe.videoTsToSeconds(T.end.dts),presentation:Qe.videoTsToSeconds(T.end.pts)},baseMediaDecodeTime:Qe.videoTsToSeconds(T.baseMediaDecodeTime)};T.prependedContentDuration&&(E.prependedContentDuration=Qe.videoTsToSeconds(T.prependedContentDuration)),_.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:E})}),S.on("id3Frame",function(T){_.postMessage({action:"id3Frame",id3Frame:T})}),S.on("caption",function(T){_.postMessage({action:"caption",caption:T})}),S.on("trackinfo",function(T){_.postMessage({action:"trackinfo",trackInfo:T})}),S.on("audioTimingInfo",function(T){_.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Qe.videoTsToSeconds(T.start),end:Qe.videoTsToSeconds(T.end)}})}),S.on("videoTimingInfo",function(T){_.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Qe.videoTsToSeconds(T.start),end:Qe.videoTsToSeconds(T.end)}})}),S.on("log",function(T){_.postMessage({action:"log",log:T})})},mc=function(){function I(S,T){this.options=T||{},this.self=S,this.init()}var _=I.prototype;return _.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Yl.Transmuxer(this.options),Wh(this.self,this.transmuxer)},_.pushMp4Captions=function(T){this.captionParser||(this.captionParser=new Ih,this.captionParser.init());var E=new Uint8Array(T.data,T.byteOffset,T.byteLength),A=this.captionParser.parse(E,T.trackIds,T.timescales);this.self.postMessage({action:"mp4Captions",captions:A&&A.captions||[],logs:A&&A.logs||[],data:E.buffer},[E.buffer])},_.probeMp4StartTime=function(T){var E=T.timescales,A=T.data,D=dc.startTime(E,A);this.self.postMessage({action:"probeMp4StartTime",startTime:D,data:A},[A.buffer])},_.probeMp4Tracks=function(T){var E=T.data,A=dc.tracks(E);this.self.postMessage({action:"probeMp4Tracks",tracks:A,data:E},[E.buffer])},_.probeTs=function(T){var E=T.data,A=T.baseStartTime,D=typeof A=="number"&&!isNaN(A)?A*Qe.ONE_SECOND_IN_TS:void 0,N=$h.inspect(E,D),M=null;N&&(M={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},M.hasVideo&&(M.videoStart=N.video[0].ptsTime),M.hasAudio&&(M.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:M,data:E},[E.buffer])},_.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},_.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},_.push=function(T){var E=new Uint8Array(T.data,T.byteOffset,T.byteLength);this.transmuxer.push(E)},_.reset=function(){this.transmuxer.reset()},_.setTimestampOffset=function(T){var E=T.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Qe.secondsToVideoTs(E)))},_.setAudioAppendStart=function(T){this.transmuxer.setAudioAppendStart(Math.ceil(Qe.secondsToVideoTs(T.appendStart)))},_.setRemux=function(T){this.transmuxer.setRemux(T.remux)},_.flush=function(T){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},_.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},_.alignGopsWith=function(T){this.transmuxer.alignGopsWith(T.gopsToAlignWith.slice())},I}();self.onmessage=function(I){if(I.data.action==="init"&&I.data.options){this.messageHandlers=new mc(self,I.data.options);return}this.messageHandlers||(this.messageHandlers=new mc(self)),I.data&&I.data.action&&I.data.action!=="init"&&this.messageHandlers[I.data.action]&&this.messageHandlers[I.data.action](I.data)}})),iF=K1(nF),aF=function(e,n,i){var t=e.data.segment,a=t.type,s=t.initSegment,l=t.captions,c=t.captionStreams,f=t.metadata,h=t.videoFrameDtsTime,v=t.videoFramePtsTime;n.buffer.push({captions:l,captionStreams:c,metadata:f});var y=e.data.segment.boxes||{data:e.data.segment.data},x={type:a,data:new Uint8Array(y.data,y.data.byteOffset,y.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof h<"u"&&(x.videoFrameDtsTime=h),typeof v<"u"&&(x.videoFramePtsTime=v),i(x)},sF=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},oF=function(e,n){n.gopInfo=e.data.gopInfo},Y1=function(e){var n=e.transmuxer,i=e.bytes,t=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,l=e.onData,c=e.onTrackInfo,f=e.onAudioTimingInfo,h=e.onVideoTimingInfo,v=e.onVideoSegmentTimingInfo,y=e.onAudioSegmentTimingInfo,x=e.onId3,C=e.onCaptions,k=e.onDone,P=e.onEndedTimeline,R=e.onTransmuxerLog,F=e.isEndOfTimeline,B={buffer:[]},H=F,K=function(z){n.currentTransmux===e&&(z.data.action==="data"&&aF(z,B,l),z.data.action==="trackinfo"&&c(z.data.trackInfo),z.data.action==="gopInfo"&&oF(z,B),z.data.action==="audioTimingInfo"&&f(z.data.audioTimingInfo),z.data.action==="videoTimingInfo"&&h(z.data.videoTimingInfo),z.data.action==="videoSegmentTimingInfo"&&v(z.data.videoSegmentTimingInfo),z.data.action==="audioSegmentTimingInfo"&&y(z.data.audioSegmentTimingInfo),z.data.action==="id3Frame"&&x([z.data.id3Frame],z.data.id3Frame.dispatchType),z.data.action==="caption"&&C(z.data.caption),z.data.action==="endedtimeline"&&(H=!1,P()),z.data.action==="log"&&R(z.data.log),z.data.type==="transmuxed"&&(H||(n.onmessage=null,sF({transmuxedData:B,callback:k}),Q1(n))))};if(n.onmessage=K,t&&n.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(a)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&n.postMessage({action:"setRemux",remux:s}),i.byteLength){var Y=i instanceof ArrayBuffer?i:i.buffer,Q=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:Y,byteOffset:Q,byteLength:i.byteLength},[Y])}F&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},Q1=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():Y1(e.currentTransmux))},Kb=function(e,n){e.postMessage({action:n}),Q1(e)},Z1=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,Kb(n,e);return}n.transmuxQueue.push(Kb.bind(null,n,e))},uF=function(e){Z1("reset",e)},lF=function(e){Z1("endTimeline",e)},eE=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,Y1(e);return}e.transmuxer.transmuxQueue.push(e)},cF=function(e){var n=new iF;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},og={reset:uF,endTimeline:lF,transmux:eE,createTransmuxer:cF},Yd=function(e){var n=e.transmuxer,i=e.endAction||e.action,t=e.callback,a=On({},e,{endAction:null,transmuxer:null,callback:null}),s=function f(h){h.data.action===i&&(n.removeEventListener("message",f),h.data.data&&(h.data.data=new Uint8Array(h.data.data,e.byteOffset||0,e.byteLength||h.data.data.byteLength),e.data&&(e.data=h.data.data)),t(h.data))};if(n.addEventListener("message",s),e.data){var l=e.data instanceof ArrayBuffer;a.byteOffset=l?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var c=[l?e.data:e.data.buffer];n.postMessage(a,c)}else n.postMessage(a)},di={FAILURE:2,TIMEOUT:-101,ABORTED:-102},lm=function(e){e.forEach(function(n){n.abort()})},dF=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},fF=function(e){var n=e.target,i=Date.now()-n.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},t0=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:di.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:di.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:di.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:di.FAILURE,xhr:n}:null},Xb=function(e,n,i){return function(t,a){var s=a.response,l=t0(t,a);if(l)return i(l,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:di.FAILURE,xhr:a},e);for(var c=new DataView(s),f=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]),h=0;h<n.length;h++)n[h].bytes=f;return i(null,e)}},tE=function(e,n){var i=mv(e.map.bytes);if(i!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+t,code:di.FAILURE})}Yd({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var l=s.tracks,c=s.data;return e.map.bytes=c,l.forEach(function(f){e.map.tracks=e.map.tracks||{},!e.map.tracks[f.type]&&(e.map.tracks[f.type]=f,typeof f.id=="number"&&f.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[f.id]=f.timescale))}),n(null)}})},hF=function(e){var n=e.segment,i=e.finishProcessingFn;return function(t,a){var s=t0(t,a);if(s)return i(s,n);var l=new Uint8Array(a.response);if(n.map.key)return n.map.encryptedBytes=l,i(null,n);n.map.bytes=l,tE(n,function(c){if(c)return c.xhr=a,c.status=a.status,i(c,n);i(null,n)})}},pF=function(e){var n=e.segment,i=e.finishProcessingFn,t=e.responseType;return function(a,s){var l=t0(a,s);if(l)return i(l,n);var c=t==="arraybuffer"||!s.responseText?s.response:tF(s.responseText.substring(n.lastReachedChar||0));return n.stats=dF(s),n.key?n.encryptedBytes=new Uint8Array(c):n.bytes=new Uint8Array(c),i(null,n)}},gF=function(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,v=e.endedTimelineFn,y=e.dataFn,x=e.doneFn,C=e.onTransmuxerLog,k=n.map&&n.map.tracks||{},P=Boolean(k.audio&&k.video),R=a.bind(null,n,"audio","start"),F=a.bind(null,n,"audio","end"),B=a.bind(null,n,"video","start"),H=a.bind(null,n,"video","end"),K=function(){return eE({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:P,onData:function(U){U.type=U.type==="combined"?"video":U.type,y(n,U)},onTrackInfo:function(U){t&&(P&&(U.isMuxed=!0),t(n,U))},onAudioTimingInfo:function(U){R&&typeof U.start<"u"&&(R(U.start),R=null),F&&typeof U.end<"u"&&F(U.end)},onVideoTimingInfo:function(U){B&&typeof U.start<"u"&&(B(U.start),B=null),H&&typeof U.end<"u"&&H(U.end)},onVideoSegmentTimingInfo:function(U){s(U)},onAudioSegmentTimingInfo:function(U){l(U)},onId3:function(U,z){c(n,U,z)},onCaptions:function(U){f(n,[U])},isEndOfTimeline:h,onEndedTimeline:function(){v()},onTransmuxerLog:C,onDone:function(U){!x||(U.type=U.type==="combined"?"video":U.type,x(null,n,U))}})};Yd({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function(Q){n.bytes=i=Q.data;var U=Q.result;U&&(t(n,{hasAudio:U.hasAudio,hasVideo:U.hasVideo,isMuxed:P}),t=null,U.hasAudio&&!P&&R(U.audioStart),U.hasVideo&&B(U.videoStart),R=null,B=null),K()}})},rE=function(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,v=e.endedTimelineFn,y=e.dataFn,x=e.doneFn,C=e.onTransmuxerLog,k=new Uint8Array(i);if(RR(k)){n.isFmp4=!0;var P=n.map.tracks,R={isFmp4:!0,hasVideo:!!P.video,hasAudio:!!P.audio};P.audio&&P.audio.codec&&P.audio.codec!=="enca"&&(R.audioCodec=P.audio.codec),P.video&&P.video.codec&&P.video.codec!=="encv"&&(R.videoCodec=P.video.codec),P.video&&P.audio&&(R.isMuxed=!0),t(n,R);var F=function(H){y(n,{data:k,type:R.hasAudio&&!R.isMuxed?"audio":"video"}),H&&H.length&&f(n,H),x(null,n,{})};Yd({action:"probeMp4StartTime",timescales:n.map.timescales,data:k,transmuxer:n.transmuxer,callback:function(H){var K=H.data,Y=H.startTime;if(i=K.buffer,n.bytes=k=K,R.hasAudio&&!R.isMuxed&&a(n,"audio","start",Y),R.hasVideo&&a(n,"video","start",Y),!P.video||!K.byteLength||!n.transmuxer){F();return}Yd({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:k,timescales:n.map.timescales,trackIds:[P.video.id],callback:function(U){i=U.data.buffer,n.bytes=k=U.data,U.logs.forEach(function(z){C(J.mergeOptions(z,{stream:"mp4CaptionParser"}))}),F(U.captions)}})}});return}if(!n.transmuxer){x(null,n,{});return}if(typeof n.container>"u"&&(n.container=mv(k)),n.container!=="ts"&&n.container!=="aac"){t(n,{hasAudio:!1,hasVideo:!1}),x(null,n,{});return}gF({segment:n,bytes:i,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:v,dataFn:y,doneFn:x,onTransmuxerLog:C})},nE=function(e,n){var i=e.id,t=e.key,a=e.encryptedBytes,s=e.decryptionWorker,l=function f(h){if(h.data.source===i){s.removeEventListener("message",f);var v=h.data.decrypted;n(new Uint8Array(v.bytes,v.byteOffset,v.byteLength))}};s.addEventListener("message",l);var c;t.bytes.slice?c=t.bytes.slice():c=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(V1({source:i,encrypted:a,key:c,iv:t.iv}),[a.buffer,c.buffer])},mF=function(e){var n=e.decryptionWorker,i=e.segment,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,v=e.endedTimelineFn,y=e.dataFn,x=e.doneFn,C=e.onTransmuxerLog;nE({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(k){i.bytes=k,rE({segment:i,bytes:i.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:v,dataFn:y,doneFn:x,onTransmuxerLog:C})})},vF=function(e){var n=e.activeXhrs,i=e.decryptionWorker,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,c=e.id3Fn,f=e.captionsFn,h=e.isEndOfTimeline,v=e.endedTimelineFn,y=e.dataFn,x=e.doneFn,C=e.onTransmuxerLog,k=0,P=!1;return function(R,F){if(!P){if(R)return P=!0,lm(n),x(R,F);if(k+=1,k===n.length){var B=function(){if(F.encryptedBytes)return mF({decryptionWorker:i,segment:F,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:v,dataFn:y,doneFn:x,onTransmuxerLog:C});rE({segment:F,bytes:F.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:v,dataFn:y,doneFn:x,onTransmuxerLog:C})};if(F.endOfAllRequests=Date.now(),F.map&&F.map.encryptedBytes&&!F.map.bytes)return nE({decryptionWorker:i,id:F.requestId+"-init",encryptedBytes:F.map.encryptedBytes,key:F.map.key},function(H){F.map.bytes=H,tE(F,function(K){if(K)return lm(n),x(K,F);B()})});B()}}}},_F=function(e){var n=e.loadendState,i=e.abortFn;return function(t){var a=t.target;a.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},yF=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(t){var a=t.target;if(!a.aborted)return n.stats=J.mergeOptions(n.stats,fF(t)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(t,n)}},bF=function(e){var n=e.xhr,i=e.xhrOptions,t=e.decryptionWorker,a=e.segment,s=e.abortFn,l=e.progressFn,c=e.trackInfoFn,f=e.timingInfoFn,h=e.videoSegmentTimingInfoFn,v=e.audioSegmentTimingInfoFn,y=e.id3Fn,x=e.captionsFn,C=e.isEndOfTimeline,k=e.endedTimelineFn,P=e.dataFn,R=e.doneFn,F=e.onTransmuxerLog,B=[],H=vF({activeXhrs:B,decryptionWorker:t,trackInfoFn:c,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:v,id3Fn:y,captionsFn:x,isEndOfTimeline:C,endedTimelineFn:k,dataFn:P,doneFn:R,onTransmuxerLog:F});if(a.key&&!a.key.bytes){var K=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&K.push(a.map.key);var Y=J.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),Q=Xb(a,K,H),U=n(Y,Q);B.push(U)}if(a.map&&!a.map.bytes){var z=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(z){var Z=J.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),se=Xb(a,[a.map.key],H),te=n(Z,se);B.push(te)}var ce=J.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:om(a.map)}),Fe=hF({segment:a,finishProcessingFn:H}),Ue=n(ce,Fe);B.push(Ue)}var ve=J.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:om(a)}),De=pF({segment:a,finishProcessingFn:H,responseType:ve.responseType}),Me=n(ve,De);Me.addEventListener("progress",yF({segment:a,progressFn:l,trackInfoFn:c,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:v,id3Fn:y,captionsFn:x,isEndOfTimeline:C,endedTimelineFn:k,dataFn:P})),B.push(Me);var _t={};return B.forEach(function(at){at.addEventListener("loadend",_F({loadendState:_t,abortFn:s}))}),function(){return lm(B)}},TF=Xn("CodecUtils"),SF=function(e){var n=e.attributes||{};if(n.CODECS)return ai(n.CODECS)},iE=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},xF=function(e,n){if(!iE(e,n))return!0;var i=n.attributes||{},t=e.mediaGroups.AUDIO[i.AUDIO];for(var a in t)if(!t[a].uri&&!t[a].playlists)return!0;return!1},Qd=function(e){var n={};return e.forEach(function(i){var t=i.mediaType,a=i.type,s=i.details;n[t]=n[t]||[],n[t].push(E2(""+a+s))}),Object.keys(n).forEach(function(i){if(n[i].length>1){TF("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},Jb=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},rl=function(e,n){var i=n.attributes||{},t=Qd(SF(n)||[]);if(iE(e,n)&&!t.audio&&!xF(e,n)){var a=Qd(UL(e,i.AUDIO)||[]);a.audio&&(t.audio=a.audio)}return t},id=Xn("PlaylistSelector"),Yb=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},Zd=function(e,n){if(!e)return"";var i=V.getComputedStyle(e);return i?i[n]:""},ho=function(e,n){var i=e.slice();e.sort(function(t,a){var s=n(t,a);return s===0?i.indexOf(t)-i.indexOf(a):s})},r0=function(e,n){var i,t;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||V.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(t=n.attributes.BANDWIDTH),t=t||V.Number.MAX_VALUE,i-t},EF=function(e,n){var i,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||V.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(t=n.attributes.RESOLUTION.width),t=t||V.Number.MAX_VALUE,i===t&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-t},aE=function(e,n,i,t,a,s){if(!!e){var l={bandwidth:n,width:i,height:t,limitRenditionByPlayerDimensions:a},c=e.playlists;en.isAudioOnly(e)&&(c=s.getAudioTrackPlaylists_(),l.audioOnly=!0);var f=c.map(function(Z){var se,te=Z.attributes&&Z.attributes.RESOLUTION&&Z.attributes.RESOLUTION.width,ce=Z.attributes&&Z.attributes.RESOLUTION&&Z.attributes.RESOLUTION.height;return se=Z.attributes&&Z.attributes.BANDWIDTH,se=se||V.Number.MAX_VALUE,{bandwidth:se,width:te,height:ce,playlist:Z}});ho(f,function(Z,se){return Z.bandwidth-se.bandwidth}),f=f.filter(function(Z){return!en.isIncompatible(Z.playlist)});var h=f.filter(function(Z){return en.isEnabled(Z.playlist)});h.length||(h=f.filter(function(Z){return!en.isDisabled(Z.playlist)}));var v=h.filter(function(Z){return Z.bandwidth*pr.BANDWIDTH_VARIANCE<n}),y=v[v.length-1],x=v.filter(function(Z){return Z.bandwidth===y.bandwidth})[0];if(a===!1){var C=x||h[0]||f[0];if(C&&C.playlist){var k="sortedPlaylistReps";return x&&(k="bandwidthBestRep"),h[0]&&(k="enabledPlaylistReps"),id("choosing "+Yb(C)+" using "+k+" with options",l),C.playlist}return id("could not choose a playlist with options",l),null}var P=v.filter(function(Z){return Z.width&&Z.height});ho(P,function(Z,se){return Z.width-se.width});var R=P.filter(function(Z){return Z.width===i&&Z.height===t});y=R[R.length-1];var F=R.filter(function(Z){return Z.bandwidth===y.bandwidth})[0],B,H,K;F||(B=P.filter(function(Z){return Z.width>i||Z.height>t}),H=B.filter(function(Z){return Z.width===B[0].width&&Z.height===B[0].height}),y=H[H.length-1],K=H.filter(function(Z){return Z.bandwidth===y.bandwidth})[0]);var Y;if(s.experimentalLeastPixelDiffSelector){var Q=P.map(function(Z){return Z.pixelDiff=Math.abs(Z.width-i)+Math.abs(Z.height-t),Z});ho(Q,function(Z,se){return Z.pixelDiff===se.pixelDiff?se.bandwidth-Z.bandwidth:Z.pixelDiff-se.pixelDiff}),Y=Q[0]}var U=Y||K||F||x||h[0]||f[0];if(U&&U.playlist){var z="sortedPlaylistReps";return Y?z="leastPixelDiffRep":K?z="resolutionPlusOneRep":F?z="resolutionBestRep":x?z="bandwidthBestRep":h[0]&&(z="enabledPlaylistReps"),id("choosing "+Yb(U)+" using "+z+" with options",l),U.playlist}return id("could not choose a playlist with options",l),null}},Qb=function(){var e=this.useDevicePixelRatio&&V.devicePixelRatio||1;return aE(this.playlists.master,this.systemBandwidth,parseInt(Zd(this.tech_.el(),"width"),10)*e,parseInt(Zd(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},wF=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&V.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),aE(this.playlists.master,n,parseInt(Zd(this.tech_.el(),"width"),10)*t,parseInt(Zd(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},CF=function(e){var n=e.master,i=e.currentTime,t=e.bandwidth,a=e.duration,s=e.segmentDuration,l=e.timeUntilRebuffer,c=e.currentTimeline,f=e.syncController,h=n.playlists.filter(function(k){return!en.isIncompatible(k)}),v=h.filter(en.isEnabled);v.length||(v=h.filter(function(k){return!en.isDisabled(k)}));var y=v.filter(en.hasAttribute.bind(null,"BANDWIDTH")),x=y.map(function(k){var P=f.getSyncPoint(k,a,c,i),R=P?1:2,F=en.estimateSegmentRequestTime(s,t,k),B=F*R-l;return{playlist:k,rebufferingImpact:B}}),C=x.filter(function(k){return k.rebufferingImpact<=0});return ho(C,function(k,P){return r0(P.playlist,k.playlist)}),C.length?C[0]:(ho(x,function(k,P){return k.rebufferingImpact-P.rebufferingImpact}),x[0]||null)},AF=function(){var e=this,n=this.playlists.master.playlists.filter(en.isEnabled);ho(n,function(t,a){return r0(t,a)});var i=n.filter(function(t){return!!rl(e.playlists.master,t).video});return i[0]||null},DF=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(t){i.set(t,n),n+=t.byteLength})),i},kF=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var t=i;/^cc708_/.test(i)&&(t="SERVICE"+i.split("_")[1]);var a=n.textTracks().getTrackById(t);if(a)e[i]=a;else{var s=n.options_.vhs&&n.options_.vhs.captionServices||{},l=i,c=i,f=!1,h=s[t];h&&(l=h.label,c=h.language,f=h.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:t,default:f,label:l,language:c},!1).track}}},PF=function(e){var n=e.inbandTextTracks,i=e.captionArray,t=e.timestampOffset;if(!!i){var a=V.WebKitDataCue||V.VTTCue;i.forEach(function(s){var l=s.stream;n[l].addCue(new a(s.startTime+t,s.endTime+t,s.text))})}},IF=function(e){Object.defineProperties(e.frame,{id:{get:function(){return J.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return J.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return J.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},OF=function(e){var n=e.inbandTextTracks,i=e.metadataArray,t=e.timestampOffset,a=e.videoDuration;if(!!i){var s=V.WebKitDataCue||V.VTTCue,l=n.metadataTrack_;if(!!l&&(i.forEach(function(x){var C=x.cueTime+t;typeof C!="number"||V.isNaN(C)||C<0||!(C<1/0)||x.frames.forEach(function(k){var P=new s(C,C,k.value||k.url||k.data||"");P.frame=k,P.value=k,IF(P),l.addCue(P)})}),!(!l.cues||!l.cues.length))){for(var c=l.cues,f=[],h=0;h<c.length;h++)c[h]&&f.push(c[h]);var v=f.reduce(function(x,C){var k=x[C.startTime]||[];return k.push(C),x[C.startTime]=k,x},{}),y=Object.keys(v).sort(function(x,C){return Number(x)-Number(C)});y.forEach(function(x,C){var k=v[x],P=Number(y[C+1])||a;k.forEach(function(R){R.endTime=P})})}}},LF=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},$u=function(e,n,i){var t,a;if(!!i&&!!i.cues)for(t=i.cues.length;t--;)a=i.cues[t],a.startTime>=e&&a.endTime<=n&&i.removeCue(a)},RF=function(e){var n=e.cues;if(!!n)for(var i=0;i<n.length;i++){for(var t=[],a=0,s=0;s<n.length;s++)n[i].startTime===n[s].startTime&&n[i].endTime===n[s].endTime&&n[i].text===n[s].text&&(a++,a>1&&t.push(n[s]));t.length&&t.forEach(function(l){return e.removeCue(l)})}},NF=function(e,n,i){if(typeof n>"u"||n===null||!e.length)return[];var t=Math.ceil((n-i+3)*Bd.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>t);a++);return e.slice(a)},FF=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var t=n[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=t);a++);return e.slice(0,a).concat(n)},MF=function(e,n,i,t){for(var a=Math.ceil((n-t)*Bd.ONE_SECOND_IN_TS),s=Math.ceil((i-t)*Bd.ONE_SECOND_IN_TS),l=e.slice(),c=e.length;c--&&!(e[c].pts<=s););if(c===-1)return l;for(var f=c+1;f--&&!(e[f].pts<=a););return f=Math.max(f,0),l.splice(f,c-f+1),l},BF=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),t=Object.keys(n).sort();if(i.length!==t.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==t[a]||e[s]!==n[s])return!1}return!0},sE=22,UF=function(e,n,i){n=n||[];for(var t=[],a=0,s=0;s<n.length;s++){var l=n[s];if(e===l.timeline&&(t.push(s),a+=l.duration,a>i))return s}return t.length===0?0:t[t.length-1]},Fu=1,jF=500,Zb=function(e){return typeof e=="number"&&isFinite(e)},ad=1/60,HF=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},VF=function(e,n,i){var t=n-pr.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var a=n-i;return Math.min(a,t)},Qs=function(e){var n=e.startOfSegment,i=e.duration,t=e.segment,a=e.part,s=e.playlist,l=s.mediaSequence,c=s.id,f=s.segments,h=f===void 0?[]:f,v=e.mediaIndex,y=e.partIndex,x=e.timeline,C=h.length-1,k="mediaIndex/partIndex increment";e.getMediaInfoForTime?k="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(k="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(k+=" with independent "+e.independent);var P=typeof y=="number",R=e.segment.uri?"segment":"pre-segment",F=P?D1({preloadSegment:t})-1:0;return R+" ["+(l+v)+"/"+(l+C)+"]"+(P?" part ["+y+"/"+F+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(P?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+x+"]")+(" selected by ["+k+"]")+(" playlist ["+c+"]")},eT=function(e){return e+"TimingInfo"},qF=function(e){var n=e.segmentTimeline,i=e.currentTimeline,t=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&n===i?null:n<i?t:a.length?a.end(a.length-1):t},tT=function(e){var n=e.timelineChangeController,i=e.currentTimeline,t=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===t)return!1;if(a==="audio"){var l=n.lastTimelineChange({type:"main"});return!l||l.to!==t}if(a==="main"&&s){var c=n.pendingTimelineChange({type:"audio"});return!(c&&c.to===t)}return!1},$F=function(e){var n=0;return["video","audio"].forEach(function(i){var t=e[i+"TimingInfo"];if(!!t){var a=t.start,s=t.end,l;typeof a=="bigint"||typeof s=="bigint"?l=V.BigInt(s)-V.BigInt(a):typeof a=="number"&&typeof s=="number"&&(l=s-a),typeof l<"u"&&l>n&&(n=l)}}),typeof n=="bigint"&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n},rT=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+Ia:!1},WF=function(e,n){if(n!=="hls")return null;var i=$F({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var t=e.playlist.targetDuration,a=rT({segmentDuration:i,maxDuration:t*2}),s=rT({segmentDuration:i,maxDuration:t}),l="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:l}:null},cm=function(r){Ee(e,r);function e(i,t){var a;if(a=r.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=J.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=Xn("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(Ye(a),"state",{get:function(){return this.state_},set:function(l){l!==this.state_&&(this.logger_(this.state_+" -> "+l),this.state_=l,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var n=e.prototype;return n.createTransmuxer_=function(){return og.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&V.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,V.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},n.error=function(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&og.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return J.createTimeRanges();if(this.loaderType_==="main"){var a=t.hasAudio,s=t.hasVideo,l=t.isMuxed;if(s&&a&&!this.audioDisabled_&&!l)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=Jd(t),l=this.initSegments_[s];return a&&!l&&t.bytes&&(this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),l||t},n.segmentKey=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=q1(t),l=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!l&&t.bytes&&(this.keyCache_[s]=l={resolvedUri:t.resolvedUri,bytes:t.bytes});var c={resolvedUri:(l||t).resolvedUri};return l&&(c.bytes=l.bytes),c},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(t,a){if(a===void 0&&(a={}),!!t){var s=this.playlist_,l=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=a,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var c=null;if(s&&(s.id?c=s.id:s.uri&&(c=s.uri)),this.logger_("playlist update ["+c+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var f=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+f+"]"),this.mediaIndex!==null)if(this.mediaIndex-=f,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var h=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!h.parts||!h.parts.length||!h.parts[this.partIndex])){var v=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=v}}l&&(l.mediaIndex-=f,l.mediaIndex<0?(l.mediaIndex=null,l.partIndex=null):(l.mediaIndex>=0&&(l.segment=t.segments[l.mediaIndex]),l.partIndex>=0&&l.segment.parts&&(l.part=l.segment.parts[l.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},n.pause=function(){this.checkBufferTimeout_&&(V.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&og.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(t,a,s,l){if(s===void 0&&(s=function(){}),l===void 0&&(l=!1),a===1/0&&(a=this.duration_()),a<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var c=1,f=function(){c--,c===0&&s()};(l||!this.audioDisabled_)&&(c++,this.sourceUpdater_.removeAudio(t,a,f)),(l||this.loaderType_==="main")&&(this.gopBuffer_=MF(this.gopBuffer_,t,a,this.timeMapping_),c++,this.sourceUpdater_.removeVideo(t,a,f));for(var h in this.inbandTextTracks_)$u(t,a,this.inbandTextTracks_[h]);$u(t,a,this.segmentMetadataTrack_),f()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&V.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=V.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&V.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=V.setTimeout(this.monitorBufferTick_.bind(this),jF)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();!t||(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},n.isEndOfStream_=function(t,a,s){if(t===void 0&&(t=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var l=typeof t=="number"&&a.segments[t],c=t+1===a.segments.length,f=!l||!l.parts||s+1===l.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&c&&f},n.chooseNextRequest_=function(){var t=this.buffered_(),a=qb(t)||0,s=Jv(t,this.currentTime_()),l=!this.hasPlayed_()&&s>=1,c=s>=this.goalBufferLength_(),f=this.playlist_.segments;if(!f.length||l||c)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var h={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(h.isSyncRequest)h.mediaIndex=UF(this.currentTimeline_,f,a);else if(this.mediaIndex!==null){var v=f[this.mediaIndex],y=typeof this.partIndex=="number"?this.partIndex:-1;h.startOfSegment=v.end?v.end:a,v.parts&&v.parts[y+1]?(h.mediaIndex=this.mediaIndex,h.partIndex=y+1):h.mediaIndex=this.mediaIndex+1}else{var x=en.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),C=x.segmentIndex,k=x.startTime,P=x.partIndex;h.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),h.mediaIndex=C,h.startOfSegment=k,h.partIndex=P}var R=f[h.mediaIndex],F=R&&typeof h.partIndex=="number"&&R.parts&&R.parts[h.partIndex];if(!R||typeof h.partIndex=="number"&&!F)return null;if(typeof h.partIndex!="number"&&R.parts&&(h.partIndex=0,F=R.parts[0]),!s&&F&&!F.independent)if(h.partIndex===0){var B=f[h.mediaIndex-1],H=B.parts&&B.parts.length&&B.parts[B.parts.length-1];H&&H.independent&&(h.mediaIndex-=1,h.partIndex=B.parts.length-1,h.independent="previous segment")}else R.parts[h.partIndex-1].independent&&(h.partIndex-=1,h.independent="previous part");var K=this.mediaSource_&&this.mediaSource_.readyState==="ended";return h.mediaIndex>=f.length-1&&K&&!this.seeking_()?null:this.generateSegmentInfo_(h)},n.generateSegmentInfo_=function(t){var a=t.independent,s=t.playlist,l=t.mediaIndex,c=t.startOfSegment,f=t.isSyncRequest,h=t.partIndex,v=t.forceTimestampOffset,y=t.getMediaInfoForTime,x=s.segments[l],C=typeof h=="number"&&x.parts[h],k={requestId:"segment-loader-"+Math.random(),uri:C&&C.resolvedUri||x.resolvedUri,mediaIndex:l,partIndex:C?h:null,isSyncRequest:f,startOfSegment:c,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:x.timeline,duration:C&&C.duration||x.duration,segment:x,part:C,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:y,independent:a},P=typeof v<"u"?v:this.isPendingTimestampOffset_;k.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:x.timeline,currentTimeline:this.currentTimeline_,startOfSegment:c,buffered:this.buffered_(),overrideCheck:P});var R=qb(this.sourceUpdater_.audioBuffered());return typeof R=="number"&&(k.audioAppendStart=R-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(k.gopsToAlignWith=NF(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),k},n.timestampOffsetForSegment_=function(t){return qF(t)},n.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=t.bandwidth,l=this.pendingSegment_.duration,c=en.estimateSegmentRequestTime(l,s,this.playlist_,t.bytesReceived),f=fN(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(c<=f)){var h=CF({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:l,timeUntilRebuffer:f,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!h){var v=c-f,y=v-h.rebufferingImpact,x=.5;f<=Ia&&(x=1),!(!h.playlist||h.playlist.uri===this.playlist_.uri||y<x)&&(this.bandwidth=h.playlist.attributes.BANDWIDTH*pr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(t){this.logger_("Aborting "+Qs(t)),this.mediaRequestsAborted+=1},n.handleProgress_=function(t,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(t,a){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},BF(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(t,a,s,l){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var c=this.pendingSegment_,f=eT(a);c[f]=c[f]||{},c[f][s]=l,this.logger_("timinginfo: "+a+" - "+s+" - "+l),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(t,a){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,a));return}var c=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),f={};a.forEach(function(h){f[h.stream]=f[h.stream]||{startTime:1/0,captions:[],endTime:0};var v=f[h.stream];v.startTime=Math.min(v.startTime,h.startTime+c),v.endTime=Math.max(v.endTime,h.endTime+c),v.captions.push(h)}),Object.keys(f).forEach(function(h){var v=f[h],y=v.startTime,x=v.endTime,C=v.captions,k=s.inbandTextTracks_;s.logger_("adding cues from "+y+" -> "+x+" for "+h),kF(k,s.vhs_.tech_,h),$u(y,x,k[h]),PF({captionArray:C,inbandTextTracks:k,timestampOffset:c})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(t,a,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var l=this.pendingSegment_;if(!l.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,a,s));return}var c=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();LF(this.inbandTextTracks_,s,this.vhs_.tech_),OF({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:c,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(a){return a()})},n.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(a){return a()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!tT({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},n.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!t||!a)return!1;var s=a.hasAudio,l=a.hasVideo,c=a.isMuxed;return!(l&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!c&&!t.audioTimingInfo||tT({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(t,a){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[eT(a.type)].start;else{var l=this.getCurrentMediaInfo_(),c=this.loaderType_==="main"&&l&&l.hasVideo,f;c&&(f=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:c,firstVideoFrameTimeForData:f,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var h=this.chooseNextRequest_();if(h.mediaIndex!==s.mediaIndex||h.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},n.updateAppendInitSegmentStatus=function(t,a){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==t.playlist&&(this.appendInitSegment_[a]=!0)},n.getInitSegmentAndUpdateState_=function(t){var a=t.type,s=t.initSegment,l=t.map,c=t.playlist;if(l){var f=Jd(l);if(this.activeInitSegmentId_===f)return null;s=this.initSegmentForMap(l,!0).bytes,this.activeInitSegmentId_=f}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=c,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},n.handleQuotaExceededError_=function(t,a){var s=this,l=t.segmentInfo,c=t.type,f=t.bytes,h=this.sourceUpdater_.audioBuffered(),v=this.sourceUpdater_.videoBuffered();h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+us(h).join(", ")),v.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+us(v).join(", "));var y=h.length?h.start(0):0,x=h.length?h.end(h.length-1):0,C=v.length?v.start(0):0,k=v.length?v.end(v.length-1):0;if(x-y<=Fu&&k-C<=Fu){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+f.byteLength+", ")+("audio buffer: "+us(h).join(", ")+", ")+("video buffer: "+us(v).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:l,type:c,bytes:f}));var P=this.currentTime_(),R=P-Fu;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+R),this.remove(0,R,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Fu+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=V.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},Fu*1e3)},!0)},n.handleAppendError_=function(t,a){var s=t.segmentInfo,l=t.type,c=t.bytes;if(!!a){if(a.code===sE){this.handleQuotaExceededError_({segmentInfo:s,type:l,bytes:c});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(l+" append of "+c.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(t){var a=t.segmentInfo,s=t.type,l=t.initSegment,c=t.data,f=t.bytes;if(!f){var h=[c],v=c.byteLength;l&&(h.unshift(l),v+=l.byteLength),f=DF({bytes:v,segments:h})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:f},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:f}))},n.handleSegmentTimingInfo_=function(t,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var l=this.pendingSegment_.segment,c=t+"TimingInfo";l[c]||(l[c]={}),l[c].transmuxerPrependedSeconds=s.prependedContentDuration||0,l[c].transmuxedPresentationStart=s.start.presentation,l[c].transmuxedDecodeStart=s.start.decode,l[c].transmuxedPresentationEnd=s.end.presentation,l[c].transmuxedDecodeEnd=s.end.decode,l[c].baseMediaDecodeTime=s.baseMediaDecodeTime}},n.appendData_=function(t,a){var s=a.type,l=a.data;if(!(!l||!l.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var c=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:c,data:l})}},n.loadSegment_=function(t){var a=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=On({},t,{forceTimestampOffset:!0});On(t,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},n.updateTransmuxerAndRequestSegment_=function(t){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),l=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),c=this.mediaIndex!==null,f=t.timeline!==this.currentTimeline_&&t.timeline>0,h=l||c&&f;this.logger_("Requesting "+Qs(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=bF({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:h,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(y){var x=y.message,C=y.level,k=y.stream;a.logger_(Qs(t)+" logged from transmuxer stream "+k+" as a "+C+": "+x)}})},n.trimBackBuffer_=function(t){var a=VF(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},n.createSimplifiedSegmentObj_=function(t){var a=t.segment,s=t.part,l={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},c=t.playlist.segments[t.mediaIndex-1];if(c&&c.timeline===a.timeline&&(c.videoTimingInfo?l.baseStartTime=c.videoTimingInfo.transmuxedDecodeEnd:c.audioTimingInfo&&(l.baseStartTime=c.audioTimingInfo.transmuxedDecodeEnd)),a.key){var f=a.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);l.key=this.segmentKey(a.key),l.key.iv=f}return a.map&&(l.map=this.initSegmentForMap(a.map)),l},n.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},n.saveBandwidthRelatedStats_=function(t,a){if(this.pendingSegment_.byteLength=a.bytesReceived,t<ad){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+ad));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},n.segmentRequestFinished_=function(t,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===di.ABORTED)return;if(this.pause(),t.code===di.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),l.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=FF(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(l)}},n.setTimeMapping_=function(t){var a=this.syncController_.mappingForTimeline(t);a!==null&&(this.timeMapping_=a)},n.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(t){var a=t.currentStart,s=t.playlist,l=t.mediaIndex,c=t.firstVideoFrameTimeForData,f=t.currentVideoTimestampOffset,h=t.useVideoTimingInfo,v=t.videoTimingInfo,y=t.audioTimingInfo;if(typeof a<"u")return a;if(!h)return y.start;var x=s.segments[l-1];return l===0||!x||typeof x.start>"u"||x.end!==c+f?c:v.start},n.waitForAppendsToComplete_=function(t){var a=this.getCurrentMediaInfo_(t);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,l=a.hasVideo,c=a.isMuxed,f=this.loaderType_==="main"&&l,h=!this.audioDisabled_&&s&&!c;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}f&&t.waitingOnAppends++,h&&t.waitingOnAppends++,f&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),h&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},n.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(t){var a=HF(this.loaderType_,this.getCurrentMediaInfo_(),t);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),a=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var a=t.videoTimingInfo,s=t.audioTimingInfo,l=t.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:l.start:l.start},n.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,l=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;!l||(t.timingInfo.end=typeof l.end=="number"?l.end:l.start+t.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=WF(t,this.sourceType_);if(a&&(a.severity==="warn"?J.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Qs(t));return}this.logger_("Appended "+Qs(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,l=t.part,c=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,f=l&&l.end&&this.currentTime_()-l.end>t.playlist.partTargetDuration*3;if(c||f){this.logger_("bad "+(c?"segment":"part")+" "+Qs(t)),this.resetEverything();return}var h=this.mediaIndex!==null;h&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(t){if(t.duration<ad){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+ad));return}var a=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,l=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(l-a)/++this.throughput.count},n.addSegmentMetadataCue_=function(t){if(!!this.segmentMetadataTrack_){var a=t.segment,s=a.start,l=a.end;if(!(!Zb(s)||!Zb(l))){$u(s,l,this.segmentMetadataTrack_);var c=V.WebKitDataCue||V.VTTCue,f={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:l},h=JSON.stringify(f),v=new c(s,l,h);v.value=f,this.segmentMetadataTrack_.addCue(v)}}},e}(J.EventTarget);function Ni(){}var oE=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},GF=["video","audio"],dm=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},zF=function(e,n){for(var i=0;i<n.length;i++){var t=n[i];if(t.type==="mediaSource")return null;if(t.type===e)return i}return null},n0=function r(e,n){if(n.queue.length!==0){var i=0,t=n.queue[i];if(t.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),t.action(n),t.doneFn&&t.doneFn(),r("audio",n),r("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||dm(e,n))){if(t.type!==e){if(i=zF(e,n.queue),i===null)return;t=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=t,t.action(e,n),!t.doneFn){n.queuePending[e]=null,r(e,n);return}}}},uE=function(e,n){var i=n[e+"Buffer"],t=oE(e);!i||(i.removeEventListener("updateend",n["on"+t+"UpdateEnd_"]),i.removeEventListener("error",n["on"+t+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},oi=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},cn={appendBuffer:function(e,n,i){return function(t,a){var s=a[t+"Buffer"];if(!!oi(a.mediaSource,s)){a.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(l){a.logger_("Error with code "+l.code+" "+(l.code===sE?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+t+"Buffer")),a.queuePending[t]=null,i(l)}}}},remove:function(e,n){return function(i,t){var a=t[i+"Buffer"];if(!!oi(t.mediaSource,a)){t.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{a.remove(e,n)}catch{t.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var t=i[n+"Buffer"];!oi(i.mediaSource,t)||(i.logger_("Setting "+n+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){J.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){J.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(!!oi(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){J.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,n){return function(i){var t=oE(e),a=gl(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+t+"UpdateEnd_"]),s.addEventListener("error",i["on"+t+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(uE(e,n),!!oi(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(t){J.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(n,i){var t=i[n+"Buffer"],a=gl(e);if(!!oi(i.mediaSource,t)&&i.codecs[n]!==e){i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e);try{t.changeType(a),i.codecs[n]=e}catch(s){J.log.warn("Failed to changeType on "+n+"Buffer",s)}}}}},dn=function(e){var n=e.type,i=e.sourceUpdater,t=e.action,a=e.doneFn,s=e.name;i.queue.push({type:n,action:t,doneFn:a,name:s}),n0(n,i)},nT=function(e,n){return function(i){if(n.queuePending[e]){var t=n.queuePending[e].doneFn;n.queuePending[e]=null,t&&t(n[e+"Error_"])}n0(e,n)}},lE=function(r){Ee(e,r);function e(i){var t;return t=r.call(this)||this,t.mediaSource=i,t.sourceopenListener_=function(){return n0("mediaSource",Ye(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=Xn("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=nT("video",Ye(t)),t.onAudioUpdateEnd_=nT("audio",Ye(t)),t.onVideoError_=function(a){t.videoError_=a},t.onAudioError_=function(a){t.audioError_=a},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(t,a){dn({type:"mediaSource",sourceUpdater:this,action:cn.addSourceBuffer(t,a),name:"addSourceBuffer"})},n.abort=function(t){dn({type:t,sourceUpdater:this,action:cn.abort(t),name:"abort"})},n.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){J.log.error("removeSourceBuffer is not supported!");return}dn({type:"mediaSource",sourceUpdater:this,action:cn.removeSourceBuffer(t),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!J.browser.IE_VERSION&&!J.browser.IS_FIREFOX&&V.MediaSource&&V.MediaSource.prototype&&typeof V.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return V.SourceBuffer&&V.SourceBuffer.prototype&&typeof V.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(t,a){if(!this.canChangeType()){J.log.error("changeType is not supported!");return}dn({type:t,sourceUpdater:this,action:cn.changeType(a),name:"changeType"})},n.addOrChangeSourceBuffers=function(t){var a=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var l=t[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,l);a.canChangeType()&&a.changeType(s,l)})},n.appendBuffer=function(t,a){var s=this,l=t.segmentInfo,c=t.type,f=t.bytes;if(this.processedAppend_=!0,c==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,a]),this.logger_("delayed audio append of "+f.length+" until video append");return}var h=a;if(dn({type:c,sourceUpdater:this,action:cn.appendBuffer(f,l||{mediaIndex:-1},h),doneFn:a,name:"appendBuffer"}),c==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var v=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+v.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,v.forEach(function(y){s.appendBuffer.apply(s,y)})}},n.audioBuffered=function(){return oi(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:J.createTimeRange()},n.videoBuffered=function(){return oi(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:J.createTimeRange()},n.buffered=function(){var t=oi(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=oi(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!t?this.audioBuffered():t&&!a?this.videoBuffered():dN(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(t,a){a===void 0&&(a=Ni),dn({type:"mediaSource",sourceUpdater:this,action:cn.duration(t),name:"duration",doneFn:a})},n.endOfStream=function(t,a){t===void 0&&(t=null),a===void 0&&(a=Ni),typeof t!="string"&&(t=void 0),dn({type:"mediaSource",sourceUpdater:this,action:cn.endOfStream(t),name:"endOfStream",doneFn:a})},n.removeAudio=function(t,a,s){if(s===void 0&&(s=Ni),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}dn({type:"audio",sourceUpdater:this,action:cn.remove(t,a),doneFn:s,name:"remove"})},n.removeVideo=function(t,a,s){if(s===void 0&&(s=Ni),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}dn({type:"video",sourceUpdater:this,action:cn.remove(t,a),doneFn:s,name:"remove"})},n.updating=function(){return!!(dm("audio",this)||dm("video",this))},n.audioTimestampOffset=function(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(dn({type:"audio",sourceUpdater:this,action:cn.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},n.videoTimestampOffset=function(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(dn({type:"video",sourceUpdater:this,action:cn.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},n.audioQueueCallback=function(t){!this.audioBuffer||dn({type:"audio",sourceUpdater:this,action:cn.callback(t),name:"callback"})},n.videoQueueCallback=function(t){!this.videoBuffer||dn({type:"video",sourceUpdater:this,action:cn.callback(t),name:"callback"})},n.dispose=function(){var t=this;this.trigger("dispose"),GF.forEach(function(a){t.abort(a),t.canRemoveSourceBuffer()?t.removeSourceBuffer(a):t[a+"QueueCallback"](function(){return uE(a,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(J.EventTarget),iT=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},aT=new Uint8Array(`

`.split("").map(function(r){return r.charCodeAt(0)})),KF=function(r){Ee(e,r);function e(){return r.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(Gg(Error)),XF=function(r){Ee(e,r);function e(i,t){var a;return t===void 0&&(t={}),a=r.call(this,i,t)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.loadVttJs=i.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return J.createTimeRanges();var t=this.subtitlesTrack_.cues,a=t[0].startTime,s=t[t.length-1].startTime;return J.createTimeRanges([[a,s]])},n.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=Jd(t),l=this.initSegments_[s];if(a&&!l&&t.bytes){var c=aT.byteLength+t.bytes.byteLength,f=new Uint8Array(c);f.set(t.bytes),f.set(aT,t.bytes.byteLength),this.initSegments_[s]=l={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:f}}return l||t},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(t,a){$u(t,a,this.subtitlesTrack_)},n.fillBuffer_=function(){var t=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(r.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},n.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(t,a,s){var l=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===di.TIMEOUT&&this.handleTimeout_(),t.code===di.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var c=this.pendingSegment_;this.saveBandwidthRelatedStats_(c.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var f=c.segment;if(f.map&&(f.map.bytes=a.map.bytes),c.bytes=a.bytes,typeof V.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return l.segmentRequestFinished_(t,a,s)},function(){return l.stopForError({message:"Error loading vtt.js"})});return}f.requested=!0;try{this.parseVTTCues_(c)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(c,this.syncController_.timelines[c.timeline],this.playlist_),c.cues.length?c.timingInfo={start:c.cues[0].startTime,end:c.cues[c.cues.length-1].endTime}:c.timingInfo={start:c.startOfSegment,end:c.startOfSegment+c.duration},c.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}c.byteLength=c.bytes.byteLength,this.mediaSecondsLoaded+=f.duration,c.cues.forEach(function(h){l.subtitlesTrack_.addCue(l.featuresNativeTextTracks_?new V.VTTCue(h.startTime,h.endTime,h.text):h)}),RF(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(t){var a,s=!1;if(typeof V.WebVTT!="function")throw new KF;typeof V.TextDecoder=="function"?a=new V.TextDecoder("utf8"):(a=V.WebVTT.StringDecoder(),s=!0);var l=new V.WebVTT.Parser(V,V.vttjs,a);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},l.oncue=t.cues.push.bind(t.cues),l.ontimestampmap=function(h){t.timestampmap=h},l.onparsingerror=function(h){J.log.warn("Error encountered when parsing cues: "+h.message)},t.segment.map){var c=t.segment.map.bytes;s&&(c=iT(c)),l.parse(c)}var f=t.bytes;s&&(f=iT(f)),l.parse(f),l.flush()},n.updateTimeMapping_=function(t,a,s){var l=t.segment;if(!!a){if(!t.cues.length){l.empty=!0;return}var c=t.timestampmap,f=c.MPEGTS/Bd.ONE_SECOND_IN_TS-c.LOCAL+a.mapping;if(t.cues.forEach(function(y){y.startTime+=f,y.endTime+=f}),!s.syncInfo){var h=t.cues[0].startTime,v=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(h,v-l.duration)}}}},e}(cm),JF=function(e,n){for(var i=e.cues,t=0;t<i.length;t++){var a=i[t];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},YF=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var t=i,a,s=0;s<e.segments.length;s++){var l=e.segments[s];if(a||(a=JF(n,t+l.duration/2)),a){if("cueIn"in l){a.endTime=t,a.adEndTime=t,t+=l.duration,a=null;continue}if(t<a.endTime){t+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&(a=new V.VTTCue(t,t+l.duration,l.cueOut),a.adStartTime=t,a.adEndTime=t+parseFloat(l.cueOut),n.addCue(a)),"cueOutCont"in l){var c=l.cueOutCont.split("/").map(parseFloat),f=c[0],h=c[1];a=new V.VTTCue(t,t+l.duration,""),a.adStartTime=t-f,a.adEndTime=a.adStartTime+h,n.addCue(a)}t+=l.duration}},QF=86400,sT=[{name:"VOD",run:function(e,n,i,t,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,n,i,t,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,l=null,c=rm(n);a=a||0;for(var f=0;f<c.length;f++){var h=n.endList||a===0?f:c.length-(f+1),v=c[h],y=v.segment,x=e.timelineToDatetimeMappings[y.timeline];if(!(!x||!y.dateTimeObject)){var C=y.dateTimeObject.getTime()/1e3,k=C+x;if(y.parts&&typeof v.partIndex=="number")for(var P=0;P<v.partIndex;P++)k+=y.parts[P].duration;var R=Math.abs(a-k);if(l!==null&&(R===0||l<R))break;l=R,s={time:k,segmentIndex:v.segmentIndex,partIndex:v.partIndex}}}return s}},{name:"Segment",run:function(e,n,i,t,a){var s=null,l=null;a=a||0;for(var c=rm(n),f=0;f<c.length;f++){var h=n.endList||a===0?f:c.length-(f+1),v=c[h],y=v.segment,x=v.part&&v.part.start||y&&y.start;if(y.timeline===t&&typeof x<"u"){var C=Math.abs(a-x);if(l!==null&&l<C)break;(!s||l===null||l>=C)&&(l=C,s={time:x,segmentIndex:v.segmentIndex,partIndex:v.partIndex})}}return s}},{name:"Discontinuity",run:function(e,n,i,t,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var l=null,c=0;c<n.discontinuityStarts.length;c++){var f=n.discontinuityStarts[c],h=n.discontinuitySequence+c+1,v=e.discontinuities[h];if(v){var y=Math.abs(a-v.time);if(l!==null&&l<y)break;(!s||l===null||l>=y)&&(l=y,s={time:v.time,segmentIndex:f,partIndex:null})}}return s}},{name:"Playlist",run:function(e,n,i,t,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return s}return null}}],ZF=function(r){Ee(e,r);function e(i){var t;return t=r.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Xn("SyncController"),t}var n=e.prototype;return n.getSyncPoint=function(t,a,s,l){var c=this.runStrategies_(t,a,s,l);return c.length?this.selectSyncPoint_(c,{key:"time",value:l}):null},n.getExpiredTime=function(t,a){if(!t||!t.segments)return null;var s=this.runStrategies_(t,a,t.discontinuitySequence,0);if(!s.length)return null;var l=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return l.segmentIndex>0&&(l.time*=-1),Math.abs(l.time+tl({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:l.segmentIndex,endIndex:0}))},n.runStrategies_=function(t,a,s,l){for(var c=[],f=0;f<sT.length;f++){var h=sT[f],v=h.run(this,t,a,s,l);v&&(v.strategy=h.name,c.push({strategy:h.name,syncPoint:v}))}return c},n.selectSyncPoint_=function(t,a){for(var s=t[0].syncPoint,l=Math.abs(t[0].syncPoint[a.key]-a.value),c=t[0].strategy,f=1;f<t.length;f++){var h=Math.abs(t[f].syncPoint[a.key]-a.value);h<l&&(l=h,s=t[f].syncPoint,c=t[f].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+c+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},n.saveExpiredSegmentInfo=function(t,a){var s=a.mediaSequence-t.mediaSequence;if(s>QF){J.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var l=s-1;l>=0;l--){var c=t.segments[l];if(c&&typeof c.start<"u"){a.syncInfo={mediaSequence:t.mediaSequence+l,time:c.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var a=t.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},n.saveSegmentTimingInfo=function(t){var a=t.segmentInfo,s=t.shouldSaveTimelineMapping,l=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),c=a.segment;l&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:c.start}));var f=c.dateTimeObject;c.discontinuity&&s&&f&&(this.timelineToDatetimeMappings[c.timeline]=-(f.getTime()/1e3))},n.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time},n.mappingForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,a,s){var l=t.segment,c=t.part,f=this.timelines[t.timeline],h,v;if(typeof t.timestampOffset=="number")f={time:t.startOfSegment,mapping:t.startOfSegment-a.start},s&&(this.timelines[t.timeline]=f,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+f.time+"] [mapping: "+f.mapping+"]"))),h=t.startOfSegment,v=a.end+f.mapping;else if(f)h=a.start+f.mapping,v=a.end+f.mapping;else return!1;return c&&(c.start=h,c.end=v),(!l.start||h<l.start)&&(l.start=h),l.end=v,!0},n.saveDiscontinuitySyncInfo_=function(t){var a=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var l=0;l<a.discontinuityStarts.length;l++){var c=a.discontinuityStarts[l],f=a.discontinuitySequence+l+1,h=c-t.mediaIndex,v=Math.abs(h);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>v){var y=void 0;h<0?y=s.start-tl({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex,endIndex:c}):y=s.end+tl({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex+1,endIndex:c}),this.discontinuities[f]={time:y,accuracy:v}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(J.EventTarget),e6=function(r){Ee(e,r);function e(){var i;return i=r.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:l},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},n.lastTimelineChange=function(t){var a=t.type,s=t.from,l=t.to;return typeof s=="number"&&typeof l=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:l},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(J.EventTarget),t6=X1(J1(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(H,K,Y){return Y={path:K,exports:{},require:function(U,z){return n(U,z==null?Y.path:z)}},H(Y,Y.exports),Y.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(H){function K(Q,U){for(var z=0;z<U.length;z++){var Z=U[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(Q,Z.key,Z)}}function Y(Q,U,z){return U&&K(Q.prototype,U),z&&K(Q,z),Q}H.exports=Y,H.exports.default=H.exports,H.exports.__esModule=!0}),t=e(function(H){function K(Y,Q){return H.exports=K=Object.setPrototypeOf||function(z,Z){return z.__proto__=Z,z},H.exports.default=H.exports,H.exports.__esModule=!0,K(Y,Q)}H.exports=K,H.exports.default=H.exports,H.exports.__esModule=!0}),a=e(function(H){function K(Y,Q){Y.prototype=Object.create(Q.prototype),Y.prototype.constructor=Y,t(Y,Q)}H.exports=K,H.exports.default=H.exports,H.exports.__esModule=!0}),s=function(){function H(){this.listeners={}}var K=H.prototype;return K.on=function(Q,U){this.listeners[Q]||(this.listeners[Q]=[]),this.listeners[Q].push(U)},K.off=function(Q,U){if(!this.listeners[Q])return!1;var z=this.listeners[Q].indexOf(U);return this.listeners[Q]=this.listeners[Q].slice(0),this.listeners[Q].splice(z,1),z>-1},K.trigger=function(Q){var U=this.listeners[Q];if(!!U)if(arguments.length===2)for(var z=U.length,Z=0;Z<z;++Z)U[Z].call(this,arguments[1]);else for(var se=Array.prototype.slice.call(arguments,1),te=U.length,ce=0;ce<te;++ce)U[ce].apply(this,se)},K.dispose=function(){this.listeners={}},K.pipe=function(Q){this.on("data",function(U){Q.push(U)})},H}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function l(H){return H.subarray(0,H.byteLength-H[H.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var c=function(){var K=[[[],[],[],[],[]],[[],[],[],[],[]]],Y=K[0],Q=K[1],U=Y[4],z=Q[4],Z,se,te,ce=[],Fe=[],Ue,ve,De,Me,_t,at;for(Z=0;Z<256;Z++)Fe[(ce[Z]=Z<<1^(Z>>7)*283)^Z]=Z;for(se=te=0;!U[se];se^=Ue||1,te=Fe[te]||1)for(Me=te^te<<1^te<<2^te<<3^te<<4,Me=Me>>8^Me&255^99,U[se]=Me,z[Me]=se,De=ce[ve=ce[Ue=ce[se]]],at=De*16843009^ve*65537^Ue*257^se*16843008,_t=ce[Me]*257^Me*16843008,Z=0;Z<4;Z++)Y[Z][se]=_t=_t<<24^_t>>>8,Q[Z][Me]=at=at<<24^at>>>8;for(Z=0;Z<5;Z++)Y[Z]=Y[Z].slice(0),Q[Z]=Q[Z].slice(0);return K},f=null,h=function(){function H(Y){f||(f=c()),this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var Q,U,z,Z=this._tables[0][4],se=this._tables[1],te=Y.length,ce=1;if(te!==4&&te!==6&&te!==8)throw new Error("Invalid aes key size");var Fe=Y.slice(0),Ue=[];for(this._key=[Fe,Ue],Q=te;Q<4*te+28;Q++)z=Fe[Q-1],(Q%te===0||te===8&&Q%te===4)&&(z=Z[z>>>24]<<24^Z[z>>16&255]<<16^Z[z>>8&255]<<8^Z[z&255],Q%te===0&&(z=z<<8^z>>>24^ce<<24,ce=ce<<1^(ce>>7)*283)),Fe[Q]=Fe[Q-te]^z;for(U=0;Q;U++,Q--)z=Fe[U&3?Q:Q-4],Q<=4||U<4?Ue[U]=z:Ue[U]=se[0][Z[z>>>24]]^se[1][Z[z>>16&255]]^se[2][Z[z>>8&255]]^se[3][Z[z&255]]}var K=H.prototype;return K.decrypt=function(Q,U,z,Z,se,te){var ce=this._key[1],Fe=Q^ce[0],Ue=Z^ce[1],ve=z^ce[2],De=U^ce[3],Me,_t,at,or=ce.length/4-2,yt,ur=4,yr=this._tables[1],Ar=yr[0],mt=yr[1],oe=yr[2],xe=yr[3],we=yr[4];for(yt=0;yt<or;yt++)Me=Ar[Fe>>>24]^mt[Ue>>16&255]^oe[ve>>8&255]^xe[De&255]^ce[ur],_t=Ar[Ue>>>24]^mt[ve>>16&255]^oe[De>>8&255]^xe[Fe&255]^ce[ur+1],at=Ar[ve>>>24]^mt[De>>16&255]^oe[Fe>>8&255]^xe[Ue&255]^ce[ur+2],De=Ar[De>>>24]^mt[Fe>>16&255]^oe[Ue>>8&255]^xe[ve&255]^ce[ur+3],ur+=4,Fe=Me,Ue=_t,ve=at;for(yt=0;yt<4;yt++)se[(3&-yt)+te]=we[Fe>>>24]<<24^we[Ue>>16&255]<<16^we[ve>>8&255]<<8^we[De&255]^ce[ur++],Me=Fe,Fe=Ue,Ue=ve,ve=De,De=Me},H}(),v=function(H){a(K,H);function K(){var Q;return Q=H.call(this,s)||this,Q.jobs=[],Q.delay=1,Q.timeout_=null,Q}var Y=K.prototype;return Y.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},Y.push=function(U){this.jobs.push(U),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},K}(s),y=function(K){return K<<24|(K&65280)<<8|(K&16711680)>>8|K>>>24},x=function(K,Y,Q){var U=new Int32Array(K.buffer,K.byteOffset,K.byteLength>>2),z=new h(Array.prototype.slice.call(Y)),Z=new Uint8Array(K.byteLength),se=new Int32Array(Z.buffer),te,ce,Fe,Ue,ve,De,Me,_t,at;for(te=Q[0],ce=Q[1],Fe=Q[2],Ue=Q[3],at=0;at<U.length;at+=4)ve=y(U[at]),De=y(U[at+1]),Me=y(U[at+2]),_t=y(U[at+3]),z.decrypt(ve,De,Me,_t,se,at),se[at]=y(se[at]^te),se[at+1]=y(se[at+1]^ce),se[at+2]=y(se[at+2]^Fe),se[at+3]=y(se[at+3]^Ue),te=ve,ce=De,Fe=Me,Ue=_t;return Z},C=function(){function H(Y,Q,U,z){var Z=H.STEP,se=new Int32Array(Y.buffer),te=new Uint8Array(Y.byteLength),ce=0;for(this.asyncStream_=new v,this.asyncStream_.push(this.decryptChunk_(se.subarray(ce,ce+Z),Q,U,te)),ce=Z;ce<se.length;ce+=Z)U=new Uint32Array([y(se[ce-4]),y(se[ce-3]),y(se[ce-2]),y(se[ce-1])]),this.asyncStream_.push(this.decryptChunk_(se.subarray(ce,ce+Z),Q,U,te));this.asyncStream_.push(function(){z(null,l(te))})}var K=H.prototype;return K.decryptChunk_=function(Q,U,z,Z){return function(){var se=x(Q,U,z);Z.set(se,Q.byteOffset)}},i(H,null,[{key:"STEP",get:function(){return 32e3}}]),H}(),k;typeof window<"u"?k=window:typeof r<"u"?k=r:typeof self<"u"?k=self:k={};var P=k,R=function(K){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(K):K&&K.buffer instanceof ArrayBuffer},F=P.BigInt||Number;F("0x1"),F("0x100"),F("0x10000"),F("0x1000000"),F("0x100000000"),F("0x10000000000"),F("0x1000000000000"),F("0x100000000000000"),F("0x10000000000000000");var B=function(K){var Y={};return Object.keys(K).forEach(function(Q){var U=K[Q];R(U)?Y[Q]={bytes:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength}:Y[Q]=U}),Y};self.onmessage=function(H){var K=H.data,Y=new Uint8Array(K.encrypted.bytes,K.encrypted.byteOffset,K.encrypted.byteLength),Q=new Uint32Array(K.key.bytes,K.key.byteOffset,K.key.byteLength/4),U=new Uint32Array(K.iv.bytes,K.iv.byteOffset,K.iv.byteLength/4);new C(Y,Q,U,function(z,Z){self.postMessage(B({source:K.source,decrypted:Z}),[Z.buffer])})}})),r6=K1(t6),n6=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},ef=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},fm=function(e,n){n.activePlaylistLoader=e,e.load()},i6=function(e,n){return function(){var i=n.segmentLoaders,t=i[e],a=i.main,s=n.mediaTypes[e],l=s.activeTrack(),c=s.getActiveGroup(),f=s.activePlaylistLoader,h=s.lastGroup_;if(!(c&&h&&c.id===h.id)&&(s.lastGroup_=c,s.lastTrack_=l,ef(t,s),!(!c||c.isMasterPlaylist))){if(!c.playlistLoader){f&&a.resetEverything();return}t.resyncLoader(),fm(c.playlistLoader,s)}}},a6=function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e];t.lastGroup_=null,i.abort(),i.pause()}},s6=function(e,n){return function(){var i=n.masterPlaylistLoader,t=n.segmentLoaders,a=t[e],s=t.main,l=n.mediaTypes[e],c=l.activeTrack(),f=l.getActiveGroup(),h=l.activePlaylistLoader,v=l.lastTrack_;if(!(v&&c&&v.id===c.id)&&(l.lastGroup_=f,l.lastTrack_=c,ef(a,l),!!f)){if(f.isMasterPlaylist){if(!c||!v||c.id===v.id)return;var y=n.vhs.masterPlaylistController_,x=y.selectPlaylist();if(y.media()===x)return;l.logger_("track change. Switching master audio from "+v.id+" to "+c.id),i.pause(),s.resetEverything(),y.fastQualityChange_(x);return}if(e==="AUDIO"){if(!f.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(h===f.playlistLoader){fm(f.playlistLoader,l);return}a.track&&a.track(c),a.resetEverything(),fm(f.playlistLoader,l)}}},tf={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e],a=n.blacklistCurrentPlaylist;ef(i,t);var s=t.activeTrack(),l=t.activeGroup(),c=(l.filter(function(v){return v.default})[0]||l[0]).id,f=t.tracks[c];if(s===f){a({message:"Problem encountered loading the default audio track."});return}J.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var h in t.tracks)t.tracks[h].enabled=t.tracks[h]===f;t.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],t=n.mediaTypes[e];J.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ef(i,t);var a=t.activeTrack();a&&(a.mode="disabled"),t.onTrackChanged()}}},oT={AUDIO:function(e,n,i){if(!!n){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];n.on("loadedmetadata",function(){var l=n.media();s.playlist(l,a),(!t.paused()||l.endList&&t.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),t.paused()||s.load()}),n.on("error",tf[e](e,i))}},SUBTITLES:function(e,n,i){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],l=i.mediaTypes[e];n.on("loadedmetadata",function(){var c=n.media();s.playlist(c,a),s.track(l.activeTrack()),(!t.paused()||c.endList&&t.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),t.paused()||s.load()}),n.on("error",tf[e](e,i))}},o6={AUDIO:function(e,n){var i=n.vhs,t=n.sourceType,a=n.segmentLoaders[e],s=n.requestOptions,l=n.master.mediaGroups,c=n.mediaTypes[e],f=c.groups,h=c.tracks,v=c.logger_,y=n.masterPlaylistLoader,x=Vl(y.master);(!l[e]||Object.keys(l[e]).length===0)&&(l[e]={main:{default:{default:!0}}},x&&(l[e].main.default.playlists=y.master.playlists));for(var C in l[e]){f[C]||(f[C]=[]);for(var k in l[e][C]){var P=l[e][C][k],R=void 0;if(x?(v("AUDIO group '"+C+"' label '"+k+"' is a master playlist"),P.isMasterPlaylist=!0,R=null):t==="vhs-json"&&P.playlists?R=new no(P.playlists[0],i,s):P.resolvedUri?R=new no(P.resolvedUri,i,s):P.playlists&&t==="dash"?R=new um(P.playlists[0],i,s,y):R=null,P=J.mergeOptions({id:k,playlistLoader:R},P),oT[e](e,P.playlistLoader,n),f[C].push(P),typeof h[k]>"u"){var F=new J.AudioTrack({id:k,kind:n6(P),enabled:!1,language:P.language,default:P.default,label:k});h[k]=F}}}a.on("error",tf[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,t=n.vhs,a=n.sourceType,s=n.segmentLoaders[e],l=n.requestOptions,c=n.master.mediaGroups,f=n.mediaTypes[e],h=f.groups,v=f.tracks,y=n.masterPlaylistLoader;for(var x in c[e]){h[x]||(h[x]=[]);for(var C in c[e][x])if(!c[e][x][C].forced){var k=c[e][x][C],P=void 0;if(a==="hls")P=new no(k.resolvedUri,t,l);else if(a==="dash"){var R=k.playlists.filter(function(B){return B.excludeUntil!==1/0});if(!R.length)return;P=new um(k.playlists[0],t,l,y)}else a==="vhs-json"&&(P=new no(k.playlists?k.playlists[0]:k.resolvedUri,t,l));if(k=J.mergeOptions({id:C,playlistLoader:P},k),oT[e](e,k.playlistLoader,n),h[x].push(k),typeof v[C]>"u"){var F=i.addRemoteTextTrack({id:C,kind:"subtitles",default:k.default&&k.autoselect,language:k.language,label:C},!1).track;v[C]=F}}}s.on("error",tf[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,t=n.master.mediaGroups,a=n.mediaTypes[e],s=a.groups,l=a.tracks;for(var c in t[e]){s[c]||(s[c]=[]);for(var f in t[e][c]){var h=t[e][c][f];if(!!/^(?:CC|SERVICE)/.test(h.instreamId)){var v=i.options_.vhs&&i.options_.vhs.captionServices||{},y={label:f,language:h.language,instreamId:h.instreamId,default:h.default&&h.autoselect};if(v[y.instreamId]&&(y=J.mergeOptions(y,v[y.instreamId])),y.default===void 0&&delete y.default,s[c].push(J.mergeOptions({id:f},h)),typeof l[f]>"u"){var x=i.addRemoteTextTrack({id:y.instreamId,kind:"captions",default:y.default,language:y.language,label:y.label},!1).track;l[f]=x}}}}}},u6=function r(e,n){for(var i=0;i<e.length;i++)if(Zv(n,e[i])||e[i].playlists&&r(e[i].playlists,n))return!0;return!1},l6=function(e,n){return function(i){var t=n.masterPlaylistLoader,a=n.mediaTypes[e].groups,s=t.media();if(!s)return null;var l=null;s.attributes[e]&&(l=a[s.attributes[e]]);var c=Object.keys(a);if(!l)if(e==="AUDIO"&&c.length>1&&Vl(n.master))for(var f=0;f<c.length;f++){var h=a[c[f]];if(u6(h,s)){l=h;break}}else a.main?l=a.main:c.length===1&&(l=a[c[0]]);return typeof i>"u"?l:i===null||!l?null:l.filter(function(v){return v.id===i.id})[0]||null}},c6={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var t in i)if(i[t].enabled)return i[t];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var t in i)if(i[t].mode==="showing"||i[t].mode==="hidden")return i[t];return null}}},d6=function(e,n){var i=n.mediaTypes;return function(){var t=i[e].activeTrack();return t?i[e].activeGroup(t):null}},f6=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(C){o6[C](C,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,t=e.tech,a=e.vhs,s=e.segmentLoaders,l=s.AUDIO,c=s.main;["AUDIO","SUBTITLES"].forEach(function(C){n[C].activeGroup=l6(C,e),n[C].activeTrack=c6[C](C,e),n[C].onGroupChanged=i6(C,e),n[C].onGroupChanging=a6(C,e),n[C].onTrackChanged=s6(C,e),n[C].getActiveGroup=d6(C,e)});var f=n.AUDIO.activeGroup();if(f){var h=(f.filter(function(C){return C.default})[0]||f[0]).id;n.AUDIO.tracks[h].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var v=n.AUDIO.getActiveGroup();v.playlistLoader?(c.setAudio(!1),l.setAudio(!0)):c.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(C){return n[C].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(C){return n[C].onGroupChanging()})});var y=function(){n.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",y),t.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){t.audioTracks().removeEventListener("change",y),t.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var x in n.AUDIO.tracks)t.audioTracks().addTrack(n.AUDIO.tracks[x])},h6=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ni,activeTrack:Ni,getActiveGroup:Ni,onGroupChanged:Ni,onTrackChanged:Ni,lastTrack_:null,logger_:Xn("MediaGroups["+n+"]")}}),e},p6=60*2,Ii,g6=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],m6=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},v6=function(e){var n=e.currentPlaylist,i=e.buffered,t=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,l=e.bufferHighWaterLine,c=e.duration,f=e.experimentalBufferBasedABR,h=e.log;if(!a)return J.log.warn("We received no playlist to switch to. Please check your stream."),!1;var v="allowing switch "+(n&&n.id||"null")+" -> "+a.id;if(!n)return h(v+" as current playlist is not set"),!0;if(a.id===n.id)return!1;var y=Boolean(ro(i,t).length);if(!n.endList)return!y&&typeof n.partTargetDuration=="number"?(h("not "+v+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(h(v+" as current playlist is live"),!0);var x=Jv(i,t),C=f?pr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:pr.MAX_BUFFER_LOW_WATER_LINE;if(c<C)return h(v+" as duration < max low water line ("+c+" < "+C+")"),!0;var k=a.attributes.BANDWIDTH,P=n.attributes.BANDWIDTH;if(k<P&&(!f||x<l)){var R=v+" as next bandwidth < current bandwidth ("+k+" < "+P+")";return f&&(R+=" and forwardBuffer < bufferHighWaterLine ("+x+" < "+l+")"),h(R),!0}if((!f||k>P)&&x>=s){var F=v+" as forwardBuffer >= bufferLowWaterLine ("+x+" >= "+s+")";return f&&(F+=" and next bandwidth > current bandwidth ("+k+" > "+P+")"),h(F),!0}return h("not "+v+" as no switching criteria met"),!1},_6=function(r){Ee(e,r);function e(i){var t;t=r.call(this)||this;var a=i.src,s=i.handleManifestRedirects,l=i.withCredentials,c=i.tech,f=i.bandwidth,h=i.externVhs,v=i.useCueTags,y=i.blacklistDuration,x=i.enableLowInitialPlaylist,C=i.sourceType,k=i.cacheEncryptionKeys,P=i.experimentalBufferBasedABR,R=i.experimentalLeastPixelDiffSelector,F=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var B=i.maxPlaylistRetries;(B===null||typeof B>"u")&&(B=1/0),Ii=h,t.experimentalBufferBasedABR=Boolean(P),t.experimentalLeastPixelDiffSelector=Boolean(R),t.withCredentials=l,t.tech_=c,t.vhs_=c.vhs,t.sourceType_=C,t.useCueTags_=v,t.blacklistDuration=y,t.maxPlaylistRetries=B,t.enableLowInitialPlaylist=x,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:l,handleManifestRedirects:s,maxPlaylistRetries:B,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=h6(),t.mediaSource=new V.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(Ye(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(Ye(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(Ye(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=J.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new ZF(i),t.segmentMetadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new r6,t.sourceUpdater_=new lE(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new e6;var H={vhs:t.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:F,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:f,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:k,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new um(a,t.vhs_,t.requestOptions_):new no(a,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new cm(J.mergeOptions(H,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),i),t.audioSegmentLoader_=new cm(J.mergeOptions(H,{loaderType:"audio"}),i),t.subtitleSegmentLoader_=new XF(J.mergeOptions(H,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(Q,U){function z(){c.off("vttjserror",Z),Q()}function Z(){c.off("vttjsloaded",z),U()}c.one("vttjsloaded",z),c.one("vttjserror",Z),c.addWebVttScript_()})}}),i),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),g6.forEach(function(Y){t[Y+"_"]=m6.bind(Ye(t),Y)}),t.logger_=Xn("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var K=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(K,function(){var Y=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-Y,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return t===-1||a===-1?-1:t+a},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(t){t===void 0&&(t="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,t)},n.switchMedia_=function(t,a,s){var l=this.media(),c=l&&(l.id||l.uri),f=t.id||t.uri;c&&c!==f&&(this.logger_("switch media "+c+" -> "+f+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(t,s)},n.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=V.setInterval(function(){return t.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(V.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var t=this.master(),a=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return a;var s=t.mediaGroups.AUDIO,l=Object.keys(s),c;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)c=this.mediaTypes_.AUDIO.activeTrack();else{var f=s.main||l.length&&s[l[0]];for(var h in f)if(f[h].default){c={label:h};break}}if(!c)return a;var v=[];for(var y in s)if(s[y][c.label]){var x=s[y][c.label];if(x.playlists&&x.playlists.length)v.push.apply(v,x.playlists);else if(x.uri)v.push(x);else if(t.playlists.length)for(var C=0;C<t.playlists.length;C++){var k=t.playlists[C];k.attributes&&k.attributes.AUDIO&&k.attributes.AUDIO===y&&v.push(k)}}return v.length?v:a},n.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;nm(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,a.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load()),f6({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),a),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var a=t.masterPlaylistLoader_.media();if(!a){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var l=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!l)return;a=t.initialMedia_}t.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;nm(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.masterPlaylistLoader_.load(),t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=t.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(a);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(t,a){var s=t.mediaGroups||{},l=!0,c=Object.keys(s.AUDIO);for(var f in s.AUDIO)for(var h in s.AUDIO[f]){var v=s.AUDIO[f][h];v.uri||(l=!1)}l&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Ii.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),c.length&&Object.keys(s.AUDIO[c[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(t){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),l=this.bufferLowWaterLine(),c=this.bufferHighWaterLine(),f=this.tech_.buffered();return v6({buffered:f,currentTime:s,currentPlaylist:a,nextPlaylist:t,bufferLowWaterLine:l,bufferHighWaterLine:c,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},p6))});var a=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var l=t.getCodecsOrExclude_();!l||t.sourceUpdater_.addOrChangeSourceBuffers(l)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},n.fastQualityChange_=function(t){var a=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){J.browser.IE_VERSION||J.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},n.setupFirstPlay=function(){var t=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(J.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,function(a){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var a=this.duration();t[t.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}!t||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(t){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var l=Ii.Playlist.playlistEnd(t,s),c=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return l-c<=ci;var h=f.end(f.length-1);return h-c<=ci&&l-h<=ci},n.blacklistCurrentPlaylist=function(t,a){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(a=a||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var l=this.masterPlaylistLoader_.master.playlists,c=l.filter(Kf),f=c.length===1&&c[0]===s;if(l.length===1&&a!==1/0)return J.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f);if(f){var h=!1;l.forEach(function(R){if(R!==s){var F=R.excludeUntil;typeof F<"u"&&F!==1/0&&(h=!0,delete R.excludeUntil)}}),h&&(J.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var v;s.playlistErrors_>this.maxPlaylistRetries?v=1/0:v=Date.now()+a*1e3,s.excludeUntil=v,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var y=this.selectPlaylist();if(!y){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var x=t.internal?this.logger_:J.log.warn,C=t.message?" "+t.message:"";x((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(C+" Switching to playlist "+y.id+".")),y.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),y.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var k=y.targetDuration/2*1e3||5*1e3,P=typeof y.lastRequest=="number"&&Date.now()-y.lastRequest<=k;return this.switchMedia_(y,"exclude",f||P)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(t,a){var s=this,l=[],c=t==="all";(c||t==="main")&&l.push(this.masterPlaylistLoader_);var f=[];(c||t==="audio")&&f.push("AUDIO"),(c||t==="subtitle")&&(f.push("CLOSED-CAPTIONS"),f.push("SUBTITLES")),f.forEach(function(h){var v=s.mediaTypes_[h]&&s.mediaTypes_[h].activePlaylistLoader;v&&l.push(v)}),["main","audio","subtitle"].forEach(function(h){var v=s[h+"SegmentLoader_"];v&&(t===h||t==="all")&&l.push(v)}),l.forEach(function(h){return a.forEach(function(v){typeof h[v]=="function"&&h[v]()})})},n.setCurrentTime=function(t){var a=ro(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:Ii.Playlist.duration(t):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var t;if(!!this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var l=this.masterPlaylistLoader_.master,c=Ii.Playlist.seekable(a,s,Ii.Playlist.liveEdgeDelay(l,a));if(c.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(t=Ii.Playlist.seekable(a,s,Ii.Playlist.liveEdgeDelay(l,a)),t.length===0)))){var f,h;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),h=this.seekable_.start(0)),t?t.start(0)>c.end(0)||c.start(0)>t.end(0)?this.seekable_=c:this.seekable_=J.createTimeRanges([[t.start(0)>c.start(0)?t.start(0):c.start(0),t.end(0)<c.end(0)?t.end(0):c.end(0)]]):this.seekable_=c,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===h)&&(this.logger_("seekable updated ["+C1(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),l=Ii.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(l=Math.max(l,s.end(s.length-1))),this.mediaSource.duration!==l&&this.sourceUpdater_.setDuration(l)},n.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=t.mediaTypes_[a].groups;for(var l in s)s[l].forEach(function(c){c.playlistLoader&&c.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},n.getCodecsOrExclude_=function(){var t=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var l=rl(this.master(),s),c={},f=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(c.video=l.video||a.main.videoCodec||HL),a.main.isMuxed&&(c.video+=","+(l.audio||a.main.audioCodec||$y)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||f)&&(c.audio=l.audio||a.main.audioCodec||a.audio.audioCodec||$y,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!c.audio&&!c.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var h=function(R,F){return R?md(F):qp(F)},v={},y;if(["video","audio"].forEach(function(P){if(c.hasOwnProperty(P)&&!h(a[P].isFmp4,c[P])){var R=a[P].isFmp4?"browser":"muxer";v[R]=v[R]||[],v[R].push(c[P]),P==="audio"&&(y=R)}}),f&&y&&s.attributes.AUDIO){var x=s.attributes.AUDIO;this.master().playlists.forEach(function(P){var R=P.attributes&&P.attributes.AUDIO;R===x&&P!==s&&(P.excludeUntil=1/0)}),this.logger_("excluding audio group "+x+" as "+y+' does not support codec(s): "'+c.audio+'"')}if(Object.keys(v).length){var C=Object.keys(v).reduce(function(P,R){return P&&(P+=", "),P+=R+' does not support codec(s): "'+v[R].join(",")+'"',P},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:C,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var k=[];if(["video","audio"].forEach(function(P){var R=(ai(t.sourceUpdater_.codecs[P]||"")[0]||{}).type,F=(ai(c[P]||"")[0]||{}).type;R&&F&&R.toLowerCase()!==F.toLowerCase()&&k.push('"'+t.sourceUpdater_.codecs[P]+'" -> "'+c[P]+'"')}),k.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+k.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return c},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(!!t){this.sourceUpdater_.createSourceBuffers(t);var a=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},n.excludeUnsupportedVariants_=function(){var t=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(l){var c=a[l];if(s.indexOf(c.id)===-1){s.push(c.id);var f=rl(t.master,c),h=[];f.audio&&!qp(f.audio)&&!md(f.audio)&&h.push("audio codec "+f.audio),f.video&&!qp(f.video)&&!md(f.video)&&h.push("video codec "+f.video),f.text&&f.text==="stpp.ttml.im1t"&&h.push("text codec "+f.text),h.length&&(c.excludeUntil=1/0,t.logger_("excluding "+c.id+" for unsupported: "+h.join(", ")))}})},n.excludeIncompatibleVariants_=function(t){var a=this,s=[],l=this.master().playlists,c=Qd(ai(t)),f=Jb(c),h=c.video&&ai(c.video)[0]||null,v=c.audio&&ai(c.audio)[0]||null;Object.keys(l).forEach(function(y){var x=l[y];if(!(s.indexOf(x.id)!==-1||x.excludeUntil===1/0)){s.push(x.id);var C=[],k=rl(a.masterPlaylistLoader_.master,x),P=Jb(k);if(!(!k.audio&&!k.video)){if(P!==f&&C.push('codec count "'+P+'" !== "'+f+'"'),!a.sourceUpdater_.canChangeType()){var R=k.video&&ai(k.video)[0]||null,F=k.audio&&ai(k.audio)[0]||null;R&&h&&R.type.toLowerCase()!==h.type.toLowerCase()&&C.push('video codec "'+R.type+'" !== "'+h.type+'"'),F&&v&&F.type.toLowerCase()!==v.type.toLowerCase()&&C.push('audio codec "'+F.type+'" !== "'+v.type+'"')}C.length&&(x.excludeUntil=1/0,a.logger_("blacklisting "+x.id+": "+C.join(" && ")))}}})},n.updateAdCues_=function(t){var a=0,s=this.seekable();s.length&&(a=s.start(0)),YF(t,this.cueTagsTrack_,a)},n.goalBufferLength=function(){var t=this.tech_.currentTime(),a=pr.GOAL_BUFFER_LENGTH,s=pr.GOAL_BUFFER_LENGTH_RATE,l=Math.max(a,pr.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+t*s,l)},n.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),a=pr.BUFFER_LOW_WATER_LINE,s=pr.BUFFER_LOW_WATER_LINE_RATE,l=Math.max(a,pr.MAX_BUFFER_LOW_WATER_LINE),c=Math.max(a,pr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+t*s,this.experimentalBufferBasedABR?c:l)},n.bufferHighWaterLine=function(){return pr.BUFFER_HIGH_WATER_LINE},e}(J.EventTarget),y6=function(e,n,i){return function(t){var a=e.master.playlists[n],s=Qv(a),l=Kf(a);return typeof t>"u"?l:(t?delete a.disabled:a.disabled=!0,t!==l&&!s&&(i(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},b6=function(e,n,i){var t=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",l=t[s+"QualityChange_"].bind(t);if(n.attributes){var c=n.attributes.RESOLUTION;this.width=c&&c.width,this.height=c&&c.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=rl(t.master(),n),this.playlist=n,this.id=i,this.enabled=y6(e.playlists,n.id,l)},T6=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=Vl(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(t){return!Qv(t)}).map(function(t,a){return new b6(e,t,t.id)}):[]}},uT=["seeking","seeked","pause","playing","error"],S6=function(){function r(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Xn("PlaybackWatcher"),this.logger_("initialize");var t=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},l=function(){return i.cancelTimer_()},c=this.masterPlaylistController_,f=["main","subtitle","audio"],h={};f.forEach(function(y){h[y]={reset:function(){return i.resetSegmentDownloads_(y)},updateend:function(){return i.checkSegmentDownloads_(y)}},c[y+"SegmentLoader_"].on("appendsdone",h[y].updateend),c[y+"SegmentLoader_"].on("playlistupdate",h[y].reset),i.tech_.on(["seeked","seeking"],h[y].reset)});var v=function(x){["main","audio"].forEach(function(C){c[C+"SegmentLoader_"][x]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),v("off"))},this.clearSeekingAppendCheck_=function(){return v("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),v("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(uT,l),this.tech_.on("canplay",a),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(uT,l),i.tech_.off("canplay",a),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),f.forEach(function(y){c[y+"SegmentLoader_"].off("appendsdone",h[y].updateend),c[y+"SegmentLoader_"].off("playlistupdate",h[y].reset),i.tech_.off(["seeked","seeking"],h[y].reset)}),i.checkCurrentTimeTimeout_&&V.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=r.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&V.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=V.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var t=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(i){var t=this.masterPlaylistController_,a=t[i+"SegmentLoader_"],s=a.buffered_(),l=hN(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,l){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:us(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===i&&(!t.length||i+ci>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var t=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),l;if(s){var c=t.end(t.length-1);l=c}if(this.beforeSeekableWindow_(t,a)){var f=t.start(0);l=f+(f===t.end(0)?0:ci)}if(typeof l<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+C1(t)+". Seeking to ")+(l+".")),this.tech_.setCurrentTime(l),!0;for(var h=this.masterPlaylistController_.sourceUpdater_,v=this.tech_.buffered(),y=h.audioBuffer?h.audioBuffered():null,x=h.videoBuffer?h.videoBuffered():null,C=this.media(),k=C.partTargetDuration?C.partTargetDuration:(C.targetDuration-Ia)*2,P=[y,x],R=0;R<P.length;R++)if(!!P[R]){var F=Jv(P[R],a);if(F<k)return!1}var B=nd(v,a);return B.length===0?!1:(l=B.start(0)+ci,this.logger_("Buffered region starts ("+B.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+l+".")),this.tech_.setCurrentTime(l),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),t=this.tech_.buffered(),a=ro(t,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,t)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,l=this.tech_.buffered(),c=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(c)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var f=nd(l,t);if(f.length>0){var h=f.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+h+", seeking "+("to "+f.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),h*1e3,t),!0}return!1},e.afterSeekableWindow_=function(i,t,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var l=i.end(i.length-1)+ci,c=!a.endList;return c&&s&&(l=i.end(i.length-1)+a.targetDuration*3),t>l},e.beforeSeekableWindow_=function(i,t){return!!(i.length&&i.start(0)>0&&t<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var t=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!t){var l;if(t.length&&a.length){var c=ro(t,s-3),f=ro(t,s),h=ro(a,s);h.length&&!f.length&&c.length&&(l={start:c.end(0),end:h.end(0)})}else{var v=nd(t,s);v.length||(l=this.gapFromVideoUnderflow_(t,s))}return l?(this.logger_("Encountered a gap in video from "+l.start+" to "+l.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var t=this.tech_.buffered(),a=this.tech_.currentTime(),s=nd(t,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Ia),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,t){for(var a=cN(i),s=0;s<a.length;s++){var l=a.start(s),c=a.end(s);if(t-l<4&&t-l>2)return{start:l,end:c}}return null},r}(),x6={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},E6=function r(e,n){var i=0,t=0,a=J.mergeOptions(x6,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},l=function(y){y!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(y),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},c=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){J.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,l)},f=function v(){e.off("loadedmetadata",s),e.off("error",c),e.off("dispose",v)},h=function(y){f(),r(e,y)};e.on("error",c),e.on("dispose",f),e.reloadSourceOnError=h},w6=function(e){E6(this,e)},cE="2.16.3",C6="6.0.1",A6="0.22.1",D6="4.8.0",k6="3.1.3",Cr={PlaylistLoader:no,Playlist:en,utils:BN,STANDARD_PLAYLIST_SELECTOR:Qb,INITIAL_PLAYLIST_SELECTOR:AF,lastBandwidthSelector:Qb,movingAverageBandwidthSelector:wF,comparePlaylistBandwidth:r0,comparePlaylistResolution:EF,xhr:H1()};Object.keys(pr).forEach(function(r){Object.defineProperty(Cr,r,{get:function(){return J.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),pr[r]},set:function(n){if(J.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){J.log.warn("value of Vhs."+r+" must be greater than or equal to 0");return}pr[r]=n}})});var dE="videojs-vhs",fE=function(e,n){for(var i=n.media(),t=-1,a=0;a<e.length;a++)if(e[a].id===i.id){t=a;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},P6=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),fE(e,n.playlists)};Cr.canPlaySource=function(){return J.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var I6=function(e,n,i){if(!e)return e;var t={};n&&n.attributes&&n.attributes.CODECS&&(t=Qd(ai(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(t.audio=i.attributes.CODECS);var a=gl(t.video),s=gl(t.audio),l={};for(var c in e)l[c]={},s&&(l[c].audioContentType=s),a&&(l[c].videoContentType=a),n.contentProtection&&n.contentProtection[c]&&n.contentProtection[c].pssh&&(l[c].pssh=n.contentProtection[c].pssh),typeof e[c]=="string"&&(l[c].url=e[c]);return J.mergeOptions(e,l)},O6=function(e,n){return e.reduce(function(i,t){if(!t.contentProtection)return i;var a=n.reduce(function(s,l){var c=t.contentProtection[l];return c&&c.pssh&&(s[l]={pssh:c.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},L6=function(e){var n=e.player,i=e.sourceKeySystems,t=e.audioMedia,a=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var s=t?a.concat([t]):a,l=O6(s,Object.keys(i)),c=[],f=[];return l.forEach(function(h){f.push(new Promise(function(v,y){n.tech_.one("keysessioncreated",v)})),c.push(new Promise(function(v,y){n.eme.initializeMediaKeys({keySystems:h},function(x){if(x){y(x);return}v()})}))}),Promise.race([Promise.all(c),Promise.race(f)])},R6=function(e){var n=e.player,i=e.sourceKeySystems,t=e.media,a=e.audioMedia,s=I6(i,t,a);return s?(n.currentSource().keySystems=s,s&&!n.eme?(J.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},hE=function(){if(!V.localStorage)return null;var e=V.localStorage.getItem(dE);if(!e)return null;try{return JSON.parse(e)}catch{return null}},N6=function(e){if(!V.localStorage)return!1;var n=hE();n=n?J.mergeOptions(n,e):e;try{V.localStorage.setItem(dE,JSON.stringify(n))}catch{return!1}return n},F6=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Cr.supportsNativeHls=function(){if(!Te||!Te.createElement)return!1;var r=Te.createElement("video");if(!J.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(r.canPlayType(n))})}();Cr.supportsNativeDash=function(){return!Te||!Te.createElement||!J.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Te.createElement("video").canPlayType("application/dash+xml"))}();Cr.supportsTypeNatively=function(r){return r==="hls"?Cr.supportsNativeHls:r==="dash"?Cr.supportsNativeDash:!1};Cr.isSupported=function(){return J.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var M6=J.getComponent("Component"),i0=function(r){Ee(e,r);function e(i,t,a){var s;if(s=r.call(this,t,J.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&J.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=Xn("VhsHandler"),t.options_&&t.options_.playerId){var l=J(t.options_.playerId);l.hasOwnProperty("hls")||Object.defineProperty(l,"hls",{get:function(){return J.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),Ye(s)},configurable:!0}),l.hasOwnProperty("vhs")||Object.defineProperty(l,"vhs",{get:function(){return J.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),Ye(s)},configurable:!0}),l.hasOwnProperty("dash")||Object.defineProperty(l,"dash",{get:function(){return J.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ye(s)},configurable:!0}),s.player_=l}if(s.tech_=t,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(Te,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(c){var f=Te.fullscreenElement||Te.webkitFullscreenElement||Te.mozFullScreenElement||Te.msFullscreenElement;f&&f.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var n=e.prototype;return n.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=hE();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=pr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===pr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]<"u"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(t,a){var s=this;if(!!t){this.setOptions_(),this.options_.src=F6(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Cr,this.options_.sourceType=C2(a),this.options_.seekTo=function(f){s.tech_.setCurrentTime(f)},this.options_.smoothQualityChange&&J.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new _6(this.options_);var l=J.mergeOptions({liveRangeSafeTimeDelta:ci},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new S6(l),this.masterPlaylistController_.on("error",function(){var f=J.players[s.tech_.options_.playerId],h=s.masterPlaylistController_.error;typeof h=="object"&&!h.code?h.code=3:typeof h=="string"&&(h={message:h,code:3}),f.error(h)});var c=this.options_.experimentalBufferBasedABR?Cr.movingAverageBandwidthSelector(.55):Cr.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):c.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Cr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(h){this.masterPlaylistController_.selectPlaylist=h.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(h){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=h,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var h=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,v=V.navigator.connection||V.navigator.mozConnection||V.navigator.webkitConnection,y=1e7;if(this.options_.useNetworkInformationApi&&v){var x=v.downlink*1e3*1e3;x>=y&&h>=y?h=Math.max(h,x):h=x}return h},set:function(h){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=h,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var h=1/(this.bandwidth||1),v;this.throughput>0?v=1/this.throughput:v=0;var y=Math.floor(1/(h+v));return y},set:function(){J.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return us(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return us(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&N6({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){T6(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=V.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),L6({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){t.logger_("error while creating EME key session",s),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=R6({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(l){if(l.status==="output-restricted"){var c=t.masterPlaylistController_.master();if(!(!c||!c.playlists)){var f=[];if(c.playlists.forEach(function(v){v&&v.attributes&&v.attributes.RESOLUTION&&v.attributes.RESOLUTION.height>=720&&(!v.excludeUntil||v.excludeUntil<1/0)&&(v.excludeUntil=1/0,f.push(v))}),f.length){var h;(h=J.log).warn.apply(h,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(f)),t.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),J.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},n.setupQualityLevels_=function(){var t=this,a=J.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){P6(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){fE(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":cE,"mux.js":C6,"mpd-parser":A6,"m3u8-parser":D6,"aes-decrypter":k6}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return lE.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&V.URL.revokeObjectURL&&(V.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},n.convertToProgramTime=function(t,a){return WN({playlist:this.masterPlaylistController_.media(),time:t,callback:a})},n.seekToProgramTime=function(t,a,s,l){return s===void 0&&(s=!0),l===void 0&&(l=2),GN({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:l,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(M6),El={name:"videojs-http-streaming",VERSION:cE,canHandleSource:function(e,n){n===void 0&&(n={});var i=J.mergeOptions(J.options,n);return El.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var t=J.mergeOptions(J.options,i);return n.vhs=new i0(e,n,t),J.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return J.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=H1(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){var i=C2(e);if(!i)return"";var t=El.getOverrideNative(n),a=Cr.supportsTypeNatively(i),s=!a||t;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var n=e,i=n.vhs,t=i===void 0?{}:i,a=n.hls,s=a===void 0?{}:a,l=!(J.browser.IS_ANY_SAFARI||J.browser.IS_IOS),c=t.overrideNative,f=c===void 0?l:c,h=s.overrideNative,v=h===void 0?!1:h;return v||f}},B6=function(){return md("avc1.4d400d,mp4a.40.2")};B6()&&J.getTech("Html5").registerSourceHandler(El,0);J.VhsHandler=i0;Object.defineProperty(J,"HlsHandler",{get:function(){return J.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),i0},configurable:!0});J.VhsSourceHandler=El;Object.defineProperty(J,"HlsSourceHandler",{get:function(){return J.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),El},configurable:!0});J.Vhs=Cr;Object.defineProperty(J,"Hls",{get:function(){return J.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Cr},configurable:!0});J.use||(J.registerComponent("Hls",Cr),J.registerComponent("Vhs",Cr));J.options.vhs=J.options.vhs||{};J.options.hls=J.options.hls||{};if(!J.getPlugin||!J.getPlugin("reloadSourceOnError")){var U6=J.registerPlugin||J.plugin;U6("reloadSourceOnError",w6)}function ug(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(i=Object.getOwnPropertySymbols(r);t<i.length;t++)e.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(r,i[t])&&(n[i[t]]=r[i[t]])}return n}var j6={src:{type:String,onChange:function(r,e){return r.src(e)}},width:{type:Number,onChange:function(r,e){return r.width(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.width())})}},height:{type:Number,onChange:function(r,e){return r.height(e)},onEvent:function(r,e){r.on(["playerresize","resize"],function(){return e(r.height())})}},preload:{type:String,onChange:function(r,e){return r.preload(e)}},loop:{type:Boolean,onChange:function(r,e){return r.loop(e)}},muted:{type:Boolean,onChange:function(r,e){return r.muted(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.muted())})}},poster:{type:String,onChange:function(r,e){return r.poster(e)},onEvent:function(r,e){return r.on("posterchange",function(){return e(r.poster())})}},controls:{type:Boolean,onChange:function(r,e){return r.controls(e)},onEvent:function(r,e){r.on("controlsenabled",function(){return e(!0)}),r.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(r,e){return r.autoplay(e)}},crossorigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(r,e){return r.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}},playsInline:{type:Boolean,onChange:function(r,e){return r.playsinline(e)}}},H6={id:{type:String},sources:{type:Array,onChange:function(r,e){return r.src(e)}},tracks:{type:Array,onChange:function(r,e){for(var n=r.remoteTextTracks(),i=(n==null?void 0:n.length)||0;i--;)r.removeRemoteTextTrack(n[i]);r.ready(function(){e.forEach(function(t){return r.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(r,e){return r.textTrackSettings.options(e)}},language:{type:String,onChange:function(r,e){return r.language(e)},onEvent:function(r,e){return r.on("languagechange",function(){return e(r.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(r,e){return r.playbackRates(e!=null?e:[])},onEvent:function(r,e){r.on("playbackrateschange",function(){return e(r.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(r,e){return r.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(r,e){return r.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(r,e){return r.responsive(e)}},breakpoints:{type:Object,onChange:function(r,e){return r.breakpoints(e)}},fluid:{type:Boolean,onChange:function(r,e){return r.fluid(e)}},fill:{type:Boolean,onChange:function(r,e){return r.fill(e)}},aspectRatio:{type:String,onChange:function(r,e){return r.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(r,e){return r.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},V6={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(r,e){return r.controlBar.options(e)}}},q6={html5:{type:Object}},$6={volume:{type:Number,onChange:function(r,e){return r.volume(e)},onEvent:function(r,e){return r.on("volumechange",function(){return e(r.volume())})}},playbackRate:{type:Number,onChange:function(r,e){r.playbackRate(e),r.defaultPlaybackRate(e)},onEvent:function(r,e){r.on("ratechange",function(){e(r.playbackRate())})}},options:{type:Object}},wl=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j6),H6),V6),q6),$6),a0=Object.keys(wl),pE=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),gE=Object.keys(pE);Object.values(pE);var lg=function(r){var e,n=r==null?void 0:r.trim().replace(/\s+/g," ");return n&&(e=n.split(" "))!==null&&e!==void 0?e:[]},cg={src:{getter:function(r){return r.src()}},currentSrc:{getter:function(r){return r.currentSrc()}},currentSource:{getter:function(r){return r.currentSource()}},width:{events:["resize","playerresize"],getter:function(r){return r.width()}},height:{events:["resize","playerresize"],getter:function(r){return r.height()}},currentWidth:{events:["resize","playerresize"],getter:function(r){return r.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(r){return r.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(r){return r.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(r){return r.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(r){return r.controls()}},volume:{events:["volumechange"],getter:function(r){return r.volume()}},muted:{events:["volumechange"],getter:function(r){return r.muted()}},poster:{events:["posterchange"],getter:function(r){return r.poster()}},seeking:{events:["seeking"],getter:function(r){return r.seeking()}},paused:{events:["pause","play","playing"],getter:function(r){return r.paused()}},ended:{events:["ended","play"],getter:function(r){return r.ended()}},currentTime:{events:["timeupdate"],getter:function(r){return r.currentTime()}},duration:{events:["durationchange"],getter:function(r){return r.duration()}},playbackRate:{events:["ratechange"],getter:function(r){return r.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(r){return r.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(r){return r.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(r){return r.isInPictureInPicture()}},isLive:{getter:function(r){var e;return(e=r.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(r){return r.language()}},userActive:{events:["useractive","userinactive"],getter:function(r){return r.userActive()}},readyState:{events:["loadeddata"],getter:function(r){return r.readyState()}},networkState:{events:["loadeddata","error"],getter:function(r){return r.networkState()}},error:{events:["loadeddata","error"],getter:function(r){return r.error()}},buffered:{events:["progress"],getter:function(r){return r.buffered()}},bufferedPercent:{events:["progress"],getter:function(r){return r.bufferedPercent()}},played:{events:["timeupdate"],getter:function(r){return r.played()}},seekable:{events:["progress","seeked"],getter:function(r){return r.seekable()}},audioTracks:{getter:function(r){var e;return(e=r.audioTracks)===null||e===void 0?void 0:e.call(r)}},videoTracks:{getter:function(r){var e;return(e=r.videoTracks)===null||e===void 0?void 0:e.call(r)}},textTracks:{getter:function(r){var e;return(e=r.textTracks)===null||e===void 0?void 0:e.call(r)}}},mE=a0.filter(function(r){return Boolean(wl[r].onEvent)}),vE=function(r){return"update:"+r},W6=gE.concat(mE.map(vE)),G6=a0.reduce(function(r,e){var n,i=wl[e],t=Array.isArray(i.type)?i.type:[i.type],a=Object.assign({},i);return t.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},r),((n={})[e]=a,n))},{}),Td=Dl({name:"VueVideoPlayer",props:Object.assign(Object.assign({},G6),{class:[String,Object,Array]}),emits:W6.concat(["mounted"],["unmounted"]),setup:function(r,e){var n=ht(r),i=n.class,t=ug(n,["class"]),a=od(!1),s=od(null),l=od(null),c=Hr(function(){return l.value?l.value.player:null}),f=zn(null),h=Hr(function(){return f.value?po(f.value):null});return kl(function(){var v,y=function(x){var C,k=x.props,P=x.element,R=x.className,F=x.onEvent,B=k.options;B===void 0&&(B={});var H=ug(k,["options"]),K={};Object.keys(H).forEach(function(ce){var Fe=H[ce];Fe!==void 0&&(K[ce]=Fe)});var Y=Object.assign(Object.assign({},K),B),Q=Y.volume,U=Y.playbackRate,z=ug(Y,["volume","playbackRate"]),Z=Object.assign(Object.assign({},z),{playsinline:(C=z.playsinline)!==null&&C!==void 0?C:z.playsInline}),se=J(P,Z,function(){var ce=this;gE.forEach(function(Fe){ce.on(Fe,function(Ue){F(Fe,Ue)})}),z.src&&!z.sources&&this.src(z.src),Q&&Number.isFinite(Q)&&this.volume(Q),U&&Number.isFinite(U)&&(this.defaultPlaybackRate(U),setTimeout(function(){ce.playbackRate(U)},0))});R&&lg(R).map(function(ce){return se.addClass(ce)});var te=function(ce){var Fe;(Fe=se.options)===null||Fe===void 0||Fe.call(se,ce!=null?ce:{})};return{player:se,dispose:function(){return se.dispose()},updateClassNames:function(ce,Fe){lg(ce).map(function(Ue){return se.removeClass(Ue)}),lg(Fe).map(function(Ue){return se.addClass(Ue)})},updateOptions:te,updatePropOption:function(ce,Fe){var Ue,ve,De;te(((Ue={})[ce]=Fe,Ue)),(De=(ve=wl[ce])===null||ve===void 0?void 0:ve.onChange)===null||De===void 0||De.call(ve,se,Fe)}}}({element:s.value,props:t,onEvent:e.emit});v={player:y.player,onEvent:e.emit},mE.forEach(function(x){var C,k;(k=(C=wl[x])===null||C===void 0?void 0:C.onEvent)===null||k===void 0||k.call(C,v.player,function(P){v.onEvent(vE(x),P)})}),fi(function(){return r.class},function(x,C){var k=so(C),P=so(x);y.updateClassNames(k,P)},{immediate:!0}),fi(function(){return r.options},function(x){return y.updateOptions(x!=null?x:{})},{deep:!0}),a0.filter(function(x){return x!=="options"}).forEach(function(x){fi(function(){return r[x]},function(C){return y.updatePropOption(x,C)},{deep:!0})}),function(x,C){var k=Object.keys(cg),P=k.reduce(function(F,B){var H;return Object.assign(Object.assign({},F),((H={})[B]=cg[B].getter(x),H))},{playing:!1,waiting:!1}),R=function(F,B){P[F]=B,C.onUpdate(F,B,Object.assign({},P))};x.on(["pause","ended"],function(){R("playing",!1)}),x.on(["play","playing"],function(){R("playing",!0)}),x.on("waiting",function(){R("waiting",!0);var F=x.currentTime(),B=function(){F!==x.currentTime()&&(R("waiting",!1),x.off("timeupdate",B))};x.on("timeupdate",B)}),k.forEach(function(F){var B,H=cg[F];x.on(["loadstart","loadedmetadata"].concat((B=H.events)!==null&&B!==void 0?B:[]),function(){R(F,H.getter(x))})}),C.onInit(Object.assign({},P))}(y.player,{onInit:function(x){f.value=x},onUpdate:function(x,C){f.value&&(f.value[x]=C)}}),l.value=y,a.value=!0,e.emit("mounted",{video:s.value,player:c.value,state:h.value})}),hf(function(){l.value&&(l.value.dispose(),l.value=null,f.value=null,e.emit("unmounted"))}),function(){var v,y;return cl("div",{"data-vjs-player":"",class:so(i)},[cl("video",{class:["video-js","v-video-player"],ref:s}),a.value&&((y=(v=e.slots).default)===null||y===void 0?void 0:y.call(v,{video:s.value,player:c.value,state:h.value}))])}}}),z6=function(r){r.component("VideoPlayer",Td),r.component(Td.name,Td)},K6={VideoPlayer:Td,install:z6};const X6=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function _E(){const e=document.documentElement.clientWidth||document.body.clientWidth;document.documentElement.style.fontSize=e/390*100+"px"}_E();window.onresize=_E;const{VITE_GOOGLE_ID:J6}={VITE_USER_NODE_ENV:"production",VITE_API_URL:"https://api-mate.flyai.com",VITE_URL_URL:"https://matelink.com",VITE_GOOGLE_ID:"865493212580-9c83sstcubj35jid46s6i9mej6udsct0.apps.googleusercontent.com",VITE_SENSORS:"MateLink",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},Ts=Dk(VP);Ts.config.globalProperties.$sensors=Km();Ts.config.globalProperties.$isMobile=X6;const yE=Ok();yE.use(IO);Ts.use(yE);Ts.use(Xm);Ts.use(FO,{clientId:J6});Ts.use(K6);Ts.mount("#app");export{iD as $,TM as A,rM as B,so as C,gM as D,sf as E,hn as F,bM as G,sM as H,Fm as I,nM as J,aM as K,po as L,oD as M,od as N,WT as O,gS as P,hf as Q,fM as R,Am as S,uM as T,ji as U,jD as V,iM as W,dM as X,mn as Y,ll as Z,oM as _,Al as a,aD as a0,f2 as a1,Bk as a2,mM as a3,gf as a4,uD as a5,Om as a6,Em as a7,hM as a8,kO as a9,pl as aa,vM as ab,yM as ac,_M as ad,lM as ae,AO as b,Hr as c,Dl as d,mf as e,FD as f,PO as g,cl as h,tn as i,Nr as j,GA as k,fS as l,Er as m,Q6 as n,kl as o,ud as p,Bm as q,zn as r,eM as s,Z6 as t,pM as u,tM as v,fi as w,UD as x,RO as y,cM as z};
